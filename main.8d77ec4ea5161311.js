"use strict";(self.webpackChunkestadisticas=self.webpackChunkestadisticas||[]).push([[179],{613:()=>{function Te(t){return"function"==typeof t}function ju(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const Bd=ju(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function zo(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class Un{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const s of n)s.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(Te(r))try{r()}catch(s){e=s instanceof Bd?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{mA(s)}catch(o){e=e??[],o instanceof Bd?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Bd(e)}}add(e){var n;if(e&&e!==this)if(this.closed)mA(e);else{if(e instanceof Un){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&zo(n,e)}remove(e){const{_finalizers:n}=this;n&&zo(n,e),e instanceof Un&&e._removeParent(this)}}Un.EMPTY=(()=>{const t=new Un;return t.closed=!0,t})();const pA=Un.EMPTY;function gA(t){return t instanceof Un||t&&"closed"in t&&Te(t.remove)&&Te(t.add)&&Te(t.unsubscribe)}function mA(t){Te(t)?t():t.unsubscribe()}const Os={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},$d={setTimeout(t,e,...n){const{delegate:r}=$d;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=$d;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function yA(t){$d.setTimeout(()=>{const{onUnhandledError:e}=Os;if(!e)throw t;e(t)})}function _A(){}const VG=Nm("C",void 0,void 0);function Nm(t,e,n){return{kind:t,value:e,error:n}}let Fs=null;function jd(t){if(Os.useDeprecatedSynchronousErrorHandling){const e=!Fs;if(e&&(Fs={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=Fs;if(Fs=null,n)throw r}}else t()}class km extends Un{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,gA(e)&&e.add(this)):this.destination=zG}static create(e,n,r){return new Hu(e,n,r)}next(e){this.isStopped?Om(function BG(t){return Nm("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?Om(function UG(t){return Nm("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Om(VG,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const jG=Function.prototype.bind;function Pm(t,e){return jG.call(t,e)}class HG{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Hd(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Hd(r)}else Hd(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Hd(n)}}}class Hu extends km{constructor(e,n,r){let i;if(super(),Te(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&Os.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Pm(e.next,s),error:e.error&&Pm(e.error,s),complete:e.complete&&Pm(e.complete,s)}):i=e}this.destination=new HG(i)}}function Hd(t){Os.useDeprecatedSynchronousErrorHandling?function $G(t){Os.useDeprecatedSynchronousErrorHandling&&Fs&&(Fs.errorThrown=!0,Fs.error=t)}(t):yA(t)}function Om(t,e){const{onStoppedNotification:n}=Os;n&&$d.setTimeout(()=>n(t,e))}const zG={closed:!0,next:_A,error:function GG(t){throw t},complete:_A},Fm="function"==typeof Symbol&&Symbol.observable||"@@observable";function Ls(t){return t}function vA(t){return 0===t.length?Ls:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}let He=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const s=function KG(t){return t&&t instanceof km||function WG(t){return t&&Te(t.next)&&Te(t.error)&&Te(t.complete)}(t)&&gA(t)}(n)?n:new Hu(n,r,i);return jd(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=wA(r))((i,s)=>{const o=new Hu({next:a=>{try{n(a)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[Fm](){return this}pipe(...n){return vA(n)(this)}toPromise(n){return new(n=wA(n))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function wA(t){var e;return null!==(e=t??Os.Promise)&&void 0!==e?e:Promise}const QG=ju(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let ai=(()=>{class t extends He{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new IA(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new QG}next(n){jd(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){jd(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){jd(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:s}=this;return r||i?pA:(this.currentObservers=null,s.push(n),new Un(()=>{this.currentObservers=null,zo(s,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){const n=new He;return n.source=this,n}}return t.create=(e,n)=>new IA(e,n),t})();class IA extends ai{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:pA}}function EA(t){return Te(t?.lift)}function Ot(t){return e=>{if(EA(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Ct(t,e,n,r,i){return new YG(t,e,n,r,i)}class YG extends km{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function ve(t,e){return Ot((n,r)=>{let i=0;n.subscribe(Ct(r,s=>{r.next(t.call(e,s,i++))}))})}function Um(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function zi(t){return this instanceof zi?(this.v=t,this):new zi(t)}function TA(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function $m(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,u){!function i(s,o,a,u){Promise.resolve(u).then(function(c){s({value:c,done:a})},o)}(a,u,(o=t[s](o)).done,o.value)})}}}const SA=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function AA(t){return Te(t?.then)}function MA(t){return Te(t[Fm])}function xA(t){return Symbol.asyncIterator&&Te(t?.[Symbol.asyncIterator])}function RA(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const NA=function pz(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function kA(t){return Te(t?.[NA])}function PA(t){return function bA(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(p,m){s.push([h,f,p,m])>1||a(h,f)})})}function a(h,f){try{!function u(h){h.value instanceof zi?Promise.resolve(h.value.v).then(c,l):d(s[0][2],h)}(r[h](f))}catch(p){d(s[0][3],p)}}function c(h){a("next",h)}function l(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield zi(n.read());if(i)return yield zi(void 0);yield yield zi(r)}}finally{n.releaseLock()}})}function OA(t){return Te(t?.getReader)}function Jn(t){if(t instanceof He)return t;if(null!=t){if(MA(t))return function gz(t){return new He(e=>{const n=t[Fm]();if(Te(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(SA(t))return function mz(t){return new He(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(AA(t))return function yz(t){return new He(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,yA)})}(t);if(xA(t))return FA(t);if(kA(t))return function _z(t){return new He(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(OA(t))return function vz(t){return FA(PA(t))}(t)}throw RA(t)}function FA(t){return new He(e=>{(function wz(t,e){var n,r,i,s;return function DA(t,e,n,r){return new(n||(n=Promise))(function(s,o){function a(l){try{c(r.next(l))}catch(d){o(d)}}function u(l){try{c(r.throw(l))}catch(d){o(d)}}function c(l){l.done?s(l.value):function i(s){return s instanceof n?s:new n(function(o){o(s)})}(l.value).then(a,u)}c((r=r.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=TA(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function ui(t,e,n,r=0,i=!1){const s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function Ft(t,e,n=1/0){return Te(e)?Ft((r,i)=>ve((s,o)=>e(r,s,i,o))(Jn(t(r,i))),n):("number"==typeof e&&(n=e),Ot((r,i)=>function Iz(t,e,n,r,i,s,o,a){const u=[];let c=0,l=0,d=!1;const h=()=>{d&&!u.length&&!c&&e.complete()},f=m=>c<r?p(m):u.push(m),p=m=>{s&&e.next(m),c++;let y=!1;Jn(n(m,l++)).subscribe(Ct(e,v=>{i?.(v),s?f(v):e.next(v)},()=>{y=!0},void 0,()=>{if(y)try{for(c--;u.length&&c<r;){const v=u.shift();o?ui(e,o,()=>p(v)):p(v)}h()}catch(v){e.error(v)}}))};return t.subscribe(Ct(e,f,()=>{d=!0,h()})),()=>{a?.()}}(r,i,t,n)))}function qo(t=1/0){return Ft(Ls,t)}const Ar=new He(t=>t.complete());function jm(t){return t[t.length-1]}function LA(t){return Te(jm(t))?t.pop():void 0}function Gu(t){return function Dz(t){return t&&Te(t.schedule)}(jm(t))?t.pop():void 0}function Gd(t,e=0){return Ot((n,r)=>{n.subscribe(Ct(r,i=>ui(r,t,()=>r.next(i),e),()=>ui(r,t,()=>r.complete(),e),i=>ui(r,t,()=>r.error(i),e)))})}function zd(t,e=0){return Ot((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function VA(t,e){if(!t)throw new Error("Iterable cannot be null");return new He(n=>{ui(n,e,()=>{const r=t[Symbol.asyncIterator]();ui(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function bt(t,e){return e?function xz(t,e){if(null!=t){if(MA(t))return function bz(t,e){return Jn(t).pipe(zd(e),Gd(e))}(t,e);if(SA(t))return function Sz(t,e){return new He(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(AA(t))return function Tz(t,e){return Jn(t).pipe(zd(e),Gd(e))}(t,e);if(xA(t))return VA(t,e);if(kA(t))return function Az(t,e){return new He(n=>{let r;return ui(n,e,()=>{r=t[NA](),ui(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void n.error(o)}s?n.complete():n.next(i)},0,!0)}),()=>Te(r?.return)&&r.return()})}(t,e);if(OA(t))return function Mz(t,e){return VA(PA(t),e)}(t,e)}throw RA(t)}(t,e):Jn(t)}function Hm(t,e,...n){if(!0===e)return void t();if(!1===e)return;const r=new Hu({next:()=>{r.unsubscribe(),t()}});return Jn(e(...n)).subscribe(r)}function we(t){for(let e in t)if(t[e]===we)return e;throw Error("Could not find renamed property on target object.")}function Gm(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function mt(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(mt).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function zm(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const kz=we({__forward_ref__:we});function xe(t){return t.__forward_ref__=xe,t.toString=function(){return mt(this())},t}function X(t){return qm(t)?t():t}function qm(t){return"function"==typeof t&&t.hasOwnProperty(kz)&&t.__forward_ref__===xe}function Wm(t){return t&&!!t.\u0275providers}const UA="https://g.co/ng/security#xss";class b extends Error{constructor(e,n){super(function qd(t,e){return`NG0${Math.abs(t)}${e?": "+e:""}`}(e,n)),this.code=e}}function Z(t){return"string"==typeof t?t:null==t?"":String(t)}function Wd(t,e){throw new b(-201,!1)}function Zn(t,e){null==t&&function _e(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function j(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Lt(t){return{providers:t.providers||[],imports:t.imports||[]}}function Kd(t){return BA(t,Qd)||BA(t,jA)}function BA(t,e){return t.hasOwnProperty(e)?t[e]:null}function $A(t){return t&&(t.hasOwnProperty(Km)||t.hasOwnProperty($z))?t[Km]:null}const Qd=we({\u0275prov:we}),Km=we({\u0275inj:we}),jA=we({ngInjectableDef:we}),$z=we({ngInjectorDef:we});var H=(()=>((H=H||{})[H.Default=0]="Default",H[H.Host=1]="Host",H[H.Self=2]="Self",H[H.SkipSelf=4]="SkipSelf",H[H.Optional=8]="Optional",H))();let Qm;function En(t){const e=Qm;return Qm=t,e}function GA(t,e,n){const r=Kd(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&H.Optional?null:void 0!==e?e:void Wd(mt(t))}const Re=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),zu={},Ym="__NG_DI_FLAG__",Yd="ngTempTokenPath",Hz=/\n/gm,zA="__source";let Wo;function Wi(t){const e=Wo;return Wo=t,e}function qz(t,e=H.Default){if(void 0===Wo)throw new b(-203,!1);return null===Wo?GA(t,void 0,e):Wo.get(t,e&H.Optional?null:void 0,e)}function $(t,e=H.Default){return(function HA(){return Qm}()||qz)(X(t),e)}function V(t,e=H.Default){return $(t,Xd(e))}function Xd(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Xm(t){const e=[];for(let n=0;n<t.length;n++){const r=X(t[n]);if(Array.isArray(r)){if(0===r.length)throw new b(900,!1);let i,s=H.Default;for(let o=0;o<r.length;o++){const a=r[o],u=Wz(a);"number"==typeof u?-1===u?i=a.token:s|=u:i=a}e.push($(i,s))}else e.push($(r))}return e}function qu(t,e){return t[Ym]=e,t.prototype[Ym]=e,t}function Wz(t){return t[Ym]}function ci(t){return{toString:t}.toString()}var Mr=(()=>((Mr=Mr||{})[Mr.OnPush=0]="OnPush",Mr[Mr.Default=1]="Default",Mr))(),$n=(()=>{return(t=$n||($n={}))[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",$n;var t})();const li={},ge=[],Jd=we({\u0275cmp:we}),Jm=we({\u0275dir:we}),Zm=we({\u0275pipe:we}),WA=we({\u0275mod:we}),di=we({\u0275fac:we}),Wu=we({__NG_ELEMENT_ID__:we}),KA=we({__NG_ENV_ID__:we});function QA(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function ey(t,e,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{const s=i,o=n[++r];XA(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function YA(t){return 3===t||4===t||6===t}function XA(t){return 64===t.charCodeAt(0)}function Ku(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||JA(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function JA(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const a=t[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<t.length;){const a=t[s];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}const ZA="ng-template";function Yz(t,e,n){let r=0,i=!0;for(;r<t.length;){let s=t[r++];if("string"==typeof s&&i){const o=t[r++];if(n&&"class"===s&&-1!==QA(o.toLowerCase(),e,0))return!0}else{if(1===s){for(;r<t.length&&"string"==typeof(s=t[r++]);)if(s.toLowerCase()===e)return!0;return!1}"number"==typeof s&&(i=!1)}}return!1}function eM(t){return 4===t.type&&t.value!==ZA}function Xz(t,e,n){return e===(4!==t.type||n?t.value:ZA)}function Jz(t,e,n){let r=4;const i=t.attrs||[],s=function t4(t){for(let e=0;e<t.length;e++)if(YA(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!Xz(t,u,n)||""===u&&1===e.length){if(lr(r))return!1;o=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!Yz(t.attrs,c,n)){if(lr(r))return!1;o=!0}continue}const d=Zz(8&r?"class":u,i,eM(t),n);if(-1===d){if(lr(r))return!1;o=!0;continue}if(""!==c){let h;h=d>s?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==QA(f,c,0)||2&r&&c!==h){if(lr(r))return!1;o=!0}}}}else{if(!o&&!lr(r)&&!lr(u))return!1;if(o&&lr(u))continue;o=!1,r=u|1&r}}return lr(r)||o}function lr(t){return 0==(1&t)}function Zz(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){const o=e[i];if(o===t)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function n4(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function tM(t,e,n=!1){for(let r=0;r<e.length;r++)if(Jz(t,e[r],n))return!0;return!1}function nM(t,e){return t?":not("+e.trim()+")":e}function i4(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!lr(o)&&(e+=nM(s,i),i=""),r=o,s=s||!lr(r);n++}return""!==i&&(e+=nM(s,i)),e}function Ko(t){return ci(()=>{const e=iM(t),n={...e,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Mr.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,data:t.data||{},encapsulation:t.encapsulation||$n.Emulated,styles:t.styles||ge,_:null,schemas:t.schemas||null,tView:null,id:""};sM(n);const r=t.dependencies;return n.directiveDefs=Zd(r,!1),n.pipeDefs=Zd(r,!0),n.id=function h4(t){let e=0;const n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(n),n})}function u4(t){return me(t)||Xt(t)}function c4(t){return null!==t}function Yt(t){return ci(()=>({type:t.type,bootstrap:t.bootstrap||ge,declarations:t.declarations||ge,imports:t.imports||ge,exports:t.exports||ge,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function rM(t,e){if(null==t)return li;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}function Q(t){return ci(()=>{const e=iM(t);return sM(e),e})}function me(t){return t[Jd]||null}function Xt(t){return t[Jm]||null}function Cn(t){return t[Zm]||null}function jn(t,e){const n=t[WA]||null;if(!n&&!0===e)throw new Error(`Type ${mt(t)} does not have '\u0275mod' property.`);return n}function iM(t){const e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,exportAs:t.exportAs||null,standalone:!0===t.standalone,selectors:t.selectors||ge,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:rM(t.inputs,e),outputs:rM(t.outputs)}}function sM(t){t.features?.forEach(e=>e(t))}function Zd(t,e){if(!t)return null;const n=e?Cn:u4;return()=>("function"==typeof t?t():t).map(r=>n(r)).filter(c4)}const yt=0,k=1,ie=2,Ge=3,dr=4,Vs=5,Jt=6,Yo=7,Ye=8,Xo=9,Us=10,ne=11,Qu=12,oM=13,Jo=14,ct=15,Yu=16,Zo=17,xr=18,Xu=19,aM=20,Ki=21,hi=22,eh=23,th=24,ce=25,ty=1,uM=2,Rr=7,nh=8,ea=9,Vt=11;function Hn(t){return Array.isArray(t)&&"object"==typeof t[ty]}function bn(t){return Array.isArray(t)&&!0===t[ty]}function ny(t){return 0!=(4&t.flags)}function Bs(t){return t.componentOffset>-1}function rh(t){return 1==(1&t.flags)}function hr(t){return!!t.template}function ry(t){return 0!=(512&t[ie])}function $s(t,e){return t.hasOwnProperty(di)?t[di]:null}let y4=Re.WeakRef??class m4{constructor(e){this.ref=e}deref(){return this.ref}},v4=0,Nr=null,ih=!1;function Tt(t){const e=Nr;return Nr=t,e}class fM{constructor(){this.id=v4++,this.ref=function _4(t){return new y4(t)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[e,n]of this.producers){const r=n.producerNode.deref();if(void 0!==r&&n.atTrackingVersion===this.trackingVersion){if(r.producerPollStatus(n.seenValueVersion))return!0}else this.producers.delete(e),r?.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const e=ih;ih=!0;try{for(const[n,r]of this.consumers){const i=r.consumerNode.deref();void 0!==i&&i.trackingVersion===r.atTrackingVersion?i.onConsumerDependencyMayHaveChanged():(this.consumers.delete(n),i?.producers.delete(this.id))}}finally{ih=e}}producerAccessed(){if(ih)throw new Error("");if(null===Nr)return;let e=Nr.producers.get(this.id);void 0===e?(e={consumerNode:Nr.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:Nr.trackingVersion},Nr.producers.set(this.id,e),this.consumers.set(Nr.id,e)):(e.seenValueVersion=this.valueVersion,e.atTrackingVersion=Nr.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){return!1!==Nr?.consumerAllowSignalWrites}producerPollStatus(e){return this.valueVersion!==e||(this.onProducerUpdateValueVersion(),this.valueVersion!==e)}}let pM=null;const gM=()=>{};class D4 extends fM{constructor(e,n,r){super(),this.watch=e,this.schedule=n,this.dirty=!1,this.cleanupFn=gM,this.registerOnCleanup=i=>{this.cleanupFn=i},this.consumerAllowSignalWrites=r}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const e=Tt(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=gM,this.watch(this.registerOnCleanup)}finally{Tt(e)}}cleanup(){this.cleanupFn()}}class C4{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function er(){return mM}function mM(t){return t.type.prototype.ngOnChanges&&(t.setInput=T4),b4}function b4(){const t=_M(this),e=t?.current;if(e){const n=t.previous;if(n===li)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function T4(t,e,n,r){const i=this.declaredInputs[n],s=_M(t)||function S4(t,e){return t[yM]=e}(t,{previous:li,current:null}),o=s.current||(s.current={}),a=s.previous,u=a[i];o[i]=new C4(u&&u.currentValue,e,a===li),t[r]=e}er.ngInherit=!0;const yM="__ngSimpleChanges__";function _M(t){return t[yM]||null}const kr=function(t,e,n){};function Pe(t){for(;Array.isArray(t);)t=t[yt];return t}function ah(t,e){return Pe(e[t])}function Tn(t,e){return Pe(e[t.index])}function IM(t,e){return t.data[e]}function Sn(t,e){const n=e[t];return Hn(n)?n:n[yt]}function uh(t){return 128==(128&t[ie])}function Qi(t,e){return null==e?null:t[e]}function EM(t){t[Zo]=0}function k4(t){1024&t[ie]||(t[ie]|=1024,CM(t,1))}function DM(t){1024&t[ie]&&(t[ie]&=-1025,CM(t,-1))}function CM(t,e){let n=t[Ge];if(null===n)return;n[Vs]+=e;let r=n;for(n=n[Ge];null!==n&&(1===e&&1===r[Vs]||-1===e&&0===r[Vs]);)n[Vs]+=e,r=n,n=n[Ge]}const W={lFrame:LM(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function SM(){return W.bindingsEnabled}function D(){return W.lFrame.lView}function he(){return W.lFrame.tView}function Ut(){let t=xM();for(;null!==t&&64===t.type;)t=t.parent;return t}function xM(){return W.lFrame.currentTNode}function Pr(t,e){const n=W.lFrame;n.currentTNode=t,n.isParent=e}function cy(){return W.lFrame.isParent}function ra(){return W.lFrame.bindingIndex++}function z4(t,e){const n=W.lFrame;n.bindingIndex=n.bindingRootIndex=t,dy(e)}function dy(t){W.lFrame.currentDirectiveIndex=t}function fy(t){W.lFrame.currentQueryIndex=t}function W4(t){const e=t[k];return 2===e.type?e.declTNode:1===e.type?t[Jt]:null}function OM(t,e,n){if(n&H.SkipSelf){let i=e,s=t;for(;!(i=i.parent,null!==i||n&H.Host||(i=W4(s),null===i||(s=s[Jo],10&i.type))););if(null===i)return!1;e=i,t=s}const r=W.lFrame=FM();return r.currentTNode=e,r.lView=t,!0}function py(t){const e=FM(),n=t[k];W.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function FM(){const t=W.lFrame,e=null===t?null:t.child;return null===e?LM(t):e}function LM(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function VM(){const t=W.lFrame;return W.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const UM=VM;function gy(){const t=VM();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function dn(){return W.lFrame.selectedIndex}function js(t){W.lFrame.selectedIndex=t}function ze(){const t=W.lFrame;return IM(t.tView,t.selectedIndex)}let $M=!0;function ch(){return $M}function Yi(t){$M=t}function lh(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:c,ngOnDestroy:l}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),c&&((t.viewHooks??=[]).push(n,c),(t.viewCheckHooks??=[]).push(n,c)),null!=l&&(t.destroyHooks??=[]).push(n,l)}}function dh(t,e,n){jM(t,e,3,n)}function hh(t,e,n,r){(3&t[ie])===n&&jM(t,e,n,r)}function my(t,e){let n=t[ie];(3&n)===e&&(n&=4095,n+=1,t[ie]=n)}function jM(t,e,n,r){const s=r??-1,o=e.length-1;let a=0;for(let u=void 0!==r?65535&t[Zo]:0;u<o;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(t[Zo]+=65536),(a<s||-1==s)&&(tq(t,n,e,u),t[Zo]=(4294901760&t[Zo])+u+2),u++}function HM(t,e){kr(4,t,e);const n=Tt(null);try{e.call(t)}finally{Tt(n),kr(5,t,e)}}function tq(t,e,n,r){const i=n[r]<0,s=n[r+1],a=t[i?-n[r]:n[r]];i?t[ie]>>12<t[Zo]>>16&&(3&t[ie])===e&&(t[ie]+=4096,HM(a,s)):HM(a,s)}const ia=-1;class ec{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function GM(t){return t!==ia}function fh(t){return 32767&t}function ph(t,e){let n=function sq(t){return t>>16}(t),r=e;for(;n>0;)r=r[Jo],n--;return r}let _y=!0;function gh(t){const e=_y;return _y=t,e}const zM=255,qM=5;let oq=0;const Or={};function mh(t,e){const n=WM(t,e);if(-1!==n)return n;const r=e[k];r.firstCreatePass&&(t.injectorIndex=e.length,vy(r.data,t),vy(e,null),vy(r.blueprint,null));const i=wy(t,e),s=t.injectorIndex;if(GM(i)){const o=fh(i),a=ph(i,e),u=a[k].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|u[o+c]}return e[s+8]=i,s}function vy(t,e){t.push(0,0,0,0,0,0,0,0,e)}function WM(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function wy(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){if(r=ex(i),null===r)return ia;if(n++,i=i[Jo],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return ia}function Iy(t,e,n){!function aq(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Wu)&&(r=n[Wu]),null==r&&(r=n[Wu]=oq++);const i=r&zM;e.data[t+(i>>qM)]|=1<<i}(t,e,n)}function KM(t,e,n){if(n&H.Optional||void 0!==t)return t;Wd()}function QM(t,e,n,r){if(n&H.Optional&&void 0===r&&(r=null),!(n&(H.Self|H.Host))){const i=t[Xo],s=En(void 0);try{return i?i.get(e,r,n&H.Optional):GA(e,r,n&H.Optional)}finally{En(s)}}return KM(r,0,n)}function YM(t,e,n,r=H.Default,i){if(null!==t){if(2048&e[ie]&&!(r&H.Self)){const o=function hq(t,e,n,r,i){let s=t,o=e;for(;null!==s&&null!==o&&2048&o[ie]&&!(512&o[ie]);){const a=XM(s,o,n,r|H.Self,Or);if(a!==Or)return a;let u=s.parent;if(!u){const c=o[aM];if(c){const l=c.get(n,Or,r);if(l!==Or)return l}u=ex(o),o=o[Jo]}s=u}return i}(t,e,n,r,Or);if(o!==Or)return o}const s=XM(t,e,n,r,Or);if(s!==Or)return s}return QM(e,n,r,i)}function XM(t,e,n,r,i){const s=function lq(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Wu)?t[Wu]:void 0;return"number"==typeof e?e>=0?e&zM:dq:e}(n);if("function"==typeof s){if(!OM(e,t,r))return r&H.Host?KM(i,0,r):QM(e,n,r,i);try{const o=s(r);if(null!=o||r&H.Optional)return o;Wd()}finally{UM()}}else if("number"==typeof s){let o=null,a=WM(t,e),u=ia,c=r&H.Host?e[ct][Jt]:null;for((-1===a||r&H.SkipSelf)&&(u=-1===a?wy(t,e):e[a+8],u!==ia&&ZM(r,!1)?(o=e[k],a=fh(u),e=ph(u,e)):a=-1);-1!==a;){const l=e[k];if(JM(s,a,l.data)){const d=cq(a,e,n,o,r,c);if(d!==Or)return d}u=e[a+8],u!==ia&&ZM(r,e[k].data[a+8]===c)&&JM(s,a,e)?(o=l,a=fh(u),e=ph(u,e)):a=-1}}return i}function cq(t,e,n,r,i,s){const o=e[k],a=o.data[t+8],l=function yh(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,u=t.directiveStart,l=s>>20,h=i?a+l:t.directiveEnd;for(let f=r?a:a+l;f<h;f++){const p=o[f];if(f<u&&n===p||f>=u&&p.type===n)return f}if(i){const f=o[u];if(f&&hr(f)&&f.type===n)return u}return null}(a,o,n,null==r?Bs(a)&&_y:r!=o&&0!=(3&a.type),i&H.Host&&s===a);return null!==l?Hs(e,o,l,a):Or}function Hs(t,e,n,r){let i=t[n];const s=e.data;if(function nq(t){return t instanceof ec}(i)){const o=i;o.resolving&&function Pz(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new b(-200,`Circular dependency in DI detected for ${t}${n}`)}(function ye(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Z(t)}(s[n]));const a=gh(o.canSeeViewProviders);o.resolving=!0;const u=o.injectImpl?En(o.injectImpl):null;OM(t,r,H.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function eq(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=mM(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}(n,s[n],e)}finally{null!==u&&En(u),gh(a),o.resolving=!1,UM()}}return i}function JM(t,e,n){return!!(n[e+(t>>qM)]&1<<t)}function ZM(t,e){return!(t&H.Self||t&H.Host&&e)}class sa{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return YM(this._tNode,this._lView,e,Xd(r),n)}}function dq(){return new sa(Ut(),D())}function Bt(t){return ci(()=>{const e=t.prototype.constructor,n=e[di]||Ey(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const s=i[di]||Ey(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function Ey(t){return qm(t)?()=>{const e=Ey(X(t));return e&&e()}:$s(t)}function ex(t){const e=t[k],n=e.type;return 2===n?e.declTNode:1===n?t[Jt]:null}const aa="__parameters__";function ca(t,e,n){return ci(()=>{const r=function Dy(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(u,c,l){const d=u.hasOwnProperty(aa)?u[aa]:Object.defineProperty(u,aa,{value:[]})[aa];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(o),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function rc(t,e){t.forEach(n=>Array.isArray(n)?rc(n,e):e(n))}function nx(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function vh(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Gn(t,e,n){let r=la(t,e);return r>=0?t[1|r]=n:(r=~r,function yq(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function Cy(t,e){const n=la(t,e);if(n>=0)return t[1|n]}function la(t,e){return function rx(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){const s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}(t,e,1)}const vt=qu(ca("Optional"),8),Ih=qu(ca("SkipSelf"),4);function bh(t){return 128==(128&t.flags)}var An=(()=>((An=An||{})[An.Important=1]="Important",An[An.DashCase=2]="DashCase",An))();const xy=new Map;let $q=0;const Ny="__ngContext__";function Zt(t,e){Hn(e)?(t[Ny]=e[Xu],function Hq(t){xy.set(t[Xu],t)}(e)):t[Ny]=e}let ky;function Py(t,e){return ky(t,e)}function ac(t){const e=t[Ge];return bn(e)?e[Ge]:e}function Oy(t){return Ex(t[Qu])}function Fy(t){return Ex(t[dr])}function Ex(t){for(;null!==t&&!bn(t);)t=t[dr];return t}function fa(t,e,n,r,i){if(null!=r){let s,o=!1;bn(r)?s=r:Hn(r)&&(o=!0,r=r[yt]);const a=Pe(r);0===t&&null!==n?null==i?Sx(e,n,a):Gs(e,n,a,i||null,!0):1===t&&null!==n?Gs(e,n,a,i||null,!0):2===t?function Rh(t,e,n){const r=Mh(t,e);r&&function u3(t,e,n,r){t.removeChild(e,n,r)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function d3(t,e,n,r,i){const s=n[Rr];s!==Pe(n)&&fa(e,t,r,s,i);for(let a=Vt;a<n.length;a++){const u=n[a];cc(u[k],u,t,e,r,s)}}(e,t,s,n,i)}}function Ah(t,e,n){return t.createElement(e,n)}function Cx(t,e){const n=t[ea],r=n.indexOf(e);DM(e),n.splice(r,1)}function Vy(t,e){if(t.length<=Vt)return;const n=Vt+e,r=t[n];if(r){const i=r[Yu];null!==i&&i!==t&&Cx(i,r),e>0&&(t[n-1][dr]=r[dr]);const s=vh(t,Vt+e);!function e3(t,e){cc(t,e,e[ne],2,null,null),e[yt]=null,e[Jt]=null}(r[k],r);const o=s[xr];null!==o&&o.detachView(s[k]),r[Ge]=null,r[dr]=null,r[ie]&=-129}return r}function bx(t,e){if(!(256&e[ie])){const n=e[ne];e[eh]?.destroy(),e[th]?.destroy(),n.destroyNode&&cc(t,e,n,3,null,null),function r3(t){let e=t[Qu];if(!e)return Uy(t[k],t);for(;e;){let n=null;if(Hn(e))n=e[Qu];else{const r=e[Vt];r&&(n=r)}if(!n){for(;e&&!e[dr]&&e!==t;)Hn(e)&&Uy(e[k],e),e=e[Ge];null===e&&(e=t),Hn(e)&&Uy(e[k],e),n=e&&e[dr]}e=n}}(e)}}function Uy(t,e){if(!(256&e[ie])){e[ie]&=-129,e[ie]|=256,function a3(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof ec)){const s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],u=s[o+1];kr(4,a,u);try{u.call(a)}finally{kr(5,a,u)}}else{kr(4,i,s);try{s.call(i)}finally{kr(5,i,s)}}}}}(t,e),function o3(t,e){const n=t.cleanup,r=e[Yo];if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else n[s].call(r[n[s+1]]);null!==r&&(e[Yo]=null);const i=e[Ki];if(null!==i){e[Ki]=null;for(let s=0;s<i.length;s++)(0,i[s])()}}(t,e),1===e[k].type&&e[ne].destroy();const n=e[Yu];if(null!==n&&bn(e[Ge])){n!==e[Ge]&&Cx(n,e);const r=e[xr];null!==r&&r.detachView(t)}!function Gq(t){xy.delete(t[Xu])}(e)}}function By(t,e,n){return function Tx(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[yt];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=t.data[r.directiveStart+i];if(s===$n.None||s===$n.Emulated)return null}return Tn(r,n)}}(t,e.parent,n)}function Gs(t,e,n,r,i){t.insertBefore(e,n,r,i)}function Sx(t,e,n){t.appendChild(e,n)}function Ax(t,e,n,r,i){null!==r?Gs(t,e,n,r,i):Sx(t,e,n)}function Mh(t,e){return t.parentNode(e)}let $y,zy,Rx=function xx(t,e,n){return 40&t.type?Tn(t,n):null};function xh(t,e,n,r){const i=By(t,r,e),s=e[ne],a=function Mx(t,e,n){return Rx(t,e,n)}(r.parent||e[Jt],r,e);if(null!=i)if(Array.isArray(n))for(let u=0;u<n.length;u++)Ax(s,i,n[u],a,!1);else Ax(s,i,n,a,!1);void 0!==$y&&$y(s,r,e,n,i)}function uc(t,e){if(null!==e){const n=e.type;if(3&n)return Tn(e,t);if(4&n)return jy(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return uc(t,r);{const i=t[e.index];return bn(i)?jy(-1,i):Pe(i)}}if(32&n)return Py(e,t)()||Pe(t[e.index]);{const r=kx(t,e);return null!==r?Array.isArray(r)?r[0]:uc(ac(t[ct]),r):uc(t,e.next)}}return null}function kx(t,e){return null!==e?t[ct][Jt].projection[e.projection]:null}function jy(t,e){const n=Vt+t+1;if(n<e.length){const r=e[n],i=r[k].firstChild;if(null!==i)return uc(r,i)}return e[Rr]}function Hy(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],u=n.type;if(o&&0===e&&(a&&Zt(Pe(a),r),n.flags|=2),32!=(32&n.flags))if(8&u)Hy(t,e,n.child,r,i,s,!1),fa(e,t,i,a,s);else if(32&u){const c=Py(n,r);let l;for(;l=c();)fa(e,t,i,l,s);fa(e,t,i,a,s)}else 16&u?Ox(t,e,r,n,i,s):fa(e,t,i,a,s);n=o?n.projectionNext:n.next}}function cc(t,e,n,r,i,s){Hy(n,r,t.firstChild,e,i,s,!1)}function Ox(t,e,n,r,i,s){const o=n[ct],u=o[Jt].projection[r.projection];if(Array.isArray(u))for(let c=0;c<u.length;c++)fa(e,t,i,u[c],s);else{let c=u;const l=o[Ge];bh(r)&&(c.flags|=128),Hy(t,e,c,l,i,s,!0)}}function Fx(t,e,n){""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function Lx(t,e,n){const{mergedAttrs:r,classes:i,styles:s}=n;null!==r&&ey(t,e,r),null!==i&&Fx(t,e,i),null!==s&&function f3(t,e,n){t.setAttribute(e,"style",n)}(t,e,s)}class $x{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${UA})`}}function Xi(t){return t instanceof $x?t.changingThisBreaksApplicationSecurity:t}const S3=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var lt=(()=>((lt=lt||{})[lt.NONE=0]="NONE",lt[lt.HTML=1]="HTML",lt[lt.STYLE=2]="STYLE",lt[lt.SCRIPT=3]="SCRIPT",lt[lt.URL=4]="URL",lt[lt.RESOURCE_URL=5]="RESOURCE_URL",lt))();function Oh(t){const e=function fc(){const t=D();return t&&t[Us].sanitizer}();return e?e.sanitize(lt.URL,t)||"":function dc(t,e){const n=function D3(t){return t instanceof $x&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${UA})`)}return n===e}(t,"URL")?Xi(t):function Wy(t){return(t=String(t)).match(S3)?t:"unsafe:"+t}(Z(t))}class L{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=j({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const pc=new L("ENVIRONMENT_INITIALIZER"),Yx=new L("INJECTOR",-1),Xx=new L("INJECTOR_DEF_TYPES");class Jx{get(e,n=zu){if(n===zu){const r=new Error(`NullInjectorError: No provider for ${mt(e)}!`);throw r.name="NullInjectorError",r}return n}}function B3(...t){return{\u0275providers:eR(0,t),\u0275fromNgModule:!0}}function eR(t,...e){const n=[],r=new Set;let i;return rc(e,s=>{const o=s;Xy(o,n,[],r)&&(i||=[],i.push(o))}),void 0!==i&&tR(i,n),n}function tR(t,e){for(let n=0;n<t.length;n++){const{providers:i}=t[n];Jy(i,s=>{e.push(s)})}}function Xy(t,e,n,r){if(!(t=X(t)))return!1;let i=null,s=$A(t);const o=!s&&me(t);if(s||o){if(o&&!o.standalone)return!1;i=t}else{const u=t.ngModule;if(s=$A(u),!s)return!1;i=u}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const u="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const c of u)Xy(c,e,n,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let c;r.add(i);try{rc(s.imports,l=>{Xy(l,e,n,r)&&(c||=[],c.push(l))})}finally{}void 0!==c&&tR(c,e)}if(!a){const c=$s(i)||(()=>new i);e.push({provide:i,useFactory:c,deps:ge},{provide:Xx,useValue:i,multi:!0},{provide:pc,useValue:()=>$(i),multi:!0})}const u=s.providers;null==u||a||Jy(u,l=>{e.push(l)})}}return i!==t&&void 0!==t.providers}function Jy(t,e){for(let n of t)Wm(n)&&(n=n.\u0275providers),Array.isArray(n)?Jy(n,e):e(n)}const $3=we({provide:String,useValue:we});function Zy(t){return null!==t&&"object"==typeof t&&$3 in t}function zs(t){return"function"==typeof t}const e_=new L("Set Injector scope."),Fh={},H3={};let t_;function Lh(){return void 0===t_&&(t_=new Jx),t_}class mi{}class n_ extends mi{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,i_(e,o=>this.processProvider(o)),this.records.set(Yx,ga(void 0,this)),i.has("environment")&&this.records.set(mi,ga(void 0,this));const s=this.records.get(e_);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(Xx.multi,ge,H.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of e)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const n=Wi(this),r=En(void 0);try{return e()}finally{Wi(n),En(r)}}get(e,n=zu,r=H.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(KA))return e[KA](this);r=Xd(r);const i=Wi(this),s=En(void 0);try{if(!(r&H.SkipSelf)){let a=this.records.get(e);if(void 0===a){const u=function K3(t){return"function"==typeof t||"object"==typeof t&&t instanceof L}(e)&&Kd(e);a=u&&this.injectableDefInScope(u)?ga(r_(e),Fh):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&H.Self?Lh():this.parent).get(e,n=r&H.Optional&&n===zu?null:n)}catch(o){if("NullInjectorError"===o.name){if((o[Yd]=o[Yd]||[]).unshift(mt(e)),i)throw o;return function Kz(t,e,n,r){const i=t[Yd];throw e[zA]&&i.unshift(e[zA]),t.message=function Qz(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let i=mt(e);if(Array.isArray(e))i=e.map(mt).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):mt(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(Hz,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[Yd]=null,t}(o,e,"R3InjectorError",this.source)}throw o}finally{En(s),Wi(i)}}resolveInjectorInitializers(){const e=Wi(this),n=En(void 0);try{const r=this.get(pc.multi,ge,H.Self);for(const i of r)i()}finally{Wi(e),En(n)}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push(mt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new b(205,!1)}processProvider(e){let n=zs(e=X(e))?e:X(e&&e.provide);const r=function z3(t){return Zy(t)?ga(void 0,t.useValue):ga(iR(t),Fh)}(e);if(zs(e)||!0!==e.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=ga(void 0,Fh,!0),i.factory=()=>Xm(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===Fh&&(n.value=H3,n.value=n.factory()),"object"==typeof n.value&&n.value&&function W3(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=X(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){const n=this._onDestroyHooks.indexOf(e);-1!==n&&this._onDestroyHooks.splice(n,1)}}function r_(t){const e=Kd(t),n=null!==e?e.factory:$s(t);if(null!==n)return n;if(t instanceof L)throw new b(204,!1);if(t instanceof Function)return function G3(t){const e=t.length;if(e>0)throw function ic(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}(e,"?"),new b(204,!1);const n=function Bz(t){return t&&(t[Qd]||t[jA])||null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new b(204,!1)}function iR(t,e,n){let r;if(zs(t)){const i=X(t);return $s(i)||r_(i)}if(Zy(t))r=()=>X(t.useValue);else if(function rR(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...Xm(t.deps||[]));else if(function nR(t){return!(!t||!t.useExisting)}(t))r=()=>$(X(t.useExisting));else{const i=X(t&&(t.useClass||t.provide));if(!function q3(t){return!!t.deps}(t))return $s(i)||r_(i);r=()=>new i(...Xm(t.deps))}return r}function ga(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function i_(t,e){for(const n of t)Array.isArray(n)?i_(n,e):n&&Wm(n)?i_(n.\u0275providers,e):e(n)}const Vh=new L("AppId",{providedIn:"root",factory:()=>Q3}),Q3="ng",sR=new L("Platform Initializer"),Ji=new L("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),oR=new L("CSP nonce",{providedIn:"root",factory:()=>function lc(){if(void 0!==zy)return zy;if(typeof document<"u")return document;throw new b(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let uR=(t,e)=>null;function cR(t,e){return uR(t,e)}class i6{}class hR{}class o6{resolveComponentFactory(e){throw function s6(t){const e=Error(`No component factory found for ${mt(t)}.`);return e.ngComponent=t,e}(e)}}let Hh=(()=>{class t{}return t.NULL=new o6,t})();function a6(){return ma(Ut(),D())}function ma(t,e){return new zn(Tn(t,e))}let zn=(()=>{class t{constructor(n){this.nativeElement=n}}return t.__NG_ELEMENT_ID__=a6,t})();class pR{}let yi=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>function c6(){const t=D(),n=Sn(Ut().index,t);return(Hn(n)?n:t)[ne]}(),t})(),l6=(()=>{class t{}return t.\u0275prov=j({token:t,providedIn:"root",factory:()=>null}),t})();class ya{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const gR=new ya("16.0.3"),g_={};function _c(t){for(;t;){t[ie]|=64;const e=ac(t);if(ry(t)&&!e)return t;t=e}return null}function m_(t){return t.ngOriginalError}class qs{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&m_(e);for(;n&&m_(n);)n=m_(n);return n||null}}const _R=new L("",{providedIn:"root",factory:()=>!1});function _i(t){return t instanceof Function?t():t}class DR extends fM{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(e){this._lView=e}onConsumerDependencyMayHaveChanged(){_c(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(e,n,r){const i=Tt(this);this.trackingVersion++;try{e(n,r)}finally{Tt(i)}}destroy(){this.trackingVersion++}}let zh=null;function CR(){return zh??=new DR,zh}function bR(t,e){return t[e]??CR()}function TR(t,e){const n=CR();n.hasReadASignal&&(t[e]=zh,n.lView=t,zh=new DR)}const re={};function hn(t){SR(he(),D(),dn()+t,!1)}function SR(t,e,n,r){if(!r)if(3==(3&e[ie])){const s=t.preOrderCheckHooks;null!==s&&dh(e,s,n)}else{const s=t.preOrderHooks;null!==s&&hh(e,s,0,n)}js(n)}function RR(t,e=null,n=null,r){const i=NR(t,e,n,r);return i.resolveInjectorInitializers(),i}function NR(t,e=null,n=null,r,i=new Set){const s=[n||ge,B3(t)];return r=r||("object"==typeof t?void 0:mt(t)),new n_(s,e||Lh(),r||null,i)}let xn=(()=>{class t{static create(n,r){if(Array.isArray(n))return RR({name:""},r,n,"");{const i=n.name??"";return RR({name:i},n.parent,n.providers,i)}}}return t.THROW_IF_NOT_FOUND=zu,t.NULL=new Jx,t.\u0275prov=j({token:t,providedIn:"any",factory:()=>$(Yx)}),t.__NG_ELEMENT_ID__=-1,t})();function T(t,e=H.Default){const n=D();return null===n?$(t,e):YM(Ut(),n,X(t),e)}function qh(t,e,n,r,i,s,o,a,u,c,l){const d=e.blueprint.slice();return d[yt]=i,d[ie]=140|r,(null!==c||t&&2048&t[ie])&&(d[ie]|=2048),EM(d),d[Ge]=d[Jo]=t,d[Ye]=n,d[Us]=o||t&&t[Us],d[ne]=a||t&&t[ne],d[Xo]=u||t&&t[Xo]||null,d[Jt]=s,d[Xu]=function jq(){return $q++}(),d[hi]=l,d[aM]=c,d[ct]=2==e.type?t[ct]:d,d}function va(t,e,n,r,i){let s=t.data[e];if(null===s)s=function y_(t,e,n,r,i){const s=xM(),o=cy(),u=t.data[e]=function R6(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return function na(){return null!==W.skipHydrationRootTNode}()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=u),null!==s&&(o?null==s.child&&null!==u.parent&&(s.child=u):null===s.next&&(s.next=u,u.prev=s)),u}(t,e,n,r,i),function G4(){return W.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const o=function Zu(){const t=W.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return Pr(s,!0),s}function vc(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function PR(t,e,n,r,i){const s=bR(e,eh),o=dn(),a=2&r;try{if(js(-1),a&&e.length>ce&&SR(t,e,ce,!1),kr(a?2:0,i),a)s.runInContext(n,r,i);else{const c=Tt(null);try{n(r,i)}finally{Tt(c)}}}finally{a&&null===e[eh]&&TR(e,eh),js(o),kr(a?3:1,i)}}function __(t,e,n){if(ny(e)){const r=Tt(null);try{const s=e.directiveEnd;for(let o=e.directiveStart;o<s;o++){const a=t.data[o];a.contentQueries&&a.contentQueries(1,n[o],o)}}finally{Tt(r)}}}function v_(t,e,n){SM()&&(function V6(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;Bs(n)&&function z6(t,e,n){const r=Tn(e,t),o=Wh(t,qh(t,OR(n),null,n.onPush?64:16,r,e,null,t[Us].rendererFactory.createRenderer(r,n),null,null,null));t[e.index]=o}(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||mh(n,e),Zt(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const u=t.data[a],c=Hs(e,t,a,n);Zt(c,e),null!==o&&q6(0,a-i,c,u,0,o),hr(u)&&(Sn(n.index,e)[Ye]=Hs(e,t,a,n))}}(t,e,n,Tn(n,e)),64==(64&n.flags)&&BR(t,e,n))}function w_(t,e,n=Tn){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function OR(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=I_(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function I_(t,e,n,r,i,s,o,a,u,c,l){const d=ce+r,h=d+i,f=function b6(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:re);return n}(d,h),p="function"==typeof c?c():c;return f[k]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:p,incompleteFirstPass:!1,ssrId:l}}let FR=t=>null;function LR(t,e,n,r){for(let i in t)if(t.hasOwnProperty(i)){n=null===n?{}:n;const s=t[i];null===r?VR(n,e,i,s):r.hasOwnProperty(i)&&VR(n,e,r[i],s)}return n}function VR(t,e,n,r){t.hasOwnProperty(n)?t[n].push(e,r):t[n]=[e,r]}function qn(t,e,n,r,i,s,o,a){const u=Tn(e,n);let l,c=e.inputs;!a&&null!=c&&(l=c[r])?(T_(t,n,l,r,i),Bs(e)&&function P6(t,e){const n=Sn(e,t);16&n[ie]||(n[ie]|=64)}(n,e.index)):3&e.type&&(r=function k6(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=o?o(i,e.value||"",r):i,s.setProperty(u,r,i))}function E_(t,e,n,r){if(SM()){const i=null===r?null:{"":-1},s=function B6(t,e){const n=t.directiveRegistry;let r=null,i=null;if(n)for(let s=0;s<n.length;s++){const o=n[s];if(tM(e,o.selectors,!1))if(r||(r=[]),hr(o))if(null!==o.findHostDirectiveDefs){const a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o),D_(t,e,a.length)}else r.unshift(o),D_(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return null===r?null:[r,i]}(t,n);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&UR(t,e,n,o,i,a),i&&function $6(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const s=n[e[i+1]];if(null==s)throw new b(-301,!1);r.push(e[i],s)}}}(n,r,i)}n.mergedAttrs=Ku(n.mergedAttrs,n.attrs)}function UR(t,e,n,r,i,s){for(let c=0;c<r.length;c++)Iy(mh(n,e),t,r[c].type);!function H6(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}(n,t.data.length,r.length);for(let c=0;c<r.length;c++){const l=r[c];l.providersResolver&&l.providersResolver(l)}let o=!1,a=!1,u=vc(t,e,r.length,null);for(let c=0;c<r.length;c++){const l=r[c];n.mergedAttrs=Ku(n.mergedAttrs,l.hostAttrs),G6(t,n,e,u,l),j6(u,l,i),null!==l.contentQueries&&(n.flags|=4),(null!==l.hostBindings||null!==l.hostAttrs||0!==l.hostVars)&&(n.flags|=64);const d=l.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),u++}!function N6(t,e,n){const i=e.directiveEnd,s=t.data,o=e.attrs,a=[];let u=null,c=null;for(let l=e.directiveStart;l<i;l++){const d=s[l],h=n?n.get(d):null,p=h?h.outputs:null;u=LR(d.inputs,l,u,h?h.inputs:null),c=LR(d.outputs,l,c,p);const m=null===u||null===o||eM(e)?null:W6(u,l,o);a.push(m)}null!==u&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=c}(t,n,s)}function BR(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=function q4(){return W.lFrame.currentDirectiveIndex}();try{js(s);for(let a=r;a<i;a++){const u=t.data[a],c=e[a];dy(a),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&U6(u,c)}}finally{js(-1),dy(o)}}function U6(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function D_(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function j6(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;hr(e)&&(n[""]=t)}}function G6(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=$s(i.type)),o=new ec(s,hr(i),T);t.blueprint[r]=o,n[r]=o,function F6(t,e,n,r,i){const s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;null===o&&(o=t.hostBindingOpCodes=[]);const a=~e.index;(function L6(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(o)!=a&&o.push(a),o.push(n,r,s)}}(t,e,r,vc(t,n,i.hostVars,re),i)}function q6(t,e,n,r,i,s){const o=s[e];if(null!==o)for(let a=0;a<o.length;)$R(r,n,o[a++],o[a++],o[a++])}function $R(t,e,n,r,i){const s=Tt(null);try{null!==t.setInput?t.setInput(e,i,n,r):e[r]=i}finally{Tt(s)}}function W6(t,e,n){let r=null,i=0;for(;i<n.length;){const s=n[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(t.hasOwnProperty(s)){null===r&&(r=[]);const o=t[s];for(let a=0;a<o.length;a+=2)if(o[a]===e){r.push(s,o[a+1],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function jR(t,e,n,r){return[t,!0,!1,e,null,0,r,n,null,null,null]}function HR(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const s=n[r+1];if(-1!==s){const o=t.data[s];fy(n[r]),o.contentQueries(2,e[s],s)}}}function Wh(t,e){return t[Qu]?t[oM][dr]=e:t[Qu]=e,t[oM]=e,e}function b_(t,e,n){fy(0);const r=Tt(null);try{e(t,n)}finally{Tt(r)}}function WR(t,e){const n=t[Xo],r=n?n.get(qs,null):null;r&&r.handleError(e)}function T_(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++];$R(t.data[o],e[o],r,a,i)}}function K6(t,e){const n=Sn(e,t),r=n[k];!function Q6(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n);const i=n[yt];null!==i&&null===n[hi]&&(n[hi]=cR(i,n[Xo])),S_(r,n,n[Ye])}function S_(t,e,n){py(e);try{const r=t.viewQuery;null!==r&&b_(1,r,n);const i=t.template;null!==i&&PR(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&HR(t,e),t.staticViewQueries&&b_(2,t.viewQuery,n);const s=t.components;null!==s&&function Y6(t,e){for(let n=0;n<e.length;n++)K6(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[ie]&=-5,gy()}}let KR=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(n,r,i){const s=typeof Zone>"u"?null:Zone.current,o=new D4(n,c=>{this.all.has(c)&&this.queue.set(c,s)},i);let a;this.all.add(o),o.notify();const u=()=>{o.cleanup(),a?.(),this.all.delete(o),this.queue.delete(o)};return a=r?.onDestroy(u),{destroy:u}}flush(){if(0!==this.queue.size)for(const[n,r]of this.queue)this.queue.delete(n),r?r.run(()=>n.run()):n.run()}get isQueueEmpty(){return 0===this.queue.size}}return t.\u0275prov=j({token:t,providedIn:"root",factory:()=>new t}),t})();function Kh(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=zm(i,a):2==s&&(r=zm(r,a+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function wc(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];if(null!==s&&r.push(Pe(s)),bn(s)){for(let a=Vt;a<s.length;a++){const u=s[a],c=u[k].firstChild;null!==c&&wc(u[k],u,c,r)}s[Rr]!==s[yt]&&r.push(s[Rr])}const o=n.type;if(8&o)wc(t,e,n.child,r);else if(32&o){const a=Py(n,e);let u;for(;u=a();)r.push(u)}else if(16&o){const a=kx(e,n);if(Array.isArray(a))r.push(...a);else{const u=ac(e[ct]);wc(u[k],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function Qh(t,e,n,r=!0){const i=e[Us].rendererFactory;i.begin&&i.begin();try{Yh(t,e,t.template,n)}catch(o){throw r&&WR(e,o),o}finally{i.end&&i.end(),e[Us].effectManager?.flush()}}function Yh(t,e,n,r){const i=e[ie];if(256!=(256&i)){e[Us].effectManager?.flush(),py(e);try{EM(e),function NM(t){return W.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&PR(t,e,n,2,r);const o=3==(3&i);if(o){const c=t.preOrderCheckHooks;null!==c&&dh(e,c,null)}else{const c=t.preOrderHooks;null!==c&&hh(e,c,0,null),my(e,0)}if(function nW(t){for(let e=Oy(t);null!==e;e=Fy(e)){if(!e[uM])continue;const n=e[ea];for(let r=0;r<n.length;r++){k4(n[r])}}}(e),function tW(t){for(let e=Oy(t);null!==e;e=Fy(e))for(let n=Vt;n<e.length;n++){const r=e[n],i=r[k];uh(r)&&Yh(i,r,i.template,r[Ye])}}(e),null!==t.contentQueries&&HR(t,e),o){const c=t.contentCheckHooks;null!==c&&dh(e,c)}else{const c=t.contentHooks;null!==c&&hh(e,c,1),my(e,1)}!function C6(t,e){const n=t.hostBindingOpCodes;if(null===n)return;const r=bR(e,th);try{for(let i=0;i<n.length;i++){const s=n[i];if(s<0)js(~s);else{const o=s,a=n[++i],u=n[++i];z4(a,o),r.runInContext(u,2,e[o])}}}finally{null===e[th]&&TR(e,th),js(-1)}}(t,e);const a=t.components;null!==a&&function iW(t,e){for(let n=0;n<e.length;n++)rW(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&b_(2,u,r),o){const c=t.viewCheckHooks;null!==c&&dh(e,c)}else{const c=t.viewHooks;null!==c&&hh(e,c,2),my(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[ie]&=-73,DM(e)}finally{gy()}}}function rW(t,e){const n=Sn(e,t);if(uh(n)){const r=n[k];80&n[ie]?Yh(r,n,r.template,n[Ye]):n[Vs]>0&&A_(n)}}function A_(t){for(let r=Oy(t);null!==r;r=Fy(r))for(let i=Vt;i<r.length;i++){const s=r[i];if(uh(s))if(1024&s[ie]){const o=s[k];Yh(o,s,o.template,s[Ye])}else s[Vs]>0&&A_(s)}const n=t[k].components;if(null!==n)for(let r=0;r<n.length;r++){const i=Sn(n[r],t);uh(i)&&i[Vs]>0&&A_(i)}}class Ic{get rootNodes(){const e=this._lView,n=e[k];return wc(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Ye]}set context(e){this._lView[Ye]=e}get destroyed(){return 256==(256&this._lView[ie])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[Ge];if(bn(e)){const n=e[nh],r=n?n.indexOf(this):-1;r>-1&&(Vy(e,r),vh(n,r))}this._attachedToViewContainer=!1}bx(this._lView[k],this._lView)}onDestroy(e){!function bM(t,e){if(256==(256&t[ie]))throw new b(911,!1);null===t[Ki]&&(t[Ki]=[]),t[Ki].push(e)}(this._lView,e)}markForCheck(){_c(this._cdRefInjectingView||this._lView)}detach(){this._lView[ie]&=-129}reattach(){this._lView[ie]|=128}detectChanges(){Qh(this._lView[k],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new b(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function n3(t,e){cc(t,e,e[ne],2,null,null)}(this._lView[k],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new b(902,!1);this._appRef=e}}class sW extends Ic{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;Qh(e[k],e,e[Ye],!1)}checkNoChanges(){}get context(){return null}}class QR extends Hh{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=me(e);return new Ec(n,this.ngModule)}}function YR(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}class aW{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Xd(r);const i=this.injector.get(e,g_,r);return i!==g_||n===g_?i:this.parentInjector.get(e,n,r)}}class Ec extends hR{get inputs(){return YR(this.componentDef.inputs)}get outputs(){return YR(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function s4(t){return t.map(i4).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=(i=i||this.ngModule)instanceof mi?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new aW(e,s):e,a=o.get(pR,null);if(null===a)throw new b(407,!1);const l={rendererFactory:a,sanitizer:o.get(l6,null),effectManager:o.get(KR,null)},d=a.createRenderer(null,this.componentDef),h=this.componentDef.selectors[0][0]||"div",f=r?function T6(t,e,n,r){const s=r.get(_R,!1)||n===$n.ShadowDom,o=t.selectRootElement(e,s);return function S6(t){FR(t)}(o),o}(d,r,this.componentDef.encapsulation,o):Ah(d,h,function oW(t){const e=t.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(h)),p=this.componentDef.onPush?576:528,m=I_(0,null,null,1,0,null,null,null,null,null,null),y=qh(null,m,null,p,null,null,l,d,o,null,null);let v,_;py(y);try{const E=this.componentDef;let A,O=null;E.findHostDirectiveDefs?(A=[],O=new Map,E.findHostDirectiveDefs(E,A,O),A.push(E)):A=[E];const K=function cW(t,e){const n=t[k],r=ce;return t[r]=e,va(n,r,2,"#host",null)}(y,f),je=function lW(t,e,n,r,i,s,o){const a=i[k];!function dW(t,e,n,r){for(const i of t)e.mergedAttrs=Ku(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(Kh(e,e.mergedAttrs,!0),null!==n&&Lx(r,n,e))}(r,t,e,o);let u=null;null!==e&&(u=cR(e,i[Xo]));const c=s.rendererFactory.createRenderer(e,n),l=qh(i,OR(n),null,n.onPush?64:16,i[t.index],t,s,c,null,null,u);return a.firstCreatePass&&D_(a,t,r.length-1),Wh(i,l),i[t.index]=l}(K,f,E,A,y,l,d);_=IM(m,ce),f&&function fW(t,e,n,r){if(r)ey(t,n,["ng-version",gR.full]);else{const{attrs:i,classes:s}=function o4(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!lr(i))break;i=s}r++}return{attrs:e,classes:n}}(e.selectors[0]);i&&ey(t,n,i),s&&s.length>0&&Fx(t,n,s.join(" "))}}(d,E,f,r),void 0!==n&&function pW(t,e,n){const r=t.projection=[];for(let i=0;i<e.length;i++){const s=n[i];r.push(null!=s?Array.from(s):null)}}(_,this.ngContentSelectors,n),v=function hW(t,e,n,r,i,s){const o=Ut(),a=i[k],u=Tn(o,i);UR(a,i,o,n,null,r);for(let l=0;l<n.length;l++)Zt(Hs(i,a,o.directiveStart+l,o),i);BR(a,i,o),u&&Zt(u,i);const c=Hs(i,a,o.directiveStart+o.componentOffset,o);if(t[Ye]=i[Ye]=c,null!==s)for(const l of s)l(c,e);return __(a,o,t),c}(je,E,A,O,y,[gW]),S_(m,y,null)}finally{gy()}return new uW(this.componentType,v,ma(_,y),y,_)}}class uW extends i6{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new sW(i),this.componentType=e}setInput(e,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;const s=this._rootLView;T_(s[k],s,i,e,n),this.previousInputValues.set(e,n),_c(Sn(this._tNode.index,s))}}get injector(){return new sa(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function gW(){const t=Ut();lh(D()[k],t)}function Ie(t){let e=function XR(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),n=!0;const r=[t];for(;e;){let i;if(hr(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new b(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);const o=t;o.inputs=M_(t.inputs),o.declaredInputs=M_(t.declaredInputs),o.outputs=M_(t.outputs);const a=i.hostBindings;a&&vW(t,a);const u=i.viewQuery,c=i.contentQueries;if(u&&yW(t,u),c&&_W(t,c),Gm(t.inputs,i.inputs),Gm(t.declaredInputs,i.declaredInputs),Gm(t.outputs,i.outputs),hr(i)&&i.data.animation){const l=t.data;l.animation=(l.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(t),a===Ie&&(n=!1)}}e=Object.getPrototypeOf(e)}!function mW(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Ku(i.hostAttrs,n=Ku(n,i.hostAttrs))}}(r)}function M_(t){return t===li?{}:t===ge?[]:t}function yW(t,e){const n=t.viewQuery;t.viewQuery=n?(r,i)=>{e(r,i),n(r,i)}:e}function _W(t,e){const n=t.contentQueries;t.contentQueries=n?(r,i,s)=>{e(r,i,s),n(r,i,s)}:e}function vW(t,e){const n=t.hostBindings;t.hostBindings=n?(r,i)=>{e(r,i),n(r,i)}:e}function Xh(t){return!!function x_(t){return null!==t&&("function"==typeof t||"object"==typeof t)}(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function en(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Ia(t,e,n,r){return en(t,ra(),n)?e+Z(n)+r:re}function Ur(t,e,n,r,i,s,o,a){const u=D(),c=he(),l=t+ce,d=c.firstCreatePass?function GW(t,e,n,r,i,s,o,a,u){const c=e.consts,l=va(e,t,4,o||null,Qi(c,a));E_(e,n,l,Qi(c,u)),lh(e,l);const d=l.tView=I_(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c,null);return null!==e.queries&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,s,o):c.data[l];Pr(d,!1);const h=fN(c,u,d,t);ch()&&xh(c,u,h,d),Zt(h,u),Wh(u,u[l]=jR(h,u,h,d)),rh(d)&&v_(c,u,d),null!=o&&w_(u,d,a)}let fN=function pN(t,e,n,r){return Yi(!0),e[ne].createComment("")};function rr(t,e,n){const r=D();return en(r,ra(),e)&&qn(he(),ze(),r,t,e,r[ne],n,!1),rr}function F_(t,e,n,r,i){const o=i?"class":"style";T_(t,n,e.inputs[o],o,r)}function Se(t,e,n,r){const i=D(),s=he(),o=ce+t,a=i[ne],u=s.firstCreatePass?function QW(t,e,n,r,i,s){const o=e.consts,u=va(e,t,2,r,Qi(o,i));return E_(e,n,u,Qi(o,s)),null!==u.attrs&&Kh(u,u.attrs,!1),null!==u.mergedAttrs&&Kh(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(o,s,i,e,n,r):s.data[o],c=gN(s,i,u,a,e,t);i[o]=c;const l=rh(u);return Pr(u,!0),Lx(a,c,u),32!=(32&u.flags)&&ch()&&xh(s,i,c,u),0===function O4(){return W.lFrame.elementDepthCount}()&&Zt(c,i),function F4(){W.lFrame.elementDepthCount++}(),l&&(v_(s,i,u),__(s,u,i)),null!==r&&w_(i,u),Se}function Ae(){let t=Ut();cy()?function ly(){W.lFrame.isParent=!1}():(t=t.parent,Pr(t,!1));const e=t;(function V4(t){return W.skipHydrationRootTNode===t})(e)&&function j4(){W.skipHydrationRootTNode=null}(),function L4(){W.lFrame.elementDepthCount--}();const n=he();return n.firstCreatePass&&(lh(n,t),ny(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function rq(t){return 0!=(8&t.flags)}(e)&&F_(n,e,D(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function iq(t){return 0!=(16&t.flags)}(e)&&F_(n,e,D(),e.stylesWithoutHost,!1),Ae}function Me(t,e,n,r){return Se(t,e,n,r),Ae(),Me}let gN=(t,e,n,r,i,s)=>(Yi(!0),Ah(r,i,function BM(){return W.lFrame.currentNamespace}()));function Sc(t){return!!t&&"function"==typeof t.then}function vN(t){return!!t&&"function"==typeof t.subscribe}function Rn(t,e,n,r){const i=D(),s=he(),o=Ut();return function IN(t,e,n,r,i,s,o){const a=rh(r),c=t.firstCreatePass&&function zR(t){return t.cleanup||(t.cleanup=[])}(t),l=e[Ye],d=function GR(t){return t[Yo]||(t[Yo]=[])}(e);let h=!0;if(3&r.type||o){const m=Tn(r,e),y=o?o(m):m,v=d.length,_=o?A=>o(Pe(A[r.index])):r.index;let E=null;if(!o&&a&&(E=function t9(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===n&&i[s+1]===r){const a=e[Yo],u=i[s+2];return a.length>u?a[u]:null}"string"==typeof o&&(s+=2)}return null}(t,e,i,r.index)),null!==E)(E.__ngLastListenerFn__||E).__ngNextListenerFn__=s,E.__ngLastListenerFn__=s,h=!1;else{s=DN(r,e,l,s,!1);const A=n.listen(y,i,s);d.push(s,A),c&&c.push(i,_,v,v+1)}}else s=DN(r,e,l,s,!1);const f=r.outputs;let p;if(h&&null!==f&&(p=f[i])){const m=p.length;if(m)for(let y=0;y<m;y+=2){const O=e[p[y]][p[y+1]].subscribe(s),K=d.length;d.push(s,O),c&&c.push(i,r.index,K,-(K+1))}}}(s,i,i[ne],o,t,e,r),Rn}function EN(t,e,n,r){try{return kr(6,e,n),!1!==n(r)}catch(i){return WR(t,i),!1}finally{kr(7,e,n)}}function DN(t,e,n,r,i){return function s(o){if(o===Function)return r;_c(t.componentOffset>-1?Sn(t.index,e):e);let u=EN(e,n,r,o),c=s.__ngNextListenerFn__;for(;c;)u=EN(e,n,c,o)&&u,c=c.__ngNextListenerFn__;return i&&!1===u&&o.preventDefault(),u}}function Ac(t=1){return function K4(t){return(W.lFrame.contextLView=function Q4(t,e){for(;t>0;)e=e[Jo],t--;return e}(t,W.lFrame.contextLView))[Ye]}(t)}function U_(t,e,n){return nf(t,"",e,"",n),U_}function nf(t,e,n,r,i){const s=D(),o=Ia(s,e,n,r);return o!==re&&qn(he(),ze(),s,t,o,s[ne],i,!1),nf}function rf(t,e){return t<<17|e<<2}function Zi(t){return t>>17&32767}function B_(t){return 2|t}function Ks(t){return(131068&t)>>2}function $_(t,e){return-131069&t|e<<2}function j_(t){return 1|t}function NN(t,e,n,r,i){const s=t[n+1],o=null===e;let a=r?Zi(s):Ks(s),u=!1;for(;0!==a&&(!1===u||o);){const l=t[a+1];l9(t[a],e)&&(u=!0,t[a+1]=r?j_(l):B_(l)),a=r?Zi(l):Ks(l)}u&&(t[n+1]=r?B_(s):j_(s))}function l9(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&la(t,e)>=0}function sf(t,e){return function fr(t,e,n,r){const i=D(),s=he(),o=function pi(t){const e=W.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}(2);s.firstUpdatePass&&function $N(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[dn()],o=function BN(t,e){return e>=t.expandoStartIndex}(t,n);(function zN(t,e){return 0!=(t.flags&(e?8:16))})(s,r)&&null===e&&!o&&(e=!1),e=function v9(t,e,n,r){const i=function hy(t){const e=W.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=Mc(n=H_(null,t,e,n,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==i)if(n=H_(i,t,e,n,r),null===s){let u=function w9(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==Ks(r))return t[Zi(r)]}(t,e,r);void 0!==u&&Array.isArray(u)&&(u=H_(null,t,e,u[1],r),u=Mc(u,e.attrs,r),function I9(t,e,n,r){t[Zi(n?e.classBindings:e.styleBindings)]=r}(t,e,r,u))}else s=function E9(t,e,n){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=Mc(r,t[s].hostAttrs,n);return Mc(r,e.attrs,n)}(t,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),n}(i,s,e,r),function u9(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=Zi(o),u=Ks(o);t[r]=n;let l,c=!1;if(Array.isArray(n)?(l=n[1],(null===l||la(n,l)>0)&&(c=!0)):l=n,i)if(0!==u){const h=Zi(t[a+1]);t[r+1]=rf(h,a),0!==h&&(t[h+1]=$_(t[h+1],r)),t[a+1]=function o9(t,e){return 131071&t|e<<17}(t[a+1],r)}else t[r+1]=rf(a,0),0!==a&&(t[a+1]=$_(t[a+1],r)),a=r;else t[r+1]=rf(u,0),0===a?a=r:t[u+1]=$_(t[u+1],r),u=r;c&&(t[r+1]=B_(t[r+1])),NN(t,l,r,!0),NN(t,l,r,!1),function c9(t,e,n,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&la(s,e)>=0&&(n[r+1]=j_(n[r+1]))}(e,l,t,r,s),o=rf(a,u),s?e.classBindings=o:e.styleBindings=o}(i,s,e,n,o,r)}}(s,t,o,r),e!==re&&en(i,o,e)&&function HN(t,e,n,r,i,s,o,a){if(!(3&e.type))return;const u=t.data,c=u[a+1],l=function a9(t){return 1==(1&t)}(c)?GN(u,e,n,i,Ks(c),o):void 0;af(l)||(af(s)||function s9(t){return 2==(2&t)}(c)&&(s=GN(u,null,n,i,a,o)),function h3(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=-1===r.indexOf("-")?void 0:An.DashCase;null==i?t.removeStyle(n,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=An.Important),t.setStyle(n,r,i,s))}}(r,o,ah(dn(),n),i,s))}(s,s.data[dn()],i,i[ne],t,i[o+1]=function T9(t,e){return null==t||""===t||("string"==typeof e?t+=e:"object"==typeof t&&(t=mt(Xi(t)))),t}(e,n),r,o)}(t,e,null,!0),sf}function H_(t,e,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],r=Mc(r,s.hostAttrs,i),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function Mc(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Gn(t,o,!!n||e[++s]))}return void 0===t?null:t}function GN(t,e,n,r,i,s){const o=null===e;let a;for(;i>0;){const u=t[i],c=Array.isArray(u),l=c?u[1]:u,d=null===l;let h=n[i+1];h===re&&(h=d?ge:void 0);let f=d?Cy(h,r):l===r?h:void 0;if(c&&!af(f)&&(f=Cy(u,r)),af(f)&&(a=f,o))return a;const p=t[i+1];i=o?Zi(p):Ks(p)}if(null!==e){let u=s?e.residualClasses:e.residualStyles;null!=u&&(a=Cy(u,r))}return a}function af(t){return void 0!==t}function es(t,e=""){const n=D(),r=he(),i=t+ce,s=r.firstCreatePass?va(r,i,1,e,null):r.data[i],o=qN(r,n,s,e,t);n[i]=o,ch()&&xh(r,n,o,s),Pr(s,!1)}let qN=(t,e,n,r,i)=>(Yi(!0),function Sh(t,e){return t.createText(e)}(e[ne],r));function G_(t){return uf("",t,""),G_}function uf(t,e,n){const r=D(),i=Ia(r,t,e,n);return i!==re&&function vi(t,e,n){const r=ah(e,t);!function Dx(t,e,n){t.setValue(e,n)}(t[ne],r,n)}(r,dn(),i),uf}const Ra="en-US";let p1=Ra;function W_(t,e,n,r,i){if(t=X(t),Array.isArray(t))for(let s=0;s<t.length;s++)W_(t[s],e,n,r,i);else{const s=he(),o=D();let a=zs(t)?t:X(t.provide),u=iR(t);const c=Ut(),l=1048575&c.providerIndexes,d=c.directiveStart,h=c.providerIndexes>>20;if(zs(t)||!t.multi){const f=new ec(u,i,T),p=Q_(a,e,i?l:l+h,d);-1===p?(Iy(mh(c,o),s,a),K_(s,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(f),o.push(f)):(n[p]=f,o[p]=f)}else{const f=Q_(a,e,l+h,d),p=Q_(a,e,l,l+h),y=p>=0&&n[p];if(i&&!y||!i&&!(f>=0&&n[f])){Iy(mh(c,o),s,a);const v=function q5(t,e,n,r,i){const s=new ec(t,n,T);return s.multi=[],s.index=e,s.componentProviders=0,U1(s,i,r&&!n),s}(i?z5:G5,n.length,i,r,u);!i&&y&&(n[p].providerFactory=v),K_(s,t,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(v),o.push(v)}else K_(s,t,f>-1?f:p,U1(n[i?p:f],u,!i&&r));!i&&r&&y&&n[p].componentProviders++}}}function K_(t,e,n,r){const i=zs(e),s=function j3(t){return!!t.useClass}(e);if(i||s){const u=(s?X(e.useClass):e).prototype.ngOnDestroy;if(u){const c=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const l=c.indexOf(n);-1===l?c.push(n,[r,u]):c[l+1].push(r,u)}else c.push(n,u)}}}function U1(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Q_(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function G5(t,e,n,r){return Y_(this.multi,[])}function z5(t,e,n,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=Hs(n,n[k],this.providerFactory.index,r);s=a.slice(0,o),Y_(i,s);for(let u=o;u<a.length;u++)s.push(a[u])}else s=[],Y_(i,s);return s}function Y_(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function Be(t,e=[]){return n=>{n.providersResolver=(r,i)=>function H5(t,e,n){const r=he();if(r.firstCreatePass){const i=hr(t);W_(n,r.data,r.blueprint,i,!0),W_(e,r.data,r.blueprint,i,!1)}}(r,i?i(t):t,e)}}class Na{}class B1{}class X_ extends Na{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new QR(this);const i=jn(e);this._bootstrapComponents=_i(i.bootstrap),this._r3Injector=NR(e,n,[{provide:Na,useValue:this},{provide:Hh,useValue:this.componentFactoryResolver},...r],mt(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class J_ extends B1{constructor(e){super(),this.moduleType=e}create(e){return new X_(this.moduleType,e,[])}}class $1 extends Na{constructor(e){super(),this.componentFactoryResolver=new QR(this),this.instance=null;const n=new n_([...e.providers,{provide:Na,useValue:this},{provide:Hh,useValue:this.componentFactoryResolver}],e.parent||Lh(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function Z_(t,e,n=null){return new $1({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}let Q5=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n.id)){const r=eR(0,n.type),i=r.length>0?Z_([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n.id,i)}return this.cachedInjectors.get(n.id)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}}return t.\u0275prov=j({token:t,providedIn:"environment",factory:()=>new t($(mi))}),t})();function j1(t){t.getStandaloneInjector=e=>e.get(Q5).getOrCreateStandaloneInjector(t)}function tv(t){return e=>{setTimeout(t,void 0,e)}}const Je=class I7 extends ai{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&"object"==typeof e){const u=e;i=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=tv(s),i&&(i=tv(i)),o&&(o=tv(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof Un&&e.add(a),a}};let wi=(()=>{class t{}return t.__NG_ELEMENT_ID__=b7,t})();const D7=wi,C7=class extends D7{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n,null)}createEmbeddedViewImpl(e,n,r){const i=this._declarationTContainer.tView,s=qh(this._declarationLView,i,e,16,null,i.declTNode,null,null,null,n||null,r||null);s[Yu]=this._declarationLView[this._declarationTContainer.index];const a=this._declarationLView[xr];return null!==a&&(s[xr]=a.createEmbeddedView(i)),S_(i,s,e),new Ic(s)}};function b7(){return function ff(t,e){return 4&t.type?new C7(e,t,ma(t,e)):null}(Ut(),D())}let gr=(()=>{class t{}return t.__NG_ELEMENT_ID__=N7,t})();function N7(){return function sk(t,e){let n;const r=e[t.index];return bn(r)?n=r:(n=jR(r,e,null,t),e[t.index]=n,Wh(e,n)),ok(n,e,t,r),new rk(n,t,e)}(Ut(),D())}const k7=gr,rk=class extends k7{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return ma(this._hostTNode,this._hostLView)}get injector(){return new sa(this._hostTNode,this._hostLView)}get parentInjector(){const e=wy(this._hostTNode,this._hostLView);if(GM(e)){const n=ph(e,this._hostLView),r=fh(e);return new sa(n[k].data[r+8],n)}return new sa(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=ik(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-Vt}createEmbeddedView(e,n,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const a=e.createEmbeddedViewImpl(n||{},s,null);return this.insertImpl(a,i,false),a}createComponent(e,n,r,i,s){const o=e&&!function nc(t){return"function"==typeof t}(e);let a;if(o)a=n;else{const m=n||{};a=m.index,r=m.injector,i=m.projectableNodes,s=m.environmentInjector||m.ngModuleRef}const u=o?e:new Ec(me(e)),c=r||this.parentInjector;if(!s&&null==u.ngModule){const y=(o?c:this.parentInjector).get(mi,null);y&&(s=y)}me(u.componentType??{});const f=u.create(c,i,null,s);return this.insertImpl(f.hostView,a,false),f}insert(e,n){return this.insertImpl(e,n,!1)}insertImpl(e,n,r){const i=e._lView,s=i[k];if(function N4(t){return bn(t[Ge])}(i)){const u=this.indexOf(e);if(-1!==u)this.detach(u);else{const c=i[Ge],l=new rk(c,c[Jt],c[Ge]);l.detach(l.indexOf(e))}}const o=this._adjustIndex(n),a=this._lContainer;if(function i3(t,e,n,r){const i=Vt+r,s=n.length;r>0&&(n[i-1][dr]=e),r<s-Vt?(e[dr]=n[i],nx(n,Vt+r,e)):(n.push(e),e[dr]=null),e[Ge]=n;const o=e[Yu];null!==o&&n!==o&&function s3(t,e){const n=t[ea];e[ct]!==e[Ge][Ge][ct]&&(t[uM]=!0),null===n?t[ea]=[e]:n.push(e)}(o,e);const a=e[xr];null!==a&&a.insertView(t),e[ie]|=128}(s,i,a,o),!r){const u=jy(o,a),c=i[ne],l=Mh(c,a[Rr]);null!==l&&function t3(t,e,n,r,i,s){r[yt]=i,r[Jt]=e,cc(t,r,n,1,i,s)}(s,a[Jt],c,i,l,u)}return e.attachToViewContainerRef(),nx(iv(a),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=ik(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=Vy(this._lContainer,n);r&&(vh(iv(this._lContainer),n),bx(r[k],r))}detach(e){const n=this._adjustIndex(e,-1),r=Vy(this._lContainer,n);return r&&null!=vh(iv(this._lContainer),n)?new Ic(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function ik(t){return t[nh]}function iv(t){return t[nh]||(t[nh]=[])}let ok=function ak(t,e,n,r){if(t[Rr])return;let i;i=8&n.type?Pe(r):function P7(t,e){const n=t[ne],r=n.createComment(""),i=Tn(e,t);return Gs(n,Mh(n,i),r,function c3(t,e){return t.nextSibling(e)}(n,i),!1),r}(e,n),t[Rr]=i};const gv=new L("Application Initializer");let mv=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=V(gv,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n=[];for(const i of this.appInits){const s=i();if(Sc(s))n.push(s);else if(vN(s)){const o=new Promise((a,u)=>{s.subscribe({complete:a,error:u})});n.push(o)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Nk=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();const Ii=new L("LocaleId",{providedIn:"root",factory:()=>V(Ii,H.Optional|H.SkipSelf)||function d8(){return typeof $localize<"u"&&$localize.locale||Ra}()});class f8{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let kk=(()=>{class t{compileModuleSync(n){return new J_(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),s=_i(jn(n).declarations).reduce((o,a)=>{const u=me(a);return u&&o.push(new Ec(u)),o},[]);return new f8(r,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const m8=(()=>Promise.resolve(0))();function yv(t){typeof Zone>"u"?m8.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}function Fk(...t){}class Ee{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Je(!1),this.onMicrotaskEmpty=new Je(!1),this.onStable=new Je(!1),this.onError=new Je(!1),typeof Zone>"u")throw new b(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function y8(){let t=Re.requestAnimationFrame,e=Re.cancelAnimationFrame;if(typeof Zone<"u"&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function w8(t){const e=()=>{!function v8(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Re,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,vv(t),t.isCheckStableRunning=!0,_v(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),vv(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{try{return Lk(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),Vk(t)}},onInvoke:(n,r,i,s,o,a,u)=>{try{return Lk(t),n.invoke(i,s,o,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),Vk(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&("microTask"==s.change?(t._hasPendingMicrotasks=s.microTask,vv(t),_v(t)):"macroTask"==s.change&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ee.isInAngularZone())throw new b(909,!1)}static assertNotInAngularZone(){if(Ee.isInAngularZone())throw new b(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,_8,Fk,Fk);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const _8={};function _v(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function vv(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function Lk(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Vk(t){t._nesting--,_v(t)}class I8{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Je,this.onMicrotaskEmpty=new Je,this.onStable=new Je,this.onError=new Je}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}const Uk=new L("",{providedIn:"root",factory:Bk});function Bk(){const t=V(Ee);let e=!0;return function Rz(...t){const e=Gu(t),n=function Cz(t,e){return"number"==typeof jm(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?Jn(r[0]):qo(n)(bt(r,e)):Ar}(new He(i=>{e=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{i.next(e),i.complete()})}),new He(i=>{let s;t.runOutsideAngular(()=>{s=t.onStable.subscribe(()=>{Ee.assertNotInAngularZone(),yv(()=>{!e&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(e=!0,i.next(!0))})})});const o=t.onUnstable.subscribe(()=>{Ee.assertInAngularZone(),e&&(e=!1,t.runOutsideAngular(()=>{i.next(!1)}))});return()=>{s.unsubscribe(),o.unsubscribe()}}).pipe(function Nz(t={}){const{connector:e=(()=>new ai),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return s=>{let o,a,u,c=0,l=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),o=u=void 0,l=d=!1},p=()=>{const m=o;f(),m?.unsubscribe()};return Ot((m,y)=>{c++,!d&&!l&&h();const v=u=u??e();y.add(()=>{c--,0===c&&!d&&!l&&(a=Hm(p,i))}),v.subscribe(y),!o&&c>0&&(o=new Hu({next:_=>v.next(_),error:_=>{d=!0,h(),a=Hm(f,n,_),v.error(_)},complete:()=>{l=!0,h(),a=Hm(f,r),v.complete()}}),Jn(m).subscribe(o))})(s)}}()))}const $k=new L(""),gf=new L("");let Ev,wv=(()=>{class t{constructor(n,r,i){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Ev||(function E8(t){Ev=t}(i),i.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ee.assertNotInAngularZone(),yv(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())yv(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:s,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,i){return[]}}return t.\u0275fac=function(n){return new(n||t)($(Ee),$(Iv),$(gf))},t.\u0275prov=j({token:t,factory:t.\u0275fac}),t})(),Iv=(()=>{class t{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return Ev?.findTestabilityInTree(this,n,r)??null}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})(),ts=null;const jk=new L("AllowMultipleToken"),Dv=new L("PlatformDestroyListeners"),Cv=new L("appBootstrapListener");class Gk{constructor(e,n){this.name=e,this.token=n}}function qk(t,e,n=[]){const r=`Platform: ${e}`,i=new L(r);return(s=[])=>{let o=bv();if(!o||o.injector.get(jk,!1)){const a=[...n,...s,{provide:i,useValue:!0}];t?t(a):function b8(t){if(ts&&!ts.get(jk,!1))throw new b(400,!1);(function Hk(){!function I4(t){pM=t}(()=>{throw new b(600,!1)})})(),ts=t;const e=t.get(Kk);(function zk(t){t.get(sR,null)?.forEach(n=>n())})(t)}(function Wk(t=[],e){return xn.create({name:e,providers:[{provide:e_,useValue:"platform"},{provide:Dv,useValue:new Set([()=>ts=null])},...t]})}(a,r))}return function S8(t){const e=bv();if(!e)throw new b(401,!1);return e}()}}function bv(){return ts?.get(Kk)??null}let Kk=(()=>{class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const i=function A8(t="zone.js",e){return"noop"===t?new I8:"zone.js"===t?new Ee(e):t}(r?.ngZone,function Qk(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return i.run(()=>{const s=function K5(t,e,n){return new X_(t,e,n)}(n.moduleType,this.injector,function eP(t){return[{provide:Ee,useFactory:t},{provide:pc,multi:!0,useFactory:()=>{const e=V(x8,{optional:!0});return()=>e.initialize()}},{provide:Zk,useFactory:M8},{provide:Uk,useFactory:Bk}]}(()=>i)),o=s.injector.get(qs,null);return i.runOutsideAngular(()=>{const a=i.onError.subscribe({next:u=>{o.handleError(u)}});s.onDestroy(()=>{mf(this._modules,s),a.unsubscribe()})}),function Yk(t,e,n){try{const r=n();return Sc(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(o,i,()=>{const a=s.injector.get(mv);return a.runInitializers(),a.donePromise.then(()=>(function g1(t){Zn(t,"Expected localeId to be defined"),"string"==typeof t&&(p1=t.toLowerCase().replace(/_/g,"-"))}(s.injector.get(Ii,Ra)||Ra),this._moduleDoBootstrap(s),s))})})}bootstrapModule(n,r=[]){const i=Xk({},r);return function D8(t,e,n){const r=new J_(n);return Promise.resolve(r)}(0,0,n).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(n){const r=n.injector.get(Oa);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new b(-403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new b(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(Dv,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(n){return new(n||t)($(xn))},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();function Xk(t,e){return Array.isArray(e)?e.reduce(Xk,t):{...t,...e}}let Oa=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=V(Zk),this.componentTypes=[],this.components=[],this.isStable=V(Uk),this._injector=V(mi)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){const i=n instanceof hR;if(!this._injector.get(mv).done)throw!i&&function Qo(t){const e=me(t)||Xt(t)||Cn(t);return null!==e&&e.standalone}(n),new b(405,!1);let o;o=i?n:this._injector.get(Hh).resolveComponentFactory(n),this.componentTypes.push(o.componentType);const a=function C8(t){return t.isBoundToModule}(o)?void 0:this._injector.get(Na),c=o.create(xn.NULL,[],r||o.selector,a),l=c.location.nativeElement,d=c.injector.get($k,null);return d?.registerApplication(l),c.onDestroy(()=>{this.detachView(c.hostView),mf(this.components,c),d?.unregisterApplication(l)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new b(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this.internalErrorHandler(n)}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;mf(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(Cv,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>mf(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new b(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function mf(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Zk=new L("",{providedIn:"root",factory:()=>V(qs).handleError.bind(void 0)});function M8(){const t=V(Ee),e=V(qs);return n=>t.runOutsideAngular(()=>e.handleError(n))}let x8=(()=>{class t{constructor(){this.zone=V(Ee),this.applicationRef=V(Oa)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();let yf=(()=>{class t{}return t.__NG_ELEMENT_ID__=N8,t})();function N8(t){return function k8(t,e,n){if(Bs(t)&&!n){const r=Sn(t.index,e);return new Ic(r,r)}return 47&t.type?new Ic(e[ct],e):null}(Ut(),D(),16==(16&t))}class iP{constructor(){}supports(e){return Xh(e)}create(e){return new U8(e)}}const V8=(t,e)=>e;class U8{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||V8}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){const o=!r||n&&n.currentIndex<oP(r,i,s)?n:r,a=oP(o,i,s),u=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,null==o.previousIndex)i++;else{s||(s=[]);const c=a-i,l=u-i;if(c!=l){for(let h=0;h<c;h++){const f=h<s.length?s[h]:s[h]=0,p=f+h;l<=p&&p<c&&(s[h]=f+1)}s[o.previousIndex]=l-c}}a!==u&&e(o,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!Xh(e))throw new b(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)):(n=this._mismatch(n,s,o,a),r=!0),n=n._next}else i=0,function TW(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Symbol.iterator]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,o,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new B8(n,r),s,i),e}_verifyReinsertion(e,n,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const i=null===n?this._itHead:n._next;return e._next=i,e._prev=n,null===i?this._itTail=e:i._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new sP),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new sP),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class B8{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class $8{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class sP{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new $8,this.map.set(n,r)),r.add(e)}get(e,n){const i=this.map.get(e);return i?i.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function oP(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function uP(){return new wf([new iP])}let wf=(()=>{class t{constructor(n){this.factories=n}static create(n,r){if(null!=r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||uP()),deps:[[t,new Ih,new vt]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(null!=r)return r;throw new b(901,!1)}}return t.\u0275prov=j({token:t,providedIn:"root",factory:uP}),t})();const q8=qk(null,"core",[]);let W8=(()=>{class t{constructor(n){}}return t.\u0275fac=function(n){return new(n||t)($(Oa))},t.\u0275mod=Yt({type:t}),t.\u0275inj=Lt({}),t})(),gP=(()=>{class t{get whenAllTasksComplete(){return 0===this.collection.size&&this.complete(),this.promise}constructor(){this.taskId=0,this.collection=new Set,this.ngZone=V(Ee),this.completed=!1,this.ngZone.runOutsideAngular(()=>{this.promise=new Promise(n=>{this.resolve=n})})}add(){if(this.completed)return-1;const n=this.taskId++;return this.collection.add(n),n}remove(n){this.completed||(this.collection.delete(n),0===this.collection.size&&this.complete())}ngOnDestroy(){this.complete(),this.collection.clear()}complete(){this.completed=!0,this.resolve()}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Nv=null;function ns(){return Nv}class sK{}const ir=new L("DocumentToken");let kv=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:function(){return V(aK)},providedIn:"platform"}),t})();const oK=new L("Location Initialized");let aK=(()=>{class t extends kv{constructor(){super(),this._doc=V(ir),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ns().getBaseHref(this._doc)}onPopState(n){const r=ns().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=ns().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:function(){return new t},providedIn:"platform"}),t})();function Pv(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function yP(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function Ei(t){return t&&"?"!==t[0]?"?"+t:t}let Xs=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:function(){return V(vP)},providedIn:"root"}),t})();const _P=new L("appBaseHref");let vP=(()=>{class t extends Xs{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??V(ir).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Pv(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+Ei(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,s){const o=this.prepareExternalUrl(i+Ei(s));this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){const o=this.prepareExternalUrl(i+Ei(s));this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return t.\u0275fac=function(n){return new(n||t)($(kv),$(_P,8))},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),uK=(()=>{class t extends Xs{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=Pv(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+Ei(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+Ei(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return t.\u0275fac=function(n){return new(n||t)($(kv),$(_P,8))},t.\u0275prov=j({token:t,factory:t.\u0275fac}),t})(),Ov=(()=>{class t{constructor(n){this._subject=new Je,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._basePath=function dK(t){if(new RegExp("^(https?:)?//").test(t)){const[,n]=t.split(/\/\/[^\/]+/);return n}return t}(yP(wP(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Ei(r))}normalize(n){return t.stripTrailingSlash(function lK(t,e){if(!t||!e.startsWith(t))return e;const n=e.substring(t.length);return""===n||["/",";","?","#"].includes(n[0])?n:e}(this._basePath,wP(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Ei(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Ei(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}}return t.normalizeQueryParams=Ei,t.joinWithSlash=Pv,t.stripTrailingSlash=yP,t.\u0275fac=function(n){return new(n||t)($(Xs))},t.\u0275prov=j({token:t,factory:function(){return function cK(){return new Ov($(Xs))}()},providedIn:"root"}),t})();function wP(t){return t.replace(/\/index.html$/,"")}class XK{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let qv=(()=>{class t{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const r=this._viewContainer;n.forEachOperation((i,s,o)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new XK(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===s?void 0:s);else if(null!==s){const a=r.get(s);r.move(a,o),RP(a,i)}});for(let i=0,s=r.length;i<s;i++){const a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{RP(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(n,r){return!0}}return t.\u0275fac=function(n){return new(n||t)(T(gr),T(wi),T(wf))},t.\u0275dir=Q({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),t})();function RP(t,e){t.context.$implicit=e.item}let Wv=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new JK,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){NP("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){NP("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}}return t.\u0275fac=function(n){return new(n||t)(T(gr),T(wi))},t.\u0275dir=Q({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),t})();class JK{constructor(){this.$implicit=null,this.ngIf=null}}function NP(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${mt(e)}'.`)}let OP=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Yt({type:t}),t.\u0275inj=Lt({}),t})();function LP(t){return"server"===t}let TQ=(()=>{class t{}return t.\u0275prov=j({token:t,providedIn:"root",factory:()=>new SQ($(ir),window)}),t})();class SQ{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const n=function AQ(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&"function"==typeof t.body.attachShadow){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const n=this.window.history;n&&n.scrollRestoration&&(n.scrollRestoration=e)}}scrollToElement(e){const n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=VP(this.window.history)||VP(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function VP(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class nY extends sK{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class ew extends nY{static makeCurrent(){!function iK(t){Nv||(Nv=t)}(new ew)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function rY(){return jc=jc||document.querySelector("base"),jc?jc.getAttribute("href"):null}();return null==n?null:function iY(t){Pf=Pf||document.createElement("a"),Pf.setAttribute("href",t);const e=Pf.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){jc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function KK(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,s]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let Pf,jc=null,oY=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac}),t})();const tw=new L("EventManagerPlugins");let HP=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(s=>s.supports(n)),!r)throw new b(5101,!1);return this._eventNameToPlugin.set(n,r),r}}return t.\u0275fac=function(n){return new(n||t)($(tw),$(Ee))},t.\u0275prov=j({token:t,factory:t.\u0275fac}),t})();class GP{constructor(e){this._doc=e}}const nw="ng-app-id";let zP=(()=>{class t{constructor(n,r,i,s={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=LP(s),this.resetHostNodes()}addStyles(n){for(const r of n)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(n){for(const r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(const r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){const r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){const n=this.doc.head?.querySelectorAll(`style[${nw}="${this.appId}"]`);if(n?.length){const r=new Map;return n.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){const i=this.styleRef;if(i.has(n)){const s=i.get(n);return s.usage+=r,s.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){const i=this.styleNodesInDOM,s=i?.get(r);if(s?.parentNode===n)return i.delete(r),s.removeAttribute(nw),s;{const o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=r,this.platformIsServer&&o.setAttribute(nw,this.appId),o}}addStyleToHost(n,r){const i=this.getStyleElement(n,r);n.appendChild(i);const s=this.styleRef,o=s.get(r)?.elements;o?o.push(i):s.set(r,{elements:[i],usage:1})}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}}return t.\u0275fac=function(n){return new(n||t)($(ir),$(Vh),$(oR,8),$(Ji))},t.\u0275prov=j({token:t,factory:t.\u0275fac}),t})();const rw={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},iw=/%COMP%/g,lY=new L("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function WP(t,e){return e.map(n=>n.replace(iw,t))}let KP=(()=>{class t{constructor(n,r,i,s,o,a,u,c=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestory=s,this.doc=o,this.platformId=a,this.ngZone=u,this.nonce=c,this.rendererByCompId=new Map,this.platformIsServer=LP(a),this.defaultRenderer=new sw(n,o,u,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===$n.ShadowDom&&(r={...r,encapsulation:$n.Emulated});const i=this.getOrCreateRenderer(n,r);return i instanceof YP?i.applyToHost(n):i instanceof ow&&i.applyStyles(),i}getOrCreateRenderer(n,r){const i=this.rendererByCompId;let s=i.get(r.id);if(!s){const o=this.doc,a=this.ngZone,u=this.eventManager,c=this.sharedStylesHost,l=this.removeStylesOnCompDestory,d=this.platformIsServer;switch(r.encapsulation){case $n.Emulated:s=new YP(u,c,r,this.appId,l,o,a,d);break;case $n.ShadowDom:return new pY(u,c,n,r,o,a,this.nonce,d);default:s=new ow(u,c,r,l,o,a,d)}s.onDestroy=()=>i.delete(r.id),i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}}return t.\u0275fac=function(n){return new(n||t)($(HP),$(zP),$(Vh),$(lY),$(ir),$(Ji),$(Ee),$(oR))},t.\u0275prov=j({token:t,factory:t.\u0275fac}),t})();class sw{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(rw[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(QP(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(QP(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new b(5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const s=rw[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=rw[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(An.DashCase|An.Important)?e.style.setProperty(n,r,i&An.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&An.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){if("string"==typeof e&&!(e=ns().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if("__ngUnwrap__"===n)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))&&n.preventDefault()}}}function QP(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class pY extends sw{constructor(e,n,r,i,s,o,a,u){super(e,s,o,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=WP(i.id,i.styles);for(const l of c){const d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=l,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class ow extends sw{constructor(e,n,r,i,s,o,a,u){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestory=i,this.rendererUsageCount=0,this.styles=u?WP(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class YP extends ow{constructor(e,n,r,i,s,o,a,u){const c=i+"-"+r.id;super(e,n,r,s,o,a,u,c),this.contentAttr=function dY(t){return"_ngcontent-%COMP%".replace(iw,t)}(c),this.hostAttr=function hY(t){return"_nghost-%COMP%".replace(iw,t)}(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}let gY=(()=>{class t extends GP{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}}return t.\u0275fac=function(n){return new(n||t)($(ir))},t.\u0275prov=j({token:t,factory:t.\u0275fac}),t})();const XP=["alt","control","meta","shift"],mY={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},yY={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let _Y=(()=>{class t extends GP{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,r,i){const s=t.parseEventName(r),o=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ns().onAndCancel(n,s.domEventName,o))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=t._normalizeKey(r.pop());let o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),XP.forEach(c=>{const l=r.indexOf(c);l>-1&&(r.splice(l,1),o+=c+".")}),o+=s,0!=r.length||0===s.length)return null;const u={};return u.domEventName=i,u.fullKey=o,u}static matchEventFullKeyCode(n,r){let i=mY[n.key]||n.key,s="";return r.indexOf("code.")>-1&&(i=n.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),XP.forEach(o=>{o!==i&&(0,yY[o])(n)&&(s+=o+".")}),s+=i,s===r)}static eventCallback(n,r,i){return s=>{t.matchEventFullKeyCode(s,n)&&i.runGuarded(()=>r(s))}}static _normalizeKey(n){return"esc"===n?"escape":n}}return t.\u0275fac=function(n){return new(n||t)($(ir))},t.\u0275prov=j({token:t,factory:t.\u0275fac}),t})();const ZP=[{provide:Ji,useValue:"browser"},{provide:sR,useValue:function vY(){ew.makeCurrent()},multi:!0},{provide:ir,useFactory:function IY(){return function y3(t){zy=t}(document),document},deps:[]}],EY=qk(q8,"browser",ZP),DY=new L(""),eO=[{provide:gf,useClass:class sY{addToWindow(e){Re.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new b(5103,!1);return s},Re.getAllAngularTestabilities=()=>e.getAllTestabilities(),Re.getAllAngularRootElements=()=>e.getAllRootElements(),Re.frameworkStabilizers||(Re.frameworkStabilizers=[]),Re.frameworkStabilizers.push(r=>{const i=Re.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(u){o=o||u,s--,0==s&&r(o)};i.forEach(function(u){u.whenStable(a)})})}findTestabilityInTree(e,n,r){return null==n?null:e.getTestability(n)??(r?ns().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},deps:[]},{provide:$k,useClass:wv,deps:[Ee,Iv,gf]},{provide:wv,useClass:wv,deps:[Ee,Iv,gf]}],tO=[{provide:e_,useValue:"root"},{provide:qs,useFactory:function wY(){return new qs},deps:[]},{provide:tw,useClass:gY,multi:!0,deps:[ir,Ee,Ji]},{provide:tw,useClass:_Y,multi:!0,deps:[ir]},KP,zP,HP,{provide:pR,useExisting:KP},{provide:class MQ{},useClass:oY,deps:[]},[]];let CY=(()=>{class t{constructor(n){}static withServerTransition(n){return{ngModule:t,providers:[{provide:Vh,useValue:n.appId}]}}}return t.\u0275fac=function(n){return new(n||t)($(DY,12))},t.\u0275mod=Yt({type:t}),t.\u0275inj=Lt({providers:[...tO,...eO],imports:[OP,W8]}),t})(),nO=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}}return t.\u0275fac=function(n){return new(n||t)($(ir))},t.\u0275prov=j({token:t,factory:function(n){let r=null;return r=n?new n:function TY(){return new nO($(ir))}(),r},providedIn:"root"}),t})();function ee(...t){return bt(t,Gu(t))}typeof window<"u"&&window;class vr extends ai{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const{isArray:NY}=Array,{getPrototypeOf:kY,prototype:PY,keys:OY}=Object;function oO(t){if(1===t.length){const e=t[0];if(NY(e))return{args:e,keys:null};if(function FY(t){return t&&"object"==typeof t&&kY(t)===PY}(e)){const n=OY(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}const{isArray:LY}=Array;function aO(t){return ve(e=>function VY(t,e){return LY(e)?t(...e):t(e)}(t,e))}function uO(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function uw(...t){const e=Gu(t),n=LA(t),{args:r,keys:i}=oO(t);if(0===r.length)return bt([],e);const s=new He(function UY(t,e,n=Ls){return r=>{cO(e,()=>{const{length:i}=t,s=new Array(i);let o=i,a=i;for(let u=0;u<i;u++)cO(e,()=>{const c=bt(t[u],e);let l=!1;c.subscribe(Ct(r,d=>{s[u]=d,l||(l=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>uO(i,o):Ls));return n?s.pipe(aO(n)):s}function cO(t,e,n){t?ui(n,t,e):e()}const Of=ju(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function cw(...t){return function BY(){return qo(1)}()(bt(t,Gu(t)))}function lO(t){return new He(e=>{Jn(t()).subscribe(e)})}function Hc(t,e){const n=Te(t)?t:()=>t,r=i=>i.error(n());return new He(e?i=>e.schedule(r,0,i):r)}function lw(){return Ot((t,e)=>{let n=null;t._refCount++;const r=Ct(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class dO extends He{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,EA(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Un;const n=this.getSubject();e.add(this.source.subscribe(Ct(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Un.EMPTY)}return e}refCount(){return lw()(this)}}function Ci(t,e){return Ot((n,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();n.subscribe(Ct(r,u=>{i?.unsubscribe();let c=0;const l=s++;Jn(t(u,l)).subscribe(i=Ct(r,d=>r.next(e?e(u,d,l,c++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function La(t){return t<=0?()=>Ar:Ot((e,n)=>{let r=0;e.subscribe(Ct(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function is(t,e){return Ot((n,r)=>{let i=0;n.subscribe(Ct(r,s=>t.call(e,s,i++)&&r.next(s)))})}function Ff(t){return Ot((e,n)=>{let r=!1;e.subscribe(Ct(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function hO(t=jY){return Ot((e,n)=>{let r=!1;e.subscribe(Ct(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function jY(){return new Of}function Js(t,e){const n=arguments.length>=2;return r=>r.pipe(t?is((i,s)=>t(i,s,r)):Ls,La(1),n?Ff(e):hO(()=>new Of))}function Gc(t,e){return Te(e)?Ft(t,e,1):Ft(t,1)}function tn(t,e,n){const r=Te(t)||e||n?{next:t,error:e,complete:n}:t;return r?Ot((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(Ct(s,u=>{var c;null===(c=r.next)||void 0===c||c.call(r,u),s.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),s.complete()},u=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,u),s.error(u)},()=>{var u,c;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):Ls}function Zs(t){return Ot((e,n)=>{let s,r=null,i=!1;r=e.subscribe(Ct(n,void 0,void 0,o=>{s=Jn(t(o,Zs(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function dw(t){return t<=0?()=>Ar:Ot((e,n)=>{let r=[];e.subscribe(Ct(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function hw(t){return Ot((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}const se="primary",zc=Symbol("RouteTitle");class WY{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function Va(t){return new WY(t)}function KY(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function jr(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!fO(t[i],e[i]))return!1;return!0}function fO(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}return t===e}function pO(t){return t.length>0?t[t.length-1]:null}function ss(t){return function RY(t){return!!t&&(t instanceof He||Te(t.lift)&&Te(t.subscribe))}(t)?t:Sc(t)?bt(Promise.resolve(t)):ee(t)}const YY={exact:function yO(t,e,n){if(!eo(t.segments,e.segments)||!Lf(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!yO(t.children[r],e.children[r],n))return!1;return!0},subset:_O},gO={exact:function XY(t,e){return jr(t,e)},subset:function JY(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>fO(t[n],e[n]))},ignored:()=>!0};function mO(t,e,n){return YY[n.paths](t.root,e.root,n.matrixParams)&&gO[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function _O(t,e,n){return vO(t,e,e.segments,n)}function vO(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!eo(i,n)||e.hasChildren()||!Lf(i,n,r))}if(t.segments.length===n.length){if(!eo(t.segments,n)||!Lf(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!_O(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!!(eo(t.segments,i)&&Lf(t.segments,i,r)&&t.children[se])&&vO(t.children[se],e,s,r)}}function Lf(t,e,n){return e.every((r,i)=>gO[n](t[i].parameters,r.parameters))}class Ua{constructor(e=new De([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Va(this.queryParams)),this._queryParamMap}toString(){return tX.serialize(this)}}class De{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Vf(this)}}class qc{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=Va(this.parameters)),this._parameterMap}toString(){return EO(this)}}function eo(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}let Wc=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:function(){return new fw},providedIn:"root"}),t})();class fw{parse(e){const n=new hX(e);return new Ua(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${Kc(e.root,!0)}`,r=function iX(t){const e=Object.keys(t).map(n=>{const r=t[n];return Array.isArray(r)?r.map(i=>`${Uf(n)}=${Uf(i)}`).join("&"):`${Uf(n)}=${Uf(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${n}${r}${"string"==typeof e.fragment?`#${function nX(t){return encodeURI(t)}(e.fragment)}`:""}`}}const tX=new fw;function Vf(t){return t.segments.map(e=>EO(e)).join("/")}function Kc(t,e){if(!t.hasChildren())return Vf(t);if(e){const n=t.children[se]?Kc(t.children[se],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==se&&r.push(`${i}:${Kc(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function eX(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===se&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==se&&(n=n.concat(e(i,r)))}),n}(t,(r,i)=>i===se?[Kc(t.children[se],!1)]:[`${i}:${Kc(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[se]?`${Vf(t)}/${n[0]}`:`${Vf(t)}/(${n.join("//")})`}}function wO(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Uf(t){return wO(t).replace(/%3B/gi,";")}function pw(t){return wO(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Bf(t){return decodeURIComponent(t)}function IO(t){return Bf(t.replace(/\+/g,"%20"))}function EO(t){return`${pw(t.path)}${function rX(t){return Object.keys(t).map(e=>`;${pw(e)}=${pw(t[e])}`).join("")}(t.parameters)}`}const sX=/^[^\/()?;#]+/;function gw(t){const e=t.match(sX);return e?e[0]:""}const oX=/^[^\/()?;=#]+/,uX=/^[^=?&#]+/,lX=/^[^&#]+/;class hX{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new De([],{}):new De([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[se]=new De(e,n)),r}parseSegment(){const e=gw(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new b(4009,!1);return this.capture(e),new qc(Bf(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=function aX(t){const e=t.match(oX);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=gw(this.remaining);i&&(r=i,this.capture(r))}e[Bf(n)]=Bf(r)}parseQueryParam(e){const n=function cX(t){const e=t.match(uX);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const o=function dX(t){const e=t.match(lX);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=IO(n),s=IO(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=gw(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new b(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=se);const o=this.parseChildren();n[s]=1===Object.keys(o).length?o[se]:new De([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new b(4011,!1)}}function DO(t){return t.segments.length>0?new De([],{[se]:t}):t}function CO(t){const e={};for(const r of Object.keys(t.children)){const s=CO(t.children[r]);if(r===se&&0===s.segments.length&&s.hasChildren())for(const[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function fX(t){if(1===t.numberOfChildren&&t.children[se]){const e=t.children[se];return new De(t.segments.concat(e.segments),e.children)}return t}(new De(t.segments,e))}function to(t){return t instanceof Ua}function bO(t){let e;const i=DO(function n(s){const o={};for(const u of s.children){const c=n(u);o[u.outlet]=c}const a=new De(s.url,o);return s===t&&(e=a),a}(t.root));return e??i}function TO(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(0===e.length)return mw(i,i,i,n,r);const s=function gX(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new AO(!0,0,t);let e=0,n=!1;const r=t.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Object.entries(s.outlets).forEach(([u,c])=>{a[u]="string"==typeof c?c.split("/"):c}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,u)=>{0==u&&"."===a||(0==u&&""===a?n=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new AO(n,e,r)}(e);if(s.toRoot())return mw(i,i,new De([],{}),n,r);const o=function mX(t,e,n){if(t.isAbsolute)return new jf(e,!0,0);if(!n)return new jf(e,!1,NaN);if(null===n.parent)return new jf(n,!0,0);const r=$f(t.commands[0])?0:1;return function yX(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new b(4005,!1);i=r.segments.length}return new jf(r,!1,i-s)}(n,n.segments.length-1+r,t.numberOfDoubleDots)}(s,i,t),a=o.processChildren?Yc(o.segmentGroup,o.index,s.commands):MO(o.segmentGroup,o.index,s.commands);return mw(i,o.segmentGroup,a,n,r)}function $f(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Qc(t){return"object"==typeof t&&null!=t&&t.outlets}function mw(t,e,n,r,i){let o,s={};r&&Object.entries(r).forEach(([u,c])=>{s[u]=Array.isArray(c)?c.map(l=>`${l}`):`${c}`}),o=t===e?n:SO(t,e,n);const a=DO(CO(o));return new Ua(a,s,i)}function SO(t,e,n){const r={};return Object.entries(t.children).forEach(([i,s])=>{r[i]=s===e?n:SO(s,e,n)}),new De(t.segments,r)}class AO{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&$f(r[0]))throw new b(4003,!1);const i=r.find(Qc);if(i&&i!==pO(r))throw new b(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class jf{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function MO(t,e,n){if(t||(t=new De([],{})),0===t.segments.length&&t.hasChildren())return Yc(t,e,n);const r=function vX(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const o=t.segments[i],a=n[r];if(Qc(a))break;const u=`${a}`,c=r<n.length-1?n[r+1]:null;if(i>0&&void 0===u)break;if(u&&c&&"object"==typeof c&&void 0===c.outlets){if(!RO(u,c,o))return s;r+=2}else{if(!RO(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const s=new De(t.segments.slice(0,r.pathIndex),{});return s.children[se]=new De(t.segments.slice(r.pathIndex),t.children),Yc(s,0,i)}return r.match&&0===i.length?new De(t.segments,{}):r.match&&!t.hasChildren()?yw(t,e,n):r.match?Yc(t,0,i):yw(t,e,n)}function Yc(t,e,n){if(0===n.length)return new De(t.segments,{});{const r=function _X(t){return Qc(t[0])?t[0].outlets:{[se]:t}}(n),i={};if(!r[se]&&t.children[se]&&1===t.numberOfChildren&&0===t.children[se].segments.length){const s=Yc(t.children[se],e,n);return new De(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{"string"==typeof o&&(o=[o]),null!==o&&(i[s]=MO(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{void 0===r[s]&&(i[s]=o)}),new De(t.segments,i)}}function yw(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const s=n[i];if(Qc(s)){const u=wX(s.outlets);return new De(r,u)}if(0===i&&$f(n[0])){r.push(new qc(t.segments[e].path,xO(n[0]))),i++;continue}const o=Qc(s)?s.outlets[se]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&$f(a)?(r.push(new qc(o,xO(a))),i+=2):(r.push(new qc(o,{})),i++)}return new De(r,{})}function wX(t){const e={};return Object.entries(t).forEach(([n,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[n]=yw(new De([],{}),0,r))}),e}function xO(t){const e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function RO(t,e,n){return t==n.path&&jr(e,n.parameters)}const Xc="imperative";class Hr{constructor(e,n){this.id=e,this.url=n}}class _w extends Hr{constructor(e,n,r="imperative",i=null){super(e,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class no extends Hr{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Hf extends Hr{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Jc extends Hr{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=16}}class vw extends Hr{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class IX extends Hr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class EX extends Hr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class DX extends Hr{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class CX extends Hr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class bX extends Hr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class TX{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class SX{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class AX{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class MX{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class xX{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class RX{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class NO{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class NX{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Zc,this.attachRef=null}}let Zc=(()=>{class t{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){const i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new NX,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class kO{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=ww(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=ww(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=Iw(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Iw(e,this._root).map(n=>n.value)}}function ww(t,e){if(t===e.value)return e;for(const n of e.children){const r=ww(t,n);if(r)return r}return null}function Iw(t,e){if(t===e.value)return[e];for(const n of e.children){const r=Iw(t,n);if(r.length)return r.unshift(e),r}return[]}class bi{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function Ba(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class PO extends kO{constructor(e,n){super(e),this.snapshot=n,Ew(this,e)}toString(){return this.snapshot.toString()}}function OO(t,e){const n=function kX(t,e){const o=new Gf([],{},{},"",{},se,e,null,{});return new LO("",new bi(o,[]))}(0,e),r=new vr([new qc("",{})]),i=new vr({}),s=new vr({}),o=new vr({}),a=new vr(""),u=new $a(r,i,o,a,s,se,e,n.root);return u.snapshot=n.root,new PO(new bi(u,[]),n)}class $a{constructor(e,n,r,i,s,o,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(ve(c=>c[zc]))??ee(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(ve(e=>Va(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(ve(e=>Va(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function FO(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const i=n[r],s=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function PX(t){return t.reduce((e,n)=>({params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Gf{get title(){return this.data?.[zc]}constructor(e,n,r,i,s,o,a,u,c){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=u,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Va(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Va(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class LO extends kO{constructor(e,n){super(n),this.url=e,Ew(this,n)}toString(){return VO(this._root)}}function Ew(t,e){e.value._routerState=t,e.children.forEach(n=>Ew(t,n))}function VO(t){const e=t.children.length>0?` { ${t.children.map(VO).join(", ")} } `:"";return`${t.value}${e}`}function Dw(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,jr(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),jr(e.params,n.params)||t.paramsSubject.next(n.params),function QY(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!jr(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.urlSubject.next(n.url),jr(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Cw(t,e){const n=jr(t.params,e.params)&&function ZY(t,e){return eo(t,e)&&t.every((n,r)=>jr(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||Cw(t.parent,e.parent))}let bw=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=se,this.activateEvents=new Je,this.deactivateEvents=new Je,this.attachEvents=new Je,this.detachEvents=new Je,this.parentContexts=V(Zc),this.location=V(gr),this.changeDetector=V(yf),this.environmentInjector=V(mi),this.inputBinder=V(zf,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){const{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new b(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new b(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new b(4012,!1);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new b(4013,!1);this._activatedRoute=n;const i=this.location,o=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new OX(n,a,i.injector);this.activated=i.createComponent(o,{index:i.length,injector:u,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=Q({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[er]}),t})();class OX{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===$a?this.route:e===Zc?this.childContexts:this.parent.get(e,n)}}const zf=new L("");let UO=(()=>{class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){const{activatedRoute:r}=n,i=uw([r.queryParams,r.params,r.data]).pipe(Ci(([s,o,a],u)=>(a={...s,...o,...a},0===u?ee(a):Promise.resolve(a)))).subscribe(s=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(n);const o=function rK(t){const e=me(t);if(!e)return null;const n=new Ec(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone}}}(r.component);if(o)for(const{templateName:a}of o.inputs)n.activatedComponentRef.setInput(a,s[a]);else this.unsubscribeFromRouteData(n)});this.outletDataSubscriptions.set(n,i)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac}),t})();function el(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function LX(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return el(t,r,i);return el(t,r)})}(t,e,n);return new bi(r,i)}{if(t.shouldAttach(e.value)){const s=t.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>el(t,a)),o}}const r=function VX(t){return new $a(new vr(t.url),new vr(t.params),new vr(t.queryParams),new vr(t.fragment),new vr(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(s=>el(t,s));return new bi(r,i)}}const Tw="ngNavigationCancelingError";function BO(t,e){const{redirectTo:n,navigationBehaviorOptions:r}=to(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=$O(!1,0,e);return i.url=n,i.navigationBehaviorOptions=r,i}function $O(t,e,n){const r=new Error("NavigationCancelingError: "+(t||""));return r[Tw]=!0,r.cancellationCode=e,n&&(r.url=n),r}function jO(t){return HO(t)&&to(t.url)}function HO(t){return t&&t[Tw]}let GO=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=Ko({type:t,selectors:[["ng-component"]],standalone:!0,features:[j1],decls:1,vars:0,template:function(n,r){1&n&&Me(0,"router-outlet")},dependencies:[bw],encapsulation:2}),t})();function Sw(t){const e=t.children&&t.children.map(Sw),n=e?{...t,children:e}:{...t};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==se&&(n.component=GO),n}function wr(t){return t.outlet||se}function tl(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class zX{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Dw(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=Ba(n);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Ba(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Ba(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){const i=Ba(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new RX(s.value.snapshot))}),e.children.length&&this.forwardEvent(new MX(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(Dw(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),Dw(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=tl(i.snapshot);o.attachRef=null,o.route=i,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class zO{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class qf{constructor(e,n){this.component=e,this.route=n}}function qX(t,e,n){const r=t._root;return nl(r,e?e._root:null,n,[r.value])}function ja(t,e){const n=Symbol(),r=e.get(t,n);return r===n?"function"!=typeof t||function Uz(t){return null!==Kd(t)}(t)?e.get(t):t:r}function nl(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=Ba(e);return t.children.forEach(o=>{(function KX(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const u=function QX(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!eo(t.url,e.url);case"pathParamsOrQueryParamsChange":return!eo(t.url,e.url)||!jr(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Cw(t,e)||!jr(t.queryParams,e.queryParams);default:return!Cw(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new zO(r)):(s.data=o.data,s._resolvedData=o._resolvedData),nl(t,e,s.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new qf(a.outlet.component,o))}else o&&rl(e,a,i),i.canActivateChecks.push(new zO(r)),nl(t,null,s.component?a?a.children:null:n,r,i)})(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>rl(a,n.getContext(o),i)),i}function rl(t,e,n){const r=Ba(t),i=t.value;Object.entries(r).forEach(([s,o])=>{rl(o,i.component?e?e.children.getContext(s):null:e,n)}),n.canDeactivateChecks.push(new qf(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function il(t){return"function"==typeof t}function qO(t){return t instanceof Of||"EmptyError"===t?.name}const Wf=Symbol("INITIAL_VALUE");function Ha(){return Ci(t=>uw(t.map(e=>e.pipe(La(1),function $Y(...t){const e=Gu(t);return Ot((n,r)=>{(e?cw(t,n,e):cw(t,n)).subscribe(r)})}(Wf)))).pipe(ve(e=>{for(const n of e)if(!0!==n){if(n===Wf)return Wf;if(!1===n||n instanceof Ua)return n}return!0}),is(e=>e!==Wf),La(1)))}function WO(t){return function qG(...t){return vA(t)}(tn(e=>{if(to(e))throw BO(0,e)}),ve(e=>!0===e))}class Kf{constructor(e){this.segmentGroup=e||null}}class KO{constructor(e){this.urlTree=e}}function Ga(t){return Hc(new Kf(t))}function QO(t){return Hc(new KO(t))}class gJ{constructor(e,n){this.urlSerializer=e,this.urlTree=n}noMatchError(e){return new b(4002,!1)}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return ee(r);if(i.numberOfChildren>1||!i.children[se])return Hc(new b(4e3,!1));i=i.children[se]}}applyRedirectCommands(e,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r)}applyRedirectCreateUrlTree(e,n,r,i){const s=this.createSegmentGroup(e,n.root,r,i);return new Ua(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return Object.entries(e).forEach(([i,s])=>{if("string"==typeof s&&s.startsWith(":")){const a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){const s=this.createSegments(e,n.segments,r,i);let o={};return Object.entries(n.children).forEach(([a,u])=>{o[a]=this.createSegmentGroup(e,u,r,i)}),new De(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new b(4001,!1);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}const Aw={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function mJ(t,e,n,r,i){const s=Mw(t,e,n);return s.matched?(r=function UX(t,e){return t.providers&&!t._injector&&(t._injector=Z_(t.providers,e,`Route: ${t.path}`)),t._injector??e}(e,r),function hJ(t,e,n,r){const i=e.canMatch;return i&&0!==i.length?ee(i.map(o=>{const a=ja(o,t);return ss(function tJ(t){return t&&il(t.canMatch)}(a)?a.canMatch(e,n):t.runInContext(()=>a(e,n)))})).pipe(Ha(),WO()):ee(!0)}(r,e,n).pipe(ve(o=>!0===o?s:{...Aw}))):ee(s)}function Mw(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{...Aw}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(e.matcher||KY)(n,t,e);if(!i)return{...Aw};const s={};Object.entries(i.posParams??{}).forEach(([a,u])=>{s[a]=u.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function YO(t,e,n,r){return n.length>0&&function vJ(t,e,n){return n.some(r=>Qf(t,e,r)&&wr(r)!==se)}(t,n,r)?{segmentGroup:new De(e,_J(r,new De(n,t.children))),slicedSegments:[]}:0===n.length&&function wJ(t,e,n){return n.some(r=>Qf(t,e,r))}(t,n,r)?{segmentGroup:new De(t.segments,yJ(t,0,n,r,t.children)),slicedSegments:n}:{segmentGroup:new De(t.segments,t.children),slicedSegments:n}}function yJ(t,e,n,r,i){const s={};for(const o of r)if(Qf(t,n,o)&&!i[wr(o)]){const a=new De([],{});s[wr(o)]=a}return{...i,...s}}function _J(t,e){const n={};n[se]=e;for(const r of t)if(""===r.path&&wr(r)!==se){const i=new De([],{});n[wr(r)]=i}return n}function Qf(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}class CJ{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new gJ(this.urlSerializer,this.urlTree)}noMatchError(e){return new b(4002,!1)}recognize(){const e=YO(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,se).pipe(Zs(n=>{if(n instanceof KO)return this.allowRedirects=!1,this.urlTree=n.urlTree,this.match(n.urlTree);throw n instanceof Kf?this.noMatchError(n):n}),ve(n=>{const r=new Gf([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},se,this.rootComponentType,null,{}),i=new bi(r,n),s=new LO("",i),o=function pX(t,e,n=null,r=null){return TO(bO(t),e,n,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,se).pipe(Zs(r=>{throw r instanceof Kf?this.noMatchError(r):r}))}inheritParamsAndData(e){const n=e.value,r=FO(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0)}processChildren(e,n,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return bt(i).pipe(Gc(s=>{const o=r.children[s],a=function HX(t,e){const n=t.filter(r=>wr(r)===e);return n.push(...t.filter(r=>wr(r)!==e)),n}(n,s);return this.processSegmentGroup(e,a,o,s)}),function GY(t,e){return Ot(function HY(t,e,n,r,i){return(s,o)=>{let a=n,u=e,c=0;s.subscribe(Ct(o,l=>{const d=c++;u=a?t(u,l,d):(a=!0,l),r&&o.next(u)},i&&(()=>{a&&o.next(u),o.complete()})))}}(t,e,arguments.length>=2,!0))}((s,o)=>(s.push(...o),s)),Ff(null),function zY(t,e){const n=arguments.length>=2;return r=>r.pipe(t?is((i,s)=>t(i,s,r)):Ls,dw(1),n?Ff(e):hO(()=>new Of))}(),Ft(s=>{if(null===s)return Ga(r);const o=XO(s);return function bJ(t){t.sort((e,n)=>e.value.outlet===se?-1:n.value.outlet===se?1:e.value.outlet.localeCompare(n.value.outlet))}(o),ee(o)}))}processSegment(e,n,r,i,s,o){return bt(n).pipe(Gc(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,s,o).pipe(Zs(u=>{if(u instanceof Kf)return ee(null);throw u}))),Js(a=>!!a),Zs(a=>{if(qO(a))return function EJ(t,e,n){return 0===e.length&&!t.children[n]}(r,i,s)?ee([]):Ga(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,s,o,a){return function IJ(t,e,n,r){return!!(wr(t)===r||r!==se&&Qf(e,n,t))&&("**"===t.path||Mw(e,t,n).matched)}(r,i,s,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,s,o,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o):Ga(i):Ga(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,i){const s=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?QO(s):this.applyRedirects.lineralizeSegments(r,s).pipe(Ft(o=>{const a=new De(o,{});return this.processSegment(e,n,a,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){const{matched:a,consumedSegments:u,remainingSegments:c,positionalParamSegments:l}=Mw(n,i,s);if(!a)return Ga(n);const d=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,l);return i.redirectTo.startsWith("/")?QO(d):this.applyRedirects.lineralizeSegments(i,d).pipe(Ft(h=>this.processSegment(e,r,n,h.concat(c),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s,o){let a;if("**"===r.path){const u=i.length>0?pO(i).parameters:{};a=ee({snapshot:new Gf(i,u,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,JO(r),wr(r),r.component??r._loadedComponent??null,r,ZO(r)),consumedSegments:[],remainingSegments:[]}),n.children={}}else a=mJ(n,r,i,e).pipe(ve(({matched:u,consumedSegments:c,remainingSegments:l,parameters:d})=>u?{snapshot:new Gf(c,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,JO(r),wr(r),r.component??r._loadedComponent??null,r,ZO(r)),consumedSegments:c,remainingSegments:l}:null));return a.pipe(Ci(u=>null===u?Ga(n):this.getChildConfig(e=r._injector??e,r,i).pipe(Ci(({routes:c})=>{const l=r._loadedInjector??e,{snapshot:d,consumedSegments:h,remainingSegments:f}=u,{segmentGroup:p,slicedSegments:m}=YO(n,h,f,c);if(0===m.length&&p.hasChildren())return this.processChildren(l,c,p).pipe(ve(v=>null===v?null:[new bi(d,v)]));if(0===c.length&&0===m.length)return ee([new bi(d,[])]);const y=wr(r)===s;return this.processSegment(l,c,p,m,y?se:s,!0).pipe(ve(v=>[new bi(d,v)]))}))))}getChildConfig(e,n,r){return n.children?ee({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?ee({routes:n._loadedRoutes,injector:n._loadedInjector}):function dJ(t,e,n,r){const i=e.canLoad;return void 0===i||0===i.length?ee(!0):ee(i.map(o=>{const a=ja(o,t);return ss(function XX(t){return t&&il(t.canLoad)}(a)?a.canLoad(e,n):t.runInContext(()=>a(e,n)))})).pipe(Ha(),WO())}(e,n,r).pipe(Ft(i=>i?this.configLoader.loadChildren(e,n).pipe(tn(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):function pJ(t){return Hc($O(!1,3))}())):ee({routes:[],injector:e})}}function TJ(t){const e=t.value.routeConfig;return e&&""===e.path}function XO(t){const e=[],n=new Set;for(const r of t){if(!TJ(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=XO(r.children);e.push(new bi(r.value,i))}return e.filter(r=>!n.has(r))}function JO(t){return t.data||{}}function ZO(t){return t.resolve||{}}function eF(t){return"string"==typeof t.title||null===t.title}function xw(t){return Ci(e=>{const n=t(e);return n?bt(n).pipe(ve(()=>e)):ee(e)})}const za=new L("ROUTES");let Rw=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=V(kk)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return ee(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const r=ss(n.loadComponent()).pipe(ve(tF),tn(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),hw(()=>{this.componentLoaders.delete(n)})),i=new dO(r,()=>new ai).pipe(lw());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return ee({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(ve(a=>{this.onLoadEndListener&&this.onLoadEndListener(r);let u,c;return Array.isArray(a)?c=a:(u=a.create(n).injector,c=u.get(za,[],H.Self|H.Optional).flat()),{routes:c.map(Sw),injector:u}}),hw(()=>{this.childrenLoaders.delete(r)})),o=new dO(s,()=>new ai).pipe(lw());return this.childrenLoaders.set(r,o),o}loadModuleFactoryOrRoutes(n){return ss(n()).pipe(ve(tF),Ft(r=>r instanceof B1||Array.isArray(r)?ee(r):bt(this.compiler.compileModuleAsync(r))))}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function tF(t){return function kJ(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let Yf=(()=>{class t{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new ai,this.configLoader=V(Rw),this.environmentInjector=V(mi),this.urlSerializer=V(Wc),this.rootContexts=V(Zc),this.inputBindingEnabled=null!==V(zf,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>ee(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new SX(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new TX(i))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:r})}setupNavigations(n){return this.transitions=new vr({id:0,currentUrlTree:n.currentUrlTree,currentRawUrl:n.currentUrlTree,extractedUrl:n.urlHandlingStrategy.extract(n.currentUrlTree),urlAfterRedirects:n.urlHandlingStrategy.extract(n.currentUrlTree),rawUrl:n.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Xc,restoredState:null,currentSnapshot:n.routerState.snapshot,targetSnapshot:null,currentRouterState:n.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(is(r=>0!==r.id),ve(r=>({...r,extractedUrl:n.urlHandlingStrategy.extract(r.rawUrl)})),Ci(r=>{let i=!1,s=!1;return ee(r).pipe(tn(o=>{this.currentNavigation={id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Ci(o=>{const a=n.browserUrlTree.toString(),u=!n.navigated||o.extractedUrl.toString()!==a||a!==n.currentUrlTree.toString();if(!u&&"reload"!==(o.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const l="";return this.events.next(new Jc(o.id,n.serializeUrl(r.rawUrl),l,0)),n.rawUrlTree=o.rawUrl,o.resolve(null),Ar}if(n.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return nF(o.source)&&(n.browserUrlTree=o.extractedUrl),ee(o).pipe(Ci(l=>{const d=this.transitions?.getValue();return this.events.next(new _w(l.id,this.urlSerializer.serialize(l.extractedUrl),l.source,l.restoredState)),d!==this.transitions?.getValue()?Ar:Promise.resolve(l)}),function SJ(t,e,n,r,i,s){return Ft(o=>function DJ(t,e,n,r,i,s,o="emptyOnly"){return new CJ(t,e,n,r,i,o,s).recognize()}(t,e,n,r,o.extractedUrl,i,s).pipe(ve(({state:a,tree:u})=>({...o,targetSnapshot:a,urlAfterRedirects:u}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,n.paramsInheritanceStrategy),tn(l=>{if(r.targetSnapshot=l.targetSnapshot,r.urlAfterRedirects=l.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:l.urlAfterRedirects},"eager"===n.urlUpdateStrategy){if(!l.extras.skipLocationChange){const h=n.urlHandlingStrategy.merge(l.urlAfterRedirects,l.rawUrl);n.setBrowserUrl(h,l)}n.browserUrlTree=l.urlAfterRedirects}const d=new IX(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}));if(u&&n.urlHandlingStrategy.shouldProcessUrl(n.rawUrlTree)){const{id:l,extractedUrl:d,source:h,restoredState:f,extras:p}=o,m=new _w(l,this.urlSerializer.serialize(d),h,f);this.events.next(m);const y=OO(0,this.rootComponentType).snapshot;return ee(r={...o,targetSnapshot:y,urlAfterRedirects:d,extras:{...p,skipLocationChange:!1,replaceUrl:!1}})}{const l="";return this.events.next(new Jc(o.id,n.serializeUrl(r.extractedUrl),l,1)),n.rawUrlTree=o.rawUrl,o.resolve(null),Ar}}),tn(o=>{const a=new EX(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(a)}),ve(o=>r={...o,guards:qX(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),function rJ(t,e){return Ft(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?ee({...n,guardsResult:!0}):function iJ(t,e,n,r){return bt(t).pipe(Ft(i=>function lJ(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?ee(s.map(a=>{const u=tl(e)??i,c=ja(a,u);return ss(function eJ(t){return t&&il(t.canDeactivate)}(c)?c.canDeactivate(t,e,n,r):u.runInContext(()=>c(t,e,n,r))).pipe(Js())})).pipe(Ha()):ee(!0)}(i.component,i.route,n,e,r)),Js(i=>!0!==i,!0))}(o,r,i,t).pipe(Ft(a=>a&&function YX(t){return"boolean"==typeof t}(a)?function sJ(t,e,n,r){return bt(e).pipe(Gc(i=>cw(function aJ(t,e){return null!==t&&e&&e(new AX(t)),ee(!0)}(i.route.parent,r),function oJ(t,e){return null!==t&&e&&e(new xX(t)),ee(!0)}(i.route,r),function cJ(t,e,n){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function WX(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(o)).filter(o=>null!==o).map(o=>lO(()=>ee(o.guards.map(u=>{const c=tl(o.node)??n,l=ja(u,c);return ss(function ZX(t){return t&&il(t.canActivateChild)}(l)?l.canActivateChild(r,t):c.runInContext(()=>l(r,t))).pipe(Js())})).pipe(Ha())));return ee(s).pipe(Ha())}(t,i.path,n),function uJ(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return ee(!0);const i=r.map(s=>lO(()=>{const o=tl(e)??n,a=ja(s,o);return ss(function JX(t){return t&&il(t.canActivate)}(a)?a.canActivate(e,t):o.runInContext(()=>a(e,t))).pipe(Js())}));return ee(i).pipe(Ha())}(t,i.route,n))),Js(i=>!0!==i,!0))}(r,s,t,e):ee(a)),ve(a=>({...n,guardsResult:a})))})}(this.environmentInjector,o=>this.events.next(o)),tn(o=>{if(r.guardsResult=o.guardsResult,to(o.guardsResult))throw BO(0,o.guardsResult);const a=new DX(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(a)}),is(o=>!!o.guardsResult||(n.restoreHistory(o),this.cancelNavigationTransition(o,"",3),!1)),xw(o=>{if(o.guards.canActivateChecks.length)return ee(o).pipe(tn(a=>{const u=new CX(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}),Ci(a=>{let u=!1;return ee(a).pipe(function AJ(t,e){return Ft(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return ee(n);let s=0;return bt(i).pipe(Gc(o=>function MJ(t,e,n,r){const i=t.routeConfig,s=t._resolve;return void 0!==i?.title&&!eF(i)&&(s[zc]=i.title),function xJ(t,e,n,r){const i=function RJ(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===i.length)return ee({});const s={};return bt(i).pipe(Ft(o=>function NJ(t,e,n,r){const i=tl(e)??r,s=ja(t,i);return ss(s.resolve?s.resolve(e,n):i.runInContext(()=>s(e,n)))}(t[o],e,n,r).pipe(Js(),tn(a=>{s[o]=a}))),dw(1),function qY(t){return ve(()=>t)}(s),Zs(o=>qO(o)?Ar:Hc(o)))}(s,t,e,r).pipe(ve(o=>(t._resolvedData=o,t.data=FO(t,n).resolve,i&&eF(i)&&(t.data[zc]=i.title),null)))}(o.route,r,t,e)),tn(()=>s++),dw(1),Ft(o=>s===i.length?ee(n):Ar))})}(n.paramsInheritanceStrategy,this.environmentInjector),tn({next:()=>u=!0,complete:()=>{u||(n.restoreHistory(a),this.cancelNavigationTransition(a,"",2))}}))}),tn(a=>{const u=new bX(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}))}),xw(o=>{const a=u=>{const c=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&c.push(this.configLoader.loadComponent(u.routeConfig).pipe(tn(l=>{u.component=l}),ve(()=>{})));for(const l of u.children)c.push(...a(l));return c};return uw(a(o.targetSnapshot.root)).pipe(Ff(),La(1))}),xw(()=>this.afterPreactivation()),ve(o=>{const a=function FX(t,e,n){const r=el(t,e._root,n?n._root:void 0);return new PO(r,e)}(n.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return r={...o,targetRouterState:a}}),tn(o=>{n.currentUrlTree=o.urlAfterRedirects,n.rawUrlTree=n.urlHandlingStrategy.merge(o.urlAfterRedirects,o.rawUrl),n.routerState=o.targetRouterState,"deferred"===n.urlUpdateStrategy&&(o.extras.skipLocationChange||n.setBrowserUrl(n.rawUrlTree,o),n.browserUrlTree=o.urlAfterRedirects)}),((t,e,n,r)=>ve(i=>(new zX(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)))(this.rootContexts,n.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),La(1),tn({next:o=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,n.navigated=!0,this.events.next(new no(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(n.currentUrlTree))),n.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),hw(()=>{i||s||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),Zs(o=>{if(s=!0,HO(o)){jO(o)||(n.navigated=!0,n.restoreHistory(r,!0));const a=new Hf(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode);if(this.events.next(a),jO(o)){const u=n.urlHandlingStrategy.merge(o.url,n.rawUrlTree),c={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===n.urlUpdateStrategy||nF(r.source)};n.scheduleNavigation(u,Xc,null,c,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{n.restoreHistory(r,!0);const a=new vw(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);this.events.next(a);try{r.resolve(n.errorHandler(o))}catch(u){r.reject(u)}}return Ar}))}))}cancelNavigationTransition(n,r,i){const s=new Hf(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(s),n.resolve(!1)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function nF(t){return t!==Xc}let rF=(()=>{class t{buildTitle(n){let r,i=n.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===se);return r}getResolvedTitleForRoute(n){return n.data[zc]}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:function(){return V(PJ)},providedIn:"root"}),t})(),PJ=(()=>{class t extends rF{constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}}return t.\u0275fac=function(n){return new(n||t)($(nO))},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),OJ=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:function(){return V(LJ)},providedIn:"root"}),t})();class FJ{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}let LJ=(()=>{class t extends FJ{}return t.\u0275fac=function(){let e;return function(r){return(e||(e=Bt(t)))(r||t)}}(),t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Xf=new L("",{providedIn:"root",factory:()=>({})});let VJ=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:function(){return V(UJ)},providedIn:"root"}),t})(),UJ=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var Wn=(()=>((Wn=Wn||{})[Wn.COMPLETE=0]="COMPLETE",Wn[Wn.FAILED=1]="FAILED",Wn[Wn.REDIRECTING=2]="REDIRECTING",Wn))();function iF(t,e){t.events.pipe(is(n=>n instanceof no||n instanceof Hf||n instanceof vw||n instanceof Jc),ve(n=>n instanceof no||n instanceof Jc?Wn.COMPLETE:n instanceof Hf&&(0===n.code||1===n.code)?Wn.REDIRECTING:Wn.FAILED),is(n=>n!==Wn.REDIRECTING),La(1)).subscribe(()=>{e()})}function BJ(t){throw t}function $J(t,e,n){return e.parse("/")}const jJ={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},HJ={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ar=(()=>{class t{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=V(Nk),this.isNgZoneEnabled=!1,this.options=V(Xf,{optional:!0})||{},this.pendingTasks=V(gP),this.errorHandler=this.options.errorHandler||BJ,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||$J,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=V(VJ),this.routeReuseStrategy=V(OJ),this.titleStrategy=V(rF),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=V(za,{optional:!0})?.flat()??[],this.navigationTransitions=V(Yf),this.urlSerializer=V(Wc),this.location=V(Ov),this.componentInputBindingEnabled=!!V(zf,{optional:!0}),this.isNgZoneEnabled=V(Ee)instanceof Ee&&Ee.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Ua,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=OO(0,null),this.navigationTransitions.setupNavigations(this).subscribe(n=>{this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId??0},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)})}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const n=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Xc,n)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r="popstate"===n.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(n.url,r,n.state)},0)}))}navigateToSyncWithBrowser(n,r,i){const s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){const u={...i};delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(s.state=u)}const a=this.parseUrl(n);this.scheduleNavigation(a,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(Sw),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(n,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:u}=r,c=u?this.currentUrlTree.fragment:o;let d,l=null;switch(a){case"merge":l={...this.currentUrlTree.queryParams,...s};break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=s||null}null!==l&&(l=this.removeEmptyProps(l));try{d=bO(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof n[0]||!n[0].startsWith("/"))&&(n=[]),d=this.currentUrlTree.root}return TO(d,n,l,c??null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=to(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,Xc,null,r)}navigate(n,r={skipLocationChange:!1}){return function GJ(t){for(let e=0;e<t.length;e++)if(null==t[e])throw new b(4008,!1)}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,n)}return r}isActive(n,r){let i;if(i=!0===r?{...jJ}:!1===r?{...HJ}:r,to(n))return mO(this.currentUrlTree,n,i);const s=this.parseUrl(n);return mO(this.currentUrlTree,s,i)}removeEmptyProps(n){return Object.keys(n).reduce((r,i)=>{const s=n[i];return null!=s&&(r[i]=s),r},{})}scheduleNavigation(n,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,u,c;o?(a=o.resolve,u=o.reject,c=o.promise):c=new Promise((d,h)=>{a=d,u=h});const l=this.pendingTasks.add();return iF(this,()=>{Promise.resolve().then(()=>this.pendingTasks.remove(l))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:s,resolve:a,reject:u,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(d=>Promise.reject(d))}setBrowserUrl(n,r){const i=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const o={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",o)}else{const s={...r.extras.state,...this.generateNgRouterState(r.id,(this.browserPageId??0)+1)};this.location.go(i,"",s)}}restoreHistory(n,r=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-(this.browserPageId??this.currentPageId);0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class sF{}let WJ=(()=>{class t{constructor(n,r,i,s,o){this.router=n,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(is(n=>n instanceof no),Gc(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=Z_(s.providers,n,`Route: ${s.path}`));const o=s._injector??n,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return bt(i).pipe(qo())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(n,r):ee(null);const s=i.pipe(Ft(o=>null===o?ee(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??n,o.routes))));return r.loadComponent&&!r._loadedComponent?bt([s,this.loader.loadComponent(r)]).pipe(qo()):s})}}return t.\u0275fac=function(n){return new(n||t)($(ar),$(kk),$(mi),$(sF),$(Rw))},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const kw=new L("");let oF=(()=>{class t{constructor(n,r,i,s,o={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof _w?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof no?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof Jc&&0===n.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof NO&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new NO(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return t.\u0275fac=function(n){!function kR(){throw new Error("invalid")}()},t.\u0275prov=j({token:t,factory:t.\u0275fac}),t})();function Ti(t,e){return{\u0275kind:t,\u0275providers:e}}function uF(){const t=V(xn);return e=>{const n=t.get(Oa);if(e!==n.components[0])return;const r=t.get(ar),i=t.get(cF);1===t.get(Pw)&&r.initialNavigation(),t.get(lF,null,H.Optional)?.setUpPreloading(),t.get(kw,null,H.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const cF=new L("",{factory:()=>new ai}),Pw=new L("",{providedIn:"root",factory:()=>1}),lF=new L("");function XJ(t){return Ti(0,[{provide:lF,useExisting:WJ},{provide:sF,useExisting:t}])}const dF=new L("ROUTER_FORROOT_GUARD"),ZJ=[Ov,{provide:Wc,useClass:fw},ar,Zc,{provide:$a,useFactory:function aF(t){return t.routerState.root},deps:[ar]},Rw,[]];function eZ(){return new Gk("Router",ar)}let Ow=(()=>{class t{constructor(n){}static forRoot(n,r){return{ngModule:t,providers:[ZJ,[],{provide:za,multi:!0,useValue:n},{provide:dF,useFactory:iZ,deps:[[ar,new vt,new Ih]]},{provide:Xf,useValue:r||{}},r?.useHash?{provide:Xs,useClass:uK}:{provide:Xs,useClass:vP},{provide:kw,useFactory:()=>{const t=V(TQ),e=V(Ee),n=V(Xf),r=V(Yf),i=V(Wc);return n.scrollOffset&&t.setOffset(n.scrollOffset),new oF(i,r,t,e,n)}},r?.preloadingStrategy?XJ(r.preloadingStrategy).\u0275providers:[],{provide:Gk,multi:!0,useFactory:eZ},r?.initialNavigation?sZ(r):[],r?.bindToComponentInputs?Ti(8,[UO,{provide:zf,useExisting:UO}]).\u0275providers:[],[{provide:hF,useFactory:uF},{provide:Cv,multi:!0,useExisting:hF}]]}}static forChild(n){return{ngModule:t,providers:[{provide:za,multi:!0,useValue:n}]}}}return t.\u0275fac=function(n){return new(n||t)($(dF,8))},t.\u0275mod=Yt({type:t}),t.\u0275inj=Lt({}),t})();function iZ(t){return"guarded"}function sZ(t){return["disabled"===t.initialNavigation?Ti(3,[{provide:gv,multi:!0,useFactory:()=>{const e=V(ar);return()=>{e.setUpLocationChangeListener()}}},{provide:Pw,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?Ti(2,[{provide:Pw,useValue:0},{provide:gv,multi:!0,deps:[xn],useFactory:e=>{const n=e.get(oK,Promise.resolve());return()=>n.then(()=>new Promise(r=>{const i=e.get(ar),s=e.get(cF);iF(i,()=>{r(!0)}),e.get(Yf).afterPreactivation=()=>(r(!0),s.closed?ee(void 0):s),i.initialNavigation()}))}}]).\u0275providers:[]]}const hF=new L(""),aZ=[];let uZ=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Yt({type:t}),t.\u0275inj=Lt({imports:[Ow.forRoot(aZ),Ow]}),t})(),cZ=(()=>{class t{constructor(){this.title="estadisticas"}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=Ko({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(n,r){1&n&&Me(0,"router-outlet")},dependencies:[bw]}),t})();function fF(t,e,n,r,i,s,o){try{var a=t[s](o),u=a.value}catch(c){return void n(c)}a.done?e(u):Promise.resolve(u).then(r,i)}function g(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var s=t.apply(e,n);function o(u){fF(s,r,i,o,a,"next",u)}function a(u){fF(s,r,i,o,a,"throw",u)}o(void 0)})}}const pF=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},Lw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0;let h=(15&a)<<2|c>>6,f=63&c;u||(f=64,o||(h=64)),r.push(n[s>>2],n[(3&s)<<4|a>>4],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(pF(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const u=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(1023&u))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,null==s||null==a||null==c||null==d)throw new fZ;r.push(s<<2|a>>4),64!==c&&(r.push(a<<4&240|c>>2),64!==d&&r.push(c<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class fZ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Jf=function(t){return function(t){const e=pF(t);return Lw.encodeByteArray(e,!0)}(t).replace(/\./g,"")},Zf=function(t){try{return Lw.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null},ep=()=>{try{return function mZ(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const t=process.env.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Zf(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}},mF=t=>{var e,n;return null===(n=null===(e=ep())||void 0===e?void 0:e.emulatorHosts)||void 0===n?void 0:n[t]},yF=t=>{const e=mF(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return"["===e[0]?[e.substring(1,n-1),r]:[e.substring(0,n),r]},_F=()=>{var t;return null===(t=ep())||void 0===t?void 0:t.config},vF=t=>{var e;return null===(e=ep())||void 0===e?void 0:e[`_${t}`]};class tp{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,r))}}}function wF(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Jf(JSON.stringify({alg:"none",type:"JWT"})),Jf(JSON.stringify(o)),""].join(".")}function St(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Vw(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function ro(){try{return"object"==typeof indexedDB}catch{return!1}}function sl(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(n){e(n)}})}function Uw(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Kn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,Kn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Gr.prototype.create)}}class Gr{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function bZ(t,e){return t.replace(TZ,(n,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new Kn(i,`${this.serviceName}: ${o} (${i}).`,r)}}const TZ=/\{\$([^}]+)}/g;function rp(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(EF(s)&&EF(o)){if(!rp(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function EF(t){return null!==t&&"object"==typeof t}function ip(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}class MZ{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(void 0===e&&void 0===n&&void 0===r)throw new Error("Missing Observer.");i=function xZ(t,e){if("object"!=typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"==typeof t[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:n,complete:r},void 0===i.next&&(i.next=Bw),void 0===i.error&&(i.error=Bw),void 0===i.complete&&(i.complete=Bw);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Bw(){}const RZ=1e3,NZ=2,kZ=144e5,PZ=.5;function jw(t,e=RZ,n=NZ){const r=e*Math.pow(n,t),i=Math.round(PZ*r*(Math.random()-.5)*2);return Math.min(kZ,r+i)}function Ir(t){return t&&t._delegate?t._delegate:t}class $t{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const io="[DEFAULT]";class FZ{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new tp;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(n=e?.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function VZ(t){return"EAGER"===t.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:io})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=io){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return g(function*(){const n=Array.from(e.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=io){return this.instances.has(e)}getOptions(e=io){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(t=e,t===io?void 0:t),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var t;return r||null}normalizeInstanceIdentifier(e=io){return this.component?this.component.multipleInstances?e:io:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class UZ{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new FZ(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}const Hw=[];var Y=(()=>((Y=Y||{})[Y.DEBUG=0]="DEBUG",Y[Y.VERBOSE=1]="VERBOSE",Y[Y.INFO=2]="INFO",Y[Y.WARN=3]="WARN",Y[Y.ERROR=4]="ERROR",Y[Y.SILENT=5]="SILENT",Y))();const DF={debug:Y.DEBUG,verbose:Y.VERBOSE,info:Y.INFO,warn:Y.WARN,error:Y.ERROR,silent:Y.SILENT},BZ=Y.INFO,$Z={[Y.DEBUG]:"log",[Y.VERBOSE]:"log",[Y.INFO]:"info",[Y.WARN]:"warn",[Y.ERROR]:"error"},jZ=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=$Z[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class qa{constructor(e){this.name=e,this._logLevel=BZ,this._logHandler=jZ,this._userLogHandler=null,Hw.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Y))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?DF[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Y.DEBUG,...e),this._logHandler(this,Y.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Y.VERBOSE,...e),this._logHandler(this,Y.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Y.INFO,...e),this._logHandler(this,Y.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Y.WARN,...e),this._logHandler(this,Y.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Y.ERROR,...e),this._logHandler(this,Y.ERROR,...e)}}const HZ=(t,e)=>e.some(n=>t instanceof n);let CF,bF;const TF=new WeakMap,Gw=new WeakMap,SF=new WeakMap,zw=new WeakMap,qw=new WeakMap;let Ww={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return Gw.get(t);if("objectStoreNames"===e)return t.objectStoreNames||SF.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return os(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function YZ(t){return"function"==typeof t?function QZ(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function zZ(){return bF||(bF=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(Kw(this),e),os(TF.get(this))}:function(...e){return os(t.apply(Kw(this),e))}:function(e,...n){const r=t.call(Kw(this),e,...n);return SF.set(r,e.sort?e.sort():[e]),os(r)}}(t):(t instanceof IDBTransaction&&function WZ(t){if(Gw.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Gw.set(t,e)}(t),HZ(t,function GZ(){return CF||(CF=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,Ww):t)}function os(t){if(t instanceof IDBRequest)return function qZ(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(os(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&TF.set(n,t)}).catch(()=>{}),qw.set(e,t),e}(t);if(zw.has(t))return zw.get(t);const e=YZ(t);return e!==t&&(zw.set(t,e),qw.set(e,t)),e}const Kw=t=>qw.get(t),JZ=["get","getKey","getAll","getAllKeys","count"],ZZ=["put","add","delete","clear"],Qw=new Map;function AF(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(Qw.get(e))return Qw.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=ZZ.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!JZ.includes(n))return;const s=function(){var o=g(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[n](...u),i&&c.done]))[0]});return function(u){return o.apply(this,arguments)}}();return Qw.set(e,s),s}!function KZ(t){Ww=t(Ww)}(t=>({...t,get:(e,n,r)=>AF(e,n)||t.get(e,n,r),has:(e,n)=>!!AF(e,n)||t.has(e,n)}));class eee{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function tee(t){const e=t.getComponent();return"VERSION"===e?.type}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const Yw="@firebase/app",so=new qa("@firebase/app"),sp="[DEFAULT]",See={[Yw]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},oo=new Map,op=new Map;function Aee(t,e){try{t.container.addComponent(e)}catch(n){so.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function nn(t){const e=t.name;if(op.has(e))return so.debug(`There were multiple attempts to register component ${e}.`),!1;op.set(e,t);for(const n of oo.values())Aee(n,t);return!0}function ao(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}const Si=new Gr("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class xee{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new $t("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Si.create("app-deleted",{appName:this._name})}}const as="9.22.1";function xF(t,e={}){let n=t;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:sp,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw Si.create("bad-app-name",{appName:String(i)});if(n||(n=_F()),!n)throw Si.create("no-options");const s=oo.get(i);if(s){if(rp(n,s.options)&&rp(r,s.config))return s;throw Si.create("duplicate-app",{appName:i})}const o=new UZ(i);for(const u of op.values())o.addComponent(u);const a=new xee(n,r,o);return oo.set(i,a),a}function ap(t=sp){const e=oo.get(t);if(!e&&t===sp&&_F())return xF();if(!e)throw Si.create("no-app",{appName:t});return e}function RF(){return Array.from(oo.values())}function Oe(t,e,n){var r;let i=null!==(r=See[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void so.warn(a.join(" "))}nn(new $t(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const Ree="firebase-heartbeat-database",Nee=1,ol="firebase-heartbeat-store";let Jw=null;function NF(){return Jw||(Jw=function XZ(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=os(o);return r&&o.addEventListener("upgradeneeded",u=>{r(os(o.result),u.oldVersion,u.newVersion,os(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}(Ree,Nee,{upgrade:(t,e)=>{0===e&&t.createObjectStore(ol)}}).catch(t=>{throw Si.create("idb-open",{originalErrorMessage:t.message})})),Jw}function Zw(){return(Zw=g(function*(t){try{return yield(yield NF()).transaction(ol).objectStore(ol).get(PF(t))}catch(e){if(e instanceof Kn)so.warn(e.message);else{const n=Si.create("idb-get",{originalErrorMessage:e?.message});so.warn(n.message)}}})).apply(this,arguments)}function kF(t,e){return eI.apply(this,arguments)}function eI(){return(eI=g(function*(t,e){try{const r=(yield NF()).transaction(ol,"readwrite");yield r.objectStore(ol).put(e,PF(t)),yield r.done}catch(n){if(n instanceof Kn)so.warn(n.message);else{const r=Si.create("idb-set",{originalErrorMessage:n?.message});so.warn(r.message)}}})).apply(this,arguments)}function PF(t){return`${t.name}!${t.options.appId}`}class Fee{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Vee(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return g(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=OF();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(s=>s.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return g(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const n=OF(),{heartbeatsToSend:r,unsentEntries:i}=function Lee(t,e=1024){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),FF(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),FF(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=Jf(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function OF(){return(new Date).toISOString().substring(0,10)}class Vee{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return g(function*(){return!!ro()&&sl().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return g(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function kee(t){return Zw.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var n=this;return g(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return kF(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var n=this;return g(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return kF(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function FF(t){return Jf(JSON.stringify({version:2,heartbeats:t})).length}!function Uee(t){nn(new $t("platform-logger",e=>new eee(e),"PRIVATE")),nn(new $t("heartbeat",e=>new Fee(e),"PRIVATE")),Oe(Yw,"0.9.11",t),Oe(Yw,"0.9.11","esm2017"),Oe("fire-js","")}(""),Oe("firebase","9.22.1","app");const jee=(t,e)=>e.some(n=>t instanceof n);let LF,VF;const UF=new WeakMap,tI=new WeakMap,BF=new WeakMap,nI=new WeakMap,rI=new WeakMap;let iI={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return tI.get(t);if("objectStoreNames"===e)return t.objectStoreNames||BF.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return us(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function Qee(t){return"function"==typeof t?function Kee(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Gee(){return VF||(VF=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(sI(this),e),us(UF.get(this))}:function(...e){return us(t.apply(sI(this),e))}:function(e,...n){const r=t.call(sI(this),e,...n);return BF.set(r,e.sort?e.sort():[e]),us(r)}}(t):(t instanceof IDBTransaction&&function qee(t){if(tI.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});tI.set(t,e)}(t),jee(t,function Hee(){return LF||(LF=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,iI):t)}function us(t){if(t instanceof IDBRequest)return function zee(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(us(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&UF.set(n,t)}).catch(()=>{}),rI.set(e,t),e}(t);if(nI.has(t))return nI.get(t);const e=Qee(t);return e!==t&&(nI.set(t,e),rI.set(e,t)),e}const sI=t=>rI.get(t),Xee=["get","getKey","getAll","getAllKeys","count"],Jee=["put","add","delete","clear"],oI=new Map;function $F(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(oI.get(e))return oI.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Jee.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Xee.includes(n))return;const s=function(){var o=g(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[n](...u),i&&c.done]))[0]});return function(u){return o.apply(this,arguments)}}();return oI.set(e,s),s}!function Wee(t){iI=t(iI)}(t=>({...t,get:(e,n,r)=>$F(e,n)||t.get(e,n,r),has:(e,n)=>!!$F(e,n)||t.has(e,n)}));const jF="@firebase/installations",aI="0.6.4",HF=1e4,GF=`w:${aI}`,zF="FIS_v2",Zee="https://firebaseinstallations.googleapis.com/v1",ete=36e5,Ai=new Gr("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function qF(t){return t instanceof Kn&&t.code.includes("request-failed")}function uI({projectId:t}){return`${Zee}/projects/${t}/installations`}function WF(t){return{token:t.token,requestStatus:2,expiresIn:ite(t.expiresIn),creationTime:Date.now()}}function cI(t,e){return lI.apply(this,arguments)}function lI(){return(lI=g(function*(t,e){const r=(yield e.json()).error;return Ai.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function KF({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function dI(t){return hI.apply(this,arguments)}function hI(){return(hI=g(function*(t){const e=yield t();return e.status>=500&&e.status<600?t():e})).apply(this,arguments)}function ite(t){return Number(t.replace("s","000"))}function fI(){return(fI=g(function*({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=uI(t),i=KF(t),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({fid:n,authVersion:zF,appId:t.appId,sdkVersion:GF})},u=yield dI(()=>fetch(r,a));if(u.ok){const c=yield u.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:WF(c.authToken)}}throw yield cI("Create Installation",u)})).apply(this,arguments)}function YF(t){return new Promise(e=>{setTimeout(e,t)})}const ute=/^[cdef][\w-]{21}$/,pI="";function cte(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=function lte(t){return function ate(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}(t).substr(0,22)}(t);return ute.test(n)?n:pI}catch{return pI}}function Wa(t){return`${t.appName}!${t.appId}`}const Ka=new Map;function XF(t,e){const n=Wa(t);JF(n,e),function fte(t,e){const n=function ZF(){return!uo&&"BroadcastChannel"in self&&(uo=new BroadcastChannel("[Firebase] FID Change"),uo.onmessage=t=>{JF(t.data.key,t.data.fid)}),uo}();n&&n.postMessage({key:t,fid:e}),function eL(){0===Ka.size&&uo&&(uo.close(),uo=null)}()}(n,e)}function JF(t,e){const n=Ka.get(t);if(n)for(const r of n)r(e)}let uo=null;const pte="firebase-installations-database",gte=1,co="firebase-installations-store";let gI=null;function mI(){return gI||(gI=function Yee(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=us(o);return r&&o.addEventListener("upgradeneeded",u=>{r(us(o.result),u.oldVersion,u.newVersion,us(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}(pte,gte,{upgrade:(t,e)=>{0===e&&t.createObjectStore(co)}})),gI}function up(t,e){return yI.apply(this,arguments)}function yI(){return(yI=g(function*(t,e){const n=Wa(t),i=(yield mI()).transaction(co,"readwrite"),s=i.objectStore(co),o=yield s.get(n);return yield s.put(e,n),yield i.done,(!o||o.fid!==e.fid)&&XF(t,e.fid),e})).apply(this,arguments)}function _I(t){return vI.apply(this,arguments)}function vI(){return(vI=g(function*(t){const e=Wa(t),r=(yield mI()).transaction(co,"readwrite");yield r.objectStore(co).delete(e),yield r.done})).apply(this,arguments)}function al(t,e){return wI.apply(this,arguments)}function wI(){return(wI=g(function*(t,e){const n=Wa(t),i=(yield mI()).transaction(co,"readwrite"),s=i.objectStore(co),o=yield s.get(n),a=e(o);return void 0===a?yield s.delete(n):yield s.put(a,n),yield i.done,a&&(!o||o.fid!==a.fid)&&XF(t,a.fid),a})).apply(this,arguments)}function II(t){return EI.apply(this,arguments)}function EI(){return EI=g(function*(t){let e;const n=yield al(t.appConfig,r=>{const i=function mte(t){return nL(t||{fid:cte(),registrationStatus:0})}(r),s=function yte(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(Ai.create("app-offline"))};const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function _te(t,e){return DI.apply(this,arguments)}(t,n);return{installationEntry:n,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:vte(t)}:{installationEntry:e}}(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===pI?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}}),EI.apply(this,arguments)}function DI(){return DI=g(function*(t,e){try{const n=yield function ote(t,e){return fI.apply(this,arguments)}(t,e);return up(t.appConfig,n)}catch(n){throw qF(n)&&409===n.customData.serverCode?yield _I(t.appConfig):yield up(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}),DI.apply(this,arguments)}function vte(t){return CI.apply(this,arguments)}function CI(){return(CI=g(function*(t){let e=yield tL(t.appConfig);for(;1===e.registrationStatus;)yield YF(100),e=yield tL(t.appConfig);if(0===e.registrationStatus){const{installationEntry:n,registrationPromise:r}=yield II(t);return r||n}return e})).apply(this,arguments)}function tL(t){return al(t,e=>{if(!e)throw Ai.create("installation-not-found");return nL(e)})}function nL(t){return function wte(t){return 1===t.registrationStatus&&t.registrationTime+HF<Date.now()}(t)?{fid:t.fid,registrationStatus:0}:t}function bI(){return(bI=g(function*({appConfig:t,heartbeatServiceProvider:e},n){const r=function Ete(t,{fid:e}){return`${uI(t)}/${e}/authTokens:generate`}(t,n),i=function QF(t,{refreshToken:e}){const n=KF(t);return n.append("Authorization",function ste(t){return`${zF} ${t}`}(e)),n}(t,n),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:GF,appId:t.appId}})},u=yield dI(()=>fetch(r,a));if(u.ok)return WF(yield u.json());throw yield cI("Generate Auth Token",u)})).apply(this,arguments)}function TI(t){return SI.apply(this,arguments)}function SI(){return SI=g(function*(t,e=!1){let n;const r=yield al(t.appConfig,s=>{if(!iL(s))throw Ai.create("not-registered");const o=s.authToken;if(!e&&function bte(t){return 2===t.requestStatus&&!function Tte(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+ete}(t)}(o))return s;if(1===o.requestStatus)return n=function Dte(t,e){return AI.apply(this,arguments)}(t,e),s;{if(!navigator.onLine)throw Ai.create("app-offline");const a=function Ste(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}(s);return n=function Cte(t,e){return MI.apply(this,arguments)}(t,a),a}});return n?yield n:r.authToken}),SI.apply(this,arguments)}function AI(){return(AI=g(function*(t,e){let n=yield rL(t.appConfig);for(;1===n.authToken.requestStatus;)yield YF(100),n=yield rL(t.appConfig);const r=n.authToken;return 0===r.requestStatus?TI(t,e):r})).apply(this,arguments)}function rL(t){return al(t,e=>{if(!iL(e))throw Ai.create("not-registered");return function Ate(t){return 1===t.requestStatus&&t.requestTime+HF<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function MI(){return MI=g(function*(t,e){try{const n=yield function Ite(t,e){return bI.apply(this,arguments)}(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return yield up(t.appConfig,r),n}catch(n){if(!qF(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield up(t.appConfig,r)}else yield _I(t.appConfig);throw n}}),MI.apply(this,arguments)}function iL(t){return void 0!==t&&2===t.registrationStatus}function xI(){return(xI=g(function*(t){const e=t,{installationEntry:n,registrationPromise:r}=yield II(e);return r?r.catch(console.error):TI(e).catch(console.error),n.fid})).apply(this,arguments)}function RI(){return RI=g(function*(t,e=!1){const n=t;return yield function Rte(t){return NI.apply(this,arguments)}(n),(yield TI(n,e)).token}),RI.apply(this,arguments)}function NI(){return(NI=g(function*(t){const{registrationPromise:e}=yield II(t);e&&(yield e)})).apply(this,arguments)}function OI(t){return Ai.create("missing-app-config-values",{valueName:t})}const sL="installations",Fte=t=>{const e=t.getProvider("app").getImmediate(),n=function Pte(t){if(!t||!t.options)throw OI("App Configuration");if(!t.name)throw OI("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw OI(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e);return{app:e,appConfig:n,heartbeatServiceProvider:ao(e,"heartbeat"),_delete:()=>Promise.resolve()}},Lte=t=>{const n=ao(t.getProvider("app").getImmediate(),sL).getImmediate();return{getId:()=>function Mte(t){return xI.apply(this,arguments)}(n),getToken:i=>function xte(t){return RI.apply(this,arguments)}(n,i)}};(function Vte(){nn(new $t(sL,Fte,"PUBLIC")),nn(new $t("installations-internal",Lte,"PRIVATE"))})(),Oe(jF,aI),Oe(jF,aI,"esm2017");const FI="@firebase/remote-config",kn=new Gr("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Qte{constructor(e,n,r,i){this.client=e,this.storage=n,this.storageCache=r,this.logger=i}isCachedDataFresh(e,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-n,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var n=this;return g(function*(){const[r,i]=yield Promise.all([n.storage.getLastSuccessfulFetchTimestampMillis(),n.storage.getLastSuccessfulFetchResponse()]);if(i&&n.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const s=yield n.client.fetch(e),o=[n.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===s.status&&o.push(n.storage.setLastSuccessfulFetchResponse(s)),yield Promise.all(o),s})()}}function Yte(t=navigator){return t.languages&&t.languages[0]||t.language}class Xte{constructor(e,n,r,i,s,o){this.firebaseInstallations=e,this.sdkVersion=n,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=o}fetch(e){var n=this;return g(function*(){const[r,i]=yield Promise.all([n.firebaseInstallations.getId(),n.firebaseInstallations.getToken()]),o=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${n.projectId}/namespaces/${n.namespace}:fetch?key=${n.apiKey}`,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},u={sdk_version:n.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:n.appId,language_code:Yte()},c={method:"POST",headers:a,body:JSON.stringify(u)},l=fetch(o,c),d=new Promise((v,_)=>{e.signal.addEventListener(()=>{const E=new Error("The operation was aborted.");E.name="AbortError",_(E)})});let h;try{yield Promise.race([l,d]),h=yield l}catch(v){let _="fetch-client-network";throw"AbortError"===v?.name&&(_="fetch-timeout"),kn.create(_,{originalErrorMessage:v?.message})}let f=h.status;const p=h.headers.get("ETag")||void 0;let m,y;if(200===h.status){let v;try{v=yield h.json()}catch(_){throw kn.create("fetch-client-parse",{originalErrorMessage:_?.message})}m=v.entries,y=v.state}if("INSTANCE_STATE_UNSPECIFIED"===y?f=500:"NO_CHANGE"===y?f=304:("NO_TEMPLATE"===y||"EMPTY_CONFIG"===y)&&(m={}),304!==f&&200!==f)throw kn.create("fetch-status",{httpStatus:f});return{status:f,eTag:p,config:m}})()}}class ene{constructor(e,n){this.client=e,this.storage=n}fetch(e){var n=this;return g(function*(){const r=(yield n.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return n.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:n,backoffCount:r}){var i=this;return g(function*(){yield function Jte(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(kn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,n);try{const s=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),s}catch(s){if(!function Zte(t){if(!(t instanceof Kn&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(s))throw s;const o={throttleEndTimeMillis:Date.now()+jw(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(o),i.attemptFetch(e,o)}})()}}class rne{constructor(e,n,r,i,s){this.app=e,this._client=n,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function lp(t,e){const n=t.target.error||void 0;return kn.create(e,{originalErrorMessage:n&&n?.message})}const lo="app_namespace_store";class ane{constructor(e,n,r,i=function one(){return new Promise((t,e)=>{try{const n=indexedDB.open("firebase_remote_config",1);n.onerror=r=>{e(lp(r,"storage-open"))},n.onsuccess=r=>{t(r.target.result)},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(lo,{keyPath:"compositeKey"})}}catch(n){e(kn.create("storage-open",{originalErrorMessage:n?.message}))}})}()){this.appId=e,this.appName=n,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var n=this;return g(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([lo],"readonly").objectStore(lo),u=n.createCompositeKey(e);try{const c=a.get(u);c.onerror=l=>{s(lp(l,"storage-get"))},c.onsuccess=l=>{const d=l.target.result;i(d?d.value:void 0)}}catch(c){s(kn.create("storage-get",{originalErrorMessage:c?.message}))}})})()}set(e,n){var r=this;return g(function*(){const i=yield r.openDbPromise;return new Promise((s,o)=>{const u=i.transaction([lo],"readwrite").objectStore(lo),c=r.createCompositeKey(e);try{const l=u.put({compositeKey:c,value:n});l.onerror=d=>{o(lp(d,"storage-set"))},l.onsuccess=()=>{s()}}catch(l){o(kn.create("storage-set",{originalErrorMessage:l?.message}))}})})()}delete(e){var n=this;return g(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([lo],"readwrite").objectStore(lo),u=n.createCompositeKey(e);try{const c=a.delete(u);c.onerror=l=>{s(lp(l,"storage-delete"))},c.onsuccess=()=>{i()}}catch(c){s(kn.create("storage-delete",{originalErrorMessage:c?.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class une{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return g(function*(){const n=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),s=yield n;s&&(e.lastFetchStatus=s);const o=yield r;o&&(e.lastSuccessfulFetchTimestampMillis=o);const a=yield i;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function lne(){return $I.apply(this,arguments)}function $I(){return($I=g(function*(){if(!ro())return!1;try{return yield sl()}catch{return!1}})).apply(this,arguments)}!function cne(){nn(new $t("remote-config",function t(e,{instanceIdentifier:n}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw kn.create("registration-window");if(!ro())throw kn.create("indexed-db-unavailable");const{projectId:s,apiKey:o,appId:a}=r.options;if(!s)throw kn.create("registration-project-id");if(!o)throw kn.create("registration-api-key");if(!a)throw kn.create("registration-app-id");const u=new ane(a,r.name,n=n||"firebase"),c=new une(u),l=new qa(FI);l.logLevel=Y.ERROR;const d=new Xte(i,as,n,s,o,a),h=new ene(d,u),f=new Qte(h,u,c,l),p=new rne(r,f,c,u,l);return function qte(t){const e=Ir(t);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(p),p},"PUBLIC").setMultipleInstances(!0)),Oe(FI,"0.4.4"),Oe(FI,"0.4.4","esm2017")}();const dne=(t,e)=>e.some(n=>t instanceof n);let cL,lL;const dL=new WeakMap,jI=new WeakMap,hL=new WeakMap,HI=new WeakMap,GI=new WeakMap;let zI={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return jI.get(t);if("objectStoreNames"===e)return t.objectStoreNames||hL.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Mi(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function _ne(t){return"function"==typeof t?function yne(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function fne(){return lL||(lL=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(qI(this),e),Mi(dL.get(this))}:function(...e){return Mi(t.apply(qI(this),e))}:function(e,...n){const r=t.call(qI(this),e,...n);return hL.set(r,e.sort?e.sort():[e]),Mi(r)}}(t):(t instanceof IDBTransaction&&function gne(t){if(jI.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});jI.set(t,e)}(t),dne(t,function hne(){return cL||(cL=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,zI):t)}function Mi(t){if(t instanceof IDBRequest)return function pne(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Mi(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&dL.set(n,t)}).catch(()=>{}),GI.set(e,t),e}(t);if(HI.has(t))return HI.get(t);const e=_ne(t);return e!==t&&(HI.set(t,e),GI.set(e,t)),e}const qI=t=>GI.get(t);function fL(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Mi(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Mi(o.result),u.oldVersion,u.newVersion,Mi(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}function WI(t,{blocked:e}={}){const n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",()=>e()),Mi(n).then(()=>{})}const vne=["get","getKey","getAll","getAllKeys","count"],wne=["put","add","delete","clear"],KI=new Map;function pL(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(KI.get(e))return KI.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=wne.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!vne.includes(n))return;const s=function(){var o=g(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[n](...u),i&&c.done]))[0]});return function(u){return o.apply(this,arguments)}}();return KI.set(e,s),s}!function mne(t){zI=t(zI)}(t=>({...t,get:(e,n,r)=>pL(e,n)||t.get(e,n,r),has:(e,n)=>!!pL(e,n)||t.has(e,n)}));const Ine="/firebase-messaging-sw.js",Ene="/firebase-cloud-messaging-push-scope",gL="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Dne="https://fcmregistrations.googleapis.com/v1",mL="google.c.a.c_id",Cne="google.c.a.c_l",bne="google.c.a.ts";var cs=(()=>((cs=cs||{}).PUSH_RECEIVED="push-received",cs.NOTIFICATION_CLICKED="notification-clicked",cs))();function xi(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Sne(t){const n=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}const QI="fcm_token_details_db",Ane=5,yL="fcm_token_object_Store";function YI(){return YI=g(function*(t){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(s=>s.name).includes(QI))return null;let e=null;return(yield fL(QI,Ane,{upgrade:(r=g(function*(i,s,o,a){var u;if(s<2||!i.objectStoreNames.contains(yL))return;const c=a.objectStore(yL),l=yield c.index("fcmSenderId").get(t);if(yield c.clear(),l)if(2===s){const d=l;if(!d.auth||!d.p256dh||!d.endpoint)return;e={token:d.fcmToken,createTime:null!==(u=d.createTime)&&void 0!==u?u:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:"string"==typeof d.vapidKey?d.vapidKey:xi(d.vapidKey)}}}else if(3===s){const d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:xi(d.auth),p256dh:xi(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:xi(d.vapidKey)}}}else if(4===s){const d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:xi(d.auth),p256dh:xi(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:xi(d.vapidKey)}}}}),function(s,o,a,u){return r.apply(this,arguments)})})).close(),yield WI(QI),yield WI("fcm_vapid_details_db"),yield WI("undefined"),function xne(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return"number"==typeof t.createTime&&t.createTime>0&&"string"==typeof t.token&&t.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}(e)?e:null;var r}),YI.apply(this,arguments)}const Rne="firebase-messaging-database",Nne=1,ho="firebase-messaging-store";let XI=null;function JI(){return XI||(XI=fL(Rne,Nne,{upgrade:(t,e)=>{0===e&&t.createObjectStore(ho)}})),XI}function _L(t){return ZI.apply(this,arguments)}function ZI(){return ZI=g(function*(t){const e=rE(t),r=yield(yield JI()).transaction(ho).objectStore(ho).get(e);if(r)return r;{const i=yield function Mne(t){return YI.apply(this,arguments)}(t.appConfig.senderId);if(i)return yield eE(t,i),i}}),ZI.apply(this,arguments)}function eE(t,e){return tE.apply(this,arguments)}function tE(){return(tE=g(function*(t,e){const n=rE(t),i=(yield JI()).transaction(ho,"readwrite");return yield i.objectStore(ho).put(e,n),yield i.done,e})).apply(this,arguments)}function nE(){return(nE=g(function*(t){const e=rE(t),r=(yield JI()).transaction(ho,"readwrite");yield r.objectStore(ho).delete(e),yield r.done})).apply(this,arguments)}function rE({appConfig:t}){return t.appId}const jt=new Gr("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function One(t,e){return iE.apply(this,arguments)}function iE(){return(iE=g(function*(t,e){const n=yield uE(t),r=wL(e),i={method:"POST",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(aE(t.appConfig),i)).json()}catch(o){throw jt.create("token-subscribe-failed",{errorInfo:o?.toString()})}if(s.error)throw jt.create("token-subscribe-failed",{errorInfo:s.error.message});if(!s.token)throw jt.create("token-subscribe-no-token");return s.token})).apply(this,arguments)}function sE(){return(sE=g(function*(t,e){const n=yield uE(t),r=wL(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(`${aE(t.appConfig)}/${e.token}`,i)).json()}catch(o){throw jt.create("token-update-failed",{errorInfo:o?.toString()})}if(s.error)throw jt.create("token-update-failed",{errorInfo:s.error.message});if(!s.token)throw jt.create("token-update-no-token");return s.token})).apply(this,arguments)}function vL(t,e){return oE.apply(this,arguments)}function oE(){return(oE=g(function*(t,e){const r={method:"DELETE",headers:yield uE(t)};try{const s=yield(yield fetch(`${aE(t.appConfig)}/${e}`,r)).json();if(s.error)throw jt.create("token-unsubscribe-failed",{errorInfo:s.error.message})}catch(i){throw jt.create("token-unsubscribe-failed",{errorInfo:i?.toString()})}})).apply(this,arguments)}function aE({projectId:t}){return`${Dne}/projects/${t}/registrations`}function uE(t){return cE.apply(this,arguments)}function cE(){return(cE=g(function*({appConfig:t,installations:e}){const n=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})})).apply(this,arguments)}function wL({p256dh:t,auth:e,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:e,p256dh:t}};return r!==gL&&(i.web.applicationPubKey=r),i}const Lne=6048e5;function lE(){return lE=g(function*(t){const e=yield function Bne(t,e){return pE.apply(this,arguments)}(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:xi(e.getKey("auth")),p256dh:xi(e.getKey("p256dh"))},r=yield _L(t.firebaseDependencies);if(r){if(function $ne(t,e){return e.vapidKey===t.vapidKey&&e.endpoint===t.endpoint&&e.auth===t.auth&&e.p256dh===t.p256dh}(r.subscriptionOptions,n))return Date.now()>=r.createTime+Lne?function Une(t,e){return hE.apply(this,arguments)}(t,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{yield vL(t.firebaseDependencies,r.token)}catch(i){console.warn(i)}return EL(t.firebaseDependencies,n)}return EL(t.firebaseDependencies,n)}),lE.apply(this,arguments)}function dE(){return dE=g(function*(t){const e=yield _L(t.firebaseDependencies);e&&(yield vL(t.firebaseDependencies,e.token),yield function kne(t){return nE.apply(this,arguments)}(t.firebaseDependencies));const n=yield t.swRegistration.pushManager.getSubscription();return!n||n.unsubscribe()}),dE.apply(this,arguments)}function hE(){return hE=g(function*(t,e){try{const n=yield function Fne(t,e){return sE.apply(this,arguments)}(t.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return yield eE(t.firebaseDependencies,r),n}catch(n){throw yield function IL(t){return dE.apply(this,arguments)}(t),n}}),hE.apply(this,arguments)}function EL(t,e){return fE.apply(this,arguments)}function fE(){return(fE=g(function*(t,e){const r={token:yield One(t,e),createTime:Date.now(),subscriptionOptions:e};return yield eE(t,r),r.token})).apply(this,arguments)}function pE(){return(pE=g(function*(t,e){return(yield t.pushManager.getSubscription())||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Sne(e)})})).apply(this,arguments)}function DL(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return function jne(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const r=e.notification.body;r&&(t.notification.body=r);const i=e.notification.image;i&&(t.notification.image=i);const s=e.notification.icon;s&&(t.notification.icon=s)}(e,t),function Hne(t,e){e.data&&(t.data=e.data)}(e,t),function Gne(t,e){var n,r,i,s,o;if(!(e.fcmOptions||null!==(n=e.notification)&&void 0!==n&&n.click_action))return;t.fcmOptions={};const a=null!==(i=null===(r=e.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(s=e.notification)||void 0===s?void 0:s.click_action;a&&(t.fcmOptions.link=a);const u=null===(o=e.fcmOptions)||void 0===o?void 0:o.analytics_label;u&&(t.fcmOptions.analyticsLabel=u)}(e,t),e}function CL(t,e){const n=[];for(let r=0;r<t.length;r++)n.push(t.charAt(r)),r<e.length&&n.push(e.charAt(r));return n.join("")}function gE(t){return jt.create("missing-app-config-values",{valueName:t})}CL("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),CL("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Wne{constructor(e,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function qne(t){if(!t||!t.options)throw gE("App Configuration Object");if(!t.name)throw gE("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const r of e)if(!n[r])throw gE(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}function mE(){return(mE=g(function*(t){try{t.swRegistration=yield navigator.serviceWorker.register(Ine,{scope:Ene}),t.swRegistration.update().catch(()=>{})}catch(e){throw jt.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}})).apply(this,arguments)}function yE(){return(yE=g(function*(t,e){if(!e&&!t.swRegistration&&(yield function bL(t){return mE.apply(this,arguments)}(t)),e||!t.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw jt.create("invalid-sw-registration");t.swRegistration=e}})).apply(this,arguments)}function _E(){return(_E=g(function*(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=gL)})).apply(this,arguments)}function vE(){return vE=g(function*(t,e){if(!navigator)throw jt.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw jt.create("permission-blocked");return yield function Qne(t,e){return _E.apply(this,arguments)}(t,e?.vapidKey),yield function Kne(t,e){return yE.apply(this,arguments)}(t,e?.serviceWorkerRegistration),function Vne(t){return lE.apply(this,arguments)}(t)}),vE.apply(this,arguments)}function wE(){return(wE=g(function*(t,e,n){const r=function Xne(t){switch(t){case cs.NOTIFICATION_CLICKED:return"notification_open";case cs.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(e);(yield t.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[mL],message_name:n[Cne],message_time:n[bne],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function IE(){return IE=g(function*(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===cs.PUSH_RECEIVED&&("function"==typeof t.onMessageHandler?t.onMessageHandler(DL(n)):t.onMessageHandler.next(DL(n)));const r=n.data;(function zne(t){return"object"==typeof t&&!!t&&mL in t})(r)&&"1"===r["google.c.a.e"]&&(yield function Yne(t,e,n){return wE.apply(this,arguments)}(t,n.messageType,r))}),IE.apply(this,arguments)}const SL="@firebase/messaging",Zne=t=>{const e=new Wne(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>function Jne(t,e){return IE.apply(this,arguments)}(e,n)),e},ere=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:r=>function TL(t,e){return vE.apply(this,arguments)}(e,r)}};function ML(){return EE.apply(this,arguments)}function EE(){return(EE=g(function*(){try{yield sl()}catch{return!1}return typeof window<"u"&&ro()&&Uw()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function tre(){nn(new $t("messaging",Zne,"PUBLIC")),nn(new $t("messaging-internal",ere,"PRIVATE")),Oe(SL,"0.12.4"),Oe(SL,"0.12.4","esm2017")}();const dp="analytics",ire="firebase_id",sre="origin",ore=6e4,are="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",bE="https://www.googletagmanager.com/gtag/js",At=new qa("@firebase/analytics"),gn=new Gr("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function cre(t){if(!t.startsWith(bE)){const e=gn.create("invalid-gtag-resource",{gtagURL:t});return At.warn(e.message),""}return t}function xL(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function TE(){return(TE=g(function*(t,e,n,r,i,s){const o=r[i];try{if(o)yield e[o];else{const u=(yield xL(n)).find(c=>c.measurementId===i);u&&(yield e[u.appId])}}catch(a){At.error(a)}t("config",i,s)})).apply(this,arguments)}function SE(){return(SE=g(function*(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=yield xL(n);for(const u of o){const c=a.find(d=>d.measurementId===u),l=c&&e[c.appId];if(!l){s=[];break}s.push(l)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),t("event",r,i||{})}catch(s){At.error(s)}})).apply(this,arguments)}const _re=30,RL=new class wre{constructor(e={},n=1e3){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function Ire(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function AE(){return(AE=g(function*(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:Ire(r)},s=are.replace("{app-id}",n),o=yield fetch(s,i);if(200!==o.status&&304!==o.status){let a="";try{const u=yield o.json();null!==(e=u.error)&&void 0!==e&&e.message&&(a=u.error.message)}catch{}throw gn.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()})).apply(this,arguments)}function ME(){return(ME=g(function*(t,e=RL,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw gn.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw gn.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new Tre;return setTimeout(g(function*(){a.abort()}),void 0!==n?n:ore),NL({appId:r,apiKey:i,measurementId:s},o,a,e)})).apply(this,arguments)}function NL(t,e,n){return xE.apply(this,arguments)}function xE(){return xE=g(function*(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=RL){var s;const{appId:o,measurementId:a}=t;try{yield function Cre(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(gn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(r,e)}catch(u){if(a)return At.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u?.message}]`),{appId:o,measurementId:a};throw u}try{const u=yield function Ere(t){return AE.apply(this,arguments)}(t);return i.deleteThrottleMetadata(o),u}catch(u){const c=u;if(!function bre(t){if(!(t instanceof Kn&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(c)){if(i.deleteThrottleMetadata(o),a)return At.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c?.message}]`),{appId:o,measurementId:a};throw u}const l=503===Number(null===(s=c?.customData)||void 0===s?void 0:s.httpStatus)?jw(n,i.intervalMillis,_re):jw(n,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+l,backoffCount:n+1};return i.setThrottleMetadata(o,d),At.debug(`Calling attemptFetch again in ${l} millis`),NL(t,d,r,i)}}),xE.apply(this,arguments)}class Tre{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let RE,VE;function NE(){return(NE=g(function*(t,e,n,r,i){if(i&&i.global)t("event",n,r);else{const s=yield e;t("event",n,Object.assign(Object.assign({},r),{send_to:s}))}})).apply(this,arguments)}function UE(){return(UE=g(function*(){if(!ro())return At.warn(gn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield sl()}catch(t){return At.warn(gn.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}return!0})).apply(this,arguments)}function BE(){return BE=g(function*(t,e,n,r,i,s,o){var a;const u=function Dre(t){return ME.apply(this,arguments)}(t);u.then(f=>{n[f.measurementId]=f.appId,t.options.measurementId&&f.measurementId!==t.options.measurementId&&At.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>At.error(f)),e.push(u);const c=function kre(){return UE.apply(this,arguments)}().then(f=>{if(f)return r.getId()}),[l,d]=yield Promise.all([u,c]);(function yre(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(bE)&&n.src.includes(t))return n;return null})(s)||function dre(t,e){const n=function lre(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}("firebase-js-sdk-policy",{createScriptURL:cre}),r=document.createElement("script"),i=`${bE}?l=${t}&id=${e}`;r.src=n?n?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}(s,l.measurementId),VE&&(i("consent","default",VE),function kL(t){VE=t}(void 0)),i("js",new Date);const h=null!==(a=o?.config)&&void 0!==a?a:{};return h[sre]="firebase",h.update=!0,null!=d&&(h[ire]=d),i("config",l.measurementId,h),RE&&(i("set",RE),function PL(t){RE=t}(void 0)),l.measurementId}),BE.apply(this,arguments)}class Ore{constructor(e){this.app=e}_delete(){return delete zr[this.app.options.appId],Promise.resolve()}}let zr={},OL=[];const FL={};let VL,qr,hp="dataLayer",$E=!1;function Lre(t,e,n){!function Fre(){const t=[];if(Vw()&&t.push("This is a browser extension environment."),Uw()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=gn.create("invalid-analytics-context",{errorInfo:e});At.warn(n.message)}}();const r=t.options.appId;if(!r)throw gn.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw gn.create("no-api-key");At.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=zr[r])throw gn.create("already-exists",{id:r});if(!$E){!function hre(t){let e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(hp);const{wrappedGtag:s,gtagCore:o}=function mre(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=function gre(t,e,n,r){function s(){return s=g(function*(o,...a){try{if("event"===o){const[u,c]=a;yield function pre(t,e,n,r,i){return SE.apply(this,arguments)}(t,e,n,u,c)}else if("config"===o){const[u,c]=a;yield function fre(t,e,n,r,i,s){return TE.apply(this,arguments)}(t,e,n,r,u,c)}else if("consent"===o){const[u]=a;t("consent","update",u)}else if("get"===o){const[u,c,l]=a;t("get",u,c,l)}else if("set"===o){const[u]=a;t("set",u)}else t(o,...a)}catch(u){At.error(u)}}),s.apply(this,arguments)}return function i(o){return s.apply(this,arguments)}}(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}(zr,OL,FL,hp,"gtag");qr=s,VL=o,$E=!0}return zr[r]=function Pre(t,e,n,r,i,s,o){return BE.apply(this,arguments)}(t,OL,FL,e,VL,hp,n),new Ore(t)}function Ure(){return jE.apply(this,arguments)}function jE(){return(jE=g(function*(){if(Vw()||!Uw()||!ro())return!1;try{return yield sl()}catch{return!1}})).apply(this,arguments)}const UL="@firebase/analytics";!function $re(){nn(new $t(dp,(e,{options:n})=>Lre(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n),"PUBLIC")),nn(new $t("analytics-internal",function t(e){try{const n=e.getProvider(dp).getImmediate();return{logEvent:(r,i,s)=>function Bre(t,e,n,r){t=Ir(t),function Sre(t,e,n,r,i){return NE.apply(this,arguments)}(qr,zr[t.app.options.appId],e,n,r).catch(i=>At.error(i))}(n,r,i,s)}}catch(n){throw gn.create("interop-component-reg-failed",{reason:n})}},"PRIVATE")),Oe(UL,"0.10.0"),Oe(UL,"0.10.0","esm2017")}();class jre extends Un{constructor(e,n){super()}schedule(e,n=0){return this}}const fp={setInterval(t,e,...n){const{delegate:r}=fp;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=fp;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};class $L extends jre{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return fp.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&fp.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,zo(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}const jL={now:()=>(jL.delegate||Date).now(),delegate:void 0};class ul{constructor(e,n=ul.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}ul.now=jL.now;class HL extends ul{constructor(e,n=ul.now){super(e,n),this.actions=[],this._active=!1}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}const zre=new class Gre extends HL{}(class Hre extends $L{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}}),qre=new HL($L),cl=new ya("7.6.1"),GE="__angularfire_symbol__analyticsIsSupportedValue",zE="__angularfire_symbol__analyticsIsSupported",qE="__angularfire_symbol__remoteConfigIsSupportedValue",WE="__angularfire_symbol__remoteConfigIsSupported",KE="__angularfire_symbol__messagingIsSupportedValue",QE="__angularfire_symbol__messagingIsSupported";function pp(t,e,n){if(e){if(1===e.length)return e[0];const s=e.filter(o=>o.app===n);if(1===s.length)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}globalThis[zE]||(globalThis[zE]=Ure().then(t=>globalThis[GE]=t).catch(()=>globalThis[GE]=!1)),globalThis[QE]||(globalThis[QE]=ML().then(t=>globalThis[KE]=t).catch(()=>globalThis[KE]=!1)),globalThis[WE]||(globalThis[WE]=lne().then(t=>globalThis[qE]=t).catch(()=>globalThis[qE]=!1));const gp=(t,e)=>{const n=e?[e]:RF(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r};function Qa(){}class GL{constructor(e,n=zre){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},n,r)}}class Wre{constructor(e){this.zone=e,this.task=null}call(e,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Qa,{},Qa,Qa)),n.pipe(tn({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let mp=(()=>{class t{constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new GL(Zone.current)),this.insideAngular=n.run(()=>new GL(Zone.current,qre)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return t.\u0275fac=function(n){return new(n||t)($(Ee))},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function fo(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}function po(t){return fo().ngZone.run(()=>t())}function Qre(t){return fo(),function Yre(t){return function(n){return(n=n.lift(new Wre(t.ngZone))).pipe(zd(t.outsideAngular),Gd(t.insideAngular))}}(fo())(t)}const Xre=(t,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),po(()=>t.apply(void 0,r))},Ya=(t,e)=>function(){let n;const r=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof r[s]&&(e&&(n||(n=po(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Qa,{},Qa,Qa)))),r[s]=Xre(r[s],n));const i=function Kre(t){return fo().ngZone.runOutsideAngular(()=>t())}(()=>t.apply(this,r));if(!e){if(i instanceof He){const s=fo();return i.pipe(zd(s.outsideAngular),Gd(s.insideAngular))}return po(()=>i)}return i instanceof He?i.pipe(Qre):i instanceof Promise?po(()=>new Promise((s,o)=>i.then(a=>po(()=>s(a)),a=>po(()=>o(a))))):"function"==typeof i&&n?function(){return setTimeout(()=>{n&&"scheduled"===n.state&&n.invoke()},10),i.apply(this,arguments)}:po(()=>i)};class go{constructor(e){return e}}class yp{constructor(){return RF()}}const XE=new L("angularfire2._apps"),Zre={provide:go,useFactory:function Jre(t){return t&&1===t.length?t[0]:new go(ap())},deps:[[new vt,XE]]},eie={provide:yp,deps:[[new vt,XE]]};function tie(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new go(r)}}let nie=(()=>{class t{constructor(n){Oe("angularfire",cl.full,"core"),Oe("angularfire",cl.full,"app"),Oe("angular",gR.full,n.toString())}}return t.\u0275fac=function(n){return new(n||t)($(Ji))},t.\u0275mod=Yt({type:t}),t.\u0275inj=Lt({providers:[Zre,eie]}),t})();function rie(t,...e){return{ngModule:nie,providers:[{provide:XE,useFactory:tie(t),multi:!0,deps:[Ee,xn,mp,...e]}]}}const iie=Ya(xF,!0),JE=new Map,zL={activated:!1,tokenObservers:[]},sie={initialized:!1,enabled:!1};function Ze(t){return JE.get(t)||Object.assign({},zL)}function _p(){return sie}const ZE="https://content-firebaseappcheck.googleapis.com/v1",cie="exchangeDebugToken",qL={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class die{constructor(e,n,r,i,s){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var n=this;return g(function*(){n.stop();try{n.pending=new tp,yield function hie(t){return new Promise(e=>{setTimeout(e,t)})}(n.getNextRun(e)),n.pending.resolve(),yield n.pending.promise,n.pending=new tp,yield n.operation(),n.pending.resolve(),yield n.pending.promise,n.process(!0).catch(()=>{})}catch(r){n.retryPolicy(r)?n.process(!1).catch(()=>{}):n.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}const Ht=new Gr("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function eD(t){if(!Ze(t).activated)throw Ht.create("use-before-activation",{appName:t.name})}function Ip(t,e){return nD.apply(this,arguments)}function nD(){return(nD=g(function*({url:t,body:e},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){const d=yield i.getHeartbeatsHeader();d&&(r["X-Firebase-Client"]=d)}const s={method:"POST",body:JSON.stringify(e),headers:r};let o,a;try{o=yield fetch(t,s)}catch(d){throw Ht.create("fetch-network-error",{originalErrorMessage:d?.message})}if(200!==o.status)throw Ht.create("fetch-status-error",{httpStatus:o.status});try{a=yield o.json()}catch(d){throw Ht.create("fetch-parse-error",{originalErrorMessage:d?.message})}const u=a.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw Ht.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const c=1e3*Number(u[1]),l=Date.now();return{token:a.token,expireTimeMillis:l+c,issuedAtTimeMillis:l}})).apply(this,arguments)}function WL(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${ZE}/projects/${n}/apps/${r}:${cie}?key=${i}`,body:{debug_token:e}}}const mie="firebase-app-check-database",yie=1,ll="firebase-app-check-store";let Ep=null;function rD(){return(rD=g(function*(t,e){const r=(yield function QL(){return Ep||(Ep=new Promise((t,e)=>{try{const n=indexedDB.open(mie,yie);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(Ht.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(ll,{keyPath:"compositeKey"})}}catch(n){e(Ht.create("storage-open",{originalErrorMessage:n?.message}))}}),Ep)}()).transaction(ll,"readwrite"),s=r.objectStore(ll).put({compositeKey:t,value:e});return new Promise((o,a)=>{s.onsuccess=u=>{o()},r.onerror=u=>{var c;a(Ht.create("storage-set",{originalErrorMessage:null===(c=u.target.error)||void 0===c?void 0:c.message}))}})})).apply(this,arguments)}const dl=new qa("@firebase/app-check");function oD(t,e){return ro()?function vie(t,e){return function YL(t,e){return rD.apply(this,arguments)}(function JL(t){return`${t.options.appId}-${t.name}`}(t),e)}(t,e).catch(n=>{dl.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function uD(){return _p().enabled}function cD(){return lD.apply(this,arguments)}function lD(){return(lD=g(function*(){const t=_p();if(t.enabled&&t.token)return t.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const bie={error:"UNKNOWN_ERROR"};function Tie(t){return Lw.encodeString(JSON.stringify(t),!1)}function Dp(t){return dD.apply(this,arguments)}function dD(){return(dD=g(function*(t,e=!1){const n=t.app;eD(n);const r=Ze(n);let s,i=r.token;if(i&&!Xa(i)&&(r.token=void 0,i=void 0),!i){const u=yield r.cachedTokenPromise;u&&(Xa(u)?i=u:yield oD(n,void 0))}if(!e&&i&&Xa(i))return{token:i.token};let a,o=!1;if(uD()){r.exchangeTokenPromise||(r.exchangeTokenPromise=Ip(WL(n,yield cD()),t.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),o=!0);const u=yield r.exchangeTokenPromise;return yield oD(n,u),r.token=u,{token:u.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),o=!0),i=yield Ze(n).exchangeTokenPromise}catch(u){"appCheck/throttled"===u.code?dl.warn(u.message):dl.error(u),s=u}return i?s?a=Xa(i)?{token:i.token,internalError:s}:nV(s):(a={token:i.token},r.token=i,yield oD(n,i)):a=nV(s),o&&function tV(t,e){const n=Ze(t).tokenObservers;for(const r of n)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(n,a),a})).apply(this,arguments)}function ZL(t){return hD.apply(this,arguments)}function hD(){return(hD=g(function*(t){const e=t.app;eD(e);const{provider:n}=Ze(e);if(uD()){const r=yield cD(),{token:i}=yield Ip(WL(e,r),t.heartbeatServiceProvider);return{token:i}}{const{token:r}=yield n.getToken();return{token:r}}})).apply(this,arguments)}function pD(t,e){const n=Ze(t),r=n.tokenObservers.filter(i=>i.next!==e);0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function eV(t){const{app:e}=t,n=Ze(e);let r=n.tokenRefresher;r||(r=function Sie(t){const{app:e}=t;return new die(g(function*(){let r;if(r=Ze(e).token?yield Dp(t,!0):yield Dp(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const n=Ze(e);if(n.token){let r=n.token.issuedAtTimeMillis+.5*(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,n.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},qL.RETRIAL_MIN_WAIT,qL.RETRIAL_MAX_WAIT)}(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function Xa(t){return t.expireTimeMillis-Date.now()>0}function nV(t){return{token:Tie(bie),error:t}}class Aie{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=Ze(this.app);for(const n of e)pD(this.app,n.next);return Promise.resolve()}}const lV="app-check-internal";!function jie(){nn(new $t("app-check",t=>function Mie(t,e){return new Aie(t,e)}(t.getProvider("app").getImmediate(),t.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(lV).initialize()})),nn(new $t(lV,t=>function xie(t){return{getToken:e=>Dp(t,e),getLimitedUseToken:()=>ZL(t),addTokenListener:e=>function fD(t,e,n,r){const{app:i}=t,s=Ze(i);if(s.tokenObservers=[...s.tokenObservers,{next:n,error:r,type:e}],s.token&&Xa(s.token)){const a=s.token;Promise.resolve().then(()=>{n({token:a.token}),eV(t)}).catch(()=>{})}s.cachedTokenPromise.then(()=>eV(t))}(t,"INTERNAL",e),removeTokenListener:e=>pD(t.app,e)}}(t.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),Oe("@firebase/app-check","0.8.0")}();class bp{constructor(){return gp("app-check")}}typeof window<"u"&&window;const Wie=function hV(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},fV=new Gr("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Tp=new qa("@firebase/auth");function Sp(t,...e){Tp.logLevel<=Y.ERROR&&Tp.error(`Auth (${as}): ${t}`,...e)}function Pn(t,...e){throw vD(t,...e)}function Wr(t,...e){return vD(t,...e)}function vD(t,...e){if("string"!=typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return fV.create(t,...e)}function M(t,e,...n){if(!t)throw vD(e,...n)}function Kr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Sp(e),new Error(e)}function ls(t,e){t||Kr(e)}function hl(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.href)||""}function gV(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}class fl{constructor(e,n){this.shortDelay=e,this.longDelay=n,ls(n>e,"Short delay should be less than long delay!"),this.isMobile=function wZ(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(St())}()||function EZ(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return function Qie(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function wD(){return"http:"===gV()||"https:"===gV()}()||Vw()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ID(t,e){ls(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class mV{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Kr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Kr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Kr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Xie={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Jie=new fl(3e4,6e4);function We(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function et(t,e,n,r){return ED.apply(this,arguments)}function ED(){return(ED=g(function*(t,e,n,r,i={}){return yV(t,i,g(function*(){let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=ip(Object.assign({key:t.config.apiKey},o)).slice(1),u=yield t._getAdditionalHeaders();return u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),mV.fetch()(_V(t,t.config.apiHost,n,a),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function yV(t,e,n){return DD.apply(this,arguments)}function DD(){return(DD=g(function*(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},Xie),e);try{const i=new Zie(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw pl(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[u,c]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===u)throw pl(t,"credential-already-in-use",o);if("EMAIL_EXISTS"===u)throw pl(t,"email-already-in-use",o);if("USER_DISABLED"===u)throw pl(t,"user-disabled",o);const l=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw function pV(t,e,n){const r=Object.assign(Object.assign({},Wie()),{[e]:n});return new Gr("auth","Firebase",r).create(e,{appName:t.name})}(t,l,c);Pn(t,l)}}catch(i){if(i instanceof Kn)throw i;Pn(t,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function CD(){return(CD=g(function*(t,e,n,r,i={}){const s=yield et(t,e,n,r,i);return"mfaPendingCredential"in s&&Pn(t,"multi-factor-auth-required",{_serverResponse:s}),s})).apply(this,arguments)}function _V(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?ID(t.config,i):`${t.config.apiScheme}://${i}`}class Zie{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Wr(this.auth,"network-request-failed")),Jie.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function pl(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Wr(t,e,r);return i.customData._tokenResponse=n,i}function bD(){return(bD=g(function*(t,e){return et(t,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function SD(){return(SD=g(function*(t,e){return et(t,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function gl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function AD(){return(AD=g(function*(t,e=!1){const n=Ir(t),r=yield n.getIdToken(e),i=Ap(r);M(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:gl(MD(i.auth_time)),issuedAtTime:gl(MD(i.iat)),expirationTime:gl(MD(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})).apply(this,arguments)}function MD(t){return 1e3*Number(t)}function Ap(t){const[e,n,r]=t.split(".");if(void 0===e||void 0===n||void 0===r)return Sp("JWT malformed, contained fewer than 3 sections"),null;try{const i=Zf(n);return i?JSON.parse(i):(Sp("Failed to decode base64 JWT payload"),null)}catch(i){return Sp("Caught error parsing JWT payload as JSON",i?.toString()),null}}function Ni(t,e){return xD.apply(this,arguments)}function xD(){return(xD=g(function*(t,e,n=!1){if(n)return e;try{return yield e}catch(r){throw r instanceof Kn&&function sse({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})).apply(this,arguments)}class ose{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var n=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(g(function*(){yield n.iteration()}),r)}iteration(){var e=this;return g(function*(){try{yield e.user.getIdToken(!0)}catch(n){return void("auth/network-request-failed"===n?.code&&e.schedule(!0))}e.schedule()})()}}class vV{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=gl(this.lastLoginAt),this.creationTime=gl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function ml(t){return RD.apply(this,arguments)}function RD(){return RD=g(function*(t){var e;const n=t.auth,r=yield t.getIdToken(),i=yield Ni(t,function nse(t,e){return SD.apply(this,arguments)}(n,{idToken:r}));M(i?.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=null!==(e=s.providerUserInfo)&&void 0!==e&&e.length?function cse(t){return t.map(e=>{var{providerId:n}=e,r=Um(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(s.providerUserInfo):[],a=function use(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(t.providerData,o),l=!!t.isAnonymous&&!(t.email&&s.passwordHash||a?.length),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new vV(s.createdAt,s.lastLoginAt),isAnonymous:l};Object.assign(t,d)}),RD.apply(this,arguments)}function ND(){return(ND=g(function*(t){const e=Ir(t);yield ml(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function kD(){return(kD=g(function*(t,e){const n=yield yV(t,{},g(function*(){const r=ip({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=_V(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",mV.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}class yl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){M(e.idToken,"internal-error"),M(typeof e.idToken<"u","internal-error"),M(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function ise(t){const e=Ap(t);return M(e,"internal-error"),M(typeof e.exp<"u","internal-error"),M(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){var r=this;return g(function*(){return M(!r.accessToken||r.refreshToken,e,"user-token-expired"),n||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,n){var r=this;return g(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function lse(t,e){return kD.apply(this,arguments)}(e,n);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new yl;return r&&(M("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(M("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(M("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new yl,this.toJSON())}_performRefresh(){return Kr("not implemented")}}function ds(t,e){M("string"==typeof t||typeof t>"u","internal-error",{appName:e})}class mo{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Um(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ose(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new vV(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var n=this;return g(function*(){const r=yield Ni(n,n.stsTokenManager.getToken(n.auth,e));return M(r,n.auth,"internal-error"),n.accessToken!==r&&(n.accessToken=r,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),r})()}getIdTokenResult(e){return function rse(t){return AD.apply(this,arguments)}(this,e)}reload(){return function ase(t){return ND.apply(this,arguments)}(this)}_assign(e){this!==e&&(M(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new mo(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){M(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){var r=this;return g(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield ml(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return g(function*(){const n=yield e.getIdToken();return yield Ni(e,function ese(t,e){return bD.apply(this,arguments)}(e.auth,{idToken:n})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,u,c,l;const d=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,f=null!==(s=n.phoneNumber)&&void 0!==s?s:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,m=null!==(a=n.tenantId)&&void 0!==a?a:void 0,y=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,v=null!==(c=n.createdAt)&&void 0!==c?c:void 0,_=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,{uid:E,emailVerified:A,isAnonymous:O,providerData:K,stsTokenManager:je}=n;M(E&&je,e,"internal-error");const In=yl.fromJSON(this.name,je);M("string"==typeof E,e,"internal-error"),ds(d,e.name),ds(h,e.name),M("boolean"==typeof A,e,"internal-error"),M("boolean"==typeof O,e,"internal-error"),ds(f,e.name),ds(p,e.name),ds(m,e.name),ds(y,e.name),ds(v,e.name),ds(_,e.name);const oi=new mo({uid:E,auth:e,email:h,emailVerified:A,displayName:d,isAnonymous:O,photoURL:p,phoneNumber:f,tenantId:m,stsTokenManager:In,createdAt:v,lastLoginAt:_});return K&&Array.isArray(K)&&(oi.providerData=K.map(Pge=>Object.assign({},Pge))),y&&(oi._redirectEventId=y),oi}static _fromIdTokenResponse(e,n,r=!1){return g(function*(){const i=new yl;i.updateFromServerResponse(n);const s=new mo({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield ml(s),s})()}}const wV=new Map;function ki(t){ls(t instanceof Function,"Expected a class definition");let e=wV.get(t);return e?(ls(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,wV.set(t,e),e)}const IV=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return g(function*(){return!0})()}_set(n,r){var i=this;return g(function*(){i.storage[n]=r})()}_get(n){var r=this;return g(function*(){const i=r.storage[n];return void 0===i?null:i})()}_remove(n){var r=this;return g(function*(){delete r.storage[n]})()}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})();function Mp(t,e,n){return`firebase:${t}:${e}:${n}`}class Za{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Mp(this.userKey,i.apiKey,s),this.fullPersistenceKey=Mp("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return g(function*(){const n=yield e.persistence._get(e.fullUserKey);return n?mo._fromJSON(e.auth,n):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var n=this;return g(function*(){if(n.persistence===e)return;const r=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=e,r?n.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return g(function*(){if(!n.length)return new Za(ki(IV),e,r);const i=(yield Promise.all(n.map(function(){var c=g(function*(l){if(yield l._isAvailable())return l});return function(l){return c.apply(this,arguments)}}()))).filter(c=>c);let s=i[0]||ki(IV);const o=Mp(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const l=yield c._get(o);if(l){const d=mo._fromJSON(e,l);c!==s&&(a=d),s=c;break}}catch{}const u=i.filter(c=>c._shouldAllowMigration);return s._shouldAllowMigration&&u.length?(s=u[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(function(){var c=g(function*(l){if(l!==s)try{yield l._remove(o)}catch{}});return function(l){return c.apply(this,arguments)}}())),new Za(s,e,r)):new Za(s,e,r)})()}}function EV(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(bV(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(DV(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(SV(e))return"Blackberry";if(AV(e))return"Webos";if(PD(e))return"Safari";if((e.includes("chrome/")||CV(e))&&!e.includes("edge/"))return"Chrome";if(TV(e))return"Android";{const r=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function DV(t=St()){return/firefox\//i.test(t)}function PD(t=St()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function CV(t=St()){return/crios\//i.test(t)}function bV(t=St()){return/iemobile/i.test(t)}function TV(t=St()){return/android/i.test(t)}function SV(t=St()){return/blackberry/i.test(t)}function AV(t=St()){return/webos/i.test(t)}function xp(t=St()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function MV(t=St()){return xp(t)||TV(t)||AV(t)||SV(t)||/windows phone/i.test(t)||bV(t)}function xV(t,e=[]){let n;switch(t){case"Browser":n=EV(St());break;case"Worker":n=`${EV(St())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${as}/${r}`}function RV(t,e){return FD.apply(this,arguments)}function FD(){return(FD=g(function*(t,e){return et(t,"GET","/v2/recaptchaConfig",We(t,e))})).apply(this,arguments)}function kV(t){return void 0!==t&&void 0!==t.enterprise}class PV{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>"EMAIL_PASSWORD_PROVIDER"===n.provider&&"OFF"!==n.enforcementState)}}function LD(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Wr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",function gse(){var t,e;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)})}function OV(t){return`__${t}${Math.floor(1e6*Math.random())}`}class FV{constructor(e){this.type="recaptcha-enterprise",this.auth=Mt(e)}verify(e="verify",n=!1){var r=this;return g(function*(){function s(){return s=g(function*(a){if(!n){if(null==a.tenantId&&null!=a._agentRecaptchaConfig)return a._agentRecaptchaConfig.siteKey;if(null!=a.tenantId&&void 0!==a._tenantRecaptchaConfigs[a.tenantId])return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(function(){var u=g(function*(c,l){RV(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(void 0!==d.recaptchaKey){const h=new PV(d);return null==a.tenantId?a._agentRecaptchaConfig=h:a._tenantRecaptchaConfigs[a.tenantId]=h,c(h.siteKey)}l(new Error("recaptcha Enterprise site key undefined"))}).catch(d=>{l(d)})});return function(c,l){return u.apply(this,arguments)}}())}),s.apply(this,arguments)}function o(a,u,c){const l=window.grecaptcha;kV(l)?l.enterprise.ready(()=>{l.enterprise.execute(a,{action:e}).then(d=>{u(d)}).catch(()=>{u("NO_RECAPTCHA")})}):c(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,u)=>{(function i(a){return s.apply(this,arguments)})(r.auth).then(c=>{if(!n&&kV(window.grecaptcha))o(c,a,u);else{if(typeof window>"u")return void u(new Error("RecaptchaVerifier is only supported in browser"));LD("https://www.google.com/recaptcha/enterprise.js?render="+c).then(()=>{o(c,a,u)}).catch(l=>{u(l)})}}).catch(c=>{u(c)})})})()}}class vse{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{o(e(s))}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var n=this;return g(function*(){if(n.auth.currentUser===e)return;const r=[];try{for(const i of n.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const s of r)try{s()}catch{}throw n.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}class wse{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new LV(this),this.idTokenSubscription=new LV(this),this.beforeStateQueue=new vse(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=fV,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){var r=this;return n&&(this._popupRedirectResolver=ki(n)),this._initializationPromise=this.queue(g(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield Za.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(n),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return g(function*(){if(e._deleted)return;const n=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||n){if(e.currentUser&&n&&e.currentUser.uid===n.uid)return e._currentUser._assign(n),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(n,!0)}})()}initializeCurrentUser(e){var n=this;return g(function*(){var r;const i=yield n.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const a=null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId,u=s?._redirectEventId,c=yield n.tryRedirectSignIn(e);(!a||a===u)&&c?.user&&(s=c.user,o=!0)}if(!s)return n.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{yield n.beforeStateQueue.runMiddleware(s)}catch(a){s=i,n._popupRedirectResolver._overrideRedirectResult(n,()=>Promise.reject(a))}return s?n.reloadAndSetCurrentUserOrClear(s):n.directlySetCurrentUser(null)}return M(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===s._redirectEventId?n.directlySetCurrentUser(s):n.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(e){var n=this;return g(function*(){let r=null;try{r=yield n._popupRedirectResolver._completeRedirectFn(n,e,!0)}catch{yield n._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var n=this;return g(function*(){try{yield ml(e)}catch(r){if("auth/network-request-failed"!==r?.code)return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function Yie(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var e=this;return g(function*(){e._deleted=!0})()}updateCurrentUser(e){var n=this;return g(function*(){const r=e?Ir(e):null;return r&&M(r.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(r&&r._clone(n))})()}_updateCurrentUser(e,n=!1){var r=this;return g(function*(){if(!r._deleted)return e&&M(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),n||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(g(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return g(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var n=this;return this.queue(g(function*(){yield n.assertedPersistence.setPersistence(ki(e))}))}initializeRecaptchaConfig(){var e=this;return g(function*(){const n=yield RV(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new PV(n);null==e.tenantId?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.emailPasswordEnabled&&new FV(e).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Gr("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,n){var r=this;return g(function*(){const i=yield r.getOrInitRedirectPersistenceManager(n);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var n=this;return g(function*(){if(!n.redirectPersistenceManager){const r=e&&ki(e)||n._popupRedirectResolver;M(r,n,"argument-error"),n.redirectPersistenceManager=yield Za.create(n,[ki(r._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(e){var n=this;return g(function*(){var r,i;return n._isInitialized&&(yield n.queue(g(function*(){}))),(null===(r=n._currentUser)||void 0===r?void 0:r._redirectEventId)===e?n._currentUser:(null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?n.redirectUser:null})()}_persistUserIfCurrent(e){var n=this;return g(function*(){if(e===n.currentUser)return n.queue(g(function*(){return n.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(n=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s="function"==typeof n?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return M(o,this,"internal-error"),o.then(()=>s(this.currentUser)),"function"==typeof n?e.addObserver(n,r,i):e.addObserver(n)}directlySetCurrentUser(e){var n=this;return g(function*(){n.currentUser&&n.currentUser!==e&&n._currentUser._stopProactiveRefresh(),e&&n.isProactiveRefreshEnabled&&e._startProactiveRefresh(),n.currentUser=e,e?yield n.assertedPersistence.setCurrentUser(e):yield n.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return M(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=xV(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return g(function*(){var n;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(n=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const s=yield e._getAppCheckToken();return s&&(r["X-Firebase-AppCheck"]=s),r})()}_getAppCheckToken(){var e=this;return g(function*(){var n;const r=yield null===(n=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getToken();return r?.error&&function Kie(t,...e){Tp.logLevel<=Y.WARN&&Tp.warn(`Auth (${as}): ${t}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function Mt(t){return Ir(t)}class LV{constructor(e){this.auth=e,this.observer=null,this.addObserver=function AZ(t,e){const n=new MZ(t,e);return n.subscribe.bind(n)}(n=>this.observer=n)}get next(){return M(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function VV(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function UV(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}class Tse{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Kr("not implemented")}_getIdTokenResponse(e){return Kr("not implemented")}_linkToIdToken(e,n){return Kr("not implemented")}_getReauthenticationResolver(e){return Kr("not implemented")}}function Pi(t,e){return eC.apply(this,arguments)}function eC(){return(eC=g(function*(t,e){return function Ri(t,e,n,r){return CD.apply(this,arguments)}(t,"POST","/v1/accounts:signInWithIdp",We(t,e))})).apply(this,arguments)}class fs{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Bse extends fs{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ur{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return g(function*(){const s=yield mo._fromIdTokenResponse(e,r,i),o=HV(r);return new ur({user:s,providerId:o,_tokenResponse:r,operationType:n})})()}static _forOperation(e,n,r){return g(function*(){yield e._updateTokensIfNecessary(r,!0);const i=HV(r);return new ur({user:e,providerId:i,_tokenResponse:r,operationType:n})})()}}function HV(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class Op extends Kn{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Op.prototype),this.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Op(e,n,r,i)}}function GV(t,e,n,r){return("reauthenticate"===e?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw"auth/multi-factor-auth-required"===s.code?Op._fromErrorAndOperation(t,s,e,r):s})}function lC(){return(lC=g(function*(t,e,n=!1){const r=yield Ni(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return ur._forOperation(t,"link",r)})).apply(this,arguments)}function hC(){return(hC=g(function*(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=yield Ni(t,GV(r,i,e,t),n);M(s.idToken,r,"internal-error");const o=Ap(s.idToken);M(o,r,"internal-error");const{sub:a}=o;return M(t.uid===a,r,"user-mismatch"),ur._forOperation(t,i,s)}catch(s){throw"auth/user-not-found"===s?.code&&Pn(r,"user-mismatch"),s}})).apply(this,arguments)}function fC(){return(fC=g(function*(t,e,n=!1){const r="signIn",i=yield GV(t,r,e),s=yield ur._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})).apply(this,arguments)}const Lp="__sak";class QV{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Lp,"1"),this.storage.removeItem(Lp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const coe=(()=>{class t extends QV{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function ooe(){const t=St();return PD(t)||xp(t)}()&&function fse(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=MV(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key)return void this.forAllChangedKeys((a,u,c)=>{this.notifyListeners(a,c)});const i=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(i);if(n.newValue!==a)null!==n.newValue?this.storage.setItem(i,n.newValue):this.storage.removeItem(i);else if(this.localCache[i]===n.newValue&&!r)return}const s=()=>{const a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);!function hse(){return function DZ(){const t=St();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}()&&10===document.documentMode}()||o===n.newValue||n.newValue===n.oldValue?s():setTimeout(s,10)}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(n,r){var i=()=>super._set,s=this;return g(function*(){yield i().call(s,n,r),s.localCache[n]=JSON.stringify(r)})()}_get(n){var r=()=>super._get,i=this;return g(function*(){const s=yield r().call(i,n);return i.localCache[n]=JSON.stringify(s),s})()}_remove(n){var r=()=>super._remove,i=this;return g(function*(){yield r().call(i,n),delete i.localCache[n]})()}}return t.type="LOCAL",t})(),YV=(()=>{class t extends QV{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})();let doe=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){const r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;const i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){var r=this;return g(function*(){const i=n,{eventId:s,eventType:o,data:a}=i.data,u=r.handlersMap[o];if(!u?.size)return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const c=Array.from(u).map(function(){var d=g(function*(h){return h(i.origin,a)});return function(h){return d.apply(this,arguments)}}()),l=yield function loe(t){return Promise.all(t.map(function(){var e=g(function*(n){try{return{fulfilled:!0,value:yield n}}catch(r){return{fulfilled:!1,reason:r}}});return function(n){return e.apply(this,arguments)}}()))}(c);i.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:l})})()}_subscribe(n,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||0===this.handlersMap[n].size)&&delete this.handlersMap[n],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return t.receivers=[],t})();function HC(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(10*Math.random());return t+n}class hoe{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){var i=this;return g(function*(){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,a;return new Promise((u,c)=>{const l=HC("",20);s.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(h){const f=h;if(f.data.eventId===l)switch(f.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(f.data.response);break;default:clearTimeout(d),clearTimeout(o),c(new Error("invalid_response"))}}},i.handlers.add(a),s.port1.addEventListener("message",a.onMessage),i.target.postMessage({eventType:e,eventId:l,data:n},[s.port2])}).finally(()=>{a&&i.removeMessageHandler(a)})})()}}function ft(){return window}function GC(){return typeof ft().WorkerGlobalScope<"u"&&"function"==typeof ft().importScripts}function zC(){return(zC=g(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const XV="firebaseLocalStorageDb",Vp="firebaseLocalStorage",JV="fbase_key";class Il{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Up(t,e){return t.transaction([Vp],e?"readwrite":"readonly").objectStore(Vp)}function qC(){const t=indexedDB.open(XV,1);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Vp,{keyPath:JV})}catch(i){n(i)}}),t.addEventListener("success",g(function*(){const r=t.result;r.objectStoreNames.contains(Vp)?e(r):(r.close(),yield function _oe(){const t=indexedDB.deleteDatabase(XV);return new Il(t).toPromise()}(),e(yield qC()))}))})}function ZV(t,e,n){return WC.apply(this,arguments)}function WC(){return(WC=g(function*(t,e,n){const r=Up(t,!0).put({[JV]:e,value:n});return new Il(r).toPromise()})).apply(this,arguments)}function KC(){return(KC=g(function*(t,e){const n=Up(t,!1).get(e),r=yield new Il(n).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function e2(t,e){const n=Up(t,!0).delete(e);return new Il(n).toPromise()}const Eoe=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var n=this;return g(function*(){return n.db||(n.db=yield qC()),n.db})()}_withRetries(n){var r=this;return g(function*(){let i=0;for(;;)try{const s=yield r._openDb();return yield n(s)}catch(s){if(i++>3)throw s;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var n=this;return g(function*(){return GC()?n.initializeReceiver():n.initializeSender()})()}initializeReceiver(){var n=this;return g(function*(){n.receiver=doe._getInstance(function moe(){return GC()?self:null}()),n.receiver._subscribe("keyChanged",function(){var r=g(function*(i,s){return{keyProcessed:(yield n._poll()).includes(s.key)}});return function(i,s){return r.apply(this,arguments)}}()),n.receiver._subscribe("ping",function(){var r=g(function*(i,s){return["keyChanged"]});return function(i,s){return r.apply(this,arguments)}}())})()}initializeSender(){var n=this;return g(function*(){var r,i;if(n.activeServiceWorker=yield function poe(){return zC.apply(this,arguments)}(),!n.activeServiceWorker)return;n.sender=new hoe(n.activeServiceWorker);const s=yield n.sender._send("ping",{},800);s&&null!==(r=s[0])&&void 0!==r&&r.fulfilled&&null!==(i=s[0])&&void 0!==i&&i.value.includes("keyChanged")&&(n.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(n){var r=this;return g(function*(){if(r.sender&&r.activeServiceWorker&&function goe(){var t;return(null===(t=navigator?.serviceWorker)||void 0===t?void 0:t.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:n},r.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return g(function*(){try{if(!indexedDB)return!1;const n=yield qC();return yield ZV(n,Lp,"1"),yield e2(n,Lp),!0}catch{}return!1})()}_withPendingWrite(n){var r=this;return g(function*(){r.pendingWrites++;try{yield n()}finally{r.pendingWrites--}})()}_set(n,r){var i=this;return g(function*(){return i._withPendingWrite(g(function*(){return yield i._withRetries(s=>ZV(s,n,r)),i.localCache[n]=r,i.notifyServiceWorker(n)}))})()}_get(n){var r=this;return g(function*(){const i=yield r._withRetries(s=>function voe(t,e){return KC.apply(this,arguments)}(s,n));return r.localCache[n]=i,i})()}_remove(n){var r=this;return g(function*(){return r._withPendingWrite(g(function*(){return yield r._withRetries(i=>e2(i,n)),delete r.localCache[n],r.notifyServiceWorker(n)}))})()}_poll(){var n=this;return g(function*(){const r=yield n._withRetries(o=>{const a=Up(o,!1).getAll();return new Il(a).toPromise()});if(!r)return[];if(0!==n.pendingWrites)return[];const i=[],s=new Set;for(const{fbase_key:o,value:a}of r)s.add(o),JSON.stringify(n.localCache[o])!==JSON.stringify(a)&&(n.notifyListeners(o,a),i.push(o));for(const o of Object.keys(n.localCache))n.localCache[o]&&!s.has(o)&&(n.notifyListeners(o,null),i.push(o));return i})()}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const s of Array.from(i))s(r)}startPolling(){var n=this;this.stopPolling(),this.pollTimer=setInterval(g(function*(){return n._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return t.type="LOCAL",t})();OV("rcb"),new fl(3e4,6e4);class rb extends Tse{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Pi(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Pi(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Pi(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Voe(t){return function WV(t,e){return fC.apply(this,arguments)}(t.auth,new rb(t),t.bypassAuthState)}function Uoe(t){const{auth:e,user:n}=t;return M(n,e,"internal-error"),function qV(t,e){return hC.apply(this,arguments)}(n,new rb(t),t.bypassAuthState)}function Boe(t){return ib.apply(this,arguments)}function ib(){return(ib=g(function*(t){const{auth:e,user:n}=t;return M(n,e,"internal-error"),function cC(t,e){return lC.apply(this,arguments)}(n,new rb(t),t.bypassAuthState)})).apply(this,arguments)}class $oe{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){var e=this;return new Promise(function(){var n=g(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(s){e.reject(s)}});return function(r,i){return n.apply(this,arguments)}}())}onAuthEvent(e){var n=this;return g(function*(){const{urlResponse:r,sessionId:i,postBody:s,tenantId:o,error:a,type:u}=e;if(a)return void n.reject(a);const c={auth:n.auth,requestUri:r,sessionId:i,tenantId:o||void 0,postBody:s||void 0,user:n.user,bypassAuthState:n.bypassAuthState};try{n.resolve(yield n.getIdpTask(u)(c))}catch(l){n.reject(l)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Voe;case"linkViaPopup":case"linkViaRedirect":return Boe;case"reauthViaPopup":case"reauthViaRedirect":return Uoe;default:Pn(this.auth,"internal-error")}}resolve(e){ls(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ls(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}new fl(2e3,1e4);const joe="pendingRedirect",El=new Map;class Hoe extends $oe{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,n=this;return g(function*(){let r=El.get(n.auth._key());if(!r){try{const s=(yield function Goe(t,e){return cb.apply(this,arguments)}(n.resolver,n.auth))?yield e().call(n):null;r=()=>Promise.resolve(s)}catch(i){r=()=>Promise.reject(i)}El.set(n.auth._key(),r)}return n.bypassAuthState||El.set(n.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var n=()=>super.onAuthEvent,r=this;return g(function*(){if("signInViaRedirect"===e.type)return n().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,n().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return g(function*(){})()}cleanUp(){}}function cb(){return(cb=g(function*(t,e){const n=function r2(t){return Mp(joe,t.config.apiKey,t.name)}(e),r=function n2(t){return ki(t._redirectPersistence)}(t);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(n));return yield r._remove(n),i})).apply(this,arguments)}function zoe(t,e){El.set(t._key(),e)}function i2(t,e){return mb.apply(this,arguments)}function mb(){return(mb=g(function*(t,e,n=!1){const r=Mt(t),i=function _o(t,e){return e?ki(e):(M(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}(r,e),o=yield new Hoe(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})).apply(this,arguments)}class Yoe{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function Xoe(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return a2(t);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!a2(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";n.onError(Wr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=null===n.eventId||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(o2(e))}saveEventToCache(e){this.cachedEventUids.add(o2(e)),this.lastProcessedEventTime=Date.now()}}function o2(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function a2({type:t,error:e}){return"unknown"===t&&"auth/no-auth-event"===e?.code}function _b(){return(_b=g(function*(t,e={}){return et(t,"GET","/v1/projects",e)})).apply(this,arguments)}const Zoe=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,eae=/^https?/;function vb(){return vb=g(function*(t){if(t.config.emulator)return;const{authorizedDomains:e}=yield function Joe(t){return _b.apply(this,arguments)}(t);for(const n of e)try{if(nae(n))return}catch{}Pn(t,"unauthorized-domain")}),vb.apply(this,arguments)}function nae(t){const e=hl(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return""===o.hostname&&""===r?"chrome-extension:"===n&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===n&&o.hostname===r}if(!eae.test(n))return!1;if(Zoe.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const rae=new fl(3e4,6e4);function u2(){const t=ft().___jsl;if(t?.H)for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}let $p=null;const oae=new fl(5e3,15e3),aae="__/auth/iframe",uae="emulator/auth/iframe",cae={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},lae=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function dae(t){const e=t.config;M(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?ID(e,uae):`https://${t.config.authDomain}/${aae}`,r={apiKey:e.apiKey,appName:t.name,v:as},i=lae.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${ip(r).slice(1)}`}function wb(){return wb=g(function*(t){const e=yield function sae(t){return $p=$p||function iae(t){return new Promise((e,n)=>{var r,i,s;function o(){u2(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{u2(),n(Wr(t,"network-request-failed"))},timeout:rae.get()})}if(null!==(i=null===(r=ft().gapi)||void 0===r?void 0:r.iframes)&&void 0!==i&&i.Iframe)e(gapi.iframes.getContext());else{if(null===(s=ft().gapi)||void 0===s||!s.load){const a=OV("iframefcb");return ft()[a]=()=>{gapi.load?o():n(Wr(t,"network-request-failed"))},LD(`https://apis.google.com/js/api.js?onload=${a}`).catch(u=>n(u))}o()}}).catch(e=>{throw $p=null,e})}(t),$p}(t),n=ft().gapi;return M(n,t,"internal-error"),e.open({where:document.body,url:dae(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:cae,dontclear:!0},r=>new Promise(function(){var i=g(function*(s,o){yield r.restyle({setHideOnLeave:!1});const a=Wr(t,"network-request-failed"),u=ft().setTimeout(()=>{o(a)},oae.get());function c(){ft().clearTimeout(u),s(r)}r.ping(c).then(c,()=>{o(a)})});return function(s,o){return i.apply(this,arguments)}}()))}),wb.apply(this,arguments)}const fae={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class c2{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const wae="__/auth/handler",Iae="emulator/auth/handler",Eae=encodeURIComponent("fac");function l2(t,e,n,r,i,s){return Ib.apply(this,arguments)}function Ib(){return(Ib=g(function*(t,e,n,r,i,s){M(t.config.authDomain,t,"auth-domain-config-required"),M(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:as,eventId:i};if(e instanceof fs){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",function SZ(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[l,d]of Object.entries(s||{}))o[l]=d}if(e instanceof Bse){const l=e.getScopes().filter(d=>""!==d);l.length>0&&(o.scopes=l.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const l of Object.keys(a))void 0===a[l]&&delete a[l];const u=yield t._getAppCheckToken(),c=u?`#${Eae}=${encodeURIComponent(u)}`:"";return`${function Dae({config:t}){return t.emulator?ID(t,Iae):`https://${t.authDomain}/${wae}`}(t)}?${ip(a).slice(1)}${c}`})).apply(this,arguments)}const Eb="webStorageSupport",bae=class Cae{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=YV,this._completeRedirectFn=i2,this._overrideRedirectResult=zoe}_openPopup(e,n,r,i){var s=this;return g(function*(){var o;ls(null===(o=s.eventManagers[e._key()])||void 0===o?void 0:o.manager,"_initialize() not called before _openPopup()");const a=yield l2(e,n,r,hl(),i);return function _ae(t,e,n,r=500,i=600){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u=Object.assign(Object.assign({},fae),{width:r.toString(),height:i.toString(),top:s,left:o}),c=St().toLowerCase();n&&(a=CV(c)?"_blank":n),DV(c)&&(e=e||"http://localhost",u.scrollbars="yes");const l=Object.entries(u).reduce((h,[f,p])=>`${h}${f}=${p},`,"");if(function dse(t=St()){var e;return xp(t)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(c)&&"_self"!==a)return function vae(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(e||"",a),new c2(null);const d=window.open(e||"",a,l);M(d,t,"popup-blocked");try{d.focus()}catch{}return new c2(d)}(e,a,HC())})()}_openRedirect(e,n,r,i){var s=this;return g(function*(){return yield s._originValidation(e),function foe(t){ft().location.href=t}(yield l2(e,n,r,hl(),i)),new Promise(()=>{})})()}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(ls(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){var n=this;return g(function*(){const r=yield function hae(t){return wb.apply(this,arguments)}(e),i=new Yoe(e);return r.register("authEvent",s=>(M(s?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),n.eventManagers[e._key()]={manager:i},n.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Eb,{type:Eb},i=>{var s;const o=null===(s=i?.[0])||void 0===s?void 0:s[Eb];void 0!==o&&n(!!o),Pn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=function tae(t){return vb.apply(this,arguments)}(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return MV()||PD()||xp()}};var f2="@firebase/auth";class Tae{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var n=this;return g(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){M(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const xae=vF("authIdTokenMaxAge")||300;let g2=null;const Rae=t=>function(){var e=g(function*(n){const r=n&&(yield n.getIdTokenResult()),i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3;if(i&&i>xae)return;const s=r?.token;g2!==s&&(g2=s,yield fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))});return function(n){return e.apply(this,arguments)}}();function Nae(t=ap()){const e=ao(t,"auth");if(e.isInitialized())return e.getImmediate();const n=function Ise(t,e){const n=ao(t,"auth");if(n.isInitialized()){const i=n.getImmediate();if(rp(n.getOptions(),e??{}))return i;Pn(i,"already-initialized")}return n.initialize({options:e})}(t,{popupRedirectResolver:bae,persistence:[Eoe,coe,YV]}),r=vF("authTokenSyncURL");if(r){const s=Rae(r);(function toe(t,e,n){Ir(t).beforeAuthStateChanged(e,n)})(n,s,()=>s(n.currentUser)),function eoe(t,e,n,r){Ir(t).onIdTokenChanged(e,n,r)}(n,o=>s(o))}const i=mF("auth");return i&&function Dse(t,e,n){const r=Mt(t);M(r._canInitEmulator,r,"emulator-config-failed"),M(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!n?.disableWarnings,s=VV(e),{host:o,port:a}=function Cse(t){const e=VV(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:UV(r.substr(s.length+1))}}{const[s,o]=r.split(":");return{host:s,port:UV(o)}}}(e);r.config.emulator={url:`${s}//${o}${null===a?"":`:${a}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function bse(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",t):t())}()}(n,`http://${i}`),n}!function Aae(t){nn(new $t("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;M(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:xV(t)},c=new wse(r,i,s,u);return function Ese(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(ki);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),nn(new $t("auth-internal",e=>{const n=Mt(e.getProvider("auth").getImmediate());return new Tae(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Oe(f2,"0.23.2",function Sae(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(t)),Oe(f2,"0.23.2","esm2017")}("Browser");class Cb{constructor(e){return e}}class bb{constructor(){return gp("auth")}}const Tb=new L("angularfire2.auth-instances");function Pae(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new Cb(r)}}const Oae={provide:bb,deps:[[new vt,Tb]]},Fae={provide:Cb,useFactory:function kae(t,e){const n=pp("auth",t,e);return n&&new Cb(n)},deps:[[new vt,Tb],go]};let Lae=(()=>{class t{constructor(){Oe("angularfire",cl.full,"auth")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Yt({type:t}),t.\u0275inj=Lt({providers:[Fae,Oae]}),t})();function Vae(t,...e){return{ngModule:Lae,providers:[{provide:Tb,useFactory:Pae(t),multi:!0,deps:[Ee,xn,mp,yp,[new vt,bp],...e]}]}}const Uae=Ya(Nae,!0),y2="firebasestorage.googleapis.com";class Ke extends Kn{constructor(e,n,r=0){super(Sb(e),`Firebase Storage: ${n} (${Sb(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ke.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Sb(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var z=(()=>((z=z||{}).UNKNOWN="unknown",z.OBJECT_NOT_FOUND="object-not-found",z.BUCKET_NOT_FOUND="bucket-not-found",z.PROJECT_NOT_FOUND="project-not-found",z.QUOTA_EXCEEDED="quota-exceeded",z.UNAUTHENTICATED="unauthenticated",z.UNAUTHORIZED="unauthorized",z.UNAUTHORIZED_APP="unauthorized-app",z.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",z.INVALID_CHECKSUM="invalid-checksum",z.CANCELED="canceled",z.INVALID_EVENT_NAME="invalid-event-name",z.INVALID_URL="invalid-url",z.INVALID_DEFAULT_BUCKET="invalid-default-bucket",z.NO_DEFAULT_BUCKET="no-default-bucket",z.CANNOT_SLICE_BLOB="cannot-slice-blob",z.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",z.NO_DOWNLOAD_URL="no-download-url",z.INVALID_ARGUMENT="invalid-argument",z.INVALID_ARGUMENT_COUNT="invalid-argument-count",z.APP_DELETED="app-deleted",z.INVALID_ROOT_OPERATION="invalid-root-operation",z.INVALID_FORMAT="invalid-format",z.INTERNAL_ERROR="internal-error",z.UNSUPPORTED_ENVIRONMENT="unsupported-environment",z))();function Sb(t){return"storage/"+t}function Mb(t){return new Ke(z.INVALID_ARGUMENT,t)}function E2(){return new Ke(z.APP_DELETED,"The Firebase app was deleted.")}class mn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=mn.makeFromUrl(e,n)}catch{return new mn(e,"")}if(""===r.path)return r;throw function Qae(t){return new Ke(z.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)",a=new RegExp("^gs://"+i+"(/(.*))?$","i");function c(A){A.path_=decodeURIComponent(A.path)}const d=n.replace(/[.]/g,"\\."),E=[{regex:a,indices:{bucket:1,path:3},postModify:function s(A){"/"===A.path.charAt(A.path.length-1)&&(A.path_=A.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${d}/v[A-Za-z0-9_]+/b/${i}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:c},{regex:new RegExp(`^https?://${n===y2?"(?:storage.googleapis.com|storage.cloud.google.com)":n}/${i}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:c}];for(let A=0;A<E.length;A++){const O=E[A],K=O.regex.exec(e);if(K){let In=K[O.indices.path];In||(In=""),r=new mn(K[O.indices.bucket],In),O.postModify(r);break}}if(null==r)throw function Kae(t){return new Ke(z.INVALID_URL,"Invalid URL '"+t+"'.")}(e);return r}}class tue{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function Rb(t,e,n,r){if(r<e)throw Mb(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Mb(`Invalid value for '${t}'. Expected ${n} or less.`)}var On=(()=>((On=On||{})[On.NO_ERROR=0]="NO_ERROR",On[On.NETWORK_ERROR=1]="NETWORK_ERROR",On[On.ABORT=2]="ABORT",On))();class aue{constructor(e,n,r,i,s,o,a,u,c,l,d,h=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=u,this.timeout_=c,this.progressCallback_=l,this.connectionFactory_=d,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((f,p)=>{this.resolve_=f,this.reject_=p,this.start_()})}start_(){const n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const u=this.callback_(a,a.getResponse());!function iue(t){return void 0!==t}(u)?s():s(u)}catch(u){o(u)}else if(null!==a){const u=function Ab(){return new Ke(z.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}();u.serverResponse=a.getErrorText(),o(this.errorCallback_?this.errorCallback_(a,u):u)}else o(i.canceled?this.appDelete_?E2():function w2(){return new Ke(z.CANCELED,"User canceled the upload/download.")}():function v2(){return new Ke(z.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}())};this.canceled_?n(0,new Gp(!1,null,!0)):this.backoffId_=function nue(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function u(){return 2===a}let c=!1;function l(...y){c||(c=!0,e.apply(null,y))}function d(y){i=setTimeout(()=>{i=null,t(f,u())},y)}function h(){s&&clearTimeout(s)}function f(y,...v){if(c)return void h();if(y)return h(),void l.call(null,y,...v);if(u()||o)return h(),void l.call(null,y,...v);let E;r<64&&(r*=2),1===a?(a=2,E=0):E=1e3*(r+Math.random()),d(E)}let p=!1;function m(y){p||(p=!0,h(),!c&&(null!==i?(y||(a=2),clearTimeout(i),d(0)):y||(a=1)))}return d(0),s=setTimeout(()=>{o=!0,m(!0)},n),m}((r,i)=>{if(i)return void r(!1,new Gp(!1,null,!0));const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{null!==this.progressCallback_&&this.progressCallback_(a.loaded,a.lengthComputable?a.total:-1)};null!==this.progressCallback_&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===On.NO_ERROR,u=s.getStatus();if(!a||function b2(t,e){const n=t>=500&&t<600,i=-1!==[408,429].indexOf(t),s=-1!==e.indexOf(t);return n||i||s}(u,this.additionalRetryCodes_)&&this.retry){const l=s.getErrorCode()===On.ABORT;return void r(!1,new Gp(!1,null,l))}const c=-1!==this.successCodes_.indexOf(u);r(!0,new Gp(c,s))})},n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function rue(t){t(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class Gp{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}class vo{constructor(e,n){this._service=e,this._location=n instanceof mn?n:mn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new vo(e,n)}get root(){const e=new mn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return function x2(t){const e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}(this._location.path)}get storage(){return this._service}get parent(){const e=function Iue(t){if(0===t.length)return null;const e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this._location.path);if(null===e)return null;const n=new mn(this._location.bucket,e);return new vo(this._service,n)}_throwIfRoot(e){if(""===this._location.path)throw function eue(t){return new Ke(z.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function z2(t,e){const n=e?.storageBucket;return null==n?null:mn.makeFromBucketSpec(n,t)}class Vb{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=y2,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?mn.makeFromBucketSpec(i,this._host):z2(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?mn.makeFromBucketSpec(this._url,e):z2(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Rb("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Rb("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return g(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const n=e._authProvider.getImmediate({optional:!0});if(n){const r=yield n.getToken();if(null!==r)return r.accessToken}return null})()}_getAppCheckToken(){var e=this;return g(function*(){const n=e._appCheckProvider.getImmediate({optional:!0});return n?(yield n.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new vo(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new tue(E2());{const o=function hue(t,e,n,r,i,s,o=!0){const a=function C2(t){const e=encodeURIComponent;let n="?";for(const r in t)t.hasOwnProperty(r)&&(n=n+(e(r)+"=")+e(t[r])+"&");return n=n.slice(0,-1),n}(t.urlParams),u=t.url+a,c=Object.assign({},t.headers);return function lue(t,e){e&&(t["X-Firebase-GMPID"]=e)}(c,e),function uue(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(c,n),function cue(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}(c,s),function due(t,e){null!==e&&(t["X-Firebase-AppCheck"]=e)}(c,r),new aue(u,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}makeRequestWithTokens(e,n){var r=this;return g(function*(){const[i,s]=yield Promise.all([r._getAuthToken(),r._getAppCheckToken()]);return r._makeRequest(e,n,i,s).getPromise()})()}}const q2="@firebase/storage",K2="storage";function oce(t=ap(),e){const r=ao(t=Ir(t),K2).getImmediate({identifier:e}),i=yF("storage");return i&&function ace(t,e,n,r={}){!function sce(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken="string"==typeof i?i:wF(i,t.app.options.projectId))}(t,e,n,r)}(r,...i),r}function uce(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new Vb(n,r,i,e,as)}!function cce(){nn(new $t(K2,uce,"PUBLIC").setMultipleInstances(!0)),Oe(q2,"0.11.2",""),Oe(q2,"0.11.2","esm2017")}();class Ub{constructor(e){return e}}const Q2="storage",Bb=new L("angularfire2.storage-instances");function hce(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new Ub(r)}}const fce={provide:class lce{constructor(){return gp(Q2)}},deps:[[new vt,Bb]]},pce={provide:Ub,useFactory:function dce(t,e){const n=pp(Q2,t,e);return n&&new Ub(n)},deps:[[new vt,Bb],go]};let gce=(()=>{class t{constructor(){Oe("angularfire",cl.full,"gcs")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Yt({type:t}),t.\u0275inj=Lt({providers:[pce,fce]}),t})();function mce(t,...e){return{ngModule:gce,providers:[{provide:Bb,useFactory:hce(t),multi:!0,deps:[Ee,xn,mp,yp,[new vt,bb],[new vt,bp],...e]}]}}const yce=Ya(oce,!0);var N,_ce=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Cr={},$b=$b||{},te=_ce||self;function Kp(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Sl(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var jb="closure_uid_"+(1e9*Math.random()>>>0),wce=0;function Ice(t,e,n){return t.call.apply(t.bind,arguments)}function Ece(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function rn(t,e,n){return(rn=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ice:Ece).apply(null,arguments)}function Qp(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function xt(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function ps(){this.s=this.s,this.o=this.o}ps.prototype.s=!1,ps.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function vce(t){Object.prototype.hasOwnProperty.call(t,jb)&&t[jb]||(t[jb]=++wce)}(this)},ps.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Y2=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Hb(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function X2(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Kp(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function sn(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}sn.prototype.h=function(){this.defaultPrevented=!0};var Cce=function(){if(!te.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{te.addEventListener("test",()=>{},e),te.removeEventListener("test",()=>{},e)}catch{}return t}();function Al(t){return/^[\s\xa0]*$/.test(t)}function Yp(){var t=te.navigator;return t&&(t=t.userAgent)?t:""}function Xr(t){return-1!=Yp().indexOf(t)}function Gb(t){return Gb[" "](t),t}Gb[" "]=function(){};var qb,t,Tce=Xr("Opera"),ru=Xr("Trident")||Xr("MSIE"),J2=Xr("Edge"),zb=J2||ru,Z2=Xr("Gecko")&&!(-1!=Yp().toLowerCase().indexOf("webkit")&&!Xr("Edge"))&&!(Xr("Trident")||Xr("MSIE"))&&!Xr("Edge"),Sce=-1!=Yp().toLowerCase().indexOf("webkit")&&!Xr("Edge");function eU(){var t=te.document;return t?t.documentMode:void 0}e:{var Wb="",Kb=(t=Yp(),Z2?/rv:([^\);]+)(\)|;)/.exec(t):J2?/Edge\/([\d\.]+)/.exec(t):ru?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):Sce?/WebKit\/(\S+)/.exec(t):Tce?/(?:Version)[ \/]?(\S+)/.exec(t):void 0);if(Kb&&(Wb=Kb?Kb[1]:""),ru){var Qb=eU();if(null!=Qb&&Qb>parseFloat(Wb)){qb=String(Qb);break e}}qb=Wb}var Ace=te.document&&ru&&(eU()||parseInt(qb,10))||void 0;function Ml(t,e){if(sn.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(Z2){e:{try{Gb(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Mce[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Ml.$.h.call(this)}}xt(Ml,sn);var Mce={2:"touch",3:"pen",4:"mouse"};Ml.prototype.h=function(){Ml.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var xl="closure_listenable_"+(1e6*Math.random()|0),xce=0;function Rce(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++xce,this.fa=this.ia=!1}function Xp(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function Xb(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function nU(t){const e={};for(const n in t)e[n]=t[n];return e}const rU="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function iU(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let s=0;s<rU.length;s++)n=rU[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Jp(t){this.src=t,this.g={},this.h=0}function Jb(t,e){var n=e.type;if(n in t.g){var s,r=t.g[n],i=Y2(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Xp(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function Zb(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}Jp.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.g[s])||(t=this.g[s]=[],this.h++);var o=Zb(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):((e=new Rce(e,this.src,s,!!r,i)).ia=n,t.push(e)),e};var eT="closure_lm_"+(1e6*Math.random()|0),tT={};function sU(t,e,n,r,i){if(r&&r.once)return aU(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)sU(t,e[s],n,r,i);return null}return n=sT(n),t&&t[xl]?t.O(e,n,Sl(r)?!!r.capture:!!r,i):oU(t,e,n,!1,r,i)}function oU(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Sl(i)?!!i.capture:!!i,a=rT(t);if(a||(t[eT]=a=new Jp(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function kce(){const e=Pce;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Cce||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(cU(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function aU(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)aU(t,e[s],n,r,i);return null}return n=sT(n),t&&t[xl]?t.P(e,n,Sl(r)?!!r.capture:!!r,i):oU(t,e,n,!0,r,i)}function uU(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)uU(t,e[s],n,r,i);else r=Sl(r)?!!r.capture:!!r,n=sT(n),t&&t[xl]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=Zb(s=t.g[e],n,r,i))&&(Xp(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.g[e],t.h--))):t&&(t=rT(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Zb(e,n,r,i)),(n=-1<t?e[t]:null)&&nT(n))}function nT(t){if("number"!=typeof t&&t&&!t.fa){var e=t.src;if(e&&e[xl])Jb(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(cU(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=rT(e))?(Jb(n,t),0==n.h&&(n.src=null,e[eT]=null)):Xp(t)}}}function cU(t){return t in tT?tT[t]:tT[t]="on"+t}function Pce(t,e){if(t.fa)t=!0;else{e=new Ml(e,this);var n=t.listener,r=t.la||t.src;t.ia&&nT(t),t=n.call(r,e)}return t}function rT(t){return(t=t[eT])instanceof Jp?t:null}var iT="__closure_events_fn_"+(1e9*Math.random()>>>0);function sT(t){return"function"==typeof t?t:(t[iT]||(t[iT]=function(e){return t.handleEvent(e)}),t[iT])}function Rt(){ps.call(this),this.i=new Jp(this),this.S=this,this.J=null}function Gt(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,"string"==typeof e)e=new sn(e,t);else if(e instanceof sn)e.target=e.target||t;else{var i=e;iU(e=new sn(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=Zp(o,r,!0,e)&&i}if(i=Zp(o=e.g=t,r,!0,e)&&i,i=Zp(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=Zp(o=e.g=n[s],r,!1,e)&&i}function Zp(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,u=o.la||o.src;o.ia&&Jb(t.i,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}xt(Rt,ps),Rt.prototype[xl]=!0,Rt.prototype.removeEventListener=function(t,e,n,r){uU(this,t,e,n,r)},Rt.prototype.N=function(){if(Rt.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Xp(n[r]);delete t.g[e],t.h--}}this.J=null},Rt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},Rt.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var oT=te.JSON.stringify;function Fce(){var t=aT;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var lU=new class Oce{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new Vce,t=>t.reset());class Vce{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function Uce(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function Bce(t){te.setTimeout(()=>{throw t},0)}let Rl,Nl=!1,aT=new class Lce{constructor(){this.h=this.g=null}add(e,n){const r=lU.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},dU=()=>{const t=te.Promise.resolve(void 0);Rl=()=>{t.then($ce)}};var $ce=()=>{for(var t;t=Fce();){try{t.h.call(t.g)}catch(n){Bce(n)}var e=lU;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Nl=!1};function eg(t,e){Rt.call(this),this.h=t||1,this.g=e||te,this.j=rn(this.qb,this),this.l=Date.now()}function uT(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}function cT(t,e,n){if("function"==typeof t)n&&(t=rn(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=rn(t.handleEvent,t)}return 2147483647<Number(e)?-1:te.setTimeout(t,e||0)}function hU(t){t.g=cT(()=>{t.g=null,t.i&&(t.i=!1,hU(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}xt(eg,Rt),(N=eg.prototype).ga=!1,N.T=null,N.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Gt(this,"tick"),this.ga&&(uT(this),this.start()))}},N.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},N.N=function(){eg.$.N.call(this),uT(this),delete this.g};class jce extends ps{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:hU(this)}N(){super.N(),this.g&&(te.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function kl(t){ps.call(this),this.h=t,this.g={}}xt(kl,ps);var fU=[];function pU(t,e,n,r){Array.isArray(n)||(n&&(fU[0]=n.toString()),n=fU);for(var i=0;i<n.length;i++){var s=sU(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function gU(t){Xb(t.g,function(e,n){this.g.hasOwnProperty(n)&&nT(e)},t),t.g={}}function tg(){this.g=!0}function iu(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function qce(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return oT(n)}catch{return e}}(t,n)+(r?" "+r:"")})}kl.prototype.N=function(){kl.$.N.call(this),gU(this)},kl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},tg.prototype.Ea=function(){this.g=!1},tg.prototype.info=function(){};var wo={},mU=null;function ng(){return mU=mU||new Rt}function yU(t){sn.call(this,wo.Ta,t)}function Pl(t){const e=ng();Gt(e,new yU(e))}function _U(t,e){sn.call(this,wo.STAT_EVENT,t),this.stat=e}function _n(t){const e=ng();Gt(e,new _U(e,t))}function vU(t,e){sn.call(this,wo.Ua,t),this.size=e}function Ol(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return te.setTimeout(function(){t()},e)}wo.Ta="serverreachability",xt(yU,sn),wo.STAT_EVENT="statevent",xt(_U,sn),wo.Ua="timingevent",xt(vU,sn);var rg={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},wU={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function lT(){}function EU(){}lT.prototype.h=null;var fT,Fl={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function dT(){sn.call(this,"d")}function hT(){sn.call(this,"c")}function ig(){}function Ll(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new kl(this),this.P=Wce,this.V=new eg(t=zb?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new DU}function DU(){this.i=null,this.g="",this.h=!1}xt(dT,sn),xt(hT,sn),xt(ig,lT),ig.prototype.g=function(){return new XMLHttpRequest},ig.prototype.i=function(){return{}},fT=new ig;var Wce=45e3,pT={},sg={};function gT(t,e,n){t.L=1,t.v=cg(Li(e)),t.s=n,t.S=!0,CU(t,null)}function CU(t,e){t.G=Date.now(),Vl(t),t.A=Li(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),PU(n.i,"t",r),t.C=0,n=t.l.J,t.h=new DU,t.g=iB(t.l,n?e:null,!t.s),0<t.O&&(t.M=new jce(rn(t.Pa,t,t.g),t.O)),pU(t.U,t.g,"readystatechange",t.nb),e=t.I?nU(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),Pl(),function Hce(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var d=l.split("_");o=2<=d.length&&"type"==d[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o})}(t.j,t.u,t.A,t.m,t.W,t.s)}function bU(t){return!!t.g&&"GET"==t.u&&2!=t.L&&t.l.Ha}function TU(t,e,n){let i,r=!0;for(;!t.J&&t.C<n.length;){if(i=Kce(t,n),i==sg){4==e&&(t.o=4,_n(14),r=!1),iu(t.j,t.m,null,"[Incomplete Response]");break}if(i==pT){t.o=4,_n(15),iu(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}iu(t.j,t.m,i,null),mT(t,i)}bU(t)&&i!=sg&&i!=pT&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,_n(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,(e=t.l).g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),DT(e),e.M=!0,_n(11))):(iu(t.j,t.m,n,"[Invalid Chunked Response]"),Io(t),Ul(t))}function Kce(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?sg:(n=Number(e.substring(n,r)),isNaN(n)?pT:(r+=1)+n>e.length?sg:(e=e.slice(r,r+n),t.C=r+n,e))}function Vl(t){t.Y=Date.now()+t.P,SU(t,t.P)}function SU(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=Ol(rn(t.lb,t),e)}function og(t){t.B&&(te.clearTimeout(t.B),t.B=null)}function Ul(t){0==t.l.H||t.J||eB(t.l,t)}function Io(t){og(t);var e=t.M;e&&"function"==typeof e.sa&&e.sa(),t.M=null,uT(t.V),gU(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function mT(t,e){try{var n=t.l;if(0!=n.H&&(n.g==t||yT(n.i,t)))if(!t.K&&yT(n.i,t)&&3==n.H){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<t.G))break e;gg(n),fg(n)}ET(n),_n(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=Ol(rn(n.ib,n),6e3));if(1>=LU(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Do(n,11)}else if((t.K||n.g==t)&&gg(n),!Al(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(n.V=c[0],c=c[1],2==n.H)if("c"==c[0]){n.K=c[1],n.pa=c[2];const l=c[3];null!=l&&(n.ra=l,n.l.info("VER="+n.ra));const d=c[4];null!=d&&(n.Ga=d,n.l.info("SVER="+n.Ga));const h=c[5];null!=h&&"number"==typeof h&&0<h&&(n.L=r=1.5*h,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;s.g||-1==p.indexOf("spdy")&&-1==p.indexOf("quic")&&-1==p.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(_T(s,s.h),s.h=null))}if(r.F){const m=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;m&&(r.Da=m,Fe(r.I,r.F,m))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms"));var o=t;if((r=n).wa=rB(r,r.J?r.pa:null,r.Y),o.K){VU(r.i,o);var a=o,u=r.L;u&&a.setTimeout(u),a.B&&(og(a),Vl(a)),r.g=o}else JU(r);0<n.j.length&&pg(n)}else"stop"!=c[0]&&"close"!=c[0]||Do(n,7);else 3==n.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?Do(n,7):IT(n):"noop"!=c[0]&&n.h&&n.h.Aa(c),n.A=0)}Pl()}catch{}}function AU(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Kp(t)||"string"==typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function Yce(t){if(t.ta&&"function"==typeof t.ta)return t.ta();if(!t.Z||"function"!=typeof t.Z){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Kp(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}(t),r=function Qce(t){if(t.Z&&"function"==typeof t.Z)return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if("string"==typeof t)return t.split("");if(Kp(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}(N=Ll.prototype).setTimeout=function(t){this.P=t},N.nb=function(t){t=t.target;const e=this.M;e&&3==Jr(t)?e.l():this.Pa(t)},N.Pa=function(t){try{if(t==this.g)e:{const l=Jr(this.g);var e=this.g.Ia();if(this.g.da(),!(3>l)&&(3!=l||zb||this.g&&(this.h.h||this.g.ja()||qU(this.g)))){this.J||4!=l||7==e||Pl(),og(this);var n=this.g.da();this.ca=n;t:if(bU(this)){var r=qU(this.g);t="";var i=r.length,s=4==Jr(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Io(this),Ul(this);var o="";break t}this.h.i=new te.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=200==n,function Gce(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.W,l,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Al(a)){var c=a;break t}}c=null}if(!(n=c)){this.i=!1,this.o=3,_n(12),Io(this),Ul(this);break e}iu(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,mT(this,n)}this.S?(TU(this,l,o),zb&&this.i&&3==l&&(pU(this.U,this.V,"tick",this.mb),this.V.start())):(iu(this.j,this.m,o,null),mT(this,o)),4==l&&Io(this),this.i&&!this.J&&(4==l?eB(this.l,this):(this.i=!1,Vl(this)))}else(function ple(t){const e={};t=(t.g&&2<=Jr(t)&&t.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<t.length;r++){if(Al(t[r]))continue;var n=Uce(t[r]);const i=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}!function Nce(t,e){for(const n in t)e.call(void 0,t[n],n,t)}(e,function(r){return r.join(", ")})})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.o=3,_n(12)):(this.o=0,_n(13)),Io(this),Ul(this)}}}catch{}},N.mb=function(){if(this.g){var t=Jr(this.g),e=this.g.ja();this.C<e.length&&(og(this),TU(this,t,e),this.i&&4!=t&&Vl(this))}},N.cancel=function(){this.J=!0,Io(this)},N.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(function zce(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Pl(),_n(17)),Io(this),this.o=2,Ul(this)):SU(this,this.Y-t)};var MU=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Eo(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Eo){this.h=t.h,ag(this,t.j),this.s=t.s,this.g=t.g,ug(this,t.m),this.l=t.l;var e=t.i,n=new jl;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),xU(this,n),this.o=t.o}else t&&(e=String(t).match(MU))?(this.h=!1,ag(this,e[1]||"",!0),this.s=Bl(e[2]||""),this.g=Bl(e[3]||"",!0),ug(this,e[4]),this.l=Bl(e[5]||"",!0),xU(this,e[6]||"",!0),this.o=Bl(e[7]||"")):(this.h=!1,this.i=new jl(null,this.h))}function Li(t){return new Eo(t)}function ag(t,e,n){t.j=n?Bl(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function ug(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function xU(t,e,n){e instanceof jl?(t.i=e,function rle(t,e){e&&!t.j&&(gs(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(NU(this,r),PU(this,i,n))},t)),t.j=e}(t.i,t.h)):(n||(e=$l(e,tle)),t.i=new jl(e,t.h))}function Fe(t,e,n){t.i.set(e,n)}function cg(t){return Fe(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Bl(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function $l(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Jce),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Jce(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Eo.prototype.toString=function(){var t=[],e=this.j;e&&t.push($l(e,RU,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push($l(e,RU,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push($l(n,"/"==n.charAt(0)?ele:Zce,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",$l(n,nle)),t.join("")};var RU=/[#\/\?@]/g,Zce=/[#\?:]/g,ele=/[#\?]/g,tle=/[#\?@]/g,nle=/#/g;function jl(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function gs(t){t.g||(t.g=new Map,t.h=0,t.i&&function Xce(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function NU(t,e){gs(t),e=su(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function kU(t,e){return gs(t),e=su(t,e),t.g.has(e)}function PU(t,e,n){NU(t,e),0<n.length&&(t.i=null,t.g.set(su(t,e),Hb(n)),t.h+=n.length)}function su(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function OU(t){this.l=t||sle,t=te.PerformanceNavigationTiming?0<(t=te.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(te.g&&te.g.Ka&&te.g.Ka()&&te.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(N=jl.prototype).add=function(t,e){gs(this),this.i=null,t=su(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},N.forEach=function(t,e){gs(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)},N.ta=function(){gs(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n},N.Z=function(t){gs(this);let e=[];if("string"==typeof t)kU(this,t)&&(e=e.concat(this.g.get(su(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},N.set=function(t,e){return gs(this),this.i=null,kU(this,t=su(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},N.get=function(t,e){return t&&0<(t=this.Z(t)).length?String(t[0]):e},N.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};var sle=10;function FU(t){return!!t.h||!!t.g&&t.g.size>=t.j}function LU(t){return t.h?1:t.g?t.g.size:0}function yT(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function _T(t,e){t.g?t.g.add(e):t.h=e}function VU(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function UU(t){if(null!=t.h)return t.i.concat(t.h.F);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return Hb(t.i)}OU.prototype.cancel=function(){if(this.i=UU(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}};var ole=class{stringify(t){return te.JSON.stringify(t,void 0)}parse(t){return te.JSON.parse(t,void 0)}};function ale(){this.g=new ole}function ule(t,e,n){const r=n||"";try{AU(t,function(i,s){let o=i;Sl(i)&&(o=oT(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function lg(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Hl(t){this.l=t.fc||null,this.j=t.ob||!1}function dg(t,e){Rt.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=vT,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}xt(Hl,lT),Hl.prototype.g=function(){return new dg(this.l,this.j)},Hl.prototype.i=function(t){return function(){return t}}({}),xt(dg,Rt);var vT=0;function BU(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}function Gl(t){t.readyState=4,t.l=null,t.j=null,t.A=null,zl(t)}function zl(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(N=dg.prototype).open=function(t,e){if(this.readyState!=vT)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,zl(this)},N.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||te).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},N.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Gl(this)),this.readyState=vT},N.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,zl(this)),this.g&&(this.readyState=3,zl(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof te.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;BU(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))},N.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Gl(this):zl(this),3==this.readyState&&BU(this)}},N.Za=function(t){this.g&&(this.response=this.responseText=t,Gl(this))},N.Ya=function(t){this.g&&(this.response=t,Gl(this))},N.ka=function(){this.g&&Gl(this)},N.setRequestHeader=function(t,e){this.v.append(t,e)},N.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},N.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(dg.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var lle=te.JSON.parse;function tt(t){Rt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=$U,this.L=this.M=!1}xt(tt,Rt);var $U="",dle=/^https?$/i,hle=["POST","PUT"];function jU(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,HU(t),hg(t)}function HU(t){t.F||(t.F=!0,Gt(t,"complete"),Gt(t,"error"))}function GU(t){if(t.h&&typeof $b<"u"&&(!t.C[1]||4!=Jr(t)||2!=t.da()))if(t.v&&4==Jr(t))cT(t.La,0,t);else if(Gt(t,"readystatechange"),4==Jr(t)){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=0===o){var i=String(t.I).match(MU)[1]||null;!i&&te.self&&te.self.location&&(i=te.self.location.protocol.slice(0,-1)),r=!dle.test(i?i.toLowerCase():"")}n=r}if(n)Gt(t,"complete"),Gt(t,"success");else{t.m=6;try{var s=2<Jr(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",HU(t)}}finally{hg(t)}}}function hg(t,e){if(t.g){zU(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Gt(t,"ready");try{n.onreadystatechange=r}catch{}}}function zU(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(te.clearTimeout(t.A),t.A=null)}function Jr(t){return t.g?t.g.readyState:0}function qU(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case $U:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function WU(t){let e="";return Xb(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}function wT(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=WU(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Fe(t,e,n))}function ql(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function KU(t){this.Ga=0,this.j=[],this.l=new tg,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=ql("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=ql("baseRetryDelayMs",5e3,t),this.hb=ql("retryDelaySeedMs",1e4,t),this.eb=ql("forwardChannelMaxRetries",2,t),this.xa=ql("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new OU(t&&t.concurrentRequestLimit),this.Ja=new ale,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function IT(t){if(QU(t),3==t.H){var e=t.W++,n=Li(t.I);if(Fe(n,"SID",t.K),Fe(n,"RID",e),Fe(n,"TYPE","terminate"),Wl(t,n),(e=new Ll(t,t.l,e)).L=2,e.v=cg(Li(n)),n=!1,te.navigator&&te.navigator.sendBeacon)try{n=te.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&te.Image&&((new Image).src=e.v,n=!0),n||(e.g=iB(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Vl(e)}nB(t)}function fg(t){t.g&&(DT(t),t.g.cancel(),t.g=null)}function QU(t){fg(t),t.u&&(te.clearTimeout(t.u),t.u=null),gg(t),t.i.cancel(),t.m&&("number"==typeof t.m&&te.clearTimeout(t.m),t.m=null)}function pg(t){if(!FU(t.i)&&!t.m){t.m=!0;var e=t.Na;Rl||dU(),Nl||(Rl(),Nl=!0),aT.add(e,t),t.C=0}}function YU(t,e){var n;n=e?e.m:t.W++;const r=Li(t.I);Fe(r,"SID",t.K),Fe(r,"RID",n),Fe(r,"AID",t.V),Wl(t,r),t.o&&t.s&&wT(r,t.o,t.s),n=new Ll(t,t.l,n,t.C+1),null===t.o&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=XU(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),_T(t.i,n),gT(n,r,e)}function Wl(t,e){t.na&&Xb(t.na,function(n,r){Fe(e,r,n)}),t.h&&AU({},function(n,r){Fe(e,r,n)})}function XU(t,e,n){n=Math.min(t.j.length,n);var r=t.h?rn(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];-1==s?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let u=0;u<n;u++){let c=i[u].g;const l=i[u].map;if(c-=s,0>c)s=Math.max(0,i[u].g-100),a=!1;else try{ule(l,o,"req"+c+"_")}catch{r&&r(l)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function JU(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Rl||dU(),Nl||(Rl(),Nl=!0),aT.add(e,t),t.A=0}}function ET(t){return!(t.g||t.u||3<=t.A||(t.ba++,t.u=Ol(rn(t.Ma,t),tB(t,t.A)),t.A++,0))}function DT(t){null!=t.B&&(te.clearTimeout(t.B),t.B=null)}function ZU(t){t.g=new Ll(t,t.l,"rpc",t.ba),null===t.o&&(t.g.I=t.s),t.g.O=0;var e=Li(t.wa);Fe(e,"RID","rpc"),Fe(e,"SID",t.K),Fe(e,"AID",t.V),Fe(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Fe(e,"TO",t.qa),Fe(e,"TYPE","xmlhttp"),Wl(t,e),t.o&&t.s&&wT(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=cg(Li(e)),n.s=null,n.S=!0,CU(n,t)}function gg(t){null!=t.v&&(te.clearTimeout(t.v),t.v=null)}function eB(t,e){var n=null;if(t.g==e){gg(t),DT(t),t.g=null;var r=2}else{if(!yT(t.i,e))return;n=e.F,VU(t.i,e),r=1}if(0!=t.H)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;Gt(r=ng(),new vU(r,n)),pg(t)}else JU(t);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function gle(t,e){return!(LU(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.j=e.F.concat(t.j),0):1==t.H||2==t.H||t.C>=(t.cb?0:t.eb)||(t.m=Ol(rn(t.Na,t,e),tB(t,t.C)),t.C++,0)))}(t,e)||2==r&&ET(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Do(t,5);break;case 4:Do(t,10);break;case 3:Do(t,6);break;default:Do(t,2)}}function tB(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Do(t,e){if(t.l.info("Error code "+e),2==e){var n=null;t.h&&(n=null);var r=rn(t.pb,t);n||(n=new Eo("//www.google.com/images/cleardot.gif"),te.location&&"http"==te.location.protocol||ag(n,"https"),cg(n)),function cle(t,e){const n=new tg;if(te.Image){const r=new Image;r.onload=Qp(lg,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Qp(lg,n,r,"TestLoadImage: error",!1,e),r.onabort=Qp(lg,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Qp(lg,n,r,"TestLoadImage: timeout",!1,e),te.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else _n(2);t.H=0,t.h&&t.h.za(e),nB(t),QU(t)}function nB(t){if(t.H=0,t.ma=[],t.h){const e=UU(t.i);(0!=e.length||0!=t.j.length)&&(X2(t.ma,e),X2(t.ma,t.j),t.i.i.length=0,Hb(t.j),t.j.length=0),t.h.ya()}}function rB(t,e,n){var r=n instanceof Eo?Li(n):new Eo(n);if(""!=r.g)e&&(r.g=e+"."+r.g),ug(r,r.m);else{var i=te.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Eo(null);r&&ag(s,r),e&&(s.g=e),i&&ug(s,i),n&&(s.l=n),r=s}return e=t.Da,(n=t.F)&&e&&Fe(r,n,e),Fe(r,"VER",t.ra),Wl(t,r),r}function iB(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new tt(n&&t.Ha&&!t.va?new Hl({ob:!0}):t.va)).Oa(t.J),e}function sB(){}function mg(){if(ru&&!(10<=Number(Ace)))throw Error("Environmental error: no available transport.")}function Qn(t,e){Rt.call(this),this.g=new KU(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Al(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Al(e)&&(this.g.F=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new ou(this)}function oB(t){dT.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function aB(){hT.call(this),this.status=1}function ou(t){this.g=t}function br(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function CT(t,e,n){n||(n=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var s=t.g[3],o=(e=t.g[0])+(s^(n=t.g[1])&((i=t.g[2])^s))+r[0]+3614090360&4294967295;o=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=n+(o<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=e+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=e+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=e+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(e=n+((o=e+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(e^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}function Ce(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=0|t[i];r&&s==e||(n[i]=s,r=!1)}this.g=n}(N=tt.prototype).Oa=function(t){this.M=t},N.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():fT.g(),this.C=function IU(t){return t.h||(t.h=t.i())}(this.u?this.u:fT),this.g.onreadystatechange=rn(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){return void jU(this,s)}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())n.set(s,r.get(s))}r=Array.from(n.keys()).find(s=>"content-type"==s.toLowerCase()),i=te.FormData&&t instanceof te.FormData,!(0<=Y2(hle,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{zU(this),0<this.B&&((this.L=function fle(t){return ru&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=rn(this.ua,this)):this.A=cT(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){jU(this,s)}},N.ua=function(){typeof $b<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Gt(this,"timeout"),this.abort(8))},N.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Gt(this,"complete"),Gt(this,"abort"),hg(this))},N.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),hg(this,!0)),tt.$.N.call(this)},N.La=function(){this.s||(this.G||this.v||this.l?GU(this):this.kb())},N.kb=function(){GU(this)},N.isActive=function(){return!!this.g},N.da=function(){try{return 2<Jr(this)?this.g.status:-1}catch{return-1}},N.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},N.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),lle(e)}},N.Ia=function(){return this.m},N.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(N=KU.prototype).ra=8,N.H=1,N.Na=function(t){if(this.m)if(this.m=null,1==this.H){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new Ll(this,this.l,t);let s=this.s;if(this.U&&(s?(s=nU(s),iU(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=XU(this,i,e),Fe(n=Li(this.I),"RID",t),Fe(n,"CVER",22),this.F&&Fe(n,"X-HTTP-Session-Id",this.F),Wl(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(WU(s)))+"&"+e:this.o&&wT(n,this.o,s)),_T(this.i,i),this.bb&&Fe(n,"TYPE","init"),this.P?(Fe(n,"$req",e),Fe(n,"SID","null"),i.aa=!0,gT(i,n,null)):gT(i,n,e),this.H=2}}else 3==this.H&&(t?YU(this,t):0==this.j.length||FU(this.i)||YU(this))},N.Ma=function(){if(this.u=null,ZU(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Ol(rn(this.jb,this),t)}},N.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,_n(10),fg(this),ZU(this))},N.ib=function(){null!=this.v&&(this.v=null,fg(this),ET(this),_n(19))},N.pb=function(t){t?(this.l.info("Successfully pinged google.com"),_n(2)):(this.l.info("Failed to ping google.com"),_n(1))},N.isActive=function(){return!!this.h&&this.h.isActive(this)},(N=sB.prototype).Ba=function(){},N.Aa=function(){},N.za=function(){},N.ya=function(){},N.isActive=function(){return!0},N.Va=function(){},mg.prototype.g=function(t,e){return new Qn(t,e)},xt(Qn,Rt),Qn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;_n(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=rB(t,null,t.Y),pg(t)},Qn.prototype.close=function(){IT(this.g)},Qn.prototype.u=function(t){var e=this.g;if("string"==typeof t){var n={};n.__data__=t,t=n}else this.v&&((n={}).__data__=oT(t),t=n);e.j.push(new class{constructor(t,e){this.g=t,this.map=e}}(e.fb++,t)),3==e.H&&pg(e)},Qn.prototype.N=function(){this.g.h=null,delete this.j,IT(this.g),delete this.g,Qn.$.N.call(this)},xt(oB,dT),xt(aB,hT),xt(ou,sB),ou.prototype.Ba=function(){Gt(this.g,"a")},ou.prototype.Aa=function(t){Gt(this.g,new oB(t))},ou.prototype.za=function(t){Gt(this.g,new aB)},ou.prototype.ya=function(){Gt(this.g,"b")},xt(br,function mle(){this.blockSize=-1}),br.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},br.prototype.j=function(t,e){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(0==i)for(;s<=n;)CT(this,t,s),s+=this.blockSize;if("string"==typeof t){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){CT(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){CT(this,r),i=0;break}}this.h=i,this.i+=e},br.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=255&n,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};var yle={};function bT(t){return-128<=t&&128>t?function bce(t,e){var n=yle;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,function(e){return new Ce([0|e],0>e?-1:0)}):new Ce([0|t],0>t?-1:0)}function Zr(t){if(isNaN(t)||!isFinite(t))return au;if(0>t)return zt(Zr(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=TT;return new Ce(e,0)}var TT=4294967296,au=bT(0),ST=bT(1),cB=bT(16777216);function Vi(t){if(0!=t.h)return!1;for(var e=0;e<t.g.length;e++)if(0!=t.g[e])return!1;return!0}function cr(t){return-1==t.h}function zt(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Ce(n,~t.h).add(ST)}function yg(t,e){return t.add(zt(e))}function _g(t,e){for(;(65535&t[e])!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Kl(t,e){this.g=t,this.h=e}function vg(t,e){if(Vi(e))throw Error("division by zero");if(Vi(t))return new Kl(au,au);if(cr(t))return e=vg(zt(t),e),new Kl(zt(e.g),zt(e.h));if(cr(e))return e=vg(t,zt(e)),new Kl(zt(e.g),e.h);if(30<t.g.length){if(cr(t)||cr(e))throw Error("slowDivide_ only works with positive integers.");for(var n=ST,r=e;0>=r.X(t);)n=lB(n),r=lB(r);var i=uu(n,1),s=uu(r,1);for(r=uu(r,2),n=uu(n,2);!Vi(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=uu(r,1),n=uu(n,1)}return e=yg(t,i.R(e)),new Kl(i,e)}for(i=au;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(s=Zr(n)).R(e);cr(o)||0<o.X(t);)o=(s=Zr(n-=r)).R(e);Vi(s)&&(s=ST),i=i.add(s),t=yg(t,o)}return new Kl(i,t)}function lB(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Ce(n,t.h)}function uu(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new Ce(i,t.h)}(N=Ce.prototype).ea=function(){if(cr(this))return-zt(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:TT+r)*e,e*=TT}return t},N.toString=function(t){if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if(Vi(this))return"0";if(cr(this))return"-"+zt(this).toString(t);for(var e=Zr(Math.pow(t,6)),n=this,r="";;){var i=vg(n,e).g,s=((0<(n=yg(n,i.R(e))).g.length?n.g[0]:n.h)>>>0).toString(t);if(Vi(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},N.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h},N.X=function(t){return cr(t=yg(this,t))?-1:Vi(t)?0:1},N.abs=function(){return cr(this)?zt(this):this},N.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(65535&this.D(i))+(65535&t.D(i)),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,n[i]=(o&=65535)<<16|(s&=65535)}return new Ce(n,-2147483648&n[n.length-1]?-1:0)},N.R=function(t){if(Vi(this)||Vi(t))return au;if(cr(this))return cr(t)?zt(this).R(zt(t)):zt(zt(this).R(t));if(cr(t))return zt(this.R(zt(t)));if(0>this.X(cB)&&0>t.X(cB))return Zr(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=65535&this.D(r),a=t.D(i)>>>16,u=65535&t.D(i);n[2*r+2*i]+=o*u,_g(n,2*r+2*i),n[2*r+2*i+1]+=s*u,_g(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,_g(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,_g(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Ce(n,0)},N.gb=function(t){return vg(this,t).h},N.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Ce(n,this.h&t.h)},N.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Ce(n,this.h|t.h)},N.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Ce(n,this.h^t.h)},mg.prototype.createWebChannel=mg.prototype.g,Qn.prototype.send=Qn.prototype.u,Qn.prototype.open=Qn.prototype.m,Qn.prototype.close=Qn.prototype.close,rg.NO_ERROR=0,rg.TIMEOUT=8,rg.HTTP_ERROR=6,wU.COMPLETE="complete",EU.EventType=Fl,Fl.OPEN="a",Fl.CLOSE="b",Fl.ERROR="c",Fl.MESSAGE="d",Rt.prototype.listen=Rt.prototype.O,tt.prototype.listenOnce=tt.prototype.P,tt.prototype.getLastError=tt.prototype.Sa,tt.prototype.getLastErrorCode=tt.prototype.Ia,tt.prototype.getStatus=tt.prototype.da,tt.prototype.getResponseJson=tt.prototype.Wa,tt.prototype.getResponseText=tt.prototype.ja,tt.prototype.send=tt.prototype.ha,tt.prototype.setWithCredentials=tt.prototype.Oa,br.prototype.digest=br.prototype.l,br.prototype.reset=br.prototype.reset,br.prototype.update=br.prototype.j,Ce.prototype.add=Ce.prototype.add,Ce.prototype.multiply=Ce.prototype.R,Ce.prototype.modulo=Ce.prototype.gb,Ce.prototype.compare=Ce.prototype.X,Ce.prototype.toNumber=Ce.prototype.ea,Ce.prototype.toString=Ce.prototype.toString,Ce.prototype.getBits=Ce.prototype.D,Ce.fromNumber=Zr,Ce.fromString=function uB(t,e){if(0==t.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==t.charAt(0))return zt(uB(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Zr(Math.pow(e,8)),r=au,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=Zr(Math.pow(e,s)),r=r.R(s).add(Zr(o))):r=(r=r.R(n)).add(Zr(o))}return r};var _le=Cr.createWebChannelTransport=function(){return new mg},vle=Cr.getStatEventTarget=function(){return ng()},AT=Cr.ErrorCode=rg,wle=Cr.EventType=wU,Ile=Cr.Event=wo,dB=Cr.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Ele=Cr.FetchXmlHttpFactory=Hl,wg=Cr.WebChannel=EU,Dle=Cr.XhrIo=tt,Cle=Cr.Md5=br,cu=Cr.Integer=Ce;const hB="@firebase/firestore";class Nt{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Nt.UNAUTHENTICATED=new Nt(null),Nt.GOOGLE_CREDENTIALS=new Nt("google-credentials-uid"),Nt.FIRST_PARTY=new Nt("first-party-uid"),Nt.MOCK_USER=new Nt("mock-user");let lu="9.22.1";const ms=new qa("@firebase/firestore");function MT(){return ms.logLevel}function S(t,...e){if(ms.logLevel<=Y.DEBUG){const n=e.map(xT);ms.debug(`Firestore (${lu}): ${t}`,...n)}}function st(t,...e){if(ms.logLevel<=Y.ERROR){const n=e.map(xT);ms.error(`Firestore (${lu}): ${t}`,...n)}}function Tr(t,...e){if(ms.logLevel<=Y.WARN){const n=e.map(xT);ms.warn(`Firestore (${lu}): ${t}`,...n)}}function xT(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch{return t}}function F(t="Unexpected state"){const e=`FIRESTORE (${lu}) INTERNAL ASSERTION FAILED: `+t;throw st(e),new Error(e)}function U(t,e){t||F()}function R(t,e){return t}const I={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class C extends Kn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Et{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class fB{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ble{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Nt.UNAUTHENTICATED))}shutdown(){}}class Tle{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Sle{constructor(e){this.t=e,this.currentUser=Nt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let i=this.i;const s=c=>this.i!==i?(i=this.i,n(c)):Promise.resolve();let o=new Et;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Et,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=o;e.enqueueRetryable(g(function*(){yield c.promise,yield s(r.currentUser)}))},u=c=>{S("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(S("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Et)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(S("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(U("string"==typeof r.accessToken),new fB(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return U(null===e||"string"==typeof e),new Nt(e)}}class Ale{constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=Nt.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class Mle{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new Ale(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(Nt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class pB{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class xle{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const r=s=>{null!=s.error&&S("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.T;return this.T=s.token,S("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{S("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?i(s):S("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(U("string"==typeof n.token),this.T=n.token,new pB(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Rle(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class gB{static A(){const n=62*Math.floor(256/62);let r="";for(;r.length<20;){const i=Rle(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[s]%62))}return r}}function J(t,e){return t<e?-1:t>e?1:0}function du(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}class Qe{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new C(I.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new C(I.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new C(I.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new C(I.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Qe.fromMillis(Date.now())}static fromDate(e){return Qe.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Qe(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?J(this.nanoseconds,e.nanoseconds):J(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class B{constructor(e){this.timestamp=e}static fromTimestamp(e){return new B(e)}static min(){return new B(new Qe(0,0))}static max(){return new B(new Qe(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Ql{constructor(e,n,r){void 0===n?n=0:n>e.length&&F(),void 0===r?r=e.length-n:r>e.length-n&&F(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===Ql.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ql?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class fe extends Ql{construct(e,n,r){return new fe(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new C(I.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new fe(n)}static emptyPath(){return new fe([])}}const Nle=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ot extends Ql{construct(e,n,r){return new ot(e,n,r)}static isValidIdentifier(e){return Nle.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ot.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new ot(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(0===r.length)throw new C(I.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new C(I.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new C(I.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new C(I.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ot(n)}static emptyPath(){return new ot([])}}class x{constructor(e){this.path=e}static fromPath(e){return new x(fe.fromString(e))}static fromName(e){return new x(fe.fromString(e).popFirst(5))}static empty(){return new x(fe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===fe.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return fe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new x(new fe(e.slice()))}}function _B(t){return new Yn(t.readTime,t.key,-1)}class Yn{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Yn(B.min(),x.empty(),-1)}static max(){return new Yn(B.max(),x.empty(),-1)}}function NT(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=x.comparator(t.documentKey,e.documentKey),0!==n?n:J(t.largestBatchId,e.largestBatchId))}const vB="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Ole{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function ys(t){return kT.apply(this,arguments)}function kT(){return kT=g(function*(t){if(t.code!==I.FAILED_PRECONDITION||t.message!==vB)throw t;S("LocalStore","Unexpectedly lost primary lease")}),kT.apply(this,arguments)}class w{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&F(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new w((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof w?n:w.resolve(n)}catch(n){return w.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):w.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):w.reject(n)}static resolve(e){return new w((n,r)=>{n(e)})}static reject(e){return new w((n,r)=>{r(e)})}static waitFor(e){return new w((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=w.resolve(!1);for(const r of e)n=n.next(i=>i?w.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new w((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let u=0;u<s;u++){const c=u;n(e[c]).next(l=>{o[c]=l,++a,a===s&&r(o)},l=>i(l))}})}static doWhile(e,n){return new w((r,i)=>{const s=()=>{!0===e()?n().next(()=>{s()},i):r()};s()})}}function _s(t){return"IndexedDbTransactionError"===t.name}let Xn=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ot(i),this.ut=i=>r.writeSequenceNumber(i))}ot(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.ut&&this.ut(n),n}}return t.ct=-1,t})();function Jl(t){return null==t}function Zl(t){return 0===t&&1/t==-1/0}function AB(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function vs(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}class ke{constructor(e,n){this.comparator=e,this.root=n||qt.EMPTY}insert(e,n){return new ke(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,qt.BLACK,null,null))}remove(e){return new ke(this.comparator,this.root.remove(e,this.comparator).copy(null,null,qt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new bg(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new bg(this.root,e,this.comparator,!1)}getReverseIterator(){return new bg(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new bg(this.root,e,this.comparator,!0)}}class bg{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class qt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??qt.RED,this.left=i??qt.EMPTY,this.right=s??qt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new qt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===s?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return qt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return qt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,qt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,qt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw F();const e=this.left.check();if(e!==this.right.check())throw F();return e+(this.isRed()?0:1)}}qt.EMPTY=null,qt.RED=!0,qt.BLACK=!1,qt.EMPTY=new class{constructor(){this.size=0}get key(){throw F()}get value(){throw F()}get color(){throw F()}get left(){throw F()}get right(){throw F()}copy(t,e,n,r,i){return this}insert(t,e,n){return new qt(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Le{constructor(e){this.comparator=e,this.data=new ke(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new xB(this.data.getIterator())}getIteratorFrom(e){return new xB(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Le)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Le(this.comparator);return n.data=e,n}}class xB{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Ln{constructor(e){this.fields=e,e.sort(ot.comparator)}static empty(){return new Ln([])}unionWith(e){let n=new Le(ot.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Ln(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return du(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class RB extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Dt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new RB("Invalid base64 string: "+i):i}}(e);return new Dt(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new Dt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return J(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Dt.EMPTY_BYTE_STRING=new Dt("");const ide=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ws(t){if(U(!!t),"string"==typeof t){let e=0;const n=ide.exec(t);if(U(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:nt(t.seconds),nanos:nt(t.nanos)}}function nt(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Ui(t){return"string"==typeof t?Dt.fromBase64String(t):Dt.fromUint8Array(t)}function Tg(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=t?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Sg(t){const e=t.mapValue.fields.__previous_value__;return Tg(e)?Sg(e):e}function ed(t){const e=ws(t.mapValue.fields.__local_write_time__.timestampValue);return new Qe(e.seconds,e.nanos)}class sde{constructor(e,n,r,i,s,o,a,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=c}}class To{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new To("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof To&&e.projectId===this.projectId&&e.database===this.database}}const Is={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Es(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Tg(t)?4:OB(t)?9007199254740991:10:F()}function ti(t,e){if(t===e)return!0;const n=Es(t);if(n!==Es(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ed(t).isEqual(ed(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=ws(r.timestampValue),o=ws(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return i=e,Ui(t.bytesValue).isEqual(Ui(i.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return nt(r.geoPointValue.latitude)===nt(i.geoPointValue.latitude)&&nt(r.geoPointValue.longitude)===nt(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return nt(r.integerValue)===nt(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=nt(r.doubleValue),o=nt(i.doubleValue);return s===o?Zl(s)===Zl(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return du(t.arrayValue.values||[],e.arrayValue.values||[],ti);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(AB(s)!==AB(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(void 0===o[a]||!ti(s[a],o[a])))return!1;return!0}(t,e);default:return F()}var i}function td(t,e){return void 0!==(t.values||[]).find(n=>ti(n,e))}function Ds(t,e){if(t===e)return 0;const n=Es(t),r=Es(e);if(n!==r)return J(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return J(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=nt(i.integerValue||i.doubleValue),a=nt(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return NB(t.timestampValue,e.timestampValue);case 4:return NB(ed(t),ed(e));case 5:return J(t.stringValue,e.stringValue);case 6:return function(i,s){const o=Ui(i),a=Ui(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let u=0;u<o.length&&u<a.length;u++){const c=J(o[u],a[u]);if(0!==c)return c}return J(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=J(nt(i.latitude),nt(s.latitude));return 0!==o?o:J(nt(i.longitude),nt(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let u=0;u<o.length&&u<a.length;++u){const c=Ds(o[u],a[u]);if(c)return c}return J(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===Is.mapValue&&s===Is.mapValue)return 0;if(i===Is.mapValue)return 1;if(s===Is.mapValue)return-1;const o=i.fields||{},a=Object.keys(o),u=s.fields||{},c=Object.keys(u);a.sort(),c.sort();for(let l=0;l<a.length&&l<c.length;++l){const d=J(a[l],c[l]);if(0!==d)return d;const h=Ds(o[a[l]],u[c[l]]);if(0!==h)return h}return J(a.length,c.length)}(t.mapValue,e.mapValue);default:throw F()}}function NB(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return J(t,e);const n=ws(t),r=ws(e),i=J(n.seconds,r.seconds);return 0!==i?i:J(n.nanos,r.nanos)}function fu(t){return FT(t)}function FT(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=ws(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Ui(t.bytesValue).toBase64():"referenceValue"in t?x.fromName(t.referenceValue).toString():"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=FT(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${FT(r.fields[a])}`;return s+"}"}(t.mapValue):F();var e}function LT(t){return!!t&&"integerValue"in t}function nd(t){return!!t&&"arrayValue"in t}function kB(t){return!!t&&"nullValue"in t}function PB(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function xg(t){return!!t&&"mapValue"in t}function rd(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return vs(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=rd(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=rd(t.arrayValue.values[n]);return e}return Object.assign({},t)}function OB(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}class Wt{constructor(e){this.value=e}static empty(){return new Wt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!xg(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=rd(n)}setAll(e){let n=ot.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=rd(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());xg(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ti(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];xg(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){vs(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Wt(rd(this.value))}}class Ve{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Ve(e,0,B.min(),B.min(),B.min(),Wt.empty(),0)}static newFoundDocument(e,n,r,i){return new Ve(e,1,n,B.min(),r,i,0)}static newNoDocument(e,n){return new Ve(e,2,n,B.min(),B.min(),Wt.empty(),0)}static newUnknownDocument(e,n){return new Ve(e,3,n,B.min(),B.min(),Wt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(B.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Wt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Wt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=B.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Ve&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ve(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Cs{constructor(e,n){this.position=e,this.inclusive=n}}function UB(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(r=s.field.isKeyField()?x.comparator(x.fromName(o.referenceValue),n.key):Ds(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function BB(t,e){if(null===t)return null===e;if(null===e||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ti(t.position[n],e.position[n]))return!1;return!0}class pu{constructor(e,n="asc"){this.field=e,this.dir=n}}function ude(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class $B{}class le extends $B{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,r):new cde(e,n,r):"array-contains"===n?new hde(e,r):"in"===n?new WB(e,r):"not-in"===n?new fde(e,r):"array-contains-any"===n?new pde(e,r):new le(e,n,r)}static createKeyFieldInFilter(e,n,r){return"in"===n?new lde(e,r):new dde(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(Ds(n,this.value)):null!==n&&Es(this.value)===Es(n)&&this.matchesComparison(Ds(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return F()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class be extends $B{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new be(e,n)}matches(e){return gu(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return null!==e?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function gu(t){return"and"===t.op}function UT(t){return function jB(t){for(const e of t.filters)if(e instanceof be)return!1;return!0}(t)&&gu(t)}function BT(t){if(t instanceof le)return t.field.canonicalString()+t.op.toString()+fu(t.value);if(UT(t))return t.filters.map(e=>BT(e)).join(",");{const e=t.filters.map(n=>BT(n)).join(",");return`${t.op}(${e})`}}function HB(t,e){return t instanceof le?(n=t,(r=e)instanceof le&&n.op===r.op&&n.field.isEqual(r.field)&&ti(n.value,r.value)):t instanceof be?function(n,r){return r instanceof be&&n.op===r.op&&n.filters.length===r.filters.length&&n.filters.reduce((i,s,o)=>i&&HB(s,r.filters[o]),!0)}(t,e):void F();var n,r}function zB(t){return t instanceof le?`${(e=t).field.canonicalString()} ${e.op} ${fu(e.value)}`:t instanceof be?function(e){return e.op.toString()+" {"+e.getFilters().map(zB).join(" ,")+"}"}(t):"Filter";var e}class cde extends le{constructor(e,n,r){super(e,n,r),this.key=x.fromName(r.referenceValue)}matches(e){const n=x.comparator(e.key,this.key);return this.matchesComparison(n)}}class lde extends le{constructor(e,n){super(e,"in",n),this.keys=qB(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class dde extends le{constructor(e,n){super(e,"not-in",n),this.keys=qB(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function qB(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>x.fromName(r.referenceValue))}class hde extends le{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return nd(n)&&td(n.arrayValue,this.value)}}class WB extends le{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&td(this.value.arrayValue,n)}}class fde extends le{constructor(e,n){super(e,"not-in",n)}matches(e){if(td(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!td(this.value.arrayValue,n)}}class pde extends le{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!nd(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>td(this.value.arrayValue,r))}}class gde{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.dt=null}}function $T(t,e=null,n=[],r=[],i=null,s=null,o=null){return new gde(t,e,n,r,i,s,o)}function Ao(t){const e=R(t);if(null===e.dt){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>BT(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),Jl(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>fu(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>fu(r)).join(",")),e.dt=n}return e.dt}function id(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!ude(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!HB(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!BB(t.startAt,e.startAt)&&BB(t.endAt,e.endAt)}function Rg(t){return x.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class Bi{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.wt=null,this._t=null}}function mu(t){return new Bi(t)}function XB(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function Mo(t){const e=R(t);if(null===e.wt){e.wt=[];const n=function kg(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(null!==n)return n}return null}(e),r=function jT(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}(e);if(null!==n&&null===r)n.isKeyField()||e.wt.push(new pu(n)),e.wt.push(new pu(ot.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.wt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new pu(ot.keyField(),s))}}}return e.wt}function vn(t){const e=R(t);if(!e._t)if("F"===e.limitType)e._t=$T(e.path,e.collectionGroup,Mo(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of Mo(e))n.push(new pu(s.field,"desc"===s.dir?"asc":"desc"));const r=e.endAt?new Cs(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Cs(e.startAt.position,e.startAt.inclusive):null;e._t=$T(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e._t}function Pg(t,e,n){return new Bi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function sd(t,e){return id(vn(t),vn(e))&&t.limitType===e.limitType}function JB(t){return`${Ao(vn(t))}|lt:${t.limitType}`}function zT(t){return`Query(target=${function(e){let n=e.path.canonicalString();return null!==e.collectionGroup&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>zB(r)).join(", ")}]`),Jl(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>fu(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>fu(r)).join(",")),`Target(${n})`}(vn(t))}; limitType=${t.limitType})`}function od(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return null!==n.collectionGroup?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):x.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of Mo(n))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&(r=e,!((n=t).startAt&&!function(i,s,o){const a=UB(i,s,o);return i.inclusive?a<=0:a<0}(n.startAt,Mo(n),r)||n.endAt&&!function(i,s,o){const a=UB(i,s,o);return i.inclusive?a>=0:a>0}(n.endAt,Mo(n),r)));var n,r}function e$(t){return(e,n)=>{let r=!1;for(const i of Mo(t)){const s=mde(i,e,n);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function mde(t,e,n){const r=t.field.isKeyField()?x.comparator(e.key,n.key):function(i,s,o){const a=s.data.field(i),u=o.data.field(i);return null!==a&&null!==u?Ds(a,u):F()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return F()}}class $i{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){vs(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return function MB(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}(this.inner)}size(){return this.innerSize}}const yde=new ke(x.comparator);function Vn(){return yde}const t$=new ke(x.comparator);function ad(...t){let e=t$;for(const n of t)e=e.insert(n.key,n);return e}function n$(t){let e=t$;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ni(){return ud()}function r$(){return ud()}function ud(){return new $i(t=>t.toString(),(t,e)=>t.isEqual(e))}new ke(x.comparator);const vde=new Le(x.comparator);function oe(...t){let e=vde;for(const n of t)e=e.add(n);return e}const wde=new Le(J);class Og{constructor(){this._=void 0}}function Ide(t,e,n){return t instanceof yu?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&Tg(i)&&(i=Sg(i)),i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof xo?u$(t,e):t instanceof Ro?c$(t,e):function(r,i){const s=function a$(t,e){return t instanceof _u?LT(n=e)||(r=n)&&"doubleValue"in r?e:{integerValue:0}:null;var r,n}(r,i),o=l$(s)+l$(r.gt);return LT(s)&&LT(r.gt)?function s$(t){return{integerValue:""+t}}(o):function i$(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Zl(e)?"-0":e}}(r.serializer,o)}(t,e)}function Ede(t,e,n){return t instanceof xo?u$(t,e):t instanceof Ro?c$(t,e):n}class yu extends Og{}class xo extends Og{constructor(e){super(),this.elements=e}}function u$(t,e){const n=d$(e);for(const r of t.elements)n.some(i=>ti(i,r))||n.push(r);return{arrayValue:{values:n}}}class Ro extends Og{constructor(e){super(),this.elements=e}}function c$(t,e){let n=d$(e);for(const r of t.elements)n=n.filter(i=>!ti(i,r));return{arrayValue:{values:n}}}class _u extends Og{constructor(e,n){super(),this.serializer=e,this.gt=n}}function l$(t){return nt(t.integerValue||t.doubleValue)}function d$(t){return nd(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class $e{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new $e}static exists(e){return new $e(void 0,e)}static updateTime(e){return new $e(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Fg(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class WT{}function h$(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new wu(t.key,$e.none()):new vu(t.key,t.data,$e.none());{const n=t.data,r=Wt.empty();let i=new Le(ot.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);null===o&&s.length>1&&(s=s.popLast(),o=n.field(s)),null===o?r.delete(s):r.set(s,o),i=i.add(s)}return new ji(t.key,r,new Ln(i.toArray()),$e.none())}}function bde(t,e,n){t instanceof vu?function(r,i,s){const o=r.value.clone(),a=g$(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof ji?function(r,i,s){if(!Fg(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=g$(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(p$(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function ld(t,e,n,r){return t instanceof vu?function(i,s,o,a){if(!Fg(i.precondition,s))return o;const u=i.value.clone(),c=m$(i.fieldTransforms,a,s);return u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof ji?function(i,s,o,a){if(!Fg(i.precondition,s))return o;const u=m$(i.fieldTransforms,a,s),c=s.data;return c.setAll(p$(i)),c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null===o?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(l=>l.field))}(t,e,n,r):(o=n,Fg(t.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o);var s,o}function f$(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(n=t.fieldTransforms)&&void 0===r||n&&r&&du(n,r,(i,s)=>function Dde(t,e){return t.field.isEqual(e.field)&&(r=e.transform,(n=t.transform)instanceof xo&&r instanceof xo||n instanceof Ro&&r instanceof Ro?du(n.elements,r.elements,ti):n instanceof _u&&r instanceof _u?ti(n.gt,r.gt):n instanceof yu&&r instanceof yu);var n,r}(i,s))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var n,r}class vu extends WT{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ji extends WT{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function p$(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function g$(t,e,n){const r=new Map;U(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,Ede(o,a,n[i]))}return r}function m$(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,Ide(s,o,e))}return r}class wu extends WT{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class QT{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&bde(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=ld(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=ld(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=r$();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const u=h$(o,a);null!==u&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(B.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),oe())}isEqual(e){return this.batchId===e.batchId&&du(this.mutations,e.mutations,(n,r)=>f$(n,r))&&du(this.baseMutations,e.baseMutations,(n,r)=>f$(n,r))}}class XT{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Ade{constructor(e,n){this.count=e,this.unchangedNames=n}}var pt,pe;function _$(t){if(void 0===t)return st("GRPC error has no .code"),I.UNKNOWN;switch(t){case pt.OK:return I.OK;case pt.CANCELLED:return I.CANCELLED;case pt.UNKNOWN:return I.UNKNOWN;case pt.DEADLINE_EXCEEDED:return I.DEADLINE_EXCEEDED;case pt.RESOURCE_EXHAUSTED:return I.RESOURCE_EXHAUSTED;case pt.INTERNAL:return I.INTERNAL;case pt.UNAVAILABLE:return I.UNAVAILABLE;case pt.UNAUTHENTICATED:return I.UNAUTHENTICATED;case pt.INVALID_ARGUMENT:return I.INVALID_ARGUMENT;case pt.NOT_FOUND:return I.NOT_FOUND;case pt.ALREADY_EXISTS:return I.ALREADY_EXISTS;case pt.PERMISSION_DENIED:return I.PERMISSION_DENIED;case pt.FAILED_PRECONDITION:return I.FAILED_PRECONDITION;case pt.ABORTED:return I.ABORTED;case pt.OUT_OF_RANGE:return I.OUT_OF_RANGE;case pt.UNIMPLEMENTED:return I.UNIMPLEMENTED;case pt.DATA_LOSS:return I.DATA_LOSS;default:return F()}}(pe=pt||(pt={}))[pe.OK=0]="OK",pe[pe.CANCELLED=1]="CANCELLED",pe[pe.UNKNOWN=2]="UNKNOWN",pe[pe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",pe[pe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",pe[pe.NOT_FOUND=5]="NOT_FOUND",pe[pe.ALREADY_EXISTS=6]="ALREADY_EXISTS",pe[pe.PERMISSION_DENIED=7]="PERMISSION_DENIED",pe[pe.UNAUTHENTICATED=16]="UNAUTHENTICATED",pe[pe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",pe[pe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",pe[pe.ABORTED=10]="ABORTED",pe[pe.OUT_OF_RANGE=11]="OUT_OF_RANGE",pe[pe.UNIMPLEMENTED=12]="UNIMPLEMENTED",pe[pe.INTERNAL=13]="INTERNAL",pe[pe.UNAVAILABLE=14]="UNAVAILABLE",pe[pe.DATA_LOSS=15]="DATA_LOSS";class JT{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Lg}static getOrCreateInstance(){return null===Lg&&(Lg=new JT),Lg}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let Lg=null;const Mde=new cu([4294967295,4294967295],0);function w$(t){const e=function v$(){return new TextEncoder}().encode(t),n=new Cle;return n.update(e),new Uint8Array(n.digest())}function I$(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new cu([n,r],0),new cu([i,s],0)]}class ZT{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new dd(`Invalid padding: ${n}`);if(r<0)throw new dd(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new dd(`Invalid hash count: ${r}`);if(0===e.length&&0!==n)throw new dd(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=cu.fromNumber(this.It)}Et(e,n,r){let i=e.add(n.multiply(cu.fromNumber(r)));return 1===i.compare(Mde)&&(i=new cu([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const n=w$(e),[r,i]=I$(n);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);if(!this.At(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new ZT(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(0===this.It)return;const n=w$(e),[r,i]=I$(n);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);this.Rt(o)}}Rt(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class dd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class hd{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,fd.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new hd(B.min(),i,new ke(J),Vn(),oe())}}class fd{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new fd(r,n,oe(),oe(),oe())}}class Vg{constructor(e,n,r,i){this.Pt=e,this.removedTargetIds=n,this.key=r,this.bt=i}}class E${constructor(e,n){this.targetId=e,this.Vt=n}}class D${constructor(e,n,r=Dt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class C${constructor(){this.St=0,this.Dt=T$(),this.Ct=Dt.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=oe(),n=oe(),r=oe();return this.Dt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:F()}}),new fd(this.Ct,this.xt,e,n,r)}Ft(){this.Nt=!1,this.Dt=T$()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class xde{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Vn(),this.zt=b$(),this.Wt=new ke(J)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const r=this.Zt(n);switch(e.state){case 0:this.te(n)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(n);break;case 3:this.te(n)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),r.$t(e.resumeToken));break;default:F()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((r,i)=>{this.te(i)&&n(i)})}ne(e){var n;const r=e.targetId,i=e.Vt.count,s=this.se(r);if(s){const o=s.target;if(Rg(o))if(0===i){const a=new x(o.path);this.Yt(r,a,Ve.newNoDocument(a,B.min()))}else U(1===i);else{const a=this.ie(r);if(a!==i){const u=this.re(e,a);0!==u&&(this.ee(r),this.Wt=this.Wt.insert(r,2===u?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(n=JT.instance)||void 0===n||n.notifyOnExistenceFilterMismatch(function(c,l,d){var h,f,p,m,y,v;const _={localCacheCount:l,existenceFilterCount:d.count},E=d.unchangedNames;return E&&(_.bloomFilter={applied:0===c,hashCount:null!==(h=E?.hashCount)&&void 0!==h?h:0,bitmapLength:null!==(m=null===(p=null===(f=E?.bits)||void 0===f?void 0:f.bitmap)||void 0===p?void 0:p.length)&&void 0!==m?m:0,padding:null!==(v=null===(y=E?.bits)||void 0===y?void 0:y.padding)&&void 0!==v?v:0}),_}(u,a,e.Vt))}}}}re(e,n){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:s="",padding:o=0},hashCount:a=0}=r;let u,c;try{u=Ui(s).toUint8Array()}catch(l){if(l instanceof RB)return Tr("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw l}try{c=new ZT(u,o,a)}catch(l){return Tr(l instanceof dd?"BloomFilter error: ":"Applying bloom filter failed: ",l),1}return 0===c.It?1:i!==n-this.oe(e.targetId,c)?2:0}oe(e,n){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(s=>{const o=this.Gt.ue(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;n.vt(a)||(this.Yt(e,s,null),i++)}),i}ce(e){const n=new Map;this.Qt.forEach((s,o)=>{const a=this.se(o);if(a){if(s.current&&Rg(a.target)){const u=new x(a.target.path);null!==this.jt.get(u)||this.ae(o,u)||this.Yt(o,u,Ve.newNoDocument(u,e))}s.Mt&&(n.set(o,s.Ot()),s.Ft())}});let r=oe();this.zt.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const c=this.se(u);return!c||"TargetPurposeLimboResolution"===c.purpose||(a=!1,!1)}),a&&(r=r.add(s))}),this.jt.forEach((s,o)=>o.setReadTime(e));const i=new hd(e,n,this.Wt,this.jt,r);return this.jt=Vn(),this.zt=b$(),this.Wt=new ke(J),i}Jt(e,n){if(!this.te(e))return;const r=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,r),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,n)?i.Bt(n,1):i.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),r&&(this.jt=this.jt.insert(n,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new C$,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new Le(J),this.zt=this.zt.insert(e,n)),n}te(e){const n=null!==this.se(e);return n||S("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new C$),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function b$(){return new ke(x.comparator)}function T$(){return new ke(x.comparator)}const Rde={asc:"ASCENDING",desc:"DESCENDING"},Nde={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},kde={and:"AND",or:"OR"};class Pde{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function e0(t,e){return t.useProto3Json||Jl(e)?e:{value:e}}function at(t){return U(!!t),B.fromTimestamp(function(e){const n=ws(e);return new Qe(n.seconds,n.nanos)}(t))}function A$(t){const e=fe.fromString(t);return U(L$(e)),e}function ri(t,e){const n=A$(e);if(n.get(1)!==t.databaseId.projectId)throw new C(I.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new C(I.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new x(x$(n))}function n0(t,e){return function t0(t,e){return(n=t,new fe(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}(t.databaseId,e)}function gd(t){return new fe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function x$(t){return U(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function k$(t,e){return{documents:[n0(t,e.path)]}}function s0(t,e){const n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=n0(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=n0(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(u){if(0!==u.length)return F$(be.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(u){if(0!==u.length)return u.map(c=>{return{field:bs((l=c).field),direction:Bde(l.dir)};var l})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=e0(t,e.limit);var a,u;return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt={before:!(u=e.endAt).inclusive,values:u.position}),n}function P$(t){let e=function M$(t){const e=A$(t);return 4===e.length?fe.emptyPath():x$(e)}(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){U(1===r);const l=n.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let s=[];n.where&&(s=function(l){const d=O$(l);return d instanceof be&&UT(d)?d.getFilters():[d]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(l=>{return new pu(Eu((d=l).field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction));var d}));let a=null;n.limit&&(a=function(l){let d;return d="object"==typeof l?l.value:l,Jl(d)?null:d}(n.limit));let u=null;var l;n.startAt&&(u=new Cs((l=n.startAt).values||[],!!l.before));let c=null;return n.endAt&&(c=function(l){return new Cs(l.values||[],!l.before)}(n.endAt)),function YB(t,e,n,r,i,s,o,a){return new Bi(t,e,n,r,i,s,o,a)}(e,i,o,s,a,"F",u,c)}function O$(t){return void 0!==t.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=Eu(e.unaryFilter.field);return le.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=Eu(e.unaryFilter.field);return le.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Eu(e.unaryFilter.field);return le.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Eu(e.unaryFilter.field);return le.create(s,"!=",{nullValue:"NULL_VALUE"});default:return F()}}(t):void 0!==t.fieldFilter?le.create(Eu((e=t).fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return F()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==t.compositeFilter?function(e){return be.create(e.compositeFilter.filters.map(n=>O$(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return F()}}(e.compositeFilter.op))}(t):F();var e}function Bde(t){return Rde[t]}function $de(t){return Nde[t]}function jde(t){return kde[t]}function bs(t){return{fieldPath:t.canonicalString()}}function Eu(t){return ot.fromServerFormat(t.fieldPath)}function F$(t){return t instanceof le?function(e){if("=="===e.op){if(PB(e.value))return{unaryFilter:{field:bs(e.field),op:"IS_NAN"}};if(kB(e.value))return{unaryFilter:{field:bs(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(PB(e.value))return{unaryFilter:{field:bs(e.field),op:"IS_NOT_NAN"}};if(kB(e.value))return{unaryFilter:{field:bs(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:bs(e.field),op:$de(e.op),value:e.value}}}(t):t instanceof be?function(e){const n=e.getFilters().map(r=>F$(r));return 1===n.length?n[0]:{compositeFilter:{op:jde(e.op),filters:n}}}(t):F()}function L$(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class Hi{constructor(e,n,r,i,s=B.min(),o=B.min(),a=Dt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new Hi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Hi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Hi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Hi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class V${constructor(e){this.fe=e}}function o0(t){const e=P$({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Pg(e,e.limit,"L"):e}class Oo{constructor(){}_e(e,n){this.me(e,n),n.ge()}me(e,n){if("nullValue"in e)this.ye(n,5);else if("booleanValue"in e)this.ye(n,10),n.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(n,15),n.pe(nt(e.integerValue));else if("doubleValue"in e){const r=nt(e.doubleValue);isNaN(r)?this.ye(n,13):(this.ye(n,15),Zl(r)?n.pe(0):n.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(n,20),"string"==typeof r?n.Ie(r):(n.Ie(`${r.seconds||""}`),n.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,n),this.Ee(n);else if("bytesValue"in e)this.ye(n,30),n.Ae(Ui(e.bytesValue)),this.Ee(n);else if("referenceValue"in e)this.ve(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(n,45),n.pe(r.latitude||0),n.pe(r.longitude||0)}else"mapValue"in e?OB(e)?this.ye(n,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,n),this.Ee(n)):"arrayValue"in e?(this.Pe(e.arrayValue,n),this.Ee(n)):F()}Te(e,n){this.ye(n,25),this.be(e,n)}be(e,n){n.Ie(e)}Re(e,n){const r=e.fields||{};this.ye(n,55);for(const i of Object.keys(r))this.Te(i,n),this.me(r[i],n)}Pe(e,n){const r=e.values||[];this.ye(n,50);for(const i of r)this.me(i,n)}ve(e,n){this.ye(n,37),x.fromName(e).path.forEach(r=>{this.ye(n,60),this.be(r,n)})}ye(e,n){e.pe(n)}Ee(e){e.pe(2)}}Oo.Ve=new Oo;class Jde{constructor(){this.rn=new h0}addToCollectionParentIndex(e,n){return this.rn.add(n),w.resolve()}getCollectionParents(e,n){return w.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return w.resolve()}deleteFieldIndex(e,n){return w.resolve()}getDocumentsMatchingTarget(e,n){return w.resolve(null)}getIndexType(e,n){return w.resolve(0)}getFieldIndexes(e,n){return w.resolve([])}getNextCollectionGroupToUpdate(e){return w.resolve(null)}getMinOffset(e,n){return w.resolve(Yn.min())}getMinOffsetFromCollectionGroup(e,n){return w.resolve(Yn.min())}updateCollectionGroup(e,n,r){return w.resolve()}updateIndexEntries(e,n){return w.resolve()}}class h0{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Le(fe.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Le(fe.comparator)).toArray()}}new Uint8Array(0);class an{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new an(e,an.DEFAULT_COLLECTION_PERCENTILE,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}an.DEFAULT_COLLECTION_PERCENTILE=10,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,an.DEFAULT=new an(41943040,an.DEFAULT_COLLECTION_PERCENTILE,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),an.DISABLED=new an(-1,0,0);class Lo{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Lo(0)}static Mn(){return new Lo(-1)}}class ihe{constructor(){this.changes=new $i(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ve.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?w.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class ahe{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class lj{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(null!==r&&ld(r.mutation,i,Ln.empty(),Qe.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,oe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=oe()){const i=ni();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=ad();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=ni();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,oe()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Vn();const o=ud(),a=ud();return n.forEach((u,c)=>{const l=r.get(c.key);i.has(c.key)&&(void 0===l||l.mutation instanceof ji)?s=s.insert(c.key,c):void 0!==l?(o.set(c.key,l.mutation.getFieldMask()),ld(l.mutation,c,l.mutation.getFieldMask(),Qe.now())):o.set(c.key,Ln.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((c,l)=>o.set(c,l)),n.forEach((c,l)=>{var d;return a.set(c,new ahe(l,null!==(d=o.get(c))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=ud();let i=new ke((o,a)=>o-a),s=oe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(u=>{const c=n.get(u);if(null===c)return;let l=r.get(u)||Ln.empty();l=a.applyToLocalView(c,l),r.set(u,l);const d=(i.get(a.batchId)||oe()).add(u);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,l=u.value,d=r$();l.forEach(h=>{if(!s.has(h)){const f=h$(n.get(h),r.get(h));null!==f&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return w.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return x.isDocumentKey((i=n).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):function HT(t){return null!==t.collectionGroup}(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r);var i}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):w.resolve(ni());let a=-1,u=s;return o.next(c=>w.forEach(c,(l,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(l)?w.resolve():this.remoteDocumentCache.getEntry(e,l).next(h=>{u=u.insert(l,h)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,u,c,oe())).next(l=>({batchId:a,changes:n$(l)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new x(n)).next(r=>{let i=ad();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let s=ad();return this.indexManager.getCollectionParents(e,i).next(o=>w.forEach(o,a=>{const u=(c=n,l=a.child(i),new Bi(l,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt));var c,l;return this.getDocumentsMatchingCollectionQuery(e,u,r).next(c=>{c.forEach((l,d)=>{s=s.insert(l,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i))).next(s=>{i.forEach((a,u)=>{const c=u.getKey();null===s.get(c)&&(s=s.insert(c,Ve.newInvalidDocument(c)))});let o=ad();return s.forEach((a,u)=>{const c=i.get(a);void 0!==c&&ld(c.mutation,u,Ln.empty(),Qe.now()),od(n,u)&&(o=o.insert(a,u))}),o})}}class uhe{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return w.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var r;return this.cs.set(n.id,{id:(r=n).id,version:r.version,createTime:at(r.createTime)}),w.resolve()}getNamedQuery(e,n){return w.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,{name:(r=n).name,query:o0(r.bundledQuery),readTime:at(r.readTime)}),w.resolve();var r}}class che{constructor(){this.overlays=new ke(x.comparator),this.ls=new Map}getOverlay(e,n){return w.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ni();return w.forEach(n,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.we(e,n,s)}),w.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.ls.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.ls.delete(r)),w.resolve()}getOverlaysForCollection(e,n,r){const i=ni(),s=n.length+1,o=new x(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return w.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new ke((c,l)=>c-l);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let l=s.get(c.largestBatchId);null===l&&(l=ni(),s=s.insert(c.largestBatchId,l)),l.set(c.getKey(),c)}}const a=ni(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,l)=>a.set(c,l)),!(a.size()>=i)););return w.resolve(a)}we(e,n,r){const i=this.overlays.get(r.key);if(null!==i){const o=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new XT(n,r));let s=this.ls.get(n);void 0===s&&(s=oe(),this.ls.set(n,s)),this.ls.set(n,s.add(r.key))}}class f0{constructor(){this.fs=new Le(Pt.ds),this.ws=new Le(Pt._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const r=new Pt(e,n);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.ys(new Pt(e,n))}ps(e,n){e.forEach(r=>this.removeReference(r,n))}Is(e){const n=new x(new fe([])),r=new Pt(n,e),i=new Pt(n,e+1),s=[];return this.ws.forEachInRange([r,i],o=>{this.ys(o),s.push(o.key)}),s}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new x(new fe([])),r=new Pt(n,e),i=new Pt(n,e+1);let s=oe();return this.ws.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Pt(e,0),r=this.fs.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class Pt{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return x.comparator(e.key,n.key)||J(e.As,n.As)}static _s(e,n){return J(e.As,n.As)||x.comparator(e.key,n.key)}}class lhe{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new Le(Pt.ds)}checkEmpty(e){return w.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,r,i){const s=this.vs;this.vs++;const o=new QT(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Rs=this.Rs.add(new Pt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return w.resolve(o)}lookupMutationBatch(e,n){return w.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const i=this.bs(n+1),s=i<0?0:i;return w.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return w.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return w.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Pt(n,0),i=new Pt(n,Number.POSITIVE_INFINITY),s=[];return this.Rs.forEachInRange([r,i],o=>{const a=this.Ps(o.As);s.push(a)}),w.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Le(J);return n.forEach(i=>{const s=new Pt(i,0),o=new Pt(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([s,o],a=>{r=r.add(a.As)})}),w.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;x.isDocumentKey(s)||(s=s.child(""));const o=new Pt(new x(s),0);let a=new Le(J);return this.Rs.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(u.As)),!0)},o),w.resolve(this.Vs(a))}Vs(e){const n=[];return e.forEach(r=>{const i=this.Ps(r);null!==i&&n.push(i)}),n}removeMutationBatch(e,n){U(0===this.Ss(n.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return w.forEach(n.mutations,i=>{const s=new Pt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,n){const r=new Pt(n,0),i=this.Rs.firstAfterOrEqual(r);return w.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return w.resolve()}Ss(e,n){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class dhe{constructor(e){this.Ds=e,this.docs=new ke(x.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Ds(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return w.resolve(r?r.document.mutableCopy():Ve.newInvalidDocument(n))}getEntries(e,n){let r=Vn();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Ve.newInvalidDocument(i))}),w.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Vn();const o=n.path,a=new x(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:c,value:{document:l}}=u.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||NT(_B(l),r)<=0||(i.has(l.key)||od(n,l))&&(s=s.insert(l.key,l.mutableCopy()))}return w.resolve(s)}getAllFromCollectionGroup(e,n,r,i){F()}Cs(e,n){return w.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new hhe(this)}getSize(e){return w.resolve(this.size)}}class hhe extends ihe{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),w.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}class fhe{constructor(e){this.persistence=e,this.xs=new $i(n=>Ao(n),id),this.lastRemoteSnapshotVersion=B.min(),this.highestTargetId=0,this.Ns=0,this.ks=new f0,this.targetCount=0,this.Ms=Lo.kn()}forEachTarget(e,n){return this.xs.forEach((r,i)=>n(i)),w.resolve()}getLastRemoteSnapshotVersion(e){return w.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return w.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),w.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Ns&&(this.Ns=n),w.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new Lo(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,w.resolve()}updateTargetData(e,n){return this.Fn(n),w.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,w.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.xs.forEach((o,a)=>{a.sequenceNumber<=n&&null===r.get(a.targetId)&&(this.xs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),w.waitFor(s).next(()=>i)}getTargetCount(e){return w.resolve(this.targetCount)}getTargetData(e,n){const r=this.xs.get(n)||null;return w.resolve(r)}addMatchingKeys(e,n,r){return this.ks.gs(n,r),w.resolve()}removeMatchingKeys(e,n,r){this.ks.ps(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),w.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),w.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ks.Es(n);return w.resolve(r)}containsKey(e,n){return w.resolve(this.ks.containsKey(n))}}class p0{constructor(e,n){this.$s={},this.overlays={},this.Os=new Xn(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new fhe(this),this.indexManager=new Jde,this.remoteDocumentCache=new dhe(r=>this.referenceDelegate.Ls(r)),this.serializer=new V$(n),this.qs=new uhe(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new che,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.$s[e.toKey()];return r||(r=new lhe(n,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,r){S("MemoryPersistence","Starting transaction:",e);const i=new phe(this.Os.next());return this.referenceDelegate.Us(),r(i).next(s=>this.referenceDelegate.Ks(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gs(e,n){return w.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,n)))}}class phe extends Ole{constructor(e){super(),this.currentSequenceNumber=e}}class Wg{constructor(e){this.persistence=e,this.Qs=new f0,this.js=null}static zs(e){return new Wg(e)}get Ws(){if(this.js)return this.js;throw F()}addReference(e,n,r){return this.Qs.addReference(r,n),this.Ws.delete(r.toString()),w.resolve()}removeReference(e,n,r){return this.Qs.removeReference(r,n),this.Ws.add(r.toString()),w.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),w.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Ws.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return w.forEach(this.Ws,r=>{const i=x.fromPath(r);return this.Hs(e,i).next(s=>{s||n.removeEntry(i,B.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(r=>{r?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return w.or([()=>w.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}class _0{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Fi=r,this.Bi=i}static Li(e,n){let r=oe(),i=oe();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new _0(e,n.fromCache,r,i)}}class hj{constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,r,i){return this.Ki(e,n).next(s=>s||this.Gi(e,n,i,r)).next(s=>s||this.Qi(e,n))}Ki(e,n){if(XB(n))return w.resolve(null);let r=vn(n);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==n.limit&&1===i&&(n=Pg(n,null,"F"),r=vn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=oe(...s);return this.Ui.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.ji(n,a);return this.zi(n,c,o,u.readTime)?this.Ki(e,Pg(n,null,"F")):this.Wi(e,c,n,u)}))})))}Gi(e,n,r,i){return XB(n)||i.isEqual(B.min())?this.Qi(e,n):this.Ui.getDocuments(e,r).next(s=>{const o=this.ji(n,s);return this.zi(n,o,r,i)?this.Qi(e,n):(MT()<=Y.DEBUG&&S("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),zT(n)),this.Wi(e,o,n,function yB(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=B.fromTimestamp(1e9===r?new Qe(n+1,0):new Qe(n,r));return new Yn(i,x.empty(),e)}(i,-1)))})}ji(e,n){let r=new Le(e$(e));return n.forEach((i,s)=>{od(e,s)&&(r=r.add(s))}),r}zi(e,n,r,i){if(null===e.limit)return!1;if(r.size!==n.size)return!0;const s="F"===e.limitType?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Qi(e,n){return MT()<=Y.DEBUG&&S("QueryEngine","Using full collection scan to execute query:",zT(n)),this.Ui.getDocumentsMatchingQuery(e,n,Yn.min())}Wi(e,n,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}class mhe{constructor(e,n,r,i){this.persistence=e,this.Hi=n,this.serializer=i,this.Ji=new ke(J),this.Yi=new $i(s=>Ao(s),id),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new lj(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function pj(t,e){return v0.apply(this,arguments)}function v0(){return v0=g(function*(t,e){const n=R(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.tr(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let u=oe();for(const c of i){o.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}for(const c of s){a.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}return n.localDocuments.getDocuments(r,u).next(c=>({er:c,removedBatchIds:o,addedBatchIds:a}))})})}),v0.apply(this,arguments)}function gj(t){const e=R(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function Tu(t,e,n){return w0.apply(this,arguments)}function w0(){return w0=g(function*(t,e,n){const r=R(t),i=r.Ji.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!_s(o))throw o;S("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}),w0.apply(this,arguments)}function Yg(t,e,n){const r=R(t);let i=B.min(),s=oe();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,u,c){const l=R(a),d=l.Yi.get(c);return void 0!==d?w.resolve(l.Ji.get(d)):l.Bs.getTargetData(u,c)}(r,o,vn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.Hi.getDocumentsMatchingQuery(o,e,n?i:B.min(),n?s:oe())).next(a=>(function vj(t,e,n){let r=t.Xi.get(e)||B.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Xi.set(e,r)}(r,function ZB(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}(e),a),{documents:a,ir:s})))}class b0{constructor(){this.activeTargetIds=function qT(){return wde}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Ej{constructor(){this.Hr=new b0,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,r){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new b0,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Ehe{Yr(e){}shutdown(){}}class Dj{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){S("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){S("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Zg=null;function S0(){return null===Zg?Zg=268435456+Math.round(2147483648*Math.random()):Zg++,"0x"+Zg.toString(16)}const Dhe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Che{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const un="WebChannelConnection";class bhe extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,r,i,s){const o=S0(),a=this.To(e,n);S("RestConnection",`Sending RPC '${e}' ${o}:`,a,r);const u={};return this.Eo(u,i,s),this.Ao(e,a,u,r).then(c=>(S("RestConnection",`Received RPC '${e}' ${o}: `,c),c),c=>{throw Tr("RestConnection",`RPC '${e}' ${o} failed with error: `,c,"url: ",a,"request:",r),c})}vo(e,n,r,i,s,o){return this.Io(e,n,r,i,s)}Eo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+lu,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}To(e,n){return`${this.mo}/v1/${n}:${Dhe[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,r,i){const s=S0();return new Promise((o,a)=>{const u=new Dle;u.setWithCredentials(!0),u.listenOnce(wle.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case AT.NO_ERROR:const l=u.getResponseJson();S(un,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(l)),o(l);break;case AT.TIMEOUT:S(un,`RPC '${e}' ${s} timed out`),a(new C(I.DEADLINE_EXCEEDED,"Request time out"));break;case AT.HTTP_ERROR:const d=u.getStatus();if(S(un,`RPC '${e}' ${s} failed with status:`,d,"response text:",u.getResponseText()),d>0){let h=u.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=h?.error;if(f&&f.status&&f.message){const p=function(m){const y=m.toLowerCase().replace(/_/g,"-");return Object.values(I).indexOf(y)>=0?y:I.UNKNOWN}(f.status);a(new C(p,f.message))}else a(new C(I.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new C(I.UNAVAILABLE,"Connection failed."));break;default:F()}}finally{S(un,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);S(un,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",c,r,15)})}Ro(e,n,r){const i=S0(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=_le(),a=vle(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;void 0!==c&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.xmlHttpFactory=new Ele({})),this.Eo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const l=s.join("");S(un,`Creating RPC '${e}' stream ${i}: ${l}`,u);const d=o.createWebChannel(l,u);let h=!1,f=!1;const p=new Che({ro:y=>{f?S(un,`Not sending because RPC '${e}' stream ${i} is closed:`,y):(h||(S(un,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),S(un,`RPC '${e}' stream ${i} sending:`,y),d.send(y))},oo:()=>d.close()}),m=(y,v,_)=>{y.listen(v,E=>{try{_(E)}catch(A){setTimeout(()=>{throw A},0)}})};return m(d,wg.EventType.OPEN,()=>{f||S(un,`RPC '${e}' stream ${i} transport opened.`)}),m(d,wg.EventType.CLOSE,()=>{f||(f=!0,S(un,`RPC '${e}' stream ${i} transport closed`),p.wo())}),m(d,wg.EventType.ERROR,y=>{f||(f=!0,Tr(un,`RPC '${e}' stream ${i} transport errored:`,y),p.wo(new C(I.UNAVAILABLE,"The operation could not be completed")))}),m(d,wg.EventType.MESSAGE,y=>{var v;if(!f){const _=y.data[0];U(!!_);const A=_.error||(null===(v=_[0])||void 0===v?void 0:v.error);if(A){S(un,`RPC '${e}' stream ${i} received error:`,A);const O=A.status;let K=function(In){const oi=pt[In];if(void 0!==oi)return _$(oi)}(O),je=A.message;void 0===K&&(K=I.INTERNAL,je="Unknown error status: "+O+" with message "+A.message),f=!0,p.wo(new C(K,je)),d.close()}else S(un,`RPC '${e}' stream ${i} received:`,_),p._o(_)}}),m(a,Ile.STAT_EVENT,y=>{y.stat===dB.PROXY?S(un,`RPC '${e}' stream ${i} detected buffering proxy`):y.stat===dB.NOPROXY&&S(un,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.fo()},0),p}}function em(){return typeof document<"u"?document:null}function bd(t){return new Pde(t,!0)}class A0{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ii=e,this.timerId=n,this.Po=r,this.bo=i,this.Vo=s,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,n-r);i>0&&S("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class The{constructor(e,n,r,i,s,o,a,u){this.ii=e,this.$o=r,this.Oo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new A0(e,n)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return g(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return g(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,n){var r=this;return g(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():n&&n.code===I.RESOURCE_EXHAUSTED?(st(n.toString()),st("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):n&&n.code===I.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(n)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===n&&this.Zo(r,i)},r=>{e(()=>{const i=new C(I.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,n){const r=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){var e=this;this.state=5,this.qo.No(g(function*(){e.state=0,e.start()}))}tu(e){return S("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(S("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class She extends The{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=function Lde(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(u=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===u?1:"REMOVE"===u?2:"CURRENT"===u?3:"RESET"===u?4:F(),i=e.targetChange.targetIds||[],s=function(u,c){return u.useProto3Json?(U(void 0===c||"string"==typeof c),Dt.fromBase64String(c||"")):(U(void 0===c||c instanceof Uint8Array),Dt.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const c=void 0===u.code?I.UNKNOWN:_$(u.code);return new C(c,u.message||"")}(o);n=new D$(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=ri(t,r.document.name),s=at(r.document.updateTime),o=r.document.createTime?at(r.document.createTime):B.min(),a=new Wt({mapValue:{fields:r.document.fields}}),u=Ve.newFoundDocument(i,s,o,a);n=new Vg(r.targetIds||[],r.removedTargetIds||[],u.key,u)}else if("documentDelete"in e){const r=e.documentDelete,i=ri(t,r.document),s=r.readTime?at(r.readTime):B.min(),o=Ve.newNoDocument(i,s);n=new Vg([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=ri(t,r.document);n=new Vg([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return F();{const r=e.filter,{count:i=0,unchangedNames:s}=r,o=new Ade(i,s);n=new E$(r.targetId,o)}}var u;return n}(this.serializer,e),r=function(i){if(!("targetChange"in i))return B.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?B.min():s.readTime?at(s.readTime):B.min()}(e);return this.listener.nu(n,r)}su(e){const n={};n.database=gd(this.serializer),n.addTarget=function(i,s){let o;const a=s.target;if(o=Rg(a)?{documents:k$(i,a)}:{query:s0(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=function S$(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}(i,s.resumeToken);const u=e0(i,s.expectedCount);null!==u&&(o.expectedCount=u)}else if(s.snapshotVersion.compareTo(B.min())>0){o.readTime=function Iu(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}(i,s.snapshotVersion.toTimestamp());const u=e0(i,s.expectedCount);null!==u&&(o.expectedCount=u)}return o}(this.serializer,e);const r=function Ude(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return F()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.Wo(n)}iu(e){const n={};n.database=gd(this.serializer),n.removeTarget=e,this.Wo(n)}}class Mhe extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new C(I.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Io(e,n,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===I.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new C(I.UNKNOWN,i.toString())})}vo(e,n,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.vo(e,n,r,s,o,i)).catch(s=>{throw"FirebaseError"===s.name?(s.code===I.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new C(I.UNKNOWN,s.toString())})}terminate(){this.lu=!0}}class Rhe{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(st(n),this.mu=!1):S("OnlineStateTracker",n)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class Nhe{constructor(e,n,r,i,s){var o=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=s,this.Pu.Yr(a=>{r.enqueueAndForget(g(function*(){var u;Ms(o)&&(S("RemoteStore","Restarting streams for network reachability change."),yield(u=g(function*(c){const l=R(c);l.vu.add(4),yield Su(l),l.bu.set("Unknown"),l.vu.delete(4),yield Td(l)}),function(c){return u.apply(this,arguments)})(o))}))}),this.bu=new Rhe(r,i)}}function Td(t){return x0.apply(this,arguments)}function x0(){return x0=g(function*(t){if(Ms(t))for(const e of t.Ru)yield e(!0)}),x0.apply(this,arguments)}function Su(t){return R0.apply(this,arguments)}function R0(){return R0=g(function*(t){for(const e of t.Ru)yield e(!1)}),R0.apply(this,arguments)}function tm(t,e){const n=R(t);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),P0(n)?k0(n):Mu(n).Ko()&&N0(n,e))}function Sd(t,e){const n=R(t),r=Mu(n);n.Au.delete(e),r.Ko()&&bj(n,e),0===n.Au.size&&(r.Ko()?r.jo():Ms(n)&&n.bu.set("Unknown"))}function N0(t,e){if(t.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(B.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Mu(t).su(e)}function bj(t,e){t.Vu.qt(e),Mu(t).iu(e)}function k0(t){t.Vu=new xde({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),le:e=>t.Au.get(e)||null,ue:()=>t.datastore.serializer.databaseId}),Mu(t).start(),t.bu.gu()}function P0(t){return Ms(t)&&!Mu(t).Uo()&&t.Au.size>0}function Ms(t){return 0===R(t).vu.size}function Tj(t){t.Vu=void 0}function khe(t){return O0.apply(this,arguments)}function O0(){return O0=g(function*(t){t.Au.forEach((e,n)=>{N0(t,e)})}),O0.apply(this,arguments)}function Phe(t,e){return F0.apply(this,arguments)}function F0(){return F0=g(function*(t,e){Tj(t),P0(t)?(t.bu.Iu(e),k0(t)):t.bu.set("Unknown")}),F0.apply(this,arguments)}function Ohe(t,e,n){return L0.apply(this,arguments)}function L0(){return L0=g(function*(t,e,n){if(t.bu.set("Online"),e instanceof D$&&2===e.state&&e.cause)try{yield(r=g(function*(i,s){const o=s.cause;for(const a of s.targetIds)i.Au.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.Au.delete(a),i.Vu.removeTarget(a))}),function(i,s){return r.apply(this,arguments)})(t,e)}catch(r){S("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield nm(t,r)}else if(e instanceof Vg?t.Vu.Ht(e):e instanceof E$?t.Vu.ne(e):t.Vu.Xt(e),!n.isEqual(B.min()))try{const r=yield gj(t.localStore);n.compareTo(r)>=0&&(yield function(i,s){const o=i.Vu.ce(s);return o.targetChanges.forEach((a,u)=>{if(a.resumeToken.approximateByteSize()>0){const c=i.Au.get(u);c&&i.Au.set(u,c.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach((a,u)=>{const c=i.Au.get(a);if(!c)return;i.Au.set(a,c.withResumeToken(Dt.EMPTY_BYTE_STRING,c.snapshotVersion)),bj(i,a);const l=new Hi(c.target,a,u,c.sequenceNumber);N0(i,l)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n))}catch(r){S("RemoteStore","Failed to raise snapshot:",r),yield nm(t,r)}var r}),L0.apply(this,arguments)}function nm(t,e,n){return V0.apply(this,arguments)}function V0(){return V0=g(function*(t,e,n){if(!_s(e))throw e;t.vu.add(1),yield Su(t),t.bu.set("Offline"),n||(n=()=>gj(t.localStore)),t.asyncQueue.enqueueRetryable(g(function*(){S("RemoteStore","Retrying IndexedDB access"),yield n(),t.vu.delete(1),yield Td(t)}))}),V0.apply(this,arguments)}function xj(t,e){return G0.apply(this,arguments)}function G0(){return G0=g(function*(t,e){const n=R(t);n.asyncQueue.verifyOperationInProgress(),S("RemoteStore","RemoteStore received new credentials");const r=Ms(n);n.vu.add(3),yield Su(n),r&&n.bu.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),yield Td(n)}),G0.apply(this,arguments)}function q0(){return q0=g(function*(t,e){const n=R(t);e?(n.vu.delete(2),yield Td(n)):e||(n.vu.add(2),yield Su(n),n.bu.set("Unknown"))}),q0.apply(this,arguments)}function Mu(t){return t.Su||(t.Su=function(e,n,r){const i=R(e);return i.fu(),new She(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:khe.bind(null,t),ao:Phe.bind(null,t),nu:Ohe.bind(null,t)}),t.Ru.push(function(){var e=g(function*(n){n?(t.Su.Qo(),P0(t)?k0(t):t.bu.set("Unknown")):(yield t.Su.stop(),Tj(t))});return function(n){return e.apply(this,arguments)}}())),t.Su}class W0{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Et,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new W0(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new C(I.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function xu(t,e){if(st("AsyncQueue",`${e}: ${t}`),_s(t))return new C(I.UNAVAILABLE,`${e}: ${t}`);throw t}class Ru{constructor(e){this.comparator=e?(n,r)=>e(n,r)||x.comparator(n.key,r.key):(n,r)=>x.comparator(n.key,r.key),this.keyedMap=ad(),this.sortedSet=new ke(this.comparator)}static emptySet(e){return new Ru(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ru)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new Ru;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class Rj{constructor(){this.Cu=new ke(x.comparator)}track(e){const n=e.doc.key,r=this.Cu.get(n);r?0!==e.type&&3===r.type?this.Cu=this.Cu.insert(n,e):3===e.type&&1!==r.type?this.Cu=this.Cu.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Cu=this.Cu.remove(n):1===e.type&&2===r.type?this.Cu=this.Cu.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):F():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,r)=>{e.push(r)}),e}}class Nu{constructor(e,n,r,i,s,o,a,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Nu(e,n,Ru.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&sd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class jhe{constructor(){this.Nu=void 0,this.listeners=[]}}class Hhe{constructor(){this.queries=new $i(e=>JB(e),sd),this.onlineState="Unknown",this.ku=new Set}}function Q0(){return Q0=g(function*(t,e){const n=R(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new jhe),i)try{s.Nu=yield n.onListen(r)}catch(o){const a=xu(o,`Initialization of query '${zT(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.Mu(n.onlineState),s.Nu&&e.$u(s.Nu)&&J0(n)}),Q0.apply(this,arguments)}function X0(){return X0=g(function*(t,e){const n=R(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}),X0.apply(this,arguments)}function Ghe(t,e){const n=R(t);let r=!1;for(const i of e){const o=n.queries.get(i.query);if(o){for(const a of o.listeners)a.$u(i)&&(r=!0);o.Nu=i}}r&&J0(n)}function zhe(t,e,n){const r=R(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function J0(t){t.ku.forEach(e=>{e.next()})}class Z0{constructor(e,n,r){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Nu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){return!e.fromCache||(!this.options.Ku||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=Nu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class Pj{constructor(e){this.key=e}}class Oj{constructor(e){this.key=e}}class Fj{constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=oe(),this.mutatedKeys=oe(),this.tc=e$(e),this.ec=new Ru(this.tc)}get nc(){return this.Yu}sc(e,n){const r=n?n.ic:new Rj,i=n?n.ec:this.ec;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((l,d)=>{const h=i.get(l),f=od(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),m=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let y=!1;h&&f?h.data.isEqual(f.data)?p!==m&&(r.track({type:3,doc:f}),y=!0):this.rc(h,f)||(r.track({type:2,doc:f}),y=!0,(u&&this.tc(f,u)>0||c&&this.tc(f,c)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),y=!0):h&&!f&&(r.track({type:1,doc:h}),y=!0,(u||c)&&(a=!0)),y&&(f?(o=o.add(f),s=m?s.add(l):s.delete(l)):(o=o.delete(l),s=s.delete(l)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{ec:o,ic:r,zi:a,mutatedKeys:s}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const s=e.ic.xu();s.sort((c,l)=>function(d,h){const f=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return F()}};return f(d)-f(h)}(c.type,l.type)||this.tc(c.doc,l.doc)),this.oc(r);const o=n?this.uc():[],a=0===this.Zu.size&&this.current?1:0,u=a!==this.Xu;return this.Xu=a,0!==s.length||u?{snapshot:new Nu(this.query,e.ec,i,s,e.mutatedKeys,0===a,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:o}:{cc:o}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new Rj,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=oe(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const n=[];return e.forEach(r=>{this.Zu.has(r)||n.push(new Oj(r))}),this.Zu.forEach(r=>{e.has(r)||n.push(new Pj(r))}),n}hc(e){this.Yu=e.ir,this.Zu=oe();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return Nu.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class Khe{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Qhe{constructor(e){this.key=e,this.fc=!1}}class Yhe{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new $i(a=>JB(a),sd),this._c=new Map,this.mc=new Set,this.gc=new ke(x.comparator),this.yc=new Map,this.Ic=new f0,this.Tc={},this.Ec=new Map,this.Ac=Lo.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function Xhe(t,e){return eS.apply(this,arguments)}function eS(){return eS=g(function*(t,e){const n=function DS(t){const e=R(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Lj.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ofe.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=efe.bind(null,e),e.dc.nu=Ghe.bind(null,e.eventManager),e.dc.Pc=zhe.bind(null,e.eventManager),e}(t);let r,i;const s=n.wc.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.lc();else{const o=yield function bu(t,e){const n=R(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Bs.getTargetData(r,e).next(s=>s?(i=s,w.resolve(i)):n.Bs.allocateTargetId(r).next(o=>(i=new Hi(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ji.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(r.targetId,r),n.Yi.set(e,r.targetId)),r})}(n.localStore,vn(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield function tS(t,e,n,r,i){return nS.apply(this,arguments)}(n,e,r,"current"===a,o.resumeToken),n.isPrimaryClient&&tm(n.remoteStore,o)}return i}),eS.apply(this,arguments)}function nS(){return nS=g(function*(t,e,n,r,i){t.Rc=(d,h,f)=>{return(p=g(function*(m,y,v,_){let E=y.view.sc(v);E.zi&&(E=yield Yg(m.localStore,y.query,!1).then(({documents:K})=>y.view.sc(K,E)));const A=_&&_.targetChanges.get(y.targetId),O=y.view.applyChanges(E,m.isPrimaryClient,A);return hS(m,y.targetId,O.cc),O.snapshot}),function(m,y,v,_){return p.apply(this,arguments)})(t,d,h,f);var p};const s=yield Yg(t.localStore,e,!0),o=new Fj(e,s.ir),a=o.sc(s.documents),u=fd.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState,i),c=o.applyChanges(a,t.isPrimaryClient,u);hS(t,n,c.cc);const l=new Khe(e,n,o);return t.wc.set(e,l),t._c.has(n)?t._c.get(n).push(e):t._c.set(n,[e]),c.snapshot}),nS.apply(this,arguments)}function Jhe(t,e){return rS.apply(this,arguments)}function rS(){return rS=g(function*(t,e){const n=R(t),r=n.wc.get(e),i=n._c.get(r.targetId);if(i.length>1)return n._c.set(r.targetId,i.filter(s=>!sd(s,e))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Tu(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),Sd(n.remoteStore,r.targetId),ku(n,r.targetId)}).catch(ys))):(ku(n,r.targetId),yield Tu(n.localStore,r.targetId,!0))}),rS.apply(this,arguments)}function Lj(t,e){return sS.apply(this,arguments)}function sS(){return sS=g(function*(t,e){const n=R(t);try{const r=yield function _he(t,e){const n=R(t),r=e.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const a=[];e.targetChanges.forEach((l,d)=>{const h=i.get(d);if(!h)return;a.push(n.Bs.removeMatchingKeys(s,l.removedDocuments,d).next(()=>n.Bs.addMatchingKeys(s,l.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);var p,m,y;null!==e.targetMismatches.get(d)?f=f.withResumeToken(Dt.EMPTY_BYTE_STRING,B.min()).withLastLimboFreeSnapshotVersion(B.min()):l.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(l.resumeToken,r)),i=i.insert(d,f),m=f,y=l,(0===(p=h).resumeToken.approximateByteSize()||m.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8||y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0)&&a.push(n.Bs.updateTargetData(s,f))});let u=Vn(),c=oe();if(e.documentUpdates.forEach(l=>{e.resolvedLimboDocuments.has(l)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,l))}),a.push(function mj(t,e,n){let r=oe(),i=oe();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Vn();return n.forEach((a,u)=>{const c=s.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(B.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||0===u.version.compareTo(c.version)&&c.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):S("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{nr:o,sr:i}})}(s,o,e.documentUpdates).next(l=>{u=l.nr,c=l.sr})),!r.isEqual(B.min())){const l=n.Bs.getLastRemoteSnapshotVersion(s).next(d=>n.Bs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(l)}return w.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,c)).next(()=>u)}).then(s=>(n.Ji=i,s))}(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.yc.get(s);o&&(U(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.fc=!0:i.modifiedDocuments.size>0?U(o.fc):i.removedDocuments.size>0&&(U(o.fc),o.fc=!1))}),yield Gi(n,r,e)}catch(r){yield ys(r)}}),sS.apply(this,arguments)}function Vj(t,e,n){const r=R(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const i=[];r.wc.forEach((s,o)=>{const a=o.view.Mu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=R(s);a.onlineState=o;let u=!1;a.queries.forEach((c,l)=>{for(const d of l.listeners)d.Mu(o)&&(u=!0)}),u&&J0(a)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function efe(t,e,n){return oS.apply(this,arguments)}function oS(){return oS=g(function*(t,e,n){const r=R(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.yc.get(e),s=i&&i.key;if(s){let o=new ke(x.comparator);o=o.insert(s,Ve.newNoDocument(s,B.min()));const a=oe().add(s),u=new hd(B.min(),new Map,new ke(J),o,a);yield Lj(r,u),r.gc=r.gc.remove(s),r.yc.delete(e),fS(r)}else yield Tu(r.localStore,e,!1).then(()=>ku(r,e,n)).catch(ys)}),oS.apply(this,arguments)}function ku(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t._c.get(e))t.wc.delete(r),n&&t.dc.Pc(r,n);t._c.delete(e),t.isPrimaryClient&&t.Ic.Is(e).forEach(r=>{t.Ic.containsKey(r)||Uj(t,r)})}function Uj(t,e){t.mc.delete(e.path.canonicalString());const n=t.gc.get(e);null!==n&&(Sd(t.remoteStore,n),t.gc=t.gc.remove(e),t.yc.delete(n),fS(t))}function hS(t,e,n){for(const r of n)r instanceof Pj?(t.Ic.addReference(r.key,e),ife(t,r)):r instanceof Oj?(S("SyncEngine","Document no longer in limbo: "+r.key),t.Ic.removeReference(r.key,e),t.Ic.containsKey(r.key)||Uj(t,r.key)):F()}function ife(t,e){const n=e.key,r=n.path.canonicalString();t.gc.get(n)||t.mc.has(r)||(S("SyncEngine","New document in limbo: "+n),t.mc.add(r),fS(t))}function fS(t){for(;t.mc.size>0&&t.gc.size<t.maxConcurrentLimboResolutions;){const e=t.mc.values().next().value;t.mc.delete(e);const n=new x(fe.fromString(e)),r=t.Ac.next();t.yc.set(r,new Qhe(n)),t.gc=t.gc.insert(n,r),tm(t.remoteStore,new Hi(vn(mu(n.path)),r,"TargetPurposeLimboResolution",Xn.ct))}}function Gi(t,e,n){return pS.apply(this,arguments)}function pS(){return pS=g(function*(t,e,n){const r=R(t),i=[],s=[],o=[];var a;r.wc.isEmpty()||(r.wc.forEach((a,u)=>{o.push(r.Rc(u,e,n).then(c=>{if((c||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,c?.fromCache?"not-current":"current"),c){i.push(c);const l=_0.Li(u.targetId,c);s.push(l)}}))}),yield Promise.all(o),r.dc.nu(i),yield(a=g(function*(u,c){const l=R(u);try{yield l.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>w.forEach(c,h=>w.forEach(h.Fi,f=>l.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>w.forEach(h.Bi,f=>l.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!_s(d))throw d;S("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const h=d.targetId;if(!d.fromCache){const f=l.Ji.get(h),m=f.withLastLimboFreeSnapshotVersion(f.snapshotVersion);l.Ji=l.Ji.insert(h,m)}}}),function(u,c){return a.apply(this,arguments)})(r.localStore,s))}),pS.apply(this,arguments)}function sfe(t,e){return gS.apply(this,arguments)}function gS(){return gS=g(function*(t,e){const n=R(t);if(!n.currentUser.isEqual(e)){S("SyncEngine","User change. New user:",e.toKey());const r=yield pj(n.localStore,e);n.currentUser=e,(i=n).Ec.forEach(o=>{o.forEach(a=>{a.reject(new C(I.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.Ec.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Gi(n,r.er)}var i}),gS.apply(this,arguments)}function ofe(t,e){const n=R(t),r=n.yc.get(e);if(r&&r.fc)return oe().add(r.key);{let i=oe();const s=n._c.get(e);if(!s)return i;for(const o of s){const a=n.wc.get(o);i=i.unionWith(a.view.nc)}return i}}class rm{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return g(function*(){n.serializer=bd(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return function fj(t,e,n,r){return new mhe(t,e,n,r)}(this.persistence,new hj,e.initialUser,this.serializer)}createPersistence(e){return new p0(Wg.zs,this.serializer)}createSharedClientState(e){return new Ej}terminate(){var e=this;return g(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Pu{initialize(e,n){var r=this;return g(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(n),r.remoteStore=r.createRemoteStore(n),r.eventManager=r.createEventManager(n),r.syncEngine=r.createSyncEngine(n,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>Vj(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=sfe.bind(null,r.syncEngine),yield function z0(t,e){return q0.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Hhe}createDatastore(e){const n=bd(e.databaseInfo.databaseId),r=new bhe(e.databaseInfo);return new Mhe(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>Vj(this.syncEngine,a,0),o=Dj.D()?new Dj:new Ehe,new Nhe(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,a,u,c){const l=new Yhe(r,i,s,o,a,u);return c&&(l.vc=!0),l}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=g(function*(n){const r=R(n);S("RemoteStore","RemoteStore shutting down."),r.vu.add(5),yield Su(r),r.Pu.shutdown(),r.bu.set("Unknown")}),function(n){return e.apply(this,arguments)})(this.remoteStore);var e}}class im{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):st("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class vfe{constructor(e,n,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Nt.UNAUTHENTICATED,this.clientId=gB.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=g(function*(a){S("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(S("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return g(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new C(I.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new Et;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(g(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const i=xu(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}function sm(t,e){return bS.apply(this,arguments)}function bS(){return bS=g(function*(t,e){t.asyncQueue.verifyOperationInProgress(),S("FirestoreClient","Initializing OfflineComponentProvider");const n=yield t.getConfiguration();yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(function(){var i=g(function*(s){r.isEqual(s)||(yield pj(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}),bS.apply(this,arguments)}function TS(t,e){return SS.apply(this,arguments)}function SS(){return SS=g(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield function AS(t){return MS.apply(this,arguments)}(t);S("FirestoreClient","Initializing OnlineComponentProvider");const r=yield t.getConfiguration();yield e.initialize(n,r),t.setCredentialChangeListener(i=>xj(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>xj(e.remoteStore,s)),t._onlineComponents=e}),SS.apply(this,arguments)}function MS(){return MS=g(function*(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){S("FirestoreClient","Using user provided OfflineComponentProvider");try{yield sm(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function zj(t){return"FirebaseError"===t.name?t.code===I.FAILED_PRECONDITION||t.code===I.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(n))throw n;Tr("Error using user provided cache. Falling back to memory cache: "+n),yield sm(t,new rm)}}else S("FirestoreClient","Using default OfflineComponentProvider"),yield sm(t,new rm);return t._offlineComponents}),MS.apply(this,arguments)}function xS(){return xS=g(function*(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(S("FirestoreClient","Using user provided OnlineComponentProvider"),yield TS(t,t._uninitializedComponentsProvider._online)):(S("FirestoreClient","Using default OnlineComponentProvider"),yield TS(t,new Pu))),t._onlineComponents}),xS.apply(this,arguments)}function Ou(t){return NS.apply(this,arguments)}function NS(){return NS=g(function*(t){const e=yield function om(t){return xS.apply(this,arguments)}(t),n=e.eventManager;return n.onListen=Xhe.bind(null,e.syncEngine),n.onUnlisten=Jhe.bind(null,e.syncEngine),n}),NS.apply(this,arguments)}function Xj(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e}const Jj=new Map;function eH(t){if(x.isDocumentKey(t))throw new C(I.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function de(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new C(I.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=function um(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(n=t).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof t?"a function":F()}(t);throw new C(I.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}class nH{constructor(e){var n,r;if(void 0===e.host){if(void 0!==e.ssl)throw new C(I.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new C(I.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function Afe(t,e,n,r){if(!0===e&&!0===r)throw new C(I.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=Xj(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(i){if(void 0!==i.timeoutSeconds){if(isNaN(i.timeoutSeconds))throw new C(I.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new C(I.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new C(I.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ad{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new nH({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new C(I.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new C(I.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new nH(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new ble;switch(n.type){case"firstParty":return new Mle(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new C(I.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=Jj.get(e);n&&(S("ComponentProvider","Removing Datastore"),Jj.delete(e),n.terminate())}(this),Promise.resolve()}}class ut{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ii(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ut(this.firestore,e,this._key)}}class Kt{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Kt(this.firestore,e,this._query)}}class ii extends Kt{constructor(e,n,r){super(e,n,mu(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ut(this.firestore,null,new x(e))}withConverter(e){return new ii(this.firestore,e,this._path)}}function xfe(t,e,...n){if(t=Ir(t),function kS(t,e,n){if(!n)throw new C(I.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}("collection","path",e),t instanceof Ad){const r=fe.fromString(e,...n);return eH(r),new ii(t,null,r)}{if(!(t instanceof ut||t instanceof ii))throw new C(I.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(fe.fromString(e,...n));return eH(r),new ii(t.firestore,null,r)}}class Nfe{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new A0(this,"async_queue_retry"),this.Xc=()=>{const n=em();n&&S("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=em();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=em();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new Et;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return g(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(n){if(!_s(n))throw n;S("AsyncQueue","Operation failed with retryable error: "+n)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,st("INTERNAL UNHANDLED ERROR: ",function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),o}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=n,n}enqueueAfterDelay(e,n,r){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const i=W0.createAndSchedule(this,e,n,r,s=>this.na(s));return this.zc.push(i),i}Zc(){this.Wc&&F()}verifyOperationInProgress(){}sa(){var e=this;return g(function*(){let n;do{n=e.Gc,yield n}while(n!==e.Gc)})()}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}function PS(t){return function(e,n){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(t)}class Ue extends Ad{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Nfe,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||iH(this),this._firestoreClient.terminate()}}function Pfe(t,e){const r="string"==typeof t?t:e||"(default)",i=ao("object"==typeof t?t:ap(),"firestore").getImmediate({identifier:r});if(!i._initialized){const s=yF("firestore");s&&function Mfe(t,e,n,r={}){var i;const s=(t=de(t,Ad))._getSettings();if("firestore.googleapis.com"!==s.host&&s.host!==e&&Tr("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},s),{host:`${e}:${n}`,ssl:!1})),r.mockUserToken){let o,a;if("string"==typeof r.mockUserToken)o=r.mockUserToken,a=Nt.MOCK_USER;else{o=wF(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new C(I.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new Nt(u)}t._authCredentials=new Tle(new fB(o,a))}}(i,...s)}return i}function iH(t){var e,n,r;const i=t._freezeSettings(),s=(a=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new sde(t._databaseId,a,t._persistenceKey,(c=i).host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,Xj(c.experimentalLongPollingOptions),c.useFetchStreams));var a,c;t._firestoreClient=new vfe(t._authCredentials,t._appCheckCredentials,t._queue,s),null!==(n=i.cache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=i.cache)&&void 0!==r&&r._onlineComponentProvider&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}class Uo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Uo(Dt.fromBase64String(e))}catch(n){throw new C(I.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Uo(Dt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Fu{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new C(I.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ot(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class OS{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new C(I.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new C(I.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return J(this._lat,e._lat)||J(this._long,e._long)}}const jfe=new RegExp("[~\\*/\\[\\]]");function dm(t,e,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new C(I.INVALID_ARGUMENT,a+t+u)}class US{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new ut(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Hfe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(hm("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class Hfe extends US{data(){return super.data()}}function hm(t,e){return"string"==typeof e?function lm(t,e,n){if(e.search(jfe)>=0)throw dm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Fu(...e.split("."))._internalPath}catch{throw dm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}(t,e):e instanceof Fu?e._internalPath:e._delegate._internalPath}class zfe{convertValue(e,n="none"){switch(Es(e)){case 0:return null;case 1:return e.booleanValue;case 2:return nt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ui(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw F()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return vs(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new OS(nt(e.latitude),nt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Sg(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ed(e));default:return null}}convertTimestamp(e){const n=ws(e);return new Qe(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=fe.fromString(e);U(L$(r));const i=new To(r.get(1),r.get(3)),s=new x(r.popFirst(5));return i.isEqual(n)||st(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}class $o{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Uu extends US{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new mm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(hm("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class mm extends Uu{data(e={}){return super.data(e)}}class Bu{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new $o(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new mm(this._firestore,this._userDataWriter,r.key,r,new $o(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new C(I.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>({type:"added",doc:new mm(r._firestore,r._userDataWriter,o.doc.key,o.doc,new $o(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||3!==o.type).map(o=>{const a=new mm(r._firestore,r._userDataWriter,o.doc.key,o.doc,new $o(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let u=-1,c=-1;return 0!==o.type&&(u=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),1!==o.type&&(s=s.add(o.doc),c=s.indexOf(o.doc.key)),{type:Wfe(o.type),doc:a,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Wfe(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return F()}}class Rs extends zfe{constructor(e){super(),this.firestore=e}convertBytes(e){return new Uo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ut(this.firestore,null,n)}}!function(t,e=!0){lu=as,nn(new $t("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new Ue(new Sle(n.getProvider("auth-internal")),new xle(n.getProvider("app-check-internal")),function(a,u){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new C(I.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new To(a.options.projectId,u)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),Oe(hB,"3.12.1",t),Oe(hB,"3.12.1","esm2017")}();var ope={includeMetadataChanges:!1};function HS(t,e){return void 0===e&&(e=ope),new He(function(n){var r=function Kfe(t,...e){var n,r,i;t=Ir(t);let s={includeMetadataChanges:!1},o=0;"object"!=typeof e[o]||PS(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(PS(e[o])){const d=e[o];e[o]=null===(n=d.next)||void 0===n?void 0:n.bind(d),e[o+1]=null===(r=d.error)||void 0===r?void 0:r.bind(d),e[o+2]=null===(i=d.complete)||void 0===i?void 0:i.bind(d)}let u,c,l;if(t instanceof ut)c=de(t.firestore,Ue),l=mu(t._key.path),u={next:d=>{e[o]&&e[o](function jS(t,e,n){const r=n.docs.get(e._key),i=new Rs(t);return new Uu(t,i,e._key,r,new $o(n.hasPendingWrites,n.fromCache),e.converter)}(c,t,d))},error:e[o+1],complete:e[o+2]};else{const d=de(t,Kt);c=de(d.firestore,Ue),l=d._query;const h=new Rs(c);u={next:f=>{e[o]&&e[o](new Bu(c,h,d,f))},error:e[o+1],complete:e[o+2]},function yH(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new C(I.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(t._query)}return function(d,h,f,p){const m=new im(p),y=new Z0(h,m,f);return d.asyncQueue.enqueueAndForget(g(function*(){return function K0(t,e){return Q0.apply(this,arguments)}(yield Ou(d),y)})),()=>{m.Dc(),d.asyncQueue.enqueueAndForget(g(function*(){return function Y0(t,e){return X0.apply(this,arguments)}(yield Ou(d),y)}))}}(function gt(t){return t._firestoreClient||iH(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}(c),l,a,u)}(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function fpe(t,e){return void 0===e&&(e={}),function hpe(t){return HS(t,{includeMetadataChanges:!0}).pipe(ve(function(e){return e.docs}))}(t).pipe(ve(function(n){return n.map(function(r){return function bH(t,e){void 0===e&&(e={});var n=t.data();return!t.exists()||"object"!=typeof n||null===n||e.idField&&(n[e.idField]=t.id),n}(r,e)})}))}class _m{constructor(e){return e}}const MH="firestore",qS=new L("angularfire2.firestore-instances");function mpe(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new _m(r)}}const ype={provide:class ppe{constructor(){return gp(MH)}},deps:[[new vt,qS]]},_pe={provide:_m,useFactory:function gpe(t,e){const n=pp(MH,t,e);return n&&new _m(n)},deps:[[new vt,qS],go]};let vpe=(()=>{class t{constructor(){Oe("angularfire",cl.full,"fst")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Yt({type:t}),t.\u0275inj=Lt({providers:[_pe,ype]}),t})();function wpe(t,...e){return{ngModule:vpe,providers:[{provide:qS,useFactory:mpe(t),multi:!0,deps:[Ee,xn,mp,yp,[new vt,bb],[new vt,bp],...e]}]}}const Ipe=Ya(fpe,!0),Epe=Ya(xfe,!0),Dpe=Ya(Pfe,!0);let xH=(()=>{class t{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}}return t.\u0275fac=function(n){return new(n||t)(T(yi),T(zn))},t.\u0275dir=Q({type:t}),t})(),jo=(()=>{class t extends xH{}return t.\u0275fac=function(){let e;return function(r){return(e||(e=Bt(t)))(r||t)}}(),t.\u0275dir=Q({type:t,features:[Ie]}),t})();const si=new L("NgValueAccessor"),Tpe={provide:si,useExisting:xe(()=>vm),multi:!0},Ape=new L("CompositionEventMode");let vm=(()=>{class t extends xH{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Spe(){const t=ns()?ns().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(n){this.setProperty("value",n??"")}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}}return t.\u0275fac=function(n){return new(n||t)(T(yi),T(zn),T(Ape,8))},t.\u0275dir=Q({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,r){1&n&&Rn("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[Be([Tpe]),Ie]}),t})();function Ns(t){return null==t||("string"==typeof t||Array.isArray(t))&&0===t.length}function NH(t){return null!=t&&"number"==typeof t.length}const cn=new L("NgValidators"),ks=new L("NgAsyncValidators"),Mpe=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class WS{static min(e){return function kH(t){return e=>{if(Ns(e.value)||Ns(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}(e)}static max(e){return function PH(t){return e=>{if(Ns(e.value)||Ns(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}(e)}static required(e){return function OH(t){return Ns(t.value)?{required:!0}:null}(e)}static requiredTrue(e){return function FH(t){return!0===t.value?null:{required:!0}}(e)}static email(e){return function LH(t){return Ns(t.value)||Mpe.test(t.value)?null:{email:!0}}(e)}static minLength(e){return function VH(t){return e=>Ns(e.value)||!NH(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function UH(t){return e=>NH(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}(e)}static pattern(e){return function BH(t){if(!t)return wm;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(Ns(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return qH(e)}static composeAsync(e){return WH(e)}}function wm(t){return null}function $H(t){return null!=t}function jH(t){return Sc(t)?bt(t):t}function HH(t){let e={};return t.forEach(n=>{e=null!=n?{...e,...n}:e}),0===Object.keys(e).length?null:e}function GH(t,e){return e.map(n=>n(t))}function zH(t){return t.map(e=>function xpe(t){return!t.validate}(e)?e:n=>e.validate(n))}function qH(t){if(!t)return null;const e=t.filter($H);return 0==e.length?null:function(n){return HH(GH(n,e))}}function KS(t){return null!=t?qH(zH(t)):null}function WH(t){if(!t)return null;const e=t.filter($H);return 0==e.length?null:function(n){return function Cpe(...t){const e=LA(t),{args:n,keys:r}=oO(t),i=new He(s=>{const{length:o}=n;if(!o)return void s.complete();const a=new Array(o);let u=o,c=o;for(let l=0;l<o;l++){let d=!1;Jn(n[l]).subscribe(Ct(s,h=>{d||(d=!0,c--),a[l]=h},()=>u--,void 0,()=>{(!u||!d)&&(c||s.next(r?uO(r,a):a),s.complete())}))}});return e?i.pipe(aO(e)):i}(GH(n,e).map(jH)).pipe(ve(HH))}}function QS(t){return null!=t?WH(zH(t)):null}function KH(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function QH(t){return t._rawValidators}function YH(t){return t._rawAsyncValidators}function YS(t){return t?Array.isArray(t)?t:[t]:[]}function Im(t,e){return Array.isArray(t)?t.includes(e):t===e}function XH(t,e){const n=YS(e);return YS(t).forEach(i=>{Im(n,i)||n.push(i)}),n}function JH(t,e){return YS(e).filter(n=>!Im(t,n))}class ZH{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=KS(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=QS(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return!!this.control&&this.control.hasError(e,n)}getError(e,n){return this.control?this.control.getError(e,n):null}}class wn extends ZH{get formDirective(){return null}get path(){return null}}class Ps extends ZH{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class eG{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let tG=(()=>{class t extends eG{constructor(n){super(n)}}return t.\u0275fac=function(n){return new(n||t)(T(Ps,2))},t.\u0275dir=Q({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,r){2&n&&sf("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[Ie]}),t})(),XS=(()=>{class t extends eG{constructor(n){super(n)}}return t.\u0275fac=function(n){return new(n||t)(T(wn,10))},t.\u0275dir=Q({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(n,r){2&n&&sf("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[Ie]}),t})();const Pd="VALID",Dm="INVALID",$u="PENDING",Od="DISABLED";function eA(t){return(Cm(t)?t.validators:t)||null}function tA(t,e){return(Cm(e)?e.asyncValidators:t)||null}function Cm(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}function rG(t,e,n){const r=t.controls;if(!(e?Object.keys(r):r).length)throw new b(1e3,"");if(!r[n])throw new b(1001,"")}function iG(t,e,n){t._forEachChild((r,i)=>{if(void 0===n[i])throw new b(1002,"")})}class bm{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Pd}get invalid(){return this.status===Dm}get pending(){return this.status==$u}get disabled(){return this.status===Od}get enabled(){return this.status!==Od}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(XH(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(XH(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(JH(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(JH(e,this._rawAsyncValidators))}hasValidator(e){return Im(this._rawValidators,e)}hasAsyncValidator(e){return Im(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=$u,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=Od,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=Pd,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Pd||this.status===$u)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Od:Pd}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=$u,this._hasOwnPendingAsyncValidator=!0;const n=jH(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent)}get(e){let n=e;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Je,this.statusChanges=new Je}_calculateStatus(){return this._allControlsDisabled()?Od:this.errors?Dm:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus($u)?$u:this._anyControlsHaveStatus(Dm)?Dm:Pd}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Cm(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function Ppe(t){return Array.isArray(t)?KS(t):t||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function Ope(t){return Array.isArray(t)?QS(t):t||null}(this._rawAsyncValidators)}}class Fd extends bm{constructor(e,n,r){super(eA(n),tA(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){iG(this,0,e),Object.keys(e).forEach(r=>{rG(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>!!r._syncPendingControls()||n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{const r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class sG extends Fd{}const Ho=new L("CallSetDisabledState",{providedIn:"root",factory:()=>Ld}),Ld="always";function Vd(t,e,n=Ld){nA(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||"always"===n)&&e.valueAccessor.setDisabledState?.(t.disabled),function Lpe(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&oG(t,e)})}(t,e),function Upe(t,e){const n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function Vpe(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&oG(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function Fpe(t,e){if(e.valueAccessor.setDisabledState){const n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function Sm(t,e,n=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Mm(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function Am(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function nA(t,e){const n=QH(t);null!==e.validator?t.setValidators(KH(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=YH(t);null!==e.asyncValidator?t.setAsyncValidators(KH(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();Am(e._rawValidators,i),Am(e._rawAsyncValidators,i)}function Mm(t,e){let n=!1;if(null!==t){if(null!==e.validator){const i=QH(t);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.validator);s.length!==i.length&&(n=!0,t.setValidators(s))}}if(null!==e.asyncValidator){const i=YH(t);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.asyncValidator);s.length!==i.length&&(n=!0,t.setAsyncValidators(s))}}}const r=()=>{};return Am(e._rawValidators,r),Am(e._rawAsyncValidators,r),n}function oG(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function aG(t,e){nA(t,e)}function uG(t,e){t._syncPendingControls(),e.forEach(n=>{const r=n.control;"submit"===r.updateOn&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}const Gpe={provide:wn,useExisting:xe(()=>xm)},Ud=(()=>Promise.resolve())();let xm=(()=>{class t extends wn{constructor(n,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._directives=new Set,this.ngSubmit=new Je,this.form=new Fd({},KS(n),QS(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){Ud.then(()=>{const r=this._findContainer(n.path);n.control=r.registerControl(n.name,n.control),Vd(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){Ud.then(()=>{const r=this._findContainer(n.path);r&&r.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){Ud.then(()=>{const r=this._findContainer(n.path),i=new Fd({});aG(i,n),r.registerControl(n.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){Ud.then(()=>{const r=this._findContainer(n.path);r&&r.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,r){Ud.then(()=>{this.form.get(n.path).setValue(r)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submitted=!0,uG(this.form,this._directives),this.ngSubmit.emit(n),"dialog"===n?.target?.method}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}}return t.\u0275fac=function(n){return new(n||t)(T(cn,10),T(ks,10),T(Ho,8))},t.\u0275dir=Q({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(n,r){1&n&&Rn("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Be([Gpe]),Ie]}),t})();function cG(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function lG(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const Qt=class extends bm{constructor(e=null,n,r){super(eA(n),tA(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Cm(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=lG(e)?e.value:e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){cG(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){cG(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){lG(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};let oA=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=Q({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})(),mG=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Yt({type:t}),t.\u0275inj=Lt({}),t})();const aA=new L("NgModelWithFormControlWarning"),Zpe={provide:wn,useExisting:xe(()=>Rm)};let Rm=(()=>{class t extends wn{constructor(n,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Je,this._setValidators(n),this._setAsyncValidators(r)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Mm(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){const r=this.form.get(n.path);return Vd(r,n,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),r}getControl(n){return this.form.get(n.path)}removeControl(n){Sm(n.control||null,n,!1),function Hpe(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,r){this.form.get(n.path).setValue(r)}onSubmit(n){return this.submitted=!0,uG(this.form,this.directives),this.ngSubmit.emit(n),"dialog"===n?.target?.method}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submitted=!1}_updateDomValue(){this.directives.forEach(n=>{const r=n.control,i=this.form.get(n.path);r!==i&&(Sm(r||null,n),(t=>t instanceof Qt)(i)&&(Vd(i,n,this.callSetDisabledState),n.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){const r=this.form.get(n.path);aG(r,n),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){const r=this.form.get(n.path);r&&function Bpe(t,e){return Mm(t,e)}(r,n)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){nA(this.form,this),this._oldForm&&Mm(this._oldForm,this)}_checkFormPresent(){}}return t.\u0275fac=function(n){return new(n||t)(T(cn,10),T(ks,10),T(Ho,8))},t.\u0275dir=Q({type:t,selectors:[["","formGroup",""]],hostBindings:function(n,r){1&n&&Rn("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Be([Zpe]),Ie,er]}),t})();const nge={provide:Ps,useExisting:xe(()=>lA)};let lA=(()=>{class t extends Ps{set isDisabled(n){}constructor(n,r,i,s,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.name=null,this.update=new Je,this._ngModelWarningSent=!1,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function sA(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===vm?n=s:function jpe(t){return Object.getPrototypeOf(t.constructor)===jo}(s)?r=s:i=s}),i||r||n||null}(0,s)}ngOnChanges(n){this._added||this._setUpControl(),function iA(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return function Tm(t,e){return[...e.path,t]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return t._ngModelWarningSentOnce=!1,t.\u0275fac=function(n){return new(n||t)(T(wn,13),T(cn,10),T(ks,10),T(si,10),T(aA,8))},t.\u0275dir=Q({type:t,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[Be([nge]),Ie,er]}),t})();const rge={provide:si,useExisting:xe(()=>dA),multi:!0};function IG(t,e){return null==t?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let dA=(()=>{class t extends jo{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;const i=IG(this._getOptionId(n),n);this.setProperty("value",i)}registerOnChange(n){this.onChange=r=>{this.value=this._getOptionValue(r),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),n))return r;return null}_getOptionValue(n){const r=function ige(t){return t.split(":")[0]}(n);return this._optionMap.has(r)?this._optionMap.get(r):n}}return t.\u0275fac=function(){let e;return function(r){return(e||(e=Bt(t)))(r||t)}}(),t.\u0275dir=Q({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(n,r){1&n&&Rn("change",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[Be([rge]),Ie]}),t})(),EG=(()=>{class t{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(n){null!=this._select&&(this._select._optionMap.set(this.id,n),this._setElementValue(IG(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._setElementValue(n),this._select&&this._select.writeValue(this._select.value)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(n){return new(n||t)(T(zn),T(yi),T(dA,9))},t.\u0275dir=Q({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})();const sge={provide:si,useExisting:xe(()=>hA),multi:!0};function DG(t,e){return null==t?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let hA=(()=>{class t extends jo{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){let r;if(this.value=n,Array.isArray(n)){const i=n.map(s=>this._getOptionId(s));r=(s,o)=>{s._setSelected(i.indexOf(o.toString())>-1)}}else r=(i,s)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(n){this.onChange=r=>{const i=[],s=r.selectedOptions;if(void 0!==s){const o=s;for(let a=0;a<o.length;a++){const c=this._getOptionValue(o[a].value);i.push(c)}}else{const o=r.options;for(let a=0;a<o.length;a++){const u=o[a];if(u.selected){const c=this._getOptionValue(u.value);i.push(c)}}}this.value=i,n(i)}}_registerOption(n){const r=(this._idCounter++).toString();return this._optionMap.set(r,n),r}_getOptionId(n){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,n))return r;return null}_getOptionValue(n){const r=function oge(t){return t.split(":")[0]}(n);return this._optionMap.has(r)?this._optionMap.get(r)._value:n}}return t.\u0275fac=function(){let e;return function(r){return(e||(e=Bt(t)))(r||t)}}(),t.\u0275dir=Q({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(n,r){1&n&&Rn("change",function(s){return r.onChange(s.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[Be([sge]),Ie]}),t})(),CG=(()=>{class t{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){null!=this._select&&(this._value=n,this._setElementValue(DG(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(DG(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(n){return new(n||t)(T(zn),T(yi),T(hA,9))},t.\u0275dir=Q({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})(),PG=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Yt({type:t}),t.\u0275inj=Lt({imports:[mG]}),t})();class OG extends bm{constructor(e,n,r){super(eA(n),tA(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,r={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,n={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),n&&(this.controls.splice(i,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){iG(this,0,e),e.forEach((r,i)=>{rG(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((n,r)=>!!r._syncPendingControls()||n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,r)=>{e(n,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function FG(t){return!!t&&(void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn)}let LG=(()=>{class t{constructor(){this.useNonNullable=!1}get nonNullable(){const n=new t;return n.useNonNullable=!0,n}group(n,r=null){const i=this._reduceControls(n);let s={};return FG(r)?s=r:null!==r&&(s.validators=r.validator,s.asyncValidators=r.asyncValidator),new Fd(i,s)}record(n,r=null){const i=this._reduceControls(n);return new sG(i,r)}control(n,r,i){let s={};return this.useNonNullable?(FG(r)?s=r:(s.validators=r,s.asyncValidators=i),new Qt(n,{...s,nonNullable:!0})):new Qt(n,r,i)}array(n,r,i){const s=n.map(o=>this._createControl(o));return new OG(s,r,i)}_reduceControls(n){const r={};return Object.keys(n).forEach(i=>{r[i]=this._createControl(n[i])}),r}_createControl(n){return n instanceof Qt||n instanceof bm?n:Array.isArray(n)?this.control(n[0],n.length>1?n[1]:null,n.length>2?n[2]:null):this.control(n)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),gge=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:Ho,useValue:n.callSetDisabledState??Ld}]}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Yt({type:t}),t.\u0275inj=Lt({imports:[PG]}),t})(),mge=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:aA,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:Ho,useValue:n.callSetDisabledState??Ld}]}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Yt({type:t}),t.\u0275inj=Lt({imports:[PG]}),t})();const yge=[{nombre:"INGRESO",ruta:"ingreso-datos"},{nombre:"TABLA CHANCES",ruta:"tabla-chances"},{nombre:"TABLA LOTERIAS",ruta:"tabla-loterias"}];let _ge=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=Ko({type:t,selectors:[["app-header"]],decls:6,vars:0,consts:[[1,"header","w-100"],[1,"row"],[1,"col-md-1"],[1,"max","max-stats-bars2","fs-35","color-oro"],[1,"col-md-10"]],template:function(n,r){1&n&&(Se(0,"div",0)(1,"div",1)(2,"div",2),Me(3,"span",3),Ae(),Me(4,"div",4)(5,"div",2),Ae()())},styles:[".header[_ngcontent-%COMP%]{background-color:#0006;position:fixed;padding:20px 60px}"]}),t})();function vge(t,e){1&t&&Me(0,"app-header")}function wge(t,e){1&t&&(Se(0,"div",15)(1,"small"),es(2,"Ingrese correo"),Ae()())}function Ige(t,e){1&t&&(Se(0,"div",15)(1,"small"),es(2,"Ingrese la clave"),Ae()())}function Ege(t,e){1&t&&(Se(0,"div",16)(1,"small"),es(2,"Clave o usuario incorrecto"),Ae()())}function Dge(t,e){if(1&t){const n=function _N(){return D()}();Se(0,"div",4),Me(1,"div",5),Se(2,"div",5),Me(3,"div",6),Se(4,"div",7)(5,"form",8),Rn("submit",function(){return function AM(t){return W.lFrame.contextLView=t,t[Ye]}(n),function MM(t){return W.lFrame.contextLView=null,t}(Ac().enviar())}),Se(6,"div",9),Me(7,"input",10),Ur(8,wge,3,0,"div",11),Ae(),Se(9,"div",9),Me(10,"input",12),Ur(11,Ige,3,0,"div",11),Ae(),Se(12,"button",13),es(13,"Ingresar"),Ae(),Ur(14,Ege,3,0,"div",14),Ae()(),Me(15,"div",6)(16,"div",6)(17,"div",6),Ae(),Me(18,"div",5),Ae()}if(2&t){const n=Ac();let r,i;hn(5),rr("formGroup",n.formIngreso),hn(3),rr("ngIf",!(null!=(r=n.formIngreso.get("email"))&&r.valid)),hn(3),rr("ngIf",!(null!=(i=n.formIngreso.get("password"))&&i.valid)),hn(3),rr("ngIf",!n.errorClave)}}function Cge(t,e){if(1&t&&(Se(0,"div",22)(1,"a",23)(2,"p",24),es(3),Ae()()()),2&t){const n=e.$implicit;hn(1),U_("href",n.ruta,Oh),hn(2),uf(" ",n.nombre," ")}}function bge(t,e){if(1&t&&(Se(0,"div",17),Me(1,"div",6),Se(2,"div",4),Me(3,"div",18),Se(4,"div",19)(5,"div",20),Ur(6,Cge,4,2,"div",21),Ae(),Me(7,"div",6)(8,"div",6)(9,"div",6),Ae(),Me(10,"div",18),Ae()()),2&t){const n=Ac();hn(6),rr("ngForOf",n.menu)}}let Tge=(()=>{class t{constructor(n,r){this.firestore=n,this.fb=r,this.menu=yge,this.formIngreso=this.crearFormulario(),this.formGrupos=this.crearFormularioGrupos();const i=Epe(this.firestore,"todos-los-grupos");this.item$=Ipe(i),this.mostrarLogin=!0,this.errorClave=!0}ngOnInit(){this.item$.subscribe({next:r=>{console.log(r,"HABER PUES")}}),Math.floor(9e9*Math.random())}crearFormulario(){return this.fb.group({email:["",[WS.required]],password:["",[WS.required]]})}crearFormularioGrupos(){return this.fb.group({grupos:["",[WS.required]]})}enviar(){"alexuriel.777@gmail.com"===this.formIngreso.value.email&&"Desarrollo2023$"===this.formIngreso.value.password?(this.mostrarLogin=!1,this.errorClave=!0):this.errorClave=!1}enviarGrupos(){}}return t.\u0275fac=function(n){return new(n||t)(T(_m),T(LG))},t.\u0275cmp=Ko({type:t,selectors:[["app-home"]],decls:4,vars:3,consts:[[1,"bg-dark"],[4,"ngIf"],["class","row",4,"ngIf"],["class","p-5 bg-dark",4,"ngIf"],[1,"row"],[1,"col-md-4"],[1,"espaciado"],[1,"card","p-5","bg-dark","shadow"],[1,"f-merriweather","fs-15","lh-15",3,"formGroup","submit"],[1,"form-group"],["type","email","id","exampleInputEmail1","aria-describedby","emailHelp","formControlName","email","placeholder","Email",1,"form-control"],["class","text-danger font-italic","role","alert",4,"ngIf"],["type","password","id","exampleInputPassword1","formControlName","password","placeholder","Password",1,"form-control"],["type","submit",1,"btn","btn-primary","fondo-oro","borde-oro","w-100","shadow"],["class","color-oro font-italic","role","alert",4,"ngIf"],["role","alert",1,"text-danger","font-italic"],["role","alert",1,"color-oro","font-italic"],[1,"p-5","bg-dark"],[1,"col-md-1"],[1,"col-md-10"],[1,"row","f-shadow-into-l"],["class","col l-menu bg-dark",4,"ngFor","ngForOf"],[1,"col","l-menu","bg-dark"],[3,"href"],[1,"color-oro"]],template:function(n,r){1&n&&(Se(0,"div",0),Ur(1,vge,1,0,"app-header",1),Ur(2,Dge,19,4,"div",2),Ur(3,bge,11,1,"div",3),Ae()),2&n&&(hn(1),rr("ngIf",!r.mostrarLogin),hn(1),rr("ngIf",r.mostrarLogin),hn(1),rr("ngIf",!r.mostrarLogin))},dependencies:[qv,Wv,_ge,oA,vm,tG,XS,Rm,lA]}),t})();const Sge=[{referencia:"Astro Sol",grupos:[{campo:"fecha",tipo:"text",ancho:"80",maxlength:"20",minlength:"",clase:""},{campo:"sorteo",tipo:"text",ancho:"",maxlength:"",minlength:"",clase:""},{campo:"uno",tipo:"text",ancho:"",maxlength:"",minlength:"",clase:""},{campo:"dos",tipo:"text",ancho:"",maxlength:"",minlength:"",clase:""},{campo:"tres",tipo:"text",ancho:"",maxlength:"",minlength:"",clase:""},{campo:"cuatro",tipo:"text",ancho:"",maxlength:"",minlength:"",clase:""},{campo:"signo",tipo:"text",ancho:"",maxlength:"",minlength:"",clase:""}]},{referencia:"Astro Luna",grupos:[{campo:"fecha",tipo:"text",ancho:"80",maxlength:"20",minlength:"",clase:""},{campo:"sorteo",tipo:"text",ancho:"",maxlength:"",minlength:"",clase:""},{campo:"uno",tipo:"text",ancho:"",maxlength:"",minlength:"",clase:""},{campo:"dos",tipo:"text",ancho:"",maxlength:"",minlength:"",clase:""},{campo:"tres",tipo:"text",ancho:"",maxlength:"",minlength:"",clase:""},{campo:"cuatro",tipo:"text",ancho:"",maxlength:"",minlength:"",clase:""},{campo:"signo",tipo:"text",ancho:"",maxlength:"",minlength:"",clase:""}]}];function Age(t,e){if(1&t&&(Se(0,"option",16),es(1),Ae()),2&t){const n=e.$implicit;hn(1),G_(n.referencia)}}function Mge(t,e){if(1&t&&(Se(0,"div",17),Me(1,"img",18),Ae()),2&t){const n=Ac();hn(1),nf("src","assets/img/logos",n.logo,"",Oh)}}const xge=[{path:"",pathMatch:"full",redirectTo:"home"},{path:"home",component:Tge},{path:"ingreso-datos",component:(()=>{class t{constructor(n){this.fb=n,this.chances=Sge,this.form=this.crearFormulario(),this.logo=""}grupoSeleccionado(n){console.log(n.target.value)}crearFormulario(){return this.fb.group({campo1:new Qt({value:"",disabled:!0}),campo2:new Qt({value:"",disabled:!0}),campo3:new Qt({value:"",disabled:!0}),campo4:new Qt({value:"",disabled:!0}),campo5:new Qt({value:"",disabled:!0}),campo6:new Qt({value:"",disabled:!0}),campo7:new Qt({value:"",disabled:!0}),campo8:new Qt({value:"",disabled:!0}),campo9:new Qt({value:"",disabled:!0}),campo10:new Qt({value:"",disabled:!0}),campo11:new Qt({value:"",disabled:!0}),campo12:new Qt({value:"",disabled:!0})})}}return t.\u0275fac=function(n){return new(n||t)(T(LG))},t.\u0275cmp=Ko({type:t,selectors:[["app-ingreso-datos"]],decls:26,vars:2,consts:[[1,"bg-dark"],[1,"espacio"],[1,"espaciado"],[1,"row"],[1,"col-md-1"],[1,"col-md-10"],[1,"col-md-4"],[1,"col-md-4","shadow","p-5","f-merriweather"],["name","","id","",1,"w-100",3,"change"],["value","default"],["value","chance.referencia",4,"ngFor","ngForOf"],["class","text-center",4,"ngIf"],["action",""],[1,"col"],["name","","id",""],["value",""],["value","chance.referencia"],[1,"text-center"],["alt","","height","60","width","auto",3,"src"]],template:function(n,r){1&n&&(Se(0,"div",0),Me(1,"div",1)(2,"div",2),Se(3,"div",3),Me(4,"div",4),Se(5,"div",5)(6,"div",3),Me(7,"div",6),Se(8,"div",7)(9,"select",8),Rn("change",function(s){return r.grupoSeleccionado(s)}),Se(10,"option",9),es(11,"---"),Ae(),Ur(12,Age,2,1,"option",10),Ae()(),Me(13,"div",6),Ae(),Me(14,"div",1),Ur(15,Mge,2,1,"div",11),Se(16,"form",12)(17,"div",3)(18,"div",13),Me(19,"input"),Se(20,"select",14),Me(21,"option",15),Ae()()()()(),Me(22,"div",4),Ae(),Me(23,"div",2)(24,"div",2)(25,"div",2),Ae()),2&n&&(hn(12),rr("ngForOf",r.chances),hn(3),rr("ngIf",r.logo))},dependencies:[qv,Wv,oA,EG,CG,XS,xm]}),t})()}],Rge_firebase={projectId:"estadistica-e5eeb",appId:"1:64729521444:web:14775deeb53cf35772e7b1",databaseURL:"https://estadistica-e5eeb.firebaseio.com",storageBucket:"estadistica-e5eeb.appspot.com",locationId:"southamerica-east1",apiKey:"AIzaSyCSZ_jjFVuKWQV-MN1y11Jns6LKLX6vtA4",authDomain:"estadistica-e5eeb.firebaseapp.com",messagingSenderId:"64729521444"};let Nge=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Yt({type:t}),t.\u0275inj=Lt({imports:[OP]}),t})(),kge=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Yt({type:t,bootstrap:[cZ]}),t.\u0275inj=Lt({imports:[CY,Ow.forRoot(xge),uZ,Nge,rie(()=>iie(Rge_firebase)),wpe(()=>Dpe()),Vae(()=>Uae()),mce(()=>yce()),gge,mge]}),t})();EY().bootstrapModule(kge).catch(t=>console.error(t))}},Te=>{Te(Te.s=613)}]);