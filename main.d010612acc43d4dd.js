"use strict";(self.webpackChunkestadisticas=self.webpackChunkestadisticas||[]).push([[179],{696:()=>{function xe(t){return"function"==typeof t}function Ku(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const Wd=Ku(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function Yo(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class Gn{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const s of n)s.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(xe(r))try{r()}catch(s){e=s instanceof Wd?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{EA(s)}catch(o){e=e??[],o instanceof Wd?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Wd(e)}}add(e){var n;if(e&&e!==this)if(this.closed)EA(e);else{if(e instanceof Gn){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Yo(n,e)}remove(e){const{_finalizers:n}=this;n&&Yo(n,e),e instanceof Gn&&e._removeParent(this)}}Gn.EMPTY=(()=>{const t=new Gn;return t.closed=!0,t})();const wA=Gn.EMPTY;function IA(t){return t instanceof Gn||t&&"closed"in t&&xe(t.remove)&&xe(t.add)&&xe(t.unsubscribe)}function EA(t){xe(t)?t():t.unsubscribe()}const Us={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Kd={setTimeout(t,e,...n){const{delegate:r}=Kd;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=Kd;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function DA(t){Kd.setTimeout(()=>{const{onUnhandledError:e}=Us;if(!e)throw t;e(t)})}function bA(){}const G4=Vm("C",void 0,void 0);function Vm(t,e,n){return{kind:t,value:e,error:n}}let Bs=null;function Qd(t){if(Us.useDeprecatedSynchronousErrorHandling){const e=!Bs;if(e&&(Bs={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=Bs;if(Bs=null,n)throw r}}else t()}class Um extends Gn{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,IA(e)&&e.add(this)):this.destination=X4}static create(e,n,r){return new Qu(e,n,r)}next(e){this.isStopped?$m(function q4(t){return Vm("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?$m(function z4(t){return Vm("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?$m(G4,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const K4=Function.prototype.bind;function Bm(t,e){return K4.call(t,e)}class Q4{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Yd(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Yd(r)}else Yd(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Yd(n)}}}class Qu extends Um{constructor(e,n,r){let i;if(super(),xe(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&Us.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Bm(e.next,s),error:e.error&&Bm(e.error,s),complete:e.complete&&Bm(e.complete,s)}):i=e}this.destination=new Q4(i)}}function Yd(t){Us.useDeprecatedSynchronousErrorHandling?function W4(t){Us.useDeprecatedSynchronousErrorHandling&&Bs&&(Bs.errorThrown=!0,Bs.error=t)}(t):DA(t)}function $m(t,e){const{onStoppedNotification:n}=Us;n&&Kd.setTimeout(()=>n(t,e))}const X4={closed:!0,next:bA,error:function Y4(t){throw t},complete:bA},jm="function"==typeof Symbol&&Symbol.observable||"@@observable";function $s(t){return t}function CA(t){return 0===t.length?$s:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}let Fe=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const s=function eG(t){return t&&t instanceof Um||function Z4(t){return t&&xe(t.next)&&xe(t.error)&&xe(t.complete)}(t)&&IA(t)}(n)?n:new Qu(n,r,i);return Qd(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=TA(r))((i,s)=>{const o=new Qu({next:a=>{try{n(a)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[jm](){return this}pipe(...n){return CA(n)(this)}toPromise(n){return new(n=TA(n))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function TA(t){var e;return null!==(e=t??Us.Promise)&&void 0!==e?e:Promise}const tG=Ku(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let di=(()=>{class t extends Fe{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new SA(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new tG}next(n){Qd(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){Qd(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Qd(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:s}=this;return r||i?wA:(this.currentObservers=null,s.push(n),new Gn(()=>{this.currentObservers=null,Yo(s,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){const n=new Fe;return n.source=this,n}}return t.create=(e,n)=>new SA(e,n),t})();class SA extends di{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:wA}}function AA(t){return xe(t?.lift)}function Ut(t){return e=>{if(AA(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function At(t,e,n,r,i){return new nG(t,e,n,r,i)}class nG extends Um{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function De(t,e){return Ut((n,r)=>{let i=0;n.subscribe(At(r,s=>{r.next(t.call(e,s,i++))}))})}function zm(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function Yi(t){return this instanceof Yi?(this.v=t,this):new Yi(t)}function NA(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function Wm(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,u){!function i(s,o,a,u){Promise.resolve(u).then(function(c){s({value:c,done:a})},o)}(a,u,(o=t[s](o)).done,o.value)})}}}const kA=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function PA(t){return xe(t?.then)}function OA(t){return xe(t[jm])}function FA(t){return Symbol.asyncIterator&&xe(t?.[Symbol.asyncIterator])}function LA(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const VA=function wG(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function UA(t){return xe(t?.[VA])}function BA(t){return function RA(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(p,m){s.push([h,f,p,m])>1||a(h,f)})})}function a(h,f){try{!function u(h){h.value instanceof Yi?Promise.resolve(h.value.v).then(c,l):d(s[0][2],h)}(r[h](f))}catch(p){d(s[0][3],p)}}function c(h){a("next",h)}function l(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield Yi(n.read());if(i)return yield Yi(void 0);yield yield Yi(r)}}finally{n.releaseLock()}})}function $A(t){return xe(t?.getReader)}function ir(t){if(t instanceof Fe)return t;if(null!=t){if(OA(t))return function IG(t){return new Fe(e=>{const n=t[jm]();if(xe(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(kA(t))return function EG(t){return new Fe(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(PA(t))return function DG(t){return new Fe(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,DA)})}(t);if(FA(t))return jA(t);if(UA(t))return function bG(t){return new Fe(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if($A(t))return function CG(t){return jA(BA(t))}(t)}throw LA(t)}function jA(t){return new Fe(e=>{(function TG(t,e){var n,r,i,s;return function MA(t,e,n,r){return new(n||(n=Promise))(function(s,o){function a(l){try{c(r.next(l))}catch(d){o(d)}}function u(l){try{c(r.throw(l))}catch(d){o(d)}}function c(l){l.done?s(l.value):function i(s){return s instanceof n?s:new n(function(o){o(s)})}(l.value).then(a,u)}c((r=r.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=NA(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function hi(t,e,n,r=0,i=!1){const s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function Bt(t,e,n=1/0){return xe(e)?Bt((r,i)=>De((s,o)=>e(r,s,i,o))(ir(t(r,i))),n):("number"==typeof e&&(n=e),Ut((r,i)=>function SG(t,e,n,r,i,s,o,a){const u=[];let c=0,l=0,d=!1;const h=()=>{d&&!u.length&&!c&&e.complete()},f=m=>c<r?p(m):u.push(m),p=m=>{s&&e.next(m),c++;let y=!1;ir(n(m,l++)).subscribe(At(e,v=>{i?.(v),s?f(v):e.next(v)},()=>{y=!0},void 0,()=>{if(y)try{for(c--;u.length&&c<r;){const v=u.shift();o?hi(e,o,()=>p(v)):p(v)}h()}catch(v){e.error(v)}}))};return t.subscribe(At(e,f,()=>{d=!0,h()})),()=>{a?.()}}(r,i,t,n)))}function Xo(t=1/0){return Bt($s,t)}const kr=new Fe(t=>t.complete());function Km(t){return t[t.length-1]}function HA(t){return xe(Km(t))?t.pop():void 0}function Yu(t){return function MG(t){return t&&xe(t.schedule)}(Km(t))?t.pop():void 0}function Xd(t,e=0){return Ut((n,r)=>{n.subscribe(At(r,i=>hi(r,t,()=>r.next(i),e),()=>hi(r,t,()=>r.complete(),e),i=>hi(r,t,()=>r.error(i),e)))})}function Jd(t,e=0){return Ut((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function GA(t,e){if(!t)throw new Error("Iterable cannot be null");return new Fe(n=>{hi(n,e,()=>{const r=t[Symbol.asyncIterator]();hi(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function Mt(t,e){return e?function FG(t,e){if(null!=t){if(OA(t))return function RG(t,e){return ir(t).pipe(Jd(e),Xd(e))}(t,e);if(kA(t))return function kG(t,e){return new Fe(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(PA(t))return function NG(t,e){return ir(t).pipe(Jd(e),Xd(e))}(t,e);if(FA(t))return GA(t,e);if(UA(t))return function PG(t,e){return new Fe(n=>{let r;return hi(n,e,()=>{r=t[VA](),hi(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void n.error(o)}s?n.complete():n.next(i)},0,!0)}),()=>xe(r?.return)&&r.return()})}(t,e);if($A(t))return function OG(t,e){return GA(BA(t),e)}(t,e)}throw LA(t)}(t,e):ir(t)}function Qm(t,e,...n){if(!0===e)return void t();if(!1===e)return;const r=new Qu({next:()=>{r.unsubscribe(),t()}});return ir(e(...n)).subscribe(r)}function be(t){for(let e in t)if(t[e]===be)return e;throw Error("Could not find renamed property on target object.")}function Ym(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function vt(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(vt).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function Xm(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const UG=be({__forward_ref__:be});function Ne(t){return t.__forward_ref__=Ne,t.toString=function(){return vt(this())},t}function X(t){return Jm(t)?t():t}function Jm(t){return"function"==typeof t&&t.hasOwnProperty(UG)&&t.__forward_ref__===Ne}function Zm(t){return t&&!!t.\u0275providers}const zA="https://g.co/ng/security#xss";class C extends Error{constructor(e,n){super(function Zd(t,e){return`NG0${Math.abs(t)}${e?": "+e:""}`}(e,n)),this.code=e}}function Z(t){return"string"==typeof t?t:null==t?"":String(t)}function eh(t,e){throw new C(-201,!1)}function sr(t,e){null==t&&function Ie(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function j(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function $t(t){return{providers:t.providers||[],imports:t.imports||[]}}function th(t){return qA(t,nh)||qA(t,KA)}function qA(t,e){return t.hasOwnProperty(e)?t[e]:null}function WA(t){return t&&(t.hasOwnProperty(ey)||t.hasOwnProperty(WG))?t[ey]:null}const nh=be({\u0275prov:be}),ey=be({\u0275inj:be}),KA=be({ngInjectableDef:be}),WG=be({ngInjectorDef:be});var H=(()=>((H=H||{})[H.Default=0]="Default",H[H.Host=1]="Host",H[H.Self=2]="Self",H[H.SkipSelf=4]="SkipSelf",H[H.Optional=8]="Optional",H))();let ty;function An(t){const e=ty;return ty=t,e}function YA(t,e,n){const r=th(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&H.Optional?null:void 0!==e?e:void eh(vt(t))}const ke=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Xu={},ny="__NG_DI_FLAG__",rh="ngTempTokenPath",QG=/\n/gm,XA="__source";let Jo;function Ji(t){const e=Jo;return Jo=t,e}function JG(t,e=H.Default){if(void 0===Jo)throw new C(-203,!1);return null===Jo?YA(t,void 0,e):Jo.get(t,e&H.Optional?null:void 0,e)}function $(t,e=H.Default){return(function QA(){return ty}()||JG)(X(t),e)}function V(t,e=H.Default){return $(t,ih(e))}function ih(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function ry(t){const e=[];for(let n=0;n<t.length;n++){const r=X(t[n]);if(Array.isArray(r)){if(0===r.length)throw new C(900,!1);let i,s=H.Default;for(let o=0;o<r.length;o++){const a=r[o],u=ZG(a);"number"==typeof u?-1===u?i=a.token:s|=u:i=a}e.push($(i,s))}else e.push($(r))}return e}function Ju(t,e){return t[ny]=e,t.prototype[ny]=e,t}function ZG(t){return t[ny]}function fi(t){return{toString:t}.toString()}var Pr=(()=>((Pr=Pr||{})[Pr.OnPush=0]="OnPush",Pr[Pr.Default=1]="Default",Pr))(),qn=(()=>{return(t=qn||(qn={}))[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",qn;var t})();const pi={},ye=[],sh=be({\u0275cmp:be}),iy=be({\u0275dir:be}),sy=be({\u0275pipe:be}),ZA=be({\u0275mod:be}),gi=be({\u0275fac:be}),Zu=be({__NG_ELEMENT_ID__:be}),eM=be({__NG_ENV_ID__:be});function tM(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function oy(t,e,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{const s=i,o=n[++r];rM(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function nM(t){return 3===t||4===t||6===t}function rM(t){return 64===t.charCodeAt(0)}function ec(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||iM(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function iM(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const a=t[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<t.length;){const a=t[s];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}const sM="ng-template";function nz(t,e,n){let r=0,i=!0;for(;r<t.length;){let s=t[r++];if("string"==typeof s&&i){const o=t[r++];if(n&&"class"===s&&-1!==tM(o.toLowerCase(),e,0))return!0}else{if(1===s){for(;r<t.length&&"string"==typeof(s=t[r++]);)if(s.toLowerCase()===e)return!0;return!1}"number"==typeof s&&(i=!1)}}return!1}function oM(t){return 4===t.type&&t.value!==sM}function rz(t,e,n){return e===(4!==t.type||n?t.value:sM)}function iz(t,e,n){let r=4;const i=t.attrs||[],s=function az(t){for(let e=0;e<t.length;e++)if(nM(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!rz(t,u,n)||""===u&&1===e.length){if(gr(r))return!1;o=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!nz(t.attrs,c,n)){if(gr(r))return!1;o=!0}continue}const d=sz(8&r?"class":u,i,oM(t),n);if(-1===d){if(gr(r))return!1;o=!0;continue}if(""!==c){let h;h=d>s?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==tM(f,c,0)||2&r&&c!==h){if(gr(r))return!1;o=!0}}}}else{if(!o&&!gr(r)&&!gr(u))return!1;if(o&&gr(u))continue;o=!1,r=u|1&r}}return gr(r)||o}function gr(t){return 0==(1&t)}function sz(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){const o=e[i];if(o===t)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function uz(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function aM(t,e,n=!1){for(let r=0;r<e.length;r++)if(iz(t,e[r],n))return!0;return!1}function uM(t,e){return t?":not("+e.trim()+")":e}function lz(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!gr(o)&&(e+=uM(s,i),i=""),r=o,s=s||!gr(r);n++}return""!==i&&(e+=uM(s,i)),e}function Zo(t){return fi(()=>{const e=lM(t),n={...e,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Pr.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,data:t.data||{},encapsulation:t.encapsulation||qn.Emulated,styles:t.styles||ye,_:null,schemas:t.schemas||null,tView:null,id:""};dM(n);const r=t.dependencies;return n.directiveDefs=oh(r,!1),n.pipeDefs=oh(r,!0),n.id=function _z(t){let e=0;const n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(n),n})}function pz(t){return _e(t)||nn(t)}function gz(t){return null!==t}function tn(t){return fi(()=>({type:t.type,bootstrap:t.bootstrap||ye,declarations:t.declarations||ye,imports:t.imports||ye,exports:t.exports||ye,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function cM(t,e){if(null==t)return pi;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}function Q(t){return fi(()=>{const e=lM(t);return dM(e),e})}function _e(t){return t[sh]||null}function nn(t){return t[iy]||null}function xn(t){return t[sy]||null}function Wn(t,e){const n=t[ZA]||null;if(!n&&!0===e)throw new Error(`Type ${vt(t)} does not have '\u0275mod' property.`);return n}function lM(t){const e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,exportAs:t.exportAs||null,standalone:!0===t.standalone,selectors:t.selectors||ye,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:cM(t.inputs,e),outputs:cM(t.outputs)}}function dM(t){t.features?.forEach(e=>e(t))}function oh(t,e){if(!t)return null;const n=e?xn:pz;return()=>("function"==typeof t?t():t).map(r=>n(r)).filter(gz)}const wt=0,k=1,ie=2,qe=3,mr=4,js=5,rn=6,ta=7,Je=8,na=9,Hs=10,ne=11,tc=12,hM=13,ra=14,ht=15,nc=16,ia=17,Or=18,rc=19,fM=20,Zi=21,mi=22,ah=23,uh=24,de=25,ay=1,pM=2,Fr=7,ch=8,sa=9,jt=11;function Kn(t){return Array.isArray(t)&&"object"==typeof t[ay]}function Rn(t){return Array.isArray(t)&&!0===t[ay]}function uy(t){return 0!=(4&t.flags)}function Gs(t){return t.componentOffset>-1}function lh(t){return 1==(1&t.flags)}function yr(t){return!!t.template}function cy(t){return 0!=(512&t[ie])}function zs(t,e){return t.hasOwnProperty(gi)?t[gi]:null}let Dz=ke.WeakRef??class Ez{constructor(e){this.ref=e}deref(){return this.ref}},Cz=0,Lr=null,dh=!1;function xt(t){const e=Lr;return Lr=t,e}class vM{constructor(){this.id=Cz++,this.ref=function bz(t){return new Dz(t)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[e,n]of this.producers){const r=n.producerNode.deref();if(void 0!==r&&n.atTrackingVersion===this.trackingVersion){if(r.producerPollStatus(n.seenValueVersion))return!0}else this.producers.delete(e),r?.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const e=dh;dh=!0;try{for(const[n,r]of this.consumers){const i=r.consumerNode.deref();void 0!==i&&i.trackingVersion===r.atTrackingVersion?i.onConsumerDependencyMayHaveChanged():(this.consumers.delete(n),i?.producers.delete(this.id))}}finally{dh=e}}producerAccessed(){if(dh)throw new Error("");if(null===Lr)return;let e=Lr.producers.get(this.id);void 0===e?(e={consumerNode:Lr.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:Lr.trackingVersion},Lr.producers.set(this.id,e),this.consumers.set(Lr.id,e)):(e.seenValueVersion=this.valueVersion,e.atTrackingVersion=Lr.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){return!1!==Lr?.consumerAllowSignalWrites}producerPollStatus(e){return this.valueVersion!==e||(this.onProducerUpdateValueVersion(),this.valueVersion!==e)}}let wM=null;const IM=()=>{};class Mz extends vM{constructor(e,n,r){super(),this.watch=e,this.schedule=n,this.dirty=!1,this.cleanupFn=IM,this.registerOnCleanup=i=>{this.cleanupFn=i},this.consumerAllowSignalWrites=r}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const e=xt(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=IM,this.watch(this.registerOnCleanup)}finally{xt(e)}}cleanup(){this.cleanupFn()}}class xz{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function or(){return EM}function EM(t){return t.type.prototype.ngOnChanges&&(t.setInput=Nz),Rz}function Rz(){const t=bM(this),e=t?.current;if(e){const n=t.previous;if(n===pi)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function Nz(t,e,n,r){const i=this.declaredInputs[n],s=bM(t)||function kz(t,e){return t[DM]=e}(t,{previous:pi,current:null}),o=s.current||(s.current={}),a=s.previous,u=a[i];o[i]=new xz(u&&u.currentValue,e,a===pi),t[r]=e}or.ngInherit=!0;const DM="__ngSimpleChanges__";function bM(t){return t[DM]||null}const Vr=function(t,e,n){};function Le(t){for(;Array.isArray(t);)t=t[wt];return t}function ph(t,e){return Le(e[t])}function Nn(t,e){return Le(e[t.index])}function SM(t,e){return t.data[e]}function kn(t,e){const n=e[t];return Kn(n)?n:n[wt]}function gh(t){return 128==(128&t[ie])}function es(t,e){return null==e?null:t[e]}function AM(t){t[ia]=0}function Uz(t){1024&t[ie]||(t[ie]|=1024,xM(t,1))}function MM(t){1024&t[ie]&&(t[ie]&=-1025,xM(t,-1))}function xM(t,e){let n=t[qe];if(null===n)return;n[js]+=e;let r=n;for(n=n[qe];null!==n&&(1===e&&1===r[js]||-1===e&&0===r[js]);)n[js]+=e,r=n,n=n[qe]}const W={lFrame:HM(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function kM(){return W.bindingsEnabled}function D(){return W.lFrame.lView}function pe(){return W.lFrame.tView}function Ht(){let t=FM();for(;null!==t&&64===t.type;)t=t.parent;return t}function FM(){return W.lFrame.currentTNode}function Ur(t,e){const n=W.lFrame;n.currentTNode=t,n.isParent=e}function gy(){return W.lFrame.isParent}function ua(){return W.lFrame.bindingIndex++}function _i(t){const e=W.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function Xz(t,e){const n=W.lFrame;n.bindingIndex=n.bindingRootIndex=t,yy(e)}function yy(t){W.lFrame.currentDirectiveIndex=t}function vy(t){W.lFrame.currentQueryIndex=t}function Zz(t){const e=t[k];return 2===e.type?e.declTNode:1===e.type?t[rn]:null}function $M(t,e,n){if(n&H.SkipSelf){let i=e,s=t;for(;!(i=i.parent,null!==i||n&H.Host||(i=Zz(s),null===i||(s=s[ra],10&i.type))););if(null===i)return!1;e=i,t=s}const r=W.lFrame=jM();return r.currentTNode=e,r.lView=t,!0}function wy(t){const e=jM(),n=t[k];W.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function jM(){const t=W.lFrame,e=null===t?null:t.child;return null===e?HM(t):e}function HM(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function GM(){const t=W.lFrame;return W.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const zM=GM;function Iy(){const t=GM();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function mn(){return W.lFrame.selectedIndex}function qs(t){W.lFrame.selectedIndex=t}function We(){const t=W.lFrame;return SM(t.tView,t.selectedIndex)}let WM=!0;function mh(){return WM}function ts(t){WM=t}function yh(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:c,ngOnDestroy:l}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),c&&((t.viewHooks??=[]).push(n,c),(t.viewCheckHooks??=[]).push(n,c)),null!=l&&(t.destroyHooks??=[]).push(n,l)}}function _h(t,e,n){KM(t,e,3,n)}function vh(t,e,n,r){(3&t[ie])===n&&KM(t,e,n,r)}function Ey(t,e){let n=t[ie];(3&n)===e&&(n&=4095,n+=1,t[ie]=n)}function KM(t,e,n,r){const s=r??-1,o=e.length-1;let a=0;for(let u=void 0!==r?65535&t[ia]:0;u<o;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(t[ia]+=65536),(a<s||-1==s)&&(a3(t,n,e,u),t[ia]=(4294901760&t[ia])+u+2),u++}function QM(t,e){Vr(4,t,e);const n=xt(null);try{e.call(t)}finally{xt(n),Vr(5,t,e)}}function a3(t,e,n,r){const i=n[r]<0,s=n[r+1],a=t[i?-n[r]:n[r]];i?t[ie]>>12<t[ia]>>16&&(3&t[ie])===e&&(t[ie]+=4096,QM(a,s)):QM(a,s)}const ca=-1;class oc{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function YM(t){return t!==ca}function wh(t){return 32767&t}function Ih(t,e){let n=function d3(t){return t>>16}(t),r=e;for(;n>0;)r=r[ra],n--;return r}let by=!0;function Eh(t){const e=by;return by=t,e}const XM=255,JM=5;let h3=0;const Br={};function Dh(t,e){const n=ZM(t,e);if(-1!==n)return n;const r=e[k];r.firstCreatePass&&(t.injectorIndex=e.length,Cy(r.data,t),Cy(e,null),Cy(r.blueprint,null));const i=Ty(t,e),s=t.injectorIndex;if(YM(i)){const o=wh(i),a=Ih(i,e),u=a[k].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|u[o+c]}return e[s+8]=i,s}function Cy(t,e){t.push(0,0,0,0,0,0,0,0,e)}function ZM(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Ty(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){if(r=ox(i),null===r)return ca;if(n++,i=i[ra],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return ca}function Sy(t,e,n){!function f3(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Zu)&&(r=n[Zu]),null==r&&(r=n[Zu]=h3++);const i=r&XM;e.data[t+(i>>JM)]|=1<<i}(t,e,n)}function ex(t,e,n){if(n&H.Optional||void 0!==t)return t;eh()}function tx(t,e,n,r){if(n&H.Optional&&void 0===r&&(r=null),!(n&(H.Self|H.Host))){const i=t[na],s=An(void 0);try{return i?i.get(e,r,n&H.Optional):YA(e,r,n&H.Optional)}finally{An(s)}}return ex(r,0,n)}function nx(t,e,n,r=H.Default,i){if(null!==t){if(2048&e[ie]&&!(r&H.Self)){const o=function _3(t,e,n,r,i){let s=t,o=e;for(;null!==s&&null!==o&&2048&o[ie]&&!(512&o[ie]);){const a=rx(s,o,n,r|H.Self,Br);if(a!==Br)return a;let u=s.parent;if(!u){const c=o[fM];if(c){const l=c.get(n,Br,r);if(l!==Br)return l}u=ox(o),o=o[ra]}s=u}return i}(t,e,n,r,Br);if(o!==Br)return o}const s=rx(t,e,n,r,Br);if(s!==Br)return s}return tx(e,n,r,i)}function rx(t,e,n,r,i){const s=function m3(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Zu)?t[Zu]:void 0;return"number"==typeof e?e>=0?e&XM:y3:e}(n);if("function"==typeof s){if(!$M(e,t,r))return r&H.Host?ex(i,0,r):tx(e,n,r,i);try{const o=s(r);if(null!=o||r&H.Optional)return o;eh()}finally{zM()}}else if("number"==typeof s){let o=null,a=ZM(t,e),u=ca,c=r&H.Host?e[ht][rn]:null;for((-1===a||r&H.SkipSelf)&&(u=-1===a?Ty(t,e):e[a+8],u!==ca&&sx(r,!1)?(o=e[k],a=wh(u),e=Ih(u,e)):a=-1);-1!==a;){const l=e[k];if(ix(s,a,l.data)){const d=g3(a,e,n,o,r,c);if(d!==Br)return d}u=e[a+8],u!==ca&&sx(r,e[k].data[a+8]===c)&&ix(s,a,e)?(o=l,a=wh(u),e=Ih(u,e)):a=-1}}return i}function g3(t,e,n,r,i,s){const o=e[k],a=o.data[t+8],l=function bh(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,u=t.directiveStart,l=s>>20,h=i?a+l:t.directiveEnd;for(let f=r?a:a+l;f<h;f++){const p=o[f];if(f<u&&n===p||f>=u&&p.type===n)return f}if(i){const f=o[u];if(f&&yr(f)&&f.type===n)return u}return null}(a,o,n,null==r?Gs(a)&&by:r!=o&&0!=(3&a.type),i&H.Host&&s===a);return null!==l?Ws(e,o,l,a):Br}function Ws(t,e,n,r){let i=t[n];const s=e.data;if(function u3(t){return t instanceof oc}(i)){const o=i;o.resolving&&function BG(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new C(-200,`Circular dependency in DI detected for ${t}${n}`)}(function we(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Z(t)}(s[n]));const a=Eh(o.canSeeViewProviders);o.resolving=!0;const u=o.injectImpl?An(o.injectImpl):null;$M(t,r,H.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function o3(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=EM(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}(n,s[n],e)}finally{null!==u&&An(u),Eh(a),o.resolving=!1,zM()}}return i}function ix(t,e,n){return!!(n[e+(t>>JM)]&1<<t)}function sx(t,e){return!(t&H.Self||t&H.Host&&e)}class la{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return nx(this._tNode,this._lView,e,ih(r),n)}}function y3(){return new la(Ht(),D())}function Gt(t){return fi(()=>{const e=t.prototype.constructor,n=e[gi]||Ay(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const s=i[gi]||Ay(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function Ay(t){return Jm(t)?()=>{const e=Ay(X(t));return e&&e()}:zs(t)}function ox(t){const e=t[k],n=e.type;return 2===n?e.declTNode:1===n?t[rn]:null}const ha="__parameters__";function pa(t,e,n){return fi(()=>{const r=function My(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(u,c,l){const d=u.hasOwnProperty(ha)?u[ha]:Object.defineProperty(u,ha,{value:[]})[ha];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(o),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function cc(t,e){t.forEach(n=>Array.isArray(n)?cc(n,e):e(n))}function ux(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Th(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Qn(t,e,n){let r=ga(t,e);return r>=0?t[1|r]=n:(r=~r,function D3(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function xy(t,e){const n=ga(t,e);if(n>=0)return t[1|n]}function ga(t,e){return function cx(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){const s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}(t,e,1)}const Et=Ju(pa("Optional"),8),Ah=Ju(pa("SkipSelf"),4);function Nh(t){return 128==(128&t.flags)}var Pn=(()=>((Pn=Pn||{})[Pn.Important=1]="Important",Pn[Pn.DashCase=2]="DashCase",Pn))();const Fy=new Map;let W3=0;const Vy="__ngContext__";function sn(t,e){Kn(e)?(t[Vy]=e[rc],function Q3(t){Fy.set(t[rc],t)}(e)):t[Vy]=e}let Uy;function By(t,e){return Uy(t,e)}function fc(t){const e=t[qe];return Rn(e)?e[qe]:e}function $y(t){return Ax(t[tc])}function jy(t){return Ax(t[mr])}function Ax(t){for(;null!==t&&!Rn(t);)t=t[mr];return t}function _a(t,e,n,r,i){if(null!=r){let s,o=!1;Rn(r)?s=r:Kn(r)&&(o=!0,r=r[wt]);const a=Le(r);0===t&&null!==n?null==i?kx(e,n,a):Ks(e,n,a,i||null,!0):1===t&&null!==n?Ks(e,n,a,i||null,!0):2===t?function Vh(t,e,n){const r=Fh(t,e);r&&function pq(t,e,n,r){t.removeChild(e,n,r)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function yq(t,e,n,r,i){const s=n[Fr];s!==Le(n)&&_a(e,t,r,s,i);for(let a=jt;a<n.length;a++){const u=n[a];gc(u[k],u,t,e,r,s)}}(e,t,s,n,i)}}function Oh(t,e,n){return t.createElement(e,n)}function xx(t,e){const n=t[sa],r=n.indexOf(e);MM(e),n.splice(r,1)}function Gy(t,e){if(t.length<=jt)return;const n=jt+e,r=t[n];if(r){const i=r[nc];null!==i&&i!==t&&xx(i,r),e>0&&(t[n-1][mr]=r[mr]);const s=Th(t,jt+e);!function oq(t,e){gc(t,e,e[ne],2,null,null),e[wt]=null,e[rn]=null}(r[k],r);const o=s[Or];null!==o&&o.detachView(s[k]),r[qe]=null,r[mr]=null,r[ie]&=-129}return r}function Rx(t,e){if(!(256&e[ie])){const n=e[ne];e[ah]?.destroy(),e[uh]?.destroy(),n.destroyNode&&gc(t,e,n,3,null,null),function cq(t){let e=t[tc];if(!e)return zy(t[k],t);for(;e;){let n=null;if(Kn(e))n=e[tc];else{const r=e[jt];r&&(n=r)}if(!n){for(;e&&!e[mr]&&e!==t;)Kn(e)&&zy(e[k],e),e=e[qe];null===e&&(e=t),Kn(e)&&zy(e[k],e),n=e&&e[mr]}e=n}}(e)}}function zy(t,e){if(!(256&e[ie])){e[ie]&=-129,e[ie]|=256,function fq(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof oc)){const s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],u=s[o+1];Vr(4,a,u);try{u.call(a)}finally{Vr(5,a,u)}}else{Vr(4,i,s);try{s.call(i)}finally{Vr(5,i,s)}}}}}(t,e),function hq(t,e){const n=t.cleanup,r=e[ta];if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else n[s].call(r[n[s+1]]);null!==r&&(e[ta]=null);const i=e[Zi];if(null!==i){e[Zi]=null;for(let s=0;s<i.length;s++)(0,i[s])()}}(t,e),1===e[k].type&&e[ne].destroy();const n=e[nc];if(null!==n&&Rn(e[qe])){n!==e[qe]&&xx(n,e);const r=e[Or];null!==r&&r.detachView(t)}!function Y3(t){Fy.delete(t[rc])}(e)}}function qy(t,e,n){return function Nx(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[wt];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=t.data[r.directiveStart+i];if(s===qn.None||s===qn.Emulated)return null}return Nn(r,n)}}(t,e.parent,n)}function Ks(t,e,n,r,i){t.insertBefore(e,n,r,i)}function kx(t,e,n){t.appendChild(e,n)}function Px(t,e,n,r,i){null!==r?Ks(t,e,n,r,i):kx(t,e,n)}function Fh(t,e){return t.parentNode(e)}let Wy,Xy,Lx=function Fx(t,e,n){return 40&t.type?Nn(t,n):null};function Lh(t,e,n,r){const i=qy(t,r,e),s=e[ne],a=function Ox(t,e,n){return Lx(t,e,n)}(r.parent||e[rn],r,e);if(null!=i)if(Array.isArray(n))for(let u=0;u<n.length;u++)Px(s,i,n[u],a,!1);else Px(s,i,n,a,!1);void 0!==Wy&&Wy(s,r,e,n,i)}function pc(t,e){if(null!==e){const n=e.type;if(3&n)return Nn(e,t);if(4&n)return Ky(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return pc(t,r);{const i=t[e.index];return Rn(i)?Ky(-1,i):Le(i)}}if(32&n)return By(e,t)()||Le(t[e.index]);{const r=Ux(t,e);return null!==r?Array.isArray(r)?r[0]:pc(fc(t[ht]),r):pc(t,e.next)}}return null}function Ux(t,e){return null!==e?t[ht][rn].projection[e.projection]:null}function Ky(t,e){const n=jt+t+1;if(n<e.length){const r=e[n],i=r[k].firstChild;if(null!==i)return pc(r,i)}return e[Fr]}function Qy(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],u=n.type;if(o&&0===e&&(a&&sn(Le(a),r),n.flags|=2),32!=(32&n.flags))if(8&u)Qy(t,e,n.child,r,i,s,!1),_a(e,t,i,a,s);else if(32&u){const c=By(n,r);let l;for(;l=c();)_a(e,t,i,l,s);_a(e,t,i,a,s)}else 16&u?$x(t,e,r,n,i,s):_a(e,t,i,a,s);n=o?n.projectionNext:n.next}}function gc(t,e,n,r,i,s){Qy(n,r,t.firstChild,e,i,s,!1)}function $x(t,e,n,r,i,s){const o=n[ht],u=o[rn].projection[r.projection];if(Array.isArray(u))for(let c=0;c<u.length;c++)_a(e,t,i,u[c],s);else{let c=u;const l=o[qe];Nh(r)&&(c.flags|=128),Qy(t,e,c,l,i,s,!0)}}function jx(t,e,n){""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function Hx(t,e,n){const{mergedAttrs:r,classes:i,styles:s}=n;null!==r&&oy(t,e,r),null!==i&&jx(t,e,i),null!==s&&function vq(t,e,n){t.setAttribute(e,"style",n)}(t,e,s)}class Wx{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${zA})`}}function ns(t){return t instanceof Wx?t.changingThisBreaksApplicationSecurity:t}const kq=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var ft=(()=>((ft=ft||{})[ft.NONE=0]="NONE",ft[ft.HTML=1]="HTML",ft[ft.STYLE=2]="STYLE",ft[ft.SCRIPT=3]="SCRIPT",ft[ft.URL=4]="URL",ft[ft.RESOURCE_URL=5]="RESOURCE_URL",ft))();function jh(t){const e=function vc(){const t=D();return t&&t[Hs].sanitizer}();return e?e.sanitize(ft.URL,t)||"":function yc(t,e){const n=function Mq(t){return t instanceof Wx&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${zA})`)}return n===e}(t,"URL")?ns(t):function Zy(t){return(t=String(t)).match(kq)?t:"unsafe:"+t}(Z(t))}class L{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=j({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const wc=new L("ENVIRONMENT_INITIALIZER"),nR=new L("INJECTOR",-1),rR=new L("INJECTOR_DEF_TYPES");class iR{get(e,n=Xu){if(n===Xu){const r=new Error(`NullInjectorError: No provider for ${vt(e)}!`);throw r.name="NullInjectorError",r}return n}}function qq(...t){return{\u0275providers:oR(0,t),\u0275fromNgModule:!0}}function oR(t,...e){const n=[],r=new Set;let i;return cc(e,s=>{const o=s;r_(o,n,[],r)&&(i||=[],i.push(o))}),void 0!==i&&aR(i,n),n}function aR(t,e){for(let n=0;n<t.length;n++){const{providers:i}=t[n];i_(i,s=>{e.push(s)})}}function r_(t,e,n,r){if(!(t=X(t)))return!1;let i=null,s=WA(t);const o=!s&&_e(t);if(s||o){if(o&&!o.standalone)return!1;i=t}else{const u=t.ngModule;if(s=WA(u),!s)return!1;i=u}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const u="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const c of u)r_(c,e,n,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let c;r.add(i);try{cc(s.imports,l=>{r_(l,e,n,r)&&(c||=[],c.push(l))})}finally{}void 0!==c&&aR(c,e)}if(!a){const c=zs(i)||(()=>new i);e.push({provide:i,useFactory:c,deps:ye},{provide:rR,useValue:i,multi:!0},{provide:wc,useValue:()=>$(i),multi:!0})}const u=s.providers;null==u||a||i_(u,l=>{e.push(l)})}}return i!==t&&void 0!==t.providers}function i_(t,e){for(let n of t)Zm(n)&&(n=n.\u0275providers),Array.isArray(n)?i_(n,e):e(n)}const Wq=be({provide:String,useValue:be});function s_(t){return null!==t&&"object"==typeof t&&Wq in t}function Qs(t){return"function"==typeof t}const o_=new L("Set Injector scope."),Hh={},Qq={};let a_;function Gh(){return void 0===a_&&(a_=new iR),a_}class wi{}class u_ extends wi{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,l_(e,o=>this.processProvider(o)),this.records.set(nR,wa(void 0,this)),i.has("environment")&&this.records.set(wi,wa(void 0,this));const s=this.records.get(o_);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(rR.multi,ye,H.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of e)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const n=Ji(this),r=An(void 0);try{return e()}finally{Ji(n),An(r)}}get(e,n=Xu,r=H.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(eM))return e[eM](this);r=ih(r);const i=Ji(this),s=An(void 0);try{if(!(r&H.SkipSelf)){let a=this.records.get(e);if(void 0===a){const u=function e6(t){return"function"==typeof t||"object"==typeof t&&t instanceof L}(e)&&th(e);a=u&&this.injectableDefInScope(u)?wa(c_(e),Hh):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&H.Self?Gh():this.parent).get(e,n=r&H.Optional&&n===Xu?null:n)}catch(o){if("NullInjectorError"===o.name){if((o[rh]=o[rh]||[]).unshift(vt(e)),i)throw o;return function ez(t,e,n,r){const i=t[rh];throw e[XA]&&i.unshift(e[XA]),t.message=function tz(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let i=vt(e);if(Array.isArray(e))i=e.map(vt).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):vt(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(QG,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[rh]=null,t}(o,e,"R3InjectorError",this.source)}throw o}finally{An(s),Ji(i)}}resolveInjectorInitializers(){const e=Ji(this),n=An(void 0);try{const r=this.get(wc.multi,ye,H.Self);for(const i of r)i()}finally{Ji(e),An(n)}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push(vt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new C(205,!1)}processProvider(e){let n=Qs(e=X(e))?e:X(e&&e.provide);const r=function Xq(t){return s_(t)?wa(void 0,t.useValue):wa(lR(t),Hh)}(e);if(Qs(e)||!0!==e.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=wa(void 0,Hh,!0),i.factory=()=>ry(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===Hh&&(n.value=Qq,n.value=n.factory()),"object"==typeof n.value&&n.value&&function Zq(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=X(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){const n=this._onDestroyHooks.indexOf(e);-1!==n&&this._onDestroyHooks.splice(n,1)}}function c_(t){const e=th(t),n=null!==e?e.factory:zs(t);if(null!==n)return n;if(t instanceof L)throw new C(204,!1);if(t instanceof Function)return function Yq(t){const e=t.length;if(e>0)throw function lc(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}(e,"?"),new C(204,!1);const n=function qG(t){return t&&(t[nh]||t[KA])||null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new C(204,!1)}function lR(t,e,n){let r;if(Qs(t)){const i=X(t);return zs(i)||c_(i)}if(s_(t))r=()=>X(t.useValue);else if(function cR(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...ry(t.deps||[]));else if(function uR(t){return!(!t||!t.useExisting)}(t))r=()=>$(X(t.useExisting));else{const i=X(t&&(t.useClass||t.provide));if(!function Jq(t){return!!t.deps}(t))return zs(i)||c_(i);r=()=>new i(...ry(t.deps))}return r}function wa(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function l_(t,e){for(const n of t)Array.isArray(n)?l_(n,e):n&&Zm(n)?l_(n.\u0275providers,e):e(n)}const zh=new L("AppId",{providedIn:"root",factory:()=>t6}),t6="ng",dR=new L("Platform Initializer"),rs=new L("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),hR=new L("CSP nonce",{providedIn:"root",factory:()=>function mc(){if(void 0!==Xy)return Xy;if(typeof document<"u")return document;throw new C(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let pR=(t,e)=>null;function gR(t,e){return pR(t,e)}class l6{}class _R{}class h6{resolveComponentFactory(e){throw function d6(t){const e=Error(`No component factory found for ${vt(t)}.`);return e.ngComponent=t,e}(e)}}let Yh=(()=>{class t{}return t.NULL=new h6,t})();function f6(){return Ia(Ht(),D())}function Ia(t,e){return new Yn(Nn(t,e))}let Yn=(()=>{class t{constructor(n){this.nativeElement=n}}return t.__NG_ELEMENT_ID__=f6,t})();class wR{}let Ii=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>function g6(){const t=D(),n=kn(Ht().index,t);return(Kn(n)?n:t)[ne]}(),t})(),m6=(()=>{class t{}return t.\u0275prov=j({token:t,providedIn:"root",factory:()=>null}),t})();class Ea{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const IR=new Ea("16.0.3"),I_={};function bc(t){for(;t;){t[ie]|=64;const e=fc(t);if(cy(t)&&!e)return t;t=e}return null}function E_(t){return t.ngOriginalError}class Ys{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&E_(e);for(;n&&E_(n);)n=E_(n);return n||null}}const bR=new L("",{providedIn:"root",factory:()=>!1});function Ei(t){return t instanceof Function?t():t}class MR extends vM{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(e){this._lView=e}onConsumerDependencyMayHaveChanged(){bc(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(e,n,r){const i=xt(this);this.trackingVersion++;try{e(n,r)}finally{xt(i)}}destroy(){this.trackingVersion++}}let Jh=null;function xR(){return Jh??=new MR,Jh}function RR(t,e){return t[e]??xR()}function NR(t,e){const n=xR();n.hasReadASignal&&(t[e]=Jh,n.lView=t,Jh=new MR)}const re={};function Re(t){kR(pe(),D(),mn()+t,!1)}function kR(t,e,n,r){if(!r)if(3==(3&e[ie])){const s=t.preOrderCheckHooks;null!==s&&_h(e,s,n)}else{const s=t.preOrderHooks;null!==s&&vh(e,s,0,n)}qs(n)}function LR(t,e=null,n=null,r){const i=VR(t,e,n,r);return i.resolveInjectorInitializers(),i}function VR(t,e=null,n=null,r,i=new Set){const s=[n||ye,qq(t)];return r=r||("object"==typeof t?void 0:vt(t)),new u_(s,e||Gh(),r||null,i)}let Fn=(()=>{class t{static create(n,r){if(Array.isArray(n))return LR({name:""},r,n,"");{const i=n.name??"";return LR({name:i},n.parent,n.providers,i)}}}return t.THROW_IF_NOT_FOUND=Xu,t.NULL=new iR,t.\u0275prov=j({token:t,providedIn:"any",factory:()=>$(nR)}),t.__NG_ELEMENT_ID__=-1,t})();function T(t,e=H.Default){const n=D();return null===n?$(t,e):nx(Ht(),n,X(t),e)}function Zh(t,e,n,r,i,s,o,a,u,c,l){const d=e.blueprint.slice();return d[wt]=i,d[ie]=140|r,(null!==c||t&&2048&t[ie])&&(d[ie]|=2048),AM(d),d[qe]=d[ra]=t,d[Je]=n,d[Hs]=o||t&&t[Hs],d[ne]=a||t&&t[ne],d[na]=u||t&&t[na]||null,d[rn]=s,d[rc]=function K3(){return W3++}(),d[mi]=l,d[fM]=c,d[ht]=2==e.type?t[ht]:d,d}function ba(t,e,n,r,i){let s=t.data[e];if(null===s)s=function D_(t,e,n,r,i){const s=FM(),o=gy(),u=t.data[e]=function L6(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return function aa(){return null!==W.skipHydrationRootTNode}()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=u),null!==s&&(o?null==s.child&&null!==u.parent&&(s.child=u):null===s.next&&(s.next=u,u.prev=s)),u}(t,e,n,r,i),function Yz(){return W.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const o=function sc(){const t=W.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return Ur(s,!0),s}function Cc(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function BR(t,e,n,r,i){const s=RR(e,ah),o=mn(),a=2&r;try{if(qs(-1),a&&e.length>de&&kR(t,e,de,!1),Vr(a?2:0,i),a)s.runInContext(n,r,i);else{const c=xt(null);try{n(r,i)}finally{xt(c)}}}finally{a&&null===e[ah]&&NR(e,ah),qs(o),Vr(a?3:1,i)}}function b_(t,e,n){if(uy(e)){const r=xt(null);try{const s=e.directiveEnd;for(let o=e.directiveStart;o<s;o++){const a=t.data[o];a.contentQueries&&a.contentQueries(1,n[o],o)}}finally{xt(r)}}}function C_(t,e,n){kM()&&(function G6(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;Gs(n)&&function X6(t,e,n){const r=Nn(e,t),o=ef(t,Zh(t,$R(n),null,n.onPush?64:16,r,e,null,t[Hs].rendererFactory.createRenderer(r,n),null,null,null));t[e.index]=o}(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Dh(n,e),sn(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const u=t.data[a],c=Ws(e,t,a,n);sn(c,e),null!==o&&J6(0,a-i,c,u,0,o),yr(u)&&(kn(n.index,e)[Je]=Ws(e,t,a,n))}}(t,e,n,Nn(n,e)),64==(64&n.flags)&&qR(t,e,n))}function T_(t,e,n=Nn){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function $R(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=S_(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function S_(t,e,n,r,i,s,o,a,u,c,l){const d=de+r,h=d+i,f=function R6(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:re);return n}(d,h),p="function"==typeof c?c():c;return f[k]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:p,incompleteFirstPass:!1,ssrId:l}}let jR=t=>null;function HR(t,e,n,r){for(let i in t)if(t.hasOwnProperty(i)){n=null===n?{}:n;const s=t[i];null===r?GR(n,e,i,s):r.hasOwnProperty(i)&&GR(n,e,r[i],s)}return n}function GR(t,e,n,r){t.hasOwnProperty(n)?t[n].push(e,r):t[n]=[e,r]}function Xn(t,e,n,r,i,s,o,a){const u=Nn(e,n);let l,c=e.inputs;!a&&null!=c&&(l=c[r])?(N_(t,n,l,r,i),Gs(e)&&function B6(t,e){const n=kn(e,t);16&n[ie]||(n[ie]|=64)}(n,e.index)):3&e.type&&(r=function U6(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=o?o(i,e.value||"",r):i,s.setProperty(u,r,i))}function A_(t,e,n,r){if(kM()){const i=null===r?null:{"":-1},s=function q6(t,e){const n=t.directiveRegistry;let r=null,i=null;if(n)for(let s=0;s<n.length;s++){const o=n[s];if(aM(e,o.selectors,!1))if(r||(r=[]),yr(o))if(null!==o.findHostDirectiveDefs){const a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o),M_(t,e,a.length)}else r.unshift(o),M_(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return null===r?null:[r,i]}(t,n);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&zR(t,e,n,o,i,a),i&&function W6(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const s=n[e[i+1]];if(null==s)throw new C(-301,!1);r.push(e[i],s)}}}(n,r,i)}n.mergedAttrs=ec(n.mergedAttrs,n.attrs)}function zR(t,e,n,r,i,s){for(let c=0;c<r.length;c++)Sy(Dh(n,e),t,r[c].type);!function Q6(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}(n,t.data.length,r.length);for(let c=0;c<r.length;c++){const l=r[c];l.providersResolver&&l.providersResolver(l)}let o=!1,a=!1,u=Cc(t,e,r.length,null);for(let c=0;c<r.length;c++){const l=r[c];n.mergedAttrs=ec(n.mergedAttrs,l.hostAttrs),Y6(t,n,e,u,l),K6(u,l,i),null!==l.contentQueries&&(n.flags|=4),(null!==l.hostBindings||null!==l.hostAttrs||0!==l.hostVars)&&(n.flags|=64);const d=l.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),u++}!function V6(t,e,n){const i=e.directiveEnd,s=t.data,o=e.attrs,a=[];let u=null,c=null;for(let l=e.directiveStart;l<i;l++){const d=s[l],h=n?n.get(d):null,p=h?h.outputs:null;u=HR(d.inputs,l,u,h?h.inputs:null),c=HR(d.outputs,l,c,p);const m=null===u||null===o||oM(e)?null:Z6(u,l,o);a.push(m)}null!==u&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=c}(t,n,s)}function qR(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=function Jz(){return W.lFrame.currentDirectiveIndex}();try{qs(s);for(let a=r;a<i;a++){const u=t.data[a],c=e[a];yy(a),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&z6(u,c)}}finally{qs(-1),yy(o)}}function z6(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function M_(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function K6(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;yr(e)&&(n[""]=t)}}function Y6(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=zs(i.type)),o=new oc(s,yr(i),T);t.blueprint[r]=o,n[r]=o,function j6(t,e,n,r,i){const s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;null===o&&(o=t.hostBindingOpCodes=[]);const a=~e.index;(function H6(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(o)!=a&&o.push(a),o.push(n,r,s)}}(t,e,r,Cc(t,n,i.hostVars,re),i)}function $r(t,e,n,r,i,s){const o=Nn(t,e);!function x_(t,e,n,r,i,s,o){if(null==s)t.removeAttribute(e,i,n);else{const a=null==o?Z(s):o(s,r||"",i);t.setAttribute(e,i,a,n)}}(e[ne],o,s,t.value,n,r,i)}function J6(t,e,n,r,i,s){const o=s[e];if(null!==o)for(let a=0;a<o.length;)WR(r,n,o[a++],o[a++],o[a++])}function WR(t,e,n,r,i){const s=xt(null);try{null!==t.setInput?t.setInput(e,i,n,r):e[r]=i}finally{xt(s)}}function Z6(t,e,n){let r=null,i=0;for(;i<n.length;){const s=n[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(t.hasOwnProperty(s)){null===r&&(r=[]);const o=t[s];for(let a=0;a<o.length;a+=2)if(o[a]===e){r.push(s,o[a+1],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function KR(t,e,n,r){return[t,!0,!1,e,null,0,r,n,null,null,null]}function QR(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const s=n[r+1];if(-1!==s){const o=t.data[s];vy(n[r]),o.contentQueries(2,e[s],s)}}}function ef(t,e){return t[tc]?t[hM][mr]=e:t[tc]=e,t[hM]=e,e}function R_(t,e,n){vy(0);const r=xt(null);try{e(t,n)}finally{xt(r)}}function ZR(t,e){const n=t[na],r=n?n.get(Ys,null):null;r&&r.handleError(e)}function N_(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++];WR(t.data[o],e[o],r,a,i)}}function eW(t,e){const n=kn(e,t),r=n[k];!function tW(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n);const i=n[wt];null!==i&&null===n[mi]&&(n[mi]=gR(i,n[na])),k_(r,n,n[Je])}function k_(t,e,n){wy(e);try{const r=t.viewQuery;null!==r&&R_(1,r,n);const i=t.template;null!==i&&BR(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&QR(t,e),t.staticViewQueries&&R_(2,t.viewQuery,n);const s=t.components;null!==s&&function nW(t,e){for(let n=0;n<e.length;n++)eW(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[ie]&=-5,Iy()}}let eN=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(n,r,i){const s=typeof Zone>"u"?null:Zone.current,o=new Mz(n,c=>{this.all.has(c)&&this.queue.set(c,s)},i);let a;this.all.add(o),o.notify();const u=()=>{o.cleanup(),a?.(),this.all.delete(o),this.queue.delete(o)};return a=r?.onDestroy(u),{destroy:u}}flush(){if(0!==this.queue.size)for(const[n,r]of this.queue)this.queue.delete(n),r?r.run(()=>n.run()):n.run()}get isQueueEmpty(){return 0===this.queue.size}}return t.\u0275prov=j({token:t,providedIn:"root",factory:()=>new t}),t})();function tf(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=Xm(i,a):2==s&&(r=Xm(r,a+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function Tc(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];if(null!==s&&r.push(Le(s)),Rn(s)){for(let a=jt;a<s.length;a++){const u=s[a],c=u[k].firstChild;null!==c&&Tc(u[k],u,c,r)}s[Fr]!==s[wt]&&r.push(s[Fr])}const o=n.type;if(8&o)Tc(t,e,n.child,r);else if(32&o){const a=By(n,e);let u;for(;u=a();)r.push(u)}else if(16&o){const a=Ux(e,n);if(Array.isArray(a))r.push(...a);else{const u=fc(e[ht]);Tc(u[k],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function nf(t,e,n,r=!0){const i=e[Hs].rendererFactory;i.begin&&i.begin();try{rf(t,e,t.template,n)}catch(o){throw r&&ZR(e,o),o}finally{i.end&&i.end(),e[Hs].effectManager?.flush()}}function rf(t,e,n,r){const i=e[ie];if(256!=(256&i)){e[Hs].effectManager?.flush(),wy(e);try{AM(e),function VM(t){return W.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&BR(t,e,n,2,r);const o=3==(3&i);if(o){const c=t.preOrderCheckHooks;null!==c&&_h(e,c,null)}else{const c=t.preOrderHooks;null!==c&&vh(e,c,0,null),Ey(e,0)}if(function uW(t){for(let e=$y(t);null!==e;e=jy(e)){if(!e[pM])continue;const n=e[sa];for(let r=0;r<n.length;r++){Uz(n[r])}}}(e),function aW(t){for(let e=$y(t);null!==e;e=jy(e))for(let n=jt;n<e.length;n++){const r=e[n],i=r[k];gh(r)&&rf(i,r,i.template,r[Je])}}(e),null!==t.contentQueries&&QR(t,e),o){const c=t.contentCheckHooks;null!==c&&_h(e,c)}else{const c=t.contentHooks;null!==c&&vh(e,c,1),Ey(e,1)}!function x6(t,e){const n=t.hostBindingOpCodes;if(null===n)return;const r=RR(e,uh);try{for(let i=0;i<n.length;i++){const s=n[i];if(s<0)qs(~s);else{const o=s,a=n[++i],u=n[++i];Xz(a,o),r.runInContext(u,2,e[o])}}}finally{null===e[uh]&&NR(e,uh),qs(-1)}}(t,e);const a=t.components;null!==a&&function lW(t,e){for(let n=0;n<e.length;n++)cW(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&R_(2,u,r),o){const c=t.viewCheckHooks;null!==c&&_h(e,c)}else{const c=t.viewHooks;null!==c&&vh(e,c,2),Ey(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[ie]&=-73,MM(e)}finally{Iy()}}}function cW(t,e){const n=kn(e,t);if(gh(n)){const r=n[k];80&n[ie]?rf(r,n,r.template,n[Je]):n[js]>0&&P_(n)}}function P_(t){for(let r=$y(t);null!==r;r=jy(r))for(let i=jt;i<r.length;i++){const s=r[i];if(gh(s))if(1024&s[ie]){const o=s[k];rf(o,s,o.template,s[Je])}else s[js]>0&&P_(s)}const n=t[k].components;if(null!==n)for(let r=0;r<n.length;r++){const i=kn(n[r],t);gh(i)&&i[js]>0&&P_(i)}}class Sc{get rootNodes(){const e=this._lView,n=e[k];return Tc(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Je]}set context(e){this._lView[Je]=e}get destroyed(){return 256==(256&this._lView[ie])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[qe];if(Rn(e)){const n=e[ch],r=n?n.indexOf(this):-1;r>-1&&(Gy(e,r),Th(n,r))}this._attachedToViewContainer=!1}Rx(this._lView[k],this._lView)}onDestroy(e){!function RM(t,e){if(256==(256&t[ie]))throw new C(911,!1);null===t[Zi]&&(t[Zi]=[]),t[Zi].push(e)}(this._lView,e)}markForCheck(){bc(this._cdRefInjectingView||this._lView)}detach(){this._lView[ie]&=-129}reattach(){this._lView[ie]|=128}detectChanges(){nf(this._lView[k],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new C(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function uq(t,e){gc(t,e,e[ne],2,null,null)}(this._lView[k],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new C(902,!1);this._appRef=e}}class dW extends Sc{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;nf(e[k],e,e[Je],!1)}checkNoChanges(){}get context(){return null}}class tN extends Yh{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=_e(e);return new Ac(n,this.ngModule)}}function nN(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}class fW{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=ih(r);const i=this.injector.get(e,I_,r);return i!==I_||n===I_?i:this.parentInjector.get(e,n,r)}}class Ac extends _R{get inputs(){return nN(this.componentDef.inputs)}get outputs(){return nN(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function dz(t){return t.map(lz).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=(i=i||this.ngModule)instanceof wi?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new fW(e,s):e,a=o.get(wR,null);if(null===a)throw new C(407,!1);const l={rendererFactory:a,sanitizer:o.get(m6,null),effectManager:o.get(eN,null)},d=a.createRenderer(null,this.componentDef),h=this.componentDef.selectors[0][0]||"div",f=r?function N6(t,e,n,r){const s=r.get(bR,!1)||n===qn.ShadowDom,o=t.selectRootElement(e,s);return function k6(t){jR(t)}(o),o}(d,r,this.componentDef.encapsulation,o):Oh(d,h,function hW(t){const e=t.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(h)),p=this.componentDef.onPush?576:528,m=S_(0,null,null,1,0,null,null,null,null,null,null),y=Zh(null,m,null,p,null,null,l,d,o,null,null);let v,_;wy(y);try{const E=this.componentDef;let A,O=null;E.findHostDirectiveDefs?(A=[],O=new Map,E.findHostDirectiveDefs(E,A,O),A.push(E)):A=[E];const K=function gW(t,e){const n=t[k],r=de;return t[r]=e,ba(n,r,2,"#host",null)}(y,f),ze=function mW(t,e,n,r,i,s,o){const a=i[k];!function yW(t,e,n,r){for(const i of t)e.mergedAttrs=ec(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(tf(e,e.mergedAttrs,!0),null!==n&&Hx(r,n,e))}(r,t,e,o);let u=null;null!==e&&(u=gR(e,i[na]));const c=s.rendererFactory.createRenderer(e,n),l=Zh(i,$R(n),null,n.onPush?64:16,i[t.index],t,s,c,null,null,u);return a.firstCreatePass&&M_(a,t,r.length-1),ef(i,l),i[t.index]=l}(K,f,E,A,y,l,d);_=SM(m,de),f&&function vW(t,e,n,r){if(r)oy(t,n,["ng-version",IR.full]);else{const{attrs:i,classes:s}=function hz(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!gr(i))break;i=s}r++}return{attrs:e,classes:n}}(e.selectors[0]);i&&oy(t,n,i),s&&s.length>0&&jx(t,n,s.join(" "))}}(d,E,f,r),void 0!==n&&function wW(t,e,n){const r=t.projection=[];for(let i=0;i<e.length;i++){const s=n[i];r.push(null!=s?Array.from(s):null)}}(_,this.ngContentSelectors,n),v=function _W(t,e,n,r,i,s){const o=Ht(),a=i[k],u=Nn(o,i);zR(a,i,o,n,null,r);for(let l=0;l<n.length;l++)sn(Ws(i,a,o.directiveStart+l,o),i);qR(a,i,o),u&&sn(u,i);const c=Ws(i,a,o.directiveStart+o.componentOffset,o);if(t[Je]=i[Je]=c,null!==s)for(const l of s)l(c,e);return b_(a,o,t),c}(ze,E,A,O,y,[IW]),k_(m,y,null)}finally{Iy()}return new pW(this.componentType,v,Ia(_,y),y,_)}}class pW extends l6{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new dW(i),this.componentType=e}setInput(e,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;const s=this._rootLView;N_(s[k],s,i,e,n),this.previousInputValues.set(e,n),bc(kn(this._tNode.index,s))}}get injector(){return new la(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function IW(){const t=Ht();yh(D()[k],t)}function Ce(t){let e=function rN(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),n=!0;const r=[t];for(;e;){let i;if(yr(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new C(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);const o=t;o.inputs=O_(t.inputs),o.declaredInputs=O_(t.declaredInputs),o.outputs=O_(t.outputs);const a=i.hostBindings;a&&CW(t,a);const u=i.viewQuery,c=i.contentQueries;if(u&&DW(t,u),c&&bW(t,c),Ym(t.inputs,i.inputs),Ym(t.declaredInputs,i.declaredInputs),Ym(t.outputs,i.outputs),yr(i)&&i.data.animation){const l=t.data;l.animation=(l.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(t),a===Ce&&(n=!1)}}e=Object.getPrototypeOf(e)}!function EW(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=ec(i.hostAttrs,n=ec(n,i.hostAttrs))}}(r)}function O_(t){return t===pi?{}:t===ye?[]:t}function DW(t,e){const n=t.viewQuery;t.viewQuery=n?(r,i)=>{e(r,i),n(r,i)}:e}function bW(t,e){const n=t.contentQueries;t.contentQueries=n?(r,i,s)=>{e(r,i,s),n(r,i,s)}:e}function CW(t,e){const n=t.hostBindings;t.hostBindings=n?(r,i)=>{e(r,i),n(r,i)}:e}function sf(t){return!!function F_(t){return null!==t&&("function"==typeof t||"object"==typeof t)}(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function on(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Hr(t,e,n,r){const i=D();return on(i,ua(),e)&&(pe(),$r(We(),i,t,e,n,r)),Hr}function Ta(t,e,n,r){return on(t,ua(),n)?e+Z(n)+r:re}function Dt(t,e,n,r,i,s,o,a){const u=D(),c=pe(),l=t+de,d=c.firstCreatePass?function YW(t,e,n,r,i,s,o,a,u){const c=e.consts,l=ba(e,t,4,o||null,es(c,a));A_(e,n,l,es(c,u)),yh(e,l);const d=l.tView=S_(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c,null);return null!==e.queries&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,s,o):c.data[l];Ur(d,!1);const h=vN(c,u,d,t);mh()&&Lh(c,u,h,d),sn(h,u),ef(u,u[l]=KR(h,u,h,d)),lh(d)&&C_(c,u,d),null!=o&&T_(u,d,a)}let vN=function wN(t,e,n,r){return ts(!0),e[ne].createComment("")};function Ze(t,e,n){const r=D();return on(r,ua(),e)&&Xn(pe(),We(),r,t,e,r[ne],n,!1),Ze}function j_(t,e,n,r,i){const o=i?"class":"style";N_(t,n,e.inputs[o],o,r)}function ce(t,e,n,r){const i=D(),s=pe(),o=de+t,a=i[ne],u=s.firstCreatePass?function t9(t,e,n,r,i,s){const o=e.consts,u=ba(e,t,2,r,es(o,i));return A_(e,n,u,es(o,s)),null!==u.attrs&&tf(u,u.attrs,!1),null!==u.mergedAttrs&&tf(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(o,s,i,e,n,r):s.data[o],c=IN(s,i,u,a,e,t);i[o]=c;const l=lh(u);return Ur(u,!0),Hx(a,c,u),32!=(32&u.flags)&&mh()&&Lh(s,i,c,u),0===function $z(){return W.lFrame.elementDepthCount}()&&sn(c,i),function jz(){W.lFrame.elementDepthCount++}(),l&&(C_(s,i,u),b_(s,u,i)),null!==r&&T_(i,u),ce}function ue(){let t=Ht();gy()?function my(){W.lFrame.isParent=!1}():(t=t.parent,Ur(t,!1));const e=t;(function Gz(t){return W.skipHydrationRootTNode===t})(e)&&function Kz(){W.skipHydrationRootTNode=null}(),function Hz(){W.lFrame.elementDepthCount--}();const n=pe();return n.firstCreatePass&&(yh(n,t),uy(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function c3(t){return 0!=(8&t.flags)}(e)&&j_(n,e,D(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function l3(t){return 0!=(16&t.flags)}(e)&&j_(n,e,D(),e.stylesWithoutHost,!1),ue}function Ee(t,e,n,r){return ce(t,e,n,r),ue(),Ee}let IN=(t,e,n,r,i,s)=>(ts(!0),Oh(r,i,function qM(){return W.lFrame.currentNamespace}()));function kc(t){return!!t&&"function"==typeof t.then}function CN(t){return!!t&&"function"==typeof t.subscribe}function yn(t,e,n,r){const i=D(),s=pe(),o=Ht();return function SN(t,e,n,r,i,s,o){const a=lh(r),c=t.firstCreatePass&&function XR(t){return t.cleanup||(t.cleanup=[])}(t),l=e[Je],d=function YR(t){return t[ta]||(t[ta]=[])}(e);let h=!0;if(3&r.type||o){const m=Nn(r,e),y=o?o(m):m,v=d.length,_=o?A=>o(Le(A[r.index])):r.index;let E=null;if(!o&&a&&(E=function a9(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===n&&i[s+1]===r){const a=e[ta],u=i[s+2];return a.length>u?a[u]:null}"string"==typeof o&&(s+=2)}return null}(t,e,i,r.index)),null!==E)(E.__ngLastListenerFn__||E).__ngNextListenerFn__=s,E.__ngLastListenerFn__=s,h=!1;else{s=MN(r,e,l,s,!1);const A=n.listen(y,i,s);d.push(s,A),c&&c.push(i,_,v,v+1)}}else s=MN(r,e,l,s,!1);const f=r.outputs;let p;if(h&&null!==f&&(p=f[i])){const m=p.length;if(m)for(let y=0;y<m;y+=2){const O=e[p[y]][p[y+1]].subscribe(s),K=d.length;d.push(s,O),c&&c.push(i,r.index,K,-(K+1))}}}(s,i,i[ne],o,t,e,r),yn}function AN(t,e,n,r){try{return Vr(6,e,n),!1!==n(r)}catch(i){return ZR(t,i),!1}finally{Vr(7,e,n)}}function MN(t,e,n,r,i){return function s(o){if(o===Function)return r;bc(t.componentOffset>-1?kn(t.index,e):e);let u=AN(e,n,r,o),c=s.__ngNextListenerFn__;for(;c;)u=AN(e,n,c,o)&&u,c=c.__ngNextListenerFn__;return i&&!1===u&&o.preventDefault(),u}}function bi(t=1){return function e3(t){return(W.lFrame.contextLView=function t3(t,e){for(;t>0;)e=e[ra],t--;return e}(t,W.lFrame.contextLView))[Je]}(t)}function _r(t,e,n){return df(t,"",e,"",n),_r}function df(t,e,n,r,i){const s=D(),o=Ta(s,e,n,r);return o!==re&&Xn(pe(),We(),s,t,o,s[ne],i,!1),df}function hf(t,e){return t<<17|e<<2}function is(t){return t>>17&32767}function z_(t){return 2|t}function Js(t){return(131068&t)>>2}function q_(t,e){return-131069&t|e<<2}function W_(t){return 1|t}function VN(t,e,n,r,i){const s=t[n+1],o=null===e;let a=r?is(s):Js(s),u=!1;for(;0!==a&&(!1===u||o);){const l=t[a+1];m9(t[a],e)&&(u=!0,t[a+1]=r?W_(l):z_(l)),a=r?is(l):Js(l)}u&&(t[n+1]=r?z_(s):W_(s))}function m9(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&ga(t,e)>=0}const bt={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function UN(t){return t.substring(bt.key,bt.keyEnd)}function BN(t,e){const n=bt.textEnd;return n===e?-1:(e=bt.keyEnd=function w9(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,bt.key=e,n),Pa(t,e,n))}function Pa(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function ff(t,e){return function vr(t,e,n,r){const i=D(),s=pe(),o=_i(2);s.firstUpdatePass&&WN(s,t,o,r),e!==re&&on(i,o,e)&&QN(s,s.data[mn()],i,i[ne],t,i[o+1]=function R9(t,e){return null==t||""===t||("string"==typeof e?t+=e:"object"==typeof t&&(t=vt(ns(t)))),t}(e,n),r,o)}(t,e,null,!0),ff}function K_(t){!function wr(t,e,n,r){const i=pe(),s=_i(2);i.firstUpdatePass&&WN(i,null,s,r);const o=D();if(n!==re&&on(o,s,n)){const a=i.data[mn()];if(XN(a,r)&&!qN(i,s)){let u=r?a.classesWithoutHost:a.stylesWithoutHost;null!==u&&(n=Xm(u,n||"")),j_(i,a,o,n,r)}else!function x9(t,e,n,r,i,s,o,a){i===re&&(i=ye);let u=0,c=0,l=0<i.length?i[0]:null,d=0<s.length?s[0]:null;for(;null!==l||null!==d;){const h=u<i.length?i[u+1]:void 0,f=c<s.length?s[c+1]:void 0;let m,p=null;l===d?(u+=2,c+=2,h!==f&&(p=d,m=f)):null===d||null!==l&&l<d?(u+=2,p=l):(c+=2,p=d,m=f),null!==p&&QN(t,e,n,r,p,m,o,a),l=u<i.length?i[u]:null,d=c<s.length?s[c]:null}}(i,a,o,o[ne],o[s+1],o[s+1]=function A9(t,e,n){if(null==n||""===n)return ye;const r=[],i=ns(n);if(Array.isArray(i))for(let s=0;s<i.length;s++)t(r,i[s],!0);else if("object"==typeof i)for(const s in i)i.hasOwnProperty(s)&&t(r,s,i[s]);else"string"==typeof i&&e(r,i);return r}(t,e,n),r,s)}}(M9,zr,t,!0)}function zr(t,e){for(let n=function _9(t){return function jN(t){bt.key=0,bt.keyEnd=0,bt.value=0,bt.valueEnd=0,bt.textEnd=t.length}(t),BN(t,Pa(t,0,bt.textEnd))}(e);n>=0;n=BN(e,n))Qn(t,UN(e),!0)}function qN(t,e){return e>=t.expandoStartIndex}function WN(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[mn()],o=qN(t,n);XN(s,r)&&null===e&&!o&&(e=!1),e=function b9(t,e,n,r){const i=function _y(t){const e=W.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=Pc(n=Q_(null,t,e,n,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==i)if(n=Q_(i,t,e,n,r),null===s){let u=function C9(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==Js(r))return t[is(r)]}(t,e,r);void 0!==u&&Array.isArray(u)&&(u=Q_(null,t,e,u[1],r),u=Pc(u,e.attrs,r),function T9(t,e,n,r){t[is(n?e.classBindings:e.styleBindings)]=r}(t,e,r,u))}else s=function S9(t,e,n){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=Pc(r,t[s].hostAttrs,n);return Pc(r,e.attrs,n)}(t,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),n}(i,s,e,r),function p9(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=is(o),u=Js(o);t[r]=n;let l,c=!1;if(Array.isArray(n)?(l=n[1],(null===l||ga(n,l)>0)&&(c=!0)):l=n,i)if(0!==u){const h=is(t[a+1]);t[r+1]=hf(h,a),0!==h&&(t[h+1]=q_(t[h+1],r)),t[a+1]=function h9(t,e){return 131071&t|e<<17}(t[a+1],r)}else t[r+1]=hf(a,0),0!==a&&(t[a+1]=q_(t[a+1],r)),a=r;else t[r+1]=hf(u,0),0===a?a=r:t[u+1]=q_(t[u+1],r),u=r;c&&(t[r+1]=z_(t[r+1])),VN(t,l,r,!0),VN(t,l,r,!1),function g9(t,e,n,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&ga(s,e)>=0&&(n[r+1]=W_(n[r+1]))}(e,l,t,r,s),o=hf(a,u),s?e.classBindings=o:e.styleBindings=o}(i,s,e,n,o,r)}}function Q_(t,e,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],r=Pc(r,s.hostAttrs,i),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function Pc(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Qn(t,o,!!n||e[++s]))}return void 0===t?null:t}function M9(t,e,n){const r=String(e);""!==r&&!r.includes(" ")&&Qn(t,r,n)}function QN(t,e,n,r,i,s,o,a){if(!(3&e.type))return;const u=t.data,c=u[a+1],l=function f9(t){return 1==(1&t)}(c)?YN(u,e,n,i,Js(c),o):void 0;pf(l)||(pf(s)||function d9(t){return 2==(2&t)}(c)&&(s=YN(u,null,n,i,a,o)),function _q(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=-1===r.indexOf("-")?void 0:Pn.DashCase;null==i?t.removeStyle(n,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=Pn.Important),t.setStyle(n,r,i,s))}}(r,o,ph(mn(),n),i,s))}function YN(t,e,n,r,i,s){const o=null===e;let a;for(;i>0;){const u=t[i],c=Array.isArray(u),l=c?u[1]:u,d=null===l;let h=n[i+1];h===re&&(h=d?ye:void 0);let f=d?xy(h,r):l===r?h:void 0;if(c&&!pf(f)&&(f=xy(u,r)),pf(f)&&(a=f,o))return a;const p=t[i+1];i=o?is(p):Js(p)}if(null!==e){let u=s?e.residualClasses:e.residualStyles;null!=u&&(a=xy(u,r))}return a}function pf(t){return void 0!==t}function XN(t,e){return 0!=(t.flags&(e?8:16))}function Jn(t,e=""){const n=D(),r=pe(),i=t+de,s=r.firstCreatePass?ba(r,i,1,e,null):r.data[i],o=JN(r,n,s,e,t);n[i]=o,mh()&&Lh(r,n,o,s),Ur(s,!1)}let JN=(t,e,n,r,i)=>(ts(!0),function Ph(t,e){return t.createText(e)}(e[ne],r));function Oa(t){return gf("",t,""),Oa}function gf(t,e,n){const r=D(),i=Ta(r,t,e,n);return i!==re&&function Di(t,e,n){const r=ph(e,t);!function Mx(t,e,n){t.setValue(e,n)}(t[ne],r,n)}(r,mn(),i),gf}const La="en-US";let w1=La;function J_(t,e,n,r,i){if(t=X(t),Array.isArray(t))for(let s=0;s<t.length;s++)J_(t[s],e,n,r,i);else{const s=pe(),o=D();let a=Qs(t)?t:X(t.provide),u=lR(t);const c=Ht(),l=1048575&c.providerIndexes,d=c.directiveStart,h=c.providerIndexes>>20;if(Qs(t)||!t.multi){const f=new oc(u,i,T),p=ev(a,e,i?l:l+h,d);-1===p?(Sy(Dh(c,o),s,a),Z_(s,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(f),o.push(f)):(n[p]=f,o[p]=f)}else{const f=ev(a,e,l+h,d),p=ev(a,e,l,l+h),y=p>=0&&n[p];if(i&&!y||!i&&!(f>=0&&n[f])){Sy(Dh(c,o),s,a);const v=function X5(t,e,n,r,i){const s=new oc(t,n,T);return s.multi=[],s.index=e,s.componentProviders=0,z1(s,i,r&&!n),s}(i?Y5:Q5,n.length,i,r,u);!i&&y&&(n[p].providerFactory=v),Z_(s,t,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(v),o.push(v)}else Z_(s,t,f>-1?f:p,z1(n[i?p:f],u,!i&&r));!i&&r&&y&&n[p].componentProviders++}}}function Z_(t,e,n,r){const i=Qs(e),s=function Kq(t){return!!t.useClass}(e);if(i||s){const u=(s?X(e.useClass):e).prototype.ngOnDestroy;if(u){const c=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const l=c.indexOf(n);-1===l?c.push(n,[r,u]):c[l+1].push(r,u)}else c.push(n,u)}}}function z1(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function ev(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function Q5(t,e,n,r){return tv(this.multi,[])}function Y5(t,e,n,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=Ws(n,n[k],this.providerFactory.index,r);s=a.slice(0,o),tv(i,s);for(let u=o;u<a.length;u++)s.push(a[u])}else s=[],tv(i,s);return s}function tv(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function He(t,e=[]){return n=>{n.providersResolver=(r,i)=>function K5(t,e,n){const r=pe();if(r.firstCreatePass){const i=yr(t);J_(n,r.data,r.blueprint,i,!0),J_(e,r.data,r.blueprint,i,!1)}}(r,i?i(t):t,e)}}class Va{}class q1{}class nv extends Va{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new tN(this);const i=Wn(e);this._bootstrapComponents=Ei(i.bootstrap),this._r3Injector=VR(e,n,[{provide:Va,useValue:this},{provide:Yh,useValue:this.componentFactoryResolver},...r],vt(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class rv extends q1{constructor(e){super(),this.moduleType=e}create(e){return new nv(this.moduleType,e,[])}}class W1 extends Va{constructor(e){super(),this.componentFactoryResolver=new tN(this),this.instance=null;const n=new u_([...e.providers,{provide:Va,useValue:this},{provide:Yh,useValue:this.componentFactoryResolver}],e.parent||Gh(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function iv(t,e,n=null){return new W1({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}let e8=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n.id)){const r=oR(0,n.type),i=r.length>0?iv([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n.id,i)}return this.cachedInjectors.get(n.id)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}}return t.\u0275prov=j({token:t,providedIn:"environment",factory:()=>new t($(wi))}),t})();function K1(t){t.getStandaloneInjector=e=>e.get(e8).getOrCreateStandaloneInjector(t)}function ov(t){return e=>{setTimeout(t,void 0,e)}}const tt=class T8 extends di{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&"object"==typeof e){const u=e;i=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=ov(s),i&&(i=ov(i)),o&&(o=ov(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof Gn&&e.add(a),a}};let Ci=(()=>{class t{}return t.__NG_ELEMENT_ID__=x8,t})();const A8=Ci,M8=class extends A8{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n,null)}createEmbeddedViewImpl(e,n,r){const i=this._declarationTContainer.tView,s=Zh(this._declarationLView,i,e,16,null,i.declTNode,null,null,null,n||null,r||null);s[nc]=this._declarationLView[this._declarationTContainer.index];const a=this._declarationLView[Or];return null!==a&&(s[Or]=a.createEmbeddedView(i)),k_(i,s,e),new Sc(s)}};function x8(){return function wf(t,e){return 4&t.type?new M8(e,t,Ia(t,e)):null}(Ht(),D())}let Ir=(()=>{class t{}return t.__NG_ELEMENT_ID__=L8,t})();function L8(){return function dk(t,e){let n;const r=e[t.index];return Rn(r)?n=r:(n=KR(r,e,null,t),e[t.index]=n,ef(e,n)),hk(n,e,t,r),new ck(n,t,e)}(Ht(),D())}const V8=Ir,ck=class extends V8{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Ia(this._hostTNode,this._hostLView)}get injector(){return new la(this._hostTNode,this._hostLView)}get parentInjector(){const e=Ty(this._hostTNode,this._hostLView);if(YM(e)){const n=Ih(e,this._hostLView),r=wh(e);return new la(n[k].data[r+8],n)}return new la(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=lk(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-jt}createEmbeddedView(e,n,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const a=e.createEmbeddedViewImpl(n||{},s,null);return this.insertImpl(a,i,false),a}createComponent(e,n,r,i,s){const o=e&&!function uc(t){return"function"==typeof t}(e);let a;if(o)a=n;else{const m=n||{};a=m.index,r=m.injector,i=m.projectableNodes,s=m.environmentInjector||m.ngModuleRef}const u=o?e:new Ac(_e(e)),c=r||this.parentInjector;if(!s&&null==u.ngModule){const y=(o?c:this.parentInjector).get(wi,null);y&&(s=y)}_e(u.componentType??{});const f=u.create(c,i,null,s);return this.insertImpl(f.hostView,a,false),f}insert(e,n){return this.insertImpl(e,n,!1)}insertImpl(e,n,r){const i=e._lView,s=i[k];if(function Vz(t){return Rn(t[qe])}(i)){const u=this.indexOf(e);if(-1!==u)this.detach(u);else{const c=i[qe],l=new ck(c,c[rn],c[qe]);l.detach(l.indexOf(e))}}const o=this._adjustIndex(n),a=this._lContainer;if(function lq(t,e,n,r){const i=jt+r,s=n.length;r>0&&(n[i-1][mr]=e),r<s-jt?(e[mr]=n[i],ux(n,jt+r,e)):(n.push(e),e[mr]=null),e[qe]=n;const o=e[nc];null!==o&&n!==o&&function dq(t,e){const n=t[sa];e[ht]!==e[qe][qe][ht]&&(t[pM]=!0),null===n?t[sa]=[e]:n.push(e)}(o,e);const a=e[Or];null!==a&&a.insertView(t),e[ie]|=128}(s,i,a,o),!r){const u=Ky(o,a),c=i[ne],l=Fh(c,a[Fr]);null!==l&&function aq(t,e,n,r,i,s){r[wt]=i,r[rn]=e,gc(t,r,n,1,i,s)}(s,a[rn],c,i,l,u)}return e.attachToViewContainerRef(),ux(cv(a),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=lk(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=Gy(this._lContainer,n);r&&(Th(cv(this._lContainer),n),Rx(r[k],r))}detach(e){const n=this._adjustIndex(e,-1),r=Gy(this._lContainer,n);return r&&null!=Th(cv(this._lContainer),n)?new Sc(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function lk(t){return t[ch]}function cv(t){return t[ch]||(t[ch]=[])}let hk=function fk(t,e,n,r){if(t[Fr])return;let i;i=8&n.type?Le(r):function U8(t,e){const n=t[ne],r=n.createComment(""),i=Nn(e,t);return Ks(n,Fh(n,i),r,function gq(t,e){return t.nextSibling(e)}(n,i),!1),r}(e,n),t[Fr]=i};const wv=new L("Application Initializer");let Iv=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=V(wv,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n=[];for(const i of this.appInits){const s=i();if(kc(s))n.push(s);else if(CN(s)){const o=new Promise((a,u)=>{s.subscribe({complete:a,error:u})});n.push(o)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Vk=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();const Ti=new L("LocaleId",{providedIn:"root",factory:()=>V(Ti,H.Optional|H.SkipSelf)||function m7(){return typeof $localize<"u"&&$localize.locale||La}()});class _7{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let Uk=(()=>{class t{compileModuleSync(n){return new rv(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),s=Ei(Wn(n).declarations).reduce((o,a)=>{const u=_e(a);return u&&o.push(new Ac(u)),o},[]);return new _7(r,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const I7=(()=>Promise.resolve(0))();function Ev(t){typeof Zone>"u"?I7.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}function jk(...t){}class Te{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new tt(!1),this.onMicrotaskEmpty=new tt(!1),this.onStable=new tt(!1),this.onError=new tt(!1),typeof Zone>"u")throw new C(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function E7(){let t=ke.requestAnimationFrame,e=ke.cancelAnimationFrame;if(typeof Zone<"u"&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function C7(t){const e=()=>{!function b7(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(ke,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,bv(t),t.isCheckStableRunning=!0,Dv(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),bv(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{try{return Hk(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),Gk(t)}},onInvoke:(n,r,i,s,o,a,u)=>{try{return Hk(t),n.invoke(i,s,o,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),Gk(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&("microTask"==s.change?(t._hasPendingMicrotasks=s.microTask,bv(t),Dv(t)):"macroTask"==s.change&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Te.isInAngularZone())throw new C(909,!1)}static assertNotInAngularZone(){if(Te.isInAngularZone())throw new C(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,D7,jk,jk);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const D7={};function Dv(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function bv(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function Hk(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Gk(t){t._nesting--,Dv(t)}class T7{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new tt,this.onMicrotaskEmpty=new tt,this.onStable=new tt,this.onError=new tt}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}const zk=new L("",{providedIn:"root",factory:qk});function qk(){const t=V(Te);let e=!0;return function LG(...t){const e=Yu(t),n=function xG(t,e){return"number"==typeof Km(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?ir(r[0]):Xo(n)(Mt(r,e)):kr}(new Fe(i=>{e=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{i.next(e),i.complete()})}),new Fe(i=>{let s;t.runOutsideAngular(()=>{s=t.onStable.subscribe(()=>{Te.assertNotInAngularZone(),Ev(()=>{!e&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(e=!0,i.next(!0))})})});const o=t.onUnstable.subscribe(()=>{Te.assertInAngularZone(),e&&(e=!1,t.runOutsideAngular(()=>{i.next(!1)}))});return()=>{s.unsubscribe(),o.unsubscribe()}}).pipe(function VG(t={}){const{connector:e=(()=>new di),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return s=>{let o,a,u,c=0,l=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),o=u=void 0,l=d=!1},p=()=>{const m=o;f(),m?.unsubscribe()};return Ut((m,y)=>{c++,!d&&!l&&h();const v=u=u??e();y.add(()=>{c--,0===c&&!d&&!l&&(a=Qm(p,i))}),v.subscribe(y),!o&&c>0&&(o=new Qu({next:_=>v.next(_),error:_=>{d=!0,h(),a=Qm(f,n,_),v.error(_)},complete:()=>{l=!0,h(),a=Qm(f,r),v.complete()}}),ir(m).subscribe(o))})(s)}}()))}const Wk=new L(""),Ef=new L("");let Sv,Cv=(()=>{class t{constructor(n,r,i){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Sv||(function S7(t){Sv=t}(i),i.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Te.assertNotInAngularZone(),Ev(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Ev(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:s,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,i){return[]}}return t.\u0275fac=function(n){return new(n||t)($(Te),$(Tv),$(Ef))},t.\u0275prov=j({token:t,factory:t.\u0275fac}),t})(),Tv=(()=>{class t{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return Sv?.findTestabilityInTree(this,n,r)??null}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})(),ss=null;const Kk=new L("AllowMultipleToken"),Av=new L("PlatformDestroyListeners"),Mv=new L("appBootstrapListener");class Yk{constructor(e,n){this.name=e,this.token=n}}function Jk(t,e,n=[]){const r=`Platform: ${e}`,i=new L(r);return(s=[])=>{let o=xv();if(!o||o.injector.get(Kk,!1)){const a=[...n,...s,{provide:i,useValue:!0}];t?t(a):function x7(t){if(ss&&!ss.get(Kk,!1))throw new C(400,!1);(function Qk(){!function Sz(t){wM=t}(()=>{throw new C(600,!1)})})(),ss=t;const e=t.get(eP);(function Xk(t){t.get(dR,null)?.forEach(n=>n())})(t)}(function Zk(t=[],e){return Fn.create({name:e,providers:[{provide:o_,useValue:"platform"},{provide:Av,useValue:new Set([()=>ss=null])},...t]})}(a,r))}return function N7(t){const e=xv();if(!e)throw new C(401,!1);return e}()}}function xv(){return ss?.get(eP)??null}let eP=(()=>{class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const i=function k7(t="zone.js",e){return"noop"===t?new T7:"zone.js"===t?new Te(e):t}(r?.ngZone,function tP(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return i.run(()=>{const s=function Z5(t,e,n){return new nv(t,e,n)}(n.moduleType,this.injector,function oP(t){return[{provide:Te,useFactory:t},{provide:wc,multi:!0,useFactory:()=>{const e=V(O7,{optional:!0});return()=>e.initialize()}},{provide:sP,useFactory:P7},{provide:zk,useFactory:qk}]}(()=>i)),o=s.injector.get(Ys,null);return i.runOutsideAngular(()=>{const a=i.onError.subscribe({next:u=>{o.handleError(u)}});s.onDestroy(()=>{Df(this._modules,s),a.unsubscribe()})}),function nP(t,e,n){try{const r=n();return kc(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(o,i,()=>{const a=s.injector.get(Iv);return a.runInitializers(),a.donePromise.then(()=>(function I1(t){sr(t,"Expected localeId to be defined"),"string"==typeof t&&(w1=t.toLowerCase().replace(/_/g,"-"))}(s.injector.get(Ti,La)||La),this._moduleDoBootstrap(s),s))})})}bootstrapModule(n,r=[]){const i=rP({},r);return function A7(t,e,n){const r=new rv(n);return Promise.resolve(r)}(0,0,n).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(n){const r=n.injector.get($a);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new C(-403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new C(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(Av,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(n){return new(n||t)($(Fn))},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();function rP(t,e){return Array.isArray(e)?e.reduce(rP,t):{...t,...e}}let $a=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=V(sP),this.componentTypes=[],this.components=[],this.isStable=V(zk),this._injector=V(wi)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){const i=n instanceof _R;if(!this._injector.get(Iv).done)throw!i&&function ea(t){const e=_e(t)||nn(t)||xn(t);return null!==e&&e.standalone}(n),new C(405,!1);let o;o=i?n:this._injector.get(Yh).resolveComponentFactory(n),this.componentTypes.push(o.componentType);const a=function M7(t){return t.isBoundToModule}(o)?void 0:this._injector.get(Va),c=o.create(Fn.NULL,[],r||o.selector,a),l=c.location.nativeElement,d=c.injector.get(Wk,null);return d?.registerApplication(l),c.onDestroy(()=>{this.detachView(c.hostView),Df(this.components,c),d?.unregisterApplication(l)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new C(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this.internalErrorHandler(n)}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;Df(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(Mv,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Df(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new C(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Df(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const sP=new L("",{providedIn:"root",factory:()=>V(Ys).handleError.bind(void 0)});function P7(){const t=V(Te),e=V(Ys);return n=>t.runOutsideAngular(()=>e.handleError(n))}let O7=(()=>{class t{constructor(){this.zone=V(Te),this.applicationRef=V($a)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();let bf=(()=>{class t{}return t.__NG_ELEMENT_ID__=L7,t})();function L7(t){return function V7(t,e,n){if(Gs(t)&&!n){const r=kn(t.index,e);return new Sc(r,r)}return 47&t.type?new Sc(e[ht],e):null}(Ht(),D(),16==(16&t))}class lP{constructor(){}supports(e){return sf(e)}create(e){return new G7(e)}}const H7=(t,e)=>e;class G7{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||H7}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){const o=!r||n&&n.currentIndex<hP(r,i,s)?n:r,a=hP(o,i,s),u=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,null==o.previousIndex)i++;else{s||(s=[]);const c=a-i,l=u-i;if(c!=l){for(let h=0;h<c;h++){const f=h<s.length?s[h]:s[h]=0,p=f+h;l<=p&&p<c&&(s[h]=f+1)}s[o.previousIndex]=l-c}}a!==u&&e(o,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!sf(e))throw new C(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)):(n=this._mismatch(n,s,o,a),r=!0),n=n._next}else i=0,function NW(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Symbol.iterator]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,o,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new z7(n,r),s,i),e}_verifyReinsertion(e,n,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const i=null===n?this._itHead:n._next;return e._next=i,e._prev=n,null===i?this._itTail=e:i._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new dP),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new dP),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class z7{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class q7{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class dP{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new q7,this.map.set(n,r)),r.add(e)}get(e,n){const i=this.map.get(e);return i?i.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function hP(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function pP(){return new Sf([new lP])}let Sf=(()=>{class t{constructor(n){this.factories=n}static create(n,r){if(null!=r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||pP()),deps:[[t,new Ah,new Et]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(null!=r)return r;throw new C(901,!1)}}return t.\u0275prov=j({token:t,providedIn:"root",factory:pP}),t})();const X7=Jk(null,"core",[]);let J7=(()=>{class t{constructor(n){}}return t.\u0275fac=function(n){return new(n||t)($($a))},t.\u0275mod=tn({type:t}),t.\u0275inj=$t({}),t})(),IP=(()=>{class t{get whenAllTasksComplete(){return 0===this.collection.size&&this.complete(),this.promise}constructor(){this.taskId=0,this.collection=new Set,this.ngZone=V(Te),this.completed=!1,this.ngZone.runOutsideAngular(()=>{this.promise=new Promise(n=>{this.resolve=n})})}add(){if(this.completed)return-1;const n=this.taskId++;return this.collection.add(n),n}remove(n){this.completed||(this.collection.delete(n),0===this.collection.size&&this.complete())}ngOnDestroy(){this.complete(),this.collection.clear()}complete(){this.completed=!0,this.resolve()}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Lv=null;function os(){return Lv}class lK{}const cr=new L("DocumentToken");let Vv=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:function(){return V(hK)},providedIn:"platform"}),t})();const dK=new L("Location Initialized");let hK=(()=>{class t extends Vv{constructor(){super(),this._doc=V(cr),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return os().getBaseHref(this._doc)}onPopState(n){const r=os().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=os().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:function(){return new t},providedIn:"platform"}),t})();function Uv(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function DP(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function Si(t){return t&&"?"!==t[0]?"?"+t:t}let to=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:function(){return V(CP)},providedIn:"root"}),t})();const bP=new L("appBaseHref");let CP=(()=>{class t extends to{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??V(cr).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Uv(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+Si(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,s){const o=this.prepareExternalUrl(i+Si(s));this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){const o=this.prepareExternalUrl(i+Si(s));this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return t.\u0275fac=function(n){return new(n||t)($(Vv),$(bP,8))},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),fK=(()=>{class t extends to{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=Uv(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+Si(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+Si(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return t.\u0275fac=function(n){return new(n||t)($(Vv),$(bP,8))},t.\u0275prov=j({token:t,factory:t.\u0275fac}),t})(),Bv=(()=>{class t{constructor(n){this._subject=new tt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._basePath=function mK(t){if(new RegExp("^(https?:)?//").test(t)){const[,n]=t.split(/\/\/[^\/]+/);return n}return t}(DP(TP(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Si(r))}normalize(n){return t.stripTrailingSlash(function gK(t,e){if(!t||!e.startsWith(t))return e;const n=e.substring(t.length);return""===n||["/",";","?","#"].includes(n[0])?n:e}(this._basePath,TP(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Si(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Si(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}}return t.normalizeQueryParams=Si,t.joinWithSlash=Uv,t.stripTrailingSlash=DP,t.\u0275fac=function(n){return new(n||t)($(to))},t.\u0275prov=j({token:t,factory:function(){return function pK(){return new Bv($(to))}()},providedIn:"root"}),t})();function TP(t){return t.replace(/\/index.html$/,"")}class nQ{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Xv=(()=>{class t{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const r=this._viewContainer;n.forEachOperation((i,s,o)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new nQ(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===s?void 0:s);else if(null!==s){const a=r.get(s);r.move(a,o),LP(a,i)}});for(let i=0,s=r.length;i<s;i++){const a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{LP(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(n,r){return!0}}return t.\u0275fac=function(n){return new(n||t)(T(Ir),T(Ci),T(Sf))},t.\u0275dir=Q({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),t})();function LP(t,e){t.context.$implicit=e.item}let Jv=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new rQ,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){VP("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){VP("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}}return t.\u0275fac=function(n){return new(n||t)(T(Ir),T(Ci))},t.\u0275dir=Q({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),t})();class rQ{constructor(){this.$implicit=null,this.ngIf=null}}function VP(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${vt(e)}'.`)}let $P=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=tn({type:t}),t.\u0275inj=$t({}),t})();function HP(t){return"server"===t}let RQ=(()=>{class t{}return t.\u0275prov=j({token:t,providedIn:"root",factory:()=>new NQ($(cr),window)}),t})();class NQ{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const n=function kQ(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&"function"==typeof t.body.attachShadow){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const n=this.window.history;n&&n.scrollRestoration&&(n.scrollRestoration=e)}}scrollToElement(e){const n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=GP(this.window.history)||GP(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function GP(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class aY extends lK{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class sw extends aY{static makeCurrent(){!function cK(t){Lv||(Lv=t)}(new sw)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function uY(){return Wc=Wc||document.querySelector("base"),Wc?Wc.getAttribute("href"):null}();return null==n?null:function cY(t){$f=$f||document.createElement("a"),$f.setAttribute("href",t);const e=$f.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){Wc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function ZK(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,s]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let $f,Wc=null,dY=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac}),t})();const ow=new L("EventManagerPlugins");let QP=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(s=>s.supports(n)),!r)throw new C(5101,!1);return this._eventNameToPlugin.set(n,r),r}}return t.\u0275fac=function(n){return new(n||t)($(ow),$(Te))},t.\u0275prov=j({token:t,factory:t.\u0275fac}),t})();class YP{constructor(e){this._doc=e}}const aw="ng-app-id";let XP=(()=>{class t{constructor(n,r,i,s={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=HP(s),this.resetHostNodes()}addStyles(n){for(const r of n)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(n){for(const r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(const r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){const r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){const n=this.doc.head?.querySelectorAll(`style[${aw}="${this.appId}"]`);if(n?.length){const r=new Map;return n.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){const i=this.styleRef;if(i.has(n)){const s=i.get(n);return s.usage+=r,s.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){const i=this.styleNodesInDOM,s=i?.get(r);if(s?.parentNode===n)return i.delete(r),s.removeAttribute(aw),s;{const o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=r,this.platformIsServer&&o.setAttribute(aw,this.appId),o}}addStyleToHost(n,r){const i=this.getStyleElement(n,r);n.appendChild(i);const s=this.styleRef,o=s.get(r)?.elements;o?o.push(i):s.set(r,{elements:[i],usage:1})}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}}return t.\u0275fac=function(n){return new(n||t)($(cr),$(zh),$(hR,8),$(rs))},t.\u0275prov=j({token:t,factory:t.\u0275fac}),t})();const uw={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},cw=/%COMP%/g,gY=new L("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function ZP(t,e){return e.map(n=>n.replace(cw,t))}let eO=(()=>{class t{constructor(n,r,i,s,o,a,u,c=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestory=s,this.doc=o,this.platformId=a,this.ngZone=u,this.nonce=c,this.rendererByCompId=new Map,this.platformIsServer=HP(a),this.defaultRenderer=new lw(n,o,u,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===qn.ShadowDom&&(r={...r,encapsulation:qn.Emulated});const i=this.getOrCreateRenderer(n,r);return i instanceof nO?i.applyToHost(n):i instanceof dw&&i.applyStyles(),i}getOrCreateRenderer(n,r){const i=this.rendererByCompId;let s=i.get(r.id);if(!s){const o=this.doc,a=this.ngZone,u=this.eventManager,c=this.sharedStylesHost,l=this.removeStylesOnCompDestory,d=this.platformIsServer;switch(r.encapsulation){case qn.Emulated:s=new nO(u,c,r,this.appId,l,o,a,d);break;case qn.ShadowDom:return new vY(u,c,n,r,o,a,this.nonce,d);default:s=new dw(u,c,r,l,o,a,d)}s.onDestroy=()=>i.delete(r.id),i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}}return t.\u0275fac=function(n){return new(n||t)($(QP),$(XP),$(zh),$(gY),$(cr),$(rs),$(Te),$(hR))},t.\u0275prov=j({token:t,factory:t.\u0275fac}),t})();class lw{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(uw[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(tO(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(tO(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new C(5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const s=uw[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=uw[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Pn.DashCase|Pn.Important)?e.style.setProperty(n,r,i&Pn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Pn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){if("string"==typeof e&&!(e=os().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if("__ngUnwrap__"===n)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))&&n.preventDefault()}}}function tO(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class vY extends lw{constructor(e,n,r,i,s,o,a,u){super(e,s,o,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=ZP(i.id,i.styles);for(const l of c){const d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=l,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class dw extends lw{constructor(e,n,r,i,s,o,a,u){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestory=i,this.rendererUsageCount=0,this.styles=u?ZP(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class nO extends dw{constructor(e,n,r,i,s,o,a,u){const c=i+"-"+r.id;super(e,n,r,s,o,a,u,c),this.contentAttr=function mY(t){return"_ngcontent-%COMP%".replace(cw,t)}(c),this.hostAttr=function yY(t){return"_nghost-%COMP%".replace(cw,t)}(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}let wY=(()=>{class t extends YP{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}}return t.\u0275fac=function(n){return new(n||t)($(cr))},t.\u0275prov=j({token:t,factory:t.\u0275fac}),t})();const rO=["alt","control","meta","shift"],IY={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},EY={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let DY=(()=>{class t extends YP{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,r,i){const s=t.parseEventName(r),o=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>os().onAndCancel(n,s.domEventName,o))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=t._normalizeKey(r.pop());let o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),rO.forEach(c=>{const l=r.indexOf(c);l>-1&&(r.splice(l,1),o+=c+".")}),o+=s,0!=r.length||0===s.length)return null;const u={};return u.domEventName=i,u.fullKey=o,u}static matchEventFullKeyCode(n,r){let i=IY[n.key]||n.key,s="";return r.indexOf("code.")>-1&&(i=n.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),rO.forEach(o=>{o!==i&&(0,EY[o])(n)&&(s+=o+".")}),s+=i,s===r)}static eventCallback(n,r,i){return s=>{t.matchEventFullKeyCode(s,n)&&i.runGuarded(()=>r(s))}}static _normalizeKey(n){return"esc"===n?"escape":n}}return t.\u0275fac=function(n){return new(n||t)($(cr))},t.\u0275prov=j({token:t,factory:t.\u0275fac}),t})();const sO=[{provide:rs,useValue:"browser"},{provide:dR,useValue:function bY(){sw.makeCurrent()},multi:!0},{provide:cr,useFactory:function TY(){return function Dq(t){Xy=t}(document),document},deps:[]}],SY=Jk(X7,"browser",sO),AY=new L(""),oO=[{provide:Ef,useClass:class lY{addToWindow(e){ke.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new C(5103,!1);return s},ke.getAllAngularTestabilities=()=>e.getAllTestabilities(),ke.getAllAngularRootElements=()=>e.getAllRootElements(),ke.frameworkStabilizers||(ke.frameworkStabilizers=[]),ke.frameworkStabilizers.push(r=>{const i=ke.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(u){o=o||u,s--,0==s&&r(o)};i.forEach(function(u){u.whenStable(a)})})}findTestabilityInTree(e,n,r){return null==n?null:e.getTestability(n)??(r?os().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},deps:[]},{provide:Wk,useClass:Cv,deps:[Te,Tv,Ef]},{provide:Cv,useClass:Cv,deps:[Te,Tv,Ef]}],aO=[{provide:o_,useValue:"root"},{provide:Ys,useFactory:function CY(){return new Ys},deps:[]},{provide:ow,useClass:wY,multi:!0,deps:[cr,Te,rs]},{provide:ow,useClass:DY,multi:!0,deps:[cr]},eO,XP,QP,{provide:wR,useExisting:eO},{provide:class PQ{},useClass:dY,deps:[]},[]];let MY=(()=>{class t{constructor(n){}static withServerTransition(n){return{ngModule:t,providers:[{provide:zh,useValue:n.appId}]}}}return t.\u0275fac=function(n){return new(n||t)($(AY,12))},t.\u0275mod=tn({type:t}),t.\u0275inj=$t({providers:[...aO,...oO],imports:[$P,J7]}),t})(),uO=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}}return t.\u0275fac=function(n){return new(n||t)($(cr))},t.\u0275prov=j({token:t,factory:function(n){let r=null;return r=n?new n:function RY(){return new uO($(cr))}(),r},providedIn:"root"}),t})();function ee(...t){return Mt(t,Yu(t))}typeof window<"u"&&window;class Cr extends di{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const{isArray:LY}=Array,{getPrototypeOf:VY,prototype:UY,keys:BY}=Object;function hO(t){if(1===t.length){const e=t[0];if(LY(e))return{args:e,keys:null};if(function $Y(t){return t&&"object"==typeof t&&VY(t)===UY}(e)){const n=BY(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}const{isArray:jY}=Array;function fO(t){return De(e=>function HY(t,e){return jY(e)?t(...e):t(e)}(t,e))}function pO(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function fw(...t){const e=Yu(t),n=HA(t),{args:r,keys:i}=hO(t);if(0===r.length)return Mt([],e);const s=new Fe(function GY(t,e,n=$s){return r=>{gO(e,()=>{const{length:i}=t,s=new Array(i);let o=i,a=i;for(let u=0;u<i;u++)gO(e,()=>{const c=Mt(t[u],e);let l=!1;c.subscribe(At(r,d=>{s[u]=d,l||(l=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>pO(i,o):$s));return n?s.pipe(fO(n)):s}function gO(t,e,n){t?hi(n,t,e):e()}const jf=Ku(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function pw(...t){return function zY(){return Xo(1)}()(Mt(t,Yu(t)))}function mO(t){return new Fe(e=>{ir(t()).subscribe(e)})}function Kc(t,e){const n=xe(t)?t:()=>t,r=i=>i.error(n());return new Fe(e?i=>e.schedule(r,0,i):r)}function gw(){return Ut((t,e)=>{let n=null;t._refCount++;const r=At(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class yO extends Fe{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,AA(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Gn;const n=this.getSubject();e.add(this.source.subscribe(At(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Gn.EMPTY)}return e}refCount(){return gw()(this)}}function Mi(t,e){return Ut((n,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();n.subscribe(At(r,u=>{i?.unsubscribe();let c=0;const l=s++;ir(t(u,l)).subscribe(i=At(r,d=>r.next(e?e(u,d,l,c++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function Ha(t){return t<=0?()=>kr:Ut((e,n)=>{let r=0;e.subscribe(At(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function us(t,e){return Ut((n,r)=>{let i=0;n.subscribe(At(r,s=>t.call(e,s,i++)&&r.next(s)))})}function Hf(t){return Ut((e,n)=>{let r=!1;e.subscribe(At(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function _O(t=WY){return Ut((e,n)=>{let r=!1;e.subscribe(At(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function WY(){return new jf}function no(t,e){const n=arguments.length>=2;return r=>r.pipe(t?us((i,s)=>t(i,s,r)):$s,Ha(1),n?Hf(e):_O(()=>new jf))}function Qc(t,e){return xe(e)?Bt(t,e,1):Bt(t,1)}function an(t,e,n){const r=xe(t)||e||n?{next:t,error:e,complete:n}:t;return r?Ut((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(At(s,u=>{var c;null===(c=r.next)||void 0===c||c.call(r,u),s.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),s.complete()},u=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,u),s.error(u)},()=>{var u,c;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):$s}function ro(t){return Ut((e,n)=>{let s,r=null,i=!1;r=e.subscribe(At(n,void 0,void 0,o=>{s=ir(t(o,ro(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function mw(t){return t<=0?()=>kr:Ut((e,n)=>{let r=[];e.subscribe(At(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function yw(t){return Ut((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}const se="primary",Yc=Symbol("RouteTitle");class JY{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function Ga(t){return new JY(t)}function ZY(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function qr(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!vO(t[i],e[i]))return!1;return!0}function vO(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}return t===e}function wO(t){return t.length>0?t[t.length-1]:null}function cs(t){return function FY(t){return!!t&&(t instanceof Fe||xe(t.lift)&&xe(t.subscribe))}(t)?t:kc(t)?Mt(Promise.resolve(t)):ee(t)}const tX={exact:function DO(t,e,n){if(!io(t.segments,e.segments)||!Gf(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!DO(t.children[r],e.children[r],n))return!1;return!0},subset:bO},IO={exact:function nX(t,e){return qr(t,e)},subset:function rX(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>vO(t[n],e[n]))},ignored:()=>!0};function EO(t,e,n){return tX[n.paths](t.root,e.root,n.matrixParams)&&IO[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function bO(t,e,n){return CO(t,e,e.segments,n)}function CO(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!io(i,n)||e.hasChildren()||!Gf(i,n,r))}if(t.segments.length===n.length){if(!io(t.segments,n)||!Gf(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!bO(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!!(io(t.segments,i)&&Gf(t.segments,i,r)&&t.children[se])&&CO(t.children[se],e,s,r)}}function Gf(t,e,n){return e.every((r,i)=>IO[n](t[i].parameters,r.parameters))}class za{constructor(e=new Se([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ga(this.queryParams)),this._queryParamMap}toString(){return oX.serialize(this)}}class Se{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return zf(this)}}class Xc{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=Ga(this.parameters)),this._parameterMap}toString(){return AO(this)}}function io(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}let Jc=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:function(){return new _w},providedIn:"root"}),t})();class _w{parse(e){const n=new yX(e);return new za(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${Zc(e.root,!0)}`,r=function cX(t){const e=Object.keys(t).map(n=>{const r=t[n];return Array.isArray(r)?r.map(i=>`${qf(n)}=${qf(i)}`).join("&"):`${qf(n)}=${qf(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${n}${r}${"string"==typeof e.fragment?`#${function aX(t){return encodeURI(t)}(e.fragment)}`:""}`}}const oX=new _w;function zf(t){return t.segments.map(e=>AO(e)).join("/")}function Zc(t,e){if(!t.hasChildren())return zf(t);if(e){const n=t.children[se]?Zc(t.children[se],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==se&&r.push(`${i}:${Zc(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function sX(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===se&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==se&&(n=n.concat(e(i,r)))}),n}(t,(r,i)=>i===se?[Zc(t.children[se],!1)]:[`${i}:${Zc(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[se]?`${zf(t)}/${n[0]}`:`${zf(t)}/(${n.join("//")})`}}function TO(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function qf(t){return TO(t).replace(/%3B/gi,";")}function vw(t){return TO(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Wf(t){return decodeURIComponent(t)}function SO(t){return Wf(t.replace(/\+/g,"%20"))}function AO(t){return`${vw(t.path)}${function uX(t){return Object.keys(t).map(e=>`;${vw(e)}=${vw(t[e])}`).join("")}(t.parameters)}`}const lX=/^[^\/()?;#]+/;function ww(t){const e=t.match(lX);return e?e[0]:""}const dX=/^[^\/()?;=#]+/,fX=/^[^=?&#]+/,gX=/^[^&#]+/;class yX{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Se([],{}):new Se([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[se]=new Se(e,n)),r}parseSegment(){const e=ww(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new C(4009,!1);return this.capture(e),new Xc(Wf(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=function hX(t){const e=t.match(dX);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=ww(this.remaining);i&&(r=i,this.capture(r))}e[Wf(n)]=Wf(r)}parseQueryParam(e){const n=function pX(t){const e=t.match(fX);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const o=function mX(t){const e=t.match(gX);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=SO(n),s=SO(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=ww(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new C(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=se);const o=this.parseChildren();n[s]=1===Object.keys(o).length?o[se]:new Se([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new C(4011,!1)}}function MO(t){return t.segments.length>0?new Se([],{[se]:t}):t}function xO(t){const e={};for(const r of Object.keys(t.children)){const s=xO(t.children[r]);if(r===se&&0===s.segments.length&&s.hasChildren())for(const[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function _X(t){if(1===t.numberOfChildren&&t.children[se]){const e=t.children[se];return new Se(t.segments.concat(e.segments),e.children)}return t}(new Se(t.segments,e))}function so(t){return t instanceof za}function RO(t){let e;const i=MO(function n(s){const o={};for(const u of s.children){const c=n(u);o[u.outlet]=c}const a=new Se(s.url,o);return s===t&&(e=a),a}(t.root));return e??i}function NO(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(0===e.length)return Iw(i,i,i,n,r);const s=function wX(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new PO(!0,0,t);let e=0,n=!1;const r=t.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Object.entries(s.outlets).forEach(([u,c])=>{a[u]="string"==typeof c?c.split("/"):c}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,u)=>{0==u&&"."===a||(0==u&&""===a?n=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new PO(n,e,r)}(e);if(s.toRoot())return Iw(i,i,new Se([],{}),n,r);const o=function IX(t,e,n){if(t.isAbsolute)return new Qf(e,!0,0);if(!n)return new Qf(e,!1,NaN);if(null===n.parent)return new Qf(n,!0,0);const r=Kf(t.commands[0])?0:1;return function EX(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new C(4005,!1);i=r.segments.length}return new Qf(r,!1,i-s)}(n,n.segments.length-1+r,t.numberOfDoubleDots)}(s,i,t),a=o.processChildren?tl(o.segmentGroup,o.index,s.commands):OO(o.segmentGroup,o.index,s.commands);return Iw(i,o.segmentGroup,a,n,r)}function Kf(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function el(t){return"object"==typeof t&&null!=t&&t.outlets}function Iw(t,e,n,r,i){let o,s={};r&&Object.entries(r).forEach(([u,c])=>{s[u]=Array.isArray(c)?c.map(l=>`${l}`):`${c}`}),o=t===e?n:kO(t,e,n);const a=MO(xO(o));return new za(a,s,i)}function kO(t,e,n){const r={};return Object.entries(t.children).forEach(([i,s])=>{r[i]=s===e?n:kO(s,e,n)}),new Se(t.segments,r)}class PO{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Kf(r[0]))throw new C(4003,!1);const i=r.find(el);if(i&&i!==wO(r))throw new C(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Qf{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function OO(t,e,n){if(t||(t=new Se([],{})),0===t.segments.length&&t.hasChildren())return tl(t,e,n);const r=function bX(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const o=t.segments[i],a=n[r];if(el(a))break;const u=`${a}`,c=r<n.length-1?n[r+1]:null;if(i>0&&void 0===u)break;if(u&&c&&"object"==typeof c&&void 0===c.outlets){if(!LO(u,c,o))return s;r+=2}else{if(!LO(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const s=new Se(t.segments.slice(0,r.pathIndex),{});return s.children[se]=new Se(t.segments.slice(r.pathIndex),t.children),tl(s,0,i)}return r.match&&0===i.length?new Se(t.segments,{}):r.match&&!t.hasChildren()?Ew(t,e,n):r.match?tl(t,0,i):Ew(t,e,n)}function tl(t,e,n){if(0===n.length)return new Se(t.segments,{});{const r=function DX(t){return el(t[0])?t[0].outlets:{[se]:t}}(n),i={};if(!r[se]&&t.children[se]&&1===t.numberOfChildren&&0===t.children[se].segments.length){const s=tl(t.children[se],e,n);return new Se(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{"string"==typeof o&&(o=[o]),null!==o&&(i[s]=OO(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{void 0===r[s]&&(i[s]=o)}),new Se(t.segments,i)}}function Ew(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const s=n[i];if(el(s)){const u=CX(s.outlets);return new Se(r,u)}if(0===i&&Kf(n[0])){r.push(new Xc(t.segments[e].path,FO(n[0]))),i++;continue}const o=el(s)?s.outlets[se]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&Kf(a)?(r.push(new Xc(o,FO(a))),i+=2):(r.push(new Xc(o,{})),i++)}return new Se(r,{})}function CX(t){const e={};return Object.entries(t).forEach(([n,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[n]=Ew(new Se([],{}),0,r))}),e}function FO(t){const e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function LO(t,e,n){return t==n.path&&qr(e,n.parameters)}const nl="imperative";class Wr{constructor(e,n){this.id=e,this.url=n}}class Dw extends Wr{constructor(e,n,r="imperative",i=null){super(e,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class oo extends Wr{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Yf extends Wr{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class rl extends Wr{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=16}}class bw extends Wr{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class TX extends Wr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class SX extends Wr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class AX extends Wr{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class MX extends Wr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xX extends Wr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class RX{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class NX{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class kX{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class PX{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class OX{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class FX{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class VO{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class LX{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new il,this.attachRef=null}}let il=(()=>{class t{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){const i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new LX,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class UO{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=Cw(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=Cw(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=Tw(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Tw(e,this._root).map(n=>n.value)}}function Cw(t,e){if(t===e.value)return e;for(const n of e.children){const r=Cw(t,n);if(r)return r}return null}function Tw(t,e){if(t===e.value)return[e];for(const n of e.children){const r=Tw(t,n);if(r.length)return r.unshift(e),r}return[]}class xi{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function qa(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class BO extends UO{constructor(e,n){super(e),this.snapshot=n,Sw(this,e)}toString(){return this.snapshot.toString()}}function $O(t,e){const n=function VX(t,e){const o=new Xf([],{},{},"",{},se,e,null,{});return new HO("",new xi(o,[]))}(0,e),r=new Cr([new Xc("",{})]),i=new Cr({}),s=new Cr({}),o=new Cr({}),a=new Cr(""),u=new Wa(r,i,o,a,s,se,e,n.root);return u.snapshot=n.root,new BO(new xi(u,[]),n)}class Wa{constructor(e,n,r,i,s,o,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(De(c=>c[Yc]))??ee(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(De(e=>Ga(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(De(e=>Ga(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function jO(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const i=n[r],s=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function UX(t){return t.reduce((e,n)=>({params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Xf{get title(){return this.data?.[Yc]}constructor(e,n,r,i,s,o,a,u,c){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=u,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ga(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ga(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class HO extends UO{constructor(e,n){super(n),this.url=e,Sw(this,n)}toString(){return GO(this._root)}}function Sw(t,e){e.value._routerState=t,e.children.forEach(n=>Sw(t,n))}function GO(t){const e=t.children.length>0?` { ${t.children.map(GO).join(", ")} } `:"";return`${t.value}${e}`}function Aw(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,qr(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),qr(e.params,n.params)||t.paramsSubject.next(n.params),function eX(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!qr(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.urlSubject.next(n.url),qr(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Mw(t,e){const n=qr(t.params,e.params)&&function iX(t,e){return io(t,e)&&t.every((n,r)=>qr(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||Mw(t.parent,e.parent))}let xw=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=se,this.activateEvents=new tt,this.deactivateEvents=new tt,this.attachEvents=new tt,this.detachEvents=new tt,this.parentContexts=V(il),this.location=V(Ir),this.changeDetector=V(bf),this.environmentInjector=V(wi),this.inputBinder=V(Jf,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){const{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new C(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new C(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new C(4012,!1);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new C(4013,!1);this._activatedRoute=n;const i=this.location,o=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new BX(n,a,i.injector);this.activated=i.createComponent(o,{index:i.length,injector:u,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=Q({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[or]}),t})();class BX{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Wa?this.route:e===il?this.childContexts:this.parent.get(e,n)}}const Jf=new L("");let zO=(()=>{class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){const{activatedRoute:r}=n,i=fw([r.queryParams,r.params,r.data]).pipe(Mi(([s,o,a],u)=>(a={...s,...o,...a},0===u?ee(a):Promise.resolve(a)))).subscribe(s=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(n);const o=function uK(t){const e=_e(t);if(!e)return null;const n=new Ac(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone}}}(r.component);if(o)for(const{templateName:a}of o.inputs)n.activatedComponentRef.setInput(a,s[a]);else this.unsubscribeFromRouteData(n)});this.outletDataSubscriptions.set(n,i)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac}),t})();function sl(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function jX(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return sl(t,r,i);return sl(t,r)})}(t,e,n);return new xi(r,i)}{if(t.shouldAttach(e.value)){const s=t.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>sl(t,a)),o}}const r=function HX(t){return new Wa(new Cr(t.url),new Cr(t.params),new Cr(t.queryParams),new Cr(t.fragment),new Cr(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(s=>sl(t,s));return new xi(r,i)}}const Rw="ngNavigationCancelingError";function qO(t,e){const{redirectTo:n,navigationBehaviorOptions:r}=so(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=WO(!1,0,e);return i.url=n,i.navigationBehaviorOptions=r,i}function WO(t,e,n){const r=new Error("NavigationCancelingError: "+(t||""));return r[Rw]=!0,r.cancellationCode=e,n&&(r.url=n),r}function KO(t){return QO(t)&&so(t.url)}function QO(t){return t&&t[Rw]}let YO=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=Zo({type:t,selectors:[["ng-component"]],standalone:!0,features:[K1],decls:1,vars:0,template:function(n,r){1&n&&Ee(0,"router-outlet")},dependencies:[xw],encapsulation:2}),t})();function Nw(t){const e=t.children&&t.children.map(Nw),n=e?{...t,children:e}:{...t};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==se&&(n.component=YO),n}function Tr(t){return t.outlet||se}function ol(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class YX{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Aw(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=qa(n);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=qa(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=qa(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){const i=qa(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new FX(s.value.snapshot))}),e.children.length&&this.forwardEvent(new PX(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(Aw(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),Aw(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=ol(i.snapshot);o.attachRef=null,o.route=i,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class XO{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Zf{constructor(e,n){this.component=e,this.route=n}}function XX(t,e,n){const r=t._root;return al(r,e?e._root:null,n,[r.value])}function Ka(t,e){const n=Symbol(),r=e.get(t,n);return r===n?"function"!=typeof t||function zG(t){return null!==th(t)}(t)?e.get(t):t:r}function al(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=qa(e);return t.children.forEach(o=>{(function ZX(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const u=function eJ(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!io(t.url,e.url);case"pathParamsOrQueryParamsChange":return!io(t.url,e.url)||!qr(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Mw(t,e)||!qr(t.queryParams,e.queryParams);default:return!Mw(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new XO(r)):(s.data=o.data,s._resolvedData=o._resolvedData),al(t,e,s.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Zf(a.outlet.component,o))}else o&&ul(e,a,i),i.canActivateChecks.push(new XO(r)),al(t,null,s.component?a?a.children:null:n,r,i)})(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>ul(a,n.getContext(o),i)),i}function ul(t,e,n){const r=qa(t),i=t.value;Object.entries(r).forEach(([s,o])=>{ul(o,i.component?e?e.children.getContext(s):null:e,n)}),n.canDeactivateChecks.push(new Zf(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function cl(t){return"function"==typeof t}function JO(t){return t instanceof jf||"EmptyError"===t?.name}const ep=Symbol("INITIAL_VALUE");function Qa(){return Mi(t=>fw(t.map(e=>e.pipe(Ha(1),function qY(...t){const e=Yu(t);return Ut((n,r)=>{(e?pw(t,n,e):pw(t,n)).subscribe(r)})}(ep)))).pipe(De(e=>{for(const n of e)if(!0!==n){if(n===ep)return ep;if(!1===n||n instanceof za)return n}return!0}),us(e=>e!==ep),Ha(1)))}function ZO(t){return function J4(...t){return CA(t)}(an(e=>{if(so(e))throw qO(0,e)}),De(e=>!0===e))}class tp{constructor(e){this.segmentGroup=e||null}}class eF{constructor(e){this.urlTree=e}}function Ya(t){return Kc(new tp(t))}function tF(t){return Kc(new eF(t))}class wJ{constructor(e,n){this.urlSerializer=e,this.urlTree=n}noMatchError(e){return new C(4002,!1)}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return ee(r);if(i.numberOfChildren>1||!i.children[se])return Kc(new C(4e3,!1));i=i.children[se]}}applyRedirectCommands(e,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r)}applyRedirectCreateUrlTree(e,n,r,i){const s=this.createSegmentGroup(e,n.root,r,i);return new za(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return Object.entries(e).forEach(([i,s])=>{if("string"==typeof s&&s.startsWith(":")){const a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){const s=this.createSegments(e,n.segments,r,i);let o={};return Object.entries(n.children).forEach(([a,u])=>{o[a]=this.createSegmentGroup(e,u,r,i)}),new Se(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new C(4001,!1);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}const kw={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function IJ(t,e,n,r,i){const s=Pw(t,e,n);return s.matched?(r=function GX(t,e){return t.providers&&!t._injector&&(t._injector=iv(t.providers,e,`Route: ${t.path}`)),t._injector??e}(e,r),function yJ(t,e,n,r){const i=e.canMatch;return i&&0!==i.length?ee(i.map(o=>{const a=Ka(o,t);return cs(function oJ(t){return t&&cl(t.canMatch)}(a)?a.canMatch(e,n):t.runInContext(()=>a(e,n)))})).pipe(Qa(),ZO()):ee(!0)}(r,e,n).pipe(De(o=>!0===o?s:{...kw}))):ee(s)}function Pw(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{...kw}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(e.matcher||ZY)(n,t,e);if(!i)return{...kw};const s={};Object.entries(i.posParams??{}).forEach(([a,u])=>{s[a]=u.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function nF(t,e,n,r){return n.length>0&&function bJ(t,e,n){return n.some(r=>np(t,e,r)&&Tr(r)!==se)}(t,n,r)?{segmentGroup:new Se(e,DJ(r,new Se(n,t.children))),slicedSegments:[]}:0===n.length&&function CJ(t,e,n){return n.some(r=>np(t,e,r))}(t,n,r)?{segmentGroup:new Se(t.segments,EJ(t,0,n,r,t.children)),slicedSegments:n}:{segmentGroup:new Se(t.segments,t.children),slicedSegments:n}}function EJ(t,e,n,r,i){const s={};for(const o of r)if(np(t,n,o)&&!i[Tr(o)]){const a=new Se([],{});s[Tr(o)]=a}return{...i,...s}}function DJ(t,e){const n={};n[se]=e;for(const r of t)if(""===r.path&&Tr(r)!==se){const i=new Se([],{});n[Tr(r)]=i}return n}function np(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}class MJ{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new wJ(this.urlSerializer,this.urlTree)}noMatchError(e){return new C(4002,!1)}recognize(){const e=nF(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,se).pipe(ro(n=>{if(n instanceof eF)return this.allowRedirects=!1,this.urlTree=n.urlTree,this.match(n.urlTree);throw n instanceof tp?this.noMatchError(n):n}),De(n=>{const r=new Xf([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},se,this.rootComponentType,null,{}),i=new xi(r,n),s=new HO("",i),o=function vX(t,e,n=null,r=null){return NO(RO(t),e,n,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,se).pipe(ro(r=>{throw r instanceof tp?this.noMatchError(r):r}))}inheritParamsAndData(e){const n=e.value,r=jO(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0)}processChildren(e,n,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return Mt(i).pipe(Qc(s=>{const o=r.children[s],a=function KX(t,e){const n=t.filter(r=>Tr(r)===e);return n.push(...t.filter(r=>Tr(r)!==e)),n}(n,s);return this.processSegmentGroup(e,a,o,s)}),function QY(t,e){return Ut(function KY(t,e,n,r,i){return(s,o)=>{let a=n,u=e,c=0;s.subscribe(At(o,l=>{const d=c++;u=a?t(u,l,d):(a=!0,l),r&&o.next(u)},i&&(()=>{a&&o.next(u),o.complete()})))}}(t,e,arguments.length>=2,!0))}((s,o)=>(s.push(...o),s)),Hf(null),function YY(t,e){const n=arguments.length>=2;return r=>r.pipe(t?us((i,s)=>t(i,s,r)):$s,mw(1),n?Hf(e):_O(()=>new jf))}(),Bt(s=>{if(null===s)return Ya(r);const o=rF(s);return function xJ(t){t.sort((e,n)=>e.value.outlet===se?-1:n.value.outlet===se?1:e.value.outlet.localeCompare(n.value.outlet))}(o),ee(o)}))}processSegment(e,n,r,i,s,o){return Mt(n).pipe(Qc(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,s,o).pipe(ro(u=>{if(u instanceof tp)return ee(null);throw u}))),no(a=>!!a),ro(a=>{if(JO(a))return function SJ(t,e,n){return 0===e.length&&!t.children[n]}(r,i,s)?ee([]):Ya(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,s,o,a){return function TJ(t,e,n,r){return!!(Tr(t)===r||r!==se&&np(e,n,t))&&("**"===t.path||Pw(e,t,n).matched)}(r,i,s,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,s,o,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o):Ya(i):Ya(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,i){const s=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?tF(s):this.applyRedirects.lineralizeSegments(r,s).pipe(Bt(o=>{const a=new Se(o,{});return this.processSegment(e,n,a,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){const{matched:a,consumedSegments:u,remainingSegments:c,positionalParamSegments:l}=Pw(n,i,s);if(!a)return Ya(n);const d=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,l);return i.redirectTo.startsWith("/")?tF(d):this.applyRedirects.lineralizeSegments(i,d).pipe(Bt(h=>this.processSegment(e,r,n,h.concat(c),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s,o){let a;if("**"===r.path){const u=i.length>0?wO(i).parameters:{};a=ee({snapshot:new Xf(i,u,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,iF(r),Tr(r),r.component??r._loadedComponent??null,r,sF(r)),consumedSegments:[],remainingSegments:[]}),n.children={}}else a=IJ(n,r,i,e).pipe(De(({matched:u,consumedSegments:c,remainingSegments:l,parameters:d})=>u?{snapshot:new Xf(c,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,iF(r),Tr(r),r.component??r._loadedComponent??null,r,sF(r)),consumedSegments:c,remainingSegments:l}:null));return a.pipe(Mi(u=>null===u?Ya(n):this.getChildConfig(e=r._injector??e,r,i).pipe(Mi(({routes:c})=>{const l=r._loadedInjector??e,{snapshot:d,consumedSegments:h,remainingSegments:f}=u,{segmentGroup:p,slicedSegments:m}=nF(n,h,f,c);if(0===m.length&&p.hasChildren())return this.processChildren(l,c,p).pipe(De(v=>null===v?null:[new xi(d,v)]));if(0===c.length&&0===m.length)return ee([new xi(d,[])]);const y=Tr(r)===s;return this.processSegment(l,c,p,m,y?se:s,!0).pipe(De(v=>[new xi(d,v)]))}))))}getChildConfig(e,n,r){return n.children?ee({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?ee({routes:n._loadedRoutes,injector:n._loadedInjector}):function mJ(t,e,n,r){const i=e.canLoad;return void 0===i||0===i.length?ee(!0):ee(i.map(o=>{const a=Ka(o,t);return cs(function nJ(t){return t&&cl(t.canLoad)}(a)?a.canLoad(e,n):t.runInContext(()=>a(e,n)))})).pipe(Qa(),ZO())}(e,n,r).pipe(Bt(i=>i?this.configLoader.loadChildren(e,n).pipe(an(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):function vJ(t){return Kc(WO(!1,3))}())):ee({routes:[],injector:e})}}function RJ(t){const e=t.value.routeConfig;return e&&""===e.path}function rF(t){const e=[],n=new Set;for(const r of t){if(!RJ(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=rF(r.children);e.push(new xi(r.value,i))}return e.filter(r=>!n.has(r))}function iF(t){return t.data||{}}function sF(t){return t.resolve||{}}function oF(t){return"string"==typeof t.title||null===t.title}function Ow(t){return Mi(e=>{const n=t(e);return n?Mt(n).pipe(De(()=>e)):ee(e)})}const Xa=new L("ROUTES");let Fw=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=V(Uk)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return ee(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const r=cs(n.loadComponent()).pipe(De(aF),an(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),yw(()=>{this.componentLoaders.delete(n)})),i=new yO(r,()=>new di).pipe(gw());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return ee({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(De(a=>{this.onLoadEndListener&&this.onLoadEndListener(r);let u,c;return Array.isArray(a)?c=a:(u=a.create(n).injector,c=u.get(Xa,[],H.Self|H.Optional).flat()),{routes:c.map(Nw),injector:u}}),yw(()=>{this.childrenLoaders.delete(r)})),o=new yO(s,()=>new di).pipe(gw());return this.childrenLoaders.set(r,o),o}loadModuleFactoryOrRoutes(n){return cs(n()).pipe(De(aF),Bt(r=>r instanceof q1||Array.isArray(r)?ee(r):Mt(this.compiler.compileModuleAsync(r))))}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function aF(t){return function VJ(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let rp=(()=>{class t{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new di,this.configLoader=V(Fw),this.environmentInjector=V(wi),this.urlSerializer=V(Jc),this.rootContexts=V(il),this.inputBindingEnabled=null!==V(Jf,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>ee(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new NX(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new RX(i))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:r})}setupNavigations(n){return this.transitions=new Cr({id:0,currentUrlTree:n.currentUrlTree,currentRawUrl:n.currentUrlTree,extractedUrl:n.urlHandlingStrategy.extract(n.currentUrlTree),urlAfterRedirects:n.urlHandlingStrategy.extract(n.currentUrlTree),rawUrl:n.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:nl,restoredState:null,currentSnapshot:n.routerState.snapshot,targetSnapshot:null,currentRouterState:n.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(us(r=>0!==r.id),De(r=>({...r,extractedUrl:n.urlHandlingStrategy.extract(r.rawUrl)})),Mi(r=>{let i=!1,s=!1;return ee(r).pipe(an(o=>{this.currentNavigation={id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Mi(o=>{const a=n.browserUrlTree.toString(),u=!n.navigated||o.extractedUrl.toString()!==a||a!==n.currentUrlTree.toString();if(!u&&"reload"!==(o.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const l="";return this.events.next(new rl(o.id,n.serializeUrl(r.rawUrl),l,0)),n.rawUrlTree=o.rawUrl,o.resolve(null),kr}if(n.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return uF(o.source)&&(n.browserUrlTree=o.extractedUrl),ee(o).pipe(Mi(l=>{const d=this.transitions?.getValue();return this.events.next(new Dw(l.id,this.urlSerializer.serialize(l.extractedUrl),l.source,l.restoredState)),d!==this.transitions?.getValue()?kr:Promise.resolve(l)}),function NJ(t,e,n,r,i,s){return Bt(o=>function AJ(t,e,n,r,i,s,o="emptyOnly"){return new MJ(t,e,n,r,i,o,s).recognize()}(t,e,n,r,o.extractedUrl,i,s).pipe(De(({state:a,tree:u})=>({...o,targetSnapshot:a,urlAfterRedirects:u}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,n.paramsInheritanceStrategy),an(l=>{if(r.targetSnapshot=l.targetSnapshot,r.urlAfterRedirects=l.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:l.urlAfterRedirects},"eager"===n.urlUpdateStrategy){if(!l.extras.skipLocationChange){const h=n.urlHandlingStrategy.merge(l.urlAfterRedirects,l.rawUrl);n.setBrowserUrl(h,l)}n.browserUrlTree=l.urlAfterRedirects}const d=new TX(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}));if(u&&n.urlHandlingStrategy.shouldProcessUrl(n.rawUrlTree)){const{id:l,extractedUrl:d,source:h,restoredState:f,extras:p}=o,m=new Dw(l,this.urlSerializer.serialize(d),h,f);this.events.next(m);const y=$O(0,this.rootComponentType).snapshot;return ee(r={...o,targetSnapshot:y,urlAfterRedirects:d,extras:{...p,skipLocationChange:!1,replaceUrl:!1}})}{const l="";return this.events.next(new rl(o.id,n.serializeUrl(r.extractedUrl),l,1)),n.rawUrlTree=o.rawUrl,o.resolve(null),kr}}),an(o=>{const a=new SX(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(a)}),De(o=>r={...o,guards:XX(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),function uJ(t,e){return Bt(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?ee({...n,guardsResult:!0}):function cJ(t,e,n,r){return Mt(t).pipe(Bt(i=>function gJ(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?ee(s.map(a=>{const u=ol(e)??i,c=Ka(a,u);return cs(function sJ(t){return t&&cl(t.canDeactivate)}(c)?c.canDeactivate(t,e,n,r):u.runInContext(()=>c(t,e,n,r))).pipe(no())})).pipe(Qa()):ee(!0)}(i.component,i.route,n,e,r)),no(i=>!0!==i,!0))}(o,r,i,t).pipe(Bt(a=>a&&function tJ(t){return"boolean"==typeof t}(a)?function lJ(t,e,n,r){return Mt(e).pipe(Qc(i=>pw(function hJ(t,e){return null!==t&&e&&e(new kX(t)),ee(!0)}(i.route.parent,r),function dJ(t,e){return null!==t&&e&&e(new OX(t)),ee(!0)}(i.route,r),function pJ(t,e,n){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function JX(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(o)).filter(o=>null!==o).map(o=>mO(()=>ee(o.guards.map(u=>{const c=ol(o.node)??n,l=Ka(u,c);return cs(function iJ(t){return t&&cl(t.canActivateChild)}(l)?l.canActivateChild(r,t):c.runInContext(()=>l(r,t))).pipe(no())})).pipe(Qa())));return ee(s).pipe(Qa())}(t,i.path,n),function fJ(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return ee(!0);const i=r.map(s=>mO(()=>{const o=ol(e)??n,a=Ka(s,o);return cs(function rJ(t){return t&&cl(t.canActivate)}(a)?a.canActivate(e,t):o.runInContext(()=>a(e,t))).pipe(no())}));return ee(i).pipe(Qa())}(t,i.route,n))),no(i=>!0!==i,!0))}(r,s,t,e):ee(a)),De(a=>({...n,guardsResult:a})))})}(this.environmentInjector,o=>this.events.next(o)),an(o=>{if(r.guardsResult=o.guardsResult,so(o.guardsResult))throw qO(0,o.guardsResult);const a=new AX(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(a)}),us(o=>!!o.guardsResult||(n.restoreHistory(o),this.cancelNavigationTransition(o,"",3),!1)),Ow(o=>{if(o.guards.canActivateChecks.length)return ee(o).pipe(an(a=>{const u=new MX(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}),Mi(a=>{let u=!1;return ee(a).pipe(function kJ(t,e){return Bt(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return ee(n);let s=0;return Mt(i).pipe(Qc(o=>function PJ(t,e,n,r){const i=t.routeConfig,s=t._resolve;return void 0!==i?.title&&!oF(i)&&(s[Yc]=i.title),function OJ(t,e,n,r){const i=function FJ(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===i.length)return ee({});const s={};return Mt(i).pipe(Bt(o=>function LJ(t,e,n,r){const i=ol(e)??r,s=Ka(t,i);return cs(s.resolve?s.resolve(e,n):i.runInContext(()=>s(e,n)))}(t[o],e,n,r).pipe(no(),an(a=>{s[o]=a}))),mw(1),function XY(t){return De(()=>t)}(s),ro(o=>JO(o)?kr:Kc(o)))}(s,t,e,r).pipe(De(o=>(t._resolvedData=o,t.data=jO(t,n).resolve,i&&oF(i)&&(t.data[Yc]=i.title),null)))}(o.route,r,t,e)),an(()=>s++),mw(1),Bt(o=>s===i.length?ee(n):kr))})}(n.paramsInheritanceStrategy,this.environmentInjector),an({next:()=>u=!0,complete:()=>{u||(n.restoreHistory(a),this.cancelNavigationTransition(a,"",2))}}))}),an(a=>{const u=new xX(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}))}),Ow(o=>{const a=u=>{const c=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&c.push(this.configLoader.loadComponent(u.routeConfig).pipe(an(l=>{u.component=l}),De(()=>{})));for(const l of u.children)c.push(...a(l));return c};return fw(a(o.targetSnapshot.root)).pipe(Hf(),Ha(1))}),Ow(()=>this.afterPreactivation()),De(o=>{const a=function $X(t,e,n){const r=sl(t,e._root,n?n._root:void 0);return new BO(r,e)}(n.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return r={...o,targetRouterState:a}}),an(o=>{n.currentUrlTree=o.urlAfterRedirects,n.rawUrlTree=n.urlHandlingStrategy.merge(o.urlAfterRedirects,o.rawUrl),n.routerState=o.targetRouterState,"deferred"===n.urlUpdateStrategy&&(o.extras.skipLocationChange||n.setBrowserUrl(n.rawUrlTree,o),n.browserUrlTree=o.urlAfterRedirects)}),((t,e,n,r)=>De(i=>(new YX(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)))(this.rootContexts,n.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),Ha(1),an({next:o=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,n.navigated=!0,this.events.next(new oo(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(n.currentUrlTree))),n.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),yw(()=>{i||s||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),ro(o=>{if(s=!0,QO(o)){KO(o)||(n.navigated=!0,n.restoreHistory(r,!0));const a=new Yf(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode);if(this.events.next(a),KO(o)){const u=n.urlHandlingStrategy.merge(o.url,n.rawUrlTree),c={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===n.urlUpdateStrategy||uF(r.source)};n.scheduleNavigation(u,nl,null,c,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{n.restoreHistory(r,!0);const a=new bw(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);this.events.next(a);try{r.resolve(n.errorHandler(o))}catch(u){r.reject(u)}}return kr}))}))}cancelNavigationTransition(n,r,i){const s=new Yf(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(s),n.resolve(!1)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function uF(t){return t!==nl}let cF=(()=>{class t{buildTitle(n){let r,i=n.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===se);return r}getResolvedTitleForRoute(n){return n.data[Yc]}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:function(){return V(UJ)},providedIn:"root"}),t})(),UJ=(()=>{class t extends cF{constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}}return t.\u0275fac=function(n){return new(n||t)($(uO))},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),BJ=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:function(){return V(jJ)},providedIn:"root"}),t})();class $J{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}let jJ=(()=>{class t extends $J{}return t.\u0275fac=function(){let e;return function(r){return(e||(e=Gt(t)))(r||t)}}(),t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const ip=new L("",{providedIn:"root",factory:()=>({})});let HJ=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:function(){return V(GJ)},providedIn:"root"}),t})(),GJ=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var Zn=(()=>((Zn=Zn||{})[Zn.COMPLETE=0]="COMPLETE",Zn[Zn.FAILED=1]="FAILED",Zn[Zn.REDIRECTING=2]="REDIRECTING",Zn))();function lF(t,e){t.events.pipe(us(n=>n instanceof oo||n instanceof Yf||n instanceof bw||n instanceof rl),De(n=>n instanceof oo||n instanceof rl?Zn.COMPLETE:n instanceof Yf&&(0===n.code||1===n.code)?Zn.REDIRECTING:Zn.FAILED),us(n=>n!==Zn.REDIRECTING),Ha(1)).subscribe(()=>{e()})}function zJ(t){throw t}function qJ(t,e,n){return e.parse("/")}const WJ={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},KJ={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let hr=(()=>{class t{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=V(Vk),this.isNgZoneEnabled=!1,this.options=V(ip,{optional:!0})||{},this.pendingTasks=V(IP),this.errorHandler=this.options.errorHandler||zJ,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||qJ,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=V(HJ),this.routeReuseStrategy=V(BJ),this.titleStrategy=V(cF),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=V(Xa,{optional:!0})?.flat()??[],this.navigationTransitions=V(rp),this.urlSerializer=V(Jc),this.location=V(Bv),this.componentInputBindingEnabled=!!V(Jf,{optional:!0}),this.isNgZoneEnabled=V(Te)instanceof Te&&Te.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new za,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=$O(0,null),this.navigationTransitions.setupNavigations(this).subscribe(n=>{this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId??0},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)})}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const n=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),nl,n)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r="popstate"===n.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(n.url,r,n.state)},0)}))}navigateToSyncWithBrowser(n,r,i){const s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){const u={...i};delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(s.state=u)}const a=this.parseUrl(n);this.scheduleNavigation(a,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(Nw),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(n,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:u}=r,c=u?this.currentUrlTree.fragment:o;let d,l=null;switch(a){case"merge":l={...this.currentUrlTree.queryParams,...s};break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=s||null}null!==l&&(l=this.removeEmptyProps(l));try{d=RO(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof n[0]||!n[0].startsWith("/"))&&(n=[]),d=this.currentUrlTree.root}return NO(d,n,l,c??null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=so(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,nl,null,r)}navigate(n,r={skipLocationChange:!1}){return function QJ(t){for(let e=0;e<t.length;e++)if(null==t[e])throw new C(4008,!1)}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,n)}return r}isActive(n,r){let i;if(i=!0===r?{...WJ}:!1===r?{...KJ}:r,so(n))return EO(this.currentUrlTree,n,i);const s=this.parseUrl(n);return EO(this.currentUrlTree,s,i)}removeEmptyProps(n){return Object.keys(n).reduce((r,i)=>{const s=n[i];return null!=s&&(r[i]=s),r},{})}scheduleNavigation(n,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,u,c;o?(a=o.resolve,u=o.reject,c=o.promise):c=new Promise((d,h)=>{a=d,u=h});const l=this.pendingTasks.add();return lF(this,()=>{Promise.resolve().then(()=>this.pendingTasks.remove(l))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:s,resolve:a,reject:u,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(d=>Promise.reject(d))}setBrowserUrl(n,r){const i=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const o={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",o)}else{const s={...r.extras.state,...this.generateNgRouterState(r.id,(this.browserPageId??0)+1)};this.location.go(i,"",s)}}restoreHistory(n,r=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-(this.browserPageId??this.currentPageId);0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class dF{}let JJ=(()=>{class t{constructor(n,r,i,s,o){this.router=n,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(us(n=>n instanceof oo),Qc(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=iv(s.providers,n,`Route: ${s.path}`));const o=s._injector??n,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return Mt(i).pipe(Xo())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(n,r):ee(null);const s=i.pipe(Bt(o=>null===o?ee(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??n,o.routes))));return r.loadComponent&&!r._loadedComponent?Mt([s,this.loader.loadComponent(r)]).pipe(Xo()):s})}}return t.\u0275fac=function(n){return new(n||t)($(hr),$(Uk),$(wi),$(dF),$(Fw))},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Vw=new L("");let hF=(()=>{class t{constructor(n,r,i,s,o={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Dw?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof oo?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof rl&&0===n.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof VO&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new VO(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return t.\u0275fac=function(n){!function UR(){throw new Error("invalid")}()},t.\u0275prov=j({token:t,factory:t.\u0275fac}),t})();function Ri(t,e){return{\u0275kind:t,\u0275providers:e}}function pF(){const t=V(Fn);return e=>{const n=t.get($a);if(e!==n.components[0])return;const r=t.get(hr),i=t.get(gF);1===t.get(Uw)&&r.initialNavigation(),t.get(mF,null,H.Optional)?.setUpPreloading(),t.get(Vw,null,H.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const gF=new L("",{factory:()=>new di}),Uw=new L("",{providedIn:"root",factory:()=>1}),mF=new L("");function nZ(t){return Ri(0,[{provide:mF,useExisting:JJ},{provide:dF,useExisting:t}])}const yF=new L("ROUTER_FORROOT_GUARD"),iZ=[Bv,{provide:Jc,useClass:_w},hr,il,{provide:Wa,useFactory:function fF(t){return t.routerState.root},deps:[hr]},Fw,[]];function sZ(){return new Yk("Router",hr)}let Bw=(()=>{class t{constructor(n){}static forRoot(n,r){return{ngModule:t,providers:[iZ,[],{provide:Xa,multi:!0,useValue:n},{provide:yF,useFactory:cZ,deps:[[hr,new Et,new Ah]]},{provide:ip,useValue:r||{}},r?.useHash?{provide:to,useClass:fK}:{provide:to,useClass:CP},{provide:Vw,useFactory:()=>{const t=V(RQ),e=V(Te),n=V(ip),r=V(rp),i=V(Jc);return n.scrollOffset&&t.setOffset(n.scrollOffset),new hF(i,r,t,e,n)}},r?.preloadingStrategy?nZ(r.preloadingStrategy).\u0275providers:[],{provide:Yk,multi:!0,useFactory:sZ},r?.initialNavigation?lZ(r):[],r?.bindToComponentInputs?Ri(8,[zO,{provide:Jf,useExisting:zO}]).\u0275providers:[],[{provide:_F,useFactory:pF},{provide:Mv,multi:!0,useExisting:_F}]]}}static forChild(n){return{ngModule:t,providers:[{provide:Xa,multi:!0,useValue:n}]}}}return t.\u0275fac=function(n){return new(n||t)($(yF,8))},t.\u0275mod=tn({type:t}),t.\u0275inj=$t({}),t})();function cZ(t){return"guarded"}function lZ(t){return["disabled"===t.initialNavigation?Ri(3,[{provide:wv,multi:!0,useFactory:()=>{const e=V(hr);return()=>{e.setUpLocationChangeListener()}}},{provide:Uw,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?Ri(2,[{provide:Uw,useValue:0},{provide:wv,multi:!0,deps:[Fn],useFactory:e=>{const n=e.get(dK,Promise.resolve());return()=>n.then(()=>new Promise(r=>{const i=e.get(hr),s=e.get(gF);lF(i,()=>{r(!0)}),e.get(rp).afterPreactivation=()=>(r(!0),s.closed?ee(void 0):s),i.initialNavigation()}))}}]).\u0275providers:[]]}const _F=new L(""),hZ=[];let fZ=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=tn({type:t}),t.\u0275inj=$t({imports:[Bw.forRoot(hZ),Bw]}),t})(),pZ=(()=>{class t{constructor(){this.title="estadisticas"}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=Zo({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(n,r){1&n&&Ee(0,"router-outlet")},dependencies:[xw]}),t})();function vF(t,e,n,r,i,s,o){try{var a=t[s](o),u=a.value}catch(c){return void n(c)}a.done?e(u):Promise.resolve(u).then(r,i)}function g(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var s=t.apply(e,n);function o(u){vF(s,r,i,o,a,"next",u)}function a(u){vF(s,r,i,o,a,"throw",u)}o(void 0)})}}const wF=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},jw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0;let h=(15&a)<<2|c>>6,f=63&c;u||(f=64,o||(h=64)),r.push(n[s>>2],n[(3&s)<<4|a>>4],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(wF(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const u=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(1023&u))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,null==s||null==a||null==c||null==d)throw new _Z;r.push(s<<2|a>>4),64!==c&&(r.push(a<<4&240|c>>2),64!==d&&r.push(c<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class _Z extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const sp=function(t){return function(t){const e=wF(t);return jw.encodeByteArray(e,!0)}(t).replace(/\./g,"")},op=function(t){try{return jw.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null},ap=()=>{try{return function IZ(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const t=process.env.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&op(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}},EF=t=>{var e,n;return null===(n=null===(e=ap())||void 0===e?void 0:e.emulatorHosts)||void 0===n?void 0:n[t]},DF=t=>{const e=EF(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return"["===e[0]?[e.substring(1,n-1),r]:[e.substring(0,n),r]},bF=()=>{var t;return null===(t=ap())||void 0===t?void 0:t.config},CF=t=>{var e;return null===(e=ap())||void 0===e?void 0:e[`_${t}`]};class up{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,r))}}}function TF(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[sp(JSON.stringify({alg:"none",type:"JWT"})),sp(JSON.stringify(o)),""].join(".")}function Rt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Hw(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function ao(){try{return"object"==typeof indexedDB}catch{return!1}}function ll(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(n){e(n)}})}function Gw(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class er extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,er.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Kr.prototype.create)}}class Kr{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function xZ(t,e){return t.replace(RZ,(n,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new er(i,`${this.serviceName}: ${o} (${i}).`,r)}}const RZ=/\{\$([^}]+)}/g;function lp(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(AF(s)&&AF(o)){if(!lp(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function AF(t){return null!==t&&"object"==typeof t}function dp(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}class PZ{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(void 0===e&&void 0===n&&void 0===r)throw new Error("Missing Observer.");i=function OZ(t,e){if("object"!=typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"==typeof t[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:n,complete:r},void 0===i.next&&(i.next=zw),void 0===i.error&&(i.error=zw),void 0===i.complete&&(i.complete=zw);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function zw(){}const FZ=1e3,LZ=2,VZ=144e5,UZ=.5;function Ww(t,e=FZ,n=LZ){const r=e*Math.pow(n,t),i=Math.round(UZ*r*(Math.random()-.5)*2);return Math.min(VZ,r+i)}function wn(t){return t&&t._delegate?t._delegate:t}class zt{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const uo="[DEFAULT]";class $Z{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new up;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(n=e?.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function HZ(t){return"EAGER"===t.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:uo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=uo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return g(function*(){const n=Array.from(e.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=uo){return this.instances.has(e)}getOptions(e=uo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(t=e,t===uo?void 0:t),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var t;return r||null}normalizeInstanceIdentifier(e=uo){return this.component?this.component.multipleInstances?e:uo:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class GZ{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new $Z(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}const Kw=[];var Y=(()=>((Y=Y||{})[Y.DEBUG=0]="DEBUG",Y[Y.VERBOSE=1]="VERBOSE",Y[Y.INFO=2]="INFO",Y[Y.WARN=3]="WARN",Y[Y.ERROR=4]="ERROR",Y[Y.SILENT=5]="SILENT",Y))();const MF={debug:Y.DEBUG,verbose:Y.VERBOSE,info:Y.INFO,warn:Y.WARN,error:Y.ERROR,silent:Y.SILENT},zZ=Y.INFO,qZ={[Y.DEBUG]:"log",[Y.VERBOSE]:"log",[Y.INFO]:"info",[Y.WARN]:"warn",[Y.ERROR]:"error"},WZ=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=qZ[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class Ja{constructor(e){this.name=e,this._logLevel=zZ,this._logHandler=WZ,this._userLogHandler=null,Kw.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Y))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?MF[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Y.DEBUG,...e),this._logHandler(this,Y.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Y.VERBOSE,...e),this._logHandler(this,Y.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Y.INFO,...e),this._logHandler(this,Y.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Y.WARN,...e),this._logHandler(this,Y.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Y.ERROR,...e),this._logHandler(this,Y.ERROR,...e)}}const KZ=(t,e)=>e.some(n=>t instanceof n);let xF,RF;const NF=new WeakMap,Qw=new WeakMap,kF=new WeakMap,Yw=new WeakMap,Xw=new WeakMap;let Jw={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return Qw.get(t);if("objectStoreNames"===e)return t.objectStoreNames||kF.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ls(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function tee(t){return"function"==typeof t?function eee(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function YZ(){return RF||(RF=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(Zw(this),e),ls(NF.get(this))}:function(...e){return ls(t.apply(Zw(this),e))}:function(e,...n){const r=t.call(Zw(this),e,...n);return kF.set(r,e.sort?e.sort():[e]),ls(r)}}(t):(t instanceof IDBTransaction&&function JZ(t){if(Qw.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Qw.set(t,e)}(t),KZ(t,function QZ(){return xF||(xF=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,Jw):t)}function ls(t){if(t instanceof IDBRequest)return function XZ(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(ls(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&NF.set(n,t)}).catch(()=>{}),Xw.set(e,t),e}(t);if(Yw.has(t))return Yw.get(t);const e=tee(t);return e!==t&&(Yw.set(t,e),Xw.set(e,t)),e}const Zw=t=>Xw.get(t),ree=["get","getKey","getAll","getAllKeys","count"],iee=["put","add","delete","clear"],eI=new Map;function PF(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(eI.get(e))return eI.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=iee.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!ree.includes(n))return;const s=function(){var o=g(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[n](...u),i&&c.done]))[0]});return function(u){return o.apply(this,arguments)}}();return eI.set(e,s),s}!function ZZ(t){Jw=t(Jw)}(t=>({...t,get:(e,n,r)=>PF(e,n)||t.get(e,n,r),has:(e,n)=>!!PF(e,n)||t.has(e,n)}));class see{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function oee(t){const e=t.getComponent();return"VERSION"===e?.type}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const tI="@firebase/app",co=new Ja("@firebase/app"),hp="[DEFAULT]",Nee={[tI]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},lo=new Map,fp=new Map;function kee(t,e){try{t.container.addComponent(e)}catch(n){co.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function un(t){const e=t.name;if(fp.has(e))return co.debug(`There were multiple attempts to register component ${e}.`),!1;fp.set(e,t);for(const n of lo.values())kee(n,t);return!0}function ho(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}const Ni=new Kr("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Oee{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new zt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ni.create("app-deleted",{appName:this._name})}}const ds="9.22.1";function FF(t,e={}){let n=t;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:hp,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw Ni.create("bad-app-name",{appName:String(i)});if(n||(n=bF()),!n)throw Ni.create("no-options");const s=lo.get(i);if(s){if(lp(n,s.options)&&lp(r,s.config))return s;throw Ni.create("duplicate-app",{appName:i})}const o=new GZ(i);for(const u of fp.values())o.addComponent(u);const a=new Oee(n,r,o);return lo.set(i,a),a}function pp(t=hp){const e=lo.get(t);if(!e&&t===hp&&bF())return FF();if(!e)throw Ni.create("no-app",{appName:t});return e}function LF(){return Array.from(lo.values())}function Ve(t,e,n){var r;let i=null!==(r=Nee[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void co.warn(a.join(" "))}un(new zt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const Fee="firebase-heartbeat-database",Lee=1,dl="firebase-heartbeat-store";let rI=null;function VF(){return rI||(rI=function nee(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=ls(o);return r&&o.addEventListener("upgradeneeded",u=>{r(ls(o.result),u.oldVersion,u.newVersion,ls(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}(Fee,Lee,{upgrade:(t,e)=>{0===e&&t.createObjectStore(dl)}}).catch(t=>{throw Ni.create("idb-open",{originalErrorMessage:t.message})})),rI}function iI(){return(iI=g(function*(t){try{return yield(yield VF()).transaction(dl).objectStore(dl).get(BF(t))}catch(e){if(e instanceof er)co.warn(e.message);else{const n=Ni.create("idb-get",{originalErrorMessage:e?.message});co.warn(n.message)}}})).apply(this,arguments)}function UF(t,e){return sI.apply(this,arguments)}function sI(){return(sI=g(function*(t,e){try{const r=(yield VF()).transaction(dl,"readwrite");yield r.objectStore(dl).put(e,BF(t)),yield r.done}catch(n){if(n instanceof er)co.warn(n.message);else{const r=Ni.create("idb-set",{originalErrorMessage:n?.message});co.warn(r.message)}}})).apply(this,arguments)}function BF(t){return`${t.name}!${t.options.appId}`}class $ee{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Hee(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return g(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=$F();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(s=>s.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return g(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const n=$F(),{heartbeatsToSend:r,unsentEntries:i}=function jee(t,e=1024){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),jF(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),jF(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=sp(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function $F(){return(new Date).toISOString().substring(0,10)}class Hee{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return g(function*(){return!!ao()&&ll().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return g(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function Vee(t){return iI.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var n=this;return g(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return UF(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var n=this;return g(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return UF(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function jF(t){return sp(JSON.stringify({version:2,heartbeats:t})).length}!function Gee(t){un(new zt("platform-logger",e=>new see(e),"PRIVATE")),un(new zt("heartbeat",e=>new $ee(e),"PRIVATE")),Ve(tI,"0.9.11",t),Ve(tI,"0.9.11","esm2017"),Ve("fire-js","")}(""),Ve("firebase","9.22.1","app");const Wee=(t,e)=>e.some(n=>t instanceof n);let HF,GF;const zF=new WeakMap,oI=new WeakMap,qF=new WeakMap,aI=new WeakMap,uI=new WeakMap;let cI={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return oI.get(t);if("objectStoreNames"===e)return t.objectStoreNames||qF.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return hs(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function ete(t){return"function"==typeof t?function Zee(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Qee(){return GF||(GF=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(lI(this),e),hs(zF.get(this))}:function(...e){return hs(t.apply(lI(this),e))}:function(e,...n){const r=t.call(lI(this),e,...n);return qF.set(r,e.sort?e.sort():[e]),hs(r)}}(t):(t instanceof IDBTransaction&&function Xee(t){if(oI.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});oI.set(t,e)}(t),Wee(t,function Kee(){return HF||(HF=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,cI):t)}function hs(t){if(t instanceof IDBRequest)return function Yee(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(hs(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&zF.set(n,t)}).catch(()=>{}),uI.set(e,t),e}(t);if(aI.has(t))return aI.get(t);const e=ete(t);return e!==t&&(aI.set(t,e),uI.set(e,t)),e}const lI=t=>uI.get(t),nte=["get","getKey","getAll","getAllKeys","count"],rte=["put","add","delete","clear"],dI=new Map;function WF(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(dI.get(e))return dI.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=rte.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!nte.includes(n))return;const s=function(){var o=g(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[n](...u),i&&c.done]))[0]});return function(u){return o.apply(this,arguments)}}();return dI.set(e,s),s}!function Jee(t){cI=t(cI)}(t=>({...t,get:(e,n,r)=>WF(e,n)||t.get(e,n,r),has:(e,n)=>!!WF(e,n)||t.has(e,n)}));const KF="@firebase/installations",hI="0.6.4",QF=1e4,YF=`w:${hI}`,XF="FIS_v2",ite="https://firebaseinstallations.googleapis.com/v1",ste=36e5,ki=new Kr("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function JF(t){return t instanceof er&&t.code.includes("request-failed")}function fI({projectId:t}){return`${ite}/projects/${t}/installations`}function ZF(t){return{token:t.token,requestStatus:2,expiresIn:cte(t.expiresIn),creationTime:Date.now()}}function pI(t,e){return gI.apply(this,arguments)}function gI(){return(gI=g(function*(t,e){const r=(yield e.json()).error;return ki.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function eL({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function mI(t){return yI.apply(this,arguments)}function yI(){return(yI=g(function*(t){const e=yield t();return e.status>=500&&e.status<600?t():e})).apply(this,arguments)}function cte(t){return Number(t.replace("s","000"))}function _I(){return(_I=g(function*({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=fI(t),i=eL(t),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({fid:n,authVersion:XF,appId:t.appId,sdkVersion:YF})},u=yield mI(()=>fetch(r,a));if(u.ok){const c=yield u.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:ZF(c.authToken)}}throw yield pI("Create Installation",u)})).apply(this,arguments)}function nL(t){return new Promise(e=>{setTimeout(e,t)})}const fte=/^[cdef][\w-]{21}$/,vI="";function pte(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=function gte(t){return function hte(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}(t).substr(0,22)}(t);return fte.test(n)?n:vI}catch{return vI}}function Za(t){return`${t.appName}!${t.appId}`}const eu=new Map;function rL(t,e){const n=Za(t);iL(n,e),function _te(t,e){const n=function sL(){return!fo&&"BroadcastChannel"in self&&(fo=new BroadcastChannel("[Firebase] FID Change"),fo.onmessage=t=>{iL(t.data.key,t.data.fid)}),fo}();n&&n.postMessage({key:t,fid:e}),function oL(){0===eu.size&&fo&&(fo.close(),fo=null)}()}(n,e)}function iL(t,e){const n=eu.get(t);if(n)for(const r of n)r(e)}let fo=null;const vte="firebase-installations-database",wte=1,po="firebase-installations-store";let wI=null;function II(){return wI||(wI=function tte(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=hs(o);return r&&o.addEventListener("upgradeneeded",u=>{r(hs(o.result),u.oldVersion,u.newVersion,hs(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}(vte,wte,{upgrade:(t,e)=>{0===e&&t.createObjectStore(po)}})),wI}function gp(t,e){return EI.apply(this,arguments)}function EI(){return(EI=g(function*(t,e){const n=Za(t),i=(yield II()).transaction(po,"readwrite"),s=i.objectStore(po),o=yield s.get(n);return yield s.put(e,n),yield i.done,(!o||o.fid!==e.fid)&&rL(t,e.fid),e})).apply(this,arguments)}function DI(t){return bI.apply(this,arguments)}function bI(){return(bI=g(function*(t){const e=Za(t),r=(yield II()).transaction(po,"readwrite");yield r.objectStore(po).delete(e),yield r.done})).apply(this,arguments)}function hl(t,e){return CI.apply(this,arguments)}function CI(){return(CI=g(function*(t,e){const n=Za(t),i=(yield II()).transaction(po,"readwrite"),s=i.objectStore(po),o=yield s.get(n),a=e(o);return void 0===a?yield s.delete(n):yield s.put(a,n),yield i.done,a&&(!o||o.fid!==a.fid)&&rL(t,a.fid),a})).apply(this,arguments)}function TI(t){return SI.apply(this,arguments)}function SI(){return SI=g(function*(t){let e;const n=yield hl(t.appConfig,r=>{const i=function Ite(t){return uL(t||{fid:pte(),registrationStatus:0})}(r),s=function Ete(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(ki.create("app-offline"))};const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function Dte(t,e){return AI.apply(this,arguments)}(t,n);return{installationEntry:n,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:bte(t)}:{installationEntry:e}}(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===vI?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}}),SI.apply(this,arguments)}function AI(){return AI=g(function*(t,e){try{const n=yield function dte(t,e){return _I.apply(this,arguments)}(t,e);return gp(t.appConfig,n)}catch(n){throw JF(n)&&409===n.customData.serverCode?yield DI(t.appConfig):yield gp(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}),AI.apply(this,arguments)}function bte(t){return MI.apply(this,arguments)}function MI(){return(MI=g(function*(t){let e=yield aL(t.appConfig);for(;1===e.registrationStatus;)yield nL(100),e=yield aL(t.appConfig);if(0===e.registrationStatus){const{installationEntry:n,registrationPromise:r}=yield TI(t);return r||n}return e})).apply(this,arguments)}function aL(t){return hl(t,e=>{if(!e)throw ki.create("installation-not-found");return uL(e)})}function uL(t){return function Cte(t){return 1===t.registrationStatus&&t.registrationTime+QF<Date.now()}(t)?{fid:t.fid,registrationStatus:0}:t}function xI(){return(xI=g(function*({appConfig:t,heartbeatServiceProvider:e},n){const r=function Ste(t,{fid:e}){return`${fI(t)}/${e}/authTokens:generate`}(t,n),i=function tL(t,{refreshToken:e}){const n=eL(t);return n.append("Authorization",function lte(t){return`${XF} ${t}`}(e)),n}(t,n),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:YF,appId:t.appId}})},u=yield mI(()=>fetch(r,a));if(u.ok)return ZF(yield u.json());throw yield pI("Generate Auth Token",u)})).apply(this,arguments)}function RI(t){return NI.apply(this,arguments)}function NI(){return NI=g(function*(t,e=!1){let n;const r=yield hl(t.appConfig,s=>{if(!lL(s))throw ki.create("not-registered");const o=s.authToken;if(!e&&function xte(t){return 2===t.requestStatus&&!function Rte(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+ste}(t)}(o))return s;if(1===o.requestStatus)return n=function Ate(t,e){return kI.apply(this,arguments)}(t,e),s;{if(!navigator.onLine)throw ki.create("app-offline");const a=function Nte(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}(s);return n=function Mte(t,e){return PI.apply(this,arguments)}(t,a),a}});return n?yield n:r.authToken}),NI.apply(this,arguments)}function kI(){return(kI=g(function*(t,e){let n=yield cL(t.appConfig);for(;1===n.authToken.requestStatus;)yield nL(100),n=yield cL(t.appConfig);const r=n.authToken;return 0===r.requestStatus?RI(t,e):r})).apply(this,arguments)}function cL(t){return hl(t,e=>{if(!lL(e))throw ki.create("not-registered");return function kte(t){return 1===t.requestStatus&&t.requestTime+QF<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function PI(){return PI=g(function*(t,e){try{const n=yield function Tte(t,e){return xI.apply(this,arguments)}(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return yield gp(t.appConfig,r),n}catch(n){if(!JF(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield gp(t.appConfig,r)}else yield DI(t.appConfig);throw n}}),PI.apply(this,arguments)}function lL(t){return void 0!==t&&2===t.registrationStatus}function OI(){return(OI=g(function*(t){const e=t,{installationEntry:n,registrationPromise:r}=yield TI(e);return r?r.catch(console.error):RI(e).catch(console.error),n.fid})).apply(this,arguments)}function FI(){return FI=g(function*(t,e=!1){const n=t;return yield function Fte(t){return LI.apply(this,arguments)}(n),(yield RI(n,e)).token}),FI.apply(this,arguments)}function LI(){return(LI=g(function*(t){const{registrationPromise:e}=yield TI(t);e&&(yield e)})).apply(this,arguments)}function BI(t){return ki.create("missing-app-config-values",{valueName:t})}const dL="installations",$te=t=>{const e=t.getProvider("app").getImmediate(),n=function Ute(t){if(!t||!t.options)throw BI("App Configuration");if(!t.name)throw BI("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw BI(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e);return{app:e,appConfig:n,heartbeatServiceProvider:ho(e,"heartbeat"),_delete:()=>Promise.resolve()}},jte=t=>{const n=ho(t.getProvider("app").getImmediate(),dL).getImmediate();return{getId:()=>function Pte(t){return OI.apply(this,arguments)}(n),getToken:i=>function Ote(t){return FI.apply(this,arguments)}(n,i)}};(function Hte(){un(new zt(dL,$te,"PUBLIC")),un(new zt("installations-internal",jte,"PRIVATE"))})(),Ve(KF,hI),Ve(KF,hI,"esm2017");const $I="@firebase/remote-config",Vn=new Kr("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class ene{constructor(e,n,r,i){this.client=e,this.storage=n,this.storageCache=r,this.logger=i}isCachedDataFresh(e,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-n,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var n=this;return g(function*(){const[r,i]=yield Promise.all([n.storage.getLastSuccessfulFetchTimestampMillis(),n.storage.getLastSuccessfulFetchResponse()]);if(i&&n.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const s=yield n.client.fetch(e),o=[n.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===s.status&&o.push(n.storage.setLastSuccessfulFetchResponse(s)),yield Promise.all(o),s})()}}function tne(t=navigator){return t.languages&&t.languages[0]||t.language}class nne{constructor(e,n,r,i,s,o){this.firebaseInstallations=e,this.sdkVersion=n,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=o}fetch(e){var n=this;return g(function*(){const[r,i]=yield Promise.all([n.firebaseInstallations.getId(),n.firebaseInstallations.getToken()]),o=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${n.projectId}/namespaces/${n.namespace}:fetch?key=${n.apiKey}`,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},u={sdk_version:n.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:n.appId,language_code:tne()},c={method:"POST",headers:a,body:JSON.stringify(u)},l=fetch(o,c),d=new Promise((v,_)=>{e.signal.addEventListener(()=>{const E=new Error("The operation was aborted.");E.name="AbortError",_(E)})});let h;try{yield Promise.race([l,d]),h=yield l}catch(v){let _="fetch-client-network";throw"AbortError"===v?.name&&(_="fetch-timeout"),Vn.create(_,{originalErrorMessage:v?.message})}let f=h.status;const p=h.headers.get("ETag")||void 0;let m,y;if(200===h.status){let v;try{v=yield h.json()}catch(_){throw Vn.create("fetch-client-parse",{originalErrorMessage:_?.message})}m=v.entries,y=v.state}if("INSTANCE_STATE_UNSPECIFIED"===y?f=500:"NO_CHANGE"===y?f=304:("NO_TEMPLATE"===y||"EMPTY_CONFIG"===y)&&(m={}),304!==f&&200!==f)throw Vn.create("fetch-status",{httpStatus:f});return{status:f,eTag:p,config:m}})()}}class sne{constructor(e,n){this.client=e,this.storage=n}fetch(e){var n=this;return g(function*(){const r=(yield n.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return n.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:n,backoffCount:r}){var i=this;return g(function*(){yield function rne(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(Vn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,n);try{const s=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),s}catch(s){if(!function ine(t){if(!(t instanceof er&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(s))throw s;const o={throttleEndTimeMillis:Date.now()+Ww(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(o),i.attemptFetch(e,o)}})()}}class une{constructor(e,n,r,i,s){this.app=e,this._client=n,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function yp(t,e){const n=t.target.error||void 0;return Vn.create(e,{originalErrorMessage:n&&n?.message})}const go="app_namespace_store";class hne{constructor(e,n,r,i=function dne(){return new Promise((t,e)=>{try{const n=indexedDB.open("firebase_remote_config",1);n.onerror=r=>{e(yp(r,"storage-open"))},n.onsuccess=r=>{t(r.target.result)},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(go,{keyPath:"compositeKey"})}}catch(n){e(Vn.create("storage-open",{originalErrorMessage:n?.message}))}})}()){this.appId=e,this.appName=n,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var n=this;return g(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([go],"readonly").objectStore(go),u=n.createCompositeKey(e);try{const c=a.get(u);c.onerror=l=>{s(yp(l,"storage-get"))},c.onsuccess=l=>{const d=l.target.result;i(d?d.value:void 0)}}catch(c){s(Vn.create("storage-get",{originalErrorMessage:c?.message}))}})})()}set(e,n){var r=this;return g(function*(){const i=yield r.openDbPromise;return new Promise((s,o)=>{const u=i.transaction([go],"readwrite").objectStore(go),c=r.createCompositeKey(e);try{const l=u.put({compositeKey:c,value:n});l.onerror=d=>{o(yp(d,"storage-set"))},l.onsuccess=()=>{s()}}catch(l){o(Vn.create("storage-set",{originalErrorMessage:l?.message}))}})})()}delete(e){var n=this;return g(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([go],"readwrite").objectStore(go),u=n.createCompositeKey(e);try{const c=a.delete(u);c.onerror=l=>{s(yp(l,"storage-delete"))},c.onsuccess=()=>{i()}}catch(c){s(Vn.create("storage-delete",{originalErrorMessage:c?.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class fne{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return g(function*(){const n=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),s=yield n;s&&(e.lastFetchStatus=s);const o=yield r;o&&(e.lastSuccessfulFetchTimestampMillis=o);const a=yield i;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function gne(){return qI.apply(this,arguments)}function qI(){return(qI=g(function*(){if(!ao())return!1;try{return yield ll()}catch{return!1}})).apply(this,arguments)}!function pne(){un(new zt("remote-config",function t(e,{instanceIdentifier:n}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Vn.create("registration-window");if(!ao())throw Vn.create("indexed-db-unavailable");const{projectId:s,apiKey:o,appId:a}=r.options;if(!s)throw Vn.create("registration-project-id");if(!o)throw Vn.create("registration-api-key");if(!a)throw Vn.create("registration-app-id");const u=new hne(a,r.name,n=n||"firebase"),c=new fne(u),l=new Ja($I);l.logLevel=Y.ERROR;const d=new nne(i,ds,n,s,o,a),h=new sne(d,u),f=new ene(h,u,c,l),p=new une(r,f,c,u,l);return function Xte(t){const e=wn(t);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(p),p},"PUBLIC").setMultipleInstances(!0)),Ve($I,"0.4.4"),Ve($I,"0.4.4","esm2017")}();const mne=(t,e)=>e.some(n=>t instanceof n);let gL,mL;const yL=new WeakMap,WI=new WeakMap,_L=new WeakMap,KI=new WeakMap,QI=new WeakMap;let YI={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return WI.get(t);if("objectStoreNames"===e)return t.objectStoreNames||_L.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Pi(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function Dne(t){return"function"==typeof t?function Ene(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function _ne(){return mL||(mL=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(XI(this),e),Pi(yL.get(this))}:function(...e){return Pi(t.apply(XI(this),e))}:function(e,...n){const r=t.call(XI(this),e,...n);return _L.set(r,e.sort?e.sort():[e]),Pi(r)}}(t):(t instanceof IDBTransaction&&function wne(t){if(WI.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});WI.set(t,e)}(t),mne(t,function yne(){return gL||(gL=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,YI):t)}function Pi(t){if(t instanceof IDBRequest)return function vne(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Pi(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&yL.set(n,t)}).catch(()=>{}),QI.set(e,t),e}(t);if(KI.has(t))return KI.get(t);const e=Dne(t);return e!==t&&(KI.set(t,e),QI.set(e,t)),e}const XI=t=>QI.get(t);function vL(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Pi(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Pi(o.result),u.oldVersion,u.newVersion,Pi(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}function JI(t,{blocked:e}={}){const n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",()=>e()),Pi(n).then(()=>{})}const bne=["get","getKey","getAll","getAllKeys","count"],Cne=["put","add","delete","clear"],ZI=new Map;function wL(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(ZI.get(e))return ZI.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Cne.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!bne.includes(n))return;const s=function(){var o=g(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[n](...u),i&&c.done]))[0]});return function(u){return o.apply(this,arguments)}}();return ZI.set(e,s),s}!function Ine(t){YI=t(YI)}(t=>({...t,get:(e,n,r)=>wL(e,n)||t.get(e,n,r),has:(e,n)=>!!wL(e,n)||t.has(e,n)}));const Tne="/firebase-messaging-sw.js",Sne="/firebase-cloud-messaging-push-scope",IL="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Ane="https://fcmregistrations.googleapis.com/v1",EL="google.c.a.c_id",Mne="google.c.a.c_l",xne="google.c.a.ts";var fs=(()=>((fs=fs||{}).PUSH_RECEIVED="push-received",fs.NOTIFICATION_CLICKED="notification-clicked",fs))();function Oi(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Nne(t){const n=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}const eE="fcm_token_details_db",kne=5,DL="fcm_token_object_Store";function tE(){return tE=g(function*(t){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(s=>s.name).includes(eE))return null;let e=null;return(yield vL(eE,kne,{upgrade:(r=g(function*(i,s,o,a){var u;if(s<2||!i.objectStoreNames.contains(DL))return;const c=a.objectStore(DL),l=yield c.index("fcmSenderId").get(t);if(yield c.clear(),l)if(2===s){const d=l;if(!d.auth||!d.p256dh||!d.endpoint)return;e={token:d.fcmToken,createTime:null!==(u=d.createTime)&&void 0!==u?u:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:"string"==typeof d.vapidKey?d.vapidKey:Oi(d.vapidKey)}}}else if(3===s){const d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Oi(d.auth),p256dh:Oi(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Oi(d.vapidKey)}}}else if(4===s){const d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Oi(d.auth),p256dh:Oi(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Oi(d.vapidKey)}}}}),function(s,o,a,u){return r.apply(this,arguments)})})).close(),yield JI(eE),yield JI("fcm_vapid_details_db"),yield JI("undefined"),function One(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return"number"==typeof t.createTime&&t.createTime>0&&"string"==typeof t.token&&t.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}(e)?e:null;var r}),tE.apply(this,arguments)}const Fne="firebase-messaging-database",Lne=1,mo="firebase-messaging-store";let nE=null;function rE(){return nE||(nE=vL(Fne,Lne,{upgrade:(t,e)=>{0===e&&t.createObjectStore(mo)}})),nE}function bL(t){return iE.apply(this,arguments)}function iE(){return iE=g(function*(t){const e=uE(t),r=yield(yield rE()).transaction(mo).objectStore(mo).get(e);if(r)return r;{const i=yield function Pne(t){return tE.apply(this,arguments)}(t.appConfig.senderId);if(i)return yield sE(t,i),i}}),iE.apply(this,arguments)}function sE(t,e){return oE.apply(this,arguments)}function oE(){return(oE=g(function*(t,e){const n=uE(t),i=(yield rE()).transaction(mo,"readwrite");return yield i.objectStore(mo).put(e,n),yield i.done,e})).apply(this,arguments)}function aE(){return(aE=g(function*(t){const e=uE(t),r=(yield rE()).transaction(mo,"readwrite");yield r.objectStore(mo).delete(e),yield r.done})).apply(this,arguments)}function uE({appConfig:t}){return t.appId}const qt=new Kr("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Bne(t,e){return cE.apply(this,arguments)}function cE(){return(cE=g(function*(t,e){const n=yield fE(t),r=TL(e),i={method:"POST",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(hE(t.appConfig),i)).json()}catch(o){throw qt.create("token-subscribe-failed",{errorInfo:o?.toString()})}if(s.error)throw qt.create("token-subscribe-failed",{errorInfo:s.error.message});if(!s.token)throw qt.create("token-subscribe-no-token");return s.token})).apply(this,arguments)}function lE(){return(lE=g(function*(t,e){const n=yield fE(t),r=TL(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(`${hE(t.appConfig)}/${e.token}`,i)).json()}catch(o){throw qt.create("token-update-failed",{errorInfo:o?.toString()})}if(s.error)throw qt.create("token-update-failed",{errorInfo:s.error.message});if(!s.token)throw qt.create("token-update-no-token");return s.token})).apply(this,arguments)}function CL(t,e){return dE.apply(this,arguments)}function dE(){return(dE=g(function*(t,e){const r={method:"DELETE",headers:yield fE(t)};try{const s=yield(yield fetch(`${hE(t.appConfig)}/${e}`,r)).json();if(s.error)throw qt.create("token-unsubscribe-failed",{errorInfo:s.error.message})}catch(i){throw qt.create("token-unsubscribe-failed",{errorInfo:i?.toString()})}})).apply(this,arguments)}function hE({projectId:t}){return`${Ane}/projects/${t}/registrations`}function fE(t){return pE.apply(this,arguments)}function pE(){return(pE=g(function*({appConfig:t,installations:e}){const n=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})})).apply(this,arguments)}function TL({p256dh:t,auth:e,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:e,p256dh:t}};return r!==IL&&(i.web.applicationPubKey=r),i}const jne=6048e5;function gE(){return gE=g(function*(t){const e=yield function zne(t,e){return vE.apply(this,arguments)}(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:Oi(e.getKey("auth")),p256dh:Oi(e.getKey("p256dh"))},r=yield bL(t.firebaseDependencies);if(r){if(function qne(t,e){return e.vapidKey===t.vapidKey&&e.endpoint===t.endpoint&&e.auth===t.auth&&e.p256dh===t.p256dh}(r.subscriptionOptions,n))return Date.now()>=r.createTime+jne?function Gne(t,e){return yE.apply(this,arguments)}(t,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{yield CL(t.firebaseDependencies,r.token)}catch(i){console.warn(i)}return AL(t.firebaseDependencies,n)}return AL(t.firebaseDependencies,n)}),gE.apply(this,arguments)}function mE(){return mE=g(function*(t){const e=yield bL(t.firebaseDependencies);e&&(yield CL(t.firebaseDependencies,e.token),yield function Vne(t){return aE.apply(this,arguments)}(t.firebaseDependencies));const n=yield t.swRegistration.pushManager.getSubscription();return!n||n.unsubscribe()}),mE.apply(this,arguments)}function yE(){return yE=g(function*(t,e){try{const n=yield function $ne(t,e){return lE.apply(this,arguments)}(t.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return yield sE(t.firebaseDependencies,r),n}catch(n){throw yield function SL(t){return mE.apply(this,arguments)}(t),n}}),yE.apply(this,arguments)}function AL(t,e){return _E.apply(this,arguments)}function _E(){return(_E=g(function*(t,e){const r={token:yield Bne(t,e),createTime:Date.now(),subscriptionOptions:e};return yield sE(t,r),r.token})).apply(this,arguments)}function vE(){return(vE=g(function*(t,e){return(yield t.pushManager.getSubscription())||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Nne(e)})})).apply(this,arguments)}function ML(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return function Wne(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const r=e.notification.body;r&&(t.notification.body=r);const i=e.notification.image;i&&(t.notification.image=i);const s=e.notification.icon;s&&(t.notification.icon=s)}(e,t),function Kne(t,e){e.data&&(t.data=e.data)}(e,t),function Qne(t,e){var n,r,i,s,o;if(!(e.fcmOptions||null!==(n=e.notification)&&void 0!==n&&n.click_action))return;t.fcmOptions={};const a=null!==(i=null===(r=e.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(s=e.notification)||void 0===s?void 0:s.click_action;a&&(t.fcmOptions.link=a);const u=null===(o=e.fcmOptions)||void 0===o?void 0:o.analytics_label;u&&(t.fcmOptions.analyticsLabel=u)}(e,t),e}function xL(t,e){const n=[];for(let r=0;r<t.length;r++)n.push(t.charAt(r)),r<e.length&&n.push(e.charAt(r));return n.join("")}function wE(t){return qt.create("missing-app-config-values",{valueName:t})}xL("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),xL("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Jne{constructor(e,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function Xne(t){if(!t||!t.options)throw wE("App Configuration Object");if(!t.name)throw wE("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const r of e)if(!n[r])throw wE(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}function IE(){return(IE=g(function*(t){try{t.swRegistration=yield navigator.serviceWorker.register(Tne,{scope:Sne}),t.swRegistration.update().catch(()=>{})}catch(e){throw qt.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}})).apply(this,arguments)}function EE(){return(EE=g(function*(t,e){if(!e&&!t.swRegistration&&(yield function RL(t){return IE.apply(this,arguments)}(t)),e||!t.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw qt.create("invalid-sw-registration");t.swRegistration=e}})).apply(this,arguments)}function DE(){return(DE=g(function*(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=IL)})).apply(this,arguments)}function bE(){return bE=g(function*(t,e){if(!navigator)throw qt.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw qt.create("permission-blocked");return yield function ere(t,e){return DE.apply(this,arguments)}(t,e?.vapidKey),yield function Zne(t,e){return EE.apply(this,arguments)}(t,e?.serviceWorkerRegistration),function Hne(t){return gE.apply(this,arguments)}(t)}),bE.apply(this,arguments)}function CE(){return(CE=g(function*(t,e,n){const r=function nre(t){switch(t){case fs.NOTIFICATION_CLICKED:return"notification_open";case fs.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(e);(yield t.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[EL],message_name:n[Mne],message_time:n[xne],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function TE(){return TE=g(function*(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===fs.PUSH_RECEIVED&&("function"==typeof t.onMessageHandler?t.onMessageHandler(ML(n)):t.onMessageHandler.next(ML(n)));const r=n.data;(function Yne(t){return"object"==typeof t&&!!t&&EL in t})(r)&&"1"===r["google.c.a.e"]&&(yield function tre(t,e,n){return CE.apply(this,arguments)}(t,n.messageType,r))}),TE.apply(this,arguments)}const kL="@firebase/messaging",ire=t=>{const e=new Jne(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>function rre(t,e){return TE.apply(this,arguments)}(e,n)),e},sre=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:r=>function NL(t,e){return bE.apply(this,arguments)}(e,r)}};function OL(){return SE.apply(this,arguments)}function SE(){return(SE=g(function*(){try{yield ll()}catch{return!1}return typeof window<"u"&&ao()&&Gw()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function ore(){un(new zt("messaging",ire,"PUBLIC")),un(new zt("messaging-internal",sre,"PRIVATE")),Ve(kL,"0.12.4"),Ve(kL,"0.12.4","esm2017")}();const _p="analytics",cre="firebase_id",lre="origin",dre=6e4,hre="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",xE="https://www.googletagmanager.com/gtag/js",Nt=new Ja("@firebase/analytics"),In=new Kr("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function pre(t){if(!t.startsWith(xE)){const e=In.create("invalid-gtag-resource",{gtagURL:t});return Nt.warn(e.message),""}return t}function FL(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function RE(){return(RE=g(function*(t,e,n,r,i,s){const o=r[i];try{if(o)yield e[o];else{const u=(yield FL(n)).find(c=>c.measurementId===i);u&&(yield e[u.appId])}}catch(a){Nt.error(a)}t("config",i,s)})).apply(this,arguments)}function NE(){return(NE=g(function*(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=yield FL(n);for(const u of o){const c=a.find(d=>d.measurementId===u),l=c&&e[c.appId];if(!l){s=[];break}s.push(l)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),t("event",r,i||{})}catch(s){Nt.error(s)}})).apply(this,arguments)}const Dre=30,LL=new class Cre{constructor(e={},n=1e3){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function Tre(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function kE(){return(kE=g(function*(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:Tre(r)},s=hre.replace("{app-id}",n),o=yield fetch(s,i);if(200!==o.status&&304!==o.status){let a="";try{const u=yield o.json();null!==(e=u.error)&&void 0!==e&&e.message&&(a=u.error.message)}catch{}throw In.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()})).apply(this,arguments)}function PE(){return(PE=g(function*(t,e=LL,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw In.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw In.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new Rre;return setTimeout(g(function*(){a.abort()}),void 0!==n?n:dre),VL({appId:r,apiKey:i,measurementId:s},o,a,e)})).apply(this,arguments)}function VL(t,e,n){return OE.apply(this,arguments)}function OE(){return OE=g(function*(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=LL){var s;const{appId:o,measurementId:a}=t;try{yield function Mre(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(In.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(r,e)}catch(u){if(a)return Nt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u?.message}]`),{appId:o,measurementId:a};throw u}try{const u=yield function Sre(t){return kE.apply(this,arguments)}(t);return i.deleteThrottleMetadata(o),u}catch(u){const c=u;if(!function xre(t){if(!(t instanceof er&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(c)){if(i.deleteThrottleMetadata(o),a)return Nt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c?.message}]`),{appId:o,measurementId:a};throw u}const l=503===Number(null===(s=c?.customData)||void 0===s?void 0:s.httpStatus)?Ww(n,i.intervalMillis,Dre):Ww(n,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+l,backoffCount:n+1};return i.setThrottleMetadata(o,d),Nt.debug(`Calling attemptFetch again in ${l} millis`),VL(t,d,r,i)}}),OE.apply(this,arguments)}class Rre{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let FE,HE;function LE(){return(LE=g(function*(t,e,n,r,i){if(i&&i.global)t("event",n,r);else{const s=yield e;t("event",n,Object.assign(Object.assign({},r),{send_to:s}))}})).apply(this,arguments)}function GE(){return(GE=g(function*(){if(!ao())return Nt.warn(In.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield ll()}catch(t){return Nt.warn(In.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}return!0})).apply(this,arguments)}function zE(){return zE=g(function*(t,e,n,r,i,s,o){var a;const u=function Are(t){return PE.apply(this,arguments)}(t);u.then(f=>{n[f.measurementId]=f.appId,t.options.measurementId&&f.measurementId!==t.options.measurementId&&Nt.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>Nt.error(f)),e.push(u);const c=function Vre(){return GE.apply(this,arguments)}().then(f=>{if(f)return r.getId()}),[l,d]=yield Promise.all([u,c]);(function Ere(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(xE)&&n.src.includes(t))return n;return null})(s)||function mre(t,e){const n=function gre(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}("firebase-js-sdk-policy",{createScriptURL:pre}),r=document.createElement("script"),i=`${xE}?l=${t}&id=${e}`;r.src=n?n?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}(s,l.measurementId),HE&&(i("consent","default",HE),function UL(t){HE=t}(void 0)),i("js",new Date);const h=null!==(a=o?.config)&&void 0!==a?a:{};return h[lre]="firebase",h.update=!0,null!=d&&(h[cre]=d),i("config",l.measurementId,h),FE&&(i("set",FE),function BL(t){FE=t}(void 0)),l.measurementId}),zE.apply(this,arguments)}class Bre{constructor(e){this.app=e}_delete(){return delete Qr[this.app.options.appId],Promise.resolve()}}let Qr={},$L=[];const jL={};let GL,Yr,vp="dataLayer",qE=!1;function jre(t,e,n){!function $re(){const t=[];if(Hw()&&t.push("This is a browser extension environment."),Gw()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=In.create("invalid-analytics-context",{errorInfo:e});Nt.warn(n.message)}}();const r=t.options.appId;if(!r)throw In.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw In.create("no-api-key");Nt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Qr[r])throw In.create("already-exists",{id:r});if(!qE){!function yre(t){let e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(vp);const{wrappedGtag:s,gtagCore:o}=function Ire(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=function wre(t,e,n,r){function s(){return s=g(function*(o,...a){try{if("event"===o){const[u,c]=a;yield function vre(t,e,n,r,i){return NE.apply(this,arguments)}(t,e,n,u,c)}else if("config"===o){const[u,c]=a;yield function _re(t,e,n,r,i,s){return RE.apply(this,arguments)}(t,e,n,r,u,c)}else if("consent"===o){const[u]=a;t("consent","update",u)}else if("get"===o){const[u,c,l]=a;t("get",u,c,l)}else if("set"===o){const[u]=a;t("set",u)}else t(o,...a)}catch(u){Nt.error(u)}}),s.apply(this,arguments)}return function i(o){return s.apply(this,arguments)}}(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}(Qr,$L,jL,vp,"gtag");Yr=s,GL=o,qE=!0}return Qr[r]=function Ure(t,e,n,r,i,s,o){return zE.apply(this,arguments)}(t,$L,jL,e,GL,vp,n),new Bre(t)}function Gre(){return WE.apply(this,arguments)}function WE(){return(WE=g(function*(){if(Hw()||!Gw()||!ao())return!1;try{return yield ll()}catch{return!1}})).apply(this,arguments)}const zL="@firebase/analytics";!function qre(){un(new zt(_p,(e,{options:n})=>jre(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n),"PUBLIC")),un(new zt("analytics-internal",function t(e){try{const n=e.getProvider(_p).getImmediate();return{logEvent:(r,i,s)=>function zre(t,e,n,r){t=wn(t),function Nre(t,e,n,r,i){return LE.apply(this,arguments)}(Yr,Qr[t.app.options.appId],e,n,r).catch(i=>Nt.error(i))}(n,r,i,s)}}catch(n){throw In.create("interop-component-reg-failed",{reason:n})}},"PRIVATE")),Ve(zL,"0.10.0"),Ve(zL,"0.10.0","esm2017")}();class Wre extends Gn{constructor(e,n){super()}schedule(e,n=0){return this}}const wp={setInterval(t,e,...n){const{delegate:r}=wp;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=wp;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};class WL extends Wre{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return wp.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&wp.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Yo(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}const KL={now:()=>(KL.delegate||Date).now(),delegate:void 0};class fl{constructor(e,n=fl.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}fl.now=KL.now;class QL extends fl{constructor(e,n=fl.now){super(e,n),this.actions=[],this._active=!1}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}const Yre=new class Qre extends QL{}(class Kre extends WL{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}}),Xre=new QL(WL),pl=new Ea("7.6.1"),QE="__angularfire_symbol__analyticsIsSupportedValue",YE="__angularfire_symbol__analyticsIsSupported",XE="__angularfire_symbol__remoteConfigIsSupportedValue",JE="__angularfire_symbol__remoteConfigIsSupported",ZE="__angularfire_symbol__messagingIsSupportedValue",eD="__angularfire_symbol__messagingIsSupported";function Ip(t,e,n){if(e){if(1===e.length)return e[0];const s=e.filter(o=>o.app===n);if(1===s.length)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}globalThis[YE]||(globalThis[YE]=Gre().then(t=>globalThis[QE]=t).catch(()=>globalThis[QE]=!1)),globalThis[eD]||(globalThis[eD]=OL().then(t=>globalThis[ZE]=t).catch(()=>globalThis[ZE]=!1)),globalThis[JE]||(globalThis[JE]=gne().then(t=>globalThis[XE]=t).catch(()=>globalThis[XE]=!1));const Ep=(t,e)=>{const n=e?[e]:LF(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r};function tu(){}class YL{constructor(e,n=Yre){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},n,r)}}class Jre{constructor(e){this.zone=e,this.task=null}call(e,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",tu,{},tu,tu)),n.pipe(an({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Dp=(()=>{class t{constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new YL(Zone.current)),this.insideAngular=n.run(()=>new YL(Zone.current,Xre)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return t.\u0275fac=function(n){return new(n||t)($(Te))},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function yo(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}function _o(t){return yo().ngZone.run(()=>t())}function eie(t){return yo(),function tie(t){return function(n){return(n=n.lift(new Jre(t.ngZone))).pipe(Jd(t.outsideAngular),Xd(t.insideAngular))}}(yo())(t)}const nie=(t,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),_o(()=>t.apply(void 0,r))},nu=(t,e)=>function(){let n;const r=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof r[s]&&(e&&(n||(n=_o(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",tu,{},tu,tu)))),r[s]=nie(r[s],n));const i=function Zre(t){return yo().ngZone.runOutsideAngular(()=>t())}(()=>t.apply(this,r));if(!e){if(i instanceof Fe){const s=yo();return i.pipe(Jd(s.outsideAngular),Xd(s.insideAngular))}return _o(()=>i)}return i instanceof Fe?i.pipe(eie):i instanceof Promise?_o(()=>new Promise((s,o)=>i.then(a=>_o(()=>s(a)),a=>_o(()=>o(a))))):"function"==typeof i&&n?function(){return setTimeout(()=>{n&&"scheduled"===n.state&&n.invoke()},10),i.apply(this,arguments)}:_o(()=>i)};class vo{constructor(e){return e}}class bp{constructor(){return LF()}}const nD=new L("angularfire2._apps"),iie={provide:vo,useFactory:function rie(t){return t&&1===t.length?t[0]:new vo(pp())},deps:[[new Et,nD]]},sie={provide:bp,deps:[[new Et,nD]]};function oie(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new vo(r)}}let aie=(()=>{class t{constructor(n){Ve("angularfire",pl.full,"core"),Ve("angularfire",pl.full,"app"),Ve("angular",IR.full,n.toString())}}return t.\u0275fac=function(n){return new(n||t)($(rs))},t.\u0275mod=tn({type:t}),t.\u0275inj=$t({providers:[iie,sie]}),t})();function uie(t,...e){return{ngModule:aie,providers:[{provide:nD,useFactory:oie(t),multi:!0,deps:[Te,Fn,Dp,...e]}]}}const cie=nu(FF,!0),rD=new Map,XL={activated:!1,tokenObservers:[]},lie={initialized:!1,enabled:!1};function nt(t){return rD.get(t)||Object.assign({},XL)}function Cp(){return lie}const iD="https://content-firebaseappcheck.googleapis.com/v1",pie="exchangeDebugToken",JL={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class mie{constructor(e,n,r,i,s){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var n=this;return g(function*(){n.stop();try{n.pending=new up,yield function yie(t){return new Promise(e=>{setTimeout(e,t)})}(n.getNextRun(e)),n.pending.resolve(),yield n.pending.promise,n.pending=new up,yield n.operation(),n.pending.resolve(),yield n.pending.promise,n.process(!0).catch(()=>{})}catch(r){n.retryPolicy(r)?n.process(!1).catch(()=>{}):n.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}const Wt=new Kr("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function sD(t){if(!nt(t).activated)throw Wt.create("use-before-activation",{appName:t.name})}function Ap(t,e){return aD.apply(this,arguments)}function aD(){return(aD=g(function*({url:t,body:e},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){const d=yield i.getHeartbeatsHeader();d&&(r["X-Firebase-Client"]=d)}const s={method:"POST",body:JSON.stringify(e),headers:r};let o,a;try{o=yield fetch(t,s)}catch(d){throw Wt.create("fetch-network-error",{originalErrorMessage:d?.message})}if(200!==o.status)throw Wt.create("fetch-status-error",{httpStatus:o.status});try{a=yield o.json()}catch(d){throw Wt.create("fetch-parse-error",{originalErrorMessage:d?.message})}const u=a.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw Wt.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const c=1e3*Number(u[1]),l=Date.now();return{token:a.token,expireTimeMillis:l+c,issuedAtTimeMillis:l}})).apply(this,arguments)}function ZL(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${iD}/projects/${n}/apps/${r}:${pie}?key=${i}`,body:{debug_token:e}}}const Iie="firebase-app-check-database",Eie=1,gl="firebase-app-check-store";let Mp=null;function uD(){return(uD=g(function*(t,e){const r=(yield function t2(){return Mp||(Mp=new Promise((t,e)=>{try{const n=indexedDB.open(Iie,Eie);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(Wt.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(gl,{keyPath:"compositeKey"})}}catch(n){e(Wt.create("storage-open",{originalErrorMessage:n?.message}))}}),Mp)}()).transaction(gl,"readwrite"),s=r.objectStore(gl).put({compositeKey:t,value:e});return new Promise((o,a)=>{s.onsuccess=u=>{o()},r.onerror=u=>{var c;a(Wt.create("storage-set",{originalErrorMessage:null===(c=u.target.error)||void 0===c?void 0:c.message}))}})})).apply(this,arguments)}const ml=new Ja("@firebase/app-check");function dD(t,e){return ao()?function bie(t,e){return function n2(t,e){return uD.apply(this,arguments)}(function i2(t){return`${t.options.appId}-${t.name}`}(t),e)}(t,e).catch(n=>{ml.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function fD(){return Cp().enabled}function pD(){return gD.apply(this,arguments)}function gD(){return(gD=g(function*(){const t=Cp();if(t.enabled&&t.token)return t.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const xie={error:"UNKNOWN_ERROR"};function Rie(t){return jw.encodeString(JSON.stringify(t),!1)}function xp(t){return mD.apply(this,arguments)}function mD(){return(mD=g(function*(t,e=!1){const n=t.app;sD(n);const r=nt(n);let s,i=r.token;if(i&&!ru(i)&&(r.token=void 0,i=void 0),!i){const u=yield r.cachedTokenPromise;u&&(ru(u)?i=u:yield dD(n,void 0))}if(!e&&i&&ru(i))return{token:i.token};let a,o=!1;if(fD()){r.exchangeTokenPromise||(r.exchangeTokenPromise=Ap(ZL(n,yield pD()),t.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),o=!0);const u=yield r.exchangeTokenPromise;return yield dD(n,u),r.token=u,{token:u.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),o=!0),i=yield nt(n).exchangeTokenPromise}catch(u){"appCheck/throttled"===u.code?ml.warn(u.message):ml.error(u),s=u}return i?s?a=ru(i)?{token:i.token,internalError:s}:u2(s):(a={token:i.token},r.token=i,yield dD(n,i)):a=u2(s),o&&function a2(t,e){const n=nt(t).tokenObservers;for(const r of n)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(n,a),a})).apply(this,arguments)}function s2(t){return yD.apply(this,arguments)}function yD(){return(yD=g(function*(t){const e=t.app;sD(e);const{provider:n}=nt(e);if(fD()){const r=yield pD(),{token:i}=yield Ap(ZL(e,r),t.heartbeatServiceProvider);return{token:i}}{const{token:r}=yield n.getToken();return{token:r}}})).apply(this,arguments)}function vD(t,e){const n=nt(t),r=n.tokenObservers.filter(i=>i.next!==e);0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function o2(t){const{app:e}=t,n=nt(e);let r=n.tokenRefresher;r||(r=function Nie(t){const{app:e}=t;return new mie(g(function*(){let r;if(r=nt(e).token?yield xp(t,!0):yield xp(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const n=nt(e);if(n.token){let r=n.token.issuedAtTimeMillis+.5*(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,n.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},JL.RETRIAL_MIN_WAIT,JL.RETRIAL_MAX_WAIT)}(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function ru(t){return t.expireTimeMillis-Date.now()>0}function u2(t){return{token:Rie(xie),error:t}}class kie{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=nt(this.app);for(const n of e)vD(this.app,n.next);return Promise.resolve()}}const m2="app-check-internal";!function Wie(){un(new zt("app-check",t=>function Pie(t,e){return new kie(t,e)}(t.getProvider("app").getImmediate(),t.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(m2).initialize()})),un(new zt(m2,t=>function Oie(t){return{getToken:e=>xp(t,e),getLimitedUseToken:()=>s2(t),addTokenListener:e=>function _D(t,e,n,r){const{app:i}=t,s=nt(i);if(s.tokenObservers=[...s.tokenObservers,{next:n,error:r,type:e}],s.token&&ru(s.token)){const a=s.token;Promise.resolve().then(()=>{n({token:a.token}),o2(t)}).catch(()=>{})}s.cachedTokenPromise.then(()=>o2(t))}(t,"INTERNAL",e),removeTokenListener:e=>vD(t.app,e)}}(t.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),Ve("@firebase/app-check","0.8.0")}();class Np{constructor(){return Ep("app-check")}}typeof window<"u"&&window;const Jie=function _2(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},v2=new Kr("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),kp=new Ja("@firebase/auth");function Pp(t,...e){kp.logLevel<=Y.ERROR&&kp.error(`Auth (${ds}): ${t}`,...e)}function Un(t,...e){throw bD(t,...e)}function Xr(t,...e){return bD(t,...e)}function bD(t,...e){if("string"!=typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return v2.create(t,...e)}function M(t,e,...n){if(!t)throw bD(e,...n)}function Jr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Pp(e),new Error(e)}function ps(t,e){t||Jr(e)}function yl(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.href)||""}function I2(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}class _l{constructor(e,n){this.shortDelay=e,this.longDelay=n,ps(n>e,"Short delay should be less than long delay!"),this.isMobile=function CZ(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Rt())}()||function SZ(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return function ese(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function CD(){return"http:"===I2()||"https:"===I2()}()||Hw()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function TD(t,e){ps(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class E2{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Jr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Jr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Jr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const nse={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},rse=new _l(3e4,6e4);function Qe(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function rt(t,e,n,r){return SD.apply(this,arguments)}function SD(){return(SD=g(function*(t,e,n,r,i={}){return D2(t,i,g(function*(){let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=dp(Object.assign({key:t.config.apiKey},o)).slice(1),u=yield t._getAdditionalHeaders();return u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),E2.fetch()(b2(t,t.config.apiHost,n,a),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function D2(t,e,n){return AD.apply(this,arguments)}function AD(){return(AD=g(function*(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},nse),e);try{const i=new ise(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw vl(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[u,c]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===u)throw vl(t,"credential-already-in-use",o);if("EMAIL_EXISTS"===u)throw vl(t,"email-already-in-use",o);if("USER_DISABLED"===u)throw vl(t,"user-disabled",o);const l=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw function w2(t,e,n){const r=Object.assign(Object.assign({},Jie()),{[e]:n});return new Kr("auth","Firebase",r).create(e,{appName:t.name})}(t,l,c);Un(t,l)}}catch(i){if(i instanceof er)throw i;Un(t,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function MD(){return(MD=g(function*(t,e,n,r,i={}){const s=yield rt(t,e,n,r,i);return"mfaPendingCredential"in s&&Un(t,"multi-factor-auth-required",{_serverResponse:s}),s})).apply(this,arguments)}function b2(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?TD(t.config,i):`${t.config.apiScheme}://${i}`}class ise{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Xr(this.auth,"network-request-failed")),rse.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function vl(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Xr(t,e,r);return i.customData._tokenResponse=n,i}function xD(){return(xD=g(function*(t,e){return rt(t,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function ND(){return(ND=g(function*(t,e){return rt(t,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function wl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function kD(){return(kD=g(function*(t,e=!1){const n=wn(t),r=yield n.getIdToken(e),i=Op(r);M(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:wl(PD(i.auth_time)),issuedAtTime:wl(PD(i.iat)),expirationTime:wl(PD(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})).apply(this,arguments)}function PD(t){return 1e3*Number(t)}function Op(t){const[e,n,r]=t.split(".");if(void 0===e||void 0===n||void 0===r)return Pp("JWT malformed, contained fewer than 3 sections"),null;try{const i=op(n);return i?JSON.parse(i):(Pp("Failed to decode base64 JWT payload"),null)}catch(i){return Pp("Caught error parsing JWT payload as JSON",i?.toString()),null}}function Li(t,e){return OD.apply(this,arguments)}function OD(){return(OD=g(function*(t,e,n=!1){if(n)return e;try{return yield e}catch(r){throw r instanceof er&&function lse({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})).apply(this,arguments)}class dse{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var n=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(g(function*(){yield n.iteration()}),r)}iteration(){var e=this;return g(function*(){try{yield e.user.getIdToken(!0)}catch(n){return void("auth/network-request-failed"===n?.code&&e.schedule(!0))}e.schedule()})()}}class C2{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=wl(this.lastLoginAt),this.creationTime=wl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Il(t){return FD.apply(this,arguments)}function FD(){return FD=g(function*(t){var e;const n=t.auth,r=yield t.getIdToken(),i=yield Li(t,function ase(t,e){return ND.apply(this,arguments)}(n,{idToken:r}));M(i?.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=null!==(e=s.providerUserInfo)&&void 0!==e&&e.length?function pse(t){return t.map(e=>{var{providerId:n}=e,r=zm(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(s.providerUserInfo):[],a=function fse(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(t.providerData,o),l=!!t.isAnonymous&&!(t.email&&s.passwordHash||a?.length),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new C2(s.createdAt,s.lastLoginAt),isAnonymous:l};Object.assign(t,d)}),FD.apply(this,arguments)}function LD(){return(LD=g(function*(t){const e=wn(t);yield Il(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function VD(){return(VD=g(function*(t,e){const n=yield D2(t,{},g(function*(){const r=dp({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=b2(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",E2.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}class El{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){M(e.idToken,"internal-error"),M(typeof e.idToken<"u","internal-error"),M(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function cse(t){const e=Op(t);return M(e,"internal-error"),M(typeof e.exp<"u","internal-error"),M(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){var r=this;return g(function*(){return M(!r.accessToken||r.refreshToken,e,"user-token-expired"),n||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,n){var r=this;return g(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function gse(t,e){return VD.apply(this,arguments)}(e,n);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new El;return r&&(M("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(M("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(M("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new El,this.toJSON())}_performRefresh(){return Jr("not implemented")}}function gs(t,e){M("string"==typeof t||typeof t>"u","internal-error",{appName:e})}class wo{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=zm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new dse(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new C2(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var n=this;return g(function*(){const r=yield Li(n,n.stsTokenManager.getToken(n.auth,e));return M(r,n.auth,"internal-error"),n.accessToken!==r&&(n.accessToken=r,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),r})()}getIdTokenResult(e){return function use(t){return kD.apply(this,arguments)}(this,e)}reload(){return function hse(t){return LD.apply(this,arguments)}(this)}_assign(e){this!==e&&(M(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new wo(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){M(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){var r=this;return g(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield Il(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return g(function*(){const n=yield e.getIdToken();return yield Li(e,function sse(t,e){return xD.apply(this,arguments)}(e.auth,{idToken:n})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,u,c,l;const d=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,f=null!==(s=n.phoneNumber)&&void 0!==s?s:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,m=null!==(a=n.tenantId)&&void 0!==a?a:void 0,y=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,v=null!==(c=n.createdAt)&&void 0!==c?c:void 0,_=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,{uid:E,emailVerified:A,isAnonymous:O,providerData:K,stsTokenManager:ze}=n;M(E&&ze,e,"internal-error");const Sn=El.fromJSON(this.name,ze);M("string"==typeof E,e,"internal-error"),gs(d,e.name),gs(h,e.name),M("boolean"==typeof A,e,"internal-error"),M("boolean"==typeof O,e,"internal-error"),gs(f,e.name),gs(p,e.name),gs(m,e.name),gs(y,e.name),gs(v,e.name),gs(_,e.name);const li=new wo({uid:E,auth:e,email:h,emailVerified:A,displayName:d,isAnonymous:O,photoURL:p,phoneNumber:f,tenantId:m,stsTokenManager:Sn,createdAt:v,lastLoginAt:_});return K&&Array.isArray(K)&&(li.providerData=K.map(Kge=>Object.assign({},Kge))),y&&(li._redirectEventId=y),li}static _fromIdTokenResponse(e,n,r=!1){return g(function*(){const i=new El;i.updateFromServerResponse(n);const s=new wo({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Il(s),s})()}}const T2=new Map;function Vi(t){ps(t instanceof Function,"Expected a class definition");let e=T2.get(t);return e?(ps(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,T2.set(t,e),e)}const S2=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return g(function*(){return!0})()}_set(n,r){var i=this;return g(function*(){i.storage[n]=r})()}_get(n){var r=this;return g(function*(){const i=r.storage[n];return void 0===i?null:i})()}_remove(n){var r=this;return g(function*(){delete r.storage[n]})()}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})();function Fp(t,e,n){return`firebase:${t}:${e}:${n}`}class su{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Fp(this.userKey,i.apiKey,s),this.fullPersistenceKey=Fp("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return g(function*(){const n=yield e.persistence._get(e.fullUserKey);return n?wo._fromJSON(e.auth,n):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var n=this;return g(function*(){if(n.persistence===e)return;const r=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=e,r?n.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return g(function*(){if(!n.length)return new su(Vi(S2),e,r);const i=(yield Promise.all(n.map(function(){var c=g(function*(l){if(yield l._isAvailable())return l});return function(l){return c.apply(this,arguments)}}()))).filter(c=>c);let s=i[0]||Vi(S2);const o=Fp(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const l=yield c._get(o);if(l){const d=wo._fromJSON(e,l);c!==s&&(a=d),s=c;break}}catch{}const u=i.filter(c=>c._shouldAllowMigration);return s._shouldAllowMigration&&u.length?(s=u[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(function(){var c=g(function*(l){if(l!==s)try{yield l._remove(o)}catch{}});return function(l){return c.apply(this,arguments)}}())),new su(s,e,r)):new su(s,e,r)})()}}function A2(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(R2(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(M2(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(k2(e))return"Blackberry";if(P2(e))return"Webos";if(UD(e))return"Safari";if((e.includes("chrome/")||x2(e))&&!e.includes("edge/"))return"Chrome";if(N2(e))return"Android";{const r=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function M2(t=Rt()){return/firefox\//i.test(t)}function UD(t=Rt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function x2(t=Rt()){return/crios\//i.test(t)}function R2(t=Rt()){return/iemobile/i.test(t)}function N2(t=Rt()){return/android/i.test(t)}function k2(t=Rt()){return/blackberry/i.test(t)}function P2(t=Rt()){return/webos/i.test(t)}function Lp(t=Rt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function O2(t=Rt()){return Lp(t)||N2(t)||P2(t)||k2(t)||/windows phone/i.test(t)||R2(t)}function F2(t,e=[]){let n;switch(t){case"Browser":n=A2(Rt());break;case"Worker":n=`${A2(Rt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ds}/${r}`}function L2(t,e){return $D.apply(this,arguments)}function $D(){return($D=g(function*(t,e){return rt(t,"GET","/v2/recaptchaConfig",Qe(t,e))})).apply(this,arguments)}function U2(t){return void 0!==t&&void 0!==t.enterprise}class B2{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>"EMAIL_PASSWORD_PROVIDER"===n.provider&&"OFF"!==n.enforcementState)}}function jD(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Xr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",function wse(){var t,e;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)})}function $2(t){return`__${t}${Math.floor(1e6*Math.random())}`}class j2{constructor(e){this.type="recaptcha-enterprise",this.auth=kt(e)}verify(e="verify",n=!1){var r=this;return g(function*(){function s(){return s=g(function*(a){if(!n){if(null==a.tenantId&&null!=a._agentRecaptchaConfig)return a._agentRecaptchaConfig.siteKey;if(null!=a.tenantId&&void 0!==a._tenantRecaptchaConfigs[a.tenantId])return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(function(){var u=g(function*(c,l){L2(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(void 0!==d.recaptchaKey){const h=new B2(d);return null==a.tenantId?a._agentRecaptchaConfig=h:a._tenantRecaptchaConfigs[a.tenantId]=h,c(h.siteKey)}l(new Error("recaptcha Enterprise site key undefined"))}).catch(d=>{l(d)})});return function(c,l){return u.apply(this,arguments)}}())}),s.apply(this,arguments)}function o(a,u,c){const l=window.grecaptcha;U2(l)?l.enterprise.ready(()=>{l.enterprise.execute(a,{action:e}).then(d=>{u(d)}).catch(()=>{u("NO_RECAPTCHA")})}):c(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,u)=>{(function i(a){return s.apply(this,arguments)})(r.auth).then(c=>{if(!n&&U2(window.grecaptcha))o(c,a,u);else{if(typeof window>"u")return void u(new Error("RecaptchaVerifier is only supported in browser"));jD("https://www.google.com/recaptcha/enterprise.js?render="+c).then(()=>{o(c,a,u)}).catch(l=>{u(l)})}}).catch(c=>{u(c)})})})()}}class bse{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{o(e(s))}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var n=this;return g(function*(){if(n.auth.currentUser===e)return;const r=[];try{for(const i of n.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const s of r)try{s()}catch{}throw n.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}class Cse{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new H2(this),this.idTokenSubscription=new H2(this),this.beforeStateQueue=new bse(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=v2,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){var r=this;return n&&(this._popupRedirectResolver=Vi(n)),this._initializationPromise=this.queue(g(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield su.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(n),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return g(function*(){if(e._deleted)return;const n=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||n){if(e.currentUser&&n&&e.currentUser.uid===n.uid)return e._currentUser._assign(n),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(n,!0)}})()}initializeCurrentUser(e){var n=this;return g(function*(){var r;const i=yield n.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const a=null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId,u=s?._redirectEventId,c=yield n.tryRedirectSignIn(e);(!a||a===u)&&c?.user&&(s=c.user,o=!0)}if(!s)return n.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{yield n.beforeStateQueue.runMiddleware(s)}catch(a){s=i,n._popupRedirectResolver._overrideRedirectResult(n,()=>Promise.reject(a))}return s?n.reloadAndSetCurrentUserOrClear(s):n.directlySetCurrentUser(null)}return M(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===s._redirectEventId?n.directlySetCurrentUser(s):n.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(e){var n=this;return g(function*(){let r=null;try{r=yield n._popupRedirectResolver._completeRedirectFn(n,e,!0)}catch{yield n._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var n=this;return g(function*(){try{yield Il(e)}catch(r){if("auth/network-request-failed"!==r?.code)return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function tse(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var e=this;return g(function*(){e._deleted=!0})()}updateCurrentUser(e){var n=this;return g(function*(){const r=e?wn(e):null;return r&&M(r.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(r&&r._clone(n))})()}_updateCurrentUser(e,n=!1){var r=this;return g(function*(){if(!r._deleted)return e&&M(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),n||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(g(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return g(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var n=this;return this.queue(g(function*(){yield n.assertedPersistence.setPersistence(Vi(e))}))}initializeRecaptchaConfig(){var e=this;return g(function*(){const n=yield L2(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new B2(n);null==e.tenantId?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.emailPasswordEnabled&&new j2(e).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Kr("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,n){var r=this;return g(function*(){const i=yield r.getOrInitRedirectPersistenceManager(n);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var n=this;return g(function*(){if(!n.redirectPersistenceManager){const r=e&&Vi(e)||n._popupRedirectResolver;M(r,n,"argument-error"),n.redirectPersistenceManager=yield su.create(n,[Vi(r._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(e){var n=this;return g(function*(){var r,i;return n._isInitialized&&(yield n.queue(g(function*(){}))),(null===(r=n._currentUser)||void 0===r?void 0:r._redirectEventId)===e?n._currentUser:(null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?n.redirectUser:null})()}_persistUserIfCurrent(e){var n=this;return g(function*(){if(e===n.currentUser)return n.queue(g(function*(){return n.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(n=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s="function"==typeof n?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return M(o,this,"internal-error"),o.then(()=>s(this.currentUser)),"function"==typeof n?e.addObserver(n,r,i):e.addObserver(n)}directlySetCurrentUser(e){var n=this;return g(function*(){n.currentUser&&n.currentUser!==e&&n._currentUser._stopProactiveRefresh(),e&&n.isProactiveRefreshEnabled&&e._startProactiveRefresh(),n.currentUser=e,e?yield n.assertedPersistence.setCurrentUser(e):yield n.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return M(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=F2(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return g(function*(){var n;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(n=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const s=yield e._getAppCheckToken();return s&&(r["X-Firebase-AppCheck"]=s),r})()}_getAppCheckToken(){var e=this;return g(function*(){var n;const r=yield null===(n=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getToken();return r?.error&&function Zie(t,...e){kp.logLevel<=Y.WARN&&kp.warn(`Auth (${ds}): ${t}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function kt(t){return wn(t)}class H2{constructor(e){this.auth=e,this.observer=null,this.addObserver=function kZ(t,e){const n=new PZ(t,e);return n.subscribe.bind(n)}(n=>this.observer=n)}get next(){return M(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function G2(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function z2(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}class Rse{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Jr("not implemented")}_getIdTokenResponse(e){return Jr("not implemented")}_linkToIdToken(e,n){return Jr("not implemented")}_getReauthenticationResolver(e){return Jr("not implemented")}}function Ui(t,e){return sb.apply(this,arguments)}function sb(){return(sb=g(function*(t,e){return function Fi(t,e,n,r){return MD.apply(this,arguments)}(t,"POST","/v1/accounts:signInWithIdp",Qe(t,e))})).apply(this,arguments)}class ys{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class zse extends ys{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class fr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return g(function*(){const s=yield wo._fromIdTokenResponse(e,r,i),o=Q2(r);return new fr({user:s,providerId:o,_tokenResponse:r,operationType:n})})()}static _forOperation(e,n,r){return g(function*(){yield e._updateTokensIfNecessary(r,!0);const i=Q2(r);return new fr({user:e,providerId:i,_tokenResponse:r,operationType:n})})()}}function Q2(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class jp extends er{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,jp.prototype),this.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new jp(e,n,r,i)}}function Y2(t,e,n,r){return("reauthenticate"===e?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw"auth/multi-factor-auth-required"===s.code?jp._fromErrorAndOperation(t,s,e,r):s})}function gb(){return(gb=g(function*(t,e,n=!1){const r=yield Li(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return fr._forOperation(t,"link",r)})).apply(this,arguments)}function yb(){return(yb=g(function*(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=yield Li(t,Y2(r,i,e,t),n);M(s.idToken,r,"internal-error");const o=Op(s.idToken);M(o,r,"internal-error");const{sub:a}=o;return M(t.uid===a,r,"user-mismatch"),fr._forOperation(t,i,s)}catch(s){throw"auth/user-not-found"===s?.code&&Un(r,"user-mismatch"),s}})).apply(this,arguments)}function _b(){return(_b=g(function*(t,e,n=!1){const r="signIn",i=yield Y2(t,r,e),s=yield fr._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})).apply(this,arguments)}const Gp="__sak";class tV{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Gp,"1"),this.storage.removeItem(Gp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const poe=(()=>{class t extends tV{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function doe(){const t=Rt();return UD(t)||Lp(t)}()&&function _se(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=O2(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key)return void this.forAllChangedKeys((a,u,c)=>{this.notifyListeners(a,c)});const i=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(i);if(n.newValue!==a)null!==n.newValue?this.storage.setItem(i,n.newValue):this.storage.removeItem(i);else if(this.localCache[i]===n.newValue&&!r)return}const s=()=>{const a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);!function yse(){return function AZ(){const t=Rt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}()&&10===document.documentMode}()||o===n.newValue||n.newValue===n.oldValue?s():setTimeout(s,10)}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(n,r){var i=()=>super._set,s=this;return g(function*(){yield i().call(s,n,r),s.localCache[n]=JSON.stringify(r)})()}_get(n){var r=()=>super._get,i=this;return g(function*(){const s=yield r().call(i,n);return i.localCache[n]=JSON.stringify(s),s})()}_remove(n){var r=()=>super._remove,i=this;return g(function*(){yield r().call(i,n),delete i.localCache[n]})()}}return t.type="LOCAL",t})(),nV=(()=>{class t extends tV{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})();let moe=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){const r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;const i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){var r=this;return g(function*(){const i=n,{eventId:s,eventType:o,data:a}=i.data,u=r.handlersMap[o];if(!u?.size)return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const c=Array.from(u).map(function(){var d=g(function*(h){return h(i.origin,a)});return function(h){return d.apply(this,arguments)}}()),l=yield function goe(t){return Promise.all(t.map(function(){var e=g(function*(n){try{return{fulfilled:!0,value:yield n}}catch(r){return{fulfilled:!1,reason:r}}});return function(n){return e.apply(this,arguments)}}()))}(c);i.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:l})})()}_subscribe(n,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||0===this.handlersMap[n].size)&&delete this.handlersMap[n],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return t.receivers=[],t})();function Kb(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(10*Math.random());return t+n}class yoe{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){var i=this;return g(function*(){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,a;return new Promise((u,c)=>{const l=Kb("",20);s.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(h){const f=h;if(f.data.eventId===l)switch(f.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(f.data.response);break;default:clearTimeout(d),clearTimeout(o),c(new Error("invalid_response"))}}},i.handlers.add(a),s.port1.addEventListener("message",a.onMessage),i.target.postMessage({eventType:e,eventId:l,data:n},[s.port2])}).finally(()=>{a&&i.removeMessageHandler(a)})})()}}function mt(){return window}function Qb(){return typeof mt().WorkerGlobalScope<"u"&&"function"==typeof mt().importScripts}function Yb(){return(Yb=g(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const rV="firebaseLocalStorageDb",zp="firebaseLocalStorage",iV="fbase_key";class Tl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function qp(t,e){return t.transaction([zp],e?"readwrite":"readonly").objectStore(zp)}function Xb(){const t=indexedDB.open(rV,1);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(zp,{keyPath:iV})}catch(i){n(i)}}),t.addEventListener("success",g(function*(){const r=t.result;r.objectStoreNames.contains(zp)?e(r):(r.close(),yield function Doe(){const t=indexedDB.deleteDatabase(rV);return new Tl(t).toPromise()}(),e(yield Xb()))}))})}function sV(t,e,n){return Jb.apply(this,arguments)}function Jb(){return(Jb=g(function*(t,e,n){const r=qp(t,!0).put({[iV]:e,value:n});return new Tl(r).toPromise()})).apply(this,arguments)}function Zb(){return(Zb=g(function*(t,e){const n=qp(t,!1).get(e),r=yield new Tl(n).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function oV(t,e){const n=qp(t,!0).delete(e);return new Tl(n).toPromise()}const Soe=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var n=this;return g(function*(){return n.db||(n.db=yield Xb()),n.db})()}_withRetries(n){var r=this;return g(function*(){let i=0;for(;;)try{const s=yield r._openDb();return yield n(s)}catch(s){if(i++>3)throw s;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var n=this;return g(function*(){return Qb()?n.initializeReceiver():n.initializeSender()})()}initializeReceiver(){var n=this;return g(function*(){n.receiver=moe._getInstance(function Ioe(){return Qb()?self:null}()),n.receiver._subscribe("keyChanged",function(){var r=g(function*(i,s){return{keyProcessed:(yield n._poll()).includes(s.key)}});return function(i,s){return r.apply(this,arguments)}}()),n.receiver._subscribe("ping",function(){var r=g(function*(i,s){return["keyChanged"]});return function(i,s){return r.apply(this,arguments)}}())})()}initializeSender(){var n=this;return g(function*(){var r,i;if(n.activeServiceWorker=yield function voe(){return Yb.apply(this,arguments)}(),!n.activeServiceWorker)return;n.sender=new yoe(n.activeServiceWorker);const s=yield n.sender._send("ping",{},800);s&&null!==(r=s[0])&&void 0!==r&&r.fulfilled&&null!==(i=s[0])&&void 0!==i&&i.value.includes("keyChanged")&&(n.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(n){var r=this;return g(function*(){if(r.sender&&r.activeServiceWorker&&function woe(){var t;return(null===(t=navigator?.serviceWorker)||void 0===t?void 0:t.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:n},r.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return g(function*(){try{if(!indexedDB)return!1;const n=yield Xb();return yield sV(n,Gp,"1"),yield oV(n,Gp),!0}catch{}return!1})()}_withPendingWrite(n){var r=this;return g(function*(){r.pendingWrites++;try{yield n()}finally{r.pendingWrites--}})()}_set(n,r){var i=this;return g(function*(){return i._withPendingWrite(g(function*(){return yield i._withRetries(s=>sV(s,n,r)),i.localCache[n]=r,i.notifyServiceWorker(n)}))})()}_get(n){var r=this;return g(function*(){const i=yield r._withRetries(s=>function boe(t,e){return Zb.apply(this,arguments)}(s,n));return r.localCache[n]=i,i})()}_remove(n){var r=this;return g(function*(){return r._withPendingWrite(g(function*(){return yield r._withRetries(i=>oV(i,n)),delete r.localCache[n],r.notifyServiceWorker(n)}))})()}_poll(){var n=this;return g(function*(){const r=yield n._withRetries(o=>{const a=qp(o,!1).getAll();return new Tl(a).toPromise()});if(!r)return[];if(0!==n.pendingWrites)return[];const i=[],s=new Set;for(const{fbase_key:o,value:a}of r)s.add(o),JSON.stringify(n.localCache[o])!==JSON.stringify(a)&&(n.notifyListeners(o,a),i.push(o));for(const o of Object.keys(n.localCache))n.localCache[o]&&!s.has(o)&&(n.notifyListeners(o,null),i.push(o));return i})()}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const s of Array.from(i))s(r)}startPolling(){var n=this;this.stopPolling(),this.pollTimer=setInterval(g(function*(){return n._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return t.type="LOCAL",t})();$2("rcb"),new _l(3e4,6e4);class uC extends Rse{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ui(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ui(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ui(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Hoe(t){return function Z2(t,e){return _b.apply(this,arguments)}(t.auth,new uC(t),t.bypassAuthState)}function Goe(t){const{auth:e,user:n}=t;return M(n,e,"internal-error"),function J2(t,e){return yb.apply(this,arguments)}(n,new uC(t),t.bypassAuthState)}function zoe(t){return cC.apply(this,arguments)}function cC(){return(cC=g(function*(t){const{auth:e,user:n}=t;return M(n,e,"internal-error"),function pb(t,e){return gb.apply(this,arguments)}(n,new uC(t),t.bypassAuthState)})).apply(this,arguments)}class qoe{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){var e=this;return new Promise(function(){var n=g(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(s){e.reject(s)}});return function(r,i){return n.apply(this,arguments)}}())}onAuthEvent(e){var n=this;return g(function*(){const{urlResponse:r,sessionId:i,postBody:s,tenantId:o,error:a,type:u}=e;if(a)return void n.reject(a);const c={auth:n.auth,requestUri:r,sessionId:i,tenantId:o||void 0,postBody:s||void 0,user:n.user,bypassAuthState:n.bypassAuthState};try{n.resolve(yield n.getIdpTask(u)(c))}catch(l){n.reject(l)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Hoe;case"linkViaPopup":case"linkViaRedirect":return zoe;case"reauthViaPopup":case"reauthViaRedirect":return Goe;default:Un(this.auth,"internal-error")}}resolve(e){ps(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ps(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}new _l(2e3,1e4);const Woe="pendingRedirect",Sl=new Map;class Koe extends qoe{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,n=this;return g(function*(){let r=Sl.get(n.auth._key());if(!r){try{const s=(yield function Qoe(t,e){return pC.apply(this,arguments)}(n.resolver,n.auth))?yield e().call(n):null;r=()=>Promise.resolve(s)}catch(i){r=()=>Promise.reject(i)}Sl.set(n.auth._key(),r)}return n.bypassAuthState||Sl.set(n.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var n=()=>super.onAuthEvent,r=this;return g(function*(){if("signInViaRedirect"===e.type)return n().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,n().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return g(function*(){})()}cleanUp(){}}function pC(){return(pC=g(function*(t,e){const n=function cV(t){return Fp(Woe,t.config.apiKey,t.name)}(e),r=function uV(t){return Vi(t._redirectPersistence)}(t);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(n));return yield r._remove(n),i})).apply(this,arguments)}function Yoe(t,e){Sl.set(t._key(),e)}function lV(t,e){return IC.apply(this,arguments)}function IC(){return(IC=g(function*(t,e,n=!1){const r=kt(t),i=function Eo(t,e){return e?Vi(e):(M(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}(r,e),o=yield new Koe(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})).apply(this,arguments)}class tae{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function nae(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return fV(t);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!fV(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";n.onError(Xr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=null===n.eventId||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(hV(e))}saveEventToCache(e){this.cachedEventUids.add(hV(e)),this.lastProcessedEventTime=Date.now()}}function hV(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function fV({type:t,error:e}){return"unknown"===t&&"auth/no-auth-event"===e?.code}function DC(){return(DC=g(function*(t,e={}){return rt(t,"GET","/v1/projects",e)})).apply(this,arguments)}const iae=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,sae=/^https?/;function bC(){return bC=g(function*(t){if(t.config.emulator)return;const{authorizedDomains:e}=yield function rae(t){return DC.apply(this,arguments)}(t);for(const n of e)try{if(aae(n))return}catch{}Un(t,"unauthorized-domain")}),bC.apply(this,arguments)}function aae(t){const e=yl(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return""===o.hostname&&""===r?"chrome-extension:"===n&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===n&&o.hostname===r}if(!sae.test(n))return!1;if(iae.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const uae=new _l(3e4,6e4);function pV(){const t=mt().___jsl;if(t?.H)for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}let Kp=null;const dae=new _l(5e3,15e3),hae="__/auth/iframe",fae="emulator/auth/iframe",pae={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},gae=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function mae(t){const e=t.config;M(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?TD(e,fae):`https://${t.config.authDomain}/${hae}`,r={apiKey:e.apiKey,appName:t.name,v:ds},i=gae.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${dp(r).slice(1)}`}function CC(){return CC=g(function*(t){const e=yield function lae(t){return Kp=Kp||function cae(t){return new Promise((e,n)=>{var r,i,s;function o(){pV(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{pV(),n(Xr(t,"network-request-failed"))},timeout:uae.get()})}if(null!==(i=null===(r=mt().gapi)||void 0===r?void 0:r.iframes)&&void 0!==i&&i.Iframe)e(gapi.iframes.getContext());else{if(null===(s=mt().gapi)||void 0===s||!s.load){const a=$2("iframefcb");return mt()[a]=()=>{gapi.load?o():n(Xr(t,"network-request-failed"))},jD(`https://apis.google.com/js/api.js?onload=${a}`).catch(u=>n(u))}o()}}).catch(e=>{throw Kp=null,e})}(t),Kp}(t),n=mt().gapi;return M(n,t,"internal-error"),e.open({where:document.body,url:mae(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:pae,dontclear:!0},r=>new Promise(function(){var i=g(function*(s,o){yield r.restyle({setHideOnLeave:!1});const a=Xr(t,"network-request-failed"),u=mt().setTimeout(()=>{o(a)},dae.get());function c(){mt().clearTimeout(u),s(r)}r.ping(c).then(c,()=>{o(a)})});return function(s,o){return i.apply(this,arguments)}}()))}),CC.apply(this,arguments)}const _ae={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class gV{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Cae="__/auth/handler",Tae="emulator/auth/handler",Sae=encodeURIComponent("fac");function mV(t,e,n,r,i,s){return TC.apply(this,arguments)}function TC(){return(TC=g(function*(t,e,n,r,i,s){M(t.config.authDomain,t,"auth-domain-config-required"),M(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ds,eventId:i};if(e instanceof ys){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",function NZ(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[l,d]of Object.entries(s||{}))o[l]=d}if(e instanceof zse){const l=e.getScopes().filter(d=>""!==d);l.length>0&&(o.scopes=l.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const l of Object.keys(a))void 0===a[l]&&delete a[l];const u=yield t._getAppCheckToken(),c=u?`#${Sae}=${encodeURIComponent(u)}`:"";return`${function Aae({config:t}){return t.emulator?TD(t,Tae):`https://${t.authDomain}/${Cae}`}(t)}?${dp(a).slice(1)}${c}`})).apply(this,arguments)}const SC="webStorageSupport",xae=class Mae{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=nV,this._completeRedirectFn=lV,this._overrideRedirectResult=Yoe}_openPopup(e,n,r,i){var s=this;return g(function*(){var o;ps(null===(o=s.eventManagers[e._key()])||void 0===o?void 0:o.manager,"_initialize() not called before _openPopup()");const a=yield mV(e,n,r,yl(),i);return function Dae(t,e,n,r=500,i=600){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u=Object.assign(Object.assign({},_ae),{width:r.toString(),height:i.toString(),top:s,left:o}),c=Rt().toLowerCase();n&&(a=x2(c)?"_blank":n),M2(c)&&(e=e||"http://localhost",u.scrollbars="yes");const l=Object.entries(u).reduce((h,[f,p])=>`${h}${f}=${p},`,"");if(function mse(t=Rt()){var e;return Lp(t)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(c)&&"_self"!==a)return function bae(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(e||"",a),new gV(null);const d=window.open(e||"",a,l);M(d,t,"popup-blocked");try{d.focus()}catch{}return new gV(d)}(e,a,Kb())})()}_openRedirect(e,n,r,i){var s=this;return g(function*(){return yield s._originValidation(e),function _oe(t){mt().location.href=t}(yield mV(e,n,r,yl(),i)),new Promise(()=>{})})()}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(ps(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){var n=this;return g(function*(){const r=yield function yae(t){return CC.apply(this,arguments)}(e),i=new tae(e);return r.register("authEvent",s=>(M(s?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),n.eventManagers[e._key()]={manager:i},n.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(SC,{type:SC},i=>{var s;const o=null===(s=i?.[0])||void 0===s?void 0:s[SC];void 0!==o&&n(!!o),Un(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=function oae(t){return bC.apply(this,arguments)}(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return O2()||UD()||Lp()}};var vV="@firebase/auth";class Rae{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var n=this;return g(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){M(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Oae=CF("authIdTokenMaxAge")||300;let IV=null;const Fae=t=>function(){var e=g(function*(n){const r=n&&(yield n.getIdTokenResult()),i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3;if(i&&i>Oae)return;const s=r?.token;IV!==s&&(IV=s,yield fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))});return function(n){return e.apply(this,arguments)}}();function Lae(t=pp()){const e=ho(t,"auth");if(e.isInitialized())return e.getImmediate();const n=function Tse(t,e){const n=ho(t,"auth");if(n.isInitialized()){const i=n.getImmediate();if(lp(n.getOptions(),e??{}))return i;Un(i,"already-initialized")}return n.initialize({options:e})}(t,{popupRedirectResolver:xae,persistence:[Soe,poe,nV]}),r=CF("authTokenSyncURL");if(r){const s=Fae(r);(function ooe(t,e,n){wn(t).beforeAuthStateChanged(e,n)})(n,s,()=>s(n.currentUser)),function soe(t,e,n,r){wn(t).onIdTokenChanged(e,n,r)}(n,o=>s(o))}const i=EF("auth");return i&&function Ase(t,e,n){const r=kt(t);M(r._canInitEmulator,r,"emulator-config-failed"),M(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!n?.disableWarnings,s=G2(e),{host:o,port:a}=function Mse(t){const e=G2(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:z2(r.substr(s.length+1))}}{const[s,o]=r.split(":");return{host:s,port:z2(o)}}}(e);r.config.emulator={url:`${s}//${o}${null===a?"":`:${a}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function xse(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",t):t())}()}(n,`http://${i}`),n}!function kae(t){un(new zt("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;M(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:F2(t)},c=new Cse(r,i,s,u);return function Sse(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Vi);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),un(new zt("auth-internal",e=>{const n=kt(e.getProvider("auth").getImmediate());return new Rae(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ve(vV,"0.23.2",function Nae(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(t)),Ve(vV,"0.23.2","esm2017")}("Browser");class MC{constructor(e){return e}}class xC{constructor(){return Ep("auth")}}const RC=new L("angularfire2.auth-instances");function Uae(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new MC(r)}}const Bae={provide:xC,deps:[[new Et,RC]]},$ae={provide:MC,useFactory:function Vae(t,e){const n=Ip("auth",t,e);return n&&new MC(n)},deps:[[new Et,RC],vo]};let jae=(()=>{class t{constructor(){Ve("angularfire",pl.full,"auth")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=tn({type:t}),t.\u0275inj=$t({providers:[$ae,Bae]}),t})();function Hae(t,...e){return{ngModule:jae,providers:[{provide:RC,useFactory:Uae(t),multi:!0,deps:[Te,Fn,Dp,bp,[new Et,Np],...e]}]}}const Gae=nu(Lae,!0),DV="firebasestorage.googleapis.com";class Ye extends er{constructor(e,n,r=0){super(NC(e),`Firebase Storage: ${n} (${NC(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ye.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return NC(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var z=(()=>((z=z||{}).UNKNOWN="unknown",z.OBJECT_NOT_FOUND="object-not-found",z.BUCKET_NOT_FOUND="bucket-not-found",z.PROJECT_NOT_FOUND="project-not-found",z.QUOTA_EXCEEDED="quota-exceeded",z.UNAUTHENTICATED="unauthenticated",z.UNAUTHORIZED="unauthorized",z.UNAUTHORIZED_APP="unauthorized-app",z.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",z.INVALID_CHECKSUM="invalid-checksum",z.CANCELED="canceled",z.INVALID_EVENT_NAME="invalid-event-name",z.INVALID_URL="invalid-url",z.INVALID_DEFAULT_BUCKET="invalid-default-bucket",z.NO_DEFAULT_BUCKET="no-default-bucket",z.CANNOT_SLICE_BLOB="cannot-slice-blob",z.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",z.NO_DOWNLOAD_URL="no-download-url",z.INVALID_ARGUMENT="invalid-argument",z.INVALID_ARGUMENT_COUNT="invalid-argument-count",z.APP_DELETED="app-deleted",z.INVALID_ROOT_OPERATION="invalid-root-operation",z.INVALID_FORMAT="invalid-format",z.INTERNAL_ERROR="internal-error",z.UNSUPPORTED_ENVIRONMENT="unsupported-environment",z))();function NC(t){return"storage/"+t}function PC(t){return new Ye(z.INVALID_ARGUMENT,t)}function AV(){return new Ye(z.APP_DELETED,"The Firebase app was deleted.")}class En{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=En.makeFromUrl(e,n)}catch{return new En(e,"")}if(""===r.path)return r;throw function eue(t){return new Ye(z.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)",a=new RegExp("^gs://"+i+"(/(.*))?$","i");function c(A){A.path_=decodeURIComponent(A.path)}const d=n.replace(/[.]/g,"\\."),E=[{regex:a,indices:{bucket:1,path:3},postModify:function s(A){"/"===A.path.charAt(A.path.length-1)&&(A.path_=A.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${d}/v[A-Za-z0-9_]+/b/${i}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:c},{regex:new RegExp(`^https?://${n===DV?"(?:storage.googleapis.com|storage.cloud.google.com)":n}/${i}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:c}];for(let A=0;A<E.length;A++){const O=E[A],K=O.regex.exec(e);if(K){let Sn=K[O.indices.path];Sn||(Sn=""),r=new En(K[O.indices.bucket],Sn),O.postModify(r);break}}if(null==r)throw function Zae(t){return new Ye(z.INVALID_URL,"Invalid URL '"+t+"'.")}(e);return r}}class oue{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function FC(t,e,n,r){if(r<e)throw PC(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw PC(`Invalid value for '${t}'. Expected ${n} or less.`)}var Bn=(()=>((Bn=Bn||{})[Bn.NO_ERROR=0]="NO_ERROR",Bn[Bn.NETWORK_ERROR=1]="NETWORK_ERROR",Bn[Bn.ABORT=2]="ABORT",Bn))();class hue{constructor(e,n,r,i,s,o,a,u,c,l,d,h=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=u,this.timeout_=c,this.progressCallback_=l,this.connectionFactory_=d,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((f,p)=>{this.resolve_=f,this.reject_=p,this.start_()})}start_(){const n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const u=this.callback_(a,a.getResponse());!function cue(t){return void 0!==t}(u)?s():s(u)}catch(u){o(u)}else if(null!==a){const u=function kC(){return new Ye(z.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}();u.serverResponse=a.getErrorText(),o(this.errorCallback_?this.errorCallback_(a,u):u)}else o(i.canceled?this.appDelete_?AV():function TV(){return new Ye(z.CANCELED,"User canceled the upload/download.")}():function CV(){return new Ye(z.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}())};this.canceled_?n(0,new Xp(!1,null,!0)):this.backoffId_=function aue(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function u(){return 2===a}let c=!1;function l(...y){c||(c=!0,e.apply(null,y))}function d(y){i=setTimeout(()=>{i=null,t(f,u())},y)}function h(){s&&clearTimeout(s)}function f(y,...v){if(c)return void h();if(y)return h(),void l.call(null,y,...v);if(u()||o)return h(),void l.call(null,y,...v);let E;r<64&&(r*=2),1===a?(a=2,E=0):E=1e3*(r+Math.random()),d(E)}let p=!1;function m(y){p||(p=!0,h(),!c&&(null!==i?(y||(a=2),clearTimeout(i),d(0)):y||(a=1)))}return d(0),s=setTimeout(()=>{o=!0,m(!0)},n),m}((r,i)=>{if(i)return void r(!1,new Xp(!1,null,!0));const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{null!==this.progressCallback_&&this.progressCallback_(a.loaded,a.lengthComputable?a.total:-1)};null!==this.progressCallback_&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===Bn.NO_ERROR,u=s.getStatus();if(!a||function RV(t,e){const n=t>=500&&t<600,i=-1!==[408,429].indexOf(t),s=-1!==e.indexOf(t);return n||i||s}(u,this.additionalRetryCodes_)&&this.retry){const l=s.getErrorCode()===Bn.ABORT;return void r(!1,new Xp(!1,null,l))}const c=-1!==this.successCodes_.indexOf(u);r(!0,new Xp(c,s))})},n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function uue(t){t(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class Xp{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}class Do{constructor(e,n){this._service=e,this._location=n instanceof En?n:En.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Do(e,n)}get root(){const e=new En(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return function FV(t){const e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}(this._location.path)}get storage(){return this._service}get parent(){const e=function Tue(t){if(0===t.length)return null;const e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this._location.path);if(null===e)return null;const n=new En(this._location.bucket,e);return new Do(this._service,n)}_throwIfRoot(e){if(""===this._location.path)throw function sue(t){return new Ye(z.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function XV(t,e){const n=e?.storageBucket;return null==n?null:En.makeFromBucketSpec(n,t)}class HC{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=DV,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?En.makeFromBucketSpec(i,this._host):XV(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?En.makeFromBucketSpec(this._url,e):XV(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){FC("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){FC("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return g(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const n=e._authProvider.getImmediate({optional:!0});if(n){const r=yield n.getToken();if(null!==r)return r.accessToken}return null})()}_getAppCheckToken(){var e=this;return g(function*(){const n=e._appCheckProvider.getImmediate({optional:!0});return n?(yield n.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Do(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new oue(AV());{const o=function yue(t,e,n,r,i,s,o=!0){const a=function xV(t){const e=encodeURIComponent;let n="?";for(const r in t)t.hasOwnProperty(r)&&(n=n+(e(r)+"=")+e(t[r])+"&");return n=n.slice(0,-1),n}(t.urlParams),u=t.url+a,c=Object.assign({},t.headers);return function gue(t,e){e&&(t["X-Firebase-GMPID"]=e)}(c,e),function fue(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(c,n),function pue(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}(c,s),function mue(t,e){null!==e&&(t["X-Firebase-AppCheck"]=e)}(c,r),new hue(u,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}makeRequestWithTokens(e,n){var r=this;return g(function*(){const[i,s]=yield Promise.all([r._getAuthToken(),r._getAppCheckToken()]);return r._makeRequest(e,n,i,s).getPromise()})()}}const JV="@firebase/storage",eU="storage";function dce(t=pp(),e){const r=ho(t=wn(t),eU).getImmediate({identifier:e}),i=DF("storage");return i&&function hce(t,e,n,r={}){!function lce(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken="string"==typeof i?i:TF(i,t.app.options.projectId))}(t,e,n,r)}(r,...i),r}function fce(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new HC(n,r,i,e,ds)}!function pce(){un(new zt(eU,fce,"PUBLIC").setMultipleInstances(!0)),Ve(JV,"0.11.2",""),Ve(JV,"0.11.2","esm2017")}();class GC{constructor(e){return e}}const tU="storage",zC=new L("angularfire2.storage-instances");function yce(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new GC(r)}}const _ce={provide:class gce{constructor(){return Ep(tU)}},deps:[[new Et,zC]]},vce={provide:GC,useFactory:function mce(t,e){const n=Ip(tU,t,e);return n&&new GC(n)},deps:[[new Et,zC],vo]};let wce=(()=>{class t{constructor(){Ve("angularfire",pl.full,"gcs")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=tn({type:t}),t.\u0275inj=$t({providers:[vce,_ce]}),t})();function Ice(t,...e){return{ngModule:wce,providers:[{provide:zC,useFactory:yce(t),multi:!0,deps:[Te,Fn,Dp,bp,[new Et,xC],[new Et,Np],...e]}]}}const Ece=nu(dce,!0);var N,Dce=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Mr={},qC=qC||{},te=Dce||self;function tg(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Nl(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var WC="closure_uid_"+(1e9*Math.random()>>>0),Cce=0;function Tce(t,e,n){return t.call.apply(t.bind,arguments)}function Sce(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function cn(t,e,n){return(cn=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Tce:Sce).apply(null,arguments)}function ng(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Pt(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function _s(){this.s=this.s,this.o=this.o}_s.prototype.s=!1,_s.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function bce(t){Object.prototype.hasOwnProperty.call(t,WC)&&t[WC]||(t[WC]=++Cce)}(this)},_s.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const nU=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function KC(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function rU(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(tg(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function ln(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}ln.prototype.h=function(){this.defaultPrevented=!0};var Mce=function(){if(!te.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{te.addEventListener("test",()=>{},e),te.removeEventListener("test",()=>{},e)}catch{}return t}();function kl(t){return/^[\s\xa0]*$/.test(t)}function rg(){var t=te.navigator;return t&&(t=t.userAgent)?t:""}function ti(t){return-1!=rg().indexOf(t)}function QC(t){return QC[" "](t),t}QC[" "]=function(){};var XC,t,Rce=ti("Opera"),cu=ti("Trident")||ti("MSIE"),iU=ti("Edge"),YC=iU||cu,sU=ti("Gecko")&&!(-1!=rg().toLowerCase().indexOf("webkit")&&!ti("Edge"))&&!(ti("Trident")||ti("MSIE"))&&!ti("Edge"),Nce=-1!=rg().toLowerCase().indexOf("webkit")&&!ti("Edge");function oU(){var t=te.document;return t?t.documentMode:void 0}e:{var JC="",ZC=(t=rg(),sU?/rv:([^\);]+)(\)|;)/.exec(t):iU?/Edge\/([\d\.]+)/.exec(t):cu?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):Nce?/WebKit\/(\S+)/.exec(t):Rce?/(?:Version)[ \/]?(\S+)/.exec(t):void 0);if(ZC&&(JC=ZC?ZC[1]:""),cu){var e0=oU();if(null!=e0&&e0>parseFloat(JC)){XC=String(e0);break e}}XC=JC}var kce=te.document&&cu&&(oU()||parseInt(XC,10))||void 0;function Pl(t,e){if(ln.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(sU){e:{try{QC(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Pce[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Pl.$.h.call(this)}}Pt(Pl,ln);var Pce={2:"touch",3:"pen",4:"mouse"};Pl.prototype.h=function(){Pl.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Ol="closure_listenable_"+(1e6*Math.random()|0),Oce=0;function Fce(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++Oce,this.fa=this.ia=!1}function ig(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function n0(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function uU(t){const e={};for(const n in t)e[n]=t[n];return e}const cU="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function lU(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let s=0;s<cU.length;s++)n=cU[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function sg(t){this.src=t,this.g={},this.h=0}function r0(t,e){var n=e.type;if(n in t.g){var s,r=t.g[n],i=nU(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(ig(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function s0(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}sg.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.g[s])||(t=this.g[s]=[],this.h++);var o=s0(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):((e=new Fce(e,this.src,s,!!r,i)).ia=n,t.push(e)),e};var o0="closure_lm_"+(1e6*Math.random()|0),a0={};function dU(t,e,n,r,i){if(r&&r.once)return fU(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)dU(t,e[s],n,r,i);return null}return n=d0(n),t&&t[Ol]?t.O(e,n,Nl(r)?!!r.capture:!!r,i):hU(t,e,n,!1,r,i)}function hU(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Nl(i)?!!i.capture:!!i,a=c0(t);if(a||(t[o0]=a=new sg(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function Vce(){const e=Uce;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Mce||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(gU(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function fU(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)fU(t,e[s],n,r,i);return null}return n=d0(n),t&&t[Ol]?t.P(e,n,Nl(r)?!!r.capture:!!r,i):hU(t,e,n,!0,r,i)}function pU(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)pU(t,e[s],n,r,i);else r=Nl(r)?!!r.capture:!!r,n=d0(n),t&&t[Ol]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=s0(s=t.g[e],n,r,i))&&(ig(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.g[e],t.h--))):t&&(t=c0(t))&&(e=t.g[e.toString()],t=-1,e&&(t=s0(e,n,r,i)),(n=-1<t?e[t]:null)&&u0(n))}function u0(t){if("number"!=typeof t&&t&&!t.fa){var e=t.src;if(e&&e[Ol])r0(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(gU(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=c0(e))?(r0(n,t),0==n.h&&(n.src=null,e[o0]=null)):ig(t)}}}function gU(t){return t in a0?a0[t]:a0[t]="on"+t}function Uce(t,e){if(t.fa)t=!0;else{e=new Pl(e,this);var n=t.listener,r=t.la||t.src;t.ia&&u0(t),t=n.call(r,e)}return t}function c0(t){return(t=t[o0])instanceof sg?t:null}var l0="__closure_events_fn_"+(1e9*Math.random()>>>0);function d0(t){return"function"==typeof t?t:(t[l0]||(t[l0]=function(e){return t.handleEvent(e)}),t[l0])}function Ot(){_s.call(this),this.i=new sg(this),this.S=this,this.J=null}function Kt(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,"string"==typeof e)e=new ln(e,t);else if(e instanceof ln)e.target=e.target||t;else{var i=e;lU(e=new ln(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=og(o,r,!0,e)&&i}if(i=og(o=e.g=t,r,!0,e)&&i,i=og(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=og(o=e.g=n[s],r,!1,e)&&i}function og(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,u=o.la||o.src;o.ia&&r0(t.i,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}Pt(Ot,_s),Ot.prototype[Ol]=!0,Ot.prototype.removeEventListener=function(t,e,n,r){pU(this,t,e,n,r)},Ot.prototype.N=function(){if(Ot.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)ig(n[r]);delete t.g[e],t.h--}}this.J=null},Ot.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},Ot.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var h0=te.JSON.stringify;function $ce(){var t=f0;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var mU=new class Bce{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new Hce,t=>t.reset());class Hce{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function Gce(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function zce(t){te.setTimeout(()=>{throw t},0)}let Fl,Ll=!1,f0=new class jce{constructor(){this.h=this.g=null}add(e,n){const r=mU.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},yU=()=>{const t=te.Promise.resolve(void 0);Fl=()=>{t.then(qce)}};var qce=()=>{for(var t;t=$ce();){try{t.h.call(t.g)}catch(n){zce(n)}var e=mU;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Ll=!1};function ag(t,e){Ot.call(this),this.h=t||1,this.g=e||te,this.j=cn(this.qb,this),this.l=Date.now()}function p0(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}function g0(t,e,n){if("function"==typeof t)n&&(t=cn(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=cn(t.handleEvent,t)}return 2147483647<Number(e)?-1:te.setTimeout(t,e||0)}function _U(t){t.g=g0(()=>{t.g=null,t.i&&(t.i=!1,_U(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}Pt(ag,Ot),(N=ag.prototype).ga=!1,N.T=null,N.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Kt(this,"tick"),this.ga&&(p0(this),this.start()))}},N.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},N.N=function(){ag.$.N.call(this),p0(this),delete this.g};class Wce extends _s{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:_U(this)}N(){super.N(),this.g&&(te.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Vl(t){_s.call(this),this.h=t,this.g={}}Pt(Vl,_s);var vU=[];function wU(t,e,n,r){Array.isArray(n)||(n&&(vU[0]=n.toString()),n=vU);for(var i=0;i<n.length;i++){var s=dU(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function IU(t){n0(t.g,function(e,n){this.g.hasOwnProperty(n)&&u0(e)},t),t.g={}}function ug(){this.g=!0}function lu(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Xce(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return h0(n)}catch{return e}}(t,n)+(r?" "+r:"")})}Vl.prototype.N=function(){Vl.$.N.call(this),IU(this)},Vl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ug.prototype.Ea=function(){this.g=!1},ug.prototype.info=function(){};var bo={},EU=null;function cg(){return EU=EU||new Ot}function DU(t){ln.call(this,bo.Ta,t)}function Ul(t){const e=cg();Kt(e,new DU(e))}function bU(t,e){ln.call(this,bo.STAT_EVENT,t),this.stat=e}function bn(t){const e=cg();Kt(e,new bU(e,t))}function CU(t,e){ln.call(this,bo.Ua,t),this.size=e}function Bl(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return te.setTimeout(function(){t()},e)}bo.Ta="serverreachability",Pt(DU,ln),bo.STAT_EVENT="statevent",Pt(bU,ln),bo.Ua="timingevent",Pt(CU,ln);var lg={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},TU={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function m0(){}function AU(){}m0.prototype.h=null;var v0,$l={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function y0(){ln.call(this,"d")}function _0(){ln.call(this,"c")}function dg(){}function jl(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Vl(this),this.P=Jce,this.V=new ag(t=YC?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new MU}function MU(){this.i=null,this.g="",this.h=!1}Pt(y0,ln),Pt(_0,ln),Pt(dg,m0),dg.prototype.g=function(){return new XMLHttpRequest},dg.prototype.i=function(){return{}},v0=new dg;var Jce=45e3,w0={},hg={};function I0(t,e,n){t.L=1,t.v=mg(ji(e)),t.s=n,t.S=!0,xU(t,null)}function xU(t,e){t.G=Date.now(),Hl(t),t.A=ji(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),BU(n.i,"t",r),t.C=0,n=t.l.J,t.h=new MU,t.g=lB(t.l,n?e:null,!t.s),0<t.O&&(t.M=new Wce(cn(t.Pa,t,t.g),t.O)),wU(t.U,t.g,"readystatechange",t.nb),e=t.I?uU(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),Ul(),function Kce(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var d=l.split("_");o=2<=d.length&&"type"==d[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o})}(t.j,t.u,t.A,t.m,t.W,t.s)}function RU(t){return!!t.g&&"GET"==t.u&&2!=t.L&&t.l.Ha}function NU(t,e,n){let i,r=!0;for(;!t.J&&t.C<n.length;){if(i=Zce(t,n),i==hg){4==e&&(t.o=4,bn(14),r=!1),lu(t.j,t.m,null,"[Incomplete Response]");break}if(i==w0){t.o=4,bn(15),lu(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}lu(t.j,t.m,i,null),E0(t,i)}RU(t)&&i!=hg&&i!=w0&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,bn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,(e=t.l).g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),M0(e),e.M=!0,bn(11))):(lu(t.j,t.m,n,"[Invalid Chunked Response]"),Co(t),Gl(t))}function Zce(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?hg:(n=Number(e.substring(n,r)),isNaN(n)?w0:(r+=1)+n>e.length?hg:(e=e.slice(r,r+n),t.C=r+n,e))}function Hl(t){t.Y=Date.now()+t.P,kU(t,t.P)}function kU(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=Bl(cn(t.lb,t),e)}function fg(t){t.B&&(te.clearTimeout(t.B),t.B=null)}function Gl(t){0==t.l.H||t.J||oB(t.l,t)}function Co(t){fg(t);var e=t.M;e&&"function"==typeof e.sa&&e.sa(),t.M=null,p0(t.V),IU(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function E0(t,e){try{var n=t.l;if(0!=n.H&&(n.g==t||D0(n.i,t)))if(!t.K&&D0(n.i,t)&&3==n.H){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<t.G))break e;Eg(n),wg(n)}A0(n),bn(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=Bl(cn(n.ib,n),6e3));if(1>=HU(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else So(n,11)}else if((t.K||n.g==t)&&Eg(n),!kl(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(n.V=c[0],c=c[1],2==n.H)if("c"==c[0]){n.K=c[1],n.pa=c[2];const l=c[3];null!=l&&(n.ra=l,n.l.info("VER="+n.ra));const d=c[4];null!=d&&(n.Ga=d,n.l.info("SVER="+n.Ga));const h=c[5];null!=h&&"number"==typeof h&&0<h&&(n.L=r=1.5*h,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;s.g||-1==p.indexOf("spdy")&&-1==p.indexOf("quic")&&-1==p.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(b0(s,s.h),s.h=null))}if(r.F){const m=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;m&&(r.Da=m,Ue(r.I,r.F,m))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms"));var o=t;if((r=n).wa=cB(r,r.J?r.pa:null,r.Y),o.K){GU(r.i,o);var a=o,u=r.L;u&&a.setTimeout(u),a.B&&(fg(a),Hl(a)),r.g=o}else iB(r);0<n.j.length&&Ig(n)}else"stop"!=c[0]&&"close"!=c[0]||So(n,7);else 3==n.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?So(n,7):S0(n):"noop"!=c[0]&&n.h&&n.h.Aa(c),n.A=0)}Ul()}catch{}}function PU(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(tg(t)||"string"==typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function tle(t){if(t.ta&&"function"==typeof t.ta)return t.ta();if(!t.Z||"function"!=typeof t.Z){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(tg(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}(t),r=function ele(t){if(t.Z&&"function"==typeof t.Z)return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if("string"==typeof t)return t.split("");if(tg(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}(N=jl.prototype).setTimeout=function(t){this.P=t},N.nb=function(t){t=t.target;const e=this.M;e&&3==ni(t)?e.l():this.Pa(t)},N.Pa=function(t){try{if(t==this.g)e:{const l=ni(this.g);var e=this.g.Ia();if(this.g.da(),!(3>l)&&(3!=l||YC||this.g&&(this.h.h||this.g.ja()||JU(this.g)))){this.J||4!=l||7==e||Ul(),fg(this);var n=this.g.da();this.ca=n;t:if(RU(this)){var r=JU(this.g);t="";var i=r.length,s=4==ni(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Co(this),Gl(this);var o="";break t}this.h.i=new te.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=200==n,function Qce(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.W,l,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!kl(a)){var c=a;break t}}c=null}if(!(n=c)){this.i=!1,this.o=3,bn(12),Co(this),Gl(this);break e}lu(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,E0(this,n)}this.S?(NU(this,l,o),YC&&this.i&&3==l&&(wU(this.U,this.V,"tick",this.mb),this.V.start())):(lu(this.j,this.m,o,null),E0(this,o)),4==l&&Co(this),this.i&&!this.J&&(4==l?oB(this.l,this):(this.i=!1,Hl(this)))}else(function vle(t){const e={};t=(t.g&&2<=ni(t)&&t.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<t.length;r++){if(kl(t[r]))continue;var n=Gce(t[r]);const i=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}!function Lce(t,e){for(const n in t)e.call(void 0,t[n],n,t)}(e,function(r){return r.join(", ")})})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.o=3,bn(12)):(this.o=0,bn(13)),Co(this),Gl(this)}}}catch{}},N.mb=function(){if(this.g){var t=ni(this.g),e=this.g.ja();this.C<e.length&&(fg(this),NU(this,t,e),this.i&&4!=t&&Hl(this))}},N.cancel=function(){this.J=!0,Co(this)},N.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(function Yce(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Ul(),bn(17)),Co(this),this.o=2,Gl(this)):kU(this,this.Y-t)};var OU=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function To(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof To){this.h=t.h,pg(this,t.j),this.s=t.s,this.g=t.g,gg(this,t.m),this.l=t.l;var e=t.i,n=new Wl;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),FU(this,n),this.o=t.o}else t&&(e=String(t).match(OU))?(this.h=!1,pg(this,e[1]||"",!0),this.s=zl(e[2]||""),this.g=zl(e[3]||"",!0),gg(this,e[4]),this.l=zl(e[5]||"",!0),FU(this,e[6]||"",!0),this.o=zl(e[7]||"")):(this.h=!1,this.i=new Wl(null,this.h))}function ji(t){return new To(t)}function pg(t,e,n){t.j=n?zl(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function gg(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function FU(t,e,n){e instanceof Wl?(t.i=e,function ule(t,e){e&&!t.j&&(vs(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(VU(this,r),BU(this,i,n))},t)),t.j=e}(t.i,t.h)):(n||(e=ql(e,ole)),t.i=new Wl(e,t.h))}function Ue(t,e,n){t.i.set(e,n)}function mg(t){return Ue(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function zl(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function ql(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,rle),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function rle(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}To.prototype.toString=function(){var t=[],e=this.j;e&&t.push(ql(e,LU,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(ql(e,LU,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(ql(n,"/"==n.charAt(0)?sle:ile,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",ql(n,ale)),t.join("")};var LU=/[#\/\?@]/g,ile=/[#\?:]/g,sle=/[#\?]/g,ole=/[#\?@]/g,ale=/#/g;function Wl(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function vs(t){t.g||(t.g=new Map,t.h=0,t.i&&function nle(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function VU(t,e){vs(t),e=du(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function UU(t,e){return vs(t),e=du(t,e),t.g.has(e)}function BU(t,e,n){VU(t,e),0<n.length&&(t.i=null,t.g.set(du(t,e),KC(n)),t.h+=n.length)}function du(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function $U(t){this.l=t||lle,t=te.PerformanceNavigationTiming?0<(t=te.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(te.g&&te.g.Ka&&te.g.Ka()&&te.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(N=Wl.prototype).add=function(t,e){vs(this),this.i=null,t=du(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},N.forEach=function(t,e){vs(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)},N.ta=function(){vs(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n},N.Z=function(t){vs(this);let e=[];if("string"==typeof t)UU(this,t)&&(e=e.concat(this.g.get(du(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},N.set=function(t,e){return vs(this),this.i=null,UU(this,t=du(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},N.get=function(t,e){return t&&0<(t=this.Z(t)).length?String(t[0]):e},N.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};var lle=10;function jU(t){return!!t.h||!!t.g&&t.g.size>=t.j}function HU(t){return t.h?1:t.g?t.g.size:0}function D0(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function b0(t,e){t.g?t.g.add(e):t.h=e}function GU(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function zU(t){if(null!=t.h)return t.i.concat(t.h.F);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return KC(t.i)}$U.prototype.cancel=function(){if(this.i=zU(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}};var dle=class{stringify(t){return te.JSON.stringify(t,void 0)}parse(t){return te.JSON.parse(t,void 0)}};function hle(){this.g=new dle}function fle(t,e,n){const r=n||"";try{PU(t,function(i,s){let o=i;Nl(i)&&(o=h0(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function yg(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Kl(t){this.l=t.fc||null,this.j=t.ob||!1}function _g(t,e){Ot.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=C0,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Pt(Kl,m0),Kl.prototype.g=function(){return new _g(this.l,this.j)},Kl.prototype.i=function(t){return function(){return t}}({}),Pt(_g,Ot);var C0=0;function qU(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}function Ql(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Yl(t)}function Yl(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(N=_g.prototype).open=function(t,e){if(this.readyState!=C0)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Yl(this)},N.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||te).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},N.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ql(this)),this.readyState=C0},N.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Yl(this)),this.g&&(this.readyState=3,Yl(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof te.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;qU(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))},N.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Ql(this):Yl(this),3==this.readyState&&qU(this)}},N.Za=function(t){this.g&&(this.response=this.responseText=t,Ql(this))},N.Ya=function(t){this.g&&(this.response=t,Ql(this))},N.ka=function(){this.g&&Ql(this)},N.setRequestHeader=function(t,e){this.v.append(t,e)},N.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},N.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(_g.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var gle=te.JSON.parse;function it(t){Ot.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=WU,this.L=this.M=!1}Pt(it,Ot);var WU="",mle=/^https?$/i,yle=["POST","PUT"];function KU(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,QU(t),vg(t)}function QU(t){t.F||(t.F=!0,Kt(t,"complete"),Kt(t,"error"))}function YU(t){if(t.h&&typeof qC<"u"&&(!t.C[1]||4!=ni(t)||2!=t.da()))if(t.v&&4==ni(t))g0(t.La,0,t);else if(Kt(t,"readystatechange"),4==ni(t)){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=0===o){var i=String(t.I).match(OU)[1]||null;!i&&te.self&&te.self.location&&(i=te.self.location.protocol.slice(0,-1)),r=!mle.test(i?i.toLowerCase():"")}n=r}if(n)Kt(t,"complete"),Kt(t,"success");else{t.m=6;try{var s=2<ni(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",QU(t)}}finally{vg(t)}}}function vg(t,e){if(t.g){XU(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Kt(t,"ready");try{n.onreadystatechange=r}catch{}}}function XU(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(te.clearTimeout(t.A),t.A=null)}function ni(t){return t.g?t.g.readyState:0}function JU(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case WU:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function ZU(t){let e="";return n0(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}function T0(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=ZU(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Ue(t,e,n))}function Xl(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function eB(t){this.Ga=0,this.j=[],this.l=new ug,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Xl("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Xl("baseRetryDelayMs",5e3,t),this.hb=Xl("retryDelaySeedMs",1e4,t),this.eb=Xl("forwardChannelMaxRetries",2,t),this.xa=Xl("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new $U(t&&t.concurrentRequestLimit),this.Ja=new hle,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function S0(t){if(tB(t),3==t.H){var e=t.W++,n=ji(t.I);if(Ue(n,"SID",t.K),Ue(n,"RID",e),Ue(n,"TYPE","terminate"),Jl(t,n),(e=new jl(t,t.l,e)).L=2,e.v=mg(ji(n)),n=!1,te.navigator&&te.navigator.sendBeacon)try{n=te.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&te.Image&&((new Image).src=e.v,n=!0),n||(e.g=lB(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Hl(e)}uB(t)}function wg(t){t.g&&(M0(t),t.g.cancel(),t.g=null)}function tB(t){wg(t),t.u&&(te.clearTimeout(t.u),t.u=null),Eg(t),t.i.cancel(),t.m&&("number"==typeof t.m&&te.clearTimeout(t.m),t.m=null)}function Ig(t){if(!jU(t.i)&&!t.m){t.m=!0;var e=t.Na;Fl||yU(),Ll||(Fl(),Ll=!0),f0.add(e,t),t.C=0}}function nB(t,e){var n;n=e?e.m:t.W++;const r=ji(t.I);Ue(r,"SID",t.K),Ue(r,"RID",n),Ue(r,"AID",t.V),Jl(t,r),t.o&&t.s&&T0(r,t.o,t.s),n=new jl(t,t.l,n,t.C+1),null===t.o&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=rB(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),b0(t.i,n),I0(n,r,e)}function Jl(t,e){t.na&&n0(t.na,function(n,r){Ue(e,r,n)}),t.h&&PU({},function(n,r){Ue(e,r,n)})}function rB(t,e,n){n=Math.min(t.j.length,n);var r=t.h?cn(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];-1==s?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let u=0;u<n;u++){let c=i[u].g;const l=i[u].map;if(c-=s,0>c)s=Math.max(0,i[u].g-100),a=!1;else try{fle(l,o,"req"+c+"_")}catch{r&&r(l)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function iB(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Fl||yU(),Ll||(Fl(),Ll=!0),f0.add(e,t),t.A=0}}function A0(t){return!(t.g||t.u||3<=t.A||(t.ba++,t.u=Bl(cn(t.Ma,t),aB(t,t.A)),t.A++,0))}function M0(t){null!=t.B&&(te.clearTimeout(t.B),t.B=null)}function sB(t){t.g=new jl(t,t.l,"rpc",t.ba),null===t.o&&(t.g.I=t.s),t.g.O=0;var e=ji(t.wa);Ue(e,"RID","rpc"),Ue(e,"SID",t.K),Ue(e,"AID",t.V),Ue(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Ue(e,"TO",t.qa),Ue(e,"TYPE","xmlhttp"),Jl(t,e),t.o&&t.s&&T0(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=mg(ji(e)),n.s=null,n.S=!0,xU(n,t)}function Eg(t){null!=t.v&&(te.clearTimeout(t.v),t.v=null)}function oB(t,e){var n=null;if(t.g==e){Eg(t),M0(t),t.g=null;var r=2}else{if(!D0(t.i,e))return;n=e.F,GU(t.i,e),r=1}if(0!=t.H)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;Kt(r=cg(),new CU(r,n)),Ig(t)}else iB(t);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function wle(t,e){return!(HU(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.j=e.F.concat(t.j),0):1==t.H||2==t.H||t.C>=(t.cb?0:t.eb)||(t.m=Bl(cn(t.Na,t,e),aB(t,t.C)),t.C++,0)))}(t,e)||2==r&&A0(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:So(t,5);break;case 4:So(t,10);break;case 3:So(t,6);break;default:So(t,2)}}function aB(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function So(t,e){if(t.l.info("Error code "+e),2==e){var n=null;t.h&&(n=null);var r=cn(t.pb,t);n||(n=new To("//www.google.com/images/cleardot.gif"),te.location&&"http"==te.location.protocol||pg(n,"https"),mg(n)),function ple(t,e){const n=new ug;if(te.Image){const r=new Image;r.onload=ng(yg,n,r,"TestLoadImage: loaded",!0,e),r.onerror=ng(yg,n,r,"TestLoadImage: error",!1,e),r.onabort=ng(yg,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=ng(yg,n,r,"TestLoadImage: timeout",!1,e),te.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else bn(2);t.H=0,t.h&&t.h.za(e),uB(t),tB(t)}function uB(t){if(t.H=0,t.ma=[],t.h){const e=zU(t.i);(0!=e.length||0!=t.j.length)&&(rU(t.ma,e),rU(t.ma,t.j),t.i.i.length=0,KC(t.j),t.j.length=0),t.h.ya()}}function cB(t,e,n){var r=n instanceof To?ji(n):new To(n);if(""!=r.g)e&&(r.g=e+"."+r.g),gg(r,r.m);else{var i=te.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new To(null);r&&pg(s,r),e&&(s.g=e),i&&gg(s,i),n&&(s.l=n),r=s}return e=t.Da,(n=t.F)&&e&&Ue(r,n,e),Ue(r,"VER",t.ra),Jl(t,r),r}function lB(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new it(n&&t.Ha&&!t.va?new Kl({ob:!0}):t.va)).Oa(t.J),e}function dB(){}function Dg(){if(cu&&!(10<=Number(kce)))throw Error("Environmental error: no available transport.")}function tr(t,e){Ot.call(this),this.g=new eB(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!kl(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!kl(e)&&(this.g.F=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new hu(this)}function hB(t){y0.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function fB(){_0.call(this),this.status=1}function hu(t){this.g=t}function xr(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function x0(t,e,n){n||(n=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var s=t.g[3],o=(e=t.g[0])+(s^(n=t.g[1])&((i=t.g[2])^s))+r[0]+3614090360&4294967295;o=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=n+(o<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=e+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=e+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=e+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(e=n+((o=e+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(e^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}function Ae(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=0|t[i];r&&s==e||(n[i]=s,r=!1)}this.g=n}(N=it.prototype).Oa=function(t){this.M=t},N.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():v0.g(),this.C=function SU(t){return t.h||(t.h=t.i())}(this.u?this.u:v0),this.g.onreadystatechange=cn(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){return void KU(this,s)}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())n.set(s,r.get(s))}r=Array.from(n.keys()).find(s=>"content-type"==s.toLowerCase()),i=te.FormData&&t instanceof te.FormData,!(0<=nU(yle,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{XU(this),0<this.B&&((this.L=function _le(t){return cu&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=cn(this.ua,this)):this.A=g0(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){KU(this,s)}},N.ua=function(){typeof qC<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Kt(this,"timeout"),this.abort(8))},N.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Kt(this,"complete"),Kt(this,"abort"),vg(this))},N.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),vg(this,!0)),it.$.N.call(this)},N.La=function(){this.s||(this.G||this.v||this.l?YU(this):this.kb())},N.kb=function(){YU(this)},N.isActive=function(){return!!this.g},N.da=function(){try{return 2<ni(this)?this.g.status:-1}catch{return-1}},N.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},N.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),gle(e)}},N.Ia=function(){return this.m},N.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(N=eB.prototype).ra=8,N.H=1,N.Na=function(t){if(this.m)if(this.m=null,1==this.H){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new jl(this,this.l,t);let s=this.s;if(this.U&&(s?(s=uU(s),lU(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=rB(this,i,e),Ue(n=ji(this.I),"RID",t),Ue(n,"CVER",22),this.F&&Ue(n,"X-HTTP-Session-Id",this.F),Jl(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(ZU(s)))+"&"+e:this.o&&T0(n,this.o,s)),b0(this.i,i),this.bb&&Ue(n,"TYPE","init"),this.P?(Ue(n,"$req",e),Ue(n,"SID","null"),i.aa=!0,I0(i,n,null)):I0(i,n,e),this.H=2}}else 3==this.H&&(t?nB(this,t):0==this.j.length||jU(this.i)||nB(this))},N.Ma=function(){if(this.u=null,sB(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Bl(cn(this.jb,this),t)}},N.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,bn(10),wg(this),sB(this))},N.ib=function(){null!=this.v&&(this.v=null,wg(this),A0(this),bn(19))},N.pb=function(t){t?(this.l.info("Successfully pinged google.com"),bn(2)):(this.l.info("Failed to ping google.com"),bn(1))},N.isActive=function(){return!!this.h&&this.h.isActive(this)},(N=dB.prototype).Ba=function(){},N.Aa=function(){},N.za=function(){},N.ya=function(){},N.isActive=function(){return!0},N.Va=function(){},Dg.prototype.g=function(t,e){return new tr(t,e)},Pt(tr,Ot),tr.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;bn(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=cB(t,null,t.Y),Ig(t)},tr.prototype.close=function(){S0(this.g)},tr.prototype.u=function(t){var e=this.g;if("string"==typeof t){var n={};n.__data__=t,t=n}else this.v&&((n={}).__data__=h0(t),t=n);e.j.push(new class{constructor(t,e){this.g=t,this.map=e}}(e.fb++,t)),3==e.H&&Ig(e)},tr.prototype.N=function(){this.g.h=null,delete this.j,S0(this.g),delete this.g,tr.$.N.call(this)},Pt(hB,y0),Pt(fB,_0),Pt(hu,dB),hu.prototype.Ba=function(){Kt(this.g,"a")},hu.prototype.Aa=function(t){Kt(this.g,new hB(t))},hu.prototype.za=function(t){Kt(this.g,new fB)},hu.prototype.ya=function(){Kt(this.g,"b")},Pt(xr,function Ile(){this.blockSize=-1}),xr.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},xr.prototype.j=function(t,e){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(0==i)for(;s<=n;)x0(this,t,s),s+=this.blockSize;if("string"==typeof t){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){x0(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){x0(this,r),i=0;break}}this.h=i,this.i+=e},xr.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=255&n,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};var Ele={};function R0(t){return-128<=t&&128>t?function xce(t,e){var n=Ele;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,function(e){return new Ae([0|e],0>e?-1:0)}):new Ae([0|t],0>t?-1:0)}function ri(t){if(isNaN(t)||!isFinite(t))return fu;if(0>t)return Qt(ri(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=N0;return new Ae(e,0)}var N0=4294967296,fu=R0(0),k0=R0(1),gB=R0(16777216);function Hi(t){if(0!=t.h)return!1;for(var e=0;e<t.g.length;e++)if(0!=t.g[e])return!1;return!0}function pr(t){return-1==t.h}function Qt(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Ae(n,~t.h).add(k0)}function bg(t,e){return t.add(Qt(e))}function Cg(t,e){for(;(65535&t[e])!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Zl(t,e){this.g=t,this.h=e}function Tg(t,e){if(Hi(e))throw Error("division by zero");if(Hi(t))return new Zl(fu,fu);if(pr(t))return e=Tg(Qt(t),e),new Zl(Qt(e.g),Qt(e.h));if(pr(e))return e=Tg(t,Qt(e)),new Zl(Qt(e.g),e.h);if(30<t.g.length){if(pr(t)||pr(e))throw Error("slowDivide_ only works with positive integers.");for(var n=k0,r=e;0>=r.X(t);)n=mB(n),r=mB(r);var i=pu(n,1),s=pu(r,1);for(r=pu(r,2),n=pu(n,2);!Hi(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=pu(r,1),n=pu(n,1)}return e=bg(t,i.R(e)),new Zl(i,e)}for(i=fu;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(s=ri(n)).R(e);pr(o)||0<o.X(t);)o=(s=ri(n-=r)).R(e);Hi(s)&&(s=k0),i=i.add(s),t=bg(t,o)}return new Zl(i,t)}function mB(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Ae(n,t.h)}function pu(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new Ae(i,t.h)}(N=Ae.prototype).ea=function(){if(pr(this))return-Qt(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:N0+r)*e,e*=N0}return t},N.toString=function(t){if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if(Hi(this))return"0";if(pr(this))return"-"+Qt(this).toString(t);for(var e=ri(Math.pow(t,6)),n=this,r="";;){var i=Tg(n,e).g,s=((0<(n=bg(n,i.R(e))).g.length?n.g[0]:n.h)>>>0).toString(t);if(Hi(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},N.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h},N.X=function(t){return pr(t=bg(this,t))?-1:Hi(t)?0:1},N.abs=function(){return pr(this)?Qt(this):this},N.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(65535&this.D(i))+(65535&t.D(i)),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,n[i]=(o&=65535)<<16|(s&=65535)}return new Ae(n,-2147483648&n[n.length-1]?-1:0)},N.R=function(t){if(Hi(this)||Hi(t))return fu;if(pr(this))return pr(t)?Qt(this).R(Qt(t)):Qt(Qt(this).R(t));if(pr(t))return Qt(this.R(Qt(t)));if(0>this.X(gB)&&0>t.X(gB))return ri(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=65535&this.D(r),a=t.D(i)>>>16,u=65535&t.D(i);n[2*r+2*i]+=o*u,Cg(n,2*r+2*i),n[2*r+2*i+1]+=s*u,Cg(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,Cg(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,Cg(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Ae(n,0)},N.gb=function(t){return Tg(this,t).h},N.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Ae(n,this.h&t.h)},N.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Ae(n,this.h|t.h)},N.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Ae(n,this.h^t.h)},Dg.prototype.createWebChannel=Dg.prototype.g,tr.prototype.send=tr.prototype.u,tr.prototype.open=tr.prototype.m,tr.prototype.close=tr.prototype.close,lg.NO_ERROR=0,lg.TIMEOUT=8,lg.HTTP_ERROR=6,TU.COMPLETE="complete",AU.EventType=$l,$l.OPEN="a",$l.CLOSE="b",$l.ERROR="c",$l.MESSAGE="d",Ot.prototype.listen=Ot.prototype.O,it.prototype.listenOnce=it.prototype.P,it.prototype.getLastError=it.prototype.Sa,it.prototype.getLastErrorCode=it.prototype.Ia,it.prototype.getStatus=it.prototype.da,it.prototype.getResponseJson=it.prototype.Wa,it.prototype.getResponseText=it.prototype.ja,it.prototype.send=it.prototype.ha,it.prototype.setWithCredentials=it.prototype.Oa,xr.prototype.digest=xr.prototype.l,xr.prototype.reset=xr.prototype.reset,xr.prototype.update=xr.prototype.j,Ae.prototype.add=Ae.prototype.add,Ae.prototype.multiply=Ae.prototype.R,Ae.prototype.modulo=Ae.prototype.gb,Ae.prototype.compare=Ae.prototype.X,Ae.prototype.toNumber=Ae.prototype.ea,Ae.prototype.toString=Ae.prototype.toString,Ae.prototype.getBits=Ae.prototype.D,Ae.fromNumber=ri,Ae.fromString=function pB(t,e){if(0==t.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==t.charAt(0))return Qt(pB(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=ri(Math.pow(e,8)),r=fu,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=ri(Math.pow(e,s)),r=r.R(s).add(ri(o))):r=(r=r.R(n)).add(ri(o))}return r};var Dle=Mr.createWebChannelTransport=function(){return new Dg},ble=Mr.getStatEventTarget=function(){return cg()},P0=Mr.ErrorCode=lg,Cle=Mr.EventType=TU,Tle=Mr.Event=bo,yB=Mr.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Sle=Mr.FetchXmlHttpFactory=Kl,Sg=Mr.WebChannel=AU,Ale=Mr.XhrIo=it,Mle=Mr.Md5=xr,gu=Mr.Integer=Ae;const _B="@firebase/firestore";class Ft{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ft.UNAUTHENTICATED=new Ft(null),Ft.GOOGLE_CREDENTIALS=new Ft("google-credentials-uid"),Ft.FIRST_PARTY=new Ft("first-party-uid"),Ft.MOCK_USER=new Ft("mock-user");let mu="9.22.1";const ws=new Ja("@firebase/firestore");function O0(){return ws.logLevel}function S(t,...e){if(ws.logLevel<=Y.DEBUG){const n=e.map(F0);ws.debug(`Firestore (${mu}): ${t}`,...n)}}function ut(t,...e){if(ws.logLevel<=Y.ERROR){const n=e.map(F0);ws.error(`Firestore (${mu}): ${t}`,...n)}}function Rr(t,...e){if(ws.logLevel<=Y.WARN){const n=e.map(F0);ws.warn(`Firestore (${mu}): ${t}`,...n)}}function F0(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch{return t}}function F(t="Unexpected state"){const e=`FIRESTORE (${mu}) INTERNAL ASSERTION FAILED: `+t;throw ut(e),new Error(e)}function U(t,e){t||F()}function R(t,e){return t}const I={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class b extends er{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Tt{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class vB{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class xle{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ft.UNAUTHENTICATED))}shutdown(){}}class Rle{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Nle{constructor(e){this.t=e,this.currentUser=Ft.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let i=this.i;const s=c=>this.i!==i?(i=this.i,n(c)):Promise.resolve();let o=new Tt;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Tt,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=o;e.enqueueRetryable(g(function*(){yield c.promise,yield s(r.currentUser)}))},u=c=>{S("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(S("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Tt)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(S("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(U("string"==typeof r.accessToken),new vB(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return U(null===e||"string"==typeof e),new Ft(e)}}class kle{constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=Ft.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class Ple{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new kle(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(Ft.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class wB{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Ole{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const r=s=>{null!=s.error&&S("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.T;return this.T=s.token,S("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{S("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?i(s):S("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(U("string"==typeof n.token),this.T=n.token,new wB(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Fle(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class IB{static A(){const n=62*Math.floor(256/62);let r="";for(;r.length<20;){const i=Fle(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[s]%62))}return r}}function J(t,e){return t<e?-1:t>e?1:0}function yu(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}class Xe{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new b(I.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new b(I.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new b(I.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new b(I.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Xe.fromMillis(Date.now())}static fromDate(e){return Xe.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Xe(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?J(this.nanoseconds,e.nanoseconds):J(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class B{constructor(e){this.timestamp=e}static fromTimestamp(e){return new B(e)}static min(){return new B(new Xe(0,0))}static max(){return new B(new Xe(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class ed{constructor(e,n,r){void 0===n?n=0:n>e.length&&F(),void 0===r?r=e.length-n:r>e.length-n&&F(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===ed.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ed?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class ge extends ed{construct(e,n,r){return new ge(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new b(I.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new ge(n)}static emptyPath(){return new ge([])}}const Lle=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ct extends ed{construct(e,n,r){return new ct(e,n,r)}static isValidIdentifier(e){return Lle.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ct.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new ct(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(0===r.length)throw new b(I.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new b(I.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new b(I.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new b(I.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ct(n)}static emptyPath(){return new ct([])}}class x{constructor(e){this.path=e}static fromPath(e){return new x(ge.fromString(e))}static fromName(e){return new x(ge.fromString(e).popFirst(5))}static empty(){return new x(ge.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===ge.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return ge.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new x(new ge(e.slice()))}}function bB(t){return new nr(t.readTime,t.key,-1)}class nr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new nr(B.min(),x.empty(),-1)}static max(){return new nr(B.max(),x.empty(),-1)}}function V0(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=x.comparator(t.documentKey,e.documentKey),0!==n?n:J(t.largestBatchId,e.largestBatchId))}const CB="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Ble{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Is(t){return U0.apply(this,arguments)}function U0(){return U0=g(function*(t){if(t.code!==I.FAILED_PRECONDITION||t.message!==CB)throw t;S("LocalStore","Unexpectedly lost primary lease")}),U0.apply(this,arguments)}class w{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&F(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new w((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof w?n:w.resolve(n)}catch(n){return w.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):w.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):w.reject(n)}static resolve(e){return new w((n,r)=>{n(e)})}static reject(e){return new w((n,r)=>{r(e)})}static waitFor(e){return new w((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=w.resolve(!1);for(const r of e)n=n.next(i=>i?w.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new w((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let u=0;u<s;u++){const c=u;n(e[c]).next(l=>{o[c]=l,++a,a===s&&r(o)},l=>i(l))}})}static doWhile(e,n){return new w((r,i)=>{const s=()=>{!0===e()?n().next(()=>{s()},i):r()};s()})}}function Es(t){return"IndexedDbTransactionError"===t.name}let rr=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ot(i),this.ut=i=>r.writeSequenceNumber(i))}ot(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.ut&&this.ut(n),n}}return t.ct=-1,t})();function rd(t){return null==t}function id(t){return 0===t&&1/t==-1/0}function PB(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ds(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function OB(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class Oe{constructor(e,n){this.comparator=e,this.root=n||Yt.EMPTY}insert(e,n){return new Oe(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Yt.BLACK,null,null))}remove(e){return new Oe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Yt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ng(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ng(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ng(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ng(this.root,e,this.comparator,!0)}}class Ng{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Yt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Yt.RED,this.left=i??Yt.EMPTY,this.right=s??Yt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Yt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===s?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Yt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return Yt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Yt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Yt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw F();const e=this.left.check();if(e!==this.right.check())throw F();return e+(this.isRed()?0:1)}}Yt.EMPTY=null,Yt.RED=!0,Yt.BLACK=!1,Yt.EMPTY=new class{constructor(){this.size=0}get key(){throw F()}get value(){throw F()}get color(){throw F()}get left(){throw F()}get right(){throw F()}copy(t,e,n,r,i){return this}insert(t,e,n){return new Yt(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Be{constructor(e){this.comparator=e,this.data=new Oe(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new FB(this.data.getIterator())}getIteratorFrom(e){return new FB(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Be)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Be(this.comparator);return n.data=e,n}}class FB{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class jn{constructor(e){this.fields=e,e.sort(ct.comparator)}static empty(){return new jn([])}unionWith(e){let n=new Be(ct.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new jn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return yu(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class LB extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class St{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new LB("Invalid base64 string: "+i):i}}(e);return new St(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new St(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return J(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}St.EMPTY_BYTE_STRING=new St("");const cde=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function bs(t){if(U(!!t),"string"==typeof t){let e=0;const n=cde.exec(t);if(U(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:st(t.seconds),nanos:st(t.nanos)}}function st(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Gi(t){return"string"==typeof t?St.fromBase64String(t):St.fromUint8Array(t)}function kg(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=t?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Pg(t){const e=t.mapValue.fields.__previous_value__;return kg(e)?Pg(e):e}function sd(t){const e=bs(t.mapValue.fields.__local_write_time__.timestampValue);return new Xe(e.seconds,e.nanos)}class lde{constructor(e,n,r,i,s,o,a,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=c}}class xo{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new xo("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof xo&&e.projectId===this.projectId&&e.database===this.database}}const Cs={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ts(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?kg(t)?4:$B(t)?9007199254740991:10:F()}function si(t,e){if(t===e)return!0;const n=Ts(t);if(n!==Ts(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return sd(t).isEqual(sd(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=bs(r.timestampValue),o=bs(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return i=e,Gi(t.bytesValue).isEqual(Gi(i.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return st(r.geoPointValue.latitude)===st(i.geoPointValue.latitude)&&st(r.geoPointValue.longitude)===st(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return st(r.integerValue)===st(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=st(r.doubleValue),o=st(i.doubleValue);return s===o?id(s)===id(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return yu(t.arrayValue.values||[],e.arrayValue.values||[],si);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(PB(s)!==PB(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(void 0===o[a]||!si(s[a],o[a])))return!1;return!0}(t,e);default:return F()}var i}function od(t,e){return void 0!==(t.values||[]).find(n=>si(n,e))}function Ss(t,e){if(t===e)return 0;const n=Ts(t),r=Ts(e);if(n!==r)return J(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return J(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=st(i.integerValue||i.doubleValue),a=st(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return VB(t.timestampValue,e.timestampValue);case 4:return VB(sd(t),sd(e));case 5:return J(t.stringValue,e.stringValue);case 6:return function(i,s){const o=Gi(i),a=Gi(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let u=0;u<o.length&&u<a.length;u++){const c=J(o[u],a[u]);if(0!==c)return c}return J(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=J(st(i.latitude),st(s.latitude));return 0!==o?o:J(st(i.longitude),st(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let u=0;u<o.length&&u<a.length;++u){const c=Ss(o[u],a[u]);if(c)return c}return J(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===Cs.mapValue&&s===Cs.mapValue)return 0;if(i===Cs.mapValue)return 1;if(s===Cs.mapValue)return-1;const o=i.fields||{},a=Object.keys(o),u=s.fields||{},c=Object.keys(u);a.sort(),c.sort();for(let l=0;l<a.length&&l<c.length;++l){const d=J(a[l],c[l]);if(0!==d)return d;const h=Ss(o[a[l]],u[c[l]]);if(0!==h)return h}return J(a.length,c.length)}(t.mapValue,e.mapValue);default:throw F()}}function VB(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return J(t,e);const n=bs(t),r=bs(e),i=J(n.seconds,r.seconds);return 0!==i?i:J(n.nanos,r.nanos)}function vu(t){return j0(t)}function j0(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=bs(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Gi(t.bytesValue).toBase64():"referenceValue"in t?x.fromName(t.referenceValue).toString():"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=j0(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${j0(r.fields[a])}`;return s+"}"}(t.mapValue):F();var e}function H0(t){return!!t&&"integerValue"in t}function ad(t){return!!t&&"arrayValue"in t}function UB(t){return!!t&&"nullValue"in t}function BB(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Lg(t){return!!t&&"mapValue"in t}function ud(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ds(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=ud(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ud(t.arrayValue.values[n]);return e}return Object.assign({},t)}function $B(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}class Xt{constructor(e){this.value=e}static empty(){return new Xt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Lg(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ud(n)}setAll(e){let n=ct.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=ud(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Lg(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return si(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Lg(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ds(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Xt(ud(this.value))}}function GB(t){const e=[];return Ds(t.fields,(n,r)=>{const i=new ct([n]);if(Lg(r)){const s=GB(r.mapValue).fields;if(0===s.length)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new jn(e)}class $e{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new $e(e,0,B.min(),B.min(),B.min(),Xt.empty(),0)}static newFoundDocument(e,n,r,i){return new $e(e,1,n,B.min(),r,i,0)}static newNoDocument(e,n){return new $e(e,2,n,B.min(),B.min(),Xt.empty(),0)}static newUnknownDocument(e,n){return new $e(e,3,n,B.min(),B.min(),Xt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(B.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Xt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Xt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=B.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof $e&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new $e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class As{constructor(e,n){this.position=e,this.inclusive=n}}function zB(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(r=s.field.isKeyField()?x.comparator(x.fromName(o.referenceValue),n.key):Ss(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function qB(t,e){if(null===t)return null===e;if(null===e||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!si(t.position[n],e.position[n]))return!1;return!0}class wu{constructor(e,n="asc"){this.field=e,this.dir=n}}function fde(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class WB{}class he extends WB{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,r):new pde(e,n,r):"array-contains"===n?new yde(e,r):"in"===n?new ZB(e,r):"not-in"===n?new _de(e,r):"array-contains-any"===n?new vde(e,r):new he(e,n,r)}static createKeyFieldInFilter(e,n,r){return"in"===n?new gde(e,r):new mde(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(Ss(n,this.value)):null!==n&&Ts(this.value)===Ts(n)&&this.matchesComparison(Ss(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return F()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Me extends WB{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new Me(e,n)}matches(e){return Iu(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return null!==e?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function Iu(t){return"and"===t.op}function z0(t){return function KB(t){for(const e of t.filters)if(e instanceof Me)return!1;return!0}(t)&&Iu(t)}function q0(t){if(t instanceof he)return t.field.canonicalString()+t.op.toString()+vu(t.value);if(z0(t))return t.filters.map(e=>q0(e)).join(",");{const e=t.filters.map(n=>q0(n)).join(",");return`${t.op}(${e})`}}function QB(t,e){return t instanceof he?(n=t,(r=e)instanceof he&&n.op===r.op&&n.field.isEqual(r.field)&&si(n.value,r.value)):t instanceof Me?function(n,r){return r instanceof Me&&n.op===r.op&&n.filters.length===r.filters.length&&n.filters.reduce((i,s,o)=>i&&QB(s,r.filters[o]),!0)}(t,e):void F();var n,r}function XB(t){return t instanceof he?`${(e=t).field.canonicalString()} ${e.op} ${vu(e.value)}`:t instanceof Me?function(e){return e.op.toString()+" {"+e.getFilters().map(XB).join(" ,")+"}"}(t):"Filter";var e}class pde extends he{constructor(e,n,r){super(e,n,r),this.key=x.fromName(r.referenceValue)}matches(e){const n=x.comparator(e.key,this.key);return this.matchesComparison(n)}}class gde extends he{constructor(e,n){super(e,"in",n),this.keys=JB(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class mde extends he{constructor(e,n){super(e,"not-in",n),this.keys=JB(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function JB(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>x.fromName(r.referenceValue))}class yde extends he{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return ad(n)&&od(n.arrayValue,this.value)}}class ZB extends he{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&od(this.value.arrayValue,n)}}class _de extends he{constructor(e,n){super(e,"not-in",n)}matches(e){if(od(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!od(this.value.arrayValue,n)}}class vde extends he{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!ad(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>od(this.value.arrayValue,r))}}class wde{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.dt=null}}function W0(t,e=null,n=[],r=[],i=null,s=null,o=null){return new wde(t,e,n,r,i,s,o)}function No(t){const e=R(t);if(null===e.dt){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>q0(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),rd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>vu(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>vu(r)).join(",")),e.dt=n}return e.dt}function cd(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!fde(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!QB(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!qB(t.startAt,e.startAt)&&qB(t.endAt,e.endAt)}function Vg(t){return x.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class zi{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.wt=null,this._t=null}}function Eu(t){return new zi(t)}function r$(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function ko(t){const e=R(t);if(null===e.wt){e.wt=[];const n=function Bg(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(null!==n)return n}return null}(e),r=function K0(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}(e);if(null!==n&&null===r)n.isKeyField()||e.wt.push(new wu(n)),e.wt.push(new wu(ct.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.wt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new wu(ct.keyField(),s))}}}return e.wt}function Cn(t){const e=R(t);if(!e._t)if("F"===e.limitType)e._t=W0(e.path,e.collectionGroup,ko(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of ko(e))n.push(new wu(s.field,"desc"===s.dir?"asc":"desc"));const r=e.endAt?new As(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new As(e.startAt.position,e.startAt.inclusive):null;e._t=W0(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e._t}function $g(t,e,n){return new zi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function ld(t,e){return cd(Cn(t),Cn(e))&&t.limitType===e.limitType}function i$(t){return`${No(Cn(t))}|lt:${t.limitType}`}function X0(t){return`Query(target=${function(e){let n=e.path.canonicalString();return null!==e.collectionGroup&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>XB(r)).join(", ")}]`),rd(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>vu(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>vu(r)).join(",")),`Target(${n})`}(Cn(t))}; limitType=${t.limitType})`}function dd(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return null!==n.collectionGroup?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):x.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of ko(n))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&(r=e,!((n=t).startAt&&!function(i,s,o){const a=zB(i,s,o);return i.inclusive?a<=0:a<0}(n.startAt,ko(n),r)||n.endAt&&!function(i,s,o){const a=zB(i,s,o);return i.inclusive?a>=0:a>0}(n.endAt,ko(n),r)));var n,r}function o$(t){return(e,n)=>{let r=!1;for(const i of ko(t)){const s=Ide(i,e,n);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function Ide(t,e,n){const r=t.field.isKeyField()?x.comparator(e.key,n.key):function(i,s,o){const a=s.data.field(i),u=o.data.field(i);return null!==a&&null!==u?Ss(a,u):F()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return F()}}class qi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ds(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return OB(this.inner)}size(){return this.innerSize}}const Ede=new Oe(x.comparator);function Hn(){return Ede}const a$=new Oe(x.comparator);function hd(...t){let e=a$;for(const n of t)e=e.insert(n.key,n);return e}function u$(t){let e=a$;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function oi(){return fd()}function c$(){return fd()}function fd(){return new qi(t=>t.toString(),(t,e)=>t.isEqual(e))}const Dde=new Oe(x.comparator),bde=new Be(x.comparator);function oe(...t){let e=bde;for(const n of t)e=e.add(n);return e}const Cde=new Be(J);function l$(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:id(e)?"-0":e}}function d$(t){return{integerValue:""+t}}function h$(t,e){return function SB(t){return"number"==typeof t&&Number.isInteger(t)&&!id(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}(e)?d$(e):l$(t,e)}class jg{constructor(){this._=void 0}}function Tde(t,e,n){return t instanceof Du?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&kg(i)&&(i=Pg(i)),i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof Po?p$(t,e):t instanceof Oo?g$(t,e):function(r,i){const s=f$(r,i),o=m$(s)+m$(r.gt);return H0(s)&&H0(r.gt)?d$(o):l$(r.serializer,o)}(t,e)}function Sde(t,e,n){return t instanceof Po?p$(t,e):t instanceof Oo?g$(t,e):n}function f$(t,e){return t instanceof bu?H0(n=e)||(r=n)&&"doubleValue"in r?e:{integerValue:0}:null;var r,n}class Du extends jg{}class Po extends jg{constructor(e){super(),this.elements=e}}function p$(t,e){const n=y$(e);for(const r of t.elements)n.some(i=>si(i,r))||n.push(r);return{arrayValue:{values:n}}}class Oo extends jg{constructor(e){super(),this.elements=e}}function g$(t,e){let n=y$(e);for(const r of t.elements)n=n.filter(i=>!si(i,r));return{arrayValue:{values:n}}}class bu extends jg{constructor(e,n){super(),this.serializer=e,this.gt=n}}function m$(t){return st(t.integerValue||t.doubleValue)}function y$(t){return ad(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class Mde{constructor(e,n){this.version=e,this.transformResults=n}}class Ge{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ge}static exists(e){return new Ge(void 0,e)}static updateTime(e){return new Ge(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Hg(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class Gg{}function _$(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new Tu(t.key,Ge.none()):new Cu(t.key,t.data,Ge.none());{const n=t.data,r=Xt.empty();let i=new Be(ct.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);null===o&&s.length>1&&(s=s.popLast(),o=n.field(s)),null===o?r.delete(s):r.set(s,o),i=i.add(s)}return new Wi(t.key,r,new jn(i.toArray()),Ge.none())}}function xde(t,e,n){t instanceof Cu?function(r,i,s){const o=r.value.clone(),a=I$(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof Wi?function(r,i,s){if(!Hg(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=I$(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(w$(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function gd(t,e,n,r){return t instanceof Cu?function(i,s,o,a){if(!Hg(i.precondition,s))return o;const u=i.value.clone(),c=E$(i.fieldTransforms,a,s);return u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Wi?function(i,s,o,a){if(!Hg(i.precondition,s))return o;const u=E$(i.fieldTransforms,a,s),c=s.data;return c.setAll(w$(i)),c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null===o?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(l=>l.field))}(t,e,n,r):(o=n,Hg(t.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o);var s,o}function Rde(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=f$(r.transform,i||null);null!=s&&(null===n&&(n=Xt.empty()),n.set(r.field,s))}return n||null}function v$(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(n=t.fieldTransforms)&&void 0===r||n&&r&&yu(n,r,(i,s)=>function Ade(t,e){return t.field.isEqual(e.field)&&(r=e.transform,(n=t.transform)instanceof Po&&r instanceof Po||n instanceof Oo&&r instanceof Oo?yu(n.elements,r.elements,si):n instanceof bu&&r instanceof bu?si(n.gt,r.gt):n instanceof Du&&r instanceof Du);var n,r}(i,s))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var n,r}class Cu extends Gg{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Wi extends Gg{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function w$(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function I$(t,e,n){const r=new Map;U(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,Sde(o,a,n[i]))}return r}function E$(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,Tde(s,o,e))}return r}class Tu extends Gg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Z0 extends Gg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class eT{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&xde(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=gd(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=gd(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=c$();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const u=_$(o,a);null!==u&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(B.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),oe())}isEqual(e){return this.batchId===e.batchId&&yu(this.mutations,e.mutations,(n,r)=>v$(n,r))&&yu(this.baseMutations,e.baseMutations,(n,r)=>v$(n,r))}}class tT{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){U(e.mutations.length===r.length);let i=Dde;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new tT(e,n,r,i)}}class nT{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class kde{constructor(e,n){this.count=e,this.unchangedNames=n}}var yt,me;function b$(t){if(void 0===t)return ut("GRPC error has no .code"),I.UNKNOWN;switch(t){case yt.OK:return I.OK;case yt.CANCELLED:return I.CANCELLED;case yt.UNKNOWN:return I.UNKNOWN;case yt.DEADLINE_EXCEEDED:return I.DEADLINE_EXCEEDED;case yt.RESOURCE_EXHAUSTED:return I.RESOURCE_EXHAUSTED;case yt.INTERNAL:return I.INTERNAL;case yt.UNAVAILABLE:return I.UNAVAILABLE;case yt.UNAUTHENTICATED:return I.UNAUTHENTICATED;case yt.INVALID_ARGUMENT:return I.INVALID_ARGUMENT;case yt.NOT_FOUND:return I.NOT_FOUND;case yt.ALREADY_EXISTS:return I.ALREADY_EXISTS;case yt.PERMISSION_DENIED:return I.PERMISSION_DENIED;case yt.FAILED_PRECONDITION:return I.FAILED_PRECONDITION;case yt.ABORTED:return I.ABORTED;case yt.OUT_OF_RANGE:return I.OUT_OF_RANGE;case yt.UNIMPLEMENTED:return I.UNIMPLEMENTED;case yt.DATA_LOSS:return I.DATA_LOSS;default:return F()}}(me=yt||(yt={}))[me.OK=0]="OK",me[me.CANCELLED=1]="CANCELLED",me[me.UNKNOWN=2]="UNKNOWN",me[me.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",me[me.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",me[me.NOT_FOUND=5]="NOT_FOUND",me[me.ALREADY_EXISTS=6]="ALREADY_EXISTS",me[me.PERMISSION_DENIED=7]="PERMISSION_DENIED",me[me.UNAUTHENTICATED=16]="UNAUTHENTICATED",me[me.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",me[me.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",me[me.ABORTED=10]="ABORTED",me[me.OUT_OF_RANGE=11]="OUT_OF_RANGE",me[me.UNIMPLEMENTED=12]="UNIMPLEMENTED",me[me.INTERNAL=13]="INTERNAL",me[me.UNAVAILABLE=14]="UNAVAILABLE",me[me.DATA_LOSS=15]="DATA_LOSS";class rT{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return zg}static getOrCreateInstance(){return null===zg&&(zg=new rT),zg}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let zg=null;const Pde=new gu([4294967295,4294967295],0);function T$(t){const e=function C$(){return new TextEncoder}().encode(t),n=new Mle;return n.update(e),new Uint8Array(n.digest())}function S$(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new gu([n,r],0),new gu([i,s],0)]}class iT{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new md(`Invalid padding: ${n}`);if(r<0)throw new md(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new md(`Invalid hash count: ${r}`);if(0===e.length&&0!==n)throw new md(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=gu.fromNumber(this.It)}Et(e,n,r){let i=e.add(n.multiply(gu.fromNumber(r)));return 1===i.compare(Pde)&&(i=new gu([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const n=T$(e),[r,i]=S$(n);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);if(!this.At(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new iT(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(0===this.It)return;const n=T$(e),[r,i]=S$(n);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);this.Rt(o)}}Rt(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class md extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class yd{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,_d.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new yd(B.min(),i,new Oe(J),Hn(),oe())}}class _d{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new _d(r,n,oe(),oe(),oe())}}class qg{constructor(e,n,r,i){this.Pt=e,this.removedTargetIds=n,this.key=r,this.bt=i}}class A${constructor(e,n){this.targetId=e,this.Vt=n}}class M${constructor(e,n,r=St.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class x${constructor(){this.St=0,this.Dt=N$(),this.Ct=St.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=oe(),n=oe(),r=oe();return this.Dt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:F()}}),new _d(this.Ct,this.xt,e,n,r)}Ft(){this.Nt=!1,this.Dt=N$()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class Ode{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Hn(),this.zt=R$(),this.Wt=new Oe(J)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const r=this.Zt(n);switch(e.state){case 0:this.te(n)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(n);break;case 3:this.te(n)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),r.$t(e.resumeToken));break;default:F()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((r,i)=>{this.te(i)&&n(i)})}ne(e){var n;const r=e.targetId,i=e.Vt.count,s=this.se(r);if(s){const o=s.target;if(Vg(o))if(0===i){const a=new x(o.path);this.Yt(r,a,$e.newNoDocument(a,B.min()))}else U(1===i);else{const a=this.ie(r);if(a!==i){const u=this.re(e,a);0!==u&&(this.ee(r),this.Wt=this.Wt.insert(r,2===u?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(n=rT.instance)||void 0===n||n.notifyOnExistenceFilterMismatch(function(c,l,d){var h,f,p,m,y,v;const _={localCacheCount:l,existenceFilterCount:d.count},E=d.unchangedNames;return E&&(_.bloomFilter={applied:0===c,hashCount:null!==(h=E?.hashCount)&&void 0!==h?h:0,bitmapLength:null!==(m=null===(p=null===(f=E?.bits)||void 0===f?void 0:f.bitmap)||void 0===p?void 0:p.length)&&void 0!==m?m:0,padding:null!==(v=null===(y=E?.bits)||void 0===y?void 0:y.padding)&&void 0!==v?v:0}),_}(u,a,e.Vt))}}}}re(e,n){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:s="",padding:o=0},hashCount:a=0}=r;let u,c;try{u=Gi(s).toUint8Array()}catch(l){if(l instanceof LB)return Rr("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw l}try{c=new iT(u,o,a)}catch(l){return Rr(l instanceof md?"BloomFilter error: ":"Applying bloom filter failed: ",l),1}return 0===c.It?1:i!==n-this.oe(e.targetId,c)?2:0}oe(e,n){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(s=>{const o=this.Gt.ue(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;n.vt(a)||(this.Yt(e,s,null),i++)}),i}ce(e){const n=new Map;this.Qt.forEach((s,o)=>{const a=this.se(o);if(a){if(s.current&&Vg(a.target)){const u=new x(a.target.path);null!==this.jt.get(u)||this.ae(o,u)||this.Yt(o,u,$e.newNoDocument(u,e))}s.Mt&&(n.set(o,s.Ot()),s.Ft())}});let r=oe();this.zt.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const c=this.se(u);return!c||"TargetPurposeLimboResolution"===c.purpose||(a=!1,!1)}),a&&(r=r.add(s))}),this.jt.forEach((s,o)=>o.setReadTime(e));const i=new yd(e,n,this.Wt,this.jt,r);return this.jt=Hn(),this.zt=R$(),this.Wt=new Oe(J),i}Jt(e,n){if(!this.te(e))return;const r=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,r),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,n)?i.Bt(n,1):i.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),r&&(this.jt=this.jt.insert(n,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new x$,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new Be(J),this.zt=this.zt.insert(e,n)),n}te(e){const n=null!==this.se(e);return n||S("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new x$),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function R$(){return new Oe(x.comparator)}function N$(){return new Oe(x.comparator)}const Fde={asc:"ASCENDING",desc:"DESCENDING"},Lde={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Vde={and:"AND",or:"OR"};class Ude{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function sT(t,e){return t.useProto3Json||rd(e)?e:{value:e}}function Su(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function k$(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Bde(t,e){return Su(t,e.toTimestamp())}function lt(t){return U(!!t),B.fromTimestamp(function(e){const n=bs(e);return new Xe(n.seconds,n.nanos)}(t))}function oT(t,e){return(n=t,new ge(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}function P$(t){const e=ge.fromString(t);return U(H$(e)),e}function vd(t,e){return oT(t.databaseId,e.path)}function ai(t,e){const n=P$(e);if(n.get(1)!==t.databaseId.projectId)throw new b(I.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new b(I.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new x(F$(n))}function aT(t,e){return oT(t.databaseId,e)}function wd(t){return new ge(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function F$(t){return U(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function L$(t,e,n){return{name:vd(t,e),fields:n.value.mapValue.fields}}function U$(t,e){return{documents:[aT(t,e.path)]}}function cT(t,e){const n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=aT(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=aT(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(u){if(0!==u.length)return j$(Me.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(u){if(0!==u.length)return u.map(c=>{return{field:Ms((l=c).field),direction:zde(l.dir)};var l})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=sT(t,e.limit);var a,u;return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt={before:!(u=e.endAt).inclusive,values:u.position}),n}function B$(t){let e=function O$(t){const e=P$(t);return 4===e.length?ge.emptyPath():F$(e)}(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){U(1===r);const l=n.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let s=[];n.where&&(s=function(l){const d=$$(l);return d instanceof Me&&z0(d)?d.getFilters():[d]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(l=>{return new wu(Au((d=l).field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction));var d}));let a=null;n.limit&&(a=function(l){let d;return d="object"==typeof l?l.value:l,rd(d)?null:d}(n.limit));let u=null;var l;n.startAt&&(u=new As((l=n.startAt).values||[],!!l.before));let c=null;return n.endAt&&(c=function(l){return new As(l.values||[],!l.before)}(n.endAt)),function n$(t,e,n,r,i,s,o,a){return new zi(t,e,n,r,i,s,o,a)}(e,i,o,s,a,"F",u,c)}function $$(t){return void 0!==t.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=Au(e.unaryFilter.field);return he.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=Au(e.unaryFilter.field);return he.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Au(e.unaryFilter.field);return he.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Au(e.unaryFilter.field);return he.create(s,"!=",{nullValue:"NULL_VALUE"});default:return F()}}(t):void 0!==t.fieldFilter?he.create(Au((e=t).fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return F()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==t.compositeFilter?function(e){return Me.create(e.compositeFilter.filters.map(n=>$$(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return F()}}(e.compositeFilter.op))}(t):F();var e}function zde(t){return Fde[t]}function qde(t){return Lde[t]}function Wde(t){return Vde[t]}function Ms(t){return{fieldPath:t.canonicalString()}}function Au(t){return ct.fromServerFormat(t.fieldPath)}function j$(t){return t instanceof he?function(e){if("=="===e.op){if(BB(e.value))return{unaryFilter:{field:Ms(e.field),op:"IS_NAN"}};if(UB(e.value))return{unaryFilter:{field:Ms(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(BB(e.value))return{unaryFilter:{field:Ms(e.field),op:"IS_NOT_NAN"}};if(UB(e.value))return{unaryFilter:{field:Ms(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ms(e.field),op:qde(e.op),value:e.value}}}(t):t instanceof Me?function(e){const n=e.getFilters().map(r=>j$(r));return 1===n.length?n[0]:{compositeFilter:{op:Wde(e.op),filters:n}}}(t):F()}function Kde(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function H$(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class Ki{constructor(e,n,r,i,s=B.min(),o=B.min(),a=St.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new Ki(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ki(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ki(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ki(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class G${constructor(e){this.fe=e}}function lT(t){const e=B$({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?$g(e,e.limit,"L"):e}class Uo{constructor(){}_e(e,n){this.me(e,n),n.ge()}me(e,n){if("nullValue"in e)this.ye(n,5);else if("booleanValue"in e)this.ye(n,10),n.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(n,15),n.pe(st(e.integerValue));else if("doubleValue"in e){const r=st(e.doubleValue);isNaN(r)?this.ye(n,13):(this.ye(n,15),id(r)?n.pe(0):n.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(n,20),"string"==typeof r?n.Ie(r):(n.Ie(`${r.seconds||""}`),n.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,n),this.Ee(n);else if("bytesValue"in e)this.ye(n,30),n.Ae(Gi(e.bytesValue)),this.Ee(n);else if("referenceValue"in e)this.ve(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(n,45),n.pe(r.latitude||0),n.pe(r.longitude||0)}else"mapValue"in e?$B(e)?this.ye(n,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,n),this.Ee(n)):"arrayValue"in e?(this.Pe(e.arrayValue,n),this.Ee(n)):F()}Te(e,n){this.ye(n,25),this.be(e,n)}be(e,n){n.Ie(e)}Re(e,n){const r=e.fields||{};this.ye(n,55);for(const i of Object.keys(r))this.Te(i,n),this.me(r[i],n)}Pe(e,n){const r=e.values||[];this.ye(n,50);for(const i of r)this.me(i,n)}ve(e,n){this.ye(n,37),x.fromName(e).path.forEach(r=>{this.ye(n,60),this.be(r,n)})}ye(e,n){e.pe(n)}Ee(e){e.pe(2)}}Uo.Ve=new Uo;class rhe{constructor(){this.rn=new mT}addToCollectionParentIndex(e,n){return this.rn.add(n),w.resolve()}getCollectionParents(e,n){return w.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return w.resolve()}deleteFieldIndex(e,n){return w.resolve()}getDocumentsMatchingTarget(e,n){return w.resolve(null)}getIndexType(e,n){return w.resolve(0)}getFieldIndexes(e,n){return w.resolve([])}getNextCollectionGroupToUpdate(e){return w.resolve(null)}getMinOffset(e,n){return w.resolve(nr.min())}getMinOffsetFromCollectionGroup(e,n){return w.resolve(nr.min())}updateCollectionGroup(e,n,r){return w.resolve()}updateIndexEntries(e,n){return w.resolve()}}class mT{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Be(ge.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Be(ge.comparator)).toArray()}}new Uint8Array(0);class hn{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new hn(e,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}hn.DEFAULT_COLLECTION_PERCENTILE=10,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,hn.DEFAULT=new hn(41943040,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),hn.DISABLED=new hn(-1,0,0);class $o{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new $o(0)}static Mn(){return new $o(-1)}}class che{constructor(){this.changes=new qi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,$e.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?w.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class hhe{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class mj{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(null!==r&&gd(r.mutation,i,jn.empty(),Xe.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,oe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=oe()){const i=oi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=hd();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=oi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,oe()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Hn();const o=fd(),a=fd();return n.forEach((u,c)=>{const l=r.get(c.key);i.has(c.key)&&(void 0===l||l.mutation instanceof Wi)?s=s.insert(c.key,c):void 0!==l?(o.set(c.key,l.mutation.getFieldMask()),gd(l.mutation,c,l.mutation.getFieldMask(),Xe.now())):o.set(c.key,jn.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((c,l)=>o.set(c,l)),n.forEach((c,l)=>{var d;return a.set(c,new hhe(l,null!==(d=o.get(c))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=fd();let i=new Oe((o,a)=>o-a),s=oe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(u=>{const c=n.get(u);if(null===c)return;let l=r.get(u)||jn.empty();l=a.applyToLocalView(c,l),r.set(u,l);const d=(i.get(a.batchId)||oe()).add(u);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,l=u.value,d=c$();l.forEach(h=>{if(!s.has(h)){const f=_$(n.get(h),r.get(h));null!==f&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return w.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return x.isDocumentKey((i=n).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):function Q0(t){return null!==t.collectionGroup}(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r);var i}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):w.resolve(oi());let a=-1,u=s;return o.next(c=>w.forEach(c,(l,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(l)?w.resolve():this.remoteDocumentCache.getEntry(e,l).next(h=>{u=u.insert(l,h)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,u,c,oe())).next(l=>({batchId:a,changes:u$(l)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new x(n)).next(r=>{let i=hd();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let s=hd();return this.indexManager.getCollectionParents(e,i).next(o=>w.forEach(o,a=>{const u=(c=n,l=a.child(i),new zi(l,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt));var c,l;return this.getDocumentsMatchingCollectionQuery(e,u,r).next(c=>{c.forEach((l,d)=>{s=s.insert(l,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i))).next(s=>{i.forEach((a,u)=>{const c=u.getKey();null===s.get(c)&&(s=s.insert(c,$e.newInvalidDocument(c)))});let o=hd();return s.forEach((a,u)=>{const c=i.get(a);void 0!==c&&gd(c.mutation,u,jn.empty(),Xe.now()),dd(n,u)&&(o=o.insert(a,u))}),o})}}class fhe{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return w.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var r;return this.cs.set(n.id,{id:(r=n).id,version:r.version,createTime:lt(r.createTime)}),w.resolve()}getNamedQuery(e,n){return w.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,{name:(r=n).name,query:lT(r.bundledQuery),readTime:lt(r.readTime)}),w.resolve();var r}}class phe{constructor(){this.overlays=new Oe(x.comparator),this.ls=new Map}getOverlay(e,n){return w.resolve(this.overlays.get(n))}getOverlays(e,n){const r=oi();return w.forEach(n,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.we(e,n,s)}),w.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.ls.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.ls.delete(r)),w.resolve()}getOverlaysForCollection(e,n,r){const i=oi(),s=n.length+1,o=new x(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return w.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Oe((c,l)=>c-l);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let l=s.get(c.largestBatchId);null===l&&(l=oi(),s=s.insert(c.largestBatchId,l)),l.set(c.getKey(),c)}}const a=oi(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,l)=>a.set(c,l)),!(a.size()>=i)););return w.resolve(a)}we(e,n,r){const i=this.overlays.get(r.key);if(null!==i){const o=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new nT(n,r));let s=this.ls.get(n);void 0===s&&(s=oe(),this.ls.set(n,s)),this.ls.set(n,s.add(r.key))}}class yT{constructor(){this.fs=new Be(Vt.ds),this.ws=new Be(Vt._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const r=new Vt(e,n);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.ys(new Vt(e,n))}ps(e,n){e.forEach(r=>this.removeReference(r,n))}Is(e){const n=new x(new ge([])),r=new Vt(n,e),i=new Vt(n,e+1),s=[];return this.ws.forEachInRange([r,i],o=>{this.ys(o),s.push(o.key)}),s}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new x(new ge([])),r=new Vt(n,e),i=new Vt(n,e+1);let s=oe();return this.ws.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Vt(e,0),r=this.fs.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class Vt{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return x.comparator(e.key,n.key)||J(e.As,n.As)}static _s(e,n){return J(e.As,n.As)||x.comparator(e.key,n.key)}}class ghe{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new Be(Vt.ds)}checkEmpty(e){return w.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,r,i){const s=this.vs;this.vs++;const o=new eT(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Rs=this.Rs.add(new Vt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return w.resolve(o)}lookupMutationBatch(e,n){return w.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const i=this.bs(n+1),s=i<0?0:i;return w.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return w.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return w.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Vt(n,0),i=new Vt(n,Number.POSITIVE_INFINITY),s=[];return this.Rs.forEachInRange([r,i],o=>{const a=this.Ps(o.As);s.push(a)}),w.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Be(J);return n.forEach(i=>{const s=new Vt(i,0),o=new Vt(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([s,o],a=>{r=r.add(a.As)})}),w.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;x.isDocumentKey(s)||(s=s.child(""));const o=new Vt(new x(s),0);let a=new Be(J);return this.Rs.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(u.As)),!0)},o),w.resolve(this.Vs(a))}Vs(e){const n=[];return e.forEach(r=>{const i=this.Ps(r);null!==i&&n.push(i)}),n}removeMutationBatch(e,n){U(0===this.Ss(n.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return w.forEach(n.mutations,i=>{const s=new Vt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,n){const r=new Vt(n,0),i=this.Rs.firstAfterOrEqual(r);return w.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return w.resolve()}Ss(e,n){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class mhe{constructor(e){this.Ds=e,this.docs=new Oe(x.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Ds(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return w.resolve(r?r.document.mutableCopy():$e.newInvalidDocument(n))}getEntries(e,n){let r=Hn();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():$e.newInvalidDocument(i))}),w.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Hn();const o=n.path,a=new x(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:c,value:{document:l}}=u.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||V0(bB(l),r)<=0||(i.has(l.key)||dd(n,l))&&(s=s.insert(l.key,l.mutableCopy()))}return w.resolve(s)}getAllFromCollectionGroup(e,n,r,i){F()}Cs(e,n){return w.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new yhe(this)}getSize(e){return w.resolve(this.size)}}class yhe extends che{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),w.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}class _he{constructor(e){this.persistence=e,this.xs=new qi(n=>No(n),cd),this.lastRemoteSnapshotVersion=B.min(),this.highestTargetId=0,this.Ns=0,this.ks=new yT,this.targetCount=0,this.Ms=$o.kn()}forEachTarget(e,n){return this.xs.forEach((r,i)=>n(i)),w.resolve()}getLastRemoteSnapshotVersion(e){return w.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return w.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),w.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Ns&&(this.Ns=n),w.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new $o(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,w.resolve()}updateTargetData(e,n){return this.Fn(n),w.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,w.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.xs.forEach((o,a)=>{a.sequenceNumber<=n&&null===r.get(a.targetId)&&(this.xs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),w.waitFor(s).next(()=>i)}getTargetCount(e){return w.resolve(this.targetCount)}getTargetData(e,n){const r=this.xs.get(n)||null;return w.resolve(r)}addMatchingKeys(e,n,r){return this.ks.gs(n,r),w.resolve()}removeMatchingKeys(e,n,r){this.ks.ps(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),w.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),w.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ks.Es(n);return w.resolve(r)}containsKey(e,n){return w.resolve(this.ks.containsKey(n))}}class _T{constructor(e,n){this.$s={},this.overlays={},this.Os=new rr(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new _he(this),this.indexManager=new rhe,this.remoteDocumentCache=new mhe(r=>this.referenceDelegate.Ls(r)),this.serializer=new G$(n),this.qs=new fhe(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new phe,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.$s[e.toKey()];return r||(r=new ghe(n,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,r){S("MemoryPersistence","Starting transaction:",e);const i=new vhe(this.Os.next());return this.referenceDelegate.Us(),r(i).next(s=>this.referenceDelegate.Ks(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gs(e,n){return w.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,n)))}}class vhe extends Ble{constructor(e){super(),this.currentSequenceNumber=e}}class tm{constructor(e){this.persistence=e,this.Qs=new yT,this.js=null}static zs(e){return new tm(e)}get Ws(){if(this.js)return this.js;throw F()}addReference(e,n,r){return this.Qs.addReference(r,n),this.Ws.delete(r.toString()),w.resolve()}removeReference(e,n,r){return this.Qs.removeReference(r,n),this.Ws.add(r.toString()),w.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),w.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Ws.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return w.forEach(this.Ws,r=>{const i=x.fromPath(r);return this.Hs(e,i).next(s=>{s||n.removeEntry(i,B.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(r=>{r?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return w.or([()=>w.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}class ET{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Fi=r,this.Bi=i}static Li(e,n){let r=oe(),i=oe();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new ET(e,n.fromCache,r,i)}}class _j{constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,r,i){return this.Ki(e,n).next(s=>s||this.Gi(e,n,i,r)).next(s=>s||this.Qi(e,n))}Ki(e,n){if(r$(n))return w.resolve(null);let r=Cn(n);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==n.limit&&1===i&&(n=$g(n,null,"F"),r=Cn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=oe(...s);return this.Ui.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.ji(n,a);return this.zi(n,c,o,u.readTime)?this.Ki(e,$g(n,null,"F")):this.Wi(e,c,n,u)}))})))}Gi(e,n,r,i){return r$(n)||i.isEqual(B.min())?this.Qi(e,n):this.Ui.getDocuments(e,r).next(s=>{const o=this.ji(n,s);return this.zi(n,o,r,i)?this.Qi(e,n):(O0()<=Y.DEBUG&&S("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),X0(n)),this.Wi(e,o,n,function DB(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=B.fromTimestamp(1e9===r?new Xe(n+1,0):new Xe(n,r));return new nr(i,x.empty(),e)}(i,-1)))})}ji(e,n){let r=new Be(o$(e));return n.forEach((i,s)=>{dd(e,s)&&(r=r.add(s))}),r}zi(e,n,r,i){if(null===e.limit)return!1;if(r.size!==n.size)return!0;const s="F"===e.limitType?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Qi(e,n){return O0()<=Y.DEBUG&&S("QueryEngine","Using full collection scan to execute query:",X0(n)),this.Ui.getDocumentsMatchingQuery(e,n,nr.min())}Wi(e,n,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}class Ihe{constructor(e,n,r,i){this.persistence=e,this.Hi=n,this.serializer=i,this.Ji=new Oe(J),this.Yi=new qi(s=>No(s),cd),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new mj(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function wj(t,e){return DT.apply(this,arguments)}function DT(){return DT=g(function*(t,e){const n=R(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.tr(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let u=oe();for(const c of i){o.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}for(const c of s){a.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}return n.localDocuments.getDocuments(r,u).next(c=>({er:c,removedBatchIds:o,addedBatchIds:a}))})})}),DT.apply(this,arguments)}function Ij(t){const e=R(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function bhe(t,e){const n=R(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Nu(t,e,n){return bT.apply(this,arguments)}function bT(){return bT=g(function*(t,e,n){const r=R(t),i=r.Ji.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!Es(o))throw o;S("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}),bT.apply(this,arguments)}function im(t,e,n){const r=R(t);let i=B.min(),s=oe();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,u,c){const l=R(a),d=l.Yi.get(c);return void 0!==d?w.resolve(l.Ji.get(d)):l.Bs.getTargetData(u,c)}(r,o,Cn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.Hi.getDocumentsMatchingQuery(o,e,n?i:B.min(),n?s:oe())).next(a=>(function Cj(t,e,n){let r=t.Xi.get(e)||B.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Xi.set(e,r)}(r,function s$(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}(e),a),{documents:a,ir:s})))}class MT{constructor(){this.activeTargetIds=function J0(){return Cde}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Aj{constructor(){this.Hr=new MT,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,r){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new MT,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class She{Yr(e){}shutdown(){}}class Mj{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){S("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){S("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let am=null;function RT(){return null===am?am=268435456+Math.round(2147483648*Math.random()):am++,"0x"+am.toString(16)}const Ahe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Mhe{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const fn="WebChannelConnection";class xhe extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,r,i,s){const o=RT(),a=this.To(e,n);S("RestConnection",`Sending RPC '${e}' ${o}:`,a,r);const u={};return this.Eo(u,i,s),this.Ao(e,a,u,r).then(c=>(S("RestConnection",`Received RPC '${e}' ${o}: `,c),c),c=>{throw Rr("RestConnection",`RPC '${e}' ${o} failed with error: `,c,"url: ",a,"request:",r),c})}vo(e,n,r,i,s,o){return this.Io(e,n,r,i,s)}Eo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+mu,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}To(e,n){return`${this.mo}/v1/${n}:${Ahe[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,r,i){const s=RT();return new Promise((o,a)=>{const u=new Ale;u.setWithCredentials(!0),u.listenOnce(Cle.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case P0.NO_ERROR:const l=u.getResponseJson();S(fn,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(l)),o(l);break;case P0.TIMEOUT:S(fn,`RPC '${e}' ${s} timed out`),a(new b(I.DEADLINE_EXCEEDED,"Request time out"));break;case P0.HTTP_ERROR:const d=u.getStatus();if(S(fn,`RPC '${e}' ${s} failed with status:`,d,"response text:",u.getResponseText()),d>0){let h=u.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=h?.error;if(f&&f.status&&f.message){const p=function(m){const y=m.toLowerCase().replace(/_/g,"-");return Object.values(I).indexOf(y)>=0?y:I.UNKNOWN}(f.status);a(new b(p,f.message))}else a(new b(I.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new b(I.UNAVAILABLE,"Connection failed."));break;default:F()}}finally{S(fn,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);S(fn,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",c,r,15)})}Ro(e,n,r){const i=RT(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Dle(),a=ble(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;void 0!==c&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.xmlHttpFactory=new Sle({})),this.Eo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const l=s.join("");S(fn,`Creating RPC '${e}' stream ${i}: ${l}`,u);const d=o.createWebChannel(l,u);let h=!1,f=!1;const p=new Mhe({ro:y=>{f?S(fn,`Not sending because RPC '${e}' stream ${i} is closed:`,y):(h||(S(fn,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),S(fn,`RPC '${e}' stream ${i} sending:`,y),d.send(y))},oo:()=>d.close()}),m=(y,v,_)=>{y.listen(v,E=>{try{_(E)}catch(A){setTimeout(()=>{throw A},0)}})};return m(d,Sg.EventType.OPEN,()=>{f||S(fn,`RPC '${e}' stream ${i} transport opened.`)}),m(d,Sg.EventType.CLOSE,()=>{f||(f=!0,S(fn,`RPC '${e}' stream ${i} transport closed`),p.wo())}),m(d,Sg.EventType.ERROR,y=>{f||(f=!0,Rr(fn,`RPC '${e}' stream ${i} transport errored:`,y),p.wo(new b(I.UNAVAILABLE,"The operation could not be completed")))}),m(d,Sg.EventType.MESSAGE,y=>{var v;if(!f){const _=y.data[0];U(!!_);const A=_.error||(null===(v=_[0])||void 0===v?void 0:v.error);if(A){S(fn,`RPC '${e}' stream ${i} received error:`,A);const O=A.status;let K=function(Sn){const li=yt[Sn];if(void 0!==li)return b$(li)}(O),ze=A.message;void 0===K&&(K=I.INTERNAL,ze="Unknown error status: "+O+" with message "+A.message),f=!0,p.wo(new b(K,ze)),d.close()}else S(fn,`RPC '${e}' stream ${i} received:`,_),p._o(_)}}),m(a,Tle.STAT_EVENT,y=>{y.stat===yB.PROXY?S(fn,`RPC '${e}' stream ${i} detected buffering proxy`):y.stat===yB.NOPROXY&&S(fn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.fo()},0),p}}function um(){return typeof document<"u"?document:null}function xd(t){return new Ude(t,!0)}class NT{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ii=e,this.timerId=n,this.Po=r,this.bo=i,this.Vo=s,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,n-r);i>0&&S("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class Rj{constructor(e,n,r,i,s,o,a,u){this.ii=e,this.$o=r,this.Oo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new NT(e,n)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return g(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return g(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,n){var r=this;return g(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():n&&n.code===I.RESOURCE_EXHAUSTED?(ut(n.toString()),ut("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):n&&n.code===I.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(n)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===n&&this.Zo(r,i)},r=>{e(()=>{const i=new b(I.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,n){const r=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){var e=this;this.state=5,this.qo.No(g(function*(){e.state=0,e.start()}))}tu(e){return S("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(S("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Rhe extends Rj{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=function jde(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(u=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===u?1:"REMOVE"===u?2:"CURRENT"===u?3:"RESET"===u?4:F(),i=e.targetChange.targetIds||[],s=function(u,c){return u.useProto3Json?(U(void 0===c||"string"==typeof c),St.fromBase64String(c||"")):(U(void 0===c||c instanceof Uint8Array),St.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const c=void 0===u.code?I.UNKNOWN:b$(u.code);return new b(c,u.message||"")}(o);n=new M$(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=ai(t,r.document.name),s=lt(r.document.updateTime),o=r.document.createTime?lt(r.document.createTime):B.min(),a=new Xt({mapValue:{fields:r.document.fields}}),u=$e.newFoundDocument(i,s,o,a);n=new qg(r.targetIds||[],r.removedTargetIds||[],u.key,u)}else if("documentDelete"in e){const r=e.documentDelete,i=ai(t,r.document),s=r.readTime?lt(r.readTime):B.min(),o=$e.newNoDocument(i,s);n=new qg([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=ai(t,r.document);n=new qg([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return F();{const r=e.filter,{count:i=0,unchangedNames:s}=r,o=new kde(i,s);n=new A$(r.targetId,o)}}var u;return n}(this.serializer,e),r=function(i){if(!("targetChange"in i))return B.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?B.min():s.readTime?lt(s.readTime):B.min()}(e);return this.listener.nu(n,r)}su(e){const n={};n.database=wd(this.serializer),n.addTarget=function(i,s){let o;const a=s.target;if(o=Vg(a)?{documents:U$(i,a)}:{query:cT(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=k$(i,s.resumeToken);const u=sT(i,s.expectedCount);null!==u&&(o.expectedCount=u)}else if(s.snapshotVersion.compareTo(B.min())>0){o.readTime=Su(i,s.snapshotVersion.toTimestamp());const u=sT(i,s.expectedCount);null!==u&&(o.expectedCount=u)}return o}(this.serializer,e);const r=function Gde(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return F()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.Wo(n)}iu(e){const n={};n.database=wd(this.serializer),n.removeTarget=e,this.Wo(n)}}class Nhe extends Rj{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if(U(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const n=function Hde(t,e){return t&&t.length>0?(U(void 0!==e),t.map(n=>function(r,i){let s=lt(r.updateTime?r.updateTime:i);return s.isEqual(B.min())&&(s=lt(i)),new Mde(s,r.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),r=lt(e.commitTime);return this.listener.cu(r,n)}return U(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=wd(this.serializer),this.Wo(e)}uu(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>function Id(t,e){let n;if(e instanceof Cu)n={update:L$(t,e.key,e.value)};else if(e instanceof Tu)n={delete:vd(t,e.key)};else if(e instanceof Wi)n={update:L$(t,e.key,e.data),updateMask:Kde(e.fieldMask)};else{if(!(e instanceof Z0))return F();n={verify:vd(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof Du)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Po)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Oo)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof bu)return{fieldPath:s.field.canonicalString(),increment:o.gt};throw F()}(0,r))),e.precondition.isNone||(n.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:Bde(t,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:F()),n;var i}(this.serializer,r))};this.Wo(n)}}class khe extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new b(I.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Io(e,n,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===I.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new b(I.UNKNOWN,i.toString())})}vo(e,n,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.vo(e,n,r,s,o,i)).catch(s=>{throw"FirebaseError"===s.name?(s.code===I.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new b(I.UNKNOWN,s.toString())})}terminate(){this.lu=!0}}class Ohe{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(ut(n),this.mu=!1):S("OnlineStateTracker",n)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class Fhe{constructor(e,n,r,i,s){var o=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=s,this.Pu.Yr(a=>{r.enqueueAndForget(g(function*(){var u;ks(o)&&(S("RemoteStore","Restarting streams for network reachability change."),yield(u=g(function*(c){const l=R(c);l.vu.add(4),yield ku(l),l.bu.set("Unknown"),l.vu.delete(4),yield Rd(l)}),function(c){return u.apply(this,arguments)})(o))}))}),this.bu=new Ohe(r,i)}}function Rd(t){return PT.apply(this,arguments)}function PT(){return PT=g(function*(t){if(ks(t))for(const e of t.Ru)yield e(!0)}),PT.apply(this,arguments)}function ku(t){return OT.apply(this,arguments)}function OT(){return OT=g(function*(t){for(const e of t.Ru)yield e(!1)}),OT.apply(this,arguments)}function cm(t,e){const n=R(t);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),VT(n)?LT(n):Ou(n).Ko()&&FT(n,e))}function Nd(t,e){const n=R(t),r=Ou(n);n.Au.delete(e),r.Ko()&&Nj(n,e),0===n.Au.size&&(r.Ko()?r.jo():ks(n)&&n.bu.set("Unknown"))}function FT(t,e){if(t.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(B.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ou(t).su(e)}function Nj(t,e){t.Vu.qt(e),Ou(t).iu(e)}function LT(t){t.Vu=new Ode({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),le:e=>t.Au.get(e)||null,ue:()=>t.datastore.serializer.databaseId}),Ou(t).start(),t.bu.gu()}function VT(t){return ks(t)&&!Ou(t).Uo()&&t.Au.size>0}function ks(t){return 0===R(t).vu.size}function kj(t){t.Vu=void 0}function Lhe(t){return UT.apply(this,arguments)}function UT(){return UT=g(function*(t){t.Au.forEach((e,n)=>{FT(t,e)})}),UT.apply(this,arguments)}function Vhe(t,e){return BT.apply(this,arguments)}function BT(){return BT=g(function*(t,e){kj(t),VT(t)?(t.bu.Iu(e),LT(t)):t.bu.set("Unknown")}),BT.apply(this,arguments)}function Uhe(t,e,n){return $T.apply(this,arguments)}function $T(){return $T=g(function*(t,e,n){if(t.bu.set("Online"),e instanceof M$&&2===e.state&&e.cause)try{yield(r=g(function*(i,s){const o=s.cause;for(const a of s.targetIds)i.Au.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.Au.delete(a),i.Vu.removeTarget(a))}),function(i,s){return r.apply(this,arguments)})(t,e)}catch(r){S("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield lm(t,r)}else if(e instanceof qg?t.Vu.Ht(e):e instanceof A$?t.Vu.ne(e):t.Vu.Xt(e),!n.isEqual(B.min()))try{const r=yield Ij(t.localStore);n.compareTo(r)>=0&&(yield function(i,s){const o=i.Vu.ce(s);return o.targetChanges.forEach((a,u)=>{if(a.resumeToken.approximateByteSize()>0){const c=i.Au.get(u);c&&i.Au.set(u,c.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach((a,u)=>{const c=i.Au.get(a);if(!c)return;i.Au.set(a,c.withResumeToken(St.EMPTY_BYTE_STRING,c.snapshotVersion)),Nj(i,a);const l=new Ki(c.target,a,u,c.sequenceNumber);FT(i,l)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n))}catch(r){S("RemoteStore","Failed to raise snapshot:",r),yield lm(t,r)}var r}),$T.apply(this,arguments)}function lm(t,e,n){return jT.apply(this,arguments)}function jT(){return jT=g(function*(t,e,n){if(!Es(e))throw e;t.vu.add(1),yield ku(t),t.bu.set("Offline"),n||(n=()=>Ij(t.localStore)),t.asyncQueue.enqueueRetryable(g(function*(){S("RemoteStore","Retrying IndexedDB access"),yield n(),t.vu.delete(1),yield Rd(t)}))}),jT.apply(this,arguments)}function Pj(t,e){return e().catch(n=>lm(t,n,e))}function Pu(t){return HT.apply(this,arguments)}function HT(){return HT=g(function*(t){const e=R(t),n=Ps(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;Bhe(e);)try{const i=yield bhe(e.localStore,r);if(null===i){0===e.Eu.length&&n.jo();break}r=i.batchId,$he(e,i)}catch(i){yield lm(e,i)}Oj(e)&&Fj(e)}),HT.apply(this,arguments)}function Bhe(t){return ks(t)&&t.Eu.length<10}function $he(t,e){t.Eu.push(e);const n=Ps(t);n.Ko()&&n.ou&&n.uu(e.mutations)}function Oj(t){return ks(t)&&!Ps(t).Uo()&&t.Eu.length>0}function Fj(t){Ps(t).start()}function jhe(t){return GT.apply(this,arguments)}function GT(){return GT=g(function*(t){Ps(t).hu()}),GT.apply(this,arguments)}function Hhe(t){return zT.apply(this,arguments)}function zT(){return zT=g(function*(t){const e=Ps(t);for(const n of t.Eu)e.uu(n.mutations)}),zT.apply(this,arguments)}function Ghe(t,e,n){return qT.apply(this,arguments)}function qT(){return qT=g(function*(t,e,n){const r=t.Eu.shift(),i=tT.from(r,e,n);yield Pj(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield Pu(t)}),qT.apply(this,arguments)}function zhe(t,e){return WT.apply(this,arguments)}function WT(){return WT=g(function*(t,e){var n;e&&Ps(t).ou&&(yield(n=g(function*(r,i){if(function D$(t){switch(t){default:return F();case I.CANCELLED:case I.UNKNOWN:case I.DEADLINE_EXCEEDED:case I.RESOURCE_EXHAUSTED:case I.INTERNAL:case I.UNAVAILABLE:case I.UNAUTHENTICATED:return!1;case I.INVALID_ARGUMENT:case I.NOT_FOUND:case I.ALREADY_EXISTS:case I.PERMISSION_DENIED:case I.FAILED_PRECONDITION:case I.ABORTED:case I.OUT_OF_RANGE:case I.UNIMPLEMENTED:case I.DATA_LOSS:return!0}}(s=i.code)&&s!==I.ABORTED){const o=r.Eu.shift();Ps(r).Qo(),yield Pj(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield Pu(r)}var s}),function(r,i){return n.apply(this,arguments)})(t,e)),Oj(t)&&Fj(t)}),WT.apply(this,arguments)}function Lj(t,e){return KT.apply(this,arguments)}function KT(){return KT=g(function*(t,e){const n=R(t);n.asyncQueue.verifyOperationInProgress(),S("RemoteStore","RemoteStore received new credentials");const r=ks(n);n.vu.add(3),yield ku(n),r&&n.bu.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),yield Rd(n)}),KT.apply(this,arguments)}function YT(){return YT=g(function*(t,e){const n=R(t);e?(n.vu.delete(2),yield Rd(n)):e||(n.vu.add(2),yield ku(n),n.bu.set("Unknown"))}),YT.apply(this,arguments)}function Ou(t){return t.Su||(t.Su=function(e,n,r){const i=R(e);return i.fu(),new Rhe(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:Lhe.bind(null,t),ao:Vhe.bind(null,t),nu:Uhe.bind(null,t)}),t.Ru.push(function(){var e=g(function*(n){n?(t.Su.Qo(),VT(t)?LT(t):t.bu.set("Unknown")):(yield t.Su.stop(),kj(t))});return function(n){return e.apply(this,arguments)}}())),t.Su}function Ps(t){return t.Du||(t.Du=function(e,n,r){const i=R(e);return i.fu(),new Nhe(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:jhe.bind(null,t),ao:zhe.bind(null,t),au:Hhe.bind(null,t),cu:Ghe.bind(null,t)}),t.Ru.push(function(){var e=g(function*(n){n?(t.Du.Qo(),yield Pu(t)):(yield t.Du.stop(),t.Eu.length>0&&(S("RemoteStore",`Stopping write stream with ${t.Eu.length} pending writes`),t.Eu=[]))});return function(n){return e.apply(this,arguments)}}())),t.Du}class XT{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Tt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new XT(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new b(I.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Fu(t,e){if(ut("AsyncQueue",`${e}: ${t}`),Es(t))return new b(I.UNAVAILABLE,`${e}: ${t}`);throw t}class Lu{constructor(e){this.comparator=e?(n,r)=>e(n,r)||x.comparator(n.key,r.key):(n,r)=>x.comparator(n.key,r.key),this.keyedMap=hd(),this.sortedSet=new Oe(this.comparator)}static emptySet(e){return new Lu(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Lu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new Lu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class Vj{constructor(){this.Cu=new Oe(x.comparator)}track(e){const n=e.doc.key,r=this.Cu.get(n);r?0!==e.type&&3===r.type?this.Cu=this.Cu.insert(n,e):3===e.type&&1!==r.type?this.Cu=this.Cu.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Cu=this.Cu.remove(n):1===e.type&&2===r.type?this.Cu=this.Cu.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):F():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,r)=>{e.push(r)}),e}}class Vu{constructor(e,n,r,i,s,o,a,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Vu(e,n,Lu.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ld(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class qhe{constructor(){this.Nu=void 0,this.listeners=[]}}class Whe{constructor(){this.queries=new qi(e=>i$(e),ld),this.onlineState="Unknown",this.ku=new Set}}function JT(t,e){return ZT.apply(this,arguments)}function ZT(){return ZT=g(function*(t,e){const n=R(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new qhe),i)try{s.Nu=yield n.onListen(r)}catch(o){const a=Fu(o,`Initialization of query '${X0(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.Mu(n.onlineState),s.Nu&&e.$u(s.Nu)&&nS(n)}),ZT.apply(this,arguments)}function eS(t,e){return tS.apply(this,arguments)}function tS(){return tS=g(function*(t,e){const n=R(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}),tS.apply(this,arguments)}function Khe(t,e){const n=R(t);let r=!1;for(const i of e){const o=n.queries.get(i.query);if(o){for(const a of o.listeners)a.$u(i)&&(r=!0);o.Nu=i}}r&&nS(n)}function Qhe(t,e,n){const r=R(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function nS(t){t.ku.forEach(e=>{e.next()})}class rS{constructor(e,n,r){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Vu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){return!e.fromCache||(!this.options.Ku||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=Vu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class $j{constructor(e){this.key=e}}class jj{constructor(e){this.key=e}}class Hj{constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=oe(),this.mutatedKeys=oe(),this.tc=o$(e),this.ec=new Lu(this.tc)}get nc(){return this.Yu}sc(e,n){const r=n?n.ic:new Vj,i=n?n.ec:this.ec;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((l,d)=>{const h=i.get(l),f=dd(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),m=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let y=!1;h&&f?h.data.isEqual(f.data)?p!==m&&(r.track({type:3,doc:f}),y=!0):this.rc(h,f)||(r.track({type:2,doc:f}),y=!0,(u&&this.tc(f,u)>0||c&&this.tc(f,c)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),y=!0):h&&!f&&(r.track({type:1,doc:h}),y=!0,(u||c)&&(a=!0)),y&&(f?(o=o.add(f),s=m?s.add(l):s.delete(l)):(o=o.delete(l),s=s.delete(l)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{ec:o,ic:r,zi:a,mutatedKeys:s}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const s=e.ic.xu();s.sort((c,l)=>function(d,h){const f=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return F()}};return f(d)-f(h)}(c.type,l.type)||this.tc(c.doc,l.doc)),this.oc(r);const o=n?this.uc():[],a=0===this.Zu.size&&this.current?1:0,u=a!==this.Xu;return this.Xu=a,0!==s.length||u?{snapshot:new Vu(this.query,e.ec,i,s,e.mutatedKeys,0===a,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:o}:{cc:o}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new Vj,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=oe(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const n=[];return e.forEach(r=>{this.Zu.has(r)||n.push(new jj(r))}),this.Zu.forEach(r=>{e.has(r)||n.push(new $j(r))}),n}hc(e){this.Yu=e.ir,this.Zu=oe();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return Vu.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class Jhe{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Zhe{constructor(e){this.key=e,this.fc=!1}}class efe{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new qi(a=>i$(a),ld),this._c=new Map,this.mc=new Set,this.gc=new Oe(x.comparator),this.yc=new Map,this.Ic=new yT,this.Tc={},this.Ec=new Map,this.Ac=$o.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function tfe(t,e){return iS.apply(this,arguments)}function iS(){return iS=g(function*(t,e){const n=function SS(t){const e=R(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Gj.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=lfe.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ife.bind(null,e),e.dc.nu=Khe.bind(null,e.eventManager),e.dc.Pc=Qhe.bind(null,e.eventManager),e}(t);let r,i;const s=n.wc.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.lc();else{const o=yield function Ru(t,e){const n=R(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Bs.getTargetData(r,e).next(s=>s?(i=s,w.resolve(i)):n.Bs.allocateTargetId(r).next(o=>(i=new Ki(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ji.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(r.targetId,r),n.Yi.set(e,r.targetId)),r})}(n.localStore,Cn(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield function sS(t,e,n,r,i){return oS.apply(this,arguments)}(n,e,r,"current"===a,o.resumeToken),n.isPrimaryClient&&cm(n.remoteStore,o)}return i}),iS.apply(this,arguments)}function oS(){return oS=g(function*(t,e,n,r,i){t.Rc=(d,h,f)=>{return(p=g(function*(m,y,v,_){let E=y.view.sc(v);E.zi&&(E=yield im(m.localStore,y.query,!1).then(({documents:K})=>y.view.sc(K,E)));const A=_&&_.targetChanges.get(y.targetId),O=y.view.applyChanges(E,m.isPrimaryClient,A);return mS(m,y.targetId,O.cc),O.snapshot}),function(m,y,v,_){return p.apply(this,arguments)})(t,d,h,f);var p};const s=yield im(t.localStore,e,!0),o=new Hj(e,s.ir),a=o.sc(s.documents),u=_d.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState,i),c=o.applyChanges(a,t.isPrimaryClient,u);mS(t,n,c.cc);const l=new Jhe(e,n,o);return t.wc.set(e,l),t._c.has(n)?t._c.get(n).push(e):t._c.set(n,[e]),c.snapshot}),oS.apply(this,arguments)}function nfe(t,e){return aS.apply(this,arguments)}function aS(){return aS=g(function*(t,e){const n=R(t),r=n.wc.get(e),i=n._c.get(r.targetId);if(i.length>1)return n._c.set(r.targetId,i.filter(s=>!ld(s,e))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Nu(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),Nd(n.remoteStore,r.targetId),Uu(n,r.targetId)}).catch(Is))):(Uu(n,r.targetId),yield Nu(n.localStore,r.targetId,!0))}),aS.apply(this,arguments)}function uS(){return uS=g(function*(t,e,n){const r=function AS(t){const e=R(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=sfe.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=ofe.bind(null,e),e}(t);try{const i=yield function(s,o){const a=R(s),u=Xe.now(),c=o.reduce((h,f)=>h.add(f.key),oe());let l,d;return a.persistence.runTransaction("Locally write mutations","readwrite",h=>{let f=Hn(),p=oe();return a.Zi.getEntries(h,c).next(m=>{f=m,f.forEach((y,v)=>{v.isValidDocument()||(p=p.add(y))})}).next(()=>a.localDocuments.getOverlayedDocuments(h,f)).next(m=>{l=m;const y=[];for(const v of o){const _=Rde(v,l.get(v.key).overlayedDocument);null!=_&&y.push(new Wi(v.key,_,GB(_.value.mapValue),Ge.exists(!0)))}return a.mutationQueue.addMutationBatch(h,u,y,o)}).next(m=>{d=m;const y=m.applyToLocalDocumentSet(l,p);return a.documentOverlayCache.saveOverlays(h,m.batchId,y)})}).then(()=>({batchId:d.batchId,changes:u$(l)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let u=s.Tc[s.currentUser.toKey()];u||(u=new Oe(J)),u=u.insert(o,a),s.Tc[s.currentUser.toKey()]=u}(r,i.batchId,n),yield Qi(r,i.changes),yield Pu(r.remoteStore)}catch(i){const s=Fu(i,"Failed to persist write");n.reject(s)}}),uS.apply(this,arguments)}function Gj(t,e){return cS.apply(this,arguments)}function cS(){return cS=g(function*(t,e){const n=R(t);try{const r=yield function Dhe(t,e){const n=R(t),r=e.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const a=[];e.targetChanges.forEach((l,d)=>{const h=i.get(d);if(!h)return;a.push(n.Bs.removeMatchingKeys(s,l.removedDocuments,d).next(()=>n.Bs.addMatchingKeys(s,l.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);var p,m,y;null!==e.targetMismatches.get(d)?f=f.withResumeToken(St.EMPTY_BYTE_STRING,B.min()).withLastLimboFreeSnapshotVersion(B.min()):l.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(l.resumeToken,r)),i=i.insert(d,f),m=f,y=l,(0===(p=h).resumeToken.approximateByteSize()||m.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8||y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0)&&a.push(n.Bs.updateTargetData(s,f))});let u=Hn(),c=oe();if(e.documentUpdates.forEach(l=>{e.resolvedLimboDocuments.has(l)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,l))}),a.push(function Ej(t,e,n){let r=oe(),i=oe();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Hn();return n.forEach((a,u)=>{const c=s.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(B.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||0===u.version.compareTo(c.version)&&c.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):S("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{nr:o,sr:i}})}(s,o,e.documentUpdates).next(l=>{u=l.nr,c=l.sr})),!r.isEqual(B.min())){const l=n.Bs.getLastRemoteSnapshotVersion(s).next(d=>n.Bs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(l)}return w.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,c)).next(()=>u)}).then(s=>(n.Ji=i,s))}(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.yc.get(s);o&&(U(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.fc=!0:i.modifiedDocuments.size>0?U(o.fc):i.removedDocuments.size>0&&(U(o.fc),o.fc=!1))}),yield Qi(n,r,e)}catch(r){yield Is(r)}}),cS.apply(this,arguments)}function zj(t,e,n){const r=R(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const i=[];r.wc.forEach((s,o)=>{const a=o.view.Mu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=R(s);a.onlineState=o;let u=!1;a.queries.forEach((c,l)=>{for(const d of l.listeners)d.Mu(o)&&(u=!0)}),u&&nS(a)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function ife(t,e,n){return lS.apply(this,arguments)}function lS(){return lS=g(function*(t,e,n){const r=R(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.yc.get(e),s=i&&i.key;if(s){let o=new Oe(x.comparator);o=o.insert(s,$e.newNoDocument(s,B.min()));const a=oe().add(s),u=new yd(B.min(),new Map,new Oe(J),o,a);yield Gj(r,u),r.gc=r.gc.remove(s),r.yc.delete(e),yS(r)}else yield Nu(r.localStore,e,!1).then(()=>Uu(r,e,n)).catch(Is)}),lS.apply(this,arguments)}function sfe(t,e){return dS.apply(this,arguments)}function dS(){return dS=g(function*(t,e){const n=R(t),r=e.batch.batchId;try{const i=yield function Ehe(t,e){const n=R(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Zi.newChangeBuffer({trackRemovals:!0});return function(o,a,u,c){const l=u.batch,d=l.keys();let h=w.resolve();return d.forEach(f=>{h=h.next(()=>c.getEntry(a,f)).next(p=>{const m=u.docVersions.get(f);U(null!==m),p.version.compareTo(m)<0&&(l.applyToRemoteDocument(p,u),p.isValidDocument()&&(p.setReadTime(u.commitVersion),c.addEntry(p)))})}),h.next(()=>o.mutationQueue.removeMutationBatch(a,l))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=oe();for(let u=0;u<o.mutationResults.length;++u)o.mutationResults[u].transformResults.length>0&&(a=a.add(o.batch.mutations[u].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}(n.localStore,e);gS(n,r,null),pS(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield Qi(n,i)}catch(i){yield Is(i)}}),dS.apply(this,arguments)}function ofe(t,e,n){return hS.apply(this,arguments)}function hS(){return hS=g(function*(t,e,n){const r=R(t);try{const i=yield function(s,o){const a=R(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return a.mutationQueue.lookupMutationBatch(u,o).next(l=>(U(null!==l),c=l.keys(),a.mutationQueue.removeMutationBatch(u,l))).next(()=>a.mutationQueue.performConsistencyCheck(u)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(u,c,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>a.localDocuments.getDocuments(u,c))})}(r.localStore,e);gS(r,e,n),pS(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield Qi(r,i)}catch(i){yield Is(i)}}),hS.apply(this,arguments)}function pS(t,e){(t.Ec.get(e)||[]).forEach(n=>{n.resolve()}),t.Ec.delete(e)}function gS(t,e,n){const r=R(t);let i=r.Tc[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Tc[r.currentUser.toKey()]=i}}function Uu(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t._c.get(e))t.wc.delete(r),n&&t.dc.Pc(r,n);t._c.delete(e),t.isPrimaryClient&&t.Ic.Is(e).forEach(r=>{t.Ic.containsKey(r)||qj(t,r)})}function qj(t,e){t.mc.delete(e.path.canonicalString());const n=t.gc.get(e);null!==n&&(Nd(t.remoteStore,n),t.gc=t.gc.remove(e),t.yc.delete(n),yS(t))}function mS(t,e,n){for(const r of n)r instanceof $j?(t.Ic.addReference(r.key,e),ufe(t,r)):r instanceof jj?(S("SyncEngine","Document no longer in limbo: "+r.key),t.Ic.removeReference(r.key,e),t.Ic.containsKey(r.key)||qj(t,r.key)):F()}function ufe(t,e){const n=e.key,r=n.path.canonicalString();t.gc.get(n)||t.mc.has(r)||(S("SyncEngine","New document in limbo: "+n),t.mc.add(r),yS(t))}function yS(t){for(;t.mc.size>0&&t.gc.size<t.maxConcurrentLimboResolutions;){const e=t.mc.values().next().value;t.mc.delete(e);const n=new x(ge.fromString(e)),r=t.Ac.next();t.yc.set(r,new Zhe(n)),t.gc=t.gc.insert(n,r),cm(t.remoteStore,new Ki(Cn(Eu(n.path)),r,"TargetPurposeLimboResolution",rr.ct))}}function Qi(t,e,n){return _S.apply(this,arguments)}function _S(){return _S=g(function*(t,e,n){const r=R(t),i=[],s=[],o=[];var a;r.wc.isEmpty()||(r.wc.forEach((a,u)=>{o.push(r.Rc(u,e,n).then(c=>{if((c||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,c?.fromCache?"not-current":"current"),c){i.push(c);const l=ET.Li(u.targetId,c);s.push(l)}}))}),yield Promise.all(o),r.dc.nu(i),yield(a=g(function*(u,c){const l=R(u);try{yield l.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>w.forEach(c,h=>w.forEach(h.Fi,f=>l.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>w.forEach(h.Bi,f=>l.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!Es(d))throw d;S("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const h=d.targetId;if(!d.fromCache){const f=l.Ji.get(h),m=f.withLastLimboFreeSnapshotVersion(f.snapshotVersion);l.Ji=l.Ji.insert(h,m)}}}),function(u,c){return a.apply(this,arguments)})(r.localStore,s))}),_S.apply(this,arguments)}function cfe(t,e){return vS.apply(this,arguments)}function vS(){return vS=g(function*(t,e){const n=R(t);if(!n.currentUser.isEqual(e)){S("SyncEngine","User change. New user:",e.toKey());const r=yield wj(n.localStore,e);n.currentUser=e,(i=n).Ec.forEach(o=>{o.forEach(a=>{a.reject(new b(I.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.Ec.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Qi(n,r.er)}var i}),vS.apply(this,arguments)}function lfe(t,e){const n=R(t),r=n.yc.get(e);if(r&&r.fc)return oe().add(r.key);{let i=oe();const s=n._c.get(e);if(!s)return i;for(const o of s){const a=n.wc.get(o);i=i.unionWith(a.view.nc)}return i}}class dm{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return g(function*(){n.serializer=xd(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return function vj(t,e,n,r){return new Ihe(t,e,n,r)}(this.persistence,new _j,e.initialUser,this.serializer)}createPersistence(e){return new _T(tm.zs,this.serializer)}createSharedClientState(e){return new Aj}terminate(){var e=this;return g(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Bu{initialize(e,n){var r=this;return g(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(n),r.remoteStore=r.createRemoteStore(n),r.eventManager=r.createEventManager(n),r.syncEngine=r.createSyncEngine(n,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>zj(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=cfe.bind(null,r.syncEngine),yield function QT(t,e){return YT.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Whe}createDatastore(e){const n=xd(e.databaseInfo.databaseId),r=new xhe(e.databaseInfo);return new khe(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>zj(this.syncEngine,a,0),o=Mj.D()?new Mj:new She,new Fhe(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,a,u,c){const l=new efe(r,i,s,o,a,u);return c&&(l.vc=!0),l}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=g(function*(n){const r=R(n);S("RemoteStore","RemoteStore shutting down."),r.vu.add(5),yield ku(r),r.Pu.shutdown(),r.bu.set("Unknown")}),function(n){return e.apply(this,arguments)})(this.remoteStore);var e}}class hm{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):ut("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class Dfe{constructor(e,n,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ft.UNAUTHENTICATED,this.clientId=IB.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=g(function*(a){S("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(S("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return g(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new b(I.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new Tt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(g(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const i=Fu(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}function fm(t,e){return MS.apply(this,arguments)}function MS(){return MS=g(function*(t,e){t.asyncQueue.verifyOperationInProgress(),S("FirestoreClient","Initializing OfflineComponentProvider");const n=yield t.getConfiguration();yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(function(){var i=g(function*(s){r.isEqual(s)||(yield wj(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}),MS.apply(this,arguments)}function xS(t,e){return RS.apply(this,arguments)}function RS(){return RS=g(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield function NS(t){return kS.apply(this,arguments)}(t);S("FirestoreClient","Initializing OnlineComponentProvider");const r=yield t.getConfiguration();yield e.initialize(n,r),t.setCredentialChangeListener(i=>Lj(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>Lj(e.remoteStore,s)),t._onlineComponents=e}),RS.apply(this,arguments)}function kS(){return kS=g(function*(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){S("FirestoreClient","Using user provided OfflineComponentProvider");try{yield fm(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function Jj(t){return"FirebaseError"===t.name?t.code===I.FAILED_PRECONDITION||t.code===I.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(n))throw n;Rr("Error using user provided cache. Falling back to memory cache: "+n),yield fm(t,new dm)}}else S("FirestoreClient","Using default OfflineComponentProvider"),yield fm(t,new dm);return t._offlineComponents}),kS.apply(this,arguments)}function pm(t){return PS.apply(this,arguments)}function PS(){return PS=g(function*(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(S("FirestoreClient","Using user provided OnlineComponentProvider"),yield xS(t,t._uninitializedComponentsProvider._online)):(S("FirestoreClient","Using default OnlineComponentProvider"),yield xS(t,new Bu))),t._onlineComponents}),PS.apply(this,arguments)}function $u(t){return FS.apply(this,arguments)}function FS(){return FS=g(function*(t){const e=yield pm(t),n=e.eventManager;return n.onListen=tfe.bind(null,e.syncEngine),n.onUnlisten=nfe.bind(null,e.syncEngine),n}),FS.apply(this,arguments)}function iH(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e}const sH=new Map;function LS(t,e,n){if(!n)throw new b(I.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function oH(t){if(!x.isDocumentKey(t))throw new b(I.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function aH(t){if(x.isDocumentKey(t))throw new b(I.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function mm(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(n=t).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof t?"a function":F()}function fe(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new b(I.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=mm(t);throw new b(I.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}class cH{constructor(e){var n,r;if(void 0===e.host){if(void 0!==e.ssl)throw new b(I.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new b(I.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function Nfe(t,e,n,r){if(!0===e&&!0===r)throw new b(I.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=iH(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(i){if(void 0!==i.timeoutSeconds){if(isNaN(i.timeoutSeconds))throw new b(I.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new b(I.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new b(I.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class kd{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new cH({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new b(I.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new b(I.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new cH(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new xle;switch(n.type){case"firstParty":return new Ple(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new b(I.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=sH.get(e);n&&(S("ComponentProvider","Removing Datastore"),sH.delete(e),n.terminate())}(this),Promise.resolve()}}class dt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ui(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new dt(this.firestore,e,this._key)}}class Jt{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Jt(this.firestore,e,this._query)}}class ui extends Jt{constructor(e,n,r){super(e,n,Eu(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new dt(this.firestore,null,new x(e))}withConverter(e){return new ui(this.firestore,e,this._path)}}function Pfe(t,e,...n){if(t=wn(t),LS("collection","path",e),t instanceof kd){const r=ge.fromString(e,...n);return aH(r),new ui(t,null,r)}{if(!(t instanceof dt||t instanceof ui))throw new b(I.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ge.fromString(e,...n));return aH(r),new ui(t.firestore,null,r)}}function VS(t,e,...n){if(t=wn(t),1===arguments.length&&(e=IB.A()),LS("doc","path",e),t instanceof kd){const r=ge.fromString(e,...n);return oH(r),new dt(t,null,new x(r))}{if(!(t instanceof dt||t instanceof ui))throw new b(I.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ge.fromString(e,...n));return oH(r),new dt(t.firestore,t instanceof ui?t.converter:null,new x(r))}}class Ofe{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new NT(this,"async_queue_retry"),this.Xc=()=>{const n=um();n&&S("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=um();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=um();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new Tt;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return g(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(n){if(!Es(n))throw n;S("AsyncQueue","Operation failed with retryable error: "+n)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,ut("INTERNAL UNHANDLED ERROR: ",function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),o}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=n,n}enqueueAfterDelay(e,n,r){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const i=XT.createAndSchedule(this,e,n,r,s=>this.na(s));return this.zc.push(i),i}Zc(){this.Wc&&F()}verifyOperationInProgress(){}sa(){var e=this;return g(function*(){let n;do{n=e.Gc,yield n}while(n!==e.Gc)})()}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}function US(t){return function(e,n){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(t)}class je extends kd{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Ofe,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||dH(this),this._firestoreClient.terminate()}}function Lfe(t,e){const r="string"==typeof t?t:e||"(default)",i=ho("object"==typeof t?t:pp(),"firestore").getImmediate({identifier:r});if(!i._initialized){const s=DF("firestore");s&&function kfe(t,e,n,r={}){var i;const s=(t=fe(t,kd))._getSettings();if("firestore.googleapis.com"!==s.host&&s.host!==e&&Rr("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},s),{host:`${e}:${n}`,ssl:!1})),r.mockUserToken){let o,a;if("string"==typeof r.mockUserToken)o=r.mockUserToken,a=Ft.MOCK_USER;else{o=TF(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new b(I.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new Ft(u)}t._authCredentials=new Rle(new vB(o,a))}}(i,...s)}return i}function _t(t){return t._firestoreClient||dH(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function dH(t){var e,n,r;const i=t._freezeSettings(),s=(a=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new lde(t._databaseId,a,t._persistenceKey,(c=i).host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,iH(c.experimentalLongPollingOptions),c.useFetchStreams));var a,c;t._firestoreClient=new Dfe(t._authCredentials,t._appCheckCredentials,t._queue,s),null!==(n=i.cache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=i.cache)&&void 0!==r&&r._onlineComponentProvider&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}class Ho{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ho(St.fromBase64String(e))}catch(n){throw new b(I.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ho(St.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class ju{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new b(I.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ct(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class pH{constructor(e){this._methodName=e}}class BS{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new b(I.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new b(I.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return J(this._lat,e._lat)||J(this._long,e._long)}}const Ufe=/^__.*__$/;class Bfe{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return null!==this.fieldMask?new Wi(e,this.data,this.fieldMask,n,this.fieldTransforms):new Cu(e,this.data,n,this.fieldTransforms)}}function mH(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw F()}}class ym{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===s&&this.ua(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new ym(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.fa(e),i}da(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return vm(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(mH(this.ca)&&Ufe.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class $fe{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||xd(e)}ya(e,n,r,i=!1){return new ym({ca:e,methodName:n,ga:r,path:ct.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Hu(t){const e=t._freezeSettings(),n=xd(t._databaseId);return new $fe(t._databaseId,!!e.ignoreUndefinedProperties,n)}function $S(t,e,n,r,i,s={}){const o=t.ya(s.merge||s.mergeFields?2:0,e,n,i);HS("Data must be an object, but it was:",o,r);const a=IH(r,o);let u,c;if(s.merge)u=new jn(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const l=[];for(const d of s.mergeFields){const h=Fd(e,d,n);if(!o.contains(h))throw new b(I.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);DH(l,h)||l.push(h)}u=new jn(l),c=o.fieldTransforms.filter(d=>u.covers(d.field))}else u=null,c=o.fieldTransforms;return new Bfe(new Xt(a),u,c)}function Go(t,e){if(EH(t=wn(t)))return HS("Unsupported field value:",e,t),IH(t,e);if(t instanceof pH)return function(n,r){if(!mH(r.ca))throw r._a(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let a=Go(o,r.wa(s));null==a&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if(null===(n=wn(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return h$(r.serializer,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){const i=Xe.fromDate(n);return{timestampValue:Su(r.serializer,i)}}if(n instanceof Xe){const i=new Xe(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Su(r.serializer,i)}}if(n instanceof BS)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Ho)return{bytesValue:k$(r.serializer,n._byteString)};if(n instanceof dt){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r._a(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:oT(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r._a(`Unsupported field value: ${mm(n)}`)}(t,e)}function IH(t,e){const n={};return OB(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ds(t,(r,i)=>{const s=Go(i,e.ha(r));null!=s&&(n[r]=s)}),{mapValue:{fields:n}}}function EH(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Xe||t instanceof BS||t instanceof Ho||t instanceof dt||t instanceof pH)}function HS(t,e,n){if(!EH(n)||"object"!=typeof(r=n)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=mm(n);throw e._a("an object"===r?t+" a custom object":t+" "+r)}var r}function Fd(t,e,n){if((e=wn(e))instanceof ju)return e._internalPath;if("string"==typeof e)return _m(t,e);throw vm("Field path arguments must be of type string or ",t,!1,void 0,n)}const zfe=new RegExp("[~\\*/\\[\\]]");function _m(t,e,n){if(e.search(zfe)>=0)throw vm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ju(...e.split("."))._internalPath}catch{throw vm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function vm(t,e,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new b(I.INVALID_ARGUMENT,a+t+u)}function DH(t,e){return t.some(n=>n.isEqual(e))}class GS{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new dt(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new qfe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(wm("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class qfe extends GS{data(){return super.data()}}function wm(t,e){return"string"==typeof e?_m(t,e):e instanceof ju?e._internalPath:e._delegate._internalPath}class Kfe{convertValue(e,n="none"){switch(Ts(e)){case 0:return null;case 1:return e.booleanValue;case 2:return st(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Gi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw F()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ds(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new BS(st(e.latitude),st(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Pg(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(sd(e));default:return null}}convertTimestamp(e){const n=bs(e);return new Xe(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ge.fromString(e);U(H$(r));const i=new xo(r.get(1),r.get(3)),s=new x(r.popFirst(5));return i.isEqual(n)||ut(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}class zo{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class zu extends GS{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new bm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(wm("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class bm extends zu{data(e={}){return super.data(e)}}class qu{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new zo(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new bm(this._firestore,this._userDataWriter,r.key,r,new zo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new b(I.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>({type:"added",doc:new bm(r._firestore,r._userDataWriter,o.doc.key,o.doc,new zo(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||3!==o.type).map(o=>{const a=new bm(r._firestore,r._userDataWriter,o.doc.key,o.doc,new zo(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let u=-1,c=-1;return 0!==o.type&&(u=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),1!==o.type&&(s=s.add(o.doc),c=s.indexOf(o.doc.key)),{type:Yfe(o.type),doc:a,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Yfe(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return F()}}class Os extends Kfe{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ho(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new dt(this.firestore,null,n)}}function Vd(t,e){return function(n,r){const i=new Tt;return n.asyncQueue.enqueueAndForget(g(function*(){return function rfe(t,e,n){return uS.apply(this,arguments)}(yield function OS(t){return pm(t).then(e=>e.syncEngine)}(n),r,i)})),i.promise}(_t(t),e)}function WS(t,e,n){const r=n.docs.get(e._key),i=new Os(t);return new zu(t,i,e._key,r,new zo(n.hasPendingWrites,n.fromCache),e.converter)}!function(t,e=!0){mu=ds,un(new zt("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new je(new Nle(n.getProvider("auth-internal")),new Ole(n.getProvider("app-check-internal")),function(a,u){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new b(I.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new xo(a.options.projectId,u)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),Ve(_B,"3.12.1",t),Ve(_B,"3.12.1","esm2017")}();var dpe={includeMetadataChanges:!1};function KS(t,e){return void 0===e&&(e=dpe),new Fe(function(n){var r=function Zfe(t,...e){var n,r,i;t=wn(t);let s={includeMetadataChanges:!1},o=0;"object"!=typeof e[o]||US(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(US(e[o])){const d=e[o];e[o]=null===(n=d.next)||void 0===n?void 0:n.bind(d),e[o+1]=null===(r=d.error)||void 0===r?void 0:r.bind(d),e[o+2]=null===(i=d.complete)||void 0===i?void 0:i.bind(d)}let u,c,l;if(t instanceof dt)c=fe(t.firestore,je),l=Eu(t._key.path),u={next:d=>{e[o]&&e[o](WS(c,t,d))},error:e[o+1],complete:e[o+2]};else{const d=fe(t,Jt);c=fe(d.firestore,je),l=d._query;const h=new Os(c);u={next:f=>{e[o]&&e[o](new qu(c,h,d,f))},error:e[o+1],complete:e[o+2]},function bH(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new b(I.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(t._query)}return function(d,h,f,p){const m=new hm(p),y=new rS(h,m,f);return d.asyncQueue.enqueueAndForget(g(function*(){return JT(yield $u(d),y)})),()=>{m.Dc(),d.asyncQueue.enqueueAndForget(g(function*(){return eS(yield $u(d),y)}))}}(_t(c),l,a,u)}(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function _pe(t,e){return void 0===e&&(e={}),function ype(t){return KS(t,{includeMetadataChanges:!0}).pipe(De(function(e){return e.docs}))}(t).pipe(De(function(n){return n.map(function(r){return function NH(t,e){void 0===e&&(e={});var n=t.data();return!t.exists()||"object"!=typeof n||null===n||e.idField&&(n[e.idField]=t.id),n}(r,e)})}))}class Ud{constructor(e){return e}}const FH="firestore",XS=new L("angularfire2.firestore-instances");function Ipe(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new Ud(r)}}const Epe={provide:class vpe{constructor(){return Ep(FH)}},deps:[[new Et,XS]]},Dpe={provide:Ud,useFactory:function wpe(t,e){const n=Ip(FH,t,e);return n&&new Ud(n)},deps:[[new Et,XS],vo]};let bpe=(()=>{class t{constructor(){Ve("angularfire",pl.full,"fst")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=tn({type:t}),t.\u0275inj=$t({providers:[Dpe,Epe]}),t})();function Cpe(t,...e){return{ngModule:bpe,providers:[{provide:XS,useFactory:Ipe(t),multi:!0,deps:[Te,Fn,Dp,bp,[new Et,xC],[new Et,Np],...e]}]}}const LH=nu(_pe,!0),VH=nu(Pfe,!0),Tpe=nu(Lfe,!0);let UH=(()=>{class t{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}}return t.\u0275fac=function(n){return new(n||t)(T(Ii),T(Yn))},t.\u0275dir=Q({type:t}),t})(),qo=(()=>{class t extends UH{}return t.\u0275fac=function(){let e;return function(r){return(e||(e=Gt(t)))(r||t)}}(),t.\u0275dir=Q({type:t,features:[Ce]}),t})();const ci=new L("NgValueAccessor"),Mpe={provide:ci,useExisting:Ne(()=>Bd),multi:!0},Rpe=new L("CompositionEventMode");let Bd=(()=>{class t extends UH{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function xpe(){const t=os()?os().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(n){this.setProperty("value",n??"")}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}}return t.\u0275fac=function(n){return new(n||t)(T(Ii),T(Yn),T(Rpe,8))},t.\u0275dir=Q({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,r){1&n&&yn("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[He([Mpe]),Ce]}),t})();function Fs(t){return null==t||("string"==typeof t||Array.isArray(t))&&0===t.length}function $H(t){return null!=t&&"number"==typeof t.length}const pn=new L("NgValidators"),Ls=new L("NgAsyncValidators"),Npe=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Zt{static min(e){return function jH(t){return e=>{if(Fs(e.value)||Fs(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}(e)}static max(e){return function HH(t){return e=>{if(Fs(e.value)||Fs(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}(e)}static required(e){return function GH(t){return Fs(t.value)?{required:!0}:null}(e)}static requiredTrue(e){return function zH(t){return!0===t.value?null:{required:!0}}(e)}static email(e){return function qH(t){return Fs(t.value)||Npe.test(t.value)?null:{email:!0}}(e)}static minLength(e){return WH(e)}static maxLength(e){return KH(e)}static pattern(e){return function QH(t){if(!t)return Tm;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(Fs(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return t4(e)}static composeAsync(e){return n4(e)}}function WH(t){return e=>Fs(e.value)||!$H(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}function KH(t){return e=>$H(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}function Tm(t){return null}function YH(t){return null!=t}function XH(t){return kc(t)?Mt(t):t}function JH(t){let e={};return t.forEach(n=>{e=null!=n?{...e,...n}:e}),0===Object.keys(e).length?null:e}function ZH(t,e){return e.map(n=>n(t))}function e4(t){return t.map(e=>function kpe(t){return!t.validate}(e)?e:n=>e.validate(n))}function t4(t){if(!t)return null;const e=t.filter(YH);return 0==e.length?null:function(n){return JH(ZH(n,e))}}function JS(t){return null!=t?t4(e4(t)):null}function n4(t){if(!t)return null;const e=t.filter(YH);return 0==e.length?null:function(n){return function Spe(...t){const e=HA(t),{args:n,keys:r}=hO(t),i=new Fe(s=>{const{length:o}=n;if(!o)return void s.complete();const a=new Array(o);let u=o,c=o;for(let l=0;l<o;l++){let d=!1;ir(n[l]).subscribe(At(s,h=>{d||(d=!0,c--),a[l]=h},()=>u--,void 0,()=>{(!u||!d)&&(c||s.next(r?pO(r,a):a),s.complete())}))}});return e?i.pipe(fO(e)):i}(ZH(n,e).map(XH)).pipe(De(JH))}}function ZS(t){return null!=t?n4(e4(t)):null}function r4(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function i4(t){return t._rawValidators}function s4(t){return t._rawAsyncValidators}function eA(t){return t?Array.isArray(t)?t:[t]:[]}function Sm(t,e){return Array.isArray(t)?t.includes(e):t===e}function o4(t,e){const n=eA(e);return eA(t).forEach(i=>{Sm(n,i)||n.push(i)}),n}function a4(t,e){return eA(e).filter(n=>!Sm(t,n))}class u4{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=JS(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=ZS(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return!!this.control&&this.control.hasError(e,n)}getError(e,n){return this.control?this.control.getError(e,n):null}}class Tn extends u4{get formDirective(){return null}get path(){return null}}class Vs extends u4{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class c4{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let tA=(()=>{class t extends c4{constructor(n){super(n)}}return t.\u0275fac=function(n){return new(n||t)(T(Vs,2))},t.\u0275dir=Q({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,r){2&n&&ff("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[Ce]}),t})(),nA=(()=>{class t extends c4{constructor(n){super(n)}}return t.\u0275fac=function(n){return new(n||t)(T(Tn,10))},t.\u0275dir=Q({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(n,r){2&n&&ff("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[Ce]}),t})();const $d="VALID",Mm="INVALID",Wu="PENDING",jd="DISABLED";function sA(t){return(xm(t)?t.validators:t)||null}function oA(t,e){return(xm(e)?e.asyncValidators:t)||null}function xm(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}function d4(t,e,n){const r=t.controls;if(!(e?Object.keys(r):r).length)throw new C(1e3,"");if(!r[n])throw new C(1001,"")}function h4(t,e,n){t._forEachChild((r,i)=>{if(void 0===n[i])throw new C(1002,"")})}class Rm{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===$d}get invalid(){return this.status===Mm}get pending(){return this.status==Wu}get disabled(){return this.status===jd}get enabled(){return this.status!==jd}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(o4(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(o4(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(a4(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(a4(e,this._rawAsyncValidators))}hasValidator(e){return Sm(this._rawValidators,e)}hasAsyncValidator(e){return Sm(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Wu,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=jd,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=$d,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===$d||this.status===Wu)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?jd:$d}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Wu,this._hasOwnPendingAsyncValidator=!0;const n=XH(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent)}get(e){let n=e;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new tt,this.statusChanges=new tt}_calculateStatus(){return this._allControlsDisabled()?jd:this.errors?Mm:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Wu)?Wu:this._anyControlsHaveStatus(Mm)?Mm:$d}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){xm(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function Lpe(t){return Array.isArray(t)?JS(t):t||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function Vpe(t){return Array.isArray(t)?ZS(t):t||null}(this._rawAsyncValidators)}}class Wo extends Rm{constructor(e,n,r){super(sA(n),oA(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){h4(this,0,e),Object.keys(e).forEach(r=>{d4(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>!!r._syncPendingControls()||n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{const r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class f4 extends Wo{}const Ko=new L("CallSetDisabledState",{providedIn:"root",factory:()=>Hd}),Hd="always";function Gd(t,e,n=Hd){aA(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||"always"===n)&&e.valueAccessor.setDisabledState?.(t.disabled),function Bpe(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&p4(t,e)})}(t,e),function jpe(t,e){const n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function $pe(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&p4(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function Upe(t,e){if(e.valueAccessor.setDisabledState){const n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function km(t,e,n=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Om(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function Pm(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function aA(t,e){const n=i4(t);null!==e.validator?t.setValidators(r4(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=s4(t);null!==e.asyncValidator?t.setAsyncValidators(r4(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();Pm(e._rawValidators,i),Pm(e._rawAsyncValidators,i)}function Om(t,e){let n=!1;if(null!==t){if(null!==e.validator){const i=i4(t);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.validator);s.length!==i.length&&(n=!0,t.setValidators(s))}}if(null!==e.asyncValidator){const i=s4(t);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.asyncValidator);s.length!==i.length&&(n=!0,t.setAsyncValidators(s))}}}const r=()=>{};return Pm(e._rawValidators,r),Pm(e._rawAsyncValidators,r),n}function p4(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function y4(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function _4(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const ve=class extends Rm{constructor(e=null,n,r){super(sA(n),oA(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),xm(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=_4(e)?e.value:e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){y4(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){y4(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){_4(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};let hA=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=Q({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})(),b4=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=tn({type:t}),t.\u0275inj=$t({}),t})();const fA=new L("NgModelWithFormControlWarning"),nge={provide:Tn,useExisting:Ne(()=>qd)};let qd=(()=>{class t extends Tn{constructor(n,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new tt,this._setValidators(n),this._setAsyncValidators(r)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Om(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){const r=this.form.get(n.path);return Gd(r,n,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),r}getControl(n){return this.form.get(n.path)}removeControl(n){km(n.control||null,n,!1),function qpe(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,r){this.form.get(n.path).setValue(r)}onSubmit(n){return this.submitted=!0,function m4(t,e){t._syncPendingControls(),e.forEach(n=>{const r=n.control;"submit"===r.updateOn&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(n),"dialog"===n?.target?.method}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submitted=!1}_updateDomValue(){this.directives.forEach(n=>{const r=n.control,i=this.form.get(n.path);r!==i&&(km(r||null,n),(t=>t instanceof ve)(i)&&(Gd(i,n,this.callSetDisabledState),n.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){const r=this.form.get(n.path);(function g4(t,e){aA(t,e)})(r,n),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){const r=this.form.get(n.path);r&&function Hpe(t,e){return Om(t,e)}(r,n)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){aA(this.form,this),this._oldForm&&Om(this._oldForm,this)}_checkFormPresent(){}}return t.\u0275fac=function(n){return new(n||t)(T(pn,10),T(Ls,10),T(Ko,8))},t.\u0275dir=Q({type:t,selectors:[["","formGroup",""]],hostBindings:function(n,r){1&n&&yn("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[He([nge]),Ce,or]}),t})();const sge={provide:Vs,useExisting:Ne(()=>Fm)};let Fm=(()=>{class t extends Vs{set isDisabled(n){}constructor(n,r,i,s,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.name=null,this.update=new tt,this._ngModelWarningSent=!1,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function lA(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===Bd?n=s:function zpe(t){return Object.getPrototypeOf(t.constructor)===qo}(s)?r=s:i=s}),i||r||n||null}(0,s)}ngOnChanges(n){this._added||this._setUpControl(),function cA(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return function Nm(t,e){return[...e.path,t]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return t._ngModelWarningSentOnce=!1,t.\u0275fac=function(n){return new(n||t)(T(Tn,13),T(pn,10),T(Ls,10),T(ci,10),T(fA,8))},t.\u0275dir=Q({type:t,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[He([sge]),Ce,or]}),t})();const oge={provide:ci,useExisting:Ne(()=>Lm),multi:!0};function M4(t,e){return null==t?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let Lm=(()=>{class t extends qo{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;const i=M4(this._getOptionId(n),n);this.setProperty("value",i)}registerOnChange(n){this.onChange=r=>{this.value=this._getOptionValue(r),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),n))return r;return null}_getOptionValue(n){const r=function age(t){return t.split(":")[0]}(n);return this._optionMap.has(r)?this._optionMap.get(r):n}}return t.\u0275fac=function(){let e;return function(r){return(e||(e=Gt(t)))(r||t)}}(),t.\u0275dir=Q({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(n,r){1&n&&yn("change",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[He([oge]),Ce]}),t})(),x4=(()=>{class t{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(n){null!=this._select&&(this._select._optionMap.set(this.id,n),this._setElementValue(M4(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._setElementValue(n),this._select&&this._select.writeValue(this._select.value)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(n){return new(n||t)(T(Yn),T(Ii),T(Lm,9))},t.\u0275dir=Q({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})();const uge={provide:ci,useExisting:Ne(()=>mA),multi:!0};function R4(t,e){return null==t?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let mA=(()=>{class t extends qo{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){let r;if(this.value=n,Array.isArray(n)){const i=n.map(s=>this._getOptionId(s));r=(s,o)=>{s._setSelected(i.indexOf(o.toString())>-1)}}else r=(i,s)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(n){this.onChange=r=>{const i=[],s=r.selectedOptions;if(void 0!==s){const o=s;for(let a=0;a<o.length;a++){const c=this._getOptionValue(o[a].value);i.push(c)}}else{const o=r.options;for(let a=0;a<o.length;a++){const u=o[a];if(u.selected){const c=this._getOptionValue(u.value);i.push(c)}}}this.value=i,n(i)}}_registerOption(n){const r=(this._idCounter++).toString();return this._optionMap.set(r,n),r}_getOptionId(n){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,n))return r;return null}_getOptionValue(n){const r=function cge(t){return t.split(":")[0]}(n);return this._optionMap.has(r)?this._optionMap.get(r)._value:n}}return t.\u0275fac=function(){let e;return function(r){return(e||(e=Gt(t)))(r||t)}}(),t.\u0275dir=Q({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(n,r){1&n&&yn("change",function(s){return r.onChange(s.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[He([uge]),Ce]}),t})(),N4=(()=>{class t{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){null!=this._select&&(this._value=n,this._setElementValue(R4(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(R4(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(n){return new(n||t)(T(Yn),T(Ii),T(mA,9))},t.\u0275dir=Q({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})();function k4(t){return"number"==typeof t?t:parseInt(t,10)}let Qo=(()=>{class t{constructor(){this._validator=Tm}ngOnChanges(n){if(this.inputName in n){const r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Tm,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return null!=n}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=Q({type:t,features:[or]}),t})();const gge={provide:pn,useExisting:Ne(()=>_A),multi:!0};let _A=(()=>{class t extends Qo{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=n=>k4(n),this.createValidator=n=>WH(n)}}return t.\u0275fac=function(){let e;return function(r){return(e||(e=Gt(t)))(r||t)}}(),t.\u0275dir=Q({type:t,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(n,r){2&n&&Hr("minlength",r._enabled?r.minlength:null)},inputs:{minlength:"minlength"},features:[He([gge]),Ce]}),t})();const mge={provide:pn,useExisting:Ne(()=>vA),multi:!0};let vA=(()=>{class t extends Qo{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=n=>k4(n),this.createValidator=n=>KH(n)}}return t.\u0275fac=function(){let e;return function(r){return(e||(e=Gt(t)))(r||t)}}(),t.\u0275dir=Q({type:t,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(n,r){2&n&&Hr("maxlength",r._enabled?r.maxlength:null)},inputs:{maxlength:"maxlength"},features:[He([mge]),Ce]}),t})(),B4=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=tn({type:t}),t.\u0275inj=$t({imports:[b4]}),t})();class $4 extends Rm{constructor(e,n,r){super(sA(n),oA(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,r={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,n={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),n&&(this.controls.splice(i,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){h4(this,0,e),e.forEach((r,i)=>{d4(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((n,r)=>!!r._syncPendingControls()||n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,r)=>{e(n,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function j4(t){return!!t&&(void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn)}let H4=(()=>{class t{constructor(){this.useNonNullable=!1}get nonNullable(){const n=new t;return n.useNonNullable=!0,n}group(n,r=null){const i=this._reduceControls(n);let s={};return j4(r)?s=r:null!==r&&(s.validators=r.validator,s.asyncValidators=r.asyncValidator),new Wo(i,s)}record(n,r=null){const i=this._reduceControls(n);return new f4(i,r)}control(n,r,i){let s={};return this.useNonNullable?(j4(r)?s=r:(s.validators=r,s.asyncValidators=i),new ve(n,{...s,nonNullable:!0})):new ve(n,r,i)}array(n,r,i){const s=n.map(o=>this._createControl(o));return new $4(s,r,i)}_reduceControls(n){const r={};return Object.keys(n).forEach(i=>{r[i]=this._createControl(n[i])}),r}_createControl(n){return n instanceof ve||n instanceof Rm?n:Array.isArray(n)?this.control(n[0],n.length>1?n[1]:null,n.length>2?n[2]:null):this.control(n)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),_ge=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:Ko,useValue:n.callSetDisabledState??Hd}]}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=tn({type:t}),t.\u0275inj=$t({imports:[B4]}),t})(),vge=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:fA,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:Ko,useValue:n.callSetDisabledState??Hd}]}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=tn({type:t}),t.\u0275inj=$t({imports:[B4]}),t})();const wge=[{nombre:"INGRESO",ruta:"ingreso-datos"},{nombre:"TABLA CHANCES",ruta:"tabla-chances"},{nombre:"TABLA LOTERIAS",ruta:"tabla-loterias"}];let Ige=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=Zo({type:t,selectors:[["app-header"]],decls:6,vars:0,consts:[[1,"header","w-100"],[1,"row"],[1,"col-md-1"],[1,"max","max-stats-bars2","fs-35","color-oro"],[1,"col-md-10"]],template:function(n,r){1&n&&(ce(0,"div",0)(1,"div",1)(2,"div",2),Ee(3,"span",3),ue(),Ee(4,"div",4)(5,"div",2),ue()())},styles:[".header[_ngcontent-%COMP%]{background-color:#0006;position:fixed;padding:20px 60px}"]}),t})();function Ege(t,e){1&t&&Ee(0,"app-header")}function Dge(t,e){1&t&&(ce(0,"div",15)(1,"small"),Jn(2,"Ingrese correo"),ue()())}function bge(t,e){1&t&&(ce(0,"div",15)(1,"small"),Jn(2,"Ingrese la clave"),ue()())}function Cge(t,e){1&t&&(ce(0,"div",16)(1,"small"),Jn(2,"Clave o usuario incorrecto"),ue()())}function Tge(t,e){if(1&t){const n=function bN(){return D()}();ce(0,"div",4),Ee(1,"div",5),ce(2,"div",5),Ee(3,"div",6),ce(4,"div",7)(5,"form",8),yn("submit",function(){return function PM(t){return W.lFrame.contextLView=t,t[Je]}(n),function OM(t){return W.lFrame.contextLView=null,t}(bi().enviar())}),ce(6,"div",9),Ee(7,"input",10),Dt(8,Dge,3,0,"div",11),ue(),ce(9,"div",9),Ee(10,"input",12),Dt(11,bge,3,0,"div",11),ue(),ce(12,"button",13),Jn(13,"Ingresar"),ue(),Dt(14,Cge,3,0,"div",14),ue()(),Ee(15,"div",6)(16,"div",6)(17,"div",6),ue(),Ee(18,"div",5),ue()}if(2&t){const n=bi();let r,i;Re(5),Ze("formGroup",n.formIngreso),Re(3),Ze("ngIf",!(null!=(r=n.formIngreso.get("email"))&&r.valid)),Re(3),Ze("ngIf",!(null!=(i=n.formIngreso.get("password"))&&i.valid)),Re(3),Ze("ngIf",!n.errorClave)}}function Sge(t,e){if(1&t&&(ce(0,"div",22)(1,"a",23)(2,"p",24),Jn(3),ue()()()),2&t){const n=e.$implicit;Re(1),_r("href",n.ruta,jh),Re(2),gf(" ",n.nombre," ")}}function Age(t,e){if(1&t&&(ce(0,"div",17),Ee(1,"div",6),ce(2,"div",4),Ee(3,"div",18),ce(4,"div",19)(5,"div",20),Dt(6,Sge,4,2,"div",21),ue(),Ee(7,"div",6)(8,"div",6)(9,"div",6),ue(),Ee(10,"div",18),ue()()),2&t){const n=bi();Re(6),Ze("ngForOf",n.menu)}}let Mge=(()=>{class t{constructor(n,r){this.firestore=n,this.fb=r,this.menu=wge,this.item$=new Fe,this.formIngreso=this.crearFormulario(),this.formGrupos=this.crearFormularioGrupos();const i=VH(this.firestore,"todos-los-grupos");this.item$=LH(i),this.mostrarLogin=!0,this.errorClave=!0}ngOnInit(){this.item$.subscribe({next:r=>{console.log(r,"HABER PUES")}}),Math.floor(9e9*Math.random())}crearFormulario(){return this.fb.group({email:["",[Zt.required]],password:["",[Zt.required]]})}crearFormularioGrupos(){return this.fb.group({grupos:["",[Zt.required]]})}enviar(){"alexuriel.777@gmail.com"===this.formIngreso.value.email&&"Desarrollo2023$"===this.formIngreso.value.password?(this.mostrarLogin=!1,this.errorClave=!0):this.errorClave=!1}enviarGrupos(){}}return t.\u0275fac=function(n){return new(n||t)(T(Ud),T(H4))},t.\u0275cmp=Zo({type:t,selectors:[["app-home"]],decls:4,vars:3,consts:[[1,"bg-dark"],[4,"ngIf"],["class","row",4,"ngIf"],["class","p-5 bg-dark",4,"ngIf"],[1,"row"],[1,"col-md-4"],[1,"espaciado"],[1,"card","p-5","bg-dark","shadow"],[1,"f-merriweather","fs-15","lh-15",3,"formGroup","submit"],[1,"form-group"],["type","email","id","exampleInputEmail1","aria-describedby","emailHelp","formControlName","email","placeholder","Email",1,"form-control"],["class","text-danger font-italic","role","alert",4,"ngIf"],["type","password","id","exampleInputPassword1","formControlName","password","placeholder","Password",1,"form-control"],["type","submit",1,"btn","btn-primary","fondo-oro","borde-oro","w-100","shadow"],["class","color-oro font-italic","role","alert",4,"ngIf"],["role","alert",1,"text-danger","font-italic"],["role","alert",1,"color-oro","font-italic"],[1,"p-5","bg-dark"],[1,"col-md-1"],[1,"col-md-10"],[1,"row","f-shadow-into-l"],["class","col l-menu bg-dark",4,"ngFor","ngForOf"],[1,"col","l-menu","bg-dark"],[3,"href"],[1,"color-oro"]],template:function(n,r){1&n&&(ce(0,"div",0),Dt(1,Ege,1,0,"app-header",1),Dt(2,Tge,19,4,"div",2),Dt(3,Age,11,1,"div",3),ue()),2&n&&(Re(1),Ze("ngIf",!r.mostrarLogin),Re(1),Ze("ngIf",r.mostrarLogin),Re(1),Ze("ngIf",!r.mostrarLogin))},dependencies:[Xv,Jv,Ige,hA,Bd,tA,nA,qd,Fm]}),t})();const en="text-light bg-dark border rounded border-warning pl-2 mt-3 f-merriweather",xge=[{referencia:"Astro Sol",premios:["|500:$14.112.000|*|600:$16.934.400|*|700:$19.756.800|*|800:$22.579.200|*|900:$25.401.600|*|1000:$28.224.000|*|1100:$31.046.400|*|1200:$33.868.800|*|1300:$36.691.200|*|1400:$39.513.600|*|1500:$42.369.600|*|1600:$45.192.000|*|1700:$48.014.400|*|1800:$50.836.800|*|1900:$53.659.200|*|2000:$56.481.600|*|2100:$59.304.000|*|2200:$59.304.000|*|2300:$64.948.800|*|2400:$67.771.200|*|2500:$70.593.600|*|2600:$73.416.000|*|2700:$76.238.400|*|2800:$79.060.800|*|2900:$81.883.200|*|3000:$84.705.600|*|3100:$87.528.000|*|3200:$90.350.400|*|3300:$93.172.800|*|3400:$95.995.200|*|3500:$98.817.600|*|3600:$101.640.000|*|3700:$104.462.400|*|"],grupos:[{campo:"fecha",tipo:"date",ancho:"80",maxlength:"",minlength:"",nombreCampo:"fecha",clase:en},{campo:"sorteo",tipo:"text",ancho:"40",maxlength:"4",minlength:"",nombreCampo:"sorteo",clase:en},{campo:"cifra uno",tipo:"text",ancho:"40",maxlength:"1",minlength:"",nombreCampo:"cifra_1",clase:en},{campo:"cifra dos",tipo:"text",ancho:"40",maxlength:"1",minlength:"",nombreCampo:"cifra_2",clase:en},{campo:"cifra tres",tipo:"text",ancho:"40",maxlength:"1",minlength:"",nombreCampo:"cifra_3",clase:en},{campo:"cifra cuatro",tipo:"text",ancho:"40",maxlength:"1",minlength:"",nombreCampo:"cifra_4",clase:en},{campo:"signo",tipo:"select",ancho:"",maxlength:"",minlength:"",nombreCampo:"signo",clase:en,lista:["acuario","piscis","aries","tauro","g\xe9minis","cancer","leo","virgo","libra","escorpio","sagitario","capricornio"]}],formulario:new Wo({fecha:new ve({value:"",disabled:!1},Zt.required),sorteo:new ve({value:"",disabled:!1},Zt.required),cifra_1:new ve({value:"",disabled:!1},Zt.required),cifra_2:new ve({value:"",disabled:!1},Zt.required),cifra_3:new ve({value:"",disabled:!1},Zt.required),cifra_4:new ve({value:"",disabled:!1},Zt.required),signo:new ve({value:"",disabled:!1},Zt.required)}),titulos:["fecha","sorteo","numero","signo"]},{referencia:"Astro Luna",premios:["|500:$14.112.000|*|600:$16.934.400|*|700:$19.756.800|*|800:$22.579.200|*|900:$25.401.600|*|1000:$28.224.000|*|1100:$31.046.400|*|1200:$33.868.800|*|1300:$36.691.200|*|1400:$39.513.600|*|1500:$42.369.600|*|1600:$45.192.000|*|1700:$48.014.400|*|1800:$50.836.800|*|1900:$53.659.200|*|2000:$56.481.600|*|2100:$59.304.000|*|2200:$59.304.000|*|2300:$64.948.800|*|2400:$67.771.200|*|2500:$70.593.600|*|2600:$73.416.000|*|2700:$76.238.400|*|2800:$79.060.800|*|2900:$81.883.200|*|3000:$84.705.600|*|3100:$87.528.000|*|3200:$90.350.400|*|3300:$93.172.800|*|3400:$95.995.200|*|3500:$98.817.600|*|3600:$101.640.000|*|3700:$104.462.400|*|"],grupos:[{campo:"fecha",tipo:"date",ancho:"80",maxlength:"",minlength:"",nombreCampo:"fecha",clase:en},{campo:"sorteo",tipo:"text",ancho:"40",maxlength:"4",minlength:"",nombreCampo:"sorteo",clase:en},{campo:"cifra uno",tipo:"text",ancho:"40",maxlength:"1",minlength:"",nombreCampo:"cifra_1",clase:en},{campo:"cifra dos",tipo:"text",ancho:"40",maxlength:"1",minlength:"",nombreCampo:"cifra_2",clase:en},{campo:"cifra tres",tipo:"text",ancho:"40",maxlength:"1",minlength:"",nombreCampo:"cifra_3",clase:en},{campo:"cifra cuatro",tipo:"text",ancho:"40",maxlength:"1",minlength:"",nombreCampo:"cifra_4",clase:en},{campo:"signo",tipo:"select",ancho:"",maxlength:"",minlength:"",nombreCampo:"signo",clase:en,lista:["acuario","piscis","aries","tauro","g\xe9minis","cancer","leo","virgo","libra","escorpio","sagitario","capricornio"]}],formulario:new Wo({fecha:new ve({value:"",disabled:!1},Zt.required),sorteo:new ve({value:"",disabled:!1},Zt.required),cifra_1:new ve({value:"",disabled:!1},Zt.required),cifra_2:new ve({value:"",disabled:!1},Zt.required),cifra_3:new ve({value:"",disabled:!1},Zt.required),cifra_4:new ve({value:"",disabled:!1},Zt.required),signo:new ve({value:"",disabled:!1},Zt.required)}),titulos:["fecha","sorteo","numero","signo"]},{referencia:"Chontico",premios:[],titulos:[],grupos:[{campo:"fecha",tipo:"date",ancho:"80",maxlength:"20",minlength:"",nombreCampo:"campo1",clase:en},{campo:"sorteo",tipo:"text",ancho:"",maxlength:"",minlength:"",nombreCampo:"campo2",clase:en},{campo:"uno",tipo:"text",ancho:"",maxlength:"",minlength:"",nombreCampo:"campo3",clase:en}]}];class Rge{constructor(){this.referencia="",this.grupos=[],this.premios=[],this.titulos=[]}}class Nge{constructor(){this.keys=[],this.grupos=[]}}function kge(t,e){if(1&t&&(ce(0,"option",18),Jn(1),ue()),2&t){const n=e.$implicit;_r("value",n.referencia),Re(1),Oa(n.referencia)}}function Pge(t,e){if(1&t&&(ce(0,"div",15),Ee(1,"img",19),ue()),2&t){const n=bi();Re(1),df("src","assets/img/logos/",n.logo,"",jh)}}function Oge(t,e){if(1&t&&Ee(0,"input",23),2&t){const n=bi().$implicit;K_(n.clase),_r("type",n.tipo),_r("maxlength",n.maxlength),_r("minlength",n.minlength),_r("placeholder",n.campo),_r("formControlName",n.nombreCampo)}}function Fge(t,e){if(1&t&&(ce(0,"option",18),Jn(1),ue()),2&t){const n=e.$implicit;_r("value",n),Re(1),Oa(n)}}function Lge(t,e){if(1&t&&(ce(0,"select",24)(1,"option",25),Jn(2,"Seleccione"),ue(),Dt(3,Fge,2,2,"option",10),ue()),2&t){const n=bi().$implicit;K_(n.clase),_r("formControlName",n.nombreCampo),Re(3),Ze("ngForOf",n.lista)}}function Vge(t,e){if(1&t&&(ce(0,"div",20),Dt(1,Oge,1,8,"input",21),Dt(2,Lge,4,5,"select",22),ue()),2&t){const n=e.$implicit;Re(1),Ze("ngIf","text"===n.tipo||"date"===n.tipo),Re(1),Ze("ngIf","select"===n.tipo)}}function Uge(t,e){1&t&&(ce(0,"button",26),Jn(1," Guardar "),ue())}function Bge(t,e){if(1&t&&(ce(0,"th",30)(1,"p",31),Jn(2),ue()()),2&t){const n=e.$implicit;Re(2),Oa(n)}}function $ge(t,e){if(1&t&&(ce(0,"td"),Jn(1),ue()),2&t){const n=e.$implicit;Re(1),Oa(n)}}function jge(t,e){if(1&t&&(ce(0,"tr"),Dt(1,$ge,2,1,"td",29),ue()),2&t){const n=e.$implicit,r=bi(2);Re(1),Ze("ngForOf",r.entregarValor(n))}}function Hge(t,e){if(1&t&&(ce(0,"table",27)(1,"thead")(2,"tr"),Dt(3,Bge,3,1,"th",28),ue()(),ce(4,"tbody"),Dt(5,jge,2,1,"tr",29),ue()()),2&t){const n=bi();Re(3),Ze("ngForOf",n.grupoSeleccionado.titulos),Re(2),Ze("ngForOf",n.elementosTabla.grupos)}}const Gge=[{path:"",pathMatch:"full",redirectTo:"home"},{path:"home",component:Mge},{path:"ingreso-datos",component:(()=>{class t{constructor(n,r){this.fb=n,this.firestore=r,this.chances=xge,this.permitirGuardar=!1,this.formularioSeleccionado=[],this.grupoSeleccionado=new Rge,this.item$=new Fe,this.elementosTabla=new Nge,this.gruposTabla=[],this.retornoGruposTabla=[],this.form=this.crearFormulario(),this.logo=""}ngOnInit(){const n=VH(this.firestore,"todos-los-grupos");this.item$=LH(n)}seleccionarGrupo(n){let r=[];r=this.chances.filter(i=>i.referencia.includes(n.target.value)),this.logo=`${n.target.value.split(" ").join("")}.png`,this.formularioSeleccionado=r[0].grupos,this.grupoSeleccionado=r[0],this.form=r[0].formulario?r[0].formulario:this.crearFormulario(),this.permitirGuardar=!0,this.recargaTabla()}recargaTabla(){let n={f:this.firestore,b:"todos-los-grupos",r:this.grupoSeleccionado.referencia.toLowerCase().split(" ").join("-")};(function Xfe(t){t=fe(t,dt);const e=fe(t.firestore,je);return function nH(t,e,n={}){const r=new Tt;return t.asyncQueue.enqueueAndForget(g(function*(){return function(i,s,o,a,u){const c=new hm({next:d=>{s.enqueueAndForget(()=>eS(i,l));const h=d.docs.has(o);!h&&d.fromCache?u.reject(new b(I.UNAVAILABLE,"Failed to get document because the client is offline.")):h&&d.fromCache&&a&&"server"===a.source?u.reject(new b(I.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(d)},error:d=>u.reject(d)}),l=new rS(Eu(o.path),c,{includeMetadataChanges:!0,Ku:!0});return JT(i,l)}(yield $u(t),t.asyncQueue,e,n,r)})),r.promise}(_t(e),t._key).then(n=>WS(e,t,n))})(VS(n.f,n.b,n.r)).then(s=>{let o=s.data();this.elementosTabla.grupos=this.mapearGruposTablas(Object.values(o)),this.elementosTabla.grupos=this.elementosTabla.grupos.sort((a,u)=>u.sorteo-a.sorteo),this.elementosTabla.keys=Object.keys(this.elementosTabla.grupos[0])})}mapearGruposTablas(n){let r=new Object;return n.forEach((i,s)=>{let o="",a=Object.keys(i).sort(),u=-1;a.forEach((c,l)=>{c.includes("cifra")?o+=i[c]:this.gruposTabla[++u]={[c]:i[c]}}),this.gruposTabla[u+1]={numero:o},r=Object.assign({},...this.gruposTabla),this.retornoGruposTabla[s]=r}),this.retornoGruposTabla}crearFormulario(){return this.fb.group({campo1:new ve({value:"",disabled:!1}),campo2:new ve({value:"",disabled:!1}),campo3:new ve({value:"",disabled:!1}),campo4:new ve({value:"",disabled:!1}),campo5:new ve({value:"",disabled:!1}),campo6:new ve({value:"",disabled:!1}),campo7:new ve({value:"",disabled:!1}),campo8:new ve({value:"",disabled:!1}),campo9:new ve({value:"",disabled:!1}),campo10:new ve({value:"",disabled:!1}),campo11:new ve({value:"",disabled:!1}),campo12:new ve({value:"",disabled:!1})})}guardarSorteo(){(function Jfe(t,e,n){t=fe(t,dt);const r=fe(t.firestore,je),i=function qS(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}(t.converter,e,n);return Vd(r,[$S(Hu(r),"setDoc",t._key,i,null!==t.converter,n).toMutation(t._key,Ge.none())])})(VS(this.firestore,"todos-los-grupos",this.grupoSeleccionado.referencia.toLowerCase().split(" ").join("-")),{[Number(this.form.value.fecha.split("-").join(""))]:this.form.value},{merge:!0}).then(s=>{this.recargaTabla(),this.form.reset()})}entregarValor(n){let r=[];return Object.values(n).forEach((i,s,o)=>{r[s]=n[this.grupoSeleccionado.titulos[s]]}),r}}return t.\u0275fac=function(n){return new(n||t)(T(H4),T(Ud))},t.\u0275cmp=Zo({type:t,selectors:[["app-ingreso-datos"]],decls:31,vars:6,consts:[[1,"bg-dark"],[1,"espacio"],[1,"espaciado"],[1,"row"],[1,"col-md-1"],[1,"col-md-10"],[1,"col-md-4"],[1,"col-md-4","shadow","p-5","f-merriweather"],["name","","id","",1,"w-100",3,"change"],["value","default"],[3,"value",4,"ngFor","ngForOf"],["class","text-center",4,"ngIf"],["action","",1,"shadow","p-5",3,"formGroup","submit"],[1,"row","text-center"],["class","col",4,"ngFor","ngForOf"],[1,"text-center"],["type","submit","class","mt-5 btn btn-info fondo-oro borde-oro shadow","style","width: 150px;",4,"ngIf"],["class","table table-dark shadow table-sm f-merriweather",4,"ngIf"],[3,"value"],["alt","","height","50","width","auto",1,"drop",3,"src"],[1,"col"],[3,"type","maxlength","minlength","placeholder","class","formControlName",4,"ngIf"],["name","","id","",3,"formControlName","class",4,"ngIf"],[3,"type","maxlength","minlength","placeholder","formControlName"],["name","","id","",3,"formControlName"],["value","defecto"],["type","submit",1,"mt-5","btn","btn-info","fondo-oro","borde-oro","shadow",2,"width","150px"],[1,"table","table-dark","shadow","table-sm","f-merriweather"],["scope","col",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],["scope","col"],[1,"text-uppercase"]],template:function(n,r){1&n&&(ce(0,"div",0),Ee(1,"div",1)(2,"div",2),ce(3,"div",3),Ee(4,"div",4),ce(5,"div",5)(6,"div",3),Ee(7,"div",6),ce(8,"div",7)(9,"select",8),yn("change",function(s){return r.seleccionarGrupo(s)}),ce(10,"option",9),Jn(11,"---"),ue(),Dt(12,kge,2,2,"option",10),ue()(),Ee(13,"div",6),ue(),Ee(14,"div",1),Dt(15,Pge,2,1,"div",11),Ee(16,"div",1),ce(17,"form",12),yn("submit",function(){return r.guardarSorteo()}),ce(18,"div",13),Dt(19,Vge,3,2,"div",14),ue(),ce(20,"div",15),Dt(21,Uge,2,0,"button",16),ue()()(),Ee(22,"div",4),ue(),Ee(23,"div",2),ce(24,"div",3),Ee(25,"div",4),ce(26,"div",5),Dt(27,Hge,6,2,"table",17),ue(),Ee(28,"div",4),ue(),Ee(29,"div",2)(30,"div",2),ue()),2&n&&(Re(12),Ze("ngForOf",r.chances),Re(3),Ze("ngIf",r.logo),Re(2),Ze("formGroup",r.form),Re(2),Ze("ngForOf",r.formularioSeleccionado),Re(2),Ze("ngIf",r.form.valid&&r.permitirGuardar),Re(6),Ze("ngIf",r.elementosTabla.keys))},dependencies:[Xv,Jv,hA,x4,N4,Bd,Lm,tA,nA,_A,vA,qd,Fm]}),t})()}],zge_firebase={projectId:"estadistica-e5eeb",appId:"1:64729521444:web:14775deeb53cf35772e7b1",databaseURL:"https://estadistica-e5eeb.firebaseio.com",storageBucket:"estadistica-e5eeb.appspot.com",locationId:"southamerica-east1",apiKey:"AIzaSyCSZ_jjFVuKWQV-MN1y11Jns6LKLX6vtA4",authDomain:"estadistica-e5eeb.firebaseapp.com",messagingSenderId:"64729521444"};let qge=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=tn({type:t}),t.\u0275inj=$t({imports:[$P]}),t})(),Wge=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=tn({type:t,bootstrap:[pZ]}),t.\u0275inj=$t({imports:[MY,Bw.forRoot(Gge),fZ,qge,uie(()=>cie(zge_firebase)),Cpe(()=>Tpe()),Hae(()=>Gae()),Ice(()=>Ece()),_ge,vge]}),t})();SY().bootstrapModule(Wge).catch(t=>console.error(t))}},xe=>{xe(xe.s=696)}]);