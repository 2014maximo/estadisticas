"use strict";(self.webpackChunkestadisticas=self.webpackChunkestadisticas||[]).push([[179],{168:()=>{function Pe(t){return"function"==typeof t}function Zu(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const Yd=Zu(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function ea(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class Wn{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const o of n)o.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(Pe(r))try{r()}catch(o){e=o instanceof Yd?o.errors:[o]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const o of i)try{NA(o)}catch(s){e=e??[],s instanceof Yd?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Yd(e)}}add(e){var n;if(e&&e!==this)if(this.closed)NA(e);else{if(e instanceof Wn){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&ea(n,e)}remove(e){const{_finalizers:n}=this;n&&ea(n,e),e instanceof Wn&&e._removeParent(this)}}Wn.EMPTY=(()=>{const t=new Wn;return t.closed=!0,t})();const MA=Wn.EMPTY;function RA(t){return t instanceof Wn||t&&"closed"in t&&Pe(t.remove)&&Pe(t.add)&&Pe(t.unsubscribe)}function NA(t){Pe(t)?t():t.unsubscribe()}const Ho={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Xd={setTimeout(t,e,...n){const{delegate:r}=Xd;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=Xd;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function kA(t){Xd.setTimeout(()=>{const{onUnhandledError:e}=Ho;if(!e)throw t;e(t)})}function PA(){}const Q4=Km("C",void 0,void 0);function Km(t,e,n){return{kind:t,value:e,error:n}}let Go=null;function Jd(t){if(Ho.useDeprecatedSynchronousErrorHandling){const e=!Go;if(e&&(Go={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=Go;if(Go=null,n)throw r}}else t()}class Qm extends Wn{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,RA(e)&&e.add(this)):this.destination=nG}static create(e,n,r){return new ec(e,n,r)}next(e){this.isStopped?Xm(function X4(t){return Km("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?Xm(function Y4(t){return Km("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Xm(Q4,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Z4=Function.prototype.bind;function Ym(t,e){return Z4.call(t,e)}class eG{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Zd(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Zd(r)}else Zd(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Zd(n)}}}class ec extends Qm{constructor(e,n,r){let i;if(super(),Pe(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&Ho.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Ym(e.next,o),error:e.error&&Ym(e.error,o),complete:e.complete&&Ym(e.complete,o)}):i=e}this.destination=new eG(i)}}function Zd(t){Ho.useDeprecatedSynchronousErrorHandling?function J4(t){Ho.useDeprecatedSynchronousErrorHandling&&Go&&(Go.errorThrown=!0,Go.error=t)}(t):kA(t)}function Xm(t,e){const{onStoppedNotification:n}=Ho;n&&Xd.setTimeout(()=>n(t,e))}const nG={closed:!0,next:PA,error:function tG(t){throw t},complete:PA},Jm="function"==typeof Symbol&&Symbol.observable||"@@observable";function zo(t){return t}function OA(t){return 0===t.length?zo:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}let Ue=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const o=function oG(t){return t&&t instanceof Qm||function iG(t){return t&&Pe(t.next)&&Pe(t.error)&&Pe(t.complete)}(t)&&RA(t)}(n)?n:new ec(n,r,i);return Jd(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=FA(r))((i,o)=>{const s=new ec({next:a=>{try{n(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[Jm](){return this}pipe(...n){return OA(n)(this)}toPromise(n){return new(n=FA(n))((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function FA(t){var e;return null!==(e=t??Ho.Promise)&&void 0!==e?e:Promise}const sG=Zu(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let pi=(()=>{class t extends Ue{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new LA(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new sG}next(n){Jd(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){Jd(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Jd(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:o}=this;return r||i?MA:(this.currentObservers=null,o.push(n),new Wn(()=>{this.currentObservers=null,ea(o,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){const n=new Ue;return n.source=this,n}}return t.create=(e,n)=>new LA(e,n),t})();class LA extends pi{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:MA}}function VA(t){return Pe(t?.lift)}function $t(t){return e=>{if(VA(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Mt(t,e,n,r,i){return new aG(t,e,n,r,i)}class aG extends Qm{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function Se(t,e){return $t((n,r)=>{let i=0;n.subscribe(Mt(r,o=>{r.next(t.call(e,o,i++))}))})}function ty(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function Zi(t){return this instanceof Zi?(this.v=t,this):new Zi(t)}function jA(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function ry(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,u){!function i(o,s,a,u){Promise.resolve(u).then(function(c){o({value:c,done:a})},s)}(a,u,(s=t[o](s)).done,s.value)})}}}const HA=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function GA(t){return Pe(t?.then)}function zA(t){return Pe(t[Jm])}function qA(t){return Symbol.asyncIterator&&Pe(t?.[Symbol.asyncIterator])}function WA(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const KA=function CG(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function QA(t){return Pe(t?.[KA])}function YA(t){return function $A(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(h){r[h]&&(i[h]=function(f){return new Promise(function(p,m){o.push([h,f,p,m])>1||a(h,f)})})}function a(h,f){try{!function u(h){h.value instanceof Zi?Promise.resolve(h.value.v).then(c,l):d(o[0][2],h)}(r[h](f))}catch(p){d(o[0][3],p)}}function c(h){a("next",h)}function l(h){a("throw",h)}function d(h,f){h(f),o.shift(),o.length&&a(o[0][0],o[0][1])}}(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield Zi(n.read());if(i)return yield Zi(void 0);yield yield Zi(r)}}finally{n.releaseLock()}})}function XA(t){return Pe(t?.getReader)}function ar(t){if(t instanceof Ue)return t;if(null!=t){if(zA(t))return function TG(t){return new Ue(e=>{const n=t[Jm]();if(Pe(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(HA(t))return function SG(t){return new Ue(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(GA(t))return function AG(t){return new Ue(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,kA)})}(t);if(qA(t))return JA(t);if(QA(t))return function xG(t){return new Ue(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(XA(t))return function MG(t){return JA(YA(t))}(t)}throw WA(t)}function JA(t){return new Ue(e=>{(function RG(t,e){var n,r,i,o;return function UA(t,e,n,r){return new(n||(n=Promise))(function(o,s){function a(l){try{c(r.next(l))}catch(d){s(d)}}function u(l){try{c(r.throw(l))}catch(d){s(d)}}function c(l){l.done?o(l.value):function i(o){return o instanceof n?o:new n(function(s){s(o)})}(l.value).then(a,u)}c((r=r.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=jA(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function gi(t,e,n,r=0,i=!1){const o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function jt(t,e,n=1/0){return Pe(e)?jt((r,i)=>Se((o,s)=>e(r,o,i,s))(ar(t(r,i))),n):("number"==typeof e&&(n=e),$t((r,i)=>function NG(t,e,n,r,i,o,s,a){const u=[];let c=0,l=0,d=!1;const h=()=>{d&&!u.length&&!c&&e.complete()},f=m=>c<r?p(m):u.push(m),p=m=>{o&&e.next(m),c++;let y=!1;ar(n(m,l++)).subscribe(Mt(e,v=>{i?.(v),o?f(v):e.next(v)},()=>{y=!0},void 0,()=>{if(y)try{for(c--;u.length&&c<r;){const v=u.shift();s?gi(e,s,()=>p(v)):p(v)}h()}catch(v){e.error(v)}}))};return t.subscribe(Mt(e,f,()=>{d=!0,h()})),()=>{a?.()}}(r,i,t,n)))}function ta(t=1/0){return jt(zo,t)}const Or=new Ue(t=>t.complete());function iy(t){return t[t.length-1]}function ZA(t){return Pe(iy(t))?t.pop():void 0}function tc(t){return function PG(t){return t&&Pe(t.schedule)}(iy(t))?t.pop():void 0}function eh(t,e=0){return $t((n,r)=>{n.subscribe(Mt(r,i=>gi(r,t,()=>r.next(i),e),()=>gi(r,t,()=>r.complete(),e),i=>gi(r,t,()=>r.error(i),e)))})}function th(t,e=0){return $t((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function e1(t,e){if(!t)throw new Error("Iterable cannot be null");return new Ue(n=>{gi(n,e,()=>{const r=t[Symbol.asyncIterator]();gi(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function Rt(t,e){return e?function $G(t,e){if(null!=t){if(zA(t))return function FG(t,e){return ar(t).pipe(th(e),eh(e))}(t,e);if(HA(t))return function VG(t,e){return new Ue(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(GA(t))return function LG(t,e){return ar(t).pipe(th(e),eh(e))}(t,e);if(qA(t))return e1(t,e);if(QA(t))return function UG(t,e){return new Ue(n=>{let r;return gi(n,e,()=>{r=t[KA](),gi(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){return void n.error(s)}o?n.complete():n.next(i)},0,!0)}),()=>Pe(r?.return)&&r.return()})}(t,e);if(XA(t))return function BG(t,e){return e1(YA(t),e)}(t,e)}throw WA(t)}(t,e):ar(t)}function oy(t,e,...n){if(!0===e)return void t();if(!1===e)return;const r=new ec({next:()=>{r.unsubscribe(),t()}});return ar(e(...n)).subscribe(r)}function Ae(t){for(let e in t)if(t[e]===Ae)return e;throw Error("Could not find renamed property on target object.")}function sy(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Et(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Et).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function ay(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const GG=Ae({__forward_ref__:Ae});function Oe(t){return t.__forward_ref__=Oe,t.toString=function(){return Et(this())},t}function te(t){return uy(t)?t():t}function uy(t){return"function"==typeof t&&t.hasOwnProperty(GG)&&t.__forward_ref__===Oe}function cy(t){return t&&!!t.\u0275providers}const t1="https://g.co/ng/security#xss";class T extends Error{constructor(e,n){super(function nh(t,e){return`NG0${Math.abs(t)}${e?": "+e:""}`}(e,n)),this.code=e}}function re(t){return"string"==typeof t?t:null==t?"":String(t)}function rh(t,e){throw new T(-201,!1)}function ur(t,e){null==t&&function Ce(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function q(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Ht(t){return{providers:t.providers||[],imports:t.imports||[]}}function ih(t){return n1(t,oh)||n1(t,i1)}function n1(t,e){return t.hasOwnProperty(e)?t[e]:null}function r1(t){return t&&(t.hasOwnProperty(ly)||t.hasOwnProperty(JG))?t[ly]:null}const oh=Ae({\u0275prov:Ae}),ly=Ae({\u0275inj:Ae}),i1=Ae({ngInjectableDef:Ae}),JG=Ae({ngInjectorDef:Ae});var W=(()=>((W=W||{})[W.Default=0]="Default",W[W.Host=1]="Host",W[W.Self=2]="Self",W[W.SkipSelf=4]="SkipSelf",W[W.Optional=8]="Optional",W))();let dy;function Rn(t){const e=dy;return dy=t,e}function s1(t,e,n){const r=ih(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&W.Optional?null:void 0!==e?e:void rh(Et(t))}const Fe=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),nc={},hy="__NG_DI_FLAG__",sh="ngTempTokenPath",e3=/\n/gm,a1="__source";let na;function to(t){const e=na;return na=t,e}function r3(t,e=W.Default){if(void 0===na)throw new T(-203,!1);return null===na?s1(t,void 0,e):na.get(t,e&W.Optional?null:void 0,e)}function z(t,e=W.Default){return(function o1(){return dy}()||r3)(te(t),e)}function B(t,e=W.Default){return z(t,ah(e))}function ah(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function fy(t){const e=[];for(let n=0;n<t.length;n++){const r=te(t[n]);if(Array.isArray(r)){if(0===r.length)throw new T(900,!1);let i,o=W.Default;for(let s=0;s<r.length;s++){const a=r[s],u=i3(a);"number"==typeof u?-1===u?i=a.token:o|=u:i=a}e.push(z(i,o))}else e.push(z(r))}return e}function rc(t,e){return t[hy]=e,t.prototype[hy]=e,t}function i3(t){return t[hy]}function mi(t){return{toString:t}.toString()}var Fr=(()=>((Fr=Fr||{})[Fr.OnPush=0]="OnPush",Fr[Fr.Default=1]="Default",Fr))(),Qn=(()=>{return(t=Qn||(Qn={}))[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",Qn;var t})();const yi={},Ee=[],uh=Ae({\u0275cmp:Ae}),py=Ae({\u0275dir:Ae}),gy=Ae({\u0275pipe:Ae}),c1=Ae({\u0275mod:Ae}),_i=Ae({\u0275fac:Ae}),ic=Ae({__NG_ELEMENT_ID__:Ae}),l1=Ae({__NG_ENV_ID__:Ae});function d1(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function my(t,e,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{const o=i,s=n[++r];f1(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function h1(t){return 3===t||4===t||6===t}function f1(t){return 64===t.charCodeAt(0)}function oc(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||p1(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function p1(t,e,n,r,i){let o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){const a=t[o++];if("number"==typeof a){if(a===e){s=-1;break}if(a>e){s=o-1;break}}}for(;o<t.length;){const a=t[o];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}const g1="ng-template";function a3(t,e,n){let r=0,i=!0;for(;r<t.length;){let o=t[r++];if("string"==typeof o&&i){const s=t[r++];if(n&&"class"===o&&-1!==d1(s.toLowerCase(),e,0))return!0}else{if(1===o){for(;r<t.length&&"string"==typeof(o=t[r++]);)if(o.toLowerCase()===e)return!0;return!1}"number"==typeof o&&(i=!1)}}return!1}function m1(t){return 4===t.type&&t.value!==g1}function u3(t,e,n){return e===(4!==t.type||n?t.value:g1)}function c3(t,e,n){let r=4;const i=t.attrs||[],o=function h3(t){for(let e=0;e<t.length;e++)if(h1(t[e]))return e;return t.length}(i);let s=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!s)if(4&r){if(r=2|1&r,""!==u&&!u3(t,u,n)||""===u&&1===e.length){if(yr(r))return!1;s=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!a3(t.attrs,c,n)){if(yr(r))return!1;s=!0}continue}const d=l3(8&r?"class":u,i,m1(t),n);if(-1===d){if(yr(r))return!1;s=!0;continue}if(""!==c){let h;h=d>o?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==d1(f,c,0)||2&r&&c!==h){if(yr(r))return!1;s=!0}}}}else{if(!s&&!yr(r)&&!yr(u))return!1;if(s&&yr(u))continue;s=!1,r=u|1&r}}return yr(r)||s}function yr(t){return 0==(1&t)}function l3(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){const s=e[i];if(s===t)return i;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===s)break;if(0===s){i+=4;continue}}i+=o?1:2}return-1}return function f3(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function y1(t,e,n=!1){for(let r=0;r<e.length;r++)if(c3(t,e[r],n))return!0;return!1}function _1(t,e){return t?":not("+e.trim()+")":e}function g3(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&r){const a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""!==i&&!yr(s)&&(e+=_1(o,i),i=""),r=s,o=o||!yr(r);n++}return""!==i&&(e+=_1(o,i)),e}function Lr(t){return mi(()=>{const e=w1(t),n={...e,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Fr.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,data:t.data||{},encapsulation:t.encapsulation||Qn.Emulated,styles:t.styles||Ee,_:null,schemas:t.schemas||null,tView:null,id:""};I1(n);const r=t.dependencies;return n.directiveDefs=ch(r,!1),n.pipeDefs=ch(r,!0),n.id=function D3(t){let e=0;const n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(n),n})}function v3(t){return De(t)||on(t)}function w3(t){return null!==t}function rn(t){return mi(()=>({type:t.type,bootstrap:t.bootstrap||Ee,declarations:t.declarations||Ee,imports:t.imports||Ee,exports:t.exports||Ee,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function v1(t,e){if(null==t)return yi;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}function Z(t){return mi(()=>{const e=w1(t);return I1(e),e})}function De(t){return t[uh]||null}function on(t){return t[py]||null}function kn(t){return t[gy]||null}function Yn(t,e){const n=t[c1]||null;if(!n&&!0===e)throw new Error(`Type ${Et(t)} does not have '\u0275mod' property.`);return n}function w1(t){const e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,exportAs:t.exportAs||null,standalone:!0===t.standalone,selectors:t.selectors||Ee,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:v1(t.inputs,e),outputs:v1(t.outputs)}}function I1(t){t.features?.forEach(e=>e(t))}function ch(t,e){if(!t)return null;const n=e?kn:v3;return()=>("function"==typeof t?t():t).map(r=>n(r)).filter(w3)}const Dt=0,O=1,ue=2,Qe=3,_r=4,qo=5,sn=6,ia=7,tt=8,oa=9,Wo=10,se=11,sc=12,E1=13,sa=14,pt=15,ac=16,aa=17,Vr=18,uc=19,D1=20,no=21,vi=22,lh=23,dh=24,pe=25,yy=1,b1=2,Ur=7,hh=8,ua=9,Gt=11;function Xn(t){return Array.isArray(t)&&"object"==typeof t[yy]}function Pn(t){return Array.isArray(t)&&!0===t[yy]}function _y(t){return 0!=(4&t.flags)}function Ko(t){return t.componentOffset>-1}function fh(t){return 1==(1&t.flags)}function vr(t){return!!t.template}function vy(t){return 0!=(512&t[ue])}function Qo(t,e){return t.hasOwnProperty(_i)?t[_i]:null}let A3=Fe.WeakRef??class S3{constructor(e){this.ref=e}deref(){return this.ref}},M3=0,Br=null,ph=!1;function Nt(t){const e=Br;return Br=t,e}class x1{constructor(){this.id=M3++,this.ref=function x3(t){return new A3(t)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[e,n]of this.producers){const r=n.producerNode.deref();if(void 0!==r&&n.atTrackingVersion===this.trackingVersion){if(r.producerPollStatus(n.seenValueVersion))return!0}else this.producers.delete(e),r?.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const e=ph;ph=!0;try{for(const[n,r]of this.consumers){const i=r.consumerNode.deref();void 0!==i&&i.trackingVersion===r.atTrackingVersion?i.onConsumerDependencyMayHaveChanged():(this.consumers.delete(n),i?.producers.delete(this.id))}}finally{ph=e}}producerAccessed(){if(ph)throw new Error("");if(null===Br)return;let e=Br.producers.get(this.id);void 0===e?(e={consumerNode:Br.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:Br.trackingVersion},Br.producers.set(this.id,e),this.consumers.set(Br.id,e)):(e.seenValueVersion=this.valueVersion,e.atTrackingVersion=Br.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){return!1!==Br?.consumerAllowSignalWrites}producerPollStatus(e){return this.valueVersion!==e||(this.onProducerUpdateValueVersion(),this.valueVersion!==e)}}let M1=null;const R1=()=>{};class P3 extends x1{constructor(e,n,r){super(),this.watch=e,this.schedule=n,this.dirty=!1,this.cleanupFn=R1,this.registerOnCleanup=i=>{this.cleanupFn=i},this.consumerAllowSignalWrites=r}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const e=Nt(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=R1,this.watch(this.registerOnCleanup)}finally{Nt(e)}}cleanup(){this.cleanupFn()}}class O3{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function cr(){return N1}function N1(t){return t.type.prototype.ngOnChanges&&(t.setInput=L3),F3}function F3(){const t=P1(this),e=t?.current;if(e){const n=t.previous;if(n===yi)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function L3(t,e,n,r){const i=this.declaredInputs[n],o=P1(t)||function V3(t,e){return t[k1]=e}(t,{previous:yi,current:null}),s=o.current||(o.current={}),a=o.previous,u=a[i];s[i]=new O3(u&&u.currentValue,e,a===yi),t[r]=e}cr.ngInherit=!0;const k1="__ngSimpleChanges__";function P1(t){return t[k1]||null}const $r=function(t,e,n){};function Be(t){for(;Array.isArray(t);)t=t[Dt];return t}function yh(t,e){return Be(e[t])}function On(t,e){return Be(e[t.index])}function L1(t,e){return t.data[e]}function Fn(t,e){const n=e[t];return Xn(n)?n:n[Dt]}function _h(t){return 128==(128&t[ue])}function ro(t,e){return null==e?null:t[e]}function V1(t){t[aa]=0}function G3(t){1024&t[ue]||(t[ue]|=1024,B1(t,1))}function U1(t){1024&t[ue]&&(t[ue]&=-1025,B1(t,-1))}function B1(t,e){let n=t[Qe];if(null===n)return;n[qo]+=e;let r=n;for(n=n[Qe];null!==n&&(1===e&&1===r[qo]||-1===e&&0===r[qo]);)n[qo]+=e,r=n,n=n[Qe]}const X={lFrame:X1(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function H1(){return X.bindingsEnabled}function D(){return X.lFrame.lView}function _e(){return X.lFrame.tView}function vh(t){return X.lFrame.contextLView=t,t[tt]}function wh(t){return X.lFrame.contextLView=null,t}function zt(){let t=G1();for(;null!==t&&64===t.type;)t=t.parent;return t}function G1(){return X.lFrame.currentTNode}function jr(t,e){const n=X.lFrame;n.currentTNode=t,n.isParent=e}function Cy(){return X.lFrame.isParent}function wi(){return X.lFrame.bindingIndex}function da(){return X.lFrame.bindingIndex++}function Ii(t){const e=X.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function nz(t,e){const n=X.lFrame;n.bindingIndex=n.bindingRootIndex=t,Sy(e)}function Sy(t){X.lFrame.currentDirectiveIndex=t}function xy(t){X.lFrame.currentQueryIndex=t}function iz(t){const e=t[O];return 2===e.type?e.declTNode:1===e.type?t[sn]:null}function Q1(t,e,n){if(n&W.SkipSelf){let i=e,o=t;for(;!(i=i.parent,null!==i||n&W.Host||(i=iz(o),null===i||(o=o[sa],10&i.type))););if(null===i)return!1;e=i,t=o}const r=X.lFrame=Y1();return r.currentTNode=e,r.lView=t,!0}function My(t){const e=Y1(),n=t[O];X.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function Y1(){const t=X.lFrame,e=null===t?null:t.child;return null===e?X1(t):e}function X1(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function J1(){const t=X.lFrame;return X.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Z1=J1;function Ry(){const t=J1();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function vn(){return X.lFrame.selectedIndex}function Yo(t){X.lFrame.selectedIndex=t}function Ye(){const t=X.lFrame;return L1(t.tView,t.selectedIndex)}let tx=!0;function Ih(){return tx}function io(t){tx=t}function Eh(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:c,ngOnDestroy:l}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),c&&((t.viewHooks??=[]).push(n,c),(t.viewCheckHooks??=[]).push(n,c)),null!=l&&(t.destroyHooks??=[]).push(n,l)}}function Dh(t,e,n){nx(t,e,3,n)}function bh(t,e,n,r){(3&t[ue])===n&&nx(t,e,n,r)}function Ny(t,e){let n=t[ue];(3&n)===e&&(n&=4095,n+=1,t[ue]=n)}function nx(t,e,n,r){const o=r??-1,s=e.length-1;let a=0;for(let u=void 0!==r?65535&t[aa]:0;u<s;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(t[aa]+=65536),(a<o||-1==o)&&(hz(t,n,e,u),t[aa]=(4294901760&t[aa])+u+2),u++}function rx(t,e){$r(4,t,e);const n=Nt(null);try{e.call(t)}finally{Nt(n),$r(5,t,e)}}function hz(t,e,n,r){const i=n[r]<0,o=n[r+1],a=t[i?-n[r]:n[r]];i?t[ue]>>12<t[aa]>>16&&(3&t[ue])===e&&(t[ue]+=4096,rx(a,o)):rx(a,o)}const ha=-1;class dc{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function ix(t){return t!==ha}function Ch(t){return 32767&t}function Th(t,e){let n=function mz(t){return t>>16}(t),r=e;for(;n>0;)r=r[sa],n--;return r}let Py=!0;function Sh(t){const e=Py;return Py=t,e}const ox=255,sx=5;let yz=0;const Hr={};function Ah(t,e){const n=ax(t,e);if(-1!==n)return n;const r=e[O];r.firstCreatePass&&(t.injectorIndex=e.length,Oy(r.data,t),Oy(e,null),Oy(r.blueprint,null));const i=Fy(t,e),o=t.injectorIndex;if(ix(i)){const s=Ch(i),a=Th(i,e),u=a[O].data;for(let c=0;c<8;c++)e[o+c]=a[s+c]|u[s+c]}return e[o+8]=i,o}function Oy(t,e){t.push(0,0,0,0,0,0,0,0,e)}function ax(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Fy(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){if(r=px(i),null===r)return ha;if(n++,i=i[sa],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return ha}function Ly(t,e,n){!function _z(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(ic)&&(r=n[ic]),null==r&&(r=n[ic]=yz++);const i=r&ox;e.data[t+(i>>sx)]|=1<<i}(t,e,n)}function ux(t,e,n){if(n&W.Optional||void 0!==t)return t;rh()}function cx(t,e,n,r){if(n&W.Optional&&void 0===r&&(r=null),!(n&(W.Self|W.Host))){const i=t[oa],o=Rn(void 0);try{return i?i.get(e,r,n&W.Optional):s1(e,r,n&W.Optional)}finally{Rn(o)}}return ux(r,0,n)}function lx(t,e,n,r=W.Default,i){if(null!==t){if(2048&e[ue]&&!(r&W.Self)){const s=function Dz(t,e,n,r,i){let o=t,s=e;for(;null!==o&&null!==s&&2048&s[ue]&&!(512&s[ue]);){const a=dx(o,s,n,r|W.Self,Hr);if(a!==Hr)return a;let u=o.parent;if(!u){const c=s[D1];if(c){const l=c.get(n,Hr,r);if(l!==Hr)return l}u=px(s),s=s[sa]}o=u}return i}(t,e,n,r,Hr);if(s!==Hr)return s}const o=dx(t,e,n,r,Hr);if(o!==Hr)return o}return cx(e,n,r,i)}function dx(t,e,n,r,i){const o=function Iz(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(ic)?t[ic]:void 0;return"number"==typeof e?e>=0?e&ox:Ez:e}(n);if("function"==typeof o){if(!Q1(e,t,r))return r&W.Host?ux(i,0,r):cx(e,n,r,i);try{const s=o(r);if(null!=s||r&W.Optional)return s;rh()}finally{Z1()}}else if("number"==typeof o){let s=null,a=ax(t,e),u=ha,c=r&W.Host?e[pt][sn]:null;for((-1===a||r&W.SkipSelf)&&(u=-1===a?Fy(t,e):e[a+8],u!==ha&&fx(r,!1)?(s=e[O],a=Ch(u),e=Th(u,e)):a=-1);-1!==a;){const l=e[O];if(hx(o,a,l.data)){const d=wz(a,e,n,s,r,c);if(d!==Hr)return d}u=e[a+8],u!==ha&&fx(r,e[O].data[a+8]===c)&&hx(o,a,e)?(s=l,a=Ch(u),e=Th(u,e)):a=-1}}return i}function wz(t,e,n,r,i,o){const s=e[O],a=s.data[t+8],l=function xh(t,e,n,r,i){const o=t.providerIndexes,s=e.data,a=1048575&o,u=t.directiveStart,l=o>>20,h=i?a+l:t.directiveEnd;for(let f=r?a:a+l;f<h;f++){const p=s[f];if(f<u&&n===p||f>=u&&p.type===n)return f}if(i){const f=s[u];if(f&&vr(f)&&f.type===n)return u}return null}(a,s,n,null==r?Ko(a)&&Py:r!=s&&0!=(3&a.type),i&W.Host&&o===a);return null!==l?Xo(e,s,l,a):Hr}function Xo(t,e,n,r){let i=t[n];const o=e.data;if(function fz(t){return t instanceof dc}(i)){const s=i;s.resolving&&function zG(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new T(-200,`Circular dependency in DI detected for ${t}${n}`)}(function be(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():re(t)}(o[n]));const a=Sh(s.canSeeViewProviders);s.resolving=!0;const u=s.injectImpl?Rn(s.injectImpl):null;Q1(t,r,W.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function dz(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const s=N1(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}(n,o[n],e)}finally{null!==u&&Rn(u),Sh(a),s.resolving=!1,Z1()}}return i}function hx(t,e,n){return!!(n[e+(t>>sx)]&1<<t)}function fx(t,e){return!(t&W.Self||t&W.Host&&e)}class fa{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return lx(this._tNode,this._lView,e,ah(r),n)}}function Ez(){return new fa(zt(),D())}function qt(t){return mi(()=>{const e=t.prototype.constructor,n=e[_i]||Vy(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const o=i[_i]||Vy(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Vy(t){return uy(t)?()=>{const e=Vy(te(t));return e&&e()}:Qo(t)}function px(t){const e=t[O],n=e.type;return 2===n?e.declTNode:1===n?t[sn]:null}const ga="__parameters__";function ya(t,e,n){return mi(()=>{const r=function Uy(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;const s=new i(...o);return a.annotation=s,a;function a(u,c,l){const d=u.hasOwnProperty(ga)?u[ga]:Object.defineProperty(u,ga,{value:[]})[ga];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(s),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function pc(t,e){t.forEach(n=>Array.isArray(n)?pc(n,e):e(n))}function mx(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Rh(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Jn(t,e,n){let r=_a(t,e);return r>=0?t[1|r]=n:(r=~r,function Az(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function By(t,e){const n=_a(t,e);if(n>=0)return t[1|n]}function _a(t,e){return function yx(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){const o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}(t,e,1)}const Ct=rc(ya("Optional"),8),kh=rc(ya("SkipSelf"),4);function Lh(t){return 128==(128&t.flags)}var Ln=(()=>((Ln=Ln||{})[Ln.Important=1]="Important",Ln[Ln.DashCase=2]="DashCase",Ln))();const qy=new Map;let Jz=0;const Ky="__ngContext__";function an(t,e){Xn(e)?(t[Ky]=e[uc],function eq(t){qy.set(t[uc],t)}(e)):t[Ky]=e}let Qy;function Yy(t,e){return Qy(t,e)}function _c(t){const e=t[Qe];return Pn(e)?e[Qe]:e}function Xy(t){return Fx(t[sc])}function Jy(t){return Fx(t[_r])}function Fx(t){for(;null!==t&&!Pn(t);)t=t[_r];return t}function Ia(t,e,n,r,i){if(null!=r){let o,s=!1;Pn(r)?o=r:Xn(r)&&(s=!0,r=r[Dt]);const a=Be(r);0===t&&null!==n?null==i?$x(e,n,a):Jo(e,n,a,i||null,!0):1===t&&null!==n?Jo(e,n,a,i||null,!0):2===t?function Hh(t,e,n){const r=$h(t,e);r&&function vq(t,e,n,r){t.removeChild(e,n,r)}(t,r,e,n)}(e,a,s):3===t&&e.destroyNode(a),null!=o&&function Eq(t,e,n,r,i){const o=n[Ur];o!==Be(n)&&Ia(e,t,r,o,i);for(let a=Gt;a<n.length;a++){const u=n[a];wc(u[O],u,t,e,r,o)}}(e,t,o,n,i)}}function Bh(t,e,n){return t.createElement(e,n)}function Vx(t,e){const n=t[ua],r=n.indexOf(e);U1(e),n.splice(r,1)}function e_(t,e){if(t.length<=Gt)return;const n=Gt+e,r=t[n];if(r){const i=r[ac];null!==i&&i!==t&&Vx(i,r),e>0&&(t[n-1][_r]=r[_r]);const o=Rh(t,Gt+e);!function dq(t,e){wc(t,e,e[se],2,null,null),e[Dt]=null,e[sn]=null}(r[O],r);const s=o[Vr];null!==s&&s.detachView(o[O]),r[Qe]=null,r[_r]=null,r[ue]&=-129}return r}function Ux(t,e){if(!(256&e[ue])){const n=e[se];e[lh]?.destroy(),e[dh]?.destroy(),n.destroyNode&&wc(t,e,n,3,null,null),function pq(t){let e=t[sc];if(!e)return t_(t[O],t);for(;e;){let n=null;if(Xn(e))n=e[sc];else{const r=e[Gt];r&&(n=r)}if(!n){for(;e&&!e[_r]&&e!==t;)Xn(e)&&t_(e[O],e),e=e[Qe];null===e&&(e=t),Xn(e)&&t_(e[O],e),n=e&&e[_r]}e=n}}(e)}}function t_(t,e){if(!(256&e[ue])){e[ue]&=-129,e[ue]|=256,function _q(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof dc)){const o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=i[o[s]],u=o[s+1];$r(4,a,u);try{u.call(a)}finally{$r(5,a,u)}}else{$r(4,i,o);try{o.call(i)}finally{$r(5,i,o)}}}}}(t,e),function yq(t,e){const n=t.cleanup,r=e[ia];if(null!==n)for(let o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){const s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else n[o].call(r[n[o+1]]);null!==r&&(e[ia]=null);const i=e[no];if(null!==i){e[no]=null;for(let o=0;o<i.length;o++)(0,i[o])()}}(t,e),1===e[O].type&&e[se].destroy();const n=e[ac];if(null!==n&&Pn(e[Qe])){n!==e[Qe]&&Vx(n,e);const r=e[Vr];null!==r&&r.detachView(t)}!function tq(t){qy.delete(t[uc])}(e)}}function n_(t,e,n){return function Bx(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[Dt];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:o}=t.data[r.directiveStart+i];if(o===Qn.None||o===Qn.Emulated)return null}return On(r,n)}}(t,e.parent,n)}function Jo(t,e,n,r,i){t.insertBefore(e,n,r,i)}function $x(t,e,n){t.appendChild(e,n)}function jx(t,e,n,r,i){null!==r?Jo(t,e,n,r,i):$x(t,e,n)}function $h(t,e){return t.parentNode(e)}let r_,a_,zx=function Gx(t,e,n){return 40&t.type?On(t,n):null};function jh(t,e,n,r){const i=n_(t,r,e),o=e[se],a=function Hx(t,e,n){return zx(t,e,n)}(r.parent||e[sn],r,e);if(null!=i)if(Array.isArray(n))for(let u=0;u<n.length;u++)jx(o,i,n[u],a,!1);else jx(o,i,n,a,!1);void 0!==r_&&r_(o,r,e,n,i)}function vc(t,e){if(null!==e){const n=e.type;if(3&n)return On(e,t);if(4&n)return i_(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return vc(t,r);{const i=t[e.index];return Pn(i)?i_(-1,i):Be(i)}}if(32&n)return Yy(e,t)()||Be(t[e.index]);{const r=Wx(t,e);return null!==r?Array.isArray(r)?r[0]:vc(_c(t[pt]),r):vc(t,e.next)}}return null}function Wx(t,e){return null!==e?t[pt][sn].projection[e.projection]:null}function i_(t,e){const n=Gt+t+1;if(n<e.length){const r=e[n],i=r[O].firstChild;if(null!==i)return vc(r,i)}return e[Ur]}function o_(t,e,n,r,i,o,s){for(;null!=n;){const a=r[n.index],u=n.type;if(s&&0===e&&(a&&an(Be(a),r),n.flags|=2),32!=(32&n.flags))if(8&u)o_(t,e,n.child,r,i,o,!1),Ia(e,t,i,a,o);else if(32&u){const c=Yy(n,r);let l;for(;l=c();)Ia(e,t,i,l,o);Ia(e,t,i,a,o)}else 16&u?Qx(t,e,r,n,i,o):Ia(e,t,i,a,o);n=s?n.projectionNext:n.next}}function wc(t,e,n,r,i,o){o_(n,r,t.firstChild,e,i,o,!1)}function Qx(t,e,n,r,i,o){const s=n[pt],u=s[sn].projection[r.projection];if(Array.isArray(u))for(let c=0;c<u.length;c++)Ia(e,t,i,u[c],o);else{let c=u;const l=s[Qe];Lh(r)&&(c.flags|=128),o_(t,e,c,l,i,o,!0)}}function Yx(t,e,n){""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function Xx(t,e,n){const{mergedAttrs:r,classes:i,styles:o}=n;null!==r&&my(t,e,r),null!==i&&Yx(t,e,i),null!==o&&function bq(t,e,n){t.setAttribute(e,"style",n)}(t,e,o)}class tM{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${t1})`}}function oo(t){return t instanceof tM?t.changingThisBreaksApplicationSecurity:t}const Vq=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var gt=(()=>((gt=gt||{})[gt.NONE=0]="NONE",gt[gt.HTML=1]="HTML",gt[gt.STYLE=2]="STYLE",gt[gt.SCRIPT=3]="SCRIPT",gt[gt.URL=4]="URL",gt[gt.RESOURCE_URL=5]="RESOURCE_URL",gt))();function Wh(t){const e=function bc(){const t=D();return t&&t[Wo].sanitizer}();return e?e.sanitize(gt.URL,t)||"":function Ec(t,e){const n=function Pq(t){return t instanceof tM&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${t1})`)}return n===e}(t,"URL")?oo(t):function c_(t){return(t=String(t)).match(Vq)?t:"unsafe:"+t}(re(t))}class U{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=q({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Cc=new U("ENVIRONMENT_INITIALIZER"),lM=new U("INJECTOR",-1),dM=new U("INJECTOR_DEF_TYPES");class hM{get(e,n=nc){if(n===nc){const r=new Error(`NullInjectorError: No provider for ${Et(e)}!`);throw r.name="NullInjectorError",r}return n}}function Xq(...t){return{\u0275providers:pM(0,t),\u0275fromNgModule:!0}}function pM(t,...e){const n=[],r=new Set;let i;return pc(e,o=>{const s=o;f_(s,n,[],r)&&(i||=[],i.push(s))}),void 0!==i&&gM(i,n),n}function gM(t,e){for(let n=0;n<t.length;n++){const{providers:i}=t[n];p_(i,o=>{e.push(o)})}}function f_(t,e,n,r){if(!(t=te(t)))return!1;let i=null,o=r1(t);const s=!o&&De(t);if(o||s){if(s&&!s.standalone)return!1;i=t}else{const u=t.ngModule;if(o=r1(u),!o)return!1;i=u}const a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){const u="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const c of u)f_(c,e,n,r)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let c;r.add(i);try{pc(o.imports,l=>{f_(l,e,n,r)&&(c||=[],c.push(l))})}finally{}void 0!==c&&gM(c,e)}if(!a){const c=Qo(i)||(()=>new i);e.push({provide:i,useFactory:c,deps:Ee},{provide:dM,useValue:i,multi:!0},{provide:Cc,useValue:()=>z(i),multi:!0})}const u=o.providers;null==u||a||p_(u,l=>{e.push(l)})}}return i!==t&&void 0!==t.providers}function p_(t,e){for(let n of t)cy(n)&&(n=n.\u0275providers),Array.isArray(n)?p_(n,e):e(n)}const Jq=Ae({provide:String,useValue:Ae});function g_(t){return null!==t&&"object"==typeof t&&Jq in t}function Zo(t){return"function"==typeof t}const m_=new U("Set Injector scope."),Kh={},e6={};let y_;function Qh(){return void 0===y_&&(y_=new hM),y_}class Di{}class __ extends Di{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,w_(e,s=>this.processProvider(s)),this.records.set(lM,Da(void 0,this)),i.has("environment")&&this.records.set(Di,Da(void 0,this));const o=this.records.get(m_);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(dM.multi,Ee,W.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of e)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const n=to(this),r=Rn(void 0);try{return e()}finally{to(n),Rn(r)}}get(e,n=nc,r=W.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(l1))return e[l1](this);r=ah(r);const i=to(this),o=Rn(void 0);try{if(!(r&W.SkipSelf)){let a=this.records.get(e);if(void 0===a){const u=function o6(t){return"function"==typeof t||"object"==typeof t&&t instanceof U}(e)&&ih(e);a=u&&this.injectableDefInScope(u)?Da(v_(e),Kh):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&W.Self?Qh():this.parent).get(e,n=r&W.Optional&&n===nc?null:n)}catch(s){if("NullInjectorError"===s.name){if((s[sh]=s[sh]||[]).unshift(Et(e)),i)throw s;return function o3(t,e,n,r){const i=t[sh];throw e[a1]&&i.unshift(e[a1]),t.message=function s3(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let i=Et(e);if(Array.isArray(e))i=e.map(Et).join(" -> ");else if("object"==typeof e){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):Et(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(e3,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[sh]=null,t}(s,e,"R3InjectorError",this.source)}throw s}finally{Rn(o),to(i)}}resolveInjectorInitializers(){const e=to(this),n=Rn(void 0);try{const r=this.get(Cc.multi,Ee,W.Self);for(const i of r)i()}finally{to(e),Rn(n)}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push(Et(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new T(205,!1)}processProvider(e){let n=Zo(e=te(e))?e:te(e&&e.provide);const r=function n6(t){return g_(t)?Da(void 0,t.useValue):Da(_M(t),Kh)}(e);if(Zo(e)||!0!==e.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=Da(void 0,Kh,!0),i.factory=()=>fy(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===Kh&&(n.value=e6,n.value=n.factory()),"object"==typeof n.value&&n.value&&function i6(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=te(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){const n=this._onDestroyHooks.indexOf(e);-1!==n&&this._onDestroyHooks.splice(n,1)}}function v_(t){const e=ih(t),n=null!==e?e.factory:Qo(t);if(null!==n)return n;if(t instanceof U)throw new T(204,!1);if(t instanceof Function)return function t6(t){const e=t.length;if(e>0)throw function gc(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}(e,"?"),new T(204,!1);const n=function XG(t){return t&&(t[oh]||t[i1])||null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new T(204,!1)}function _M(t,e,n){let r;if(Zo(t)){const i=te(t);return Qo(i)||v_(i)}if(g_(t))r=()=>te(t.useValue);else if(function yM(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...fy(t.deps||[]));else if(function mM(t){return!(!t||!t.useExisting)}(t))r=()=>z(te(t.useExisting));else{const i=te(t&&(t.useClass||t.provide));if(!function r6(t){return!!t.deps}(t))return Qo(i)||v_(i);r=()=>new i(...fy(t.deps))}return r}function Da(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function w_(t,e){for(const n of t)Array.isArray(n)?w_(n,e):n&&cy(n)?w_(n.\u0275providers,e):e(n)}const Yh=new U("AppId",{providedIn:"root",factory:()=>s6}),s6="ng",vM=new U("Platform Initializer"),so=new U("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),wM=new U("CSP nonce",{providedIn:"root",factory:()=>function Ic(){if(void 0!==a_)return a_;if(typeof document<"u")return document;throw new T(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let EM=(t,e)=>null;function DM(t,e){return EM(t,e)}class g6{}class TM{}class y6{resolveComponentFactory(e){throw function m6(t){const e=Error(`No component factory found for ${Et(t)}.`);return e.ngComponent=t,e}(e)}}let tf=(()=>{class t{}return t.NULL=new y6,t})();function _6(){return ba(zt(),D())}function ba(t,e){return new Zn(On(t,e))}let Zn=(()=>{class t{constructor(n){this.nativeElement=n}}return t.__NG_ELEMENT_ID__=_6,t})();class AM{}let bi=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>function w6(){const t=D(),n=Fn(zt().index,t);return(Xn(n)?n:t)[se]}(),t})(),I6=(()=>{class t{}return t.\u0275prov=q({token:t,providedIn:"root",factory:()=>null}),t})();class Ca{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const xM=new Ca("16.0.3"),R_={};function xc(t){for(;t;){t[ue]|=64;const e=_c(t);if(vy(t)&&!e)return t;t=e}return null}function N_(t){return t.ngOriginalError}class es{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&N_(e);for(;n&&N_(n);)n=N_(n);return n||null}}const NM=new U("",{providedIn:"root",factory:()=>!1});function Ci(t){return t instanceof Function?t():t}class LM extends x1{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(e){this._lView=e}onConsumerDependencyMayHaveChanged(){xc(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(e,n,r){const i=Nt(this);this.trackingVersion++;try{e(n,r)}finally{Nt(i)}}destroy(){this.trackingVersion++}}let rf=null;function VM(){return rf??=new LM,rf}function UM(t,e){return t[e]??VM()}function BM(t,e){const n=VM();n.hasReadASignal&&(t[e]=rf,n.lView=t,rf=new LM)}const ae={};function H(t){$M(_e(),D(),vn()+t,!1)}function $M(t,e,n,r){if(!r)if(3==(3&e[ue])){const o=t.preOrderCheckHooks;null!==o&&Dh(e,o,n)}else{const o=t.preOrderHooks;null!==o&&bh(e,o,0,n)}Yo(n)}function zM(t,e=null,n=null,r){const i=qM(t,e,n,r);return i.resolveInjectorInitializers(),i}function qM(t,e=null,n=null,r,i=new Set){const o=[n||Ee,Xq(t)];return r=r||("object"==typeof t?void 0:Et(t)),new __(o,e||Qh(),r||null,i)}let Un=(()=>{class t{static create(n,r){if(Array.isArray(n))return zM({name:""},r,n,"");{const i=n.name??"";return zM({name:i},n.parent,n.providers,i)}}}return t.THROW_IF_NOT_FOUND=nc,t.NULL=new hM,t.\u0275prov=q({token:t,providedIn:"any",factory:()=>z(lM)}),t.__NG_ELEMENT_ID__=-1,t})();function b(t,e=W.Default){const n=D();return null===n?z(t,e):lx(zt(),n,te(t),e)}function sf(t,e,n,r,i,o,s,a,u,c,l){const d=e.blueprint.slice();return d[Dt]=i,d[ue]=140|r,(null!==c||t&&2048&t[ue])&&(d[ue]|=2048),V1(d),d[Qe]=d[sa]=t,d[tt]=n,d[Wo]=s||t&&t[Wo],d[se]=a||t&&t[se],d[oa]=u||t&&t[oa]||null,d[sn]=o,d[uc]=function Zz(){return Jz++}(),d[vi]=l,d[D1]=c,d[pt]=2==e.type?t[pt]:d,d}function Sa(t,e,n,r,i){let o=t.data[e];if(null===o)o=function k_(t,e,n,r,i){const o=G1(),s=Cy(),u=t.data[e]=function j6(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return function la(){return null!==X.skipHydrationRootTNode}()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=u),null!==o&&(s?null==o.child&&null!==u.parent&&(o.child=u):null===o.next&&(o.next=u,u.prev=o)),u}(t,e,n,r,i),function tz(){return X.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;const s=function lc(){const t=X.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return jr(o,!0),o}function Mc(t,e,n,r){if(0===n)return-1;const i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function KM(t,e,n,r,i){const o=UM(e,lh),s=vn(),a=2&r;try{if(Yo(-1),a&&e.length>pe&&$M(t,e,pe,!1),$r(a?2:0,i),a)o.runInContext(n,r,i);else{const c=Nt(null);try{n(r,i)}finally{Nt(c)}}}finally{a&&null===e[lh]&&BM(e,lh),Yo(s),$r(a?3:1,i)}}function P_(t,e,n){if(_y(e)){const r=Nt(null);try{const o=e.directiveEnd;for(let s=e.directiveStart;s<o;s++){const a=t.data[s];a.contentQueries&&a.contentQueries(1,n[s],s)}}finally{Nt(r)}}}function O_(t,e,n){H1()&&(function Q6(t,e,n,r){const i=n.directiveStart,o=n.directiveEnd;Ko(n)&&function n5(t,e,n){const r=On(e,t),s=af(t,sf(t,QM(n),null,n.onPush?64:16,r,e,null,t[Wo].rendererFactory.createRenderer(r,n),null,null,null));t[e.index]=s}(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Ah(n,e),an(r,e);const s=n.initialInputs;for(let a=i;a<o;a++){const u=t.data[a],c=Xo(e,t,a,n);an(c,e),null!==s&&r5(0,a-i,c,u,0,s),vr(u)&&(Fn(n.index,e)[tt]=Xo(e,t,a,n))}}(t,e,n,On(n,e)),64==(64&n.flags)&&eR(t,e,n))}function F_(t,e,n=On){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(e,t):t[s];t[i++]=a}}}function QM(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=L_(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function L_(t,e,n,r,i,o,s,a,u,c,l){const d=pe+r,h=d+i,f=function F6(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:ae);return n}(d,h),p="function"==typeof c?c():c;return f[O]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:u,consts:p,incompleteFirstPass:!1,ssrId:l}}let YM=t=>null;function XM(t,e,n,r){for(let i in t)if(t.hasOwnProperty(i)){n=null===n?{}:n;const o=t[i];null===r?JM(n,e,i,o):r.hasOwnProperty(i)&&JM(n,e,r[i],o)}return n}function JM(t,e,n,r){t.hasOwnProperty(n)?t[n].push(e,r):t[n]=[e,r]}function er(t,e,n,r,i,o,s,a){const u=On(e,n);let l,c=e.inputs;!a&&null!=c&&(l=c[r])?(j_(t,n,l,r,i),Ko(e)&&function z6(t,e){const n=Fn(e,t);16&n[ue]||(n[ue]|=64)}(n,e.index)):3&e.type&&(r=function G6(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=s?s(i,e.value||"",r):i,o.setProperty(u,r,i))}function V_(t,e,n,r){if(H1()){const i=null===r?null:{"":-1},o=function X6(t,e){const n=t.directiveRegistry;let r=null,i=null;if(n)for(let o=0;o<n.length;o++){const s=n[o];if(y1(e,s.selectors,!1))if(r||(r=[]),vr(s))if(null!==s.findHostDirectiveDefs){const a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s),U_(t,e,a.length)}else r.unshift(s),U_(t,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return null===r?null:[r,i]}(t,n);let s,a;null===o?s=a=null:[s,a]=o,null!==s&&ZM(t,e,n,s,i,a),i&&function J6(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const o=n[e[i+1]];if(null==o)throw new T(-301,!1);r.push(e[i],o)}}}(n,r,i)}n.mergedAttrs=oc(n.mergedAttrs,n.attrs)}function ZM(t,e,n,r,i,o){for(let c=0;c<r.length;c++)Ly(Ah(n,e),t,r[c].type);!function e5(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}(n,t.data.length,r.length);for(let c=0;c<r.length;c++){const l=r[c];l.providersResolver&&l.providersResolver(l)}let s=!1,a=!1,u=Mc(t,e,r.length,null);for(let c=0;c<r.length;c++){const l=r[c];n.mergedAttrs=oc(n.mergedAttrs,l.hostAttrs),t5(t,n,e,u,l),Z6(u,l,i),null!==l.contentQueries&&(n.flags|=4),(null!==l.hostBindings||null!==l.hostAttrs||0!==l.hostVars)&&(n.flags|=64);const d=l.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),u++}!function H6(t,e,n){const i=e.directiveEnd,o=t.data,s=e.attrs,a=[];let u=null,c=null;for(let l=e.directiveStart;l<i;l++){const d=o[l],h=n?n.get(d):null,p=h?h.outputs:null;u=XM(d.inputs,l,u,h?h.inputs:null),c=XM(d.outputs,l,c,p);const m=null===u||null===s||m1(e)?null:i5(u,l,s);a.push(m)}null!==u&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=c}(t,n,o)}function eR(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,s=function rz(){return X.lFrame.currentDirectiveIndex}();try{Yo(o);for(let a=r;a<i;a++){const u=t.data[a],c=e[a];Sy(a),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&Y6(u,c)}}finally{Yo(-1),Sy(s)}}function Y6(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function U_(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function Z6(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;vr(e)&&(n[""]=t)}}function t5(t,e,n,r,i){t.data[r]=i;const o=i.factory||(i.factory=Qo(i.type)),s=new dc(o,vr(i),b);t.blueprint[r]=s,n[r]=s,function W6(t,e,n,r,i){const o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;null===s&&(s=t.hostBindingOpCodes=[]);const a=~e.index;(function K6(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(s)!=a&&s.push(a),s.push(n,r,o)}}(t,e,r,Mc(t,n,i.hostVars,ae),i)}function Gr(t,e,n,r,i,o){const s=On(t,e);!function B_(t,e,n,r,i,o,s){if(null==o)t.removeAttribute(e,i,n);else{const a=null==s?re(o):s(o,r||"",i);t.setAttribute(e,i,a,n)}}(e[se],s,o,t.value,n,r,i)}function r5(t,e,n,r,i,o){const s=o[e];if(null!==s)for(let a=0;a<s.length;)tR(r,n,s[a++],s[a++],s[a++])}function tR(t,e,n,r,i){const o=Nt(null);try{null!==t.setInput?t.setInput(e,i,n,r):e[r]=i}finally{Nt(o)}}function i5(t,e,n){let r=null,i=0;for(;i<n.length;){const o=n[i];if(0!==o)if(5!==o){if("number"==typeof o)break;if(t.hasOwnProperty(o)){null===r&&(r=[]);const s=t[o];for(let a=0;a<s.length;a+=2)if(s[a]===e){r.push(o,s[a+1],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function nR(t,e,n,r){return[t,!0,!1,e,null,0,r,n,null,null,null]}function rR(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const o=n[r+1];if(-1!==o){const s=t.data[o];xy(n[r]),s.contentQueries(2,e[o],o)}}}function af(t,e){return t[sc]?t[E1][_r]=e:t[sc]=e,t[E1]=e,e}function $_(t,e,n){xy(0);const r=Nt(null);try{e(t,n)}finally{Nt(r)}}function aR(t,e){const n=t[oa],r=n?n.get(es,null):null;r&&r.handleError(e)}function j_(t,e,n,r,i){for(let o=0;o<n.length;){const s=n[o++],a=n[o++];tR(t.data[s],e[s],r,a,i)}}function Ti(t,e,n){const r=yh(e,t);!function Lx(t,e,n){t.setValue(e,n)}(t[se],r,n)}function o5(t,e){const n=Fn(e,t),r=n[O];!function s5(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n);const i=n[Dt];null!==i&&null===n[vi]&&(n[vi]=DM(i,n[oa])),H_(r,n,n[tt])}function H_(t,e,n){My(e);try{const r=t.viewQuery;null!==r&&$_(1,r,n);const i=t.template;null!==i&&KM(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&rR(t,e),t.staticViewQueries&&$_(2,t.viewQuery,n);const o=t.components;null!==o&&function a5(t,e){for(let n=0;n<e.length;n++)o5(t,e[n])}(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[ue]&=-5,Ry()}}let uR=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(n,r,i){const o=typeof Zone>"u"?null:Zone.current,s=new P3(n,c=>{this.all.has(c)&&this.queue.set(c,o)},i);let a;this.all.add(s),s.notify();const u=()=>{s.cleanup(),a?.(),this.all.delete(s),this.queue.delete(s)};return a=r?.onDestroy(u),{destroy:u}}flush(){if(0!==this.queue.size)for(const[n,r]of this.queue)this.queue.delete(n),r?r.run(()=>n.run()):n.run()}get isQueueEmpty(){return 0===this.queue.size}}return t.\u0275prov=q({token:t,providedIn:"root",factory:()=>new t}),t})();function uf(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const a=e[s];"number"==typeof a?o=a:1==o?i=ay(i,a):2==o&&(r=ay(r,a+": "+e[++s]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function Rc(t,e,n,r,i=!1){for(;null!==n;){const o=e[n.index];if(null!==o&&r.push(Be(o)),Pn(o)){for(let a=Gt;a<o.length;a++){const u=o[a],c=u[O].firstChild;null!==c&&Rc(u[O],u,c,r)}o[Ur]!==o[Dt]&&r.push(o[Ur])}const s=n.type;if(8&s)Rc(t,e,n.child,r);else if(32&s){const a=Yy(n,e);let u;for(;u=a();)r.push(u)}else if(16&s){const a=Wx(e,n);if(Array.isArray(a))r.push(...a);else{const u=_c(e[pt]);Rc(u[O],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function cf(t,e,n,r=!0){const i=e[Wo].rendererFactory;i.begin&&i.begin();try{lf(t,e,t.template,n)}catch(s){throw r&&aR(e,s),s}finally{i.end&&i.end(),e[Wo].effectManager?.flush()}}function lf(t,e,n,r){const i=e[ue];if(256!=(256&i)){e[Wo].effectManager?.flush(),My(e);try{V1(e),function q1(t){return X.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&KM(t,e,n,2,r);const s=3==(3&i);if(s){const c=t.preOrderCheckHooks;null!==c&&Dh(e,c,null)}else{const c=t.preOrderHooks;null!==c&&bh(e,c,0,null),Ny(e,0)}if(function f5(t){for(let e=Xy(t);null!==e;e=Jy(e)){if(!e[b1])continue;const n=e[ua];for(let r=0;r<n.length;r++){G3(n[r])}}}(e),function h5(t){for(let e=Xy(t);null!==e;e=Jy(e))for(let n=Gt;n<e.length;n++){const r=e[n],i=r[O];_h(r)&&lf(i,r,i.template,r[tt])}}(e),null!==t.contentQueries&&rR(t,e),s){const c=t.contentCheckHooks;null!==c&&Dh(e,c)}else{const c=t.contentHooks;null!==c&&bh(e,c,1),Ny(e,1)}!function O6(t,e){const n=t.hostBindingOpCodes;if(null===n)return;const r=UM(e,dh);try{for(let i=0;i<n.length;i++){const o=n[i];if(o<0)Yo(~o);else{const s=o,a=n[++i],u=n[++i];nz(a,s),r.runInContext(u,2,e[s])}}}finally{null===e[dh]&&BM(e,dh),Yo(-1)}}(t,e);const a=t.components;null!==a&&function g5(t,e){for(let n=0;n<e.length;n++)p5(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&$_(2,u,r),s){const c=t.viewCheckHooks;null!==c&&Dh(e,c)}else{const c=t.viewHooks;null!==c&&bh(e,c,2),Ny(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[ue]&=-73,U1(e)}finally{Ry()}}}function p5(t,e){const n=Fn(e,t);if(_h(n)){const r=n[O];80&n[ue]?lf(r,n,r.template,n[tt]):n[qo]>0&&G_(n)}}function G_(t){for(let r=Xy(t);null!==r;r=Jy(r))for(let i=Gt;i<r.length;i++){const o=r[i];if(_h(o))if(1024&o[ue]){const s=o[O];lf(s,o,s.template,o[tt])}else o[qo]>0&&G_(o)}const n=t[O].components;if(null!==n)for(let r=0;r<n.length;r++){const i=Fn(n[r],t);_h(i)&&i[qo]>0&&G_(i)}}class Nc{get rootNodes(){const e=this._lView,n=e[O];return Rc(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[tt]}set context(e){this._lView[tt]=e}get destroyed(){return 256==(256&this._lView[ue])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[Qe];if(Pn(e)){const n=e[hh],r=n?n.indexOf(this):-1;r>-1&&(e_(e,r),Rh(n,r))}this._attachedToViewContainer=!1}Ux(this._lView[O],this._lView)}onDestroy(e){!function $1(t,e){if(256==(256&t[ue]))throw new T(911,!1);null===t[no]&&(t[no]=[]),t[no].push(e)}(this._lView,e)}markForCheck(){xc(this._cdRefInjectingView||this._lView)}detach(){this._lView[ue]&=-129}reattach(){this._lView[ue]|=128}detectChanges(){cf(this._lView[O],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new T(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function fq(t,e){wc(t,e,e[se],2,null,null)}(this._lView[O],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new T(902,!1);this._appRef=e}}class m5 extends Nc{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;cf(e[O],e,e[tt],!1)}checkNoChanges(){}get context(){return null}}class cR extends tf{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=De(e);return new kc(n,this.ngModule)}}function lR(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}class _5{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=ah(r);const i=this.injector.get(e,R_,r);return i!==R_||n===R_?i:this.parentInjector.get(e,n,r)}}class kc extends TM{get inputs(){return lR(this.componentDef.inputs)}get outputs(){return lR(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function m3(t){return t.map(g3).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let o=(i=i||this.ngModule)instanceof Di?i:i?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const s=o?new _5(e,o):e,a=s.get(AM,null);if(null===a)throw new T(407,!1);const l={rendererFactory:a,sanitizer:s.get(I6,null),effectManager:s.get(uR,null)},d=a.createRenderer(null,this.componentDef),h=this.componentDef.selectors[0][0]||"div",f=r?function L6(t,e,n,r){const o=r.get(NM,!1)||n===Qn.ShadowDom,s=t.selectRootElement(e,o);return function V6(t){YM(t)}(s),s}(d,r,this.componentDef.encapsulation,s):Bh(d,h,function y5(t){const e=t.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(h)),p=this.componentDef.onPush?576:528,m=L_(0,null,null,1,0,null,null,null,null,null,null),y=sf(null,m,null,p,null,null,l,d,s,null,null);let v,_;My(y);try{const E=this.componentDef;let x,L=null;E.findHostDirectiveDefs?(x=[],L=new Map,E.findHostDirectiveDefs(E,x,L),x.push(E)):x=[E];const J=function w5(t,e){const n=t[O],r=pe;return t[r]=e,Sa(n,r,2,"#host",null)}(y,f),Ke=function I5(t,e,n,r,i,o,s){const a=i[O];!function E5(t,e,n,r){for(const i of t)e.mergedAttrs=oc(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(uf(e,e.mergedAttrs,!0),null!==n&&Xx(r,n,e))}(r,t,e,s);let u=null;null!==e&&(u=DM(e,i[oa]));const c=o.rendererFactory.createRenderer(e,n),l=sf(i,QM(n),null,n.onPush?64:16,i[t.index],t,o,c,null,null,u);return a.firstCreatePass&&U_(a,t,r.length-1),af(i,l),i[t.index]=l}(J,f,E,x,y,l,d);_=L1(m,pe),f&&function b5(t,e,n,r){if(r)my(t,n,["ng-version",xM.full]);else{const{attrs:i,classes:o}=function y3(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!yr(i))break;i=o}r++}return{attrs:e,classes:n}}(e.selectors[0]);i&&my(t,n,i),o&&o.length>0&&Yx(t,n,o.join(" "))}}(d,E,f,r),void 0!==n&&function C5(t,e,n){const r=t.projection=[];for(let i=0;i<e.length;i++){const o=n[i];r.push(null!=o?Array.from(o):null)}}(_,this.ngContentSelectors,n),v=function D5(t,e,n,r,i,o){const s=zt(),a=i[O],u=On(s,i);ZM(a,i,s,n,null,r);for(let l=0;l<n.length;l++)an(Xo(i,a,s.directiveStart+l,s),i);eR(a,i,s),u&&an(u,i);const c=Xo(i,a,s.directiveStart+s.componentOffset,s);if(t[tt]=i[tt]=c,null!==o)for(const l of o)l(c,e);return P_(a,s,t),c}(Ke,E,x,L,y,[T5]),H_(m,y,null)}finally{Ry()}return new v5(this.componentType,v,ba(_,y),y,_)}}class v5 extends g6{constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new m5(i),this.componentType=e}setInput(e,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;const o=this._rootLView;j_(o[O],o,i,e,n),this.previousInputValues.set(e,n),xc(Fn(this._tNode.index,o))}}get injector(){return new fa(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function T5(){const t=zt();Eh(D()[O],t)}function xe(t){let e=function dR(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),n=!0;const r=[t];for(;e;){let i;if(vr(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new T(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);const s=t;s.inputs=z_(t.inputs),s.declaredInputs=z_(t.declaredInputs),s.outputs=z_(t.outputs);const a=i.hostBindings;a&&M5(t,a);const u=i.viewQuery,c=i.contentQueries;if(u&&A5(t,u),c&&x5(t,c),sy(t.inputs,i.inputs),sy(t.declaredInputs,i.declaredInputs),sy(t.outputs,i.outputs),vr(i)&&i.data.animation){const l=t.data;l.animation=(l.animation||[]).concat(i.data.animation)}}const o=i.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(t),a===xe&&(n=!1)}}e=Object.getPrototypeOf(e)}!function S5(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=oc(i.hostAttrs,n=oc(n,i.hostAttrs))}}(r)}function z_(t){return t===yi?{}:t===Ee?[]:t}function A5(t,e){const n=t.viewQuery;t.viewQuery=n?(r,i)=>{e(r,i),n(r,i)}:e}function x5(t,e){const n=t.contentQueries;t.contentQueries=n?(r,i,o)=>{e(r,i,o),n(r,i,o)}:e}function M5(t,e){const n=t.hostBindings;t.hostBindings=n?(r,i)=>{e(r,i),n(r,i)}:e}function df(t){return!!function q_(t){return null!==t&&("function"==typeof t||"object"==typeof t)}(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function un(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function ts(t,e,n,r){const i=un(t,e,n);return un(t,e+1,r)||i}function qr(t,e,n,r){const i=D();return un(i,da(),e)&&(_e(),Gr(Ye(),i,t,e,n,r)),qr}function xa(t,e,n,r){return un(t,da(),n)?e+re(n)+r:ae}function Ra(t,e,n,r,i,o,s,a){const c=function hf(t,e,n,r,i){const o=ts(t,e,n,r);return un(t,e+2,i)||o}(t,wi(),n,i,s);return Ii(3),c?e+re(n)+r+re(i)+o+re(s)+a:ae}function Te(t,e,n,r,i,o,s,a){const u=D(),c=_e(),l=t+pe,d=c.firstCreatePass?function t9(t,e,n,r,i,o,s,a,u){const c=e.consts,l=Sa(e,t,4,s||null,ro(c,a));V_(e,n,l,ro(c,u)),Eh(e,l);const d=l.tView=L_(2,l,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c,null);return null!==e.queries&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,o,s):c.data[l];jr(d,!1);const h=SR(c,u,d,t);Ih()&&jh(c,u,h,d),an(h,u),af(u,u[l]=nR(h,u,h,d)),fh(d)&&O_(c,u,d),null!=s&&F_(u,d,a)}let SR=function AR(t,e,n,r){return io(!0),e[se].createComment("")};function ve(t,e,n){const r=D();return un(r,da(),e)&&er(_e(),Ye(),r,t,e,r[se],n,!1),ve}function J_(t,e,n,r,i){const s=i?"class":"style";j_(t,n,e.inputs[s],s,r)}function A(t,e,n,r){const i=D(),o=_e(),s=pe+t,a=i[se],u=o.firstCreatePass?function s9(t,e,n,r,i,o){const s=e.consts,u=Sa(e,t,2,r,ro(s,i));return V_(e,n,u,ro(s,o)),null!==u.attrs&&uf(u,u.attrs,!1),null!==u.mergedAttrs&&uf(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(s,o,i,e,n,r):o.data[s],c=xR(o,i,u,a,e,t);i[s]=c;const l=fh(u);return jr(u,!0),Xx(a,c,u),32!=(32&u.flags)&&Ih()&&jh(o,i,c,u),0===function q3(){return X.lFrame.elementDepthCount}()&&an(c,i),function W3(){X.lFrame.elementDepthCount++}(),l&&(O_(o,i,u),P_(o,u,i)),null!==r&&F_(i,u),A}function M(){let t=zt();Cy()?function Ty(){X.lFrame.isParent=!1}():(t=t.parent,jr(t,!1));const e=t;(function Q3(t){return X.skipHydrationRootTNode===t})(e)&&function Z3(){X.skipHydrationRootTNode=null}(),function K3(){X.lFrame.elementDepthCount--}();const n=_e();return n.firstCreatePass&&(Eh(n,t),_y(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function pz(t){return 0!=(8&t.flags)}(e)&&J_(n,e,D(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function gz(t){return 0!=(16&t.flags)}(e)&&J_(n,e,D(),e.stylesWithoutHost,!1),M}function G(t,e,n,r){return A(t,e,n,r),M(),G}let xR=(t,e,n,r,i,o)=>(io(!0),Bh(r,i,function ex(){return X.lFrame.currentNamespace}()));function mf(){return D()}function Vc(t){return!!t&&"function"==typeof t.then}function NR(t){return!!t&&"function"==typeof t.subscribe}function mt(t,e,n,r){const i=D(),o=_e(),s=zt();return function PR(t,e,n,r,i,o,s){const a=fh(r),c=t.firstCreatePass&&function oR(t){return t.cleanup||(t.cleanup=[])}(t),l=e[tt],d=function iR(t){return t[ia]||(t[ia]=[])}(e);let h=!0;if(3&r.type||s){const m=On(r,e),y=s?s(m):m,v=d.length,_=s?x=>s(Be(x[r.index])):r.index;let E=null;if(!s&&a&&(E=function h9(t,e,n,r){const i=t.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const s=i[o];if(s===n&&i[o+1]===r){const a=e[ia],u=i[o+2];return a.length>u?a[u]:null}"string"==typeof s&&(o+=2)}return null}(t,e,i,r.index)),null!==E)(E.__ngLastListenerFn__||E).__ngNextListenerFn__=o,E.__ngLastListenerFn__=o,h=!1;else{o=FR(r,e,l,o,!1);const x=n.listen(y,i,o);d.push(o,x),c&&c.push(i,_,v,v+1)}}else o=FR(r,e,l,o,!1);const f=r.outputs;let p;if(h&&null!==f&&(p=f[i])){const m=p.length;if(m)for(let y=0;y<m;y+=2){const L=e[p[y]][p[y+1]].subscribe(o),J=d.length;d.push(o,L),c&&c.push(i,r.index,J,-(J+1))}}}(o,i,i[se],s,t,e,r),mt}function OR(t,e,n,r){try{return $r(6,e,n),!1!==n(r)}catch(i){return aR(t,i),!1}finally{$r(7,e,n)}}function FR(t,e,n,r,i){return function o(s){if(s===Function)return r;xc(t.componentOffset>-1?Fn(t.index,e):e);let u=OR(e,n,r,s),c=o.__ngNextListenerFn__;for(;c;)u=OR(e,n,c,s)&&u,c=c.__ngNextListenerFn__;return i&&!1===u&&s.preventDefault(),u}}function cn(t=1){return function oz(t){return(X.lFrame.contextLView=function sz(t,e){for(;t>0;)e=e[sa],t--;return e}(t,X.lFrame.contextLView))[tt]}(t)}function wr(t,e,n){return yf(t,"",e,"",n),wr}function yf(t,e,n,r,i){const o=D(),s=xa(o,e,n,r);return s!==ae&&er(_e(),Ye(),o,t,s,o[se],i,!1),yf}function _f(t,e){return t<<17|e<<2}function ao(t){return t>>17&32767}function tv(t){return 2|t}function ns(t){return(131068&t)>>2}function nv(t,e){return-131069&t|e<<2}function rv(t){return 1|t}function zR(t,e,n,r,i){const o=t[n+1],s=null===e;let a=r?ao(o):ns(o),u=!1;for(;0!==a&&(!1===u||s);){const l=t[a+1];I9(t[a],e)&&(u=!0,t[a+1]=r?rv(l):tv(l)),a=r?ao(l):ns(l)}u&&(t[n+1]=r?tv(o):rv(o))}function I9(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&_a(t,e)>=0}const Tt={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function qR(t){return t.substring(Tt.key,Tt.keyEnd)}function WR(t,e){const n=Tt.textEnd;return n===e?-1:(e=Tt.keyEnd=function C9(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,Tt.key=e,n),La(t,e,n))}function La(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function vf(t,e){return function Ir(t,e,n,r){const i=D(),o=_e(),s=Ii(2);o.firstUpdatePass&&eN(o,t,s,r),e!==ae&&un(i,s,e)&&nN(o,o.data[vn()],i,i[se],t,i[s+1]=function F9(t,e){return null==t||""===t||("string"==typeof e?t+=e:"object"==typeof t&&(t=Et(oo(t)))),t}(e,n),r,s)}(t,e,null,!0),vf}function iv(t){!function Er(t,e,n,r){const i=_e(),o=Ii(2);i.firstUpdatePass&&eN(i,null,o,r);const s=D();if(n!==ae&&un(s,o,n)){const a=i.data[vn()];if(iN(a,r)&&!ZR(i,o)){let u=r?a.classesWithoutHost:a.stylesWithoutHost;null!==u&&(n=ay(u,n||"")),J_(i,a,s,n,r)}else!function O9(t,e,n,r,i,o,s,a){i===ae&&(i=Ee);let u=0,c=0,l=0<i.length?i[0]:null,d=0<o.length?o[0]:null;for(;null!==l||null!==d;){const h=u<i.length?i[u+1]:void 0,f=c<o.length?o[c+1]:void 0;let m,p=null;l===d?(u+=2,c+=2,h!==f&&(p=d,m=f)):null===d||null!==l&&l<d?(u+=2,p=l):(c+=2,p=d,m=f),null!==p&&nN(t,e,n,r,p,m,s,a),l=u<i.length?i[u]:null,d=c<o.length?o[c]:null}}(i,a,s,s[se],s[o+1],s[o+1]=function k9(t,e,n){if(null==n||""===n)return Ee;const r=[],i=oo(n);if(Array.isArray(i))for(let o=0;o<i.length;o++)t(r,i[o],!0);else if("object"==typeof i)for(const o in i)i.hasOwnProperty(o)&&t(r,o,i[o]);else"string"==typeof i&&e(r,i);return r}(t,e,n),r,o)}}(P9,Kr,t,!0)}function Kr(t,e){for(let n=function D9(t){return function QR(t){Tt.key=0,Tt.keyEnd=0,Tt.value=0,Tt.valueEnd=0,Tt.textEnd=t.length}(t),WR(t,La(t,0,Tt.textEnd))}(e);n>=0;n=WR(e,n))Jn(t,qR(e),!0)}function ZR(t,e){return e>=t.expandoStartIndex}function eN(t,e,n,r){const i=t.data;if(null===i[n+1]){const o=i[vn()],s=ZR(t,n);iN(o,r)&&null===e&&!s&&(e=!1),e=function x9(t,e,n,r){const i=function Ay(t){const e=X.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=Uc(n=ov(null,t,e,n,r),e.attrs,r),o=null);else{const s=e.directiveStylingLast;if(-1===s||t[s]!==i)if(n=ov(i,t,e,n,r),null===o){let u=function M9(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==ns(r))return t[ao(r)]}(t,e,r);void 0!==u&&Array.isArray(u)&&(u=ov(null,t,e,u[1],r),u=Uc(u,e.attrs,r),function R9(t,e,n,r){t[ao(n?e.classBindings:e.styleBindings)]=r}(t,e,r,u))}else o=function N9(t,e,n){let r;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=Uc(r,t[o].hostAttrs,n);return Uc(r,e.attrs,n)}(t,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),n}(i,o,e,r),function v9(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=ao(s),u=ns(s);t[r]=n;let l,c=!1;if(Array.isArray(n)?(l=n[1],(null===l||_a(n,l)>0)&&(c=!0)):l=n,i)if(0!==u){const h=ao(t[a+1]);t[r+1]=_f(h,a),0!==h&&(t[h+1]=nv(t[h+1],r)),t[a+1]=function y9(t,e){return 131071&t|e<<17}(t[a+1],r)}else t[r+1]=_f(a,0),0!==a&&(t[a+1]=nv(t[a+1],r)),a=r;else t[r+1]=_f(u,0),0===a?a=r:t[u+1]=nv(t[u+1],r),u=r;c&&(t[r+1]=tv(t[r+1])),zR(t,l,r,!0),zR(t,l,r,!1),function w9(t,e,n,r,i){const o=i?t.residualClasses:t.residualStyles;null!=o&&"string"==typeof e&&_a(o,e)>=0&&(n[r+1]=rv(n[r+1]))}(e,l,t,r,o),s=_f(a,u),o?e.classBindings=s:e.styleBindings=s}(i,o,e,n,s,r)}}function ov(t,e,n,r,i){let o=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(o=e[a],r=Uc(r,o.hostAttrs,i),o!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function Uc(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Jn(t,s,!!n||e[++o]))}return void 0===t?null:t}function P9(t,e,n){const r=String(e);""!==r&&!r.includes(" ")&&Jn(t,r,n)}function nN(t,e,n,r,i,o,s,a){if(!(3&e.type))return;const u=t.data,c=u[a+1],l=function _9(t){return 1==(1&t)}(c)?rN(u,e,n,i,ns(c),s):void 0;wf(l)||(wf(o)||function m9(t){return 2==(2&t)}(c)&&(o=rN(u,null,n,i,a,s)),function Dq(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=-1===r.indexOf("-")?void 0:Ln.DashCase;null==i?t.removeStyle(n,r,o):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Ln.Important),t.setStyle(n,r,i,o))}}(r,s,yh(vn(),n),i,o))}function rN(t,e,n,r,i,o){const s=null===e;let a;for(;i>0;){const u=t[i],c=Array.isArray(u),l=c?u[1]:u,d=null===l;let h=n[i+1];h===ae&&(h=d?Ee:void 0);let f=d?By(h,r):l===r?h:void 0;if(c&&!wf(f)&&(f=By(u,r)),wf(f)&&(a=f,s))return a;const p=t[i+1];i=s?ao(p):ns(p)}if(null!==e){let u=o?e.residualClasses:e.residualStyles;null!=u&&(a=By(u,r))}return a}function wf(t){return void 0!==t}function iN(t,e){return 0!=(t.flags&(e?8:16))}function he(t,e=""){const n=D(),r=_e(),i=t+pe,o=r.firstCreatePass?Sa(r,i,1,e,null):r.data[i],s=oN(r,n,o,e,t);n[i]=s,Ih()&&jh(r,n,s,o),jr(o,!1)}let oN=(t,e,n,r,i)=>(io(!0),function Uh(t,e){return t.createText(e)}(e[se],r));function wn(t){return Si("",t,""),wn}function Si(t,e,n){const r=D(),i=xa(r,t,e,n);return i!==ae&&Ti(r,vn(),i),Si}function sv(t,e,n,r,i){const o=D(),s=function Ma(t,e,n,r,i,o){const a=ts(t,wi(),n,i);return Ii(2),a?e+re(n)+r+re(i)+o:ae}(o,t,e,n,r,i);return s!==ae&&Ti(o,vn(),s),sv}function If(t,e,n,r,i,o,s){const a=D(),u=Ra(a,t,e,n,r,i,o,s);return u!==ae&&Ti(a,vn(),u),If}const Ua="en-US";let CN=Ua;function cv(t,e,n,r,i){if(t=te(t),Array.isArray(t))for(let o=0;o<t.length;o++)cv(t[o],e,n,r,i);else{const o=_e(),s=D();let a=Zo(t)?t:te(t.provide),u=_M(t);const c=zt(),l=1048575&c.providerIndexes,d=c.directiveStart,h=c.providerIndexes>>20;if(Zo(t)||!t.multi){const f=new dc(u,i,b),p=dv(a,e,i?l:l+h,d);-1===p?(Ly(Ah(c,s),o,a),lv(o,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(f),s.push(f)):(n[p]=f,s[p]=f)}else{const f=dv(a,e,l+h,d),p=dv(a,e,l,l+h),y=p>=0&&n[p];if(i&&!y||!i&&!(f>=0&&n[f])){Ly(Ah(c,s),o,a);const v=function n8(t,e,n,r,i){const o=new dc(t,n,b);return o.multi=[],o.index=e,o.componentProviders=0,YN(o,i,r&&!n),o}(i?t8:e8,n.length,i,r,u);!i&&y&&(n[p].providerFactory=v),lv(o,t,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(v),s.push(v)}else lv(o,t,f>-1?f:p,YN(n[i?p:f],u,!i&&r));!i&&r&&y&&n[p].componentProviders++}}}function lv(t,e,n,r){const i=Zo(e),o=function Zq(t){return!!t.useClass}(e);if(i||o){const u=(o?te(e.useClass):e).prototype.ngOnDestroy;if(u){const c=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const l=c.indexOf(n);-1===l?c.push(n,[r,u]):c[l+1].push(r,u)}else c.push(n,u)}}}function YN(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function dv(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function e8(t,e,n,r){return hv(this.multi,[])}function t8(t,e,n,r){const i=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=Xo(n,n[O],this.providerFactory.index,r);o=a.slice(0,s),hv(i,o);for(let u=s;u<a.length;u++)o.push(a[u])}else o=[],hv(i,o);return o}function hv(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function qe(t,e=[]){return n=>{n.providersResolver=(r,i)=>function ZW(t,e,n){const r=_e();if(r.firstCreatePass){const i=vr(t);cv(n,r.data,r.blueprint,i,!0),cv(e,r.data,r.blueprint,i,!1)}}(r,i?i(t):t,e)}}class Ba{}class XN{}class fv extends Ba{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new cR(this);const i=Yn(e);this._bootstrapComponents=Ci(i.bootstrap),this._r3Injector=qM(e,n,[{provide:Ba,useValue:this},{provide:tf,useValue:this.componentFactoryResolver},...r],Et(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class pv extends XN{constructor(e){super(),this.moduleType=e}create(e){return new fv(this.moduleType,e,[])}}class JN extends Ba{constructor(e){super(),this.componentFactoryResolver=new cR(this),this.instance=null;const n=new __([...e.providers,{provide:Ba,useValue:this},{provide:tf,useValue:this.componentFactoryResolver}],e.parent||Qh(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function gv(t,e,n=null){return new JN({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}let o8=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n.id)){const r=pM(0,n.type),i=r.length>0?gv([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n.id,i)}return this.cachedInjectors.get(n.id)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}}return t.\u0275prov=q({token:t,providedIn:"environment",factory:()=>new t(z(Di))}),t})();function ZN(t){t.getStandaloneInjector=e=>e.get(o8).getOrCreateStandaloneInjector(t)}function yv(t){return e=>{setTimeout(t,void 0,e)}}const rt=class R8 extends pi{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&"object"==typeof e){const u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=yv(o),i&&(i=yv(i)),s&&(s=yv(s)));const a=super.subscribe({next:i,error:o,complete:s});return e instanceof Wn&&e.add(a),a}};let Ai=(()=>{class t{}return t.__NG_ELEMENT_ID__=O8,t})();const k8=Ai,P8=class extends k8{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n,null)}createEmbeddedViewImpl(e,n,r){const i=this._declarationTContainer.tView,o=sf(this._declarationLView,i,e,16,null,i.declTNode,null,null,null,n||null,r||null);o[ac]=this._declarationLView[this._declarationTContainer.index];const a=this._declarationLView[Vr];return null!==a&&(o[Vr]=a.createEmbeddedView(i)),H_(i,o,e),new Nc(o)}};function O8(){return function Tf(t,e){return 4&t.type?new P8(e,t,ba(t,e)):null}(zt(),D())}let Dr=(()=>{class t{}return t.__NG_ELEMENT_ID__=j8,t})();function j8(){return function mk(t,e){let n;const r=e[t.index];return Pn(r)?n=r:(n=nR(r,e,null,t),e[t.index]=n,af(e,n)),yk(n,e,t,r),new pk(n,t,e)}(zt(),D())}const H8=Dr,pk=class extends H8{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return ba(this._hostTNode,this._hostLView)}get injector(){return new fa(this._hostTNode,this._hostLView)}get parentInjector(){const e=Fy(this._hostTNode,this._hostLView);if(ix(e)){const n=Th(e,this._hostLView),r=Ch(e);return new fa(n[O].data[r+8],n)}return new fa(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=gk(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-Gt}createEmbeddedView(e,n,r){let i,o;"number"==typeof r?i=r:null!=r&&(i=r.index,o=r.injector);const a=e.createEmbeddedViewImpl(n||{},o,null);return this.insertImpl(a,i,false),a}createComponent(e,n,r,i,o){const s=e&&!function fc(t){return"function"==typeof t}(e);let a;if(s)a=n;else{const m=n||{};a=m.index,r=m.injector,i=m.projectableNodes,o=m.environmentInjector||m.ngModuleRef}const u=s?e:new kc(De(e)),c=r||this.parentInjector;if(!o&&null==u.ngModule){const y=(s?c:this.parentInjector).get(Di,null);y&&(o=y)}De(u.componentType??{});const f=u.create(c,i,null,o);return this.insertImpl(f.hostView,a,false),f}insert(e,n){return this.insertImpl(e,n,!1)}insertImpl(e,n,r){const i=e._lView,o=i[O];if(function H3(t){return Pn(t[Qe])}(i)){const u=this.indexOf(e);if(-1!==u)this.detach(u);else{const c=i[Qe],l=new pk(c,c[sn],c[Qe]);l.detach(l.indexOf(e))}}const s=this._adjustIndex(n),a=this._lContainer;if(function gq(t,e,n,r){const i=Gt+r,o=n.length;r>0&&(n[i-1][_r]=e),r<o-Gt?(e[_r]=n[i],mx(n,Gt+r,e)):(n.push(e),e[_r]=null),e[Qe]=n;const s=e[ac];null!==s&&n!==s&&function mq(t,e){const n=t[ua];e[pt]!==e[Qe][Qe][pt]&&(t[b1]=!0),null===n?t[ua]=[e]:n.push(e)}(s,e);const a=e[Vr];null!==a&&a.insertView(t),e[ue]|=128}(o,i,a,s),!r){const u=i_(s,a),c=i[se],l=$h(c,a[Ur]);null!==l&&function hq(t,e,n,r,i,o){r[Dt]=i,r[sn]=e,wc(t,r,n,1,i,o)}(o,a[sn],c,i,l,u)}return e.attachToViewContainerRef(),mx(wv(a),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=gk(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=e_(this._lContainer,n);r&&(Rh(wv(this._lContainer),n),Ux(r[O],r))}detach(e){const n=this._adjustIndex(e,-1),r=e_(this._lContainer,n);return r&&null!=Rh(wv(this._lContainer),n)?new Nc(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function gk(t){return t[hh]}function wv(t){return t[hh]||(t[hh]=[])}let yk=function _k(t,e,n,r){if(t[Ur])return;let i;i=8&n.type?Be(r):function G8(t,e){const n=t[se],r=n.createComment(""),i=On(e,t);return Jo(n,$h(n,i),r,function wq(t,e){return t.nextSibling(e)}(n,i),!1),r}(e,n),t[Ur]=i};const Rv=new U("Application Initializer");let Nv=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=B(Rv,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n=[];for(const i of this.appInits){const o=i();if(Vc(o))n.push(o);else if(NR(o)){const s=new Promise((a,u)=>{o.subscribe({complete:a,error:u})});n.push(s)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Hk=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();const xi=new U("LocaleId",{providedIn:"root",factory:()=>B(xi,W.Optional|W.SkipSelf)||function I7(){return typeof $localize<"u"&&$localize.locale||Ua}()});class D7{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let Gk=(()=>{class t{compileModuleSync(n){return new pv(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),o=Ci(Yn(n).declarations).reduce((s,a)=>{const u=De(a);return u&&s.push(new kc(u)),s},[]);return new D7(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const T7=(()=>Promise.resolve(0))();function kv(t){typeof Zone>"u"?T7.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}function Wk(...t){}class Me{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new rt(!1),this.onMicrotaskEmpty=new rt(!1),this.onStable=new rt(!1),this.onError=new rt(!1),typeof Zone>"u")throw new T(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function S7(){let t=Fe.requestAnimationFrame,e=Fe.cancelAnimationFrame;if(typeof Zone<"u"&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function M7(t){const e=()=>{!function x7(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Fe,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Ov(t),t.isCheckStableRunning=!0,Pv(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Ov(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{try{return Kk(t),n.invokeTask(i,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||t.shouldCoalesceRunChangeDetection)&&e(),Qk(t)}},onInvoke:(n,r,i,o,s,a,u)=>{try{return Kk(t),n.invoke(i,o,s,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),Qk(t)}},onHasTask:(n,r,i,o)=>{n.hasTask(i,o),r===i&&("microTask"==o.change?(t._hasPendingMicrotasks=o.microTask,Ov(t),Pv(t)):"macroTask"==o.change&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,r,i,o)=>(n.handleError(i,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Me.isInAngularZone())throw new T(909,!1)}static assertNotInAngularZone(){if(Me.isInAngularZone())throw new T(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,A7,Wk,Wk);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const A7={};function Pv(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Ov(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function Kk(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Qk(t){t._nesting--,Pv(t)}class R7{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new rt,this.onMicrotaskEmpty=new rt,this.onStable=new rt,this.onError=new rt}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}const Yk=new U("",{providedIn:"root",factory:Xk});function Xk(){const t=B(Me);let e=!0;return function jG(...t){const e=tc(t),n=function OG(t,e){return"number"==typeof iy(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?ar(r[0]):ta(n)(Rt(r,e)):Or}(new Ue(i=>{e=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{i.next(e),i.complete()})}),new Ue(i=>{let o;t.runOutsideAngular(()=>{o=t.onStable.subscribe(()=>{Me.assertNotInAngularZone(),kv(()=>{!e&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(e=!0,i.next(!0))})})});const s=t.onUnstable.subscribe(()=>{Me.assertInAngularZone(),e&&(e=!1,t.runOutsideAngular(()=>{i.next(!1)}))});return()=>{o.unsubscribe(),s.unsubscribe()}}).pipe(function HG(t={}){const{connector:e=(()=>new pi),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return o=>{let s,a,u,c=0,l=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),s=u=void 0,l=d=!1},p=()=>{const m=s;f(),m?.unsubscribe()};return $t((m,y)=>{c++,!d&&!l&&h();const v=u=u??e();y.add(()=>{c--,0===c&&!d&&!l&&(a=oy(p,i))}),v.subscribe(y),!s&&c>0&&(s=new ec({next:_=>v.next(_),error:_=>{d=!0,h(),a=oy(f,n,_),v.error(_)},complete:()=>{l=!0,h(),a=oy(f,r),v.complete()}}),ar(m).subscribe(s))})(o)}}()))}const Jk=new U(""),Af=new U("");let Vv,Fv=(()=>{class t{constructor(n,r,i){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Vv||(function N7(t){Vv=t}(i),i.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Me.assertNotInAngularZone(),kv(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())kv(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:o,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,i){return[]}}return t.\u0275fac=function(n){return new(n||t)(z(Me),z(Lv),z(Af))},t.\u0275prov=q({token:t,factory:t.\u0275fac}),t})(),Lv=(()=>{class t{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return Vv?.findTestabilityInTree(this,n,r)??null}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})(),uo=null;const Zk=new U("AllowMultipleToken"),Uv=new U("PlatformDestroyListeners"),Bv=new U("appBootstrapListener");class tP{constructor(e,n){this.name=e,this.token=n}}function rP(t,e,n=[]){const r=`Platform: ${e}`,i=new U(r);return(o=[])=>{let s=$v();if(!s||s.injector.get(Zk,!1)){const a=[...n,...o,{provide:i,useValue:!0}];t?t(a):function O7(t){if(uo&&!uo.get(Zk,!1))throw new T(400,!1);(function eP(){!function N3(t){M1=t}(()=>{throw new T(600,!1)})})(),uo=t;const e=t.get(oP);(function nP(t){t.get(vM,null)?.forEach(n=>n())})(t)}(function iP(t=[],e){return Un.create({name:e,providers:[{provide:m_,useValue:"platform"},{provide:Uv,useValue:new Set([()=>uo=null])},...t]})}(a,r))}return function L7(t){const e=$v();if(!e)throw new T(401,!1);return e}()}}function $v(){return uo?.get(oP)??null}let oP=(()=>{class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const i=function V7(t="zone.js",e){return"noop"===t?new R7:"zone.js"===t?new Me(e):t}(r?.ngZone,function sP(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return i.run(()=>{const o=function i8(t,e,n){return new fv(t,e,n)}(n.moduleType,this.injector,function dP(t){return[{provide:Me,useFactory:t},{provide:Cc,multi:!0,useFactory:()=>{const e=B(B7,{optional:!0});return()=>e.initialize()}},{provide:lP,useFactory:U7},{provide:Yk,useFactory:Xk}]}(()=>i)),s=o.injector.get(es,null);return i.runOutsideAngular(()=>{const a=i.onError.subscribe({next:u=>{s.handleError(u)}});o.onDestroy(()=>{xf(this._modules,o),a.unsubscribe()})}),function aP(t,e,n){try{const r=n();return Vc(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(s,i,()=>{const a=o.injector.get(Nv);return a.runInitializers(),a.donePromise.then(()=>(function TN(t){ur(t,"Expected localeId to be defined"),"string"==typeof t&&(CN=t.toLowerCase().replace(/_/g,"-"))}(o.injector.get(xi,Ua)||Ua),this._moduleDoBootstrap(o),o))})})}bootstrapModule(n,r=[]){const i=uP({},r);return function k7(t,e,n){const r=new pv(n);return Promise.resolve(r)}(0,0,n).then(o=>this.bootstrapModuleFactory(o,i))}_moduleDoBootstrap(n){const r=n.injector.get(Ha);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new T(-403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new T(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(Uv,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(n){return new(n||t)(z(Un))},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();function uP(t,e){return Array.isArray(e)?e.reduce(uP,t):{...t,...e}}let Ha=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=B(lP),this.componentTypes=[],this.components=[],this.isStable=B(Yk),this._injector=B(Di)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){const i=n instanceof TM;if(!this._injector.get(Nv).done)throw!i&&function ra(t){const e=De(t)||on(t)||kn(t);return null!==e&&e.standalone}(n),new T(405,!1);let s;s=i?n:this._injector.get(tf).resolveComponentFactory(n),this.componentTypes.push(s.componentType);const a=function P7(t){return t.isBoundToModule}(s)?void 0:this._injector.get(Ba),c=s.create(Un.NULL,[],r||s.selector,a),l=c.location.nativeElement,d=c.injector.get(Jk,null);return d?.registerApplication(l),c.onDestroy(()=>{this.detachView(c.hostView),xf(this.components,c),d?.unregisterApplication(l)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new T(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this.internalErrorHandler(n)}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;xf(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(Bv,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>xf(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new T(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function xf(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const lP=new U("",{providedIn:"root",factory:()=>B(es).handleError.bind(void 0)});function U7(){const t=B(Me),e=B(es);return n=>t.runOutsideAngular(()=>e.handleError(n))}let B7=(()=>{class t{constructor(){this.zone=B(Me),this.applicationRef=B(Ha)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();let Mf=(()=>{class t{}return t.__NG_ELEMENT_ID__=j7,t})();function j7(t){return function H7(t,e,n){if(Ko(t)&&!n){const r=Fn(t.index,e);return new Nc(r,r)}return 47&t.type?new Nc(e[pt],e):null}(zt(),D(),16==(16&t))}class gP{constructor(){}supports(e){return df(e)}create(e){return new Q7(e)}}const K7=(t,e)=>e;class Q7{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||K7}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){const s=!r||n&&n.currentIndex<yP(r,i,o)?n:r,a=yP(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,null==s.previousIndex)i++;else{o||(o=[]);const c=a-i,l=u-i;if(c!=l){for(let h=0;h<c;h++){const f=h<o.length?o[h]:o[h]=0,p=f+h;l<=p&&p<c&&(o[h]=f+1)}o[s.previousIndex]=l-c}}a!==u&&e(s,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!df(e))throw new T(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,o,s,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),null!==n&&Object.is(n.trackById,s)?(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)):(n=this._mismatch(n,o,s,a),r=!0),n=n._next}else i=0,function L5(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Symbol.iterator]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,a=>{s=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,s)?(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,s,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return null===e?o=this._itTail:(o=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new Y7(n,r),o,i),e}_verifyReinsertion(e,n,r,i){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==o?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,o=e._nextRemoved;return null===i?this._removalsHead=o:i._nextRemoved=o,null===o?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const i=null===n?this._itHead:n._next;return e._next=i,e._prev=n,null===i?this._itTail=e:i._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new mP),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new mP),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class Y7{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class X7{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class mP{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new X7,this.map.set(n,r)),r.add(e)}get(e,n){const i=this.map.get(e);return i?i.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function yP(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function vP(){return new kf([new gP])}let kf=(()=>{class t{constructor(n){this.factories=n}static create(n,r){if(null!=r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||vP()),deps:[[t,new kh,new Ct]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(null!=r)return r;throw new T(901,!1)}}return t.\u0275prov=q({token:t,providedIn:"root",factory:vP}),t})();const nK=rP(null,"core",[]);let rK=(()=>{class t{constructor(n){}}return t.\u0275fac=function(n){return new(n||t)(z(Ha))},t.\u0275mod=rn({type:t}),t.\u0275inj=Ht({}),t})(),TP=(()=>{class t{get whenAllTasksComplete(){return 0===this.collection.size&&this.complete(),this.promise}constructor(){this.taskId=0,this.collection=new Set,this.ngZone=B(Me),this.completed=!1,this.ngZone.runOutsideAngular(()=>{this.promise=new Promise(n=>{this.resolve=n})})}add(){if(this.completed)return-1;const n=this.taskId++;return this.collection.add(n),n}remove(n){this.completed||(this.collection.delete(n),0===this.collection.size&&this.complete())}ngOnDestroy(){this.complete(),this.collection.clear()}complete(){this.completed=!0,this.resolve()}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Kv=null;function co(){return Kv}class gK{}const hr=new U("DocumentToken");let Qv=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=q({token:t,factory:function(){return B(yK)},providedIn:"platform"}),t})();const mK=new U("Location Initialized");let yK=(()=>{class t extends Qv{constructor(){super(),this._doc=B(hr),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return co().getBaseHref(this._doc)}onPopState(n){const r=co().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=co().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=q({token:t,factory:function(){return new t},providedIn:"platform"}),t})();function Yv(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function AP(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function Mi(t){return t&&"?"!==t[0]?"?"+t:t}let os=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=q({token:t,factory:function(){return B(MP)},providedIn:"root"}),t})();const xP=new U("appBaseHref");let MP=(()=>{class t extends os{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??B(hr).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Yv(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+Mi(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){const s=this.prepareExternalUrl(i+Mi(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){const s=this.prepareExternalUrl(i+Mi(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return t.\u0275fac=function(n){return new(n||t)(z(Qv),z(xP,8))},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),_K=(()=>{class t extends os{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=Yv(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+Mi(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+Mi(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return t.\u0275fac=function(n){return new(n||t)(z(Qv),z(xP,8))},t.\u0275prov=q({token:t,factory:t.\u0275fac}),t})(),Xv=(()=>{class t{constructor(n){this._subject=new rt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._basePath=function IK(t){if(new RegExp("^(https?:)?//").test(t)){const[,n]=t.split(/\/\/[^\/]+/);return n}return t}(AP(RP(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Mi(r))}normalize(n){return t.stripTrailingSlash(function wK(t,e){if(!t||!e.startsWith(t))return e;const n=e.substring(t.length);return""===n||["/",";","?","#"].includes(n[0])?n:e}(this._basePath,RP(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Mi(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Mi(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}}return t.normalizeQueryParams=Mi,t.joinWithSlash=Yv,t.stripTrailingSlash=AP,t.\u0275fac=function(n){return new(n||t)(z(os))},t.\u0275prov=q({token:t,factory:function(){return function vK(){return new Xv(z(os))}()},providedIn:"root"}),t})();function RP(t){return t.replace(/\/index.html$/,"")}class aQ{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ss=(()=>{class t{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const r=this._viewContainer;n.forEachOperation((i,o,s)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new aQ(i.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)r.remove(null===o?void 0:o);else if(null!==o){const a=r.get(o);r.move(a,s),jP(a,i)}});for(let i=0,o=r.length;i<o;i++){const a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{jP(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(n,r){return!0}}return t.\u0275fac=function(n){return new(n||t)(b(Dr),b(Ai),b(kf))},t.\u0275dir=Z({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),t})();function jP(t,e){t.context.$implicit=e.item}let Gf=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new uQ,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){HP("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){HP("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}}return t.\u0275fac=function(n){return new(n||t)(b(Dr),b(Ai))},t.\u0275dir=Z({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),t})();class uQ{constructor(){this.$implicit=null,this.ngIf=null}}function HP(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Et(e)}'.`)}let qP=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=rn({type:t}),t.\u0275inj=Ht({}),t})();function KP(t){return"server"===t}let FQ=(()=>{class t{}return t.\u0275prov=q({token:t,providedIn:"root",factory:()=>new LQ(z(hr),window)}),t})();class LQ{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const n=function VQ(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&"function"==typeof t.body.attachShadow){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const o=i.shadowRoot;if(o){const s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const n=this.window.history;n&&n.scrollRestoration&&(n.scrollRestoration=e)}}scrollToElement(e){const n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=QP(this.window.history)||QP(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function QP(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class hY extends gK{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class pw extends hY{static makeCurrent(){!function pK(t){Kv||(Kv=t)}(new pw)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function fY(){return Jc=Jc||document.querySelector("base"),Jc?Jc.getAttribute("href"):null}();return null==n?null:function pY(t){Kf=Kf||document.createElement("a"),Kf.setAttribute("href",t);const e=Kf.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){Jc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function iQ(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,o]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}(document.cookie,e)}}let Kf,Jc=null,mY=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=q({token:t,factory:t.\u0275fac}),t})();const gw=new U("EventManagerPlugins");let eO=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new T(5101,!1);return this._eventNameToPlugin.set(n,r),r}}return t.\u0275fac=function(n){return new(n||t)(z(gw),z(Me))},t.\u0275prov=q({token:t,factory:t.\u0275fac}),t})();class tO{constructor(e){this._doc=e}}const mw="ng-app-id";let nO=(()=>{class t{constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=KP(o),this.resetHostNodes()}addStyles(n){for(const r of n)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(n){for(const r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(const r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){const r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){const n=this.doc.head?.querySelectorAll(`style[${mw}="${this.appId}"]`);if(n?.length){const r=new Map;return n.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){const i=this.styleRef;if(i.has(n)){const o=i.get(n);return o.usage+=r,o.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){const i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===n)return i.delete(r),o.removeAttribute(mw),o;{const s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(mw,this.appId),s}}addStyleToHost(n,r){const i=this.getStyleElement(n,r);n.appendChild(i);const o=this.styleRef,s=o.get(r)?.elements;s?s.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}}return t.\u0275fac=function(n){return new(n||t)(z(hr),z(Yh),z(wM,8),z(so))},t.\u0275prov=q({token:t,factory:t.\u0275fac}),t})();const yw={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},_w=/%COMP%/g,wY=new U("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function iO(t,e){return e.map(n=>n.replace(_w,t))}let oO=(()=>{class t{constructor(n,r,i,o,s,a,u,c=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestory=o,this.doc=s,this.platformId=a,this.ngZone=u,this.nonce=c,this.rendererByCompId=new Map,this.platformIsServer=KP(a),this.defaultRenderer=new vw(n,s,u,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Qn.ShadowDom&&(r={...r,encapsulation:Qn.Emulated});const i=this.getOrCreateRenderer(n,r);return i instanceof aO?i.applyToHost(n):i instanceof ww&&i.applyStyles(),i}getOrCreateRenderer(n,r){const i=this.rendererByCompId;let o=i.get(r.id);if(!o){const s=this.doc,a=this.ngZone,u=this.eventManager,c=this.sharedStylesHost,l=this.removeStylesOnCompDestory,d=this.platformIsServer;switch(r.encapsulation){case Qn.Emulated:o=new aO(u,c,r,this.appId,l,s,a,d);break;case Qn.ShadowDom:return new bY(u,c,n,r,s,a,this.nonce,d);default:o=new ww(u,c,r,l,s,a,d)}o.onDestroy=()=>i.delete(r.id),i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}}return t.\u0275fac=function(n){return new(n||t)(z(eO),z(nO),z(Yh),z(wY),z(hr),z(so),z(Me),z(wM))},t.\u0275prov=q({token:t,factory:t.\u0275fac}),t})();class vw{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(yw[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(sO(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(sO(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new T(5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const o=yw[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=yw[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Ln.DashCase|Ln.Important)?e.style.setProperty(n,r,i&Ln.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Ln.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){if("string"==typeof e&&!(e=co().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if("__ngUnwrap__"===n)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))&&n.preventDefault()}}}function sO(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class bY extends vw{constructor(e,n,r,i,o,s,a,u){super(e,o,s,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=iO(i.id,i.styles);for(const l of c){const d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=l,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class ww extends vw{constructor(e,n,r,i,o,s,a,u){super(e,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestory=i,this.rendererUsageCount=0,this.styles=u?iO(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class aO extends ww{constructor(e,n,r,i,o,s,a,u){const c=i+"-"+r.id;super(e,n,r,o,s,a,u,c),this.contentAttr=function IY(t){return"_ngcontent-%COMP%".replace(_w,t)}(c),this.hostAttr=function EY(t){return"_nghost-%COMP%".replace(_w,t)}(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}let CY=(()=>{class t extends tO{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}}return t.\u0275fac=function(n){return new(n||t)(z(hr))},t.\u0275prov=q({token:t,factory:t.\u0275fac}),t})();const uO=["alt","control","meta","shift"],TY={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},SY={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let AY=(()=>{class t extends tO{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,r,i){const o=t.parseEventName(r),s=t.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>co().onAndCancel(n,o.domEventName,s))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const o=t._normalizeKey(r.pop());let s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),uO.forEach(c=>{const l=r.indexOf(c);l>-1&&(r.splice(l,1),s+=c+".")}),s+=o,0!=r.length||0===o.length)return null;const u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(n,r){let i=TY[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),uO.forEach(s=>{s!==i&&(0,SY[s])(n)&&(o+=s+".")}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{t.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return"esc"===n?"escape":n}}return t.\u0275fac=function(n){return new(n||t)(z(hr))},t.\u0275prov=q({token:t,factory:t.\u0275fac}),t})();const lO=[{provide:so,useValue:"browser"},{provide:vM,useValue:function xY(){pw.makeCurrent()},multi:!0},{provide:hr,useFactory:function RY(){return function Aq(t){a_=t}(document),document},deps:[]}],NY=rP(nK,"browser",lO),kY=new U(""),dO=[{provide:Af,useClass:class gY{addToWindow(e){Fe.getAngularTestability=(r,i=!0)=>{const o=e.findTestabilityInTree(r,i);if(null==o)throw new T(5103,!1);return o},Fe.getAllAngularTestabilities=()=>e.getAllTestabilities(),Fe.getAllAngularRootElements=()=>e.getAllRootElements(),Fe.frameworkStabilizers||(Fe.frameworkStabilizers=[]),Fe.frameworkStabilizers.push(r=>{const i=Fe.getAllAngularTestabilities();let o=i.length,s=!1;const a=function(u){s=s||u,o--,0==o&&r(s)};i.forEach(function(u){u.whenStable(a)})})}findTestabilityInTree(e,n,r){return null==n?null:e.getTestability(n)??(r?co().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},deps:[]},{provide:Jk,useClass:Fv,deps:[Me,Lv,Af]},{provide:Fv,useClass:Fv,deps:[Me,Lv,Af]}],hO=[{provide:m_,useValue:"root"},{provide:es,useFactory:function MY(){return new es},deps:[]},{provide:gw,useClass:CY,multi:!0,deps:[hr,Me,so]},{provide:gw,useClass:AY,multi:!0,deps:[hr]},oO,nO,eO,{provide:AM,useExisting:oO},{provide:class UQ{},useClass:mY,deps:[]},[]];let PY=(()=>{class t{constructor(n){}static withServerTransition(n){return{ngModule:t,providers:[{provide:Yh,useValue:n.appId}]}}}return t.\u0275fac=function(n){return new(n||t)(z(kY,12))},t.\u0275mod=rn({type:t}),t.\u0275inj=Ht({providers:[...hO,...dO],imports:[qP,rK]}),t})(),fO=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}}return t.\u0275fac=function(n){return new(n||t)(z(hr))},t.\u0275prov=q({token:t,factory:function(n){let r=null;return r=n?new n:function FY(){return new fO(z(hr))}(),r},providedIn:"root"}),t})();function ie(...t){return Rt(t,tc(t))}typeof window<"u"&&window;class Sr extends pi{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const{isArray:jY}=Array,{getPrototypeOf:HY,prototype:GY,keys:zY}=Object;function yO(t){if(1===t.length){const e=t[0];if(jY(e))return{args:e,keys:null};if(function qY(t){return t&&"object"==typeof t&&HY(t)===GY}(e)){const n=zY(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}const{isArray:WY}=Array;function _O(t){return Se(e=>function KY(t,e){return WY(e)?t(...e):t(e)}(t,e))}function vO(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function Ew(...t){const e=tc(t),n=ZA(t),{args:r,keys:i}=yO(t);if(0===r.length)return Rt([],e);const o=new Ue(function QY(t,e,n=zo){return r=>{wO(e,()=>{const{length:i}=t,o=new Array(i);let s=i,a=i;for(let u=0;u<i;u++)wO(e,()=>{const c=Rt(t[u],e);let l=!1;c.subscribe(Mt(r,d=>{o[u]=d,l||(l=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}(r,e,i?s=>vO(i,s):zo));return n?o.pipe(_O(n)):o}function wO(t,e,n){t?gi(n,t,e):e()}const Qf=Zu(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function Dw(...t){return function YY(){return ta(1)}()(Rt(t,tc(t)))}function IO(t){return new Ue(e=>{ar(t()).subscribe(e)})}function Zc(t,e){const n=Pe(t)?t:()=>t,r=i=>i.error(n());return new Ue(e?i=>e.schedule(r,0,i):r)}function bw(){return $t((t,e)=>{let n=null;t._refCount++;const r=Mt(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class EO extends Ue{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,VA(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Wn;const n=this.getSubject();e.add(this.source.subscribe(Mt(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Wn.EMPTY)}return e}refCount(){return bw()(this)}}function Ni(t,e){return $t((n,r)=>{let i=null,o=0,s=!1;const a=()=>s&&!i&&r.complete();n.subscribe(Mt(r,u=>{i?.unsubscribe();let c=0;const l=o++;ar(t(u,l)).subscribe(i=Mt(r,d=>r.next(e?e(u,d,l,c++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function za(t){return t<=0?()=>Or:$t((e,n)=>{let r=0;e.subscribe(Mt(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function ho(t,e){return $t((n,r)=>{let i=0;n.subscribe(Mt(r,o=>t.call(e,o,i++)&&r.next(o)))})}function Yf(t){return $t((e,n)=>{let r=!1;e.subscribe(Mt(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function DO(t=JY){return $t((e,n)=>{let r=!1;e.subscribe(Mt(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function JY(){return new Qf}function as(t,e){const n=arguments.length>=2;return r=>r.pipe(t?ho((i,o)=>t(i,o,r)):zo,za(1),n?Yf(e):DO(()=>new Qf))}function el(t,e){return Pe(e)?jt(t,e,1):jt(t,1)}function ln(t,e,n){const r=Pe(t)||e||n?{next:t,error:e,complete:n}:t;return r?$t((i,o)=>{var s;null===(s=r.subscribe)||void 0===s||s.call(r);let a=!0;i.subscribe(Mt(o,u=>{var c;null===(c=r.next)||void 0===c||c.call(r,u),o.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),o.complete()},u=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,u),o.error(u)},()=>{var u,c;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):zo}function us(t){return $t((e,n)=>{let o,r=null,i=!1;r=e.subscribe(Mt(n,void 0,void 0,s=>{o=ar(t(s,us(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function Cw(t){return t<=0?()=>Or:$t((e,n)=>{let r=[];e.subscribe(Mt(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Tw(t){return $t((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}const ce="primary",tl=Symbol("RouteTitle");class rX{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function qa(t){return new rX(t)}function iX(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let o=0;o<r.length;o++){const s=r[o],a=t[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Qr(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!bO(t[i],e[i]))return!1;return!0}function bO(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}return t===e}function CO(t){return t.length>0?t[t.length-1]:null}function fo(t){return function $Y(t){return!!t&&(t instanceof Ue||Pe(t.lift)&&Pe(t.subscribe))}(t)?t:Vc(t)?Rt(Promise.resolve(t)):ie(t)}const sX={exact:function AO(t,e,n){if(!cs(t.segments,e.segments)||!Xf(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!AO(t.children[r],e.children[r],n))return!1;return!0},subset:xO},TO={exact:function aX(t,e){return Qr(t,e)},subset:function uX(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>bO(t[n],e[n]))},ignored:()=>!0};function SO(t,e,n){return sX[n.paths](t.root,e.root,n.matrixParams)&&TO[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function xO(t,e,n){return MO(t,e,e.segments,n)}function MO(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!cs(i,n)||e.hasChildren()||!Xf(i,n,r))}if(t.segments.length===n.length){if(!cs(t.segments,n)||!Xf(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!xO(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!!(cs(t.segments,i)&&Xf(t.segments,i,r)&&t.children[ce])&&MO(t.children[ce],e,o,r)}}function Xf(t,e,n){return e.every((r,i)=>TO[n](t[i].parameters,r.parameters))}class Wa{constructor(e=new Re([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=qa(this.queryParams)),this._queryParamMap}toString(){return dX.serialize(this)}}class Re{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Jf(this)}}class nl{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=qa(this.parameters)),this._parameterMap}toString(){return kO(this)}}function cs(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}let rl=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=q({token:t,factory:function(){return new Sw},providedIn:"root"}),t})();class Sw{parse(e){const n=new EX(e);return new Wa(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${il(e.root,!0)}`,r=function pX(t){const e=Object.keys(t).map(n=>{const r=t[n];return Array.isArray(r)?r.map(i=>`${Zf(n)}=${Zf(i)}`).join("&"):`${Zf(n)}=${Zf(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${n}${r}${"string"==typeof e.fragment?`#${function hX(t){return encodeURI(t)}(e.fragment)}`:""}`}}const dX=new Sw;function Jf(t){return t.segments.map(e=>kO(e)).join("/")}function il(t,e){if(!t.hasChildren())return Jf(t);if(e){const n=t.children[ce]?il(t.children[ce],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==ce&&r.push(`${i}:${il(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function lX(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===ce&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==ce&&(n=n.concat(e(i,r)))}),n}(t,(r,i)=>i===ce?[il(t.children[ce],!1)]:[`${i}:${il(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[ce]?`${Jf(t)}/${n[0]}`:`${Jf(t)}/(${n.join("//")})`}}function RO(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Zf(t){return RO(t).replace(/%3B/gi,";")}function Aw(t){return RO(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ep(t){return decodeURIComponent(t)}function NO(t){return ep(t.replace(/\+/g,"%20"))}function kO(t){return`${Aw(t.path)}${function fX(t){return Object.keys(t).map(e=>`;${Aw(e)}=${Aw(t[e])}`).join("")}(t.parameters)}`}const gX=/^[^\/()?;#]+/;function xw(t){const e=t.match(gX);return e?e[0]:""}const mX=/^[^\/()?;=#]+/,_X=/^[^=?&#]+/,wX=/^[^&#]+/;class EX{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Re([],{}):new Re([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[ce]=new Re(e,n)),r}parseSegment(){const e=xw(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new T(4009,!1);return this.capture(e),new nl(ep(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=function yX(t){const e=t.match(mX);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=xw(this.remaining);i&&(r=i,this.capture(r))}e[ep(n)]=ep(r)}parseQueryParam(e){const n=function vX(t){const e=t.match(_X);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const s=function IX(t){const e=t.match(wX);return e?e[0]:""}(this.remaining);s&&(r=s,this.capture(r))}const i=NO(n),o=NO(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=xw(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new T(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=ce);const s=this.parseChildren();n[o]=1===Object.keys(s).length?s[ce]:new Re([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new T(4011,!1)}}function PO(t){return t.segments.length>0?new Re([],{[ce]:t}):t}function OO(t){const e={};for(const r of Object.keys(t.children)){const o=OO(t.children[r]);if(r===ce&&0===o.segments.length&&o.hasChildren())for(const[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}return function DX(t){if(1===t.numberOfChildren&&t.children[ce]){const e=t.children[ce];return new Re(t.segments.concat(e.segments),e.children)}return t}(new Re(t.segments,e))}function ls(t){return t instanceof Wa}function FO(t){let e;const i=PO(function n(o){const s={};for(const u of o.children){const c=n(u);s[u.outlet]=c}const a=new Re(o.url,s);return o===t&&(e=a),a}(t.root));return e??i}function LO(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(0===e.length)return Mw(i,i,i,n,r);const o=function CX(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new UO(!0,0,t);let e=0,n=!1;const r=t.reduce((i,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return Object.entries(o.outlets).forEach(([u,c])=>{a[u]="string"==typeof c?c.split("/"):c}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return"string"!=typeof o?[...i,o]:0===s?(o.split("/").forEach((a,u)=>{0==u&&"."===a||(0==u&&""===a?n=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,o]},[]);return new UO(n,e,r)}(e);if(o.toRoot())return Mw(i,i,new Re([],{}),n,r);const s=function TX(t,e,n){if(t.isAbsolute)return new np(e,!0,0);if(!n)return new np(e,!1,NaN);if(null===n.parent)return new np(n,!0,0);const r=tp(t.commands[0])?0:1;return function SX(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new T(4005,!1);i=r.segments.length}return new np(r,!1,i-o)}(n,n.segments.length-1+r,t.numberOfDoubleDots)}(o,i,t),a=s.processChildren?sl(s.segmentGroup,s.index,o.commands):BO(s.segmentGroup,s.index,o.commands);return Mw(i,s.segmentGroup,a,n,r)}function tp(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function ol(t){return"object"==typeof t&&null!=t&&t.outlets}function Mw(t,e,n,r,i){let s,o={};r&&Object.entries(r).forEach(([u,c])=>{o[u]=Array.isArray(c)?c.map(l=>`${l}`):`${c}`}),s=t===e?n:VO(t,e,n);const a=PO(OO(s));return new Wa(a,o,i)}function VO(t,e,n){const r={};return Object.entries(t.children).forEach(([i,o])=>{r[i]=o===e?n:VO(o,e,n)}),new Re(t.segments,r)}class UO{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&tp(r[0]))throw new T(4003,!1);const i=r.find(ol);if(i&&i!==CO(r))throw new T(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class np{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function BO(t,e,n){if(t||(t=new Re([],{})),0===t.segments.length&&t.hasChildren())return sl(t,e,n);const r=function xX(t,e,n){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;const s=t.segments[i],a=n[r];if(ol(a))break;const u=`${a}`,c=r<n.length-1?n[r+1]:null;if(i>0&&void 0===u)break;if(u&&c&&"object"==typeof c&&void 0===c.outlets){if(!jO(u,c,s))return o;r+=2}else{if(!jO(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const o=new Re(t.segments.slice(0,r.pathIndex),{});return o.children[ce]=new Re(t.segments.slice(r.pathIndex),t.children),sl(o,0,i)}return r.match&&0===i.length?new Re(t.segments,{}):r.match&&!t.hasChildren()?Rw(t,e,n):r.match?sl(t,0,i):Rw(t,e,n)}function sl(t,e,n){if(0===n.length)return new Re(t.segments,{});{const r=function AX(t){return ol(t[0])?t[0].outlets:{[ce]:t}}(n),i={};if(!r[ce]&&t.children[ce]&&1===t.numberOfChildren&&0===t.children[ce].segments.length){const o=sl(t.children[ce],e,n);return new Re(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=BO(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{void 0===r[o]&&(i[o]=s)}),new Re(t.segments,i)}}function Rw(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const o=n[i];if(ol(o)){const u=MX(o.outlets);return new Re(r,u)}if(0===i&&tp(n[0])){r.push(new nl(t.segments[e].path,$O(n[0]))),i++;continue}const s=ol(o)?o.outlets[ce]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&tp(a)?(r.push(new nl(s,$O(a))),i+=2):(r.push(new nl(s,{})),i++)}return new Re(r,{})}function MX(t){const e={};return Object.entries(t).forEach(([n,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[n]=Rw(new Re([],{}),0,r))}),e}function $O(t){const e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function jO(t,e,n){return t==n.path&&Qr(e,n.parameters)}const al="imperative";class Yr{constructor(e,n){this.id=e,this.url=n}}class Nw extends Yr{constructor(e,n,r="imperative",i=null){super(e,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ds extends Yr{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class rp extends Yr{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class ul extends Yr{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=16}}class kw extends Yr{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class RX extends Yr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class NX extends Yr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class kX extends Yr{constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class PX extends Yr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class OX extends Yr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class FX{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class LX{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class VX{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class UX{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class BX{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $X{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class HO{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class jX{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new cl,this.attachRef=null}}let cl=(()=>{class t{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){const i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new jX,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class GO{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=Pw(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=Pw(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=Ow(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Ow(e,this._root).map(n=>n.value)}}function Pw(t,e){if(t===e.value)return e;for(const n of e.children){const r=Pw(t,n);if(r)return r}return null}function Ow(t,e){if(t===e.value)return[e];for(const n of e.children){const r=Ow(t,n);if(r.length)return r.unshift(e),r}return[]}class ki{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function Ka(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class zO extends GO{constructor(e,n){super(e),this.snapshot=n,Fw(this,e)}toString(){return this.snapshot.toString()}}function qO(t,e){const n=function HX(t,e){const s=new ip([],{},{},"",{},ce,e,null,{});return new KO("",new ki(s,[]))}(0,e),r=new Sr([new nl("",{})]),i=new Sr({}),o=new Sr({}),s=new Sr({}),a=new Sr(""),u=new Qa(r,i,s,a,o,ce,e,n.root);return u.snapshot=n.root,new zO(new ki(u,[]),n)}class Qa{constructor(e,n,r,i,o,s,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(Se(c=>c[tl]))??ie(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Se(e=>qa(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Se(e=>qa(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function WO(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const i=n[r],o=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function GX(t){return t.reduce((e,n)=>({params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class ip{get title(){return this.data?.[tl]}constructor(e,n,r,i,o,s,a,u,c){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=qa(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=qa(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class KO extends GO{constructor(e,n){super(n),this.url=e,Fw(this,n)}toString(){return QO(this._root)}}function Fw(t,e){e.value._routerState=t,e.children.forEach(n=>Fw(t,n))}function QO(t){const e=t.children.length>0?` { ${t.children.map(QO).join(", ")} } `:"";return`${t.value}${e}`}function Lw(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Qr(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Qr(e.params,n.params)||t.paramsSubject.next(n.params),function oX(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Qr(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.urlSubject.next(n.url),Qr(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Vw(t,e){const n=Qr(t.params,e.params)&&function cX(t,e){return cs(t,e)&&t.every((n,r)=>Qr(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||Vw(t.parent,e.parent))}let Uw=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=ce,this.activateEvents=new rt,this.deactivateEvents=new rt,this.attachEvents=new rt,this.detachEvents=new rt,this.parentContexts=B(cl),this.location=B(Dr),this.changeDetector=B(Mf),this.environmentInjector=B(Di),this.inputBinder=B(op,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){const{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new T(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new T(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new T(4012,!1);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new T(4013,!1);this._activatedRoute=n;const i=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new zX(n,a,i.injector);this.activated=i.createComponent(s,{index:i.length,injector:u,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=Z({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[cr]}),t})();class zX{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Qa?this.route:e===cl?this.childContexts:this.parent.get(e,n)}}const op=new U("");let YO=(()=>{class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){const{activatedRoute:r}=n,i=Ew([r.queryParams,r.params,r.data]).pipe(Ni(([o,s,a],u)=>(a={...o,...s,...a},0===u?ie(a):Promise.resolve(a)))).subscribe(o=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(n);const s=function fK(t){const e=De(t);if(!e)return null;const n=new kc(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone}}}(r.component);if(s)for(const{templateName:a}of s.inputs)n.activatedComponentRef.setInput(a,o[a]);else this.unsubscribeFromRouteData(n)});this.outletDataSubscriptions.set(n,i)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=q({token:t,factory:t.\u0275fac}),t})();function ll(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function WX(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return ll(t,r,i);return ll(t,r)})}(t,e,n);return new ki(r,i)}{if(t.shouldAttach(e.value)){const o=t.retrieve(e.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>ll(t,a)),s}}const r=function KX(t){return new Qa(new Sr(t.url),new Sr(t.params),new Sr(t.queryParams),new Sr(t.fragment),new Sr(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(o=>ll(t,o));return new ki(r,i)}}const Bw="ngNavigationCancelingError";function XO(t,e){const{redirectTo:n,navigationBehaviorOptions:r}=ls(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=JO(!1,0,e);return i.url=n,i.navigationBehaviorOptions=r,i}function JO(t,e,n){const r=new Error("NavigationCancelingError: "+(t||""));return r[Bw]=!0,r.cancellationCode=e,n&&(r.url=n),r}function ZO(t){return eF(t)&&ls(t.url)}function eF(t){return t&&t[Bw]}let tF=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=Lr({type:t,selectors:[["ng-component"]],standalone:!0,features:[ZN],decls:1,vars:0,template:function(n,r){1&n&&G(0,"router-outlet")},dependencies:[Uw],encapsulation:2}),t})();function $w(t){const e=t.children&&t.children.map($w),n=e?{...t,children:e}:{...t};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==ce&&(n.component=tF),n}function Ar(t){return t.outlet||ce}function dl(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class tJ{constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Lw(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=Ka(n);e.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){const i=e.value,o=n?n.value:null;if(i===o)if(i.component){const s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Ka(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);if(r&&r.outlet){const s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Ka(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){const i=Ka(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new $X(o.value.snapshot))}),e.children.length&&this.forwardEvent(new UX(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,o=n?n.value:null;if(Lw(i),i===o)if(i.component){const s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Lw(a.route.value),this.activateChildRoutes(e,null,s.children)}else{const a=dl(i.snapshot);s.attachRef=null,s.route=i,s.injector=a,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,r)}}class nF{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class sp{constructor(e,n){this.component=e,this.route=n}}function nJ(t,e,n){const r=t._root;return hl(r,e?e._root:null,n,[r.value])}function Ya(t,e){const n=Symbol(),r=e.get(t,n);return r===n?"function"!=typeof t||function YG(t){return null!==ih(t)}(t)?e.get(t):t:r}function hl(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=Ka(e);return t.children.forEach(s=>{(function iJ(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const u=function oJ(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!cs(t.url,e.url);case"pathParamsOrQueryParamsChange":return!cs(t.url,e.url)||!Qr(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Vw(t,e)||!Qr(t.queryParams,e.queryParams);default:return!Vw(t,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new nF(r)):(o.data=s.data,o._resolvedData=s._resolvedData),hl(t,e,o.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new sp(a.outlet.component,s))}else s&&fl(e,a,i),i.canActivateChecks.push(new nF(r)),hl(t,null,o.component?a?a.children:null:n,r,i)})(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>fl(a,n.getContext(s),i)),i}function fl(t,e,n){const r=Ka(t),i=t.value;Object.entries(r).forEach(([o,s])=>{fl(s,i.component?e?e.children.getContext(o):null:e,n)}),n.canDeactivateChecks.push(new sp(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function pl(t){return"function"==typeof t}function rF(t){return t instanceof Qf||"EmptyError"===t?.name}const ap=Symbol("INITIAL_VALUE");function Xa(){return Ni(t=>Ew(t.map(e=>e.pipe(za(1),function XY(...t){const e=tc(t);return $t((n,r)=>{(e?Dw(t,n,e):Dw(t,n)).subscribe(r)})}(ap)))).pipe(Se(e=>{for(const n of e)if(!0!==n){if(n===ap)return ap;if(!1===n||n instanceof Wa)return n}return!0}),ho(e=>e!==ap),za(1)))}function iF(t){return function rG(...t){return OA(t)}(ln(e=>{if(ls(e))throw XO(0,e)}),Se(e=>!0===e))}class up{constructor(e){this.segmentGroup=e||null}}class oF{constructor(e){this.urlTree=e}}function Ja(t){return Zc(new up(t))}function sF(t){return Zc(new oF(t))}class CJ{constructor(e,n){this.urlSerializer=e,this.urlTree=n}noMatchError(e){return new T(4002,!1)}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return ie(r);if(i.numberOfChildren>1||!i.children[ce])return Zc(new T(4e3,!1));i=i.children[ce]}}applyRedirectCommands(e,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r)}applyRedirectCreateUrlTree(e,n,r,i){const o=this.createSegmentGroup(e,n.root,r,i);return new Wa(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return Object.entries(e).forEach(([i,o])=>{if("string"==typeof o&&o.startsWith(":")){const a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){const o=this.createSegments(e,n.segments,r,i);let s={};return Object.entries(n.children).forEach(([a,u])=>{s[a]=this.createSegmentGroup(e,u,r,i)}),new Re(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new T(4001,!1);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}const jw={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function TJ(t,e,n,r,i){const o=Hw(t,e,n);return o.matched?(r=function QX(t,e){return t.providers&&!t._injector&&(t._injector=gv(t.providers,e,`Route: ${t.path}`)),t._injector??e}(e,r),function EJ(t,e,n,r){const i=e.canMatch;return i&&0!==i.length?ie(i.map(s=>{const a=Ya(s,t);return fo(function dJ(t){return t&&pl(t.canMatch)}(a)?a.canMatch(e,n):t.runInContext(()=>a(e,n)))})).pipe(Xa(),iF()):ie(!0)}(r,e,n).pipe(Se(s=>!0===s?o:{...jw}))):ie(o)}function Hw(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{...jw}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(e.matcher||iX)(n,t,e);if(!i)return{...jw};const o={};Object.entries(i.posParams??{}).forEach(([a,u])=>{o[a]=u.path});const s=i.consumed.length>0?{...o,...i.consumed[i.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function aF(t,e,n,r){return n.length>0&&function xJ(t,e,n){return n.some(r=>cp(t,e,r)&&Ar(r)!==ce)}(t,n,r)?{segmentGroup:new Re(e,AJ(r,new Re(n,t.children))),slicedSegments:[]}:0===n.length&&function MJ(t,e,n){return n.some(r=>cp(t,e,r))}(t,n,r)?{segmentGroup:new Re(t.segments,SJ(t,0,n,r,t.children)),slicedSegments:n}:{segmentGroup:new Re(t.segments,t.children),slicedSegments:n}}function SJ(t,e,n,r,i){const o={};for(const s of r)if(cp(t,n,s)&&!i[Ar(s)]){const a=new Re([],{});o[Ar(s)]=a}return{...i,...o}}function AJ(t,e){const n={};n[ce]=e;for(const r of t)if(""===r.path&&Ar(r)!==ce){const i=new Re([],{});n[Ar(r)]=i}return n}function cp(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}class PJ{constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new CJ(this.urlSerializer,this.urlTree)}noMatchError(e){return new T(4002,!1)}recognize(){const e=aF(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,ce).pipe(us(n=>{if(n instanceof oF)return this.allowRedirects=!1,this.urlTree=n.urlTree,this.match(n.urlTree);throw n instanceof up?this.noMatchError(n):n}),Se(n=>{const r=new ip([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},ce,this.rootComponentType,null,{}),i=new ki(r,n),o=new KO("",i),s=function bX(t,e,n=null,r=null){return LO(FO(t),e,n,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root),{state:o,tree:s}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,ce).pipe(us(r=>{throw r instanceof up?this.noMatchError(r):r}))}inheritParamsAndData(e){const n=e.value,r=WO(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0)}processChildren(e,n,r){const i=[];for(const o of Object.keys(r.children))"primary"===o?i.unshift(o):i.push(o);return Rt(i).pipe(el(o=>{const s=r.children[o],a=function ZX(t,e){const n=t.filter(r=>Ar(r)===e);return n.push(...t.filter(r=>Ar(r)!==e)),n}(n,o);return this.processSegmentGroup(e,a,s,o)}),function eX(t,e){return $t(function ZY(t,e,n,r,i){return(o,s)=>{let a=n,u=e,c=0;o.subscribe(Mt(s,l=>{const d=c++;u=a?t(u,l,d):(a=!0,l),r&&s.next(u)},i&&(()=>{a&&s.next(u),s.complete()})))}}(t,e,arguments.length>=2,!0))}((o,s)=>(o.push(...s),o)),Yf(null),function tX(t,e){const n=arguments.length>=2;return r=>r.pipe(t?ho((i,o)=>t(i,o,r)):zo,Cw(1),n?Yf(e):DO(()=>new Qf))}(),jt(o=>{if(null===o)return Ja(r);const s=uF(o);return function OJ(t){t.sort((e,n)=>e.value.outlet===ce?-1:n.value.outlet===ce?1:e.value.outlet.localeCompare(n.value.outlet))}(s),ie(s)}))}processSegment(e,n,r,i,o,s){return Rt(n).pipe(el(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,o,s).pipe(us(u=>{if(u instanceof up)return ie(null);throw u}))),as(a=>!!a),us(a=>{if(rF(a))return function NJ(t,e,n){return 0===e.length&&!t.children[n]}(r,i,o)?ie([]):Ja(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,o,s,a){return function RJ(t,e,n,r){return!!(Ar(t)===r||r!==ce&&cp(e,n,t))&&("**"===t.path||Hw(e,t,n).matched)}(r,i,o,s)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,o,s,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s):Ja(i):Ja(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,s):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,i){const o=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?sF(o):this.applyRedirects.lineralizeSegments(r,o).pipe(jt(s=>{const a=new Re(s,{});return this.processSegment(e,n,a,s,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s){const{matched:a,consumedSegments:u,remainingSegments:c,positionalParamSegments:l}=Hw(n,i,o);if(!a)return Ja(n);const d=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,l);return i.redirectTo.startsWith("/")?sF(d):this.applyRedirects.lineralizeSegments(i,d).pipe(jt(h=>this.processSegment(e,r,n,h.concat(c),s,!1)))}matchSegmentAgainstRoute(e,n,r,i,o,s){let a;if("**"===r.path){const u=i.length>0?CO(i).parameters:{};a=ie({snapshot:new ip(i,u,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,cF(r),Ar(r),r.component??r._loadedComponent??null,r,lF(r)),consumedSegments:[],remainingSegments:[]}),n.children={}}else a=TJ(n,r,i,e).pipe(Se(({matched:u,consumedSegments:c,remainingSegments:l,parameters:d})=>u?{snapshot:new ip(c,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,cF(r),Ar(r),r.component??r._loadedComponent??null,r,lF(r)),consumedSegments:c,remainingSegments:l}:null));return a.pipe(Ni(u=>null===u?Ja(n):this.getChildConfig(e=r._injector??e,r,i).pipe(Ni(({routes:c})=>{const l=r._loadedInjector??e,{snapshot:d,consumedSegments:h,remainingSegments:f}=u,{segmentGroup:p,slicedSegments:m}=aF(n,h,f,c);if(0===m.length&&p.hasChildren())return this.processChildren(l,c,p).pipe(Se(v=>null===v?null:[new ki(d,v)]));if(0===c.length&&0===m.length)return ie([new ki(d,[])]);const y=Ar(r)===o;return this.processSegment(l,c,p,m,y?ce:o,!0).pipe(Se(v=>[new ki(d,v)]))}))))}getChildConfig(e,n,r){return n.children?ie({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?ie({routes:n._loadedRoutes,injector:n._loadedInjector}):function IJ(t,e,n,r){const i=e.canLoad;return void 0===i||0===i.length?ie(!0):ie(i.map(s=>{const a=Ya(s,t);return fo(function aJ(t){return t&&pl(t.canLoad)}(a)?a.canLoad(e,n):t.runInContext(()=>a(e,n)))})).pipe(Xa(),iF())}(e,n,r).pipe(jt(i=>i?this.configLoader.loadChildren(e,n).pipe(ln(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):function bJ(t){return Zc(JO(!1,3))}())):ie({routes:[],injector:e})}}function FJ(t){const e=t.value.routeConfig;return e&&""===e.path}function uF(t){const e=[],n=new Set;for(const r of t){if(!FJ(r)){e.push(r);continue}const i=e.find(o=>r.value.routeConfig===o.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=uF(r.children);e.push(new ki(r.value,i))}return e.filter(r=>!n.has(r))}function cF(t){return t.data||{}}function lF(t){return t.resolve||{}}function dF(t){return"string"==typeof t.title||null===t.title}function Gw(t){return Ni(e=>{const n=t(e);return n?Rt(n).pipe(Se(()=>e)):ie(e)})}const Za=new U("ROUTES");let zw=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=B(Gk)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return ie(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const r=fo(n.loadComponent()).pipe(Se(hF),ln(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),Tw(()=>{this.componentLoaders.delete(n)})),i=new EO(r,()=>new pi).pipe(bw());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return ie({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const o=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(Se(a=>{this.onLoadEndListener&&this.onLoadEndListener(r);let u,c;return Array.isArray(a)?c=a:(u=a.create(n).injector,c=u.get(Za,[],W.Self|W.Optional).flat()),{routes:c.map($w),injector:u}}),Tw(()=>{this.childrenLoaders.delete(r)})),s=new EO(o,()=>new pi).pipe(bw());return this.childrenLoaders.set(r,s),s}loadModuleFactoryOrRoutes(n){return fo(n()).pipe(Se(hF),jt(r=>r instanceof XN||Array.isArray(r)?ie(r):Rt(this.compiler.compileModuleAsync(r))))}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function hF(t){return function HJ(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let lp=(()=>{class t{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new pi,this.configLoader=B(zw),this.environmentInjector=B(Di),this.urlSerializer=B(rl),this.rootContexts=B(cl),this.inputBindingEnabled=null!==B(op,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>ie(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new LX(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new FX(i))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:r})}setupNavigations(n){return this.transitions=new Sr({id:0,currentUrlTree:n.currentUrlTree,currentRawUrl:n.currentUrlTree,extractedUrl:n.urlHandlingStrategy.extract(n.currentUrlTree),urlAfterRedirects:n.urlHandlingStrategy.extract(n.currentUrlTree),rawUrl:n.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:al,restoredState:null,currentSnapshot:n.routerState.snapshot,targetSnapshot:null,currentRouterState:n.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(ho(r=>0!==r.id),Se(r=>({...r,extractedUrl:n.urlHandlingStrategy.extract(r.rawUrl)})),Ni(r=>{let i=!1,o=!1;return ie(r).pipe(ln(s=>{this.currentNavigation={id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,trigger:s.source,extras:s.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Ni(s=>{const a=n.browserUrlTree.toString(),u=!n.navigated||s.extractedUrl.toString()!==a||a!==n.currentUrlTree.toString();if(!u&&"reload"!==(s.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const l="";return this.events.next(new ul(s.id,n.serializeUrl(r.rawUrl),l,0)),n.rawUrlTree=s.rawUrl,s.resolve(null),Or}if(n.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return fF(s.source)&&(n.browserUrlTree=s.extractedUrl),ie(s).pipe(Ni(l=>{const d=this.transitions?.getValue();return this.events.next(new Nw(l.id,this.urlSerializer.serialize(l.extractedUrl),l.source,l.restoredState)),d!==this.transitions?.getValue()?Or:Promise.resolve(l)}),function LJ(t,e,n,r,i,o){return jt(s=>function kJ(t,e,n,r,i,o,s="emptyOnly"){return new PJ(t,e,n,r,i,s,o).recognize()}(t,e,n,r,s.extractedUrl,i,o).pipe(Se(({state:a,tree:u})=>({...s,targetSnapshot:a,urlAfterRedirects:u}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,n.paramsInheritanceStrategy),ln(l=>{if(r.targetSnapshot=l.targetSnapshot,r.urlAfterRedirects=l.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:l.urlAfterRedirects},"eager"===n.urlUpdateStrategy){if(!l.extras.skipLocationChange){const h=n.urlHandlingStrategy.merge(l.urlAfterRedirects,l.rawUrl);n.setBrowserUrl(h,l)}n.browserUrlTree=l.urlAfterRedirects}const d=new RX(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}));if(u&&n.urlHandlingStrategy.shouldProcessUrl(n.rawUrlTree)){const{id:l,extractedUrl:d,source:h,restoredState:f,extras:p}=s,m=new Nw(l,this.urlSerializer.serialize(d),h,f);this.events.next(m);const y=qO(0,this.rootComponentType).snapshot;return ie(r={...s,targetSnapshot:y,urlAfterRedirects:d,extras:{...p,skipLocationChange:!1,replaceUrl:!1}})}{const l="";return this.events.next(new ul(s.id,n.serializeUrl(r.extractedUrl),l,1)),n.rawUrlTree=s.rawUrl,s.resolve(null),Or}}),ln(s=>{const a=new NX(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),Se(s=>r={...s,guards:nJ(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),function fJ(t,e){return jt(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?ie({...n,guardsResult:!0}):function pJ(t,e,n,r){return Rt(t).pipe(jt(i=>function wJ(t,e,n,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?ie(o.map(a=>{const u=dl(e)??i,c=Ya(a,u);return fo(function lJ(t){return t&&pl(t.canDeactivate)}(c)?c.canDeactivate(t,e,n,r):u.runInContext(()=>c(t,e,n,r))).pipe(as())})).pipe(Xa()):ie(!0)}(i.component,i.route,n,e,r)),as(i=>!0!==i,!0))}(s,r,i,t).pipe(jt(a=>a&&function sJ(t){return"boolean"==typeof t}(a)?function gJ(t,e,n,r){return Rt(e).pipe(el(i=>Dw(function yJ(t,e){return null!==t&&e&&e(new VX(t)),ie(!0)}(i.route.parent,r),function mJ(t,e){return null!==t&&e&&e(new BX(t)),ie(!0)}(i.route,r),function vJ(t,e,n){const r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>function rJ(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(s)).filter(s=>null!==s).map(s=>IO(()=>ie(s.guards.map(u=>{const c=dl(s.node)??n,l=Ya(u,c);return fo(function cJ(t){return t&&pl(t.canActivateChild)}(l)?l.canActivateChild(r,t):c.runInContext(()=>l(r,t))).pipe(as())})).pipe(Xa())));return ie(o).pipe(Xa())}(t,i.path,n),function _J(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return ie(!0);const i=r.map(o=>IO(()=>{const s=dl(e)??n,a=Ya(o,s);return fo(function uJ(t){return t&&pl(t.canActivate)}(a)?a.canActivate(e,t):s.runInContext(()=>a(e,t))).pipe(as())}));return ie(i).pipe(Xa())}(t,i.route,n))),as(i=>!0!==i,!0))}(r,o,t,e):ie(a)),Se(a=>({...n,guardsResult:a})))})}(this.environmentInjector,s=>this.events.next(s)),ln(s=>{if(r.guardsResult=s.guardsResult,ls(s.guardsResult))throw XO(0,s.guardsResult);const a=new kX(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),ho(s=>!!s.guardsResult||(n.restoreHistory(s),this.cancelNavigationTransition(s,"",3),!1)),Gw(s=>{if(s.guards.canActivateChecks.length)return ie(s).pipe(ln(a=>{const u=new PX(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}),Ni(a=>{let u=!1;return ie(a).pipe(function VJ(t,e){return jt(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return ie(n);let o=0;return Rt(i).pipe(el(s=>function UJ(t,e,n,r){const i=t.routeConfig,o=t._resolve;return void 0!==i?.title&&!dF(i)&&(o[tl]=i.title),function BJ(t,e,n,r){const i=function $J(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===i.length)return ie({});const o={};return Rt(i).pipe(jt(s=>function jJ(t,e,n,r){const i=dl(e)??r,o=Ya(t,i);return fo(o.resolve?o.resolve(e,n):i.runInContext(()=>o(e,n)))}(t[s],e,n,r).pipe(as(),ln(a=>{o[s]=a}))),Cw(1),function nX(t){return Se(()=>t)}(o),us(s=>rF(s)?Or:Zc(s)))}(o,t,e,r).pipe(Se(s=>(t._resolvedData=s,t.data=WO(t,n).resolve,i&&dF(i)&&(t.data[tl]=i.title),null)))}(s.route,r,t,e)),ln(()=>o++),Cw(1),jt(s=>o===i.length?ie(n):Or))})}(n.paramsInheritanceStrategy,this.environmentInjector),ln({next:()=>u=!0,complete:()=>{u||(n.restoreHistory(a),this.cancelNavigationTransition(a,"",2))}}))}),ln(a=>{const u=new OX(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}))}),Gw(s=>{const a=u=>{const c=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&c.push(this.configLoader.loadComponent(u.routeConfig).pipe(ln(l=>{u.component=l}),Se(()=>{})));for(const l of u.children)c.push(...a(l));return c};return Ew(a(s.targetSnapshot.root)).pipe(Yf(),za(1))}),Gw(()=>this.afterPreactivation()),Se(s=>{const a=function qX(t,e,n){const r=ll(t,e._root,n?n._root:void 0);return new zO(r,e)}(n.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return r={...s,targetRouterState:a}}),ln(s=>{n.currentUrlTree=s.urlAfterRedirects,n.rawUrlTree=n.urlHandlingStrategy.merge(s.urlAfterRedirects,s.rawUrl),n.routerState=s.targetRouterState,"deferred"===n.urlUpdateStrategy&&(s.extras.skipLocationChange||n.setBrowserUrl(n.rawUrlTree,s),n.browserUrlTree=s.urlAfterRedirects)}),((t,e,n,r)=>Se(i=>(new tJ(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)))(this.rootContexts,n.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),za(1),ln({next:s=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,n.navigated=!0,this.events.next(new ds(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(n.currentUrlTree))),n.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{i=!0}}),Tw(()=>{i||o||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),us(s=>{if(o=!0,eF(s)){ZO(s)||(n.navigated=!0,n.restoreHistory(r,!0));const a=new rp(r.id,this.urlSerializer.serialize(r.extractedUrl),s.message,s.cancellationCode);if(this.events.next(a),ZO(s)){const u=n.urlHandlingStrategy.merge(s.url,n.rawUrlTree),c={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===n.urlUpdateStrategy||fF(r.source)};n.scheduleNavigation(u,al,null,c,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{n.restoreHistory(r,!0);const a=new kw(r.id,this.urlSerializer.serialize(r.extractedUrl),s,r.targetSnapshot??void 0);this.events.next(a);try{r.resolve(n.errorHandler(s))}catch(u){r.reject(u)}}return Or}))}))}cancelNavigationTransition(n,r,i){const o=new rp(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function fF(t){return t!==al}let pF=(()=>{class t{buildTitle(n){let r,i=n.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===ce);return r}getResolvedTitleForRoute(n){return n.data[tl]}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=q({token:t,factory:function(){return B(GJ)},providedIn:"root"}),t})(),GJ=(()=>{class t extends pF{constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}}return t.\u0275fac=function(n){return new(n||t)(z(fO))},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),zJ=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=q({token:t,factory:function(){return B(WJ)},providedIn:"root"}),t})();class qJ{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}let WJ=(()=>{class t extends qJ{}return t.\u0275fac=function(){let e;return function(r){return(e||(e=qt(t)))(r||t)}}(),t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const dp=new U("",{providedIn:"root",factory:()=>({})});let KJ=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=q({token:t,factory:function(){return B(QJ)},providedIn:"root"}),t})(),QJ=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var tr=(()=>((tr=tr||{})[tr.COMPLETE=0]="COMPLETE",tr[tr.FAILED=1]="FAILED",tr[tr.REDIRECTING=2]="REDIRECTING",tr))();function gF(t,e){t.events.pipe(ho(n=>n instanceof ds||n instanceof rp||n instanceof kw||n instanceof ul),Se(n=>n instanceof ds||n instanceof ul?tr.COMPLETE:n instanceof rp&&(0===n.code||1===n.code)?tr.REDIRECTING:tr.FAILED),ho(n=>n!==tr.REDIRECTING),za(1)).subscribe(()=>{e()})}function YJ(t){throw t}function XJ(t,e,n){return e.parse("/")}const JJ={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},ZJ={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let nr=(()=>{class t{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=B(Hk),this.isNgZoneEnabled=!1,this.options=B(dp,{optional:!0})||{},this.pendingTasks=B(TP),this.errorHandler=this.options.errorHandler||YJ,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||XJ,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=B(KJ),this.routeReuseStrategy=B(zJ),this.titleStrategy=B(pF),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=B(Za,{optional:!0})?.flat()??[],this.navigationTransitions=B(lp),this.urlSerializer=B(rl),this.location=B(Xv),this.componentInputBindingEnabled=!!B(op,{optional:!0}),this.isNgZoneEnabled=B(Me)instanceof Me&&Me.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Wa,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=qO(0,null),this.navigationTransitions.setupNavigations(this).subscribe(n=>{this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId??0},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)})}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const n=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),al,n)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r="popstate"===n.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(n.url,r,n.state)},0)}))}navigateToSyncWithBrowser(n,r,i){const o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){const u={...i};delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(o.state=u)}const a=this.parseUrl(n);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map($w),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(n,r={}){const{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:u}=r,c=u?this.currentUrlTree.fragment:s;let d,l=null;switch(a){case"merge":l={...this.currentUrlTree.queryParams,...o};break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=o||null}null!==l&&(l=this.removeEmptyProps(l));try{d=FO(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof n[0]||!n[0].startsWith("/"))&&(n=[]),d=this.currentUrlTree.root}return LO(d,n,l,c??null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=ls(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,al,null,r)}navigate(n,r={skipLocationChange:!1}){return function eZ(t){for(let e=0;e<t.length;e++)if(null==t[e])throw new T(4008,!1)}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,n)}return r}isActive(n,r){let i;if(i=!0===r?{...JJ}:!1===r?{...ZJ}:r,ls(n))return SO(this.currentUrlTree,n,i);const o=this.parseUrl(n);return SO(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.keys(n).reduce((r,i)=>{const o=n[i];return null!=o&&(r[i]=o),r},{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,u,c;s?(a=s.resolve,u=s.reject,c=s.promise):c=new Promise((d,h)=>{a=d,u=h});const l=this.pendingTasks.add();return gF(this,()=>{Promise.resolve().then(()=>this.pendingTasks.remove(l))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:a,reject:u,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(d=>Promise.reject(d))}setBrowserUrl(n,r){const i=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const s={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",s)}else{const o={...r.extras.state,...this.generateNgRouterState(r.id,(this.browserPageId??0)+1)};this.location.go(i,"",o)}}restoreHistory(n,r=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-(this.browserPageId??this.currentPageId);0!==o?this.location.historyGo(o):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===o&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class mF{}let rZ=(()=>{class t{constructor(n,r,i,o,s){this.router=n,this.injector=i,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(ho(n=>n instanceof ds),el(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const i=[];for(const o of r){o.providers&&!o._injector&&(o._injector=gv(o.providers,n,`Route: ${o.path}`));const s=o._injector??n,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return Rt(i).pipe(ta())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(n,r):ie(null);const o=i.pipe(jt(s=>null===s?ie(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??n,s.routes))));return r.loadComponent&&!r._loadedComponent?Rt([o,this.loader.loadComponent(r)]).pipe(ta()):o})}}return t.\u0275fac=function(n){return new(n||t)(z(nr),z(Gk),z(Di),z(mF),z(zw))},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Ww=new U("");let yF=(()=>{class t{constructor(n,r,i,o,s={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Nw?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof ds?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof ul&&0===n.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof HO&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new HO(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return t.\u0275fac=function(n){!function WM(){throw new Error("invalid")}()},t.\u0275prov=q({token:t,factory:t.\u0275fac}),t})();function Pi(t,e){return{\u0275kind:t,\u0275providers:e}}function vF(){const t=B(Un);return e=>{const n=t.get(Ha);if(e!==n.components[0])return;const r=t.get(nr),i=t.get(wF);1===t.get(Kw)&&r.initialNavigation(),t.get(IF,null,W.Optional)?.setUpPreloading(),t.get(Ww,null,W.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const wF=new U("",{factory:()=>new pi}),Kw=new U("",{providedIn:"root",factory:()=>1}),IF=new U("");function aZ(t){return Pi(0,[{provide:IF,useExisting:rZ},{provide:mF,useExisting:t}])}const EF=new U("ROUTER_FORROOT_GUARD"),cZ=[Xv,{provide:rl,useClass:Sw},nr,cl,{provide:Qa,useFactory:function _F(t){return t.routerState.root},deps:[nr]},zw,[]];function lZ(){return new tP("Router",nr)}let Qw=(()=>{class t{constructor(n){}static forRoot(n,r){return{ngModule:t,providers:[cZ,[],{provide:Za,multi:!0,useValue:n},{provide:EF,useFactory:pZ,deps:[[nr,new Ct,new kh]]},{provide:dp,useValue:r||{}},r?.useHash?{provide:os,useClass:_K}:{provide:os,useClass:MP},{provide:Ww,useFactory:()=>{const t=B(FQ),e=B(Me),n=B(dp),r=B(lp),i=B(rl);return n.scrollOffset&&t.setOffset(n.scrollOffset),new yF(i,r,t,e,n)}},r?.preloadingStrategy?aZ(r.preloadingStrategy).\u0275providers:[],{provide:tP,multi:!0,useFactory:lZ},r?.initialNavigation?gZ(r):[],r?.bindToComponentInputs?Pi(8,[YO,{provide:op,useExisting:YO}]).\u0275providers:[],[{provide:DF,useFactory:vF},{provide:Bv,multi:!0,useExisting:DF}]]}}static forChild(n){return{ngModule:t,providers:[{provide:Za,multi:!0,useValue:n}]}}}return t.\u0275fac=function(n){return new(n||t)(z(EF,8))},t.\u0275mod=rn({type:t}),t.\u0275inj=Ht({}),t})();function pZ(t){return"guarded"}function gZ(t){return["disabled"===t.initialNavigation?Pi(3,[{provide:Rv,multi:!0,useFactory:()=>{const e=B(nr);return()=>{e.setUpLocationChangeListener()}}},{provide:Kw,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?Pi(2,[{provide:Kw,useValue:0},{provide:Rv,multi:!0,deps:[Un],useFactory:e=>{const n=e.get(mK,Promise.resolve());return()=>n.then(()=>new Promise(r=>{const i=e.get(nr),o=e.get(wF);gF(i,()=>{r(!0)}),e.get(lp).afterPreactivation=()=>(r(!0),o.closed?ie(void 0):o),i.initialNavigation()}))}}]).\u0275providers:[]]}const DF=new U(""),yZ=[];let _Z=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=rn({type:t}),t.\u0275inj=Ht({imports:[Qw.forRoot(yZ),Qw]}),t})(),vZ=(()=>{class t{constructor(){this.title="estadisticas"}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=Lr({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(n,r){1&n&&G(0,"router-outlet")},dependencies:[Uw]}),t})();function bF(t,e,n,r,i,o,s){try{var a=t[o](s),u=a.value}catch(c){return void n(c)}a.done?e(u):Promise.resolve(u).then(r,i)}function g(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var o=t.apply(e,n);function s(u){bF(o,r,i,s,a,"next",u)}function a(u){bF(o,r,i,s,a,"throw",u)}s(void 0)})}}const CF=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},Xw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0;let h=(15&a)<<2|c>>6,f=63&c;u||(f=64,s||(h=64)),r.push(n[o>>2],n[(3&o)<<4|a>>4],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(CF(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const u=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(1023&u))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==a||null==c||null==d)throw new DZ;r.push(o<<2|a>>4),64!==c&&(r.push(a<<4&240|c>>2),64!==d&&r.push(c<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class DZ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const hp=function(t){return function(t){const e=CF(t);return Xw.encodeByteArray(e,!0)}(t).replace(/\./g,"")},fp=function(t){try{return Xw.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null},pp=()=>{try{return function TZ(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const t=process.env.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&fp(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}},SF=t=>{var e,n;return null===(n=null===(e=pp())||void 0===e?void 0:e.emulatorHosts)||void 0===n?void 0:n[t]},AF=t=>{const e=SF(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return"["===e[0]?[e.substring(1,n-1),r]:[e.substring(0,n),r]},xF=()=>{var t;return null===(t=pp())||void 0===t?void 0:t.config},MF=t=>{var e;return null===(e=pp())||void 0===e?void 0:e[`_${t}`]};class gp{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,r))}}}function RF(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[hp(JSON.stringify({alg:"none",type:"JWT"})),hp(JSON.stringify(s)),""].join(".")}function kt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Jw(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function hs(){try{return"object"==typeof indexedDB}catch{return!1}}function gl(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e((null===(o=i.error)||void 0===o?void 0:o.message)||"")}}catch(n){e(n)}})}function Zw(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class rr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,rr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Xr.prototype.create)}}class Xr{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?function OZ(t,e){return t.replace(FZ,(n,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(o,r):"Error";return new rr(i,`${this.serviceName}: ${s} (${i}).`,r)}}const FZ=/\{\$([^}]+)}/g;function yp(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(kF(o)&&kF(s)){if(!yp(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function kF(t){return null!==t&&"object"==typeof t}function _p(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}class UZ{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(void 0===e&&void 0===n&&void 0===r)throw new Error("Missing Observer.");i=function BZ(t,e){if("object"!=typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"==typeof t[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:n,complete:r},void 0===i.next&&(i.next=eI),void 0===i.error&&(i.error=eI),void 0===i.complete&&(i.complete=eI);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function eI(){}const $Z=1e3,jZ=2,HZ=144e5,GZ=.5;function nI(t,e=$Z,n=jZ){const r=e*Math.pow(n,t),i=Math.round(GZ*r*(Math.random()-.5)*2);return Math.min(HZ,r+i)}function Dn(t){return t&&t._delegate?t._delegate:t}class Wt{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const fs="[DEFAULT]";class qZ{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new gp;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(n=e?.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function KZ(t){return"EAGER"===t.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:fs})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=fs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return g(function*(){const n=Array.from(e.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=fs){return this.instances.has(e)}getOptions(e=fs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(o)&&s.resolve(i);return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(t=e,t===fs?void 0:t),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var t;return r||null}normalizeInstanceIdentifier(e=fs){return this.component?this.component.multipleInstances?e:fs:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class QZ{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new qZ(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}const rI=[];var ee=(()=>((ee=ee||{})[ee.DEBUG=0]="DEBUG",ee[ee.VERBOSE=1]="VERBOSE",ee[ee.INFO=2]="INFO",ee[ee.WARN=3]="WARN",ee[ee.ERROR=4]="ERROR",ee[ee.SILENT=5]="SILENT",ee))();const PF={debug:ee.DEBUG,verbose:ee.VERBOSE,info:ee.INFO,warn:ee.WARN,error:ee.ERROR,silent:ee.SILENT},YZ=ee.INFO,XZ={[ee.DEBUG]:"log",[ee.VERBOSE]:"log",[ee.INFO]:"info",[ee.WARN]:"warn",[ee.ERROR]:"error"},JZ=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=XZ[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class eu{constructor(e){this.name=e,this._logLevel=YZ,this._logHandler=JZ,this._userLogHandler=null,rI.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ee))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?PF[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ee.DEBUG,...e),this._logHandler(this,ee.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ee.VERBOSE,...e),this._logHandler(this,ee.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ee.INFO,...e),this._logHandler(this,ee.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ee.WARN,...e),this._logHandler(this,ee.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ee.ERROR,...e),this._logHandler(this,ee.ERROR,...e)}}const ZZ=(t,e)=>e.some(n=>t instanceof n);let OF,FF;const LF=new WeakMap,iI=new WeakMap,VF=new WeakMap,oI=new WeakMap,sI=new WeakMap;let aI={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return iI.get(t);if("objectStoreNames"===e)return t.objectStoreNames||VF.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return po(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function see(t){return"function"==typeof t?function oee(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function tee(){return FF||(FF=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(uI(this),e),po(LF.get(this))}:function(...e){return po(t.apply(uI(this),e))}:function(e,...n){const r=t.call(uI(this),e,...n);return VF.set(r,e.sort?e.sort():[e]),po(r)}}(t):(t instanceof IDBTransaction&&function ree(t){if(iI.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});iI.set(t,e)}(t),ZZ(t,function eee(){return OF||(OF=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,aI):t)}function po(t){if(t instanceof IDBRequest)return function nee(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(po(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&LF.set(n,t)}).catch(()=>{}),sI.set(e,t),e}(t);if(oI.has(t))return oI.get(t);const e=see(t);return e!==t&&(oI.set(t,e),sI.set(e,t)),e}const uI=t=>sI.get(t),uee=["get","getKey","getAll","getAllKeys","count"],cee=["put","add","delete","clear"],cI=new Map;function UF(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(cI.get(e))return cI.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=cee.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!uee.includes(n))return;const o=function(){var s=g(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[n](...u),i&&c.done]))[0]});return function(u){return s.apply(this,arguments)}}();return cI.set(e,o),o}!function iee(t){aI=t(aI)}(t=>({...t,get:(e,n,r)=>UF(e,n)||t.get(e,n,r),has:(e,n)=>!!UF(e,n)||t.has(e,n)}));class lee{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function dee(t){const e=t.getComponent();return"VERSION"===e?.type}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const lI="@firebase/app",ps=new eu("@firebase/app"),vp="[DEFAULT]",Lee={[lI]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},gs=new Map,wp=new Map;function Vee(t,e){try{t.container.addComponent(e)}catch(n){ps.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function dn(t){const e=t.name;if(wp.has(e))return ps.debug(`There were multiple attempts to register component ${e}.`),!1;wp.set(e,t);for(const n of gs.values())Vee(n,t);return!0}function ms(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}const Oi=new Xr("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Bee{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Wt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Oi.create("app-deleted",{appName:this._name})}}const go="9.22.1";function $F(t,e={}){let n=t;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:vp,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw Oi.create("bad-app-name",{appName:String(i)});if(n||(n=xF()),!n)throw Oi.create("no-options");const o=gs.get(i);if(o){if(yp(n,o.options)&&yp(r,o.config))return o;throw Oi.create("duplicate-app",{appName:i})}const s=new QZ(i);for(const u of wp.values())s.addComponent(u);const a=new Bee(n,r,s);return gs.set(i,a),a}function Ip(t=vp){const e=gs.get(t);if(!e&&t===vp&&xF())return $F();if(!e)throw Oi.create("no-app",{appName:t});return e}function jF(){return Array.from(gs.values())}function $e(t,e,n){var r;let i=null!==(r=Lee[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];return o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void ps.warn(a.join(" "))}dn(new Wt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const $ee="firebase-heartbeat-database",jee=1,ml="firebase-heartbeat-store";let hI=null;function HF(){return hI||(hI=function aee(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=po(s);return r&&s.addEventListener("upgradeneeded",u=>{r(po(s.result),u.oldVersion,u.newVersion,po(s.transaction),u)}),n&&s.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}($ee,jee,{upgrade:(t,e)=>{0===e&&t.createObjectStore(ml)}}).catch(t=>{throw Oi.create("idb-open",{originalErrorMessage:t.message})})),hI}function fI(){return(fI=g(function*(t){try{return yield(yield HF()).transaction(ml).objectStore(ml).get(zF(t))}catch(e){if(e instanceof rr)ps.warn(e.message);else{const n=Oi.create("idb-get",{originalErrorMessage:e?.message});ps.warn(n.message)}}})).apply(this,arguments)}function GF(t,e){return pI.apply(this,arguments)}function pI(){return(pI=g(function*(t,e){try{const r=(yield HF()).transaction(ml,"readwrite");yield r.objectStore(ml).put(e,zF(t)),yield r.done}catch(n){if(n instanceof rr)ps.warn(n.message);else{const r=Oi.create("idb-set",{originalErrorMessage:n?.message});ps.warn(r.message)}}})).apply(this,arguments)}function zF(t){return`${t.name}!${t.options.appId}`}class qee{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Kee(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return g(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=qF();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(o=>o.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(o=>{const s=new Date(o.date).valueOf();return Date.now()-s<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return g(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const n=qF(),{heartbeatsToSend:r,unsentEntries:i}=function Wee(t,e=1024){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),WF(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),WF(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(e._heartbeatsCache.heartbeats),o=hp(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),o})()}}function qF(){return(new Date).toISOString().substring(0,10)}class Kee{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return g(function*(){return!!hs()&&gl().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return g(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function Hee(t){return fI.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var n=this;return g(function*(){var r;if(yield n._canUseIndexedDBPromise){const o=yield n.read();return GF(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var n=this;return g(function*(){var r;if(yield n._canUseIndexedDBPromise){const o=yield n.read();return GF(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}})()}}function WF(t){return hp(JSON.stringify({version:2,heartbeats:t})).length}!function Qee(t){dn(new Wt("platform-logger",e=>new lee(e),"PRIVATE")),dn(new Wt("heartbeat",e=>new qee(e),"PRIVATE")),$e(lI,"0.9.11",t),$e(lI,"0.9.11","esm2017"),$e("fire-js","")}(""),$e("firebase","9.22.1","app");const Jee=(t,e)=>e.some(n=>t instanceof n);let KF,QF;const YF=new WeakMap,gI=new WeakMap,XF=new WeakMap,mI=new WeakMap,yI=new WeakMap;let _I={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return gI.get(t);if("objectStoreNames"===e)return t.objectStoreNames||XF.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return mo(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function ote(t){return"function"==typeof t?function ite(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ete(){return QF||(QF=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(vI(this),e),mo(YF.get(this))}:function(...e){return mo(t.apply(vI(this),e))}:function(e,...n){const r=t.call(vI(this),e,...n);return XF.set(r,e.sort?e.sort():[e]),mo(r)}}(t):(t instanceof IDBTransaction&&function nte(t){if(gI.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});gI.set(t,e)}(t),Jee(t,function Zee(){return KF||(KF=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,_I):t)}function mo(t){if(t instanceof IDBRequest)return function tte(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(mo(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&YF.set(n,t)}).catch(()=>{}),yI.set(e,t),e}(t);if(mI.has(t))return mI.get(t);const e=ote(t);return e!==t&&(mI.set(t,e),yI.set(e,t)),e}const vI=t=>yI.get(t),ate=["get","getKey","getAll","getAllKeys","count"],ute=["put","add","delete","clear"],wI=new Map;function JF(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(wI.get(e))return wI.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=ute.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!ate.includes(n))return;const o=function(){var s=g(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[n](...u),i&&c.done]))[0]});return function(u){return s.apply(this,arguments)}}();return wI.set(e,o),o}!function rte(t){_I=t(_I)}(t=>({...t,get:(e,n,r)=>JF(e,n)||t.get(e,n,r),has:(e,n)=>!!JF(e,n)||t.has(e,n)}));const ZF="@firebase/installations",II="0.6.4",eL=1e4,tL=`w:${II}`,nL="FIS_v2",cte="https://firebaseinstallations.googleapis.com/v1",lte=36e5,Fi=new Xr("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function rL(t){return t instanceof rr&&t.code.includes("request-failed")}function EI({projectId:t}){return`${cte}/projects/${t}/installations`}function iL(t){return{token:t.token,requestStatus:2,expiresIn:pte(t.expiresIn),creationTime:Date.now()}}function DI(t,e){return bI.apply(this,arguments)}function bI(){return(bI=g(function*(t,e){const r=(yield e.json()).error;return Fi.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function oL({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function CI(t){return TI.apply(this,arguments)}function TI(){return(TI=g(function*(t){const e=yield t();return e.status>=500&&e.status<600?t():e})).apply(this,arguments)}function pte(t){return Number(t.replace("s","000"))}function SI(){return(SI=g(function*({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=EI(t),i=oL(t),o=e.getImmediate({optional:!0});if(o){const c=yield o.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({fid:n,authVersion:nL,appId:t.appId,sdkVersion:tL})},u=yield CI(()=>fetch(r,a));if(u.ok){const c=yield u.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:iL(c.authToken)}}throw yield DI("Create Installation",u)})).apply(this,arguments)}function aL(t){return new Promise(e=>{setTimeout(e,t)})}const _te=/^[cdef][\w-]{21}$/,AI="";function vte(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=function wte(t){return function yte(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}(t).substr(0,22)}(t);return _te.test(n)?n:AI}catch{return AI}}function tu(t){return`${t.appName}!${t.appId}`}const nu=new Map;function uL(t,e){const n=tu(t);cL(n,e),function Dte(t,e){const n=function lL(){return!ys&&"BroadcastChannel"in self&&(ys=new BroadcastChannel("[Firebase] FID Change"),ys.onmessage=t=>{cL(t.data.key,t.data.fid)}),ys}();n&&n.postMessage({key:t,fid:e}),function dL(){0===nu.size&&ys&&(ys.close(),ys=null)}()}(n,e)}function cL(t,e){const n=nu.get(t);if(n)for(const r of n)r(e)}let ys=null;const bte="firebase-installations-database",Cte=1,_s="firebase-installations-store";let xI=null;function MI(){return xI||(xI=function ste(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=mo(s);return r&&s.addEventListener("upgradeneeded",u=>{r(mo(s.result),u.oldVersion,u.newVersion,mo(s.transaction))}),n&&s.addEventListener("blocked",()=>n()),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}(bte,Cte,{upgrade:(t,e)=>{0===e&&t.createObjectStore(_s)}})),xI}function Ep(t,e){return RI.apply(this,arguments)}function RI(){return(RI=g(function*(t,e){const n=tu(t),i=(yield MI()).transaction(_s,"readwrite"),o=i.objectStore(_s),s=yield o.get(n);return yield o.put(e,n),yield i.done,(!s||s.fid!==e.fid)&&uL(t,e.fid),e})).apply(this,arguments)}function NI(t){return kI.apply(this,arguments)}function kI(){return(kI=g(function*(t){const e=tu(t),r=(yield MI()).transaction(_s,"readwrite");yield r.objectStore(_s).delete(e),yield r.done})).apply(this,arguments)}function yl(t,e){return PI.apply(this,arguments)}function PI(){return(PI=g(function*(t,e){const n=tu(t),i=(yield MI()).transaction(_s,"readwrite"),o=i.objectStore(_s),s=yield o.get(n),a=e(s);return void 0===a?yield o.delete(n):yield o.put(a,n),yield i.done,a&&(!s||s.fid!==a.fid)&&uL(t,a.fid),a})).apply(this,arguments)}function OI(t){return FI.apply(this,arguments)}function FI(){return FI=g(function*(t){let e;const n=yield yl(t.appConfig,r=>{const i=function Tte(t){return fL(t||{fid:vte(),registrationStatus:0})}(r),o=function Ste(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(Fi.create("app-offline"))};const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function Ate(t,e){return LI.apply(this,arguments)}(t,n);return{installationEntry:n,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:xte(t)}:{installationEntry:e}}(t,i);return e=o.registrationPromise,o.installationEntry});return n.fid===AI?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}}),FI.apply(this,arguments)}function LI(){return LI=g(function*(t,e){try{const n=yield function mte(t,e){return SI.apply(this,arguments)}(t,e);return Ep(t.appConfig,n)}catch(n){throw rL(n)&&409===n.customData.serverCode?yield NI(t.appConfig):yield Ep(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}),LI.apply(this,arguments)}function xte(t){return VI.apply(this,arguments)}function VI(){return(VI=g(function*(t){let e=yield hL(t.appConfig);for(;1===e.registrationStatus;)yield aL(100),e=yield hL(t.appConfig);if(0===e.registrationStatus){const{installationEntry:n,registrationPromise:r}=yield OI(t);return r||n}return e})).apply(this,arguments)}function hL(t){return yl(t,e=>{if(!e)throw Fi.create("installation-not-found");return fL(e)})}function fL(t){return function Mte(t){return 1===t.registrationStatus&&t.registrationTime+eL<Date.now()}(t)?{fid:t.fid,registrationStatus:0}:t}function UI(){return(UI=g(function*({appConfig:t,heartbeatServiceProvider:e},n){const r=function Nte(t,{fid:e}){return`${EI(t)}/${e}/authTokens:generate`}(t,n),i=function sL(t,{refreshToken:e}){const n=oL(t);return n.append("Authorization",function gte(t){return`${nL} ${t}`}(e)),n}(t,n),o=e.getImmediate({optional:!0});if(o){const c=yield o.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:tL,appId:t.appId}})},u=yield CI(()=>fetch(r,a));if(u.ok)return iL(yield u.json());throw yield DI("Generate Auth Token",u)})).apply(this,arguments)}function BI(t){return $I.apply(this,arguments)}function $I(){return $I=g(function*(t,e=!1){let n;const r=yield yl(t.appConfig,o=>{if(!gL(o))throw Fi.create("not-registered");const s=o.authToken;if(!e&&function Ote(t){return 2===t.requestStatus&&!function Fte(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+lte}(t)}(s))return o;if(1===s.requestStatus)return n=function kte(t,e){return jI.apply(this,arguments)}(t,e),o;{if(!navigator.onLine)throw Fi.create("app-offline");const a=function Lte(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}(o);return n=function Pte(t,e){return HI.apply(this,arguments)}(t,a),a}});return n?yield n:r.authToken}),$I.apply(this,arguments)}function jI(){return(jI=g(function*(t,e){let n=yield pL(t.appConfig);for(;1===n.authToken.requestStatus;)yield aL(100),n=yield pL(t.appConfig);const r=n.authToken;return 0===r.requestStatus?BI(t,e):r})).apply(this,arguments)}function pL(t){return yl(t,e=>{if(!gL(e))throw Fi.create("not-registered");return function Vte(t){return 1===t.requestStatus&&t.requestTime+eL<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function HI(){return HI=g(function*(t,e){try{const n=yield function Rte(t,e){return UI.apply(this,arguments)}(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return yield Ep(t.appConfig,r),n}catch(n){if(!rL(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield Ep(t.appConfig,r)}else yield NI(t.appConfig);throw n}}),HI.apply(this,arguments)}function gL(t){return void 0!==t&&2===t.registrationStatus}function GI(){return(GI=g(function*(t){const e=t,{installationEntry:n,registrationPromise:r}=yield OI(e);return r?r.catch(console.error):BI(e).catch(console.error),n.fid})).apply(this,arguments)}function zI(){return zI=g(function*(t,e=!1){const n=t;return yield function $te(t){return qI.apply(this,arguments)}(n),(yield BI(n,e)).token}),zI.apply(this,arguments)}function qI(){return(qI=g(function*(t){const{registrationPromise:e}=yield OI(t);e&&(yield e)})).apply(this,arguments)}function QI(t){return Fi.create("missing-app-config-values",{valueName:t})}const mL="installations",qte=t=>{const e=t.getProvider("app").getImmediate(),n=function Gte(t){if(!t||!t.options)throw QI("App Configuration");if(!t.name)throw QI("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw QI(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e);return{app:e,appConfig:n,heartbeatServiceProvider:ms(e,"heartbeat"),_delete:()=>Promise.resolve()}},Wte=t=>{const n=ms(t.getProvider("app").getImmediate(),mL).getImmediate();return{getId:()=>function Ute(t){return GI.apply(this,arguments)}(n),getToken:i=>function Bte(t){return zI.apply(this,arguments)}(n,i)}};(function Kte(){dn(new Wt(mL,qte,"PUBLIC")),dn(new Wt("installations-internal",Wte,"PRIVATE"))})(),$e(ZF,II),$e(ZF,II,"esm2017");const YI="@firebase/remote-config",$n=new Xr("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class one{constructor(e,n,r,i){this.client=e,this.storage=n,this.storageCache=r,this.logger=i}isCachedDataFresh(e,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-n,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var n=this;return g(function*(){const[r,i]=yield Promise.all([n.storage.getLastSuccessfulFetchTimestampMillis(),n.storage.getLastSuccessfulFetchResponse()]);if(i&&n.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const o=yield n.client.fetch(e),s=[n.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===o.status&&s.push(n.storage.setLastSuccessfulFetchResponse(o)),yield Promise.all(s),o})()}}function sne(t=navigator){return t.languages&&t.languages[0]||t.language}class ane{constructor(e,n,r,i,o,s){this.firebaseInstallations=e,this.sdkVersion=n,this.namespace=r,this.projectId=i,this.apiKey=o,this.appId=s}fetch(e){var n=this;return g(function*(){const[r,i]=yield Promise.all([n.firebaseInstallations.getId(),n.firebaseInstallations.getToken()]),s=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${n.projectId}/namespaces/${n.namespace}:fetch?key=${n.apiKey}`,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},u={sdk_version:n.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:n.appId,language_code:sne()},c={method:"POST",headers:a,body:JSON.stringify(u)},l=fetch(s,c),d=new Promise((v,_)=>{e.signal.addEventListener(()=>{const E=new Error("The operation was aborted.");E.name="AbortError",_(E)})});let h;try{yield Promise.race([l,d]),h=yield l}catch(v){let _="fetch-client-network";throw"AbortError"===v?.name&&(_="fetch-timeout"),$n.create(_,{originalErrorMessage:v?.message})}let f=h.status;const p=h.headers.get("ETag")||void 0;let m,y;if(200===h.status){let v;try{v=yield h.json()}catch(_){throw $n.create("fetch-client-parse",{originalErrorMessage:_?.message})}m=v.entries,y=v.state}if("INSTANCE_STATE_UNSPECIFIED"===y?f=500:"NO_CHANGE"===y?f=304:("NO_TEMPLATE"===y||"EMPTY_CONFIG"===y)&&(m={}),304!==f&&200!==f)throw $n.create("fetch-status",{httpStatus:f});return{status:f,eTag:p,config:m}})()}}class lne{constructor(e,n){this.client=e,this.storage=n}fetch(e){var n=this;return g(function*(){const r=(yield n.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return n.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:n,backoffCount:r}){var i=this;return g(function*(){yield function une(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),o=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(o),r($n.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,n);try{const o=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),o}catch(o){if(!function cne(t){if(!(t instanceof rr&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(o))throw o;const s={throttleEndTimeMillis:Date.now()+nI(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(s),i.attemptFetch(e,s)}})()}}class fne{constructor(e,n,r,i,o){this.app=e,this._client=n,this._storageCache=r,this._storage=i,this._logger=o,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function bp(t,e){const n=t.target.error||void 0;return $n.create(e,{originalErrorMessage:n&&n?.message})}const vs="app_namespace_store";class yne{constructor(e,n,r,i=function mne(){return new Promise((t,e)=>{try{const n=indexedDB.open("firebase_remote_config",1);n.onerror=r=>{e(bp(r,"storage-open"))},n.onsuccess=r=>{t(r.target.result)},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(vs,{keyPath:"compositeKey"})}}catch(n){e($n.create("storage-open",{originalErrorMessage:n?.message}))}})}()){this.appId=e,this.appName=n,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var n=this;return g(function*(){const r=yield n.openDbPromise;return new Promise((i,o)=>{const a=r.transaction([vs],"readonly").objectStore(vs),u=n.createCompositeKey(e);try{const c=a.get(u);c.onerror=l=>{o(bp(l,"storage-get"))},c.onsuccess=l=>{const d=l.target.result;i(d?d.value:void 0)}}catch(c){o($n.create("storage-get",{originalErrorMessage:c?.message}))}})})()}set(e,n){var r=this;return g(function*(){const i=yield r.openDbPromise;return new Promise((o,s)=>{const u=i.transaction([vs],"readwrite").objectStore(vs),c=r.createCompositeKey(e);try{const l=u.put({compositeKey:c,value:n});l.onerror=d=>{s(bp(d,"storage-set"))},l.onsuccess=()=>{o()}}catch(l){s($n.create("storage-set",{originalErrorMessage:l?.message}))}})})()}delete(e){var n=this;return g(function*(){const r=yield n.openDbPromise;return new Promise((i,o)=>{const a=r.transaction([vs],"readwrite").objectStore(vs),u=n.createCompositeKey(e);try{const c=a.delete(u);c.onerror=l=>{o(bp(l,"storage-delete"))},c.onsuccess=()=>{i()}}catch(c){o($n.create("storage-delete",{originalErrorMessage:c?.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class _ne{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return g(function*(){const n=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),o=yield n;o&&(e.lastFetchStatus=o);const s=yield r;s&&(e.lastSuccessfulFetchTimestampMillis=s);const a=yield i;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function wne(){return tE.apply(this,arguments)}function tE(){return(tE=g(function*(){if(!hs())return!1;try{return yield gl()}catch{return!1}})).apply(this,arguments)}!function vne(){dn(new Wt("remote-config",function t(e,{instanceIdentifier:n}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw $n.create("registration-window");if(!hs())throw $n.create("indexed-db-unavailable");const{projectId:o,apiKey:s,appId:a}=r.options;if(!o)throw $n.create("registration-project-id");if(!s)throw $n.create("registration-api-key");if(!a)throw $n.create("registration-app-id");const u=new yne(a,r.name,n=n||"firebase"),c=new _ne(u),l=new eu(YI);l.logLevel=ee.ERROR;const d=new ane(i,go,n,o,s,a),h=new lne(d,u),f=new one(h,u,c,l),p=new fne(r,f,c,u,l);return function nne(t){const e=Dn(t);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(p),p},"PUBLIC").setMultipleInstances(!0)),$e(YI,"0.4.4"),$e(YI,"0.4.4","esm2017")}();const Ine=(t,e)=>e.some(n=>t instanceof n);let wL,IL;const EL=new WeakMap,nE=new WeakMap,DL=new WeakMap,rE=new WeakMap,iE=new WeakMap;let oE={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return nE.get(t);if("objectStoreNames"===e)return t.objectStoreNames||DL.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Li(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function Ane(t){return"function"==typeof t?function Sne(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Dne(){return IL||(IL=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(sE(this),e),Li(EL.get(this))}:function(...e){return Li(t.apply(sE(this),e))}:function(e,...n){const r=t.call(sE(this),e,...n);return DL.set(r,e.sort?e.sort():[e]),Li(r)}}(t):(t instanceof IDBTransaction&&function Cne(t){if(nE.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});nE.set(t,e)}(t),Ine(t,function Ene(){return wL||(wL=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,oE):t)}function Li(t){if(t instanceof IDBRequest)return function bne(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Li(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&EL.set(n,t)}).catch(()=>{}),iE.set(e,t),e}(t);if(rE.has(t))return rE.get(t);const e=Ane(t);return e!==t&&(rE.set(t,e),iE.set(e,t)),e}const sE=t=>iE.get(t);function bL(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=Li(s);return r&&s.addEventListener("upgradeneeded",u=>{r(Li(s.result),u.oldVersion,u.newVersion,Li(s.transaction))}),n&&s.addEventListener("blocked",()=>n()),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}function aE(t,{blocked:e}={}){const n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",()=>e()),Li(n).then(()=>{})}const xne=["get","getKey","getAll","getAllKeys","count"],Mne=["put","add","delete","clear"],uE=new Map;function CL(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(uE.get(e))return uE.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Mne.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!xne.includes(n))return;const o=function(){var s=g(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[n](...u),i&&c.done]))[0]});return function(u){return s.apply(this,arguments)}}();return uE.set(e,o),o}!function Tne(t){oE=t(oE)}(t=>({...t,get:(e,n,r)=>CL(e,n)||t.get(e,n,r),has:(e,n)=>!!CL(e,n)||t.has(e,n)}));const Rne="/firebase-messaging-sw.js",Nne="/firebase-cloud-messaging-push-scope",TL="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",kne="https://fcmregistrations.googleapis.com/v1",SL="google.c.a.c_id",Pne="google.c.a.c_l",One="google.c.a.ts";var yo=(()=>((yo=yo||{}).PUSH_RECEIVED="push-received",yo.NOTIFICATION_CLICKED="notification-clicked",yo))();function Vi(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Lne(t){const n=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length);for(let o=0;o<r.length;++o)i[o]=r.charCodeAt(o);return i}const cE="fcm_token_details_db",Vne=5,AL="fcm_token_object_Store";function lE(){return lE=g(function*(t){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(o=>o.name).includes(cE))return null;let e=null;return(yield bL(cE,Vne,{upgrade:(r=g(function*(i,o,s,a){var u;if(o<2||!i.objectStoreNames.contains(AL))return;const c=a.objectStore(AL),l=yield c.index("fcmSenderId").get(t);if(yield c.clear(),l)if(2===o){const d=l;if(!d.auth||!d.p256dh||!d.endpoint)return;e={token:d.fcmToken,createTime:null!==(u=d.createTime)&&void 0!==u?u:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:"string"==typeof d.vapidKey?d.vapidKey:Vi(d.vapidKey)}}}else if(3===o){const d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Vi(d.auth),p256dh:Vi(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Vi(d.vapidKey)}}}else if(4===o){const d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Vi(d.auth),p256dh:Vi(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Vi(d.vapidKey)}}}}),function(o,s,a,u){return r.apply(this,arguments)})})).close(),yield aE(cE),yield aE("fcm_vapid_details_db"),yield aE("undefined"),function Bne(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return"number"==typeof t.createTime&&t.createTime>0&&"string"==typeof t.token&&t.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}(e)?e:null;var r}),lE.apply(this,arguments)}const $ne="firebase-messaging-database",jne=1,ws="firebase-messaging-store";let dE=null;function hE(){return dE||(dE=bL($ne,jne,{upgrade:(t,e)=>{0===e&&t.createObjectStore(ws)}})),dE}function xL(t){return fE.apply(this,arguments)}function fE(){return fE=g(function*(t){const e=yE(t),r=yield(yield hE()).transaction(ws).objectStore(ws).get(e);if(r)return r;{const i=yield function Une(t){return lE.apply(this,arguments)}(t.appConfig.senderId);if(i)return yield pE(t,i),i}}),fE.apply(this,arguments)}function pE(t,e){return gE.apply(this,arguments)}function gE(){return(gE=g(function*(t,e){const n=yE(t),i=(yield hE()).transaction(ws,"readwrite");return yield i.objectStore(ws).put(e,n),yield i.done,e})).apply(this,arguments)}function mE(){return(mE=g(function*(t){const e=yE(t),r=(yield hE()).transaction(ws,"readwrite");yield r.objectStore(ws).delete(e),yield r.done})).apply(this,arguments)}function yE({appConfig:t}){return t.appId}const Kt=new Xr("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function zne(t,e){return _E.apply(this,arguments)}function _E(){return(_E=g(function*(t,e){const n=yield EE(t),r=RL(e),i={method:"POST",headers:n,body:JSON.stringify(r)};let o;try{o=yield(yield fetch(IE(t.appConfig),i)).json()}catch(s){throw Kt.create("token-subscribe-failed",{errorInfo:s?.toString()})}if(o.error)throw Kt.create("token-subscribe-failed",{errorInfo:o.error.message});if(!o.token)throw Kt.create("token-subscribe-no-token");return o.token})).apply(this,arguments)}function vE(){return(vE=g(function*(t,e){const n=yield EE(t),r=RL(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let o;try{o=yield(yield fetch(`${IE(t.appConfig)}/${e.token}`,i)).json()}catch(s){throw Kt.create("token-update-failed",{errorInfo:s?.toString()})}if(o.error)throw Kt.create("token-update-failed",{errorInfo:o.error.message});if(!o.token)throw Kt.create("token-update-no-token");return o.token})).apply(this,arguments)}function ML(t,e){return wE.apply(this,arguments)}function wE(){return(wE=g(function*(t,e){const r={method:"DELETE",headers:yield EE(t)};try{const o=yield(yield fetch(`${IE(t.appConfig)}/${e}`,r)).json();if(o.error)throw Kt.create("token-unsubscribe-failed",{errorInfo:o.error.message})}catch(i){throw Kt.create("token-unsubscribe-failed",{errorInfo:i?.toString()})}})).apply(this,arguments)}function IE({projectId:t}){return`${kne}/projects/${t}/registrations`}function EE(t){return DE.apply(this,arguments)}function DE(){return(DE=g(function*({appConfig:t,installations:e}){const n=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})})).apply(this,arguments)}function RL({p256dh:t,auth:e,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:e,p256dh:t}};return r!==TL&&(i.web.applicationPubKey=r),i}const Wne=6048e5;function bE(){return bE=g(function*(t){const e=yield function Yne(t,e){return AE.apply(this,arguments)}(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:Vi(e.getKey("auth")),p256dh:Vi(e.getKey("p256dh"))},r=yield xL(t.firebaseDependencies);if(r){if(function Xne(t,e){return e.vapidKey===t.vapidKey&&e.endpoint===t.endpoint&&e.auth===t.auth&&e.p256dh===t.p256dh}(r.subscriptionOptions,n))return Date.now()>=r.createTime+Wne?function Qne(t,e){return TE.apply(this,arguments)}(t,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{yield ML(t.firebaseDependencies,r.token)}catch(i){console.warn(i)}return kL(t.firebaseDependencies,n)}return kL(t.firebaseDependencies,n)}),bE.apply(this,arguments)}function CE(){return CE=g(function*(t){const e=yield xL(t.firebaseDependencies);e&&(yield ML(t.firebaseDependencies,e.token),yield function Hne(t){return mE.apply(this,arguments)}(t.firebaseDependencies));const n=yield t.swRegistration.pushManager.getSubscription();return!n||n.unsubscribe()}),CE.apply(this,arguments)}function TE(){return TE=g(function*(t,e){try{const n=yield function qne(t,e){return vE.apply(this,arguments)}(t.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return yield pE(t.firebaseDependencies,r),n}catch(n){throw yield function NL(t){return CE.apply(this,arguments)}(t),n}}),TE.apply(this,arguments)}function kL(t,e){return SE.apply(this,arguments)}function SE(){return(SE=g(function*(t,e){const r={token:yield zne(t,e),createTime:Date.now(),subscriptionOptions:e};return yield pE(t,r),r.token})).apply(this,arguments)}function AE(){return(AE=g(function*(t,e){return(yield t.pushManager.getSubscription())||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Lne(e)})})).apply(this,arguments)}function PL(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return function Jne(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const r=e.notification.body;r&&(t.notification.body=r);const i=e.notification.image;i&&(t.notification.image=i);const o=e.notification.icon;o&&(t.notification.icon=o)}(e,t),function Zne(t,e){e.data&&(t.data=e.data)}(e,t),function ere(t,e){var n,r,i,o,s;if(!(e.fcmOptions||null!==(n=e.notification)&&void 0!==n&&n.click_action))return;t.fcmOptions={};const a=null!==(i=null===(r=e.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(o=e.notification)||void 0===o?void 0:o.click_action;a&&(t.fcmOptions.link=a);const u=null===(s=e.fcmOptions)||void 0===s?void 0:s.analytics_label;u&&(t.fcmOptions.analyticsLabel=u)}(e,t),e}function OL(t,e){const n=[];for(let r=0;r<t.length;r++)n.push(t.charAt(r)),r<e.length&&n.push(e.charAt(r));return n.join("")}function xE(t){return Kt.create("missing-app-config-values",{valueName:t})}OL("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),OL("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class rre{constructor(e,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function nre(t){if(!t||!t.options)throw xE("App Configuration Object");if(!t.name)throw xE("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const r of e)if(!n[r])throw xE(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}function ME(){return(ME=g(function*(t){try{t.swRegistration=yield navigator.serviceWorker.register(Rne,{scope:Nne}),t.swRegistration.update().catch(()=>{})}catch(e){throw Kt.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}})).apply(this,arguments)}function RE(){return(RE=g(function*(t,e){if(!e&&!t.swRegistration&&(yield function FL(t){return ME.apply(this,arguments)}(t)),e||!t.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw Kt.create("invalid-sw-registration");t.swRegistration=e}})).apply(this,arguments)}function NE(){return(NE=g(function*(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=TL)})).apply(this,arguments)}function kE(){return kE=g(function*(t,e){if(!navigator)throw Kt.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Kt.create("permission-blocked");return yield function ore(t,e){return NE.apply(this,arguments)}(t,e?.vapidKey),yield function ire(t,e){return RE.apply(this,arguments)}(t,e?.serviceWorkerRegistration),function Kne(t){return bE.apply(this,arguments)}(t)}),kE.apply(this,arguments)}function PE(){return(PE=g(function*(t,e,n){const r=function are(t){switch(t){case yo.NOTIFICATION_CLICKED:return"notification_open";case yo.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(e);(yield t.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[SL],message_name:n[Pne],message_time:n[One],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function OE(){return OE=g(function*(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===yo.PUSH_RECEIVED&&("function"==typeof t.onMessageHandler?t.onMessageHandler(PL(n)):t.onMessageHandler.next(PL(n)));const r=n.data;(function tre(t){return"object"==typeof t&&!!t&&SL in t})(r)&&"1"===r["google.c.a.e"]&&(yield function sre(t,e,n){return PE.apply(this,arguments)}(t,n.messageType,r))}),OE.apply(this,arguments)}const VL="@firebase/messaging",cre=t=>{const e=new rre(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>function ure(t,e){return OE.apply(this,arguments)}(e,n)),e},lre=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:r=>function LL(t,e){return kE.apply(this,arguments)}(e,r)}};function BL(){return FE.apply(this,arguments)}function FE(){return(FE=g(function*(){try{yield gl()}catch{return!1}return typeof window<"u"&&hs()&&Zw()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function dre(){dn(new Wt("messaging",cre,"PUBLIC")),dn(new Wt("messaging-internal",lre,"PRIVATE")),$e(VL,"0.12.4"),$e(VL,"0.12.4","esm2017")}();const Cp="analytics",pre="firebase_id",gre="origin",mre=6e4,yre="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",UE="https://www.googletagmanager.com/gtag/js",Pt=new eu("@firebase/analytics"),bn=new Xr("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function vre(t){if(!t.startsWith(UE)){const e=bn.create("invalid-gtag-resource",{gtagURL:t});return Pt.warn(e.message),""}return t}function $L(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function BE(){return(BE=g(function*(t,e,n,r,i,o){const s=r[i];try{if(s)yield e[s];else{const u=(yield $L(n)).find(c=>c.measurementId===i);u&&(yield e[u.appId])}}catch(a){Pt.error(a)}t("config",i,o)})).apply(this,arguments)}function $E(){return($E=g(function*(t,e,n,r,i){try{let o=[];if(i&&i.send_to){let s=i.send_to;Array.isArray(s)||(s=[s]);const a=yield $L(n);for(const u of s){const c=a.find(d=>d.measurementId===u),l=c&&e[c.appId];if(!l){o=[];break}o.push(l)}}0===o.length&&(o=Object.values(e)),yield Promise.all(o),t("event",r,i||{})}catch(o){Pt.error(o)}})).apply(this,arguments)}const Are=30,jL=new class Mre{constructor(e={},n=1e3){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function Rre(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function jE(){return(jE=g(function*(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:Rre(r)},o=yre.replace("{app-id}",n),s=yield fetch(o,i);if(200!==s.status&&304!==s.status){let a="";try{const u=yield s.json();null!==(e=u.error)&&void 0!==e&&e.message&&(a=u.error.message)}catch{}throw bn.create("config-fetch-failed",{httpStatus:s.status,responseMessage:a})}return s.json()})).apply(this,arguments)}function HE(){return(HE=g(function*(t,e=jL,n){const{appId:r,apiKey:i,measurementId:o}=t.options;if(!r)throw bn.create("no-app-id");if(!i){if(o)return{measurementId:o,appId:r};throw bn.create("no-api-key")}const s=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new Fre;return setTimeout(g(function*(){a.abort()}),void 0!==n?n:mre),HL({appId:r,apiKey:i,measurementId:o},s,a,e)})).apply(this,arguments)}function HL(t,e,n){return GE.apply(this,arguments)}function GE(){return GE=g(function*(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=jL){var o;const{appId:s,measurementId:a}=t;try{yield function Pre(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),o=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(o),r(bn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(r,e)}catch(u){if(a)return Pt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u?.message}]`),{appId:s,measurementId:a};throw u}try{const u=yield function Nre(t){return jE.apply(this,arguments)}(t);return i.deleteThrottleMetadata(s),u}catch(u){const c=u;if(!function Ore(t){if(!(t instanceof rr&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(c)){if(i.deleteThrottleMetadata(s),a)return Pt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c?.message}]`),{appId:s,measurementId:a};throw u}const l=503===Number(null===(o=c?.customData)||void 0===o?void 0:o.httpStatus)?nI(n,i.intervalMillis,Are):nI(n,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+l,backoffCount:n+1};return i.setThrottleMetadata(s,d),Pt.debug(`Calling attemptFetch again in ${l} millis`),HL(t,d,r,i)}}),GE.apply(this,arguments)}class Fre{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let zE,JE;function qE(){return(qE=g(function*(t,e,n,r,i){if(i&&i.global)t("event",n,r);else{const o=yield e;t("event",n,Object.assign(Object.assign({},r),{send_to:o}))}})).apply(this,arguments)}function ZE(){return(ZE=g(function*(){if(!hs())return Pt.warn(bn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield gl()}catch(t){return Pt.warn(bn.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}return!0})).apply(this,arguments)}function eD(){return eD=g(function*(t,e,n,r,i,o,s){var a;const u=function kre(t){return HE.apply(this,arguments)}(t);u.then(f=>{n[f.measurementId]=f.appId,t.options.measurementId&&f.measurementId!==t.options.measurementId&&Pt.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>Pt.error(f)),e.push(u);const c=function Hre(){return ZE.apply(this,arguments)}().then(f=>{if(f)return r.getId()}),[l,d]=yield Promise.all([u,c]);(function Sre(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(UE)&&n.src.includes(t))return n;return null})(o)||function Ire(t,e){const n=function wre(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}("firebase-js-sdk-policy",{createScriptURL:vre}),r=document.createElement("script"),i=`${UE}?l=${t}&id=${e}`;r.src=n?n?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}(o,l.measurementId),JE&&(i("consent","default",JE),function GL(t){JE=t}(void 0)),i("js",new Date);const h=null!==(a=s?.config)&&void 0!==a?a:{};return h[gre]="firebase",h.update=!0,null!=d&&(h[pre]=d),i("config",l.measurementId,h),zE&&(i("set",zE),function zL(t){zE=t}(void 0)),l.measurementId}),eD.apply(this,arguments)}class zre{constructor(e){this.app=e}_delete(){return delete Jr[this.app.options.appId],Promise.resolve()}}let Jr={},qL=[];const WL={};let QL,Zr,Tp="dataLayer",tD=!1;function Wre(t,e,n){!function qre(){const t=[];if(Jw()&&t.push("This is a browser extension environment."),Zw()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=bn.create("invalid-analytics-context",{errorInfo:e});Pt.warn(n.message)}}();const r=t.options.appId;if(!r)throw bn.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw bn.create("no-api-key");Pt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Jr[r])throw bn.create("already-exists",{id:r});if(!tD){!function Ere(t){let e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(Tp);const{wrappedGtag:o,gtagCore:s}=function Tre(t,e,n,r,i){let o=function(...s){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(o=window[i]),window[i]=function Cre(t,e,n,r){function o(){return o=g(function*(s,...a){try{if("event"===s){const[u,c]=a;yield function bre(t,e,n,r,i){return $E.apply(this,arguments)}(t,e,n,u,c)}else if("config"===s){const[u,c]=a;yield function Dre(t,e,n,r,i,o){return BE.apply(this,arguments)}(t,e,n,r,u,c)}else if("consent"===s){const[u]=a;t("consent","update",u)}else if("get"===s){const[u,c,l]=a;t("get",u,c,l)}else if("set"===s){const[u]=a;t("set",u)}else t(s,...a)}catch(u){Pt.error(u)}}),o.apply(this,arguments)}return function i(s){return o.apply(this,arguments)}}(o,t,e,n),{gtagCore:o,wrappedGtag:window[i]}}(Jr,qL,WL,Tp,"gtag");Zr=o,QL=s,tD=!0}return Jr[r]=function Gre(t,e,n,r,i,o,s){return eD.apply(this,arguments)}(t,qL,WL,e,QL,Tp,n),new zre(t)}function Qre(){return nD.apply(this,arguments)}function nD(){return(nD=g(function*(){if(Jw()||!Zw()||!hs())return!1;try{return yield gl()}catch{return!1}})).apply(this,arguments)}const YL="@firebase/analytics";!function Xre(){dn(new Wt(Cp,(e,{options:n})=>Wre(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n),"PUBLIC")),dn(new Wt("analytics-internal",function t(e){try{const n=e.getProvider(Cp).getImmediate();return{logEvent:(r,i,o)=>function Yre(t,e,n,r){t=Dn(t),function Lre(t,e,n,r,i){return qE.apply(this,arguments)}(Zr,Jr[t.app.options.appId],e,n,r).catch(i=>Pt.error(i))}(n,r,i,o)}}catch(n){throw bn.create("interop-component-reg-failed",{reason:n})}},"PRIVATE")),$e(YL,"0.10.0"),$e(YL,"0.10.0","esm2017")}();class Jre extends Wn{constructor(e,n){super()}schedule(e,n=0){return this}}const Sp={setInterval(t,e,...n){const{delegate:r}=Sp;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=Sp;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};class JL extends Jre{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;const i=this.id,o=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return Sp.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&Sp.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,ea(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}const ZL={now:()=>(ZL.delegate||Date).now(),delegate:void 0};class _l{constructor(e,n=_l.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}_l.now=ZL.now;class e2 extends _l{constructor(e,n=_l.now){super(e,n),this.actions=[],this._active=!1}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}const tie=new class eie extends e2{}(class Zre extends JL{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}}),nie=new e2(JL),vl=new Ca("7.6.1"),iD="__angularfire_symbol__analyticsIsSupportedValue",oD="__angularfire_symbol__analyticsIsSupported",sD="__angularfire_symbol__remoteConfigIsSupportedValue",aD="__angularfire_symbol__remoteConfigIsSupported",uD="__angularfire_symbol__messagingIsSupportedValue",cD="__angularfire_symbol__messagingIsSupported";function Ap(t,e,n){if(e){if(1===e.length)return e[0];const o=e.filter(s=>s.app===n);if(1===o.length)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}globalThis[oD]||(globalThis[oD]=Qre().then(t=>globalThis[iD]=t).catch(()=>globalThis[iD]=!1)),globalThis[cD]||(globalThis[cD]=BL().then(t=>globalThis[uD]=t).catch(()=>globalThis[uD]=!1)),globalThis[aD]||(globalThis[aD]=wne().then(t=>globalThis[sD]=t).catch(()=>globalThis[sD]=!1));const xp=(t,e)=>{const n=e?[e]:jF(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r};function ru(){}class t2{constructor(e,n=tie){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){const i=this.zone;return this.delegate.schedule(function(s){i.runGuarded(()=>{e.apply(this,[s])})},n,r)}}class rie{constructor(e){this.zone=e,this.task=null}call(e,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ru,{},ru,ru)),n.pipe(ln({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Mp=(()=>{class t{constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new t2(Zone.current)),this.insideAngular=n.run(()=>new t2(Zone.current,nie)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return t.\u0275fac=function(n){return new(n||t)(z(Me))},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Is(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}function Es(t){return Is().ngZone.run(()=>t())}function oie(t){return Is(),function sie(t){return function(n){return(n=n.lift(new rie(t.ngZone))).pipe(th(t.outsideAngular),eh(t.insideAngular))}}(Is())(t)}const aie=(t,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),Es(()=>t.apply(void 0,r))},iu=(t,e)=>function(){let n;const r=arguments;for(let o=0;o<arguments.length;o++)"function"==typeof r[o]&&(e&&(n||(n=Es(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ru,{},ru,ru)))),r[o]=aie(r[o],n));const i=function iie(t){return Is().ngZone.runOutsideAngular(()=>t())}(()=>t.apply(this,r));if(!e){if(i instanceof Ue){const o=Is();return i.pipe(th(o.outsideAngular),eh(o.insideAngular))}return Es(()=>i)}return i instanceof Ue?i.pipe(oie):i instanceof Promise?Es(()=>new Promise((o,s)=>i.then(a=>Es(()=>o(a)),a=>Es(()=>s(a))))):"function"==typeof i&&n?function(){return setTimeout(()=>{n&&"scheduled"===n.state&&n.invoke()},10),i.apply(this,arguments)}:Es(()=>i)};class Ds{constructor(e){return e}}class Rp{constructor(){return jF()}}const dD=new U("angularfire2._apps"),cie={provide:Ds,useFactory:function uie(t){return t&&1===t.length?t[0]:new Ds(Ip())},deps:[[new Ct,dD]]},lie={provide:Rp,deps:[[new Ct,dD]]};function die(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new Ds(r)}}let hie=(()=>{class t{constructor(n){$e("angularfire",vl.full,"core"),$e("angularfire",vl.full,"app"),$e("angular",xM.full,n.toString())}}return t.\u0275fac=function(n){return new(n||t)(z(so))},t.\u0275mod=rn({type:t}),t.\u0275inj=Ht({providers:[cie,lie]}),t})();function fie(t,...e){return{ngModule:hie,providers:[{provide:dD,useFactory:die(t),multi:!0,deps:[Me,Un,Mp,...e]}]}}const pie=iu($F,!0),hD=new Map,n2={activated:!1,tokenObservers:[]},gie={initialized:!1,enabled:!1};function it(t){return hD.get(t)||Object.assign({},n2)}function Np(){return gie}const fD="https://content-firebaseappcheck.googleapis.com/v1",vie="exchangeDebugToken",r2={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class Iie{constructor(e,n,r,i,o){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var n=this;return g(function*(){n.stop();try{n.pending=new gp,yield function Eie(t){return new Promise(e=>{setTimeout(e,t)})}(n.getNextRun(e)),n.pending.resolve(),yield n.pending.promise,n.pending=new gp,yield n.operation(),n.pending.resolve(),yield n.pending.promise,n.process(!0).catch(()=>{})}catch(r){n.retryPolicy(r)?n.process(!1).catch(()=>{}):n.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}const Qt=new Xr("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function pD(t){if(!it(t).activated)throw Qt.create("use-before-activation",{appName:t.name})}function Op(t,e){return mD.apply(this,arguments)}function mD(){return(mD=g(function*({url:t,body:e},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){const d=yield i.getHeartbeatsHeader();d&&(r["X-Firebase-Client"]=d)}const o={method:"POST",body:JSON.stringify(e),headers:r};let s,a;try{s=yield fetch(t,o)}catch(d){throw Qt.create("fetch-network-error",{originalErrorMessage:d?.message})}if(200!==s.status)throw Qt.create("fetch-status-error",{httpStatus:s.status});try{a=yield s.json()}catch(d){throw Qt.create("fetch-parse-error",{originalErrorMessage:d?.message})}const u=a.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw Qt.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const c=1e3*Number(u[1]),l=Date.now();return{token:a.token,expireTimeMillis:l+c,issuedAtTimeMillis:l}})).apply(this,arguments)}function i2(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${fD}/projects/${n}/apps/${r}:${vie}?key=${i}`,body:{debug_token:e}}}const Tie="firebase-app-check-database",Sie=1,wl="firebase-app-check-store";let Fp=null;function yD(){return(yD=g(function*(t,e){const r=(yield function s2(){return Fp||(Fp=new Promise((t,e)=>{try{const n=indexedDB.open(Tie,Sie);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(Qt.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(wl,{keyPath:"compositeKey"})}}catch(n){e(Qt.create("storage-open",{originalErrorMessage:n?.message}))}}),Fp)}()).transaction(wl,"readwrite"),o=r.objectStore(wl).put({compositeKey:t,value:e});return new Promise((s,a)=>{o.onsuccess=u=>{s()},r.onerror=u=>{var c;a(Qt.create("storage-set",{originalErrorMessage:null===(c=u.target.error)||void 0===c?void 0:c.message}))}})})).apply(this,arguments)}const Il=new eu("@firebase/app-check");function wD(t,e){return hs()?function xie(t,e){return function a2(t,e){return yD.apply(this,arguments)}(function c2(t){return`${t.options.appId}-${t.name}`}(t),e)}(t,e).catch(n=>{Il.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function ED(){return Np().enabled}function DD(){return bD.apply(this,arguments)}function bD(){return(bD=g(function*(){const t=Np();if(t.enabled&&t.token)return t.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Oie={error:"UNKNOWN_ERROR"};function Fie(t){return Xw.encodeString(JSON.stringify(t),!1)}function Lp(t){return CD.apply(this,arguments)}function CD(){return(CD=g(function*(t,e=!1){const n=t.app;pD(n);const r=it(n);let o,i=r.token;if(i&&!ou(i)&&(r.token=void 0,i=void 0),!i){const u=yield r.cachedTokenPromise;u&&(ou(u)?i=u:yield wD(n,void 0))}if(!e&&i&&ou(i))return{token:i.token};let a,s=!1;if(ED()){r.exchangeTokenPromise||(r.exchangeTokenPromise=Op(i2(n,yield DD()),t.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),s=!0);const u=yield r.exchangeTokenPromise;return yield wD(n,u),r.token=u,{token:u.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),s=!0),i=yield it(n).exchangeTokenPromise}catch(u){"appCheck/throttled"===u.code?Il.warn(u.message):Il.error(u),o=u}return i?o?a=ou(i)?{token:i.token,internalError:o}:f2(o):(a={token:i.token},r.token=i,yield wD(n,i)):a=f2(o),s&&function h2(t,e){const n=it(t).tokenObservers;for(const r of n)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(n,a),a})).apply(this,arguments)}function l2(t){return TD.apply(this,arguments)}function TD(){return(TD=g(function*(t){const e=t.app;pD(e);const{provider:n}=it(e);if(ED()){const r=yield DD(),{token:i}=yield Op(i2(e,r),t.heartbeatServiceProvider);return{token:i}}{const{token:r}=yield n.getToken();return{token:r}}})).apply(this,arguments)}function AD(t,e){const n=it(t),r=n.tokenObservers.filter(i=>i.next!==e);0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function d2(t){const{app:e}=t,n=it(e);let r=n.tokenRefresher;r||(r=function Lie(t){const{app:e}=t;return new Iie(g(function*(){let r;if(r=it(e).token?yield Lp(t,!0):yield Lp(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const n=it(e);if(n.token){let r=n.token.issuedAtTimeMillis+.5*(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,n.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},r2.RETRIAL_MIN_WAIT,r2.RETRIAL_MAX_WAIT)}(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function ou(t){return t.expireTimeMillis-Date.now()>0}function f2(t){return{token:Fie(Oie),error:t}}class Vie{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=it(this.app);for(const n of e)AD(this.app,n.next);return Promise.resolve()}}const I2="app-check-internal";!function Jie(){dn(new Wt("app-check",t=>function Uie(t,e){return new Vie(t,e)}(t.getProvider("app").getImmediate(),t.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(I2).initialize()})),dn(new Wt(I2,t=>function Bie(t){return{getToken:e=>Lp(t,e),getLimitedUseToken:()=>l2(t),addTokenListener:e=>function SD(t,e,n,r){const{app:i}=t,o=it(i);if(o.tokenObservers=[...o.tokenObservers,{next:n,error:r,type:e}],o.token&&ou(o.token)){const a=o.token;Promise.resolve().then(()=>{n({token:a.token}),d2(t)}).catch(()=>{})}o.cachedTokenPromise.then(()=>d2(t))}(t,"INTERNAL",e),removeTokenListener:e=>AD(t.app,e)}}(t.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),$e("@firebase/app-check","0.8.0")}();class Up{constructor(){return xp("app-check")}}typeof window<"u"&&window;const roe=function D2(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},b2=new Xr("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Bp=new eu("@firebase/auth");function $p(t,...e){Bp.logLevel<=ee.ERROR&&Bp.error(`Auth (${go}): ${t}`,...e)}function jn(t,...e){throw kD(t,...e)}function ei(t,...e){return kD(t,...e)}function kD(t,...e){if("string"!=typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return b2.create(t,...e)}function R(t,e,...n){if(!t)throw kD(e,...n)}function ti(t){const e="INTERNAL ASSERTION FAILED: "+t;throw $p(e),new Error(e)}function _o(t,e){t||ti(e)}function El(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.href)||""}function T2(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}class Dl{constructor(e,n){this.shortDelay=e,this.longDelay=n,_o(n>e,"Short delay should be less than long delay!"),this.isMobile=function MZ(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(kt())}()||function NZ(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return function ooe(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function PD(){return"http:"===T2()||"https:"===T2()}()||Jw()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function OD(t,e){_o(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class S2{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void ti("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void ti("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void ti("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const aoe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},uoe=new Dl(3e4,6e4);function Je(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function ot(t,e,n,r){return FD.apply(this,arguments)}function FD(){return(FD=g(function*(t,e,n,r,i={}){return A2(t,i,g(function*(){let o={},s={};r&&("GET"===e?s=r:o={body:JSON.stringify(r)});const a=_p(Object.assign({key:t.config.apiKey},s)).slice(1),u=yield t._getAdditionalHeaders();return u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),S2.fetch()(x2(t,t.config.apiHost,n,a),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},o))}))})).apply(this,arguments)}function A2(t,e,n){return LD.apply(this,arguments)}function LD(){return(LD=g(function*(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},aoe),e);try{const i=new coe(t),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=yield o.json();if("needConfirmation"in s)throw bl(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[u,c]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===u)throw bl(t,"credential-already-in-use",s);if("EMAIL_EXISTS"===u)throw bl(t,"email-already-in-use",s);if("USER_DISABLED"===u)throw bl(t,"user-disabled",s);const l=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw function C2(t,e,n){const r=Object.assign(Object.assign({},roe()),{[e]:n});return new Xr("auth","Firebase",r).create(e,{appName:t.name})}(t,l,c);jn(t,l)}}catch(i){if(i instanceof rr)throw i;jn(t,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function VD(){return(VD=g(function*(t,e,n,r,i={}){const o=yield ot(t,e,n,r,i);return"mfaPendingCredential"in o&&jn(t,"multi-factor-auth-required",{_serverResponse:o}),o})).apply(this,arguments)}function x2(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?OD(t.config,i):`${t.config.apiScheme}://${i}`}class coe{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ei(this.auth,"network-request-failed")),uoe.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function bl(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=ei(t,e,r);return i.customData._tokenResponse=n,i}function UD(){return(UD=g(function*(t,e){return ot(t,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function $D(){return($D=g(function*(t,e){return ot(t,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function Cl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function jD(){return(jD=g(function*(t,e=!1){const n=Dn(t),r=yield n.getIdToken(e),i=jp(r);R(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o="object"==typeof i.firebase?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:Cl(HD(i.auth_time)),issuedAtTime:Cl(HD(i.iat)),expirationTime:Cl(HD(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})).apply(this,arguments)}function HD(t){return 1e3*Number(t)}function jp(t){const[e,n,r]=t.split(".");if(void 0===e||void 0===n||void 0===r)return $p("JWT malformed, contained fewer than 3 sections"),null;try{const i=fp(n);return i?JSON.parse(i):($p("Failed to decode base64 JWT payload"),null)}catch(i){return $p("Caught error parsing JWT payload as JSON",i?.toString()),null}}function Bi(t,e){return GD.apply(this,arguments)}function GD(){return(GD=g(function*(t,e,n=!1){if(n)return e;try{return yield e}catch(r){throw r instanceof rr&&function goe({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})).apply(this,arguments)}class moe{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var n=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(g(function*(){yield n.iteration()}),r)}iteration(){var e=this;return g(function*(){try{yield e.user.getIdToken(!0)}catch(n){return void("auth/network-request-failed"===n?.code&&e.schedule(!0))}e.schedule()})()}}class M2{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Cl(this.lastLoginAt),this.creationTime=Cl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Tl(t){return zD.apply(this,arguments)}function zD(){return zD=g(function*(t){var e;const n=t.auth,r=yield t.getIdToken(),i=yield Bi(t,function hoe(t,e){return $D.apply(this,arguments)}(n,{idToken:r}));R(i?.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const s=null!==(e=o.providerUserInfo)&&void 0!==e&&e.length?function voe(t){return t.map(e=>{var{providerId:n}=e,r=ty(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(o.providerUserInfo):[],a=function _oe(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(t.providerData,s),l=!!t.isAnonymous&&!(t.email&&o.passwordHash||a?.length),d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new M2(o.createdAt,o.lastLoginAt),isAnonymous:l};Object.assign(t,d)}),zD.apply(this,arguments)}function qD(){return(qD=g(function*(t){const e=Dn(t);yield Tl(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function WD(){return(WD=g(function*(t,e){const n=yield A2(t,{},g(function*(){const r=_p({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=x2(t,i,"/v1/token",`key=${o}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",S2.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}class Sl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){R(e.idToken,"internal-error"),R(typeof e.idToken<"u","internal-error"),R(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function poe(t){const e=jp(t);return R(e,"internal-error"),R(typeof e.exp<"u","internal-error"),R(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){var r=this;return g(function*(){return R(!r.accessToken||r.refreshToken,e,"user-token-expired"),n||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,n){var r=this;return g(function*(){const{accessToken:i,refreshToken:o,expiresIn:s}=yield function woe(t,e){return WD.apply(this,arguments)}(e,n);r.updateTokensAndExpiration(i,o,Number(s))})()}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new Sl;return r&&(R("string"==typeof r,"internal-error",{appName:e}),s.refreshToken=r),i&&(R("string"==typeof i,"internal-error",{appName:e}),s.accessToken=i),o&&(R("number"==typeof o,"internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Sl,this.toJSON())}_performRefresh(){return ti("not implemented")}}function vo(t,e){R("string"==typeof t||typeof t>"u","internal-error",{appName:e})}class bs{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=ty(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new moe(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new M2(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){var n=this;return g(function*(){const r=yield Bi(n,n.stsTokenManager.getToken(n.auth,e));return R(r,n.auth,"internal-error"),n.accessToken!==r&&(n.accessToken=r,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),r})()}getIdTokenResult(e){return function foe(t){return jD.apply(this,arguments)}(this,e)}reload(){return function yoe(t){return qD.apply(this,arguments)}(this)}_assign(e){this!==e&&(R(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new bs(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){R(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){var r=this;return g(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield Tl(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return g(function*(){const n=yield e.getIdToken();return yield Bi(e,function loe(t,e){return UD.apply(this,arguments)}(e.auth,{idToken:n})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,u,c,l;const d=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,f=null!==(o=n.phoneNumber)&&void 0!==o?o:void 0,p=null!==(s=n.photoURL)&&void 0!==s?s:void 0,m=null!==(a=n.tenantId)&&void 0!==a?a:void 0,y=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,v=null!==(c=n.createdAt)&&void 0!==c?c:void 0,_=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,{uid:E,emailVerified:x,isAnonymous:L,providerData:J,stsTokenManager:Ke}=n;R(E&&Ke,e,"internal-error");const Mn=Sl.fromJSON(this.name,Ke);R("string"==typeof E,e,"internal-error"),vo(d,e.name),vo(h,e.name),R("boolean"==typeof x,e,"internal-error"),R("boolean"==typeof L,e,"internal-error"),vo(f,e.name),vo(p,e.name),vo(m,e.name),vo(y,e.name),vo(v,e.name),vo(_,e.name);const fi=new bs({uid:E,auth:e,email:h,emailVerified:x,displayName:d,isAnonymous:L,photoURL:p,phoneNumber:f,tenantId:m,stsTokenManager:Mn,createdAt:v,lastLoginAt:_});return J&&Array.isArray(J)&&(fi.providerData=J.map(_me=>Object.assign({},_me))),y&&(fi._redirectEventId=y),fi}static _fromIdTokenResponse(e,n,r=!1){return g(function*(){const i=new Sl;i.updateFromServerResponse(n);const o=new bs({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Tl(o),o})()}}const R2=new Map;function $i(t){_o(t instanceof Function,"Expected a class definition");let e=R2.get(t);return e?(_o(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,R2.set(t,e),e)}const N2=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return g(function*(){return!0})()}_set(n,r){var i=this;return g(function*(){i.storage[n]=r})()}_get(n){var r=this;return g(function*(){const i=r.storage[n];return void 0===i?null:i})()}_remove(n){var r=this;return g(function*(){delete r.storage[n]})()}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})();function Hp(t,e,n){return`firebase:${t}:${e}:${n}`}class au{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=Hp(this.userKey,i.apiKey,o),this.fullPersistenceKey=Hp("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return g(function*(){const n=yield e.persistence._get(e.fullUserKey);return n?bs._fromJSON(e.auth,n):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var n=this;return g(function*(){if(n.persistence===e)return;const r=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=e,r?n.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return g(function*(){if(!n.length)return new au($i(N2),e,r);const i=(yield Promise.all(n.map(function(){var c=g(function*(l){if(yield l._isAvailable())return l});return function(l){return c.apply(this,arguments)}}()))).filter(c=>c);let o=i[0]||$i(N2);const s=Hp(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const l=yield c._get(s);if(l){const d=bs._fromJSON(e,l);c!==o&&(a=d),o=c;break}}catch{}const u=i.filter(c=>c._shouldAllowMigration);return o._shouldAllowMigration&&u.length?(o=u[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(n.map(function(){var c=g(function*(l){if(l!==o)try{yield l._remove(s)}catch{}});return function(l){return c.apply(this,arguments)}}())),new au(o,e,r)):new au(o,e,r)})()}}function k2(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(F2(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(P2(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(V2(e))return"Blackberry";if(U2(e))return"Webos";if(KD(e))return"Safari";if((e.includes("chrome/")||O2(e))&&!e.includes("edge/"))return"Chrome";if(L2(e))return"Android";{const r=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function P2(t=kt()){return/firefox\//i.test(t)}function KD(t=kt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function O2(t=kt()){return/crios\//i.test(t)}function F2(t=kt()){return/iemobile/i.test(t)}function L2(t=kt()){return/android/i.test(t)}function V2(t=kt()){return/blackberry/i.test(t)}function U2(t=kt()){return/webos/i.test(t)}function Gp(t=kt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function B2(t=kt()){return Gp(t)||L2(t)||U2(t)||V2(t)||/windows phone/i.test(t)||F2(t)}function $2(t,e=[]){let n;switch(t){case"Browser":n=k2(kt());break;case"Worker":n=`${k2(kt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${go}/${r}`}function j2(t,e){return YD.apply(this,arguments)}function YD(){return(YD=g(function*(t,e){return ot(t,"GET","/v2/recaptchaConfig",Je(t,e))})).apply(this,arguments)}function G2(t){return void 0!==t&&void 0!==t.enterprise}class z2{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>"EMAIL_PASSWORD_PROVIDER"===n.provider&&"OFF"!==n.enforcementState)}}function XD(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=ei("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",function Coe(){var t,e;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)})}function q2(t){return`__${t}${Math.floor(1e6*Math.random())}`}class W2{constructor(e){this.type="recaptcha-enterprise",this.auth=Ot(e)}verify(e="verify",n=!1){var r=this;return g(function*(){function o(){return o=g(function*(a){if(!n){if(null==a.tenantId&&null!=a._agentRecaptchaConfig)return a._agentRecaptchaConfig.siteKey;if(null!=a.tenantId&&void 0!==a._tenantRecaptchaConfigs[a.tenantId])return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(function(){var u=g(function*(c,l){j2(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(void 0!==d.recaptchaKey){const h=new z2(d);return null==a.tenantId?a._agentRecaptchaConfig=h:a._tenantRecaptchaConfigs[a.tenantId]=h,c(h.siteKey)}l(new Error("recaptcha Enterprise site key undefined"))}).catch(d=>{l(d)})});return function(c,l){return u.apply(this,arguments)}}())}),o.apply(this,arguments)}function s(a,u,c){const l=window.grecaptcha;G2(l)?l.enterprise.ready(()=>{l.enterprise.execute(a,{action:e}).then(d=>{u(d)}).catch(()=>{u("NO_RECAPTCHA")})}):c(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,u)=>{(function i(a){return o.apply(this,arguments)})(r.auth).then(c=>{if(!n&&G2(window.grecaptcha))s(c,a,u);else{if(typeof window>"u")return void u(new Error("RecaptchaVerifier is only supported in browser"));XD("https://www.google.com/recaptcha/enterprise.js?render="+c).then(()=>{s(c,a,u)}).catch(l=>{u(l)})}}).catch(c=>{u(c)})})})()}}class xoe{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((s,a)=>{try{s(e(o))}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var n=this;return g(function*(){if(n.auth.currentUser===e)return;const r=[];try{for(const i of n.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const o of r)try{o()}catch{}throw n.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}class Moe{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new K2(this),this.idTokenSubscription=new K2(this),this.beforeStateQueue=new xoe(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=b2,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){var r=this;return n&&(this._popupRedirectResolver=$i(n)),this._initializationPromise=this.queue(g(function*(){var i,o;if(!r._deleted&&(r.persistenceManager=yield au.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(n),r.lastNotifiedUid=(null===(o=r.currentUser)||void 0===o?void 0:o.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return g(function*(){if(e._deleted)return;const n=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||n){if(e.currentUser&&n&&e.currentUser.uid===n.uid)return e._currentUser._assign(n),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(n,!0)}})()}initializeCurrentUser(e){var n=this;return g(function*(){var r;const i=yield n.assertedPersistence.getCurrentUser();let o=i,s=!1;if(e&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const a=null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId,u=o?._redirectEventId,c=yield n.tryRedirectSignIn(e);(!a||a===u)&&c?.user&&(o=c.user,s=!0)}if(!o)return n.directlySetCurrentUser(null);if(!o._redirectEventId){if(s)try{yield n.beforeStateQueue.runMiddleware(o)}catch(a){o=i,n._popupRedirectResolver._overrideRedirectResult(n,()=>Promise.reject(a))}return o?n.reloadAndSetCurrentUserOrClear(o):n.directlySetCurrentUser(null)}return R(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===o._redirectEventId?n.directlySetCurrentUser(o):n.reloadAndSetCurrentUserOrClear(o)})()}tryRedirectSignIn(e){var n=this;return g(function*(){let r=null;try{r=yield n._popupRedirectResolver._completeRedirectFn(n,e,!0)}catch{yield n._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var n=this;return g(function*(){try{yield Tl(e)}catch(r){if("auth/network-request-failed"!==r?.code)return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function soe(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var e=this;return g(function*(){e._deleted=!0})()}updateCurrentUser(e){var n=this;return g(function*(){const r=e?Dn(e):null;return r&&R(r.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(r&&r._clone(n))})()}_updateCurrentUser(e,n=!1){var r=this;return g(function*(){if(!r._deleted)return e&&R(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),n||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(g(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return g(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var n=this;return this.queue(g(function*(){yield n.assertedPersistence.setPersistence($i(e))}))}initializeRecaptchaConfig(){var e=this;return g(function*(){const n=yield j2(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new z2(n);null==e.tenantId?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.emailPasswordEnabled&&new W2(e).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Xr("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,n){var r=this;return g(function*(){const i=yield r.getOrInitRedirectPersistenceManager(n);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var n=this;return g(function*(){if(!n.redirectPersistenceManager){const r=e&&$i(e)||n._popupRedirectResolver;R(r,n,"argument-error"),n.redirectPersistenceManager=yield au.create(n,[$i(r._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(e){var n=this;return g(function*(){var r,i;return n._isInitialized&&(yield n.queue(g(function*(){}))),(null===(r=n._currentUser)||void 0===r?void 0:r._redirectEventId)===e?n._currentUser:(null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?n.redirectUser:null})()}_persistUserIfCurrent(e){var n=this;return g(function*(){if(e===n.currentUser)return n.queue(g(function*(){return n.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(n=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o="function"==typeof n?n:n.next.bind(n),s=this._isInitialized?Promise.resolve():this._initializationPromise;return R(s,this,"internal-error"),s.then(()=>o(this.currentUser)),"function"==typeof n?e.addObserver(n,r,i):e.addObserver(n)}directlySetCurrentUser(e){var n=this;return g(function*(){n.currentUser&&n.currentUser!==e&&n._currentUser._stopProactiveRefresh(),e&&n.isProactiveRefreshEnabled&&e._startProactiveRefresh(),n.currentUser=e,e?yield n.assertedPersistence.setCurrentUser(e):yield n.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return R(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=$2(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return g(function*(){var n;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(n=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const o=yield e._getAppCheckToken();return o&&(r["X-Firebase-AppCheck"]=o),r})()}_getAppCheckToken(){var e=this;return g(function*(){var n;const r=yield null===(n=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getToken();return r?.error&&function ioe(t,...e){Bp.logLevel<=ee.WARN&&Bp.warn(`Auth (${go}): ${t}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function Ot(t){return Dn(t)}class K2{constructor(e){this.auth=e,this.observer=null,this.addObserver=function VZ(t,e){const n=new UZ(t,e);return n.subscribe.bind(n)}(n=>this.observer=n)}get next(){return R(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Q2(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Y2(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}class Foe{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ti("not implemented")}_getIdTokenResponse(e){return ti("not implemented")}_linkToIdToken(e,n){return ti("not implemented")}_getReauthenticationResolver(e){return ti("not implemented")}}function ji(t,e){return pb.apply(this,arguments)}function pb(){return(pb=g(function*(t,e){return function Ui(t,e,n,r){return VD.apply(this,arguments)}(t,"POST","/v1/accounts:signInWithIdp",Je(t,e))})).apply(this,arguments)}class Io{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Yoe extends Io{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class gr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return g(function*(){const o=yield bs._fromIdTokenResponse(e,r,i),s=eV(r);return new gr({user:o,providerId:s,_tokenResponse:r,operationType:n})})()}static _forOperation(e,n,r){return g(function*(){yield e._updateTokensIfNecessary(r,!0);const i=eV(r);return new gr({user:e,providerId:i,_tokenResponse:r,operationType:n})})()}}function eV(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class Qp extends rr{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Qp.prototype),this.customData={appName:e.name,tenantId:null!==(o=e.tenantId)&&void 0!==o?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Qp(e,n,r,i)}}function tV(t,e,n,r){return("reauthenticate"===e?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw"auth/multi-factor-auth-required"===o.code?Qp._fromErrorAndOperation(t,o,e,r):o})}function bb(){return(bb=g(function*(t,e,n=!1){const r=yield Bi(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return gr._forOperation(t,"link",r)})).apply(this,arguments)}function Tb(){return(Tb=g(function*(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const o=yield Bi(t,tV(r,i,e,t),n);R(o.idToken,r,"internal-error");const s=jp(o.idToken);R(s,r,"internal-error");const{sub:a}=s;return R(t.uid===a,r,"user-mismatch"),gr._forOperation(t,i,o)}catch(o){throw"auth/user-not-found"===o?.code&&jn(r,"user-mismatch"),o}})).apply(this,arguments)}function Sb(){return(Sb=g(function*(t,e,n=!1){const r="signIn",i=yield tV(t,r,e),o=yield gr._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(o.user)),o})).apply(this,arguments)}const Xp="__sak";class sV{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Xp,"1"),this.storage.removeItem(Xp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const vse=(()=>{class t extends sV{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function mse(){const t=kt();return KD(t)||Gp(t)}()&&function Doe(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=B2(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),o=this.localCache[r];i!==o&&n(r,o,i)}}onStorageEvent(n,r=!1){if(!n.key)return void this.forAllChangedKeys((a,u,c)=>{this.notifyListeners(a,c)});const i=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(i);if(n.newValue!==a)null!==n.newValue?this.storage.setItem(i,n.newValue):this.storage.removeItem(i);else if(this.localCache[i]===n.newValue&&!r)return}const o=()=>{const a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);!function Eoe(){return function kZ(){const t=kt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}()&&10===document.documentMode}()||s===n.newValue||n.newValue===n.oldValue?o():setTimeout(o,10)}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(n,r){var i=()=>super._set,o=this;return g(function*(){yield i().call(o,n,r),o.localCache[n]=JSON.stringify(r)})()}_get(n){var r=()=>super._get,i=this;return g(function*(){const o=yield r().call(i,n);return i.localCache[n]=JSON.stringify(o),o})()}_remove(n){var r=()=>super._remove,i=this;return g(function*(){yield r().call(i,n),delete i.localCache[n]})()}}return t.type="LOCAL",t})(),aV=(()=>{class t extends sV{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})();let Ise=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){const r=this.receivers.find(o=>o.isListeningto(n));if(r)return r;const i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){var r=this;return g(function*(){const i=n,{eventId:o,eventType:s,data:a}=i.data,u=r.handlersMap[s];if(!u?.size)return;i.ports[0].postMessage({status:"ack",eventId:o,eventType:s});const c=Array.from(u).map(function(){var d=g(function*(h){return h(i.origin,a)});return function(h){return d.apply(this,arguments)}}()),l=yield function wse(t){return Promise.all(t.map(function(){var e=g(function*(n){try{return{fulfilled:!0,value:yield n}}catch(r){return{fulfilled:!1,reason:r}}});return function(n){return e.apply(this,arguments)}}()))}(c);i.ports[0].postMessage({status:"done",eventId:o,eventType:s,response:l})})()}_subscribe(n,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||0===this.handlersMap[n].size)&&delete this.handlersMap[n],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return t.receivers=[],t})();function rC(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(10*Math.random());return t+n}class Ese{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){var i=this;return g(function*(){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let s,a;return new Promise((u,c)=>{const l=rC("",20);o.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},r);a={messageChannel:o,onMessage(h){const f=h;if(f.data.eventId===l)switch(f.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),u(f.data.response);break;default:clearTimeout(d),clearTimeout(s),c(new Error("invalid_response"))}}},i.handlers.add(a),o.port1.addEventListener("message",a.onMessage),i.target.postMessage({eventType:e,eventId:l,data:n},[o.port2])}).finally(()=>{a&&i.removeMessageHandler(a)})})()}}function vt(){return window}function iC(){return typeof vt().WorkerGlobalScope<"u"&&"function"==typeof vt().importScripts}function oC(){return(oC=g(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const uV="firebaseLocalStorageDb",Jp="firebaseLocalStorage",cV="fbase_key";class Rl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Zp(t,e){return t.transaction([Jp],e?"readwrite":"readonly").objectStore(Jp)}function sC(){const t=indexedDB.open(uV,1);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Jp,{keyPath:cV})}catch(i){n(i)}}),t.addEventListener("success",g(function*(){const r=t.result;r.objectStoreNames.contains(Jp)?e(r):(r.close(),yield function Ase(){const t=indexedDB.deleteDatabase(uV);return new Rl(t).toPromise()}(),e(yield sC()))}))})}function lV(t,e,n){return aC.apply(this,arguments)}function aC(){return(aC=g(function*(t,e,n){const r=Zp(t,!0).put({[cV]:e,value:n});return new Rl(r).toPromise()})).apply(this,arguments)}function uC(){return(uC=g(function*(t,e){const n=Zp(t,!1).get(e),r=yield new Rl(n).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function dV(t,e){const n=Zp(t,!0).delete(e);return new Rl(n).toPromise()}const Nse=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var n=this;return g(function*(){return n.db||(n.db=yield sC()),n.db})()}_withRetries(n){var r=this;return g(function*(){let i=0;for(;;)try{const o=yield r._openDb();return yield n(o)}catch(o){if(i++>3)throw o;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var n=this;return g(function*(){return iC()?n.initializeReceiver():n.initializeSender()})()}initializeReceiver(){var n=this;return g(function*(){n.receiver=Ise._getInstance(function Tse(){return iC()?self:null}()),n.receiver._subscribe("keyChanged",function(){var r=g(function*(i,o){return{keyProcessed:(yield n._poll()).includes(o.key)}});return function(i,o){return r.apply(this,arguments)}}()),n.receiver._subscribe("ping",function(){var r=g(function*(i,o){return["keyChanged"]});return function(i,o){return r.apply(this,arguments)}}())})()}initializeSender(){var n=this;return g(function*(){var r,i;if(n.activeServiceWorker=yield function bse(){return oC.apply(this,arguments)}(),!n.activeServiceWorker)return;n.sender=new Ese(n.activeServiceWorker);const o=yield n.sender._send("ping",{},800);o&&null!==(r=o[0])&&void 0!==r&&r.fulfilled&&null!==(i=o[0])&&void 0!==i&&i.value.includes("keyChanged")&&(n.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(n){var r=this;return g(function*(){if(r.sender&&r.activeServiceWorker&&function Cse(){var t;return(null===(t=navigator?.serviceWorker)||void 0===t?void 0:t.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:n},r.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return g(function*(){try{if(!indexedDB)return!1;const n=yield sC();return yield lV(n,Xp,"1"),yield dV(n,Xp),!0}catch{}return!1})()}_withPendingWrite(n){var r=this;return g(function*(){r.pendingWrites++;try{yield n()}finally{r.pendingWrites--}})()}_set(n,r){var i=this;return g(function*(){return i._withPendingWrite(g(function*(){return yield i._withRetries(o=>lV(o,n,r)),i.localCache[n]=r,i.notifyServiceWorker(n)}))})()}_get(n){var r=this;return g(function*(){const i=yield r._withRetries(o=>function xse(t,e){return uC.apply(this,arguments)}(o,n));return r.localCache[n]=i,i})()}_remove(n){var r=this;return g(function*(){return r._withPendingWrite(g(function*(){return yield r._withRetries(i=>dV(i,n)),delete r.localCache[n],r.notifyServiceWorker(n)}))})()}_poll(){var n=this;return g(function*(){const r=yield n._withRetries(s=>{const a=Zp(s,!1).getAll();return new Rl(a).toPromise()});if(!r)return[];if(0!==n.pendingWrites)return[];const i=[],o=new Set;for(const{fbase_key:s,value:a}of r)o.add(s),JSON.stringify(n.localCache[s])!==JSON.stringify(a)&&(n.notifyListeners(s,a),i.push(s));for(const s of Object.keys(n.localCache))n.localCache[s]&&!o.has(s)&&(n.notifyListeners(s,null),i.push(s));return i})()}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const o of Array.from(i))o(r)}startPolling(){var n=this;this.stopPolling(),this.pollTimer=setInterval(g(function*(){return n._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return t.type="LOCAL",t})();q2("rcb"),new Dl(3e4,6e4);class yC extends Foe{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ji(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ji(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ji(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Kse(t){return function iV(t,e){return Sb.apply(this,arguments)}(t.auth,new yC(t),t.bypassAuthState)}function Qse(t){const{auth:e,user:n}=t;return R(n,e,"internal-error"),function rV(t,e){return Tb.apply(this,arguments)}(n,new yC(t),t.bypassAuthState)}function Yse(t){return _C.apply(this,arguments)}function _C(){return(_C=g(function*(t){const{auth:e,user:n}=t;return R(n,e,"internal-error"),function Db(t,e){return bb.apply(this,arguments)}(n,new yC(t),t.bypassAuthState)})).apply(this,arguments)}class Xse{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){var e=this;return new Promise(function(){var n=g(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(o){e.reject(o)}});return function(r,i){return n.apply(this,arguments)}}())}onAuthEvent(e){var n=this;return g(function*(){const{urlResponse:r,sessionId:i,postBody:o,tenantId:s,error:a,type:u}=e;if(a)return void n.reject(a);const c={auth:n.auth,requestUri:r,sessionId:i,tenantId:s||void 0,postBody:o||void 0,user:n.user,bypassAuthState:n.bypassAuthState};try{n.resolve(yield n.getIdpTask(u)(c))}catch(l){n.reject(l)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Kse;case"linkViaPopup":case"linkViaRedirect":return Yse;case"reauthViaPopup":case"reauthViaRedirect":return Qse;default:jn(this.auth,"internal-error")}}resolve(e){_o(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){_o(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}new Dl(2e3,1e4);const Jse="pendingRedirect",Nl=new Map;class Zse extends Xse{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,n=this;return g(function*(){let r=Nl.get(n.auth._key());if(!r){try{const o=(yield function eae(t,e){return DC.apply(this,arguments)}(n.resolver,n.auth))?yield e().call(n):null;r=()=>Promise.resolve(o)}catch(i){r=()=>Promise.reject(i)}Nl.set(n.auth._key(),r)}return n.bypassAuthState||Nl.set(n.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var n=()=>super.onAuthEvent,r=this;return g(function*(){if("signInViaRedirect"===e.type)return n().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,n().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return g(function*(){})()}cleanUp(){}}function DC(){return(DC=g(function*(t,e){const n=function pV(t){return Hp(Jse,t.config.apiKey,t.name)}(e),r=function fV(t){return $i(t._redirectPersistence)}(t);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(n));return yield r._remove(n),i})).apply(this,arguments)}function tae(t,e){Nl.set(t._key(),e)}function gV(t,e){return MC.apply(this,arguments)}function MC(){return(MC=g(function*(t,e,n=!1){const r=Ot(t),i=function Ts(t,e){return e?$i(e):(R(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}(r,e),s=yield new Zse(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})).apply(this,arguments)}class sae{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function aae(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return _V(t);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!_V(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";n.onError(ei(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=null===n.eventId||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(yV(e))}saveEventToCache(e){this.cachedEventUids.add(yV(e)),this.lastProcessedEventTime=Date.now()}}function yV(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function _V({type:t,error:e}){return"unknown"===t&&"auth/no-auth-event"===e?.code}function NC(){return(NC=g(function*(t,e={}){return ot(t,"GET","/v1/projects",e)})).apply(this,arguments)}const cae=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,lae=/^https?/;function kC(){return kC=g(function*(t){if(t.config.emulator)return;const{authorizedDomains:e}=yield function uae(t){return NC.apply(this,arguments)}(t);for(const n of e)try{if(hae(n))return}catch{}jn(t,"unauthorized-domain")}),kC.apply(this,arguments)}function hae(t){const e=El(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return""===s.hostname&&""===r?"chrome-extension:"===n&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===n&&s.hostname===r}if(!lae.test(n))return!1;if(cae.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const fae=new Dl(3e4,6e4);function vV(){const t=vt().___jsl;if(t?.H)for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}let tg=null;const mae=new Dl(5e3,15e3),yae="__/auth/iframe",_ae="emulator/auth/iframe",vae={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},wae=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Iae(t){const e=t.config;R(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?OD(e,_ae):`https://${t.config.authDomain}/${yae}`,r={apiKey:e.apiKey,appName:t.name,v:go},i=wae.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${_p(r).slice(1)}`}function PC(){return PC=g(function*(t){const e=yield function gae(t){return tg=tg||function pae(t){return new Promise((e,n)=>{var r,i,o;function s(){vV(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{vV(),n(ei(t,"network-request-failed"))},timeout:fae.get()})}if(null!==(i=null===(r=vt().gapi)||void 0===r?void 0:r.iframes)&&void 0!==i&&i.Iframe)e(gapi.iframes.getContext());else{if(null===(o=vt().gapi)||void 0===o||!o.load){const a=q2("iframefcb");return vt()[a]=()=>{gapi.load?s():n(ei(t,"network-request-failed"))},XD(`https://apis.google.com/js/api.js?onload=${a}`).catch(u=>n(u))}s()}}).catch(e=>{throw tg=null,e})}(t),tg}(t),n=vt().gapi;return R(n,t,"internal-error"),e.open({where:document.body,url:Iae(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:vae,dontclear:!0},r=>new Promise(function(){var i=g(function*(o,s){yield r.restyle({setHideOnLeave:!1});const a=ei(t,"network-request-failed"),u=vt().setTimeout(()=>{s(a)},mae.get());function c(){vt().clearTimeout(u),o(r)}r.ping(c).then(c,()=>{s(a)})});return function(o,s){return i.apply(this,arguments)}}()))}),PC.apply(this,arguments)}const Dae={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class wV{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Mae="__/auth/handler",Rae="emulator/auth/handler",Nae=encodeURIComponent("fac");function IV(t,e,n,r,i,o){return OC.apply(this,arguments)}function OC(){return(OC=g(function*(t,e,n,r,i,o){R(t.config.authDomain,t,"auth-domain-config-required"),R(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:go,eventId:i};if(e instanceof Io){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",function LZ(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[l,d]of Object.entries(o||{}))s[l]=d}if(e instanceof Yoe){const l=e.getScopes().filter(d=>""!==d);l.length>0&&(s.scopes=l.join(","))}t.tenantId&&(s.tid=t.tenantId);const a=s;for(const l of Object.keys(a))void 0===a[l]&&delete a[l];const u=yield t._getAppCheckToken(),c=u?`#${Nae}=${encodeURIComponent(u)}`:"";return`${function kae({config:t}){return t.emulator?OD(t,Rae):`https://${t.authDomain}/${Mae}`}(t)}?${_p(a).slice(1)}${c}`})).apply(this,arguments)}const FC="webStorageSupport",Oae=class Pae{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=aV,this._completeRedirectFn=gV,this._overrideRedirectResult=tae}_openPopup(e,n,r,i){var o=this;return g(function*(){var s;_o(null===(s=o.eventManagers[e._key()])||void 0===s?void 0:s.manager,"_initialize() not called before _openPopup()");const a=yield IV(e,n,r,El(),i);return function Aae(t,e,n,r=500,i=600){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u=Object.assign(Object.assign({},Dae),{width:r.toString(),height:i.toString(),top:o,left:s}),c=kt().toLowerCase();n&&(a=O2(c)?"_blank":n),P2(c)&&(e=e||"http://localhost",u.scrollbars="yes");const l=Object.entries(u).reduce((h,[f,p])=>`${h}${f}=${p},`,"");if(function Ioe(t=kt()){var e;return Gp(t)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(c)&&"_self"!==a)return function xae(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(e||"",a),new wV(null);const d=window.open(e||"",a,l);R(d,t,"popup-blocked");try{d.focus()}catch{}return new wV(d)}(e,a,rC())})()}_openRedirect(e,n,r,i){var o=this;return g(function*(){return yield o._originValidation(e),function Dse(t){vt().location.href=t}(yield IV(e,n,r,El(),i)),new Promise(()=>{})})()}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(_o(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){var n=this;return g(function*(){const r=yield function Eae(t){return PC.apply(this,arguments)}(e),i=new sae(e);return r.register("authEvent",o=>(R(o?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),n.eventManagers[e._key()]={manager:i},n.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(FC,{type:FC},i=>{var o;const s=null===(o=i?.[0])||void 0===o?void 0:o[FC];void 0!==s&&n(!!s),jn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=function dae(t){return kC.apply(this,arguments)}(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return B2()||KD()||Gp()}};var bV="@firebase/auth";class Fae{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var n=this;return g(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){R(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Bae=MF("authIdTokenMaxAge")||300;let TV=null;const $ae=t=>function(){var e=g(function*(n){const r=n&&(yield n.getIdTokenResult()),i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3;if(i&&i>Bae)return;const o=r?.token;TV!==o&&(TV=o,yield fetch(t,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))});return function(n){return e.apply(this,arguments)}}();function jae(t=Ip()){const e=ms(t,"auth");if(e.isInitialized())return e.getImmediate();const n=function Roe(t,e){const n=ms(t,"auth");if(n.isInitialized()){const i=n.getImmediate();if(yp(n.getOptions(),e??{}))return i;jn(i,"already-initialized")}return n.initialize({options:e})}(t,{popupRedirectResolver:Oae,persistence:[Nse,vse,aV]}),r=MF("authTokenSyncURL");if(r){const o=$ae(r);(function dse(t,e,n){Dn(t).beforeAuthStateChanged(e,n)})(n,o,()=>o(n.currentUser)),function lse(t,e,n,r){Dn(t).onIdTokenChanged(e,n,r)}(n,s=>o(s))}const i=SF("auth");return i&&function koe(t,e,n){const r=Ot(t);R(r._canInitEmulator,r,"emulator-config-failed"),R(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!n?.disableWarnings,o=Q2(e),{host:s,port:a}=function Poe(t){const e=Q2(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:Y2(r.substr(o.length+1))}}{const[o,s]=r.split(":");return{host:o,port:Y2(s)}}}(e);r.config.emulator={url:`${o}//${s}${null===a?"":`:${a}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function Ooe(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",t):t())}()}(n,`http://${i}`),n}!function Vae(t){dn(new Wt("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;R(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:$2(t)},c=new Moe(r,i,o,u);return function Noe(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map($i);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),dn(new Wt("auth-internal",e=>{const n=Ot(e.getProvider("auth").getImmediate());return new Fae(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),$e(bV,"0.23.2",function Lae(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(t)),$e(bV,"0.23.2","esm2017")}("Browser");class VC{constructor(e){return e}}class UC{constructor(){return xp("auth")}}const BC=new U("angularfire2.auth-instances");function Gae(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new VC(r)}}const zae={provide:UC,deps:[[new Ct,BC]]},qae={provide:VC,useFactory:function Hae(t,e){const n=Ap("auth",t,e);return n&&new VC(n)},deps:[[new Ct,BC],Ds]};let Wae=(()=>{class t{constructor(){$e("angularfire",vl.full,"auth")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=rn({type:t}),t.\u0275inj=Ht({providers:[qae,zae]}),t})();function Kae(t,...e){return{ngModule:Wae,providers:[{provide:BC,useFactory:Gae(t),multi:!0,deps:[Me,Un,Mp,Rp,[new Ct,Up],...e]}]}}const Qae=iu(jae,!0),AV="firebasestorage.googleapis.com";class Ze extends rr{constructor(e,n,r=0){super($C(e),`Firebase Storage: ${n} (${$C(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ze.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return $C(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var Q=(()=>((Q=Q||{}).UNKNOWN="unknown",Q.OBJECT_NOT_FOUND="object-not-found",Q.BUCKET_NOT_FOUND="bucket-not-found",Q.PROJECT_NOT_FOUND="project-not-found",Q.QUOTA_EXCEEDED="quota-exceeded",Q.UNAUTHENTICATED="unauthenticated",Q.UNAUTHORIZED="unauthorized",Q.UNAUTHORIZED_APP="unauthorized-app",Q.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",Q.INVALID_CHECKSUM="invalid-checksum",Q.CANCELED="canceled",Q.INVALID_EVENT_NAME="invalid-event-name",Q.INVALID_URL="invalid-url",Q.INVALID_DEFAULT_BUCKET="invalid-default-bucket",Q.NO_DEFAULT_BUCKET="no-default-bucket",Q.CANNOT_SLICE_BLOB="cannot-slice-blob",Q.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",Q.NO_DOWNLOAD_URL="no-download-url",Q.INVALID_ARGUMENT="invalid-argument",Q.INVALID_ARGUMENT_COUNT="invalid-argument-count",Q.APP_DELETED="app-deleted",Q.INVALID_ROOT_OPERATION="invalid-root-operation",Q.INVALID_FORMAT="invalid-format",Q.INTERNAL_ERROR="internal-error",Q.UNSUPPORTED_ENVIRONMENT="unsupported-environment",Q))();function $C(t){return"storage/"+t}function HC(t){return new Ze(Q.INVALID_ARGUMENT,t)}function kV(){return new Ze(Q.APP_DELETED,"The Firebase app was deleted.")}class Cn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Cn.makeFromUrl(e,n)}catch{return new Cn(e,"")}if(""===r.path)return r;throw function oue(t){return new Ze(Q.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)",a=new RegExp("^gs://"+i+"(/(.*))?$","i");function c(x){x.path_=decodeURIComponent(x.path)}const d=n.replace(/[.]/g,"\\."),E=[{regex:a,indices:{bucket:1,path:3},postModify:function o(x){"/"===x.path.charAt(x.path.length-1)&&(x.path_=x.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${d}/v[A-Za-z0-9_]+/b/${i}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:c},{regex:new RegExp(`^https?://${n===AV?"(?:storage.googleapis.com|storage.cloud.google.com)":n}/${i}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:c}];for(let x=0;x<E.length;x++){const L=E[x],J=L.regex.exec(e);if(J){let Mn=J[L.indices.path];Mn||(Mn=""),r=new Cn(J[L.indices.bucket],Mn),L.postModify(r);break}}if(null==r)throw function iue(t){return new Ze(Q.INVALID_URL,"Invalid URL '"+t+"'.")}(e);return r}}class due{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function zC(t,e,n,r){if(r<e)throw HC(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw HC(`Invalid value for '${t}'. Expected ${n} or less.`)}var Hn=(()=>((Hn=Hn||{})[Hn.NO_ERROR=0]="NO_ERROR",Hn[Hn.NETWORK_ERROR=1]="NETWORK_ERROR",Hn[Hn.ABORT=2]="ABORT",Hn))();class yue{constructor(e,n,r,i,o,s,a,u,c,l,d,h=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=u,this.timeout_=c,this.progressCallback_=l,this.connectionFactory_=d,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((f,p)=>{this.resolve_=f,this.reject_=p,this.start_()})}start_(){const n=(r,i)=>{const o=this.resolve_,s=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const u=this.callback_(a,a.getResponse());!function pue(t){return void 0!==t}(u)?o():o(u)}catch(u){s(u)}else if(null!==a){const u=function jC(){return new Ze(Q.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}();u.serverResponse=a.getErrorText(),s(this.errorCallback_?this.errorCallback_(a,u):u)}else s(i.canceled?this.appDelete_?kV():function RV(){return new Ze(Q.CANCELED,"User canceled the upload/download.")}():function MV(){return new Ze(Q.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}())};this.canceled_?n(0,new ig(!1,null,!0)):this.backoffId_=function hue(t,e,n){let r=1,i=null,o=null,s=!1,a=0;function u(){return 2===a}let c=!1;function l(...y){c||(c=!0,e.apply(null,y))}function d(y){i=setTimeout(()=>{i=null,t(f,u())},y)}function h(){o&&clearTimeout(o)}function f(y,...v){if(c)return void h();if(y)return h(),void l.call(null,y,...v);if(u()||s)return h(),void l.call(null,y,...v);let E;r<64&&(r*=2),1===a?(a=2,E=0):E=1e3*(r+Math.random()),d(E)}let p=!1;function m(y){p||(p=!0,h(),!c&&(null!==i?(y||(a=2),clearTimeout(i),d(0)):y||(a=1)))}return d(0),o=setTimeout(()=>{s=!0,m(!0)},n),m}((r,i)=>{if(i)return void r(!1,new ig(!1,null,!0));const o=this.connectionFactory_();this.pendingConnection_=o;const s=a=>{null!==this.progressCallback_&&this.progressCallback_(a.loaded,a.lengthComputable?a.total:-1)};null!==this.progressCallback_&&o.addUploadProgressListener(s),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&o.removeUploadProgressListener(s),this.pendingConnection_=null;const a=o.getErrorCode()===Hn.NO_ERROR,u=o.getStatus();if(!a||function FV(t,e){const n=t>=500&&t<600,i=-1!==[408,429].indexOf(t),o=-1!==e.indexOf(t);return n||i||o}(u,this.additionalRetryCodes_)&&this.retry){const l=o.getErrorCode()===Hn.ABORT;return void r(!1,new ig(!1,null,l))}const c=-1!==this.successCodes_.indexOf(u);r(!0,new ig(c,o))})},n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function fue(t){t(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class ig{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}class Ss{constructor(e,n){this._service=e,this._location=n instanceof Cn?n:Cn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Ss(e,n)}get root(){const e=new Cn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return function $V(t){const e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}(this._location.path)}get storage(){return this._service}get parent(){const e=function Rue(t){if(0===t.length)return null;const e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this._location.path);if(null===e)return null;const n=new Cn(this._location.bucket,e);return new Ss(this._service,n)}_throwIfRoot(e){if(""===this._location.path)throw function lue(t){return new Ze(Q.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function nU(t,e){const n=e?.storageBucket;return null==n?null:Cn.makeFromBucketSpec(n,t)}class JC{constructor(e,n,r,i,o){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=AV,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?Cn.makeFromBucketSpec(i,this._host):nU(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?Cn.makeFromBucketSpec(this._url,e):nU(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){zC("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){zC("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return g(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const n=e._authProvider.getImmediate({optional:!0});if(n){const r=yield n.getToken();if(null!==r)return r.accessToken}return null})()}_getAppCheckToken(){var e=this;return g(function*(){const n=e._appCheckProvider.getImmediate({optional:!0});return n?(yield n.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ss(this,e)}_makeRequest(e,n,r,i,o=!0){if(this._deleted)return new due(kV());{const s=function Eue(t,e,n,r,i,o,s=!0){const a=function OV(t){const e=encodeURIComponent;let n="?";for(const r in t)t.hasOwnProperty(r)&&(n=n+(e(r)+"=")+e(t[r])+"&");return n=n.slice(0,-1),n}(t.urlParams),u=t.url+a,c=Object.assign({},t.headers);return function wue(t,e){e&&(t["X-Firebase-GMPID"]=e)}(c,e),function _ue(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(c,n),function vue(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}(c,o),function Iue(t,e){null!==e&&(t["X-Firebase-AppCheck"]=e)}(c,r),new yue(u,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,s)}(e,this._appId,r,i,n,this._firebaseVersion,o);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}makeRequestWithTokens(e,n){var r=this;return g(function*(){const[i,o]=yield Promise.all([r._getAuthToken(),r._getAppCheckToken()]);return r._makeRequest(e,n,i,o).getPromise()})()}}const rU="@firebase/storage",oU="storage";function mce(t=Ip(),e){const r=ms(t=Dn(t),oU).getImmediate({identifier:e}),i=AF("storage");return i&&function yce(t,e,n,r={}){!function gce(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken="string"==typeof i?i:RF(i,t.app.options.projectId))}(t,e,n,r)}(r,...i),r}function _ce(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new JC(n,r,i,e,go)}!function vce(){dn(new Wt(oU,_ce,"PUBLIC").setMultipleInstances(!0)),$e(rU,"0.11.2",""),$e(rU,"0.11.2","esm2017")}();class ZC{constructor(e){return e}}const sU="storage",e0=new U("angularfire2.storage-instances");function Ece(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new ZC(r)}}const Dce={provide:class wce{constructor(){return xp(sU)}},deps:[[new Ct,e0]]},bce={provide:ZC,useFactory:function Ice(t,e){const n=Ap(sU,t,e);return n&&new ZC(n)},deps:[[new Ct,e0],Ds]};let Cce=(()=>{class t{constructor(){$e("angularfire",vl.full,"gcs")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=rn({type:t}),t.\u0275inj=Ht({providers:[bce,Dce]}),t})();function Tce(t,...e){return{ngModule:Cce,providers:[{provide:e0,useFactory:Ece(t),multi:!0,deps:[Me,Un,Mp,Rp,[new Ct,UC],[new Ct,Up],...e]}]}}const Sce=iu(mce,!0);var P,Ace=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Rr={},t0=t0||{},oe=Ace||self;function ug(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Ll(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var n0="closure_uid_"+(1e9*Math.random()>>>0),Mce=0;function Rce(t,e,n){return t.call.apply(t.bind,arguments)}function Nce(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function hn(t,e,n){return(hn=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Rce:Nce).apply(null,arguments)}function cg(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Ft(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return e.prototype[i].apply(r,s)}}function Eo(){this.s=this.s,this.o=this.o}Eo.prototype.s=!1,Eo.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function xce(t){Object.prototype.hasOwnProperty.call(t,n0)&&t[n0]||(t[n0]=++Mce)}(this)},Eo.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const aU=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function r0(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function uU(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(ug(r)){const i=t.length||0,o=r.length||0;t.length=i+o;for(let s=0;s<o;s++)t[i+s]=r[s]}else t.push(r)}}function fn(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}fn.prototype.h=function(){this.defaultPrevented=!0};var Pce=function(){if(!oe.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{oe.addEventListener("test",()=>{},e),oe.removeEventListener("test",()=>{},e)}catch{}return t}();function Vl(t){return/^[\s\xa0]*$/.test(t)}function lg(){var t=oe.navigator;return t&&(t=t.userAgent)?t:""}function ii(t){return-1!=lg().indexOf(t)}function o0(t){return o0[" "](t),t}o0[" "]=function(){};var a0,t,Fce=ii("Opera"),du=ii("Trident")||ii("MSIE"),cU=ii("Edge"),s0=cU||du,lU=ii("Gecko")&&!(-1!=lg().toLowerCase().indexOf("webkit")&&!ii("Edge"))&&!(ii("Trident")||ii("MSIE"))&&!ii("Edge"),Lce=-1!=lg().toLowerCase().indexOf("webkit")&&!ii("Edge");function dU(){var t=oe.document;return t?t.documentMode:void 0}e:{var u0="",c0=(t=lg(),lU?/rv:([^\);]+)(\)|;)/.exec(t):cU?/Edge\/([\d\.]+)/.exec(t):du?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):Lce?/WebKit\/(\S+)/.exec(t):Fce?/(?:Version)[ \/]?(\S+)/.exec(t):void 0);if(c0&&(u0=c0?c0[1]:""),du){var l0=dU();if(null!=l0&&l0>parseFloat(u0)){a0=String(l0);break e}}a0=u0}var Vce=oe.document&&du&&(dU()||parseInt(a0,10))||void 0;function Ul(t,e){if(fn.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(lU){e:{try{o0(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Uce[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Ul.$.h.call(this)}}Ft(Ul,fn);var Uce={2:"touch",3:"pen",4:"mouse"};Ul.prototype.h=function(){Ul.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Bl="closure_listenable_"+(1e6*Math.random()|0),Bce=0;function $ce(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++Bce,this.fa=this.ia=!1}function dg(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function h0(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function fU(t){const e={};for(const n in t)e[n]=t[n];return e}const pU="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function gU(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let o=0;o<pU.length;o++)n=pU[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function hg(t){this.src=t,this.g={},this.h=0}function f0(t,e){var n=e.type;if(n in t.g){var o,r=t.g[n],i=aU(r,e);(o=0<=i)&&Array.prototype.splice.call(r,i,1),o&&(dg(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function p0(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.fa&&o.listener==e&&o.capture==!!n&&o.la==r)return i}return-1}hg.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.g[o])||(t=this.g[o]=[],this.h++);var s=p0(t,e,r,i);return-1<s?(e=t[s],n||(e.ia=!1)):((e=new $ce(e,this.src,o,!!r,i)).ia=n,t.push(e)),e};var g0="closure_lm_"+(1e6*Math.random()|0),m0={};function mU(t,e,n,r,i){if(r&&r.once)return _U(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)mU(t,e[o],n,r,i);return null}return n=w0(n),t&&t[Bl]?t.O(e,n,Ll(r)?!!r.capture:!!r,i):yU(t,e,n,!1,r,i)}function yU(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=Ll(i)?!!i.capture:!!i,a=_0(t);if(a||(t[g0]=a=new hg(t)),(n=a.add(e,n,r,s,o)).proxy)return n;if(r=function Hce(){const e=Gce;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Pce||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(wU(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function _U(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)_U(t,e[o],n,r,i);return null}return n=w0(n),t&&t[Bl]?t.P(e,n,Ll(r)?!!r.capture:!!r,i):yU(t,e,n,!0,r,i)}function vU(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)vU(t,e[o],n,r,i);else r=Ll(r)?!!r.capture:!!r,n=w0(n),t&&t[Bl]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=p0(o=t.g[e],n,r,i))&&(dg(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.g[e],t.h--))):t&&(t=_0(t))&&(e=t.g[e.toString()],t=-1,e&&(t=p0(e,n,r,i)),(n=-1<t?e[t]:null)&&y0(n))}function y0(t){if("number"!=typeof t&&t&&!t.fa){var e=t.src;if(e&&e[Bl])f0(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(wU(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=_0(e))?(f0(n,t),0==n.h&&(n.src=null,e[g0]=null)):dg(t)}}}function wU(t){return t in m0?m0[t]:m0[t]="on"+t}function Gce(t,e){if(t.fa)t=!0;else{e=new Ul(e,this);var n=t.listener,r=t.la||t.src;t.ia&&y0(t),t=n.call(r,e)}return t}function _0(t){return(t=t[g0])instanceof hg?t:null}var v0="__closure_events_fn_"+(1e9*Math.random()>>>0);function w0(t){return"function"==typeof t?t:(t[v0]||(t[v0]=function(e){return t.handleEvent(e)}),t[v0])}function Lt(){Eo.call(this),this.i=new hg(this),this.S=this,this.J=null}function Yt(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,"string"==typeof e)e=new fn(e,t);else if(e instanceof fn)e.target=e.target||t;else{var i=e;gU(e=new fn(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.g=n[o];i=fg(s,r,!0,e)&&i}if(i=fg(s=e.g=t,r,!0,e)&&i,i=fg(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=fg(s=e.g=n[o],r,!1,e)&&i}function fg(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.fa&&s.capture==n){var a=s.listener,u=s.la||s.src;s.ia&&f0(t.i,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}Ft(Lt,Eo),Lt.prototype[Bl]=!0,Lt.prototype.removeEventListener=function(t,e,n,r){vU(this,t,e,n,r)},Lt.prototype.N=function(){if(Lt.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)dg(n[r]);delete t.g[e],t.h--}}this.J=null},Lt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},Lt.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var I0=oe.JSON.stringify;function qce(){var t=E0;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var IU=new class zce{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new Kce,t=>t.reset());class Kce{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function Qce(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function Yce(t){oe.setTimeout(()=>{throw t},0)}let $l,jl=!1,E0=new class Wce{constructor(){this.h=this.g=null}add(e,n){const r=IU.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},EU=()=>{const t=oe.Promise.resolve(void 0);$l=()=>{t.then(Xce)}};var Xce=()=>{for(var t;t=qce();){try{t.h.call(t.g)}catch(n){Yce(n)}var e=IU;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}jl=!1};function pg(t,e){Lt.call(this),this.h=t||1,this.g=e||oe,this.j=hn(this.qb,this),this.l=Date.now()}function D0(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}function b0(t,e,n){if("function"==typeof t)n&&(t=hn(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=hn(t.handleEvent,t)}return 2147483647<Number(e)?-1:oe.setTimeout(t,e||0)}function DU(t){t.g=b0(()=>{t.g=null,t.i&&(t.i=!1,DU(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}Ft(pg,Lt),(P=pg.prototype).ga=!1,P.T=null,P.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Yt(this,"tick"),this.ga&&(D0(this),this.start()))}},P.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},P.N=function(){pg.$.N.call(this),D0(this),delete this.g};class Jce extends Eo{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:DU(this)}N(){super.N(),this.g&&(oe.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Hl(t){Eo.call(this),this.h=t,this.g={}}Ft(Hl,Eo);var bU=[];function CU(t,e,n,r){Array.isArray(n)||(n&&(bU[0]=n.toString()),n=bU);for(var i=0;i<n.length;i++){var o=mU(e,n[i],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function TU(t){h0(t.g,function(e,n){this.g.hasOwnProperty(n)&&y0(e)},t),t.g={}}function gg(){this.g=!0}function hu(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function nle(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return I0(n)}catch{return e}}(t,n)+(r?" "+r:"")})}Hl.prototype.N=function(){Hl.$.N.call(this),TU(this)},Hl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},gg.prototype.Ea=function(){this.g=!1},gg.prototype.info=function(){};var As={},SU=null;function mg(){return SU=SU||new Lt}function AU(t){fn.call(this,As.Ta,t)}function Gl(t){const e=mg();Yt(e,new AU(e))}function xU(t,e){fn.call(this,As.STAT_EVENT,t),this.stat=e}function Sn(t){const e=mg();Yt(e,new xU(e,t))}function MU(t,e){fn.call(this,As.Ua,t),this.size=e}function zl(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return oe.setTimeout(function(){t()},e)}As.Ta="serverreachability",Ft(AU,fn),As.STAT_EVENT="statevent",Ft(xU,fn),As.Ua="timingevent",Ft(MU,fn);var yg={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},RU={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function C0(){}function kU(){}C0.prototype.h=null;var A0,ql={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function T0(){fn.call(this,"d")}function S0(){fn.call(this,"c")}function _g(){}function Wl(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Hl(this),this.P=rle,this.V=new pg(t=s0?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new PU}function PU(){this.i=null,this.g="",this.h=!1}Ft(T0,fn),Ft(S0,fn),Ft(_g,C0),_g.prototype.g=function(){return new XMLHttpRequest},_g.prototype.i=function(){return{}},A0=new _g;var rle=45e3,x0={},vg={};function M0(t,e,n){t.L=1,t.v=Dg(zi(e)),t.s=n,t.S=!0,OU(t,null)}function OU(t,e){t.G=Date.now(),Kl(t),t.A=zi(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),zU(n.i,"t",r),t.C=0,n=t.l.J,t.h=new PU,t.g=gB(t.l,n?e:null,!t.s),0<t.O&&(t.M=new Jce(hn(t.Pa,t,t.g),t.O)),CU(t.U,t.g,"readystatechange",t.nb),e=t.I?fU(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),Gl(),function Zce(t,e,n,r,i,o){t.info(function(){if(t.g)if(o)for(var s="",a=o.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var d=l.split("_");s=2<=d.length&&"type"==d[1]?s+(l+"=")+c+"&":s+(l+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+s})}(t.j,t.u,t.A,t.m,t.W,t.s)}function FU(t){return!!t.g&&"GET"==t.u&&2!=t.L&&t.l.Ha}function LU(t,e,n){let i,r=!0;for(;!t.J&&t.C<n.length;){if(i=ile(t,n),i==vg){4==e&&(t.o=4,Sn(14),r=!1),hu(t.j,t.m,null,"[Incomplete Response]");break}if(i==x0){t.o=4,Sn(15),hu(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}hu(t.j,t.m,i,null),R0(t,i)}FU(t)&&i!=vg&&i!=x0&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,Sn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,(e=t.l).g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),V0(e),e.M=!0,Sn(11))):(hu(t.j,t.m,n,"[Invalid Chunked Response]"),xs(t),Ql(t))}function ile(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?vg:(n=Number(e.substring(n,r)),isNaN(n)?x0:(r+=1)+n>e.length?vg:(e=e.slice(r,r+n),t.C=r+n,e))}function Kl(t){t.Y=Date.now()+t.P,VU(t,t.P)}function VU(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=zl(hn(t.lb,t),e)}function wg(t){t.B&&(oe.clearTimeout(t.B),t.B=null)}function Ql(t){0==t.l.H||t.J||dB(t.l,t)}function xs(t){wg(t);var e=t.M;e&&"function"==typeof e.sa&&e.sa(),t.M=null,D0(t.V),TU(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function R0(t,e){try{var n=t.l;if(0!=n.H&&(n.g==t||N0(n.i,t)))if(!t.K&&N0(n.i,t)&&3==n.H){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<t.G))break e;xg(n),Sg(n)}L0(n),Sn(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=zl(hn(n.ib,n),6e3));if(1>=KU(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Rs(n,11)}else if((t.K||n.g==t)&&xg(n),!Vl(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(n.V=c[0],c=c[1],2==n.H)if("c"==c[0]){n.K=c[1],n.pa=c[2];const l=c[3];null!=l&&(n.ra=l,n.l.info("VER="+n.ra));const d=c[4];null!=d&&(n.Ga=d,n.l.info("SVER="+n.Ga));const h=c[5];null!=h&&"number"==typeof h&&0<h&&(n.L=r=1.5*h,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var o=r.i;o.g||-1==p.indexOf("spdy")&&-1==p.indexOf("quic")&&-1==p.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(k0(o,o.h),o.h=null))}if(r.F){const m=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;m&&(r.Da=m,je(r.I,r.F,m))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms"));var s=t;if((r=n).wa=pB(r,r.J?r.pa:null,r.Y),s.K){QU(r.i,s);var a=s,u=r.L;u&&a.setTimeout(u),a.B&&(wg(a),Kl(a)),r.g=s}else cB(r);0<n.j.length&&Ag(n)}else"stop"!=c[0]&&"close"!=c[0]||Rs(n,7);else 3==n.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?Rs(n,7):F0(n):"noop"!=c[0]&&n.h&&n.h.Aa(c),n.A=0)}Gl()}catch{}}function UU(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(ug(t)||"string"==typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function sle(t){if(t.ta&&"function"==typeof t.ta)return t.ta();if(!t.Z||"function"!=typeof t.Z){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(ug(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}(t),r=function ole(t){if(t.Z&&"function"==typeof t.Z)return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if("string"==typeof t)return t.split("");if(ug(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}(P=Wl.prototype).setTimeout=function(t){this.P=t},P.nb=function(t){t=t.target;const e=this.M;e&&3==oi(t)?e.l():this.Pa(t)},P.Pa=function(t){try{if(t==this.g)e:{const l=oi(this.g);var e=this.g.Ia();if(this.g.da(),!(3>l)&&(3!=l||s0||this.g&&(this.h.h||this.g.ja()||rB(this.g)))){this.J||4!=l||7==e||Gl(),wg(this);var n=this.g.da();this.ca=n;t:if(FU(this)){var r=rB(this.g);t="";var i=r.length,o=4==oi(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){xs(this),Ql(this);var s="";break t}this.h.i=new oe.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:o&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,s=this.h.g}else s=this.g.ja();if(this.i=200==n,function ele(t,e,n,r,i,o,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+s})}(this.j,this.u,this.A,this.m,this.W,l,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Vl(a)){var c=a;break t}}c=null}if(!(n=c)){this.i=!1,this.o=3,Sn(12),xs(this),Ql(this);break e}hu(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,R0(this,n)}this.S?(LU(this,l,s),s0&&this.i&&3==l&&(CU(this.U,this.V,"tick",this.mb),this.V.start())):(hu(this.j,this.m,s,null),R0(this,s)),4==l&&xs(this),this.i&&!this.J&&(4==l?dB(this.l,this):(this.i=!1,Kl(this)))}else(function ble(t){const e={};t=(t.g&&2<=oi(t)&&t.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<t.length;r++){if(Vl(t[r]))continue;var n=Qce(t[r]);const i=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const o=e[i]||[];e[i]=o,o.push(n)}!function jce(t,e){for(const n in t)e.call(void 0,t[n],n,t)}(e,function(r){return r.join(", ")})})(this.g),400==n&&0<s.indexOf("Unknown SID")?(this.o=3,Sn(12)):(this.o=0,Sn(13)),xs(this),Ql(this)}}}catch{}},P.mb=function(){if(this.g){var t=oi(this.g),e=this.g.ja();this.C<e.length&&(wg(this),LU(this,t,e),this.i&&4!=t&&Kl(this))}},P.cancel=function(){this.J=!0,xs(this)},P.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(function tle(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Gl(),Sn(17)),xs(this),this.o=2,Ql(this)):VU(this,this.Y-t)};var BU=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ms(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Ms){this.h=t.h,Ig(this,t.j),this.s=t.s,this.g=t.g,Eg(this,t.m),this.l=t.l;var e=t.i,n=new Jl;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),$U(this,n),this.o=t.o}else t&&(e=String(t).match(BU))?(this.h=!1,Ig(this,e[1]||"",!0),this.s=Yl(e[2]||""),this.g=Yl(e[3]||"",!0),Eg(this,e[4]),this.l=Yl(e[5]||"",!0),$U(this,e[6]||"",!0),this.o=Yl(e[7]||"")):(this.h=!1,this.i=new Jl(null,this.h))}function zi(t){return new Ms(t)}function Ig(t,e,n){t.j=n?Yl(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Eg(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function $U(t,e,n){e instanceof Jl?(t.i=e,function fle(t,e){e&&!t.j&&(Do(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(HU(this,r),zU(this,i,n))},t)),t.j=e}(t.i,t.h)):(n||(e=Xl(e,dle)),t.i=new Jl(e,t.h))}function je(t,e,n){t.i.set(e,n)}function Dg(t){return je(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Yl(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Xl(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,ule),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function ule(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Ms.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Xl(e,jU,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(Xl(e,jU,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(Xl(n,"/"==n.charAt(0)?lle:cle,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Xl(n,hle)),t.join("")};var jU=/[#\/\?@]/g,cle=/[#\?:]/g,lle=/[#\?]/g,dle=/[#\?@]/g,hle=/#/g;function Jl(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Do(t){t.g||(t.g=new Map,t.h=0,t.i&&function ale(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function HU(t,e){Do(t),e=fu(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function GU(t,e){return Do(t),e=fu(t,e),t.g.has(e)}function zU(t,e,n){HU(t,e),0<n.length&&(t.i=null,t.g.set(fu(t,e),r0(n)),t.h+=n.length)}function fu(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function qU(t){this.l=t||gle,t=oe.PerformanceNavigationTiming?0<(t=oe.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(oe.g&&oe.g.Ka&&oe.g.Ka()&&oe.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(P=Jl.prototype).add=function(t,e){Do(this),this.i=null,t=fu(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},P.forEach=function(t,e){Do(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)},P.ta=function(){Do(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let o=0;o<i.length;o++)n.push(e[r])}return n},P.Z=function(t){Do(this);let e=[];if("string"==typeof t)GU(this,t)&&(e=e.concat(this.g.get(fu(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},P.set=function(t,e){return Do(this),this.i=null,GU(this,t=fu(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},P.get=function(t,e){return t&&0<(t=this.Z(t)).length?String(t[0]):e},P.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const o=encodeURIComponent(String(r)),s=this.Z(r);for(r=0;r<s.length;r++){var i=o;""!==s[r]&&(i+="="+encodeURIComponent(String(s[r]))),t.push(i)}}return this.i=t.join("&")};var gle=10;function WU(t){return!!t.h||!!t.g&&t.g.size>=t.j}function KU(t){return t.h?1:t.g?t.g.size:0}function N0(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function k0(t,e){t.g?t.g.add(e):t.h=e}function QU(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function YU(t){if(null!=t.h)return t.i.concat(t.h.F);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return r0(t.i)}qU.prototype.cancel=function(){if(this.i=YU(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}};var mle=class{stringify(t){return oe.JSON.stringify(t,void 0)}parse(t){return oe.JSON.parse(t,void 0)}};function yle(){this.g=new mle}function _le(t,e,n){const r=n||"";try{UU(t,function(i,o){let s=i;Ll(i)&&(s=I0(i)),e.push(r+o+"="+encodeURIComponent(s))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function bg(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Zl(t){this.l=t.fc||null,this.j=t.ob||!1}function Cg(t,e){Lt.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=P0,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ft(Zl,C0),Zl.prototype.g=function(){return new Cg(this.l,this.j)},Zl.prototype.i=function(t){return function(){return t}}({}),Ft(Cg,Lt);var P0=0;function XU(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}function ed(t){t.readyState=4,t.l=null,t.j=null,t.A=null,td(t)}function td(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(P=Cg.prototype).open=function(t,e){if(this.readyState!=P0)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,td(this)},P.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||oe).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},P.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ed(this)),this.readyState=P0},P.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,td(this)),this.g&&(this.readyState=3,td(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof oe.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;XU(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))},P.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?ed(this):td(this),3==this.readyState&&XU(this)}},P.Za=function(t){this.g&&(this.response=this.responseText=t,ed(this))},P.Ya=function(t){this.g&&(this.response=t,ed(this))},P.ka=function(){this.g&&ed(this)},P.setRequestHeader=function(t,e){this.v.append(t,e)},P.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},P.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(Cg.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var wle=oe.JSON.parse;function st(t){Lt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=JU,this.L=this.M=!1}Ft(st,Lt);var JU="",Ile=/^https?$/i,Ele=["POST","PUT"];function ZU(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,eB(t),Tg(t)}function eB(t){t.F||(t.F=!0,Yt(t,"complete"),Yt(t,"error"))}function tB(t){if(t.h&&typeof t0<"u"&&(!t.C[1]||4!=oi(t)||2!=t.da()))if(t.v&&4==oi(t))b0(t.La,0,t);else if(Yt(t,"readystatechange"),4==oi(t)){t.h=!1;try{const s=t.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=0===s){var i=String(t.I).match(BU)[1]||null;!i&&oe.self&&oe.self.location&&(i=oe.self.location.protocol.slice(0,-1)),r=!Ile.test(i?i.toLowerCase():"")}n=r}if(n)Yt(t,"complete"),Yt(t,"success");else{t.m=6;try{var o=2<oi(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.da()+"]",eB(t)}}finally{Tg(t)}}}function Tg(t,e){if(t.g){nB(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Yt(t,"ready");try{n.onreadystatechange=r}catch{}}}function nB(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(oe.clearTimeout(t.A),t.A=null)}function oi(t){return t.g?t.g.readyState:0}function rB(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case JU:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function iB(t){let e="";return h0(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}function O0(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=iB(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):je(t,e,n))}function nd(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function oB(t){this.Ga=0,this.j=[],this.l=new gg,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=nd("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=nd("baseRetryDelayMs",5e3,t),this.hb=nd("retryDelaySeedMs",1e4,t),this.eb=nd("forwardChannelMaxRetries",2,t),this.xa=nd("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new qU(t&&t.concurrentRequestLimit),this.Ja=new yle,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function F0(t){if(sB(t),3==t.H){var e=t.W++,n=zi(t.I);if(je(n,"SID",t.K),je(n,"RID",e),je(n,"TYPE","terminate"),rd(t,n),(e=new Wl(t,t.l,e)).L=2,e.v=Dg(zi(n)),n=!1,oe.navigator&&oe.navigator.sendBeacon)try{n=oe.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&oe.Image&&((new Image).src=e.v,n=!0),n||(e.g=gB(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Kl(e)}fB(t)}function Sg(t){t.g&&(V0(t),t.g.cancel(),t.g=null)}function sB(t){Sg(t),t.u&&(oe.clearTimeout(t.u),t.u=null),xg(t),t.i.cancel(),t.m&&("number"==typeof t.m&&oe.clearTimeout(t.m),t.m=null)}function Ag(t){if(!WU(t.i)&&!t.m){t.m=!0;var e=t.Na;$l||EU(),jl||($l(),jl=!0),E0.add(e,t),t.C=0}}function aB(t,e){var n;n=e?e.m:t.W++;const r=zi(t.I);je(r,"SID",t.K),je(r,"RID",n),je(r,"AID",t.V),rd(t,r),t.o&&t.s&&O0(r,t.o,t.s),n=new Wl(t,t.l,n,t.C+1),null===t.o&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=uB(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),k0(t.i,n),M0(n,r,e)}function rd(t,e){t.na&&h0(t.na,function(n,r){je(e,r,n)}),t.h&&UU({},function(n,r){je(e,r,n)})}function uB(t,e,n){n=Math.min(t.j.length,n);var r=t.h?hn(t.h.Va,t.h,t):null;e:{var i=t.j;let o=-1;for(;;){const s=["count="+n];-1==o?0<n?(o=i[0].g,s.push("ofs="+o)):o=0:s.push("ofs="+o);let a=!0;for(let u=0;u<n;u++){let c=i[u].g;const l=i[u].map;if(c-=o,0>c)o=Math.max(0,i[u].g-100),a=!1;else try{_le(l,s,"req"+c+"_")}catch{r&&r(l)}}if(a){r=s.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function cB(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;$l||EU(),jl||($l(),jl=!0),E0.add(e,t),t.A=0}}function L0(t){return!(t.g||t.u||3<=t.A||(t.ba++,t.u=zl(hn(t.Ma,t),hB(t,t.A)),t.A++,0))}function V0(t){null!=t.B&&(oe.clearTimeout(t.B),t.B=null)}function lB(t){t.g=new Wl(t,t.l,"rpc",t.ba),null===t.o&&(t.g.I=t.s),t.g.O=0;var e=zi(t.wa);je(e,"RID","rpc"),je(e,"SID",t.K),je(e,"AID",t.V),je(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&je(e,"TO",t.qa),je(e,"TYPE","xmlhttp"),rd(t,e),t.o&&t.s&&O0(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=Dg(zi(e)),n.s=null,n.S=!0,OU(n,t)}function xg(t){null!=t.v&&(oe.clearTimeout(t.v),t.v=null)}function dB(t,e){var n=null;if(t.g==e){xg(t),V0(t),t.g=null;var r=2}else{if(!N0(t.i,e))return;n=e.F,QU(t.i,e),r=1}if(0!=t.H)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;Yt(r=mg(),new MU(r,n)),Ag(t)}else cB(t);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function Cle(t,e){return!(KU(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.j=e.F.concat(t.j),0):1==t.H||2==t.H||t.C>=(t.cb?0:t.eb)||(t.m=zl(hn(t.Na,t,e),hB(t,t.C)),t.C++,0)))}(t,e)||2==r&&L0(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Rs(t,5);break;case 4:Rs(t,10);break;case 3:Rs(t,6);break;default:Rs(t,2)}}function hB(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Rs(t,e){if(t.l.info("Error code "+e),2==e){var n=null;t.h&&(n=null);var r=hn(t.pb,t);n||(n=new Ms("//www.google.com/images/cleardot.gif"),oe.location&&"http"==oe.location.protocol||Ig(n,"https"),Dg(n)),function vle(t,e){const n=new gg;if(oe.Image){const r=new Image;r.onload=cg(bg,n,r,"TestLoadImage: loaded",!0,e),r.onerror=cg(bg,n,r,"TestLoadImage: error",!1,e),r.onabort=cg(bg,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=cg(bg,n,r,"TestLoadImage: timeout",!1,e),oe.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else Sn(2);t.H=0,t.h&&t.h.za(e),fB(t),sB(t)}function fB(t){if(t.H=0,t.ma=[],t.h){const e=YU(t.i);(0!=e.length||0!=t.j.length)&&(uU(t.ma,e),uU(t.ma,t.j),t.i.i.length=0,r0(t.j),t.j.length=0),t.h.ya()}}function pB(t,e,n){var r=n instanceof Ms?zi(n):new Ms(n);if(""!=r.g)e&&(r.g=e+"."+r.g),Eg(r,r.m);else{var i=oe.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var o=new Ms(null);r&&Ig(o,r),e&&(o.g=e),i&&Eg(o,i),n&&(o.l=n),r=o}return e=t.Da,(n=t.F)&&e&&je(r,n,e),je(r,"VER",t.ra),rd(t,r),r}function gB(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new st(n&&t.Ha&&!t.va?new Zl({ob:!0}):t.va)).Oa(t.J),e}function mB(){}function Mg(){if(du&&!(10<=Number(Vce)))throw Error("Environmental error: no available transport.")}function ir(t,e){Lt.call(this),this.g=new oB(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Vl(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Vl(e)&&(this.g.F=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new pu(this)}function yB(t){T0.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function _B(){S0.call(this),this.status=1}function pu(t){this.g=t}function Nr(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function U0(t,e,n){n||(n=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var o=t.g[3],s=(e=t.g[0])+(o^(n=t.g[1])&((i=t.g[2])^o))+r[0]+3614090360&4294967295;s=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=n+(s<<7&4294967295|s>>>25))+((s=o+(i^e&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(e^n))+r[2]+606105819&4294967295)<<17&4294967295|s>>>15))+((s=n+(e^i&(o^e))+r[3]+3250441966&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^n&(i^o))+r[4]+4118548399&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^e&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(e^n))+r[6]+2821735955&4294967295)<<17&4294967295|s>>>15))+((s=n+(e^i&(o^e))+r[7]+4249261313&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^n&(i^o))+r[8]+1770035416&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^e&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(e^n))+r[10]+4294925233&4294967295)<<17&4294967295|s>>>15))+((s=n+(e^i&(o^e))+r[11]+2304563134&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^n&(i^o))+r[12]+1804603682&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^e&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(e^n))+r[14]+2792965006&4294967295)<<17&4294967295|s>>>15))+((s=n+(e^i&(o^e))+r[15]+1236535329&4294967295)<<22&4294967295|s>>>10))+((s=e+(i^o&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(e^n))+r[6]+3225465664&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^n&(o^e))+r[11]+643717713&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^e&(i^o))+r[0]+3921069994&4294967295)<<20&4294967295|s>>>12))+((s=e+(i^o&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(e^n))+r[10]+38016083&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^n&(o^e))+r[15]+3634488961&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^e&(i^o))+r[4]+3889429448&4294967295)<<20&4294967295|s>>>12))+((s=e+(i^o&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(e^n))+r[14]+3275163606&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^n&(o^e))+r[3]+4107603335&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^e&(i^o))+r[8]+1163531501&4294967295)<<20&4294967295|s>>>12))+((s=e+(i^o&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(e^n))+r[2]+4243563512&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^n&(o^e))+r[7]+1735328473&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^e&(i^o))+r[12]+2368359562&4294967295)<<20&4294967295|s>>>12))+((s=e+(n^i^o)+r[5]+4294588738&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^n)+r[11]+1839030562&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^e)+r[14]+4259657740&4294967295)<<23&4294967295|s>>>9))+((s=e+(n^i^o)+r[1]+2763975236&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^n)+r[7]+4139469664&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^e)+r[10]+3200236656&4294967295)<<23&4294967295|s>>>9))+((s=e+(n^i^o)+r[13]+681279174&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^n)+r[3]+3572445317&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^e)+r[6]+76029189&4294967295)<<23&4294967295|s>>>9))+((s=e+(n^i^o)+r[9]+3654602809&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^n)+r[15]+530742520&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^e)+r[2]+3299628645&4294967295)<<23&4294967295|s>>>9))+((s=e+(i^(n|~o))+r[0]+4096336452&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|s>>>22))+((s=i+(e^(o|~n))+r[14]+2878612391&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|s>>>11))+((s=e+(i^(n|~o))+r[12]+1700485571&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|s>>>22))+((s=i+(e^(o|~n))+r[10]+4293915773&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|s>>>11))+((s=e+(i^(n|~o))+r[8]+1873313359&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|s>>>22))+((s=i+(e^(o|~n))+r[6]+2734768916&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|s>>>11))+((o=(e=n+((s=e+(i^(n|~o))+r[4]+4149444226&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|s>>>22))^((i=o+((s=i+(e^(o|~n))+r[2]+718787259&4294967295)<<15&4294967295|s>>>17))|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+o&4294967295}function Ne(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var o=0|t[i];r&&o==e||(n[i]=o,r=!1)}this.g=n}(P=st.prototype).Oa=function(t){this.M=t},P.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():A0.g(),this.C=function NU(t){return t.h||(t.h=t.i())}(this.u?this.u:A0),this.g.onreadystatechange=hn(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(o){return void ZU(this,o)}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const o of r.keys())n.set(o,r.get(o))}r=Array.from(n.keys()).find(o=>"content-type"==o.toLowerCase()),i=oe.FormData&&t instanceof oe.FormData,!(0<=aU(Ele,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,s]of n)this.g.setRequestHeader(o,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{nB(this),0<this.B&&((this.L=function Dle(t){return du&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=hn(this.ua,this)):this.A=b0(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){ZU(this,o)}},P.ua=function(){typeof t0<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Yt(this,"timeout"),this.abort(8))},P.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Yt(this,"complete"),Yt(this,"abort"),Tg(this))},P.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Tg(this,!0)),st.$.N.call(this)},P.La=function(){this.s||(this.G||this.v||this.l?tB(this):this.kb())},P.kb=function(){tB(this)},P.isActive=function(){return!!this.g},P.da=function(){try{return 2<oi(this)?this.g.status:-1}catch{return-1}},P.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},P.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),wle(e)}},P.Ia=function(){return this.m},P.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(P=oB.prototype).ra=8,P.H=1,P.Na=function(t){if(this.m)if(this.m=null,1==this.H){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new Wl(this,this.l,t);let o=this.s;if(this.U&&(o?(o=fU(o),gU(o,this.U)):o=this.U),null!==this.o||this.O||(i.I=o,o=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=uB(this,i,e),je(n=zi(this.I),"RID",t),je(n,"CVER",22),this.F&&je(n,"X-HTTP-Session-Id",this.F),rd(this,n),o&&(this.O?e="headers="+encodeURIComponent(String(iB(o)))+"&"+e:this.o&&O0(n,this.o,o)),k0(this.i,i),this.bb&&je(n,"TYPE","init"),this.P?(je(n,"$req",e),je(n,"SID","null"),i.aa=!0,M0(i,n,null)):M0(i,n,e),this.H=2}}else 3==this.H&&(t?aB(this,t):0==this.j.length||WU(this.i)||aB(this))},P.Ma=function(){if(this.u=null,lB(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=zl(hn(this.jb,this),t)}},P.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Sn(10),Sg(this),lB(this))},P.ib=function(){null!=this.v&&(this.v=null,Sg(this),L0(this),Sn(19))},P.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Sn(2)):(this.l.info("Failed to ping google.com"),Sn(1))},P.isActive=function(){return!!this.h&&this.h.isActive(this)},(P=mB.prototype).Ba=function(){},P.Aa=function(){},P.za=function(){},P.ya=function(){},P.isActive=function(){return!0},P.Va=function(){},Mg.prototype.g=function(t,e){return new ir(t,e)},Ft(ir,Lt),ir.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Sn(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=pB(t,null,t.Y),Ag(t)},ir.prototype.close=function(){F0(this.g)},ir.prototype.u=function(t){var e=this.g;if("string"==typeof t){var n={};n.__data__=t,t=n}else this.v&&((n={}).__data__=I0(t),t=n);e.j.push(new class{constructor(t,e){this.g=t,this.map=e}}(e.fb++,t)),3==e.H&&Ag(e)},ir.prototype.N=function(){this.g.h=null,delete this.j,F0(this.g),delete this.g,ir.$.N.call(this)},Ft(yB,T0),Ft(_B,S0),Ft(pu,mB),pu.prototype.Ba=function(){Yt(this.g,"a")},pu.prototype.Aa=function(t){Yt(this.g,new yB(t))},pu.prototype.za=function(t){Yt(this.g,new _B)},pu.prototype.ya=function(){Yt(this.g,"b")},Ft(Nr,function Tle(){this.blockSize=-1}),Nr.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Nr.prototype.j=function(t,e){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,o=0;o<e;){if(0==i)for(;o<=n;)U0(this,t,o),o+=this.blockSize;if("string"==typeof t){for(;o<e;)if(r[i++]=t.charCodeAt(o++),i==this.blockSize){U0(this,r),i=0;break}}else for(;o<e;)if(r[i++]=t[o++],i==this.blockSize){U0(this,r),i=0;break}}this.h=i,this.i+=e},Nr.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=255&n,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};var Sle={};function B0(t){return-128<=t&&128>t?function Oce(t,e){var n=Sle;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,function(e){return new Ne([0|e],0>e?-1:0)}):new Ne([0|t],0>t?-1:0)}function si(t){if(isNaN(t)||!isFinite(t))return gu;if(0>t)return Xt(si(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=$0;return new Ne(e,0)}var $0=4294967296,gu=B0(0),j0=B0(1),wB=B0(16777216);function qi(t){if(0!=t.h)return!1;for(var e=0;e<t.g.length;e++)if(0!=t.g[e])return!1;return!0}function mr(t){return-1==t.h}function Xt(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Ne(n,~t.h).add(j0)}function Rg(t,e){return t.add(Xt(e))}function Ng(t,e){for(;(65535&t[e])!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function id(t,e){this.g=t,this.h=e}function kg(t,e){if(qi(e))throw Error("division by zero");if(qi(t))return new id(gu,gu);if(mr(t))return e=kg(Xt(t),e),new id(Xt(e.g),Xt(e.h));if(mr(e))return e=kg(t,Xt(e)),new id(Xt(e.g),e.h);if(30<t.g.length){if(mr(t)||mr(e))throw Error("slowDivide_ only works with positive integers.");for(var n=j0,r=e;0>=r.X(t);)n=IB(n),r=IB(r);var i=mu(n,1),o=mu(r,1);for(r=mu(r,2),n=mu(n,2);!qi(r);){var s=o.add(r);0>=s.X(t)&&(i=i.add(n),o=s),r=mu(r,1),n=mu(n,1)}return e=Rg(t,i.R(e)),new id(i,e)}for(i=gu;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),s=(o=si(n)).R(e);mr(s)||0<s.X(t);)s=(o=si(n-=r)).R(e);qi(o)&&(o=j0),i=i.add(o),t=Rg(t,s)}return new id(i,t)}function IB(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Ne(n,t.h)}function mu(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],o=0;o<r;o++)i[o]=0<e?t.D(o+n)>>>e|t.D(o+n+1)<<32-e:t.D(o+n);return new Ne(i,t.h)}(P=Ne.prototype).ea=function(){if(mr(this))return-Xt(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:$0+r)*e,e*=$0}return t},P.toString=function(t){if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if(qi(this))return"0";if(mr(this))return"-"+Xt(this).toString(t);for(var e=si(Math.pow(t,6)),n=this,r="";;){var i=kg(n,e).g,o=((0<(n=Rg(n,i.R(e))).g.length?n.g[0]:n.h)>>>0).toString(t);if(qi(n=i))return o+r;for(;6>o.length;)o="0"+o;r=o+r}},P.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h},P.X=function(t){return mr(t=Rg(this,t))?-1:qi(t)?0:1},P.abs=function(){return mr(this)?Xt(this):this},P.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var o=r+(65535&this.D(i))+(65535&t.D(i)),s=(o>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=s>>>16,n[i]=(s&=65535)<<16|(o&=65535)}return new Ne(n,-2147483648&n[n.length-1]?-1:0)},P.R=function(t){if(qi(this)||qi(t))return gu;if(mr(this))return mr(t)?Xt(this).R(Xt(t)):Xt(Xt(this).R(t));if(mr(t))return Xt(this.R(Xt(t)));if(0>this.X(wB)&&0>t.X(wB))return si(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var o=this.D(r)>>>16,s=65535&this.D(r),a=t.D(i)>>>16,u=65535&t.D(i);n[2*r+2*i]+=s*u,Ng(n,2*r+2*i),n[2*r+2*i+1]+=o*u,Ng(n,2*r+2*i+1),n[2*r+2*i+1]+=s*a,Ng(n,2*r+2*i+1),n[2*r+2*i+2]+=o*a,Ng(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Ne(n,0)},P.gb=function(t){return kg(this,t).h},P.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Ne(n,this.h&t.h)},P.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Ne(n,this.h|t.h)},P.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Ne(n,this.h^t.h)},Mg.prototype.createWebChannel=Mg.prototype.g,ir.prototype.send=ir.prototype.u,ir.prototype.open=ir.prototype.m,ir.prototype.close=ir.prototype.close,yg.NO_ERROR=0,yg.TIMEOUT=8,yg.HTTP_ERROR=6,RU.COMPLETE="complete",kU.EventType=ql,ql.OPEN="a",ql.CLOSE="b",ql.ERROR="c",ql.MESSAGE="d",Lt.prototype.listen=Lt.prototype.O,st.prototype.listenOnce=st.prototype.P,st.prototype.getLastError=st.prototype.Sa,st.prototype.getLastErrorCode=st.prototype.Ia,st.prototype.getStatus=st.prototype.da,st.prototype.getResponseJson=st.prototype.Wa,st.prototype.getResponseText=st.prototype.ja,st.prototype.send=st.prototype.ha,st.prototype.setWithCredentials=st.prototype.Oa,Nr.prototype.digest=Nr.prototype.l,Nr.prototype.reset=Nr.prototype.reset,Nr.prototype.update=Nr.prototype.j,Ne.prototype.add=Ne.prototype.add,Ne.prototype.multiply=Ne.prototype.R,Ne.prototype.modulo=Ne.prototype.gb,Ne.prototype.compare=Ne.prototype.X,Ne.prototype.toNumber=Ne.prototype.ea,Ne.prototype.toString=Ne.prototype.toString,Ne.prototype.getBits=Ne.prototype.D,Ne.fromNumber=si,Ne.fromString=function vB(t,e){if(0==t.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==t.charAt(0))return Xt(vB(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=si(Math.pow(e,8)),r=gu,i=0;i<t.length;i+=8){var o=Math.min(8,t.length-i),s=parseInt(t.substring(i,i+o),e);8>o?(o=si(Math.pow(e,o)),r=r.R(o).add(si(s))):r=(r=r.R(n)).add(si(s))}return r};var Ale=Rr.createWebChannelTransport=function(){return new Mg},xle=Rr.getStatEventTarget=function(){return mg()},H0=Rr.ErrorCode=yg,Mle=Rr.EventType=RU,Rle=Rr.Event=As,EB=Rr.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Nle=Rr.FetchXmlHttpFactory=Zl,Pg=Rr.WebChannel=kU,kle=Rr.XhrIo=st,Ple=Rr.Md5=Nr,yu=Rr.Integer=Ne;const DB="@firebase/firestore";class Vt{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Vt.UNAUTHENTICATED=new Vt(null),Vt.GOOGLE_CREDENTIALS=new Vt("google-credentials-uid"),Vt.FIRST_PARTY=new Vt("first-party-uid"),Vt.MOCK_USER=new Vt("mock-user");let _u="9.22.1";const bo=new eu("@firebase/firestore");function G0(){return bo.logLevel}function S(t,...e){if(bo.logLevel<=ee.DEBUG){const n=e.map(z0);bo.debug(`Firestore (${_u}): ${t}`,...n)}}function lt(t,...e){if(bo.logLevel<=ee.ERROR){const n=e.map(z0);bo.error(`Firestore (${_u}): ${t}`,...n)}}function kr(t,...e){if(bo.logLevel<=ee.WARN){const n=e.map(z0);bo.warn(`Firestore (${_u}): ${t}`,...n)}}function z0(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch{return t}}function V(t="Unexpected state"){const e=`FIRESTORE (${_u}) INTERNAL ASSERTION FAILED: `+t;throw lt(e),new Error(e)}function $(t,e){t||V()}function k(t,e){return t}const I={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class C extends rr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class At{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class bB{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Ole{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Vt.UNAUTHENTICATED))}shutdown(){}}class Fle{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Lle{constructor(e){this.t=e,this.currentUser=Vt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let i=this.i;const o=c=>this.i!==i?(i=this.i,n(c)):Promise.resolve();let s=new At;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new At,e.enqueueRetryable(()=>o(this.currentUser))};const a=()=>{const c=s;e.enqueueRetryable(g(function*(){yield c.promise,yield o(r.currentUser)}))},u=c=>{S("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(S("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new At)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(S("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?($("string"==typeof r.accessToken),new bB(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return $(null===e||"string"==typeof e),new Vt(e)}}class Vle{constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=Vt.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class Ule{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new Vle(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(Vt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class CB{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Ble{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const r=o=>{null!=o.error&&S("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.T;return this.T=o.token,S("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{S("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.I.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.I.getImmediate({optional:!0});o?i(o):S("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?($("string"==typeof n.token),this.T=n.token,new CB(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function $le(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class TB{static A(){const n=62*Math.floor(256/62);let r="";for(;r.length<20;){const i=$le(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[o]%62))}return r}}function ne(t,e){return t<e?-1:t>e?1:0}function vu(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}class et{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new C(I.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new C(I.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new C(I.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new C(I.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return et.fromMillis(Date.now())}static fromDate(e){return et.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new et(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ne(this.nanoseconds,e.nanoseconds):ne(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class j{constructor(e){this.timestamp=e}static fromTimestamp(e){return new j(e)}static min(){return new j(new et(0,0))}static max(){return new j(new et(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class od{constructor(e,n,r){void 0===n?n=0:n>e.length&&V(),void 0===r?r=e.length-n:r>e.length-n&&V(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===od.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof od?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class we extends od{construct(e,n,r){return new we(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new C(I.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new we(n)}static emptyPath(){return new we([])}}const jle=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class dt extends od{construct(e,n,r){return new dt(e,n,r)}static isValidIdentifier(e){return jle.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),dt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new dt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(0===r.length)throw new C(I.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new C(I.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new C(I.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new C(I.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new dt(n)}static emptyPath(){return new dt([])}}class N{constructor(e){this.path=e}static fromPath(e){return new N(we.fromString(e))}static fromName(e){return new N(we.fromString(e).popFirst(5))}static empty(){return new N(we.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===we.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return we.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new N(new we(e.slice()))}}function xB(t){return new or(t.readTime,t.key,-1)}class or{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new or(j.min(),N.empty(),-1)}static max(){return new or(j.max(),N.empty(),-1)}}function W0(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=N.comparator(t.documentKey,e.documentKey),0!==n?n:ne(t.largestBatchId,e.largestBatchId))}const MB="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class zle{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Co(t){return K0.apply(this,arguments)}function K0(){return K0=g(function*(t){if(t.code!==I.FAILED_PRECONDITION||t.message!==MB)throw t;S("LocalStore","Unexpectedly lost primary lease")}),K0.apply(this,arguments)}class w{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&V(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new w((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof w?n:w.resolve(n)}catch(n){return w.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):w.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):w.reject(n)}static resolve(e){return new w((n,r)=>{n(e)})}static reject(e){return new w((n,r)=>{r(e)})}static waitFor(e){return new w((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},u=>r(u))}),s=!0,o===i&&n()})}static or(e){let n=w.resolve(!1);for(const r of e)n=n.next(i=>i?w.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new w((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let u=0;u<o;u++){const c=u;n(e[c]).next(l=>{s[c]=l,++a,a===o&&r(s)},l=>i(l))}})}static doWhile(e,n){return new w((r,i)=>{const o=()=>{!0===e()?n().next(()=>{o()},i):r()};o()})}}function To(t){return"IndexedDbTransactionError"===t.name}let sr=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ot(i),this.ut=i=>r.writeSequenceNumber(i))}ot(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.ut&&this.ut(n),n}}return t.ct=-1,t})();function ud(t){return null==t}function cd(t){return 0===t&&1/t==-1/0}function UB(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function So(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function BB(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class Ve{constructor(e,n){this.comparator=e,this.root=n||Jt.EMPTY}insert(e,n){return new Ve(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Jt.BLACK,null,null))}remove(e){return new Ve(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Jt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ug(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ug(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ug(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ug(this.root,e,this.comparator,!0)}}class Ug{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(0===o){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Jt{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??Jt.RED,this.left=i??Jt.EMPTY,this.right=o??Jt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new Jt(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===o?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Jt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return Jt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Jt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Jt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw V();const e=this.left.check();if(e!==this.right.check())throw V();return e+(this.isRed()?0:1)}}Jt.EMPTY=null,Jt.RED=!0,Jt.BLACK=!1,Jt.EMPTY=new class{constructor(){this.size=0}get key(){throw V()}get value(){throw V()}get color(){throw V()}get left(){throw V()}get right(){throw V()}copy(t,e,n,r,i){return this}insert(t,e,n){return new Jt(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class He{constructor(e){this.comparator=e,this.data=new Ve(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new $B(this.data.getIterator())}getIteratorFrom(e){return new $B(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof He)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new He(this.comparator);return n.data=e,n}}class $B{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class zn{constructor(e){this.fields=e,e.sort(dt.comparator)}static empty(){return new zn([])}unionWith(e){let n=new He(dt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new zn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return vu(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class jB extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class xt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new jB("Invalid base64 string: "+i):i}}(e);return new xt(n)}static fromUint8Array(e){const n=function(r){let i="";for(let o=0;o<r.length;++o)i+=String.fromCharCode(r[o]);return i}(e);return new xt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ne(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}xt.EMPTY_BYTE_STRING=new xt("");const pde=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ao(t){if($(!!t),"string"==typeof t){let e=0;const n=pde.exec(t);if($(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:at(t.seconds),nanos:at(t.nanos)}}function at(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Wi(t){return"string"==typeof t?xt.fromBase64String(t):xt.fromUint8Array(t)}function Bg(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=t?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function $g(t){const e=t.mapValue.fields.__previous_value__;return Bg(e)?$g(e):e}function ld(t){const e=Ao(t.mapValue.fields.__local_write_time__.timestampValue);return new et(e.seconds,e.nanos)}class gde{constructor(e,n,r,i,o,s,a,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=c}}class Ps{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Ps("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Ps&&e.projectId===this.projectId&&e.database===this.database}}const xo={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Mo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Bg(t)?4:qB(t)?9007199254740991:10:V()}function ui(t,e){if(t===e)return!0;const n=Mo(t);if(n!==Mo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ld(t).isEqual(ld(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const o=Ao(r.timestampValue),s=Ao(i.timestampValue);return o.seconds===s.seconds&&o.nanos===s.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return i=e,Wi(t.bytesValue).isEqual(Wi(i.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return at(r.geoPointValue.latitude)===at(i.geoPointValue.latitude)&&at(r.geoPointValue.longitude)===at(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return at(r.integerValue)===at(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const o=at(r.doubleValue),s=at(i.doubleValue);return o===s?cd(o)===cd(s):isNaN(o)&&isNaN(s)}return!1}(t,e);case 9:return vu(t.arrayValue.values||[],e.arrayValue.values||[],ui);case 10:return function(r,i){const o=r.mapValue.fields||{},s=i.mapValue.fields||{};if(UB(o)!==UB(s))return!1;for(const a in o)if(o.hasOwnProperty(a)&&(void 0===s[a]||!ui(o[a],s[a])))return!1;return!0}(t,e);default:return V()}var i}function dd(t,e){return void 0!==(t.values||[]).find(n=>ui(n,e))}function Ro(t,e){if(t===e)return 0;const n=Mo(t),r=Mo(e);if(n!==r)return ne(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ne(t.booleanValue,e.booleanValue);case 2:return function(i,o){const s=at(i.integerValue||i.doubleValue),a=at(o.integerValue||o.doubleValue);return s<a?-1:s>a?1:s===a?0:isNaN(s)?isNaN(a)?0:-1:1}(t,e);case 3:return HB(t.timestampValue,e.timestampValue);case 4:return HB(ld(t),ld(e));case 5:return ne(t.stringValue,e.stringValue);case 6:return function(i,o){const s=Wi(i),a=Wi(o);return s.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const s=i.split("/"),a=o.split("/");for(let u=0;u<s.length&&u<a.length;u++){const c=ne(s[u],a[u]);if(0!==c)return c}return ne(s.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const s=ne(at(i.latitude),at(o.latitude));return 0!==s?s:ne(at(i.longitude),at(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,o){const s=i.values||[],a=o.values||[];for(let u=0;u<s.length&&u<a.length;++u){const c=Ro(s[u],a[u]);if(c)return c}return ne(s.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,o){if(i===xo.mapValue&&o===xo.mapValue)return 0;if(i===xo.mapValue)return 1;if(o===xo.mapValue)return-1;const s=i.fields||{},a=Object.keys(s),u=o.fields||{},c=Object.keys(u);a.sort(),c.sort();for(let l=0;l<a.length&&l<c.length;++l){const d=ne(a[l],c[l]);if(0!==d)return d;const h=Ro(s[a[l]],u[c[l]]);if(0!==h)return h}return ne(a.length,c.length)}(t.mapValue,e.mapValue);default:throw V()}}function HB(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return ne(t,e);const n=Ao(t),r=Ao(e),i=ne(n.seconds,r.seconds);return 0!==i?i:ne(n.nanos,r.nanos)}function Iu(t){return X0(t)}function X0(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=Ao(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Wi(t.bytesValue).toBase64():"referenceValue"in t?N.fromName(t.referenceValue).toString():"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",o=!0;for(const s of r.values||[])o?o=!1:i+=",",i+=X0(s);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let o="{",s=!0;for(const a of i)s?s=!1:o+=",",o+=`${a}:${X0(r.fields[a])}`;return o+"}"}(t.mapValue):V();var e}function J0(t){return!!t&&"integerValue"in t}function hd(t){return!!t&&"arrayValue"in t}function GB(t){return!!t&&"nullValue"in t}function zB(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Gg(t){return!!t&&"mapValue"in t}function fd(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return So(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=fd(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=fd(t.arrayValue.values[n]);return e}return Object.assign({},t)}function qB(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}class Zt{constructor(e){this.value=e}static empty(){return new Zt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Gg(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=fd(n)}setAll(e){let n=dt.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=fd(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());Gg(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ui(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Gg(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){So(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new Zt(fd(this.value))}}function QB(t){const e=[];return So(t.fields,(n,r)=>{const i=new dt([n]);if(Gg(r)){const o=QB(r.mapValue).fields;if(0===o.length)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new zn(e)}class Ge{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new Ge(e,0,j.min(),j.min(),j.min(),Zt.empty(),0)}static newFoundDocument(e,n,r,i){return new Ge(e,1,n,j.min(),r,i,0)}static newNoDocument(e,n){return new Ge(e,2,n,j.min(),j.min(),Zt.empty(),0)}static newUnknownDocument(e,n){return new Ge(e,3,n,j.min(),j.min(),Zt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(j.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Zt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Zt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=j.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Ge&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ge(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class No{constructor(e,n){this.position=e,this.inclusive=n}}function YB(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(r=o.field.isKeyField()?N.comparator(N.fromName(s.referenceValue),n.key):Ro(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function XB(t,e){if(null===t)return null===e;if(null===e||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ui(t.position[n],e.position[n]))return!1;return!0}class Eu{constructor(e,n="asc"){this.field=e,this.dir=n}}function _de(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class JB{}class ge extends JB{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,r):new vde(e,n,r):"array-contains"===n?new Ede(e,r):"in"===n?new i$(e,r):"not-in"===n?new Dde(e,r):"array-contains-any"===n?new bde(e,r):new ge(e,n,r)}static createKeyFieldInFilter(e,n,r){return"in"===n?new wde(e,r):new Ide(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(Ro(n,this.value)):null!==n&&Mo(this.value)===Mo(n)&&this.matchesComparison(Ro(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return V()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class ke extends JB{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new ke(e,n)}matches(e){return Du(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return null!==e?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function Du(t){return"and"===t.op}function eT(t){return function ZB(t){for(const e of t.filters)if(e instanceof ke)return!1;return!0}(t)&&Du(t)}function tT(t){if(t instanceof ge)return t.field.canonicalString()+t.op.toString()+Iu(t.value);if(eT(t))return t.filters.map(e=>tT(e)).join(",");{const e=t.filters.map(n=>tT(n)).join(",");return`${t.op}(${e})`}}function e$(t,e){return t instanceof ge?(n=t,(r=e)instanceof ge&&n.op===r.op&&n.field.isEqual(r.field)&&ui(n.value,r.value)):t instanceof ke?function(n,r){return r instanceof ke&&n.op===r.op&&n.filters.length===r.filters.length&&n.filters.reduce((i,o,s)=>i&&e$(o,r.filters[s]),!0)}(t,e):void V();var n,r}function n$(t){return t instanceof ge?`${(e=t).field.canonicalString()} ${e.op} ${Iu(e.value)}`:t instanceof ke?function(e){return e.op.toString()+" {"+e.getFilters().map(n$).join(" ,")+"}"}(t):"Filter";var e}class vde extends ge{constructor(e,n,r){super(e,n,r),this.key=N.fromName(r.referenceValue)}matches(e){const n=N.comparator(e.key,this.key);return this.matchesComparison(n)}}class wde extends ge{constructor(e,n){super(e,"in",n),this.keys=r$(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Ide extends ge{constructor(e,n){super(e,"not-in",n),this.keys=r$(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function r$(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>N.fromName(r.referenceValue))}class Ede extends ge{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return hd(n)&&dd(n.arrayValue,this.value)}}class i$ extends ge{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&dd(this.value.arrayValue,n)}}class Dde extends ge{constructor(e,n){super(e,"not-in",n)}matches(e){if(dd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!dd(this.value.arrayValue,n)}}class bde extends ge{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!hd(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>dd(this.value.arrayValue,r))}}class Cde{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.dt=null}}function nT(t,e=null,n=[],r=[],i=null,o=null,s=null){return new Cde(t,e,n,r,i,o,s)}function Fs(t){const e=k(t);if(null===e.dt){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>tT(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),ud(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Iu(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Iu(r)).join(",")),e.dt=n}return e.dt}function pd(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!_de(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!e$(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!XB(t.startAt,e.startAt)&&XB(t.endAt,e.endAt)}function zg(t){return N.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class Ki{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.wt=null,this._t=null}}function bu(t){return new Ki(t)}function u$(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function Ls(t){const e=k(t);if(null===e.wt){e.wt=[];const n=function Wg(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(null!==n)return n}return null}(e),r=function rT(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}(e);if(null!==n&&null===r)n.isKeyField()||e.wt.push(new Eu(n)),e.wt.push(new Eu(dt.keyField(),"asc"));else{let i=!1;for(const o of e.explicitOrderBy)e.wt.push(o),o.field.isKeyField()&&(i=!0);if(!i){const o=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Eu(dt.keyField(),o))}}}return e.wt}function An(t){const e=k(t);if(!e._t)if("F"===e.limitType)e._t=nT(e.path,e.collectionGroup,Ls(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const o of Ls(e))n.push(new Eu(o.field,"desc"===o.dir?"asc":"desc"));const r=e.endAt?new No(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new No(e.startAt.position,e.startAt.inclusive):null;e._t=nT(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e._t}function Kg(t,e,n){return new Ki(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function gd(t,e){return pd(An(t),An(e))&&t.limitType===e.limitType}function c$(t){return`${Fs(An(t))}|lt:${t.limitType}`}function sT(t){return`Query(target=${function(e){let n=e.path.canonicalString();return null!==e.collectionGroup&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>n$(r)).join(", ")}]`),ud(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Iu(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Iu(r)).join(",")),`Target(${n})`}(An(t))}; limitType=${t.limitType})`}function md(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return null!==n.collectionGroup?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):N.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of Ls(n))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&(r=e,!((n=t).startAt&&!function(i,o,s){const a=YB(i,o,s);return i.inclusive?a<=0:a<0}(n.startAt,Ls(n),r)||n.endAt&&!function(i,o,s){const a=YB(i,o,s);return i.inclusive?a>=0:a>0}(n.endAt,Ls(n),r)));var n,r}function d$(t){return(e,n)=>{let r=!1;for(const i of Ls(t)){const o=Tde(i,e,n);if(0!==o)return o;r=r||i.field.isKeyField()}return 0}}function Tde(t,e,n){const r=t.field.isKeyField()?N.comparator(e.key,n.key):function(i,o,s){const a=o.data.field(i),u=s.data.field(i);return null!==a&&null!==u?Ro(a,u):V()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return V()}}class Qi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[i,o]of r)if(this.equalsFn(i,e))return o}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){So(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return BB(this.inner)}size(){return this.innerSize}}const Sde=new Ve(N.comparator);function qn(){return Sde}const h$=new Ve(N.comparator);function yd(...t){let e=h$;for(const n of t)e=e.insert(n.key,n);return e}function f$(t){let e=h$;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ci(){return _d()}function p$(){return _d()}function _d(){return new Qi(t=>t.toString(),(t,e)=>t.isEqual(e))}const Ade=new Ve(N.comparator),xde=new He(N.comparator);function le(...t){let e=xde;for(const n of t)e=e.add(n);return e}const Mde=new He(ne);function g$(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:cd(e)?"-0":e}}function m$(t){return{integerValue:""+t}}function y$(t,e){return function NB(t){return"number"==typeof t&&Number.isInteger(t)&&!cd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}(e)?m$(e):g$(t,e)}class Qg{constructor(){this._=void 0}}function Rde(t,e,n){return t instanceof Cu?function(r,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&Bg(i)&&(i=$g(i)),i&&(o.fields.__previous_value__=i),{mapValue:o}}(n,e):t instanceof Vs?v$(t,e):t instanceof Us?w$(t,e):function(r,i){const o=_$(r,i),s=I$(o)+I$(r.gt);return J0(o)&&J0(r.gt)?m$(s):g$(r.serializer,s)}(t,e)}function Nde(t,e,n){return t instanceof Vs?v$(t,e):t instanceof Us?w$(t,e):n}function _$(t,e){return t instanceof Tu?J0(n=e)||(r=n)&&"doubleValue"in r?e:{integerValue:0}:null;var r,n}class Cu extends Qg{}class Vs extends Qg{constructor(e){super(),this.elements=e}}function v$(t,e){const n=E$(e);for(const r of t.elements)n.some(i=>ui(i,r))||n.push(r);return{arrayValue:{values:n}}}class Us extends Qg{constructor(e){super(),this.elements=e}}function w$(t,e){let n=E$(e);for(const r of t.elements)n=n.filter(i=>!ui(i,r));return{arrayValue:{values:n}}}class Tu extends Qg{constructor(e,n){super(),this.serializer=e,this.gt=n}}function I$(t){return at(t.integerValue||t.doubleValue)}function E$(t){return hd(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class Pde{constructor(e,n){this.version=e,this.transformResults=n}}class We{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new We}static exists(e){return new We(void 0,e)}static updateTime(e){return new We(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Yg(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class Xg{}function D$(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new Au(t.key,We.none()):new Su(t.key,t.data,We.none());{const n=t.data,r=Zt.empty();let i=new He(dt.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);null===s&&o.length>1&&(o=o.popLast(),s=n.field(o)),null===s?r.delete(o):r.set(o,s),i=i.add(o)}return new Yi(t.key,r,new zn(i.toArray()),We.none())}}function Ode(t,e,n){t instanceof Su?function(r,i,o){const s=r.value.clone(),a=T$(r.fieldTransforms,i,o.transformResults);s.setAll(a),i.convertToFoundDocument(o.version,s).setHasCommittedMutations()}(t,e,n):t instanceof Yi?function(r,i,o){if(!Yg(r.precondition,i))return void i.convertToUnknownDocument(o.version);const s=T$(r.fieldTransforms,i,o.transformResults),a=i.data;a.setAll(C$(r)),a.setAll(s),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function wd(t,e,n,r){return t instanceof Su?function(i,o,s,a){if(!Yg(i.precondition,o))return s;const u=i.value.clone(),c=S$(i.fieldTransforms,a,o);return u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Yi?function(i,o,s,a){if(!Yg(i.precondition,o))return s;const u=S$(i.fieldTransforms,a,o),c=o.data;return c.setAll(C$(i)),c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null===s?null:s.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(l=>l.field))}(t,e,n,r):(s=n,Yg(t.precondition,o=e)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):s);var o,s}function Fde(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=_$(r.transform,i||null);null!=o&&(null===n&&(n=Zt.empty()),n.set(r.field,o))}return n||null}function b$(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(n=t.fieldTransforms)&&void 0===r||n&&r&&vu(n,r,(i,o)=>function kde(t,e){return t.field.isEqual(e.field)&&(r=e.transform,(n=t.transform)instanceof Vs&&r instanceof Vs||n instanceof Us&&r instanceof Us?vu(n.elements,r.elements,ui):n instanceof Tu&&r instanceof Tu?ui(n.gt,r.gt):n instanceof Cu&&r instanceof Cu);var n,r}(i,o))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var n,r}class Su extends Xg{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Yi extends Xg{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function C$(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function T$(t,e,n){const r=new Map;$(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,Nde(s,a,n[i]))}return r}function S$(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,Rde(o,s,e))}return r}class Au extends Xg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class uT extends Xg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class cT{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&Ode(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=wd(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=wd(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=p$();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const u=D$(s,a);null!==u&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(j.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),le())}isEqual(e){return this.batchId===e.batchId&&vu(this.mutations,e.mutations,(n,r)=>b$(n,r))&&vu(this.baseMutations,e.baseMutations,(n,r)=>b$(n,r))}}class lT{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){$(e.mutations.length===r.length);let i=Ade;const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new lT(e,n,r,i)}}class dT{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Vde{constructor(e,n){this.count=e,this.unchangedNames=n}}var wt,Ie;function x$(t){if(void 0===t)return lt("GRPC error has no .code"),I.UNKNOWN;switch(t){case wt.OK:return I.OK;case wt.CANCELLED:return I.CANCELLED;case wt.UNKNOWN:return I.UNKNOWN;case wt.DEADLINE_EXCEEDED:return I.DEADLINE_EXCEEDED;case wt.RESOURCE_EXHAUSTED:return I.RESOURCE_EXHAUSTED;case wt.INTERNAL:return I.INTERNAL;case wt.UNAVAILABLE:return I.UNAVAILABLE;case wt.UNAUTHENTICATED:return I.UNAUTHENTICATED;case wt.INVALID_ARGUMENT:return I.INVALID_ARGUMENT;case wt.NOT_FOUND:return I.NOT_FOUND;case wt.ALREADY_EXISTS:return I.ALREADY_EXISTS;case wt.PERMISSION_DENIED:return I.PERMISSION_DENIED;case wt.FAILED_PRECONDITION:return I.FAILED_PRECONDITION;case wt.ABORTED:return I.ABORTED;case wt.OUT_OF_RANGE:return I.OUT_OF_RANGE;case wt.UNIMPLEMENTED:return I.UNIMPLEMENTED;case wt.DATA_LOSS:return I.DATA_LOSS;default:return V()}}(Ie=wt||(wt={}))[Ie.OK=0]="OK",Ie[Ie.CANCELLED=1]="CANCELLED",Ie[Ie.UNKNOWN=2]="UNKNOWN",Ie[Ie.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ie[Ie.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ie[Ie.NOT_FOUND=5]="NOT_FOUND",Ie[Ie.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ie[Ie.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ie[Ie.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ie[Ie.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ie[Ie.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ie[Ie.ABORTED=10]="ABORTED",Ie[Ie.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ie[Ie.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ie[Ie.INTERNAL=13]="INTERNAL",Ie[Ie.UNAVAILABLE=14]="UNAVAILABLE",Ie[Ie.DATA_LOSS=15]="DATA_LOSS";class hT{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Jg}static getOrCreateInstance(){return null===Jg&&(Jg=new hT),Jg}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let Jg=null;const Ude=new yu([4294967295,4294967295],0);function R$(t){const e=function M$(){return new TextEncoder}().encode(t),n=new Ple;return n.update(e),new Uint8Array(n.digest())}function N$(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new yu([n,r],0),new yu([i,o],0)]}class fT{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Id(`Invalid padding: ${n}`);if(r<0)throw new Id(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new Id(`Invalid hash count: ${r}`);if(0===e.length&&0!==n)throw new Id(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=yu.fromNumber(this.It)}Et(e,n,r){let i=e.add(n.multiply(yu.fromNumber(r)));return 1===i.compare(Ude)&&(i=new yu([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const n=R$(e),[r,i]=N$(n);for(let o=0;o<this.hashCount;o++){const s=this.Et(r,i,o);if(!this.At(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new fT(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(0===this.It)return;const n=R$(e),[r,i]=N$(n);for(let o=0;o<this.hashCount;o++){const s=this.Et(r,i,o);this.Rt(s)}}Rt(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class Id extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ed{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Dd.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Ed(j.min(),i,new Ve(ne),qn(),le())}}class Dd{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Dd(r,n,le(),le(),le())}}class Zg{constructor(e,n,r,i){this.Pt=e,this.removedTargetIds=n,this.key=r,this.bt=i}}class k${constructor(e,n){this.targetId=e,this.Vt=n}}class P${constructor(e,n,r=xt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class O${constructor(){this.St=0,this.Dt=L$(),this.Ct=xt.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=le(),n=le(),r=le();return this.Dt.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:V()}}),new Dd(this.Ct,this.xt,e,n,r)}Ft(){this.Nt=!1,this.Dt=L$()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class Bde{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=qn(),this.zt=F$(),this.Wt=new Ve(ne)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const r=this.Zt(n);switch(e.state){case 0:this.te(n)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(n);break;case 3:this.te(n)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),r.$t(e.resumeToken));break;default:V()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((r,i)=>{this.te(i)&&n(i)})}ne(e){var n;const r=e.targetId,i=e.Vt.count,o=this.se(r);if(o){const s=o.target;if(zg(s))if(0===i){const a=new N(s.path);this.Yt(r,a,Ge.newNoDocument(a,j.min()))}else $(1===i);else{const a=this.ie(r);if(a!==i){const u=this.re(e,a);0!==u&&(this.ee(r),this.Wt=this.Wt.insert(r,2===u?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(n=hT.instance)||void 0===n||n.notifyOnExistenceFilterMismatch(function(c,l,d){var h,f,p,m,y,v;const _={localCacheCount:l,existenceFilterCount:d.count},E=d.unchangedNames;return E&&(_.bloomFilter={applied:0===c,hashCount:null!==(h=E?.hashCount)&&void 0!==h?h:0,bitmapLength:null!==(m=null===(p=null===(f=E?.bits)||void 0===f?void 0:f.bitmap)||void 0===p?void 0:p.length)&&void 0!==m?m:0,padding:null!==(v=null===(y=E?.bits)||void 0===y?void 0:y.padding)&&void 0!==v?v:0}),_}(u,a,e.Vt))}}}}re(e,n){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:o="",padding:s=0},hashCount:a=0}=r;let u,c;try{u=Wi(o).toUint8Array()}catch(l){if(l instanceof jB)return kr("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw l}try{c=new fT(u,s,a)}catch(l){return kr(l instanceof Id?"BloomFilter error: ":"Applying bloom filter failed: ",l),1}return 0===c.It?1:i!==n-this.oe(e.targetId,c)?2:0}oe(e,n){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(o=>{const s=this.Gt.ue(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;n.vt(a)||(this.Yt(e,o,null),i++)}),i}ce(e){const n=new Map;this.Qt.forEach((o,s)=>{const a=this.se(s);if(a){if(o.current&&zg(a.target)){const u=new N(a.target.path);null!==this.jt.get(u)||this.ae(s,u)||this.Yt(s,u,Ge.newNoDocument(u,e))}o.Mt&&(n.set(s,o.Ot()),o.Ft())}});let r=le();this.zt.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{const c=this.se(u);return!c||"TargetPurposeLimboResolution"===c.purpose||(a=!1,!1)}),a&&(r=r.add(o))}),this.jt.forEach((o,s)=>s.setReadTime(e));const i=new Ed(e,n,this.Wt,this.jt,r);return this.jt=qn(),this.zt=F$(),this.Wt=new Ve(ne),i}Jt(e,n){if(!this.te(e))return;const r=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,r),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,n)?i.Bt(n,1):i.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),r&&(this.jt=this.jt.insert(n,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new O$,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new He(ne),this.zt=this.zt.insert(e,n)),n}te(e){const n=null!==this.se(e);return n||S("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new O$),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function F$(){return new Ve(N.comparator)}function L$(){return new Ve(N.comparator)}const $de={asc:"ASCENDING",desc:"DESCENDING"},jde={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Hde={and:"AND",or:"OR"};class Gde{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function pT(t,e){return t.useProto3Json||ud(e)?e:{value:e}}function xu(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function V$(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function zde(t,e){return xu(t,e.toTimestamp())}function ht(t){return $(!!t),j.fromTimestamp(function(e){const n=Ao(e);return new et(n.seconds,n.nanos)}(t))}function gT(t,e){return(n=t,new we(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}function U$(t){const e=we.fromString(t);return $(K$(e)),e}function bd(t,e){return gT(t.databaseId,e.path)}function li(t,e){const n=U$(e);if(n.get(1)!==t.databaseId.projectId)throw new C(I.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new C(I.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new N($$(n))}function mT(t,e){return gT(t.databaseId,e)}function Cd(t){return new we(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function $$(t){return $(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function j$(t,e,n){return{name:bd(t,e),fields:n.value.mapValue.fields}}function G$(t,e){return{documents:[mT(t,e.path)]}}function _T(t,e){const n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=mT(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=mT(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(u){if(0!==u.length)return W$(ke.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(u){if(0!==u.length)return u.map(c=>{return{field:ko((l=c).field),direction:Yde(l.dir)};var l})}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const s=pT(t,e.limit);var a,u;return null!==s&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt={before:!(u=e.endAt).inclusive,values:u.position}),n}function z$(t){let e=function B$(t){const e=U$(t);return 4===e.length?we.emptyPath():$$(e)}(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){$(1===r);const l=n.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let o=[];n.where&&(o=function(l){const d=q$(l);return d instanceof ke&&eT(d)?d.getFilters():[d]}(n.where));let s=[];n.orderBy&&(s=n.orderBy.map(l=>{return new Eu(Mu((d=l).field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction));var d}));let a=null;n.limit&&(a=function(l){let d;return d="object"==typeof l?l.value:l,ud(d)?null:d}(n.limit));let u=null;var l;n.startAt&&(u=new No((l=n.startAt).values||[],!!l.before));let c=null;return n.endAt&&(c=function(l){return new No(l.values||[],!l.before)}(n.endAt)),function a$(t,e,n,r,i,o,s,a){return new Ki(t,e,n,r,i,o,s,a)}(e,i,s,o,a,"F",u,c)}function q$(t){return void 0!==t.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=Mu(e.unaryFilter.field);return ge.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=Mu(e.unaryFilter.field);return ge.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Mu(e.unaryFilter.field);return ge.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Mu(e.unaryFilter.field);return ge.create(o,"!=",{nullValue:"NULL_VALUE"});default:return V()}}(t):void 0!==t.fieldFilter?ge.create(Mu((e=t).fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return V()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==t.compositeFilter?function(e){return ke.create(e.compositeFilter.filters.map(n=>q$(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return V()}}(e.compositeFilter.op))}(t):V();var e}function Yde(t){return $de[t]}function Xde(t){return jde[t]}function Jde(t){return Hde[t]}function ko(t){return{fieldPath:t.canonicalString()}}function Mu(t){return dt.fromServerFormat(t.fieldPath)}function W$(t){return t instanceof ge?function(e){if("=="===e.op){if(zB(e.value))return{unaryFilter:{field:ko(e.field),op:"IS_NAN"}};if(GB(e.value))return{unaryFilter:{field:ko(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(zB(e.value))return{unaryFilter:{field:ko(e.field),op:"IS_NOT_NAN"}};if(GB(e.value))return{unaryFilter:{field:ko(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ko(e.field),op:Xde(e.op),value:e.value}}}(t):t instanceof ke?function(e){const n=e.getFilters().map(r=>W$(r));return 1===n.length?n[0]:{compositeFilter:{op:Jde(e.op),filters:n}}}(t):V()}function Zde(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function K$(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class Xi{constructor(e,n,r,i,o=j.min(),s=j.min(),a=xt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new Xi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Xi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Xi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Xi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Q${constructor(e){this.fe=e}}function vT(t){const e=z$({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Kg(e,e.limit,"L"):e}class Hs{constructor(){}_e(e,n){this.me(e,n),n.ge()}me(e,n){if("nullValue"in e)this.ye(n,5);else if("booleanValue"in e)this.ye(n,10),n.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(n,15),n.pe(at(e.integerValue));else if("doubleValue"in e){const r=at(e.doubleValue);isNaN(r)?this.ye(n,13):(this.ye(n,15),cd(r)?n.pe(0):n.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(n,20),"string"==typeof r?n.Ie(r):(n.Ie(`${r.seconds||""}`),n.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,n),this.Ee(n);else if("bytesValue"in e)this.ye(n,30),n.Ae(Wi(e.bytesValue)),this.Ee(n);else if("referenceValue"in e)this.ve(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(n,45),n.pe(r.latitude||0),n.pe(r.longitude||0)}else"mapValue"in e?qB(e)?this.ye(n,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,n),this.Ee(n)):"arrayValue"in e?(this.Pe(e.arrayValue,n),this.Ee(n)):V()}Te(e,n){this.ye(n,25),this.be(e,n)}be(e,n){n.Ie(e)}Re(e,n){const r=e.fields||{};this.ye(n,55);for(const i of Object.keys(r))this.Te(i,n),this.me(r[i],n)}Pe(e,n){const r=e.values||[];this.ye(n,50);for(const i of r)this.me(i,n)}ve(e,n){this.ye(n,37),N.fromName(e).path.forEach(r=>{this.ye(n,60),this.be(r,n)})}ye(e,n){e.pe(n)}Ee(e){e.pe(2)}}Hs.Ve=new Hs;class uhe{constructor(){this.rn=new CT}addToCollectionParentIndex(e,n){return this.rn.add(n),w.resolve()}getCollectionParents(e,n){return w.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return w.resolve()}deleteFieldIndex(e,n){return w.resolve()}getDocumentsMatchingTarget(e,n){return w.resolve(null)}getIndexType(e,n){return w.resolve(0)}getFieldIndexes(e,n){return w.resolve([])}getNextCollectionGroupToUpdate(e){return w.resolve(null)}getMinOffset(e,n){return w.resolve(or.min())}getMinOffsetFromCollectionGroup(e,n){return w.resolve(or.min())}updateCollectionGroup(e,n,r){return w.resolve()}updateIndexEntries(e,n){return w.resolve()}}class CT{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new He(we.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new He(we.comparator)).toArray()}}new Uint8Array(0);class gn{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new gn(e,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}gn.DEFAULT_COLLECTION_PERCENTILE=10,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,gn.DEFAULT=new gn(41943040,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),gn.DISABLED=new gn(-1,0,0);class zs{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new zs(0)}static Mn(){return new zs(-1)}}class phe{constructor(){this.changes=new Qi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ge.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?w.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class yhe{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class Ij{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(null!==r&&wd(r.mutation,i,zn.empty(),et.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,le()).next(()=>r))}getLocalViewOfDocuments(e,n,r=le()){const i=ci();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=yd();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=ci();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,le()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=qn();const s=_d(),a=_d();return n.forEach((u,c)=>{const l=r.get(c.key);i.has(c.key)&&(void 0===l||l.mutation instanceof Yi)?o=o.insert(c.key,c):void 0!==l?(s.set(c.key,l.mutation.getFieldMask()),wd(l.mutation,c,l.mutation.getFieldMask(),et.now())):s.set(c.key,zn.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((c,l)=>s.set(c,l)),n.forEach((c,l)=>{var d;return a.set(c,new yhe(l,null!==(d=s.get(c))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=_d();let i=new Ve((s,a)=>s-a),o=le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(u=>{const c=n.get(u);if(null===c)return;let l=r.get(u)||zn.empty();l=a.applyToLocalView(c,l),r.set(u,l);const d=(i.get(a.batchId)||le()).add(u);i=i.insert(a.batchId,d)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,l=u.value,d=p$();l.forEach(h=>{if(!o.has(h)){const f=D$(n.get(h),r.get(h));null!==f&&d.set(h,f),o=o.add(h)}}),s.push(this.documentOverlayCache.saveOverlays(e,c,d))}return w.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return N.isDocumentKey((i=n).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):function iT(t){return null!==t.collectionGroup}(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r);var i}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):w.resolve(ci());let a=-1,u=o;return s.next(c=>w.forEach(c,(l,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),o.get(l)?w.resolve():this.remoteDocumentCache.getEntry(e,l).next(h=>{u=u.insert(l,h)}))).next(()=>this.populateOverlays(e,c,o)).next(()=>this.computeViews(e,u,c,le())).next(l=>({batchId:a,changes:f$(l)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new N(n)).next(r=>{let i=yd();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let o=yd();return this.indexManager.getCollectionParents(e,i).next(s=>w.forEach(s,a=>{const u=(c=n,l=a.child(i),new Ki(l,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt));var c,l;return this.getDocumentsMatchingCollectionQuery(e,u,r).next(c=>{c.forEach((l,d)=>{o=o.insert(l,d)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i))).next(o=>{i.forEach((a,u)=>{const c=u.getKey();null===o.get(c)&&(o=o.insert(c,Ge.newInvalidDocument(c)))});let s=yd();return o.forEach((a,u)=>{const c=i.get(a);void 0!==c&&wd(c.mutation,u,zn.empty(),et.now()),md(n,u)&&(s=s.insert(a,u))}),s})}}class _he{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return w.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var r;return this.cs.set(n.id,{id:(r=n).id,version:r.version,createTime:ht(r.createTime)}),w.resolve()}getNamedQuery(e,n){return w.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,{name:(r=n).name,query:vT(r.bundledQuery),readTime:ht(r.readTime)}),w.resolve();var r}}class vhe{constructor(){this.overlays=new Ve(N.comparator),this.ls=new Map}getOverlay(e,n){return w.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ci();return w.forEach(n,i=>this.getOverlay(e,i).next(o=>{null!==o&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.we(e,n,o)}),w.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.ls.get(r);return void 0!==i&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.ls.delete(r)),w.resolve()}getOverlaysForCollection(e,n,r){const i=ci(),o=n.length+1,s=new N(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return w.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Ve((c,l)=>c-l);const s=this.overlays.getIterator();for(;s.hasNext();){const c=s.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let l=o.get(c.largestBatchId);null===l&&(l=ci(),o=o.insert(c.largestBatchId,l)),l.set(c.getKey(),c)}}const a=ci(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,l)=>a.set(c,l)),!(a.size()>=i)););return w.resolve(a)}we(e,n,r){const i=this.overlays.get(r.key);if(null!==i){const s=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new dT(n,r));let o=this.ls.get(n);void 0===o&&(o=le(),this.ls.set(n,o)),this.ls.set(n,o.add(r.key))}}class TT{constructor(){this.fs=new He(Bt.ds),this.ws=new He(Bt._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const r=new Bt(e,n);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.ys(new Bt(e,n))}ps(e,n){e.forEach(r=>this.removeReference(r,n))}Is(e){const n=new N(new we([])),r=new Bt(n,e),i=new Bt(n,e+1),o=[];return this.ws.forEachInRange([r,i],s=>{this.ys(s),o.push(s.key)}),o}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new N(new we([])),r=new Bt(n,e),i=new Bt(n,e+1);let o=le();return this.ws.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new Bt(e,0),r=this.fs.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class Bt{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return N.comparator(e.key,n.key)||ne(e.As,n.As)}static _s(e,n){return ne(e.As,n.As)||N.comparator(e.key,n.key)}}class whe{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new He(Bt.ds)}checkEmpty(e){return w.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,r,i){const o=this.vs;this.vs++;const s=new cT(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.Rs=this.Rs.add(new Bt(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return w.resolve(s)}lookupMutationBatch(e,n){return w.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const i=this.bs(n+1),o=i<0?0:i;return w.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return w.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return w.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Bt(n,0),i=new Bt(n,Number.POSITIVE_INFINITY),o=[];return this.Rs.forEachInRange([r,i],s=>{const a=this.Ps(s.As);o.push(a)}),w.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new He(ne);return n.forEach(i=>{const o=new Bt(i,0),s=new Bt(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([o,s],a=>{r=r.add(a.As)})}),w.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;N.isDocumentKey(o)||(o=o.child(""));const s=new Bt(new N(o),0);let a=new He(ne);return this.Rs.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(u.As)),!0)},s),w.resolve(this.Vs(a))}Vs(e){const n=[];return e.forEach(r=>{const i=this.Ps(r);null!==i&&n.push(i)}),n}removeMutationBatch(e,n){$(0===this.Ss(n.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return w.forEach(n.mutations,i=>{const o=new Bt(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,n){const r=new Bt(n,0),i=this.Rs.firstAfterOrEqual(r);return w.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return w.resolve()}Ss(e,n){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class Ihe{constructor(e){this.Ds=e,this.docs=new Ve(N.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Ds(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return w.resolve(r?r.document.mutableCopy():Ge.newInvalidDocument(n))}getEntries(e,n){let r=qn();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Ge.newInvalidDocument(i))}),w.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=qn();const s=n.path,a=new N(s.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:c,value:{document:l}}=u.getNext();if(!s.isPrefixOf(c.path))break;c.path.length>s.length+1||W0(xB(l),r)<=0||(i.has(l.key)||md(n,l))&&(o=o.insert(l.key,l.mutableCopy()))}return w.resolve(o)}getAllFromCollectionGroup(e,n,r,i){V()}Cs(e,n){return w.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Ehe(this)}getSize(e){return w.resolve(this.size)}}class Ehe extends phe{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),w.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}class Dhe{constructor(e){this.persistence=e,this.xs=new Qi(n=>Fs(n),pd),this.lastRemoteSnapshotVersion=j.min(),this.highestTargetId=0,this.Ns=0,this.ks=new TT,this.targetCount=0,this.Ms=zs.kn()}forEachTarget(e,n){return this.xs.forEach((r,i)=>n(i)),w.resolve()}getLastRemoteSnapshotVersion(e){return w.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return w.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),w.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Ns&&(this.Ns=n),w.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new zs(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,w.resolve()}updateTargetData(e,n){return this.Fn(n),w.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,w.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.xs.forEach((s,a)=>{a.sequenceNumber<=n&&null===r.get(a.targetId)&&(this.xs.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),w.waitFor(o).next(()=>i)}getTargetCount(e){return w.resolve(this.targetCount)}getTargetData(e,n){const r=this.xs.get(n)||null;return w.resolve(r)}addMatchingKeys(e,n,r){return this.ks.gs(n,r),w.resolve()}removeMatchingKeys(e,n,r){this.ks.ps(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),w.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),w.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ks.Es(n);return w.resolve(r)}containsKey(e,n){return w.resolve(this.ks.containsKey(n))}}class ST{constructor(e,n){this.$s={},this.overlays={},this.Os=new sr(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new Dhe(this),this.indexManager=new uhe,this.remoteDocumentCache=new Ihe(r=>this.referenceDelegate.Ls(r)),this.serializer=new Q$(n),this.qs=new _he(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new vhe,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.$s[e.toKey()];return r||(r=new whe(n,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,r){S("MemoryPersistence","Starting transaction:",e);const i=new bhe(this.Os.next());return this.referenceDelegate.Us(),r(i).next(o=>this.referenceDelegate.Ks(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Gs(e,n){return w.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,n)))}}class bhe extends zle{constructor(e){super(),this.currentSequenceNumber=e}}class um{constructor(e){this.persistence=e,this.Qs=new TT,this.js=null}static zs(e){return new um(e)}get Ws(){if(this.js)return this.js;throw V()}addReference(e,n,r){return this.Qs.addReference(r,n),this.Ws.delete(r.toString()),w.resolve()}removeReference(e,n,r){return this.Qs.removeReference(r,n),this.Ws.add(r.toString()),w.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),w.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Ws.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return w.forEach(this.Ws,r=>{const i=N.fromPath(r);return this.Hs(e,i).next(o=>{o||n.removeEntry(i,j.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(r=>{r?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return w.or([()=>w.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}class RT{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Fi=r,this.Bi=i}static Li(e,n){let r=le(),i=le();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new RT(e,n.fromCache,r,i)}}class Dj{constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,r,i){return this.Ki(e,n).next(o=>o||this.Gi(e,n,i,r)).next(o=>o||this.Qi(e,n))}Ki(e,n){if(u$(n))return w.resolve(null);let r=An(n);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==n.limit&&1===i&&(n=Kg(n,null,"F"),r=An(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=le(...o);return this.Ui.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.ji(n,a);return this.zi(n,c,s,u.readTime)?this.Ki(e,Kg(n,null,"F")):this.Wi(e,c,n,u)}))})))}Gi(e,n,r,i){return u$(n)||i.isEqual(j.min())?this.Qi(e,n):this.Ui.getDocuments(e,r).next(o=>{const s=this.ji(n,o);return this.zi(n,s,r,i)?this.Qi(e,n):(G0()<=ee.DEBUG&&S("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),sT(n)),this.Wi(e,s,n,function AB(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=j.fromTimestamp(1e9===r?new et(n+1,0):new et(n,r));return new or(i,N.empty(),e)}(i,-1)))})}ji(e,n){let r=new He(d$(e));return n.forEach((i,o)=>{md(e,o)&&(r=r.add(o))}),r}zi(e,n,r,i){if(null===e.limit)return!1;if(r.size!==n.size)return!0;const o="F"===e.limitType?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Qi(e,n){return G0()<=ee.DEBUG&&S("QueryEngine","Using full collection scan to execute query:",sT(n)),this.Ui.getDocumentsMatchingQuery(e,n,or.min())}Wi(e,n,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}class The{constructor(e,n,r,i){this.persistence=e,this.Hi=n,this.serializer=i,this.Ji=new Ve(ne),this.Yi=new Qi(o=>Fs(o),pd),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Ij(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function Cj(t,e){return NT.apply(this,arguments)}function NT(){return NT=g(function*(t,e){const n=k(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.tr(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let u=le();for(const c of i){s.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}for(const c of o){a.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}return n.localDocuments.getDocuments(r,u).next(c=>({er:c,removedBatchIds:s,addedBatchIds:a}))})})}),NT.apply(this,arguments)}function Tj(t){const e=k(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function xhe(t,e){const n=k(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Pu(t,e,n){return kT.apply(this,arguments)}function kT(){return kT=g(function*(t,e,n){const r=k(t),i=r.Ji.get(e),o=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!To(s))throw s;S("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}),kT.apply(this,arguments)}function dm(t,e,n){const r=k(t);let i=j.min(),o=le();return r.persistence.runTransaction("Execute query","readonly",s=>function(a,u,c){const l=k(a),d=l.Yi.get(c);return void 0!==d?w.resolve(l.Ji.get(d)):l.Bs.getTargetData(u,c)}(r,s,An(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.Hi.getDocumentsMatchingQuery(s,e,n?i:j.min(),n?o:le())).next(a=>(function Mj(t,e,n){let r=t.Xi.get(e)||j.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.Xi.set(e,r)}(r,function l$(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}(e),a),{documents:a,ir:o})))}class VT{constructor(){this.activeTargetIds=function aT(){return Mde}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class kj{constructor(){this.Hr=new VT,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,r){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new VT,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Nhe{Yr(e){}shutdown(){}}class Pj{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){S("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){S("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let pm=null;function BT(){return null===pm?pm=268435456+Math.round(2147483648*Math.random()):pm++,"0x"+pm.toString(16)}const khe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Phe{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const mn="WebChannelConnection";class Ohe extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,r,i,o){const s=BT(),a=this.To(e,n);S("RestConnection",`Sending RPC '${e}' ${s}:`,a,r);const u={};return this.Eo(u,i,o),this.Ao(e,a,u,r).then(c=>(S("RestConnection",`Received RPC '${e}' ${s}: `,c),c),c=>{throw kr("RestConnection",`RPC '${e}' ${s} failed with error: `,c,"url: ",a,"request:",r),c})}vo(e,n,r,i,o,s){return this.Io(e,n,r,i,o)}Eo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+_u,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}To(e,n){return`${this.mo}/v1/${n}:${khe[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,r,i){const o=BT();return new Promise((s,a)=>{const u=new kle;u.setWithCredentials(!0),u.listenOnce(Mle.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case H0.NO_ERROR:const l=u.getResponseJson();S(mn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(l)),s(l);break;case H0.TIMEOUT:S(mn,`RPC '${e}' ${o} timed out`),a(new C(I.DEADLINE_EXCEEDED,"Request time out"));break;case H0.HTTP_ERROR:const d=u.getStatus();if(S(mn,`RPC '${e}' ${o} failed with status:`,d,"response text:",u.getResponseText()),d>0){let h=u.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=h?.error;if(f&&f.status&&f.message){const p=function(m){const y=m.toLowerCase().replace(/_/g,"-");return Object.values(I).indexOf(y)>=0?y:I.UNKNOWN}(f.status);a(new C(p,f.message))}else a(new C(I.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new C(I.UNAVAILABLE,"Connection failed."));break;default:V()}}finally{S(mn,`RPC '${e}' ${o} completed.`)}});const c=JSON.stringify(i);S(mn,`RPC '${e}' ${o} sending request:`,i),u.send(n,"POST",c,r,15)})}Ro(e,n,r){const i=BT(),o=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Ale(),a=xle(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;void 0!==c&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.xmlHttpFactory=new Nle({})),this.Eo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const l=o.join("");S(mn,`Creating RPC '${e}' stream ${i}: ${l}`,u);const d=s.createWebChannel(l,u);let h=!1,f=!1;const p=new Phe({ro:y=>{f?S(mn,`Not sending because RPC '${e}' stream ${i} is closed:`,y):(h||(S(mn,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),S(mn,`RPC '${e}' stream ${i} sending:`,y),d.send(y))},oo:()=>d.close()}),m=(y,v,_)=>{y.listen(v,E=>{try{_(E)}catch(x){setTimeout(()=>{throw x},0)}})};return m(d,Pg.EventType.OPEN,()=>{f||S(mn,`RPC '${e}' stream ${i} transport opened.`)}),m(d,Pg.EventType.CLOSE,()=>{f||(f=!0,S(mn,`RPC '${e}' stream ${i} transport closed`),p.wo())}),m(d,Pg.EventType.ERROR,y=>{f||(f=!0,kr(mn,`RPC '${e}' stream ${i} transport errored:`,y),p.wo(new C(I.UNAVAILABLE,"The operation could not be completed")))}),m(d,Pg.EventType.MESSAGE,y=>{var v;if(!f){const _=y.data[0];$(!!_);const x=_.error||(null===(v=_[0])||void 0===v?void 0:v.error);if(x){S(mn,`RPC '${e}' stream ${i} received error:`,x);const L=x.status;let J=function(Mn){const fi=wt[Mn];if(void 0!==fi)return x$(fi)}(L),Ke=x.message;void 0===J&&(J=I.INTERNAL,Ke="Unknown error status: "+L+" with message "+x.message),f=!0,p.wo(new C(J,Ke)),d.close()}else S(mn,`RPC '${e}' stream ${i} received:`,_),p._o(_)}}),m(a,Rle.STAT_EVENT,y=>{y.stat===EB.PROXY?S(mn,`RPC '${e}' stream ${i} detected buffering proxy`):y.stat===EB.NOPROXY&&S(mn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.fo()},0),p}}function gm(){return typeof document<"u"?document:null}function Od(t){return new Gde(t,!0)}class $T{constructor(e,n,r=1e3,i=1.5,o=6e4){this.ii=e,this.timerId=n,this.Po=r,this.bo=i,this.Vo=o,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,n-r);i>0&&S("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class Fj{constructor(e,n,r,i,o,s,a,u){this.ii=e,this.$o=r,this.Oo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new $T(e,n)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return g(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return g(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,n){var r=this;return g(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():n&&n.code===I.RESOURCE_EXHAUSTED?(lt(n.toString()),lt("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):n&&n.code===I.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(n)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===n&&this.Zo(r,i)},r=>{e(()=>{const i=new C(I.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,n){const r=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){var e=this;this.state=5,this.qo.No(g(function*(){e.state=0,e.start()}))}tu(e){return S("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(S("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Fhe extends Fj{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=function Wde(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(u=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===u?1:"REMOVE"===u?2:"CURRENT"===u?3:"RESET"===u?4:V(),i=e.targetChange.targetIds||[],o=function(u,c){return u.useProto3Json?($(void 0===c||"string"==typeof c),xt.fromBase64String(c||"")):($(void 0===c||c instanceof Uint8Array),xt.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(u){const c=void 0===u.code?I.UNKNOWN:x$(u.code);return new C(c,u.message||"")}(s);n=new P$(r,i,o,a||null)}else if("documentChange"in e){const r=e.documentChange,i=li(t,r.document.name),o=ht(r.document.updateTime),s=r.document.createTime?ht(r.document.createTime):j.min(),a=new Zt({mapValue:{fields:r.document.fields}}),u=Ge.newFoundDocument(i,o,s,a);n=new Zg(r.targetIds||[],r.removedTargetIds||[],u.key,u)}else if("documentDelete"in e){const r=e.documentDelete,i=li(t,r.document),o=r.readTime?ht(r.readTime):j.min(),s=Ge.newNoDocument(i,o);n=new Zg([],r.removedTargetIds||[],s.key,s)}else if("documentRemove"in e){const r=e.documentRemove,i=li(t,r.document);n=new Zg([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return V();{const r=e.filter,{count:i=0,unchangedNames:o}=r,s=new Vde(i,o);n=new k$(r.targetId,s)}}var u;return n}(this.serializer,e),r=function(i){if(!("targetChange"in i))return j.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?j.min():o.readTime?ht(o.readTime):j.min()}(e);return this.listener.nu(n,r)}su(e){const n={};n.database=Cd(this.serializer),n.addTarget=function(i,o){let s;const a=o.target;if(s=zg(a)?{documents:G$(i,a)}:{query:_T(i,a)},s.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){s.resumeToken=V$(i,o.resumeToken);const u=pT(i,o.expectedCount);null!==u&&(s.expectedCount=u)}else if(o.snapshotVersion.compareTo(j.min())>0){s.readTime=xu(i,o.snapshotVersion.toTimestamp());const u=pT(i,o.expectedCount);null!==u&&(s.expectedCount=u)}return s}(this.serializer,e);const r=function Qde(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return V()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.Wo(n)}iu(e){const n={};n.database=Cd(this.serializer),n.removeTarget=e,this.Wo(n)}}class Lhe extends Fj{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if($(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const n=function Kde(t,e){return t&&t.length>0?($(void 0!==e),t.map(n=>function(r,i){let o=ht(r.updateTime?r.updateTime:i);return o.isEqual(j.min())&&(o=ht(i)),new Pde(o,r.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),r=ht(e.commitTime);return this.listener.cu(r,n)}return $(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Cd(this.serializer),this.Wo(e)}uu(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>function Td(t,e){let n;if(e instanceof Su)n={update:j$(t,e.key,e.value)};else if(e instanceof Au)n={delete:bd(t,e.key)};else if(e instanceof Yi)n={update:j$(t,e.key,e.data),updateMask:Zde(e.fieldMask)};else{if(!(e instanceof uT))return V();n={verify:bd(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const s=o.transform;if(s instanceof Cu)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(s instanceof Vs)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:s.elements}};if(s instanceof Us)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:s.elements}};if(s instanceof Tu)return{fieldPath:o.field.canonicalString(),increment:s.gt};throw V()}(0,r))),e.precondition.isNone||(n.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:zde(t,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:V()),n;var i}(this.serializer,r))};this.Wo(n)}}class Vhe extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new C(I.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Io(e,n,r,i,o)).catch(i=>{throw"FirebaseError"===i.name?(i.code===I.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new C(I.UNKNOWN,i.toString())})}vo(e,n,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.vo(e,n,r,o,s,i)).catch(o=>{throw"FirebaseError"===o.name?(o.code===I.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new C(I.UNKNOWN,o.toString())})}terminate(){this.lu=!0}}class Bhe{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(lt(n),this.mu=!1):S("OnlineStateTracker",n)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class $he{constructor(e,n,r,i,o){var s=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=o,this.Pu.Yr(a=>{r.enqueueAndForget(g(function*(){var u;Lo(s)&&(S("RemoteStore","Restarting streams for network reachability change."),yield(u=g(function*(c){const l=k(c);l.vu.add(4),yield Ou(l),l.bu.set("Unknown"),l.vu.delete(4),yield Fd(l)}),function(c){return u.apply(this,arguments)})(s))}))}),this.bu=new Bhe(r,i)}}function Fd(t){return HT.apply(this,arguments)}function HT(){return HT=g(function*(t){if(Lo(t))for(const e of t.Ru)yield e(!0)}),HT.apply(this,arguments)}function Ou(t){return GT.apply(this,arguments)}function GT(){return GT=g(function*(t){for(const e of t.Ru)yield e(!1)}),GT.apply(this,arguments)}function mm(t,e){const n=k(t);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),WT(n)?qT(n):Lu(n).Ko()&&zT(n,e))}function Ld(t,e){const n=k(t),r=Lu(n);n.Au.delete(e),r.Ko()&&Lj(n,e),0===n.Au.size&&(r.Ko()?r.jo():Lo(n)&&n.bu.set("Unknown"))}function zT(t,e){if(t.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(j.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Lu(t).su(e)}function Lj(t,e){t.Vu.qt(e),Lu(t).iu(e)}function qT(t){t.Vu=new Bde({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),le:e=>t.Au.get(e)||null,ue:()=>t.datastore.serializer.databaseId}),Lu(t).start(),t.bu.gu()}function WT(t){return Lo(t)&&!Lu(t).Uo()&&t.Au.size>0}function Lo(t){return 0===k(t).vu.size}function Vj(t){t.Vu=void 0}function jhe(t){return KT.apply(this,arguments)}function KT(){return KT=g(function*(t){t.Au.forEach((e,n)=>{zT(t,e)})}),KT.apply(this,arguments)}function Hhe(t,e){return QT.apply(this,arguments)}function QT(){return QT=g(function*(t,e){Vj(t),WT(t)?(t.bu.Iu(e),qT(t)):t.bu.set("Unknown")}),QT.apply(this,arguments)}function Ghe(t,e,n){return YT.apply(this,arguments)}function YT(){return YT=g(function*(t,e,n){if(t.bu.set("Online"),e instanceof P$&&2===e.state&&e.cause)try{yield(r=g(function*(i,o){const s=o.cause;for(const a of o.targetIds)i.Au.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.Au.delete(a),i.Vu.removeTarget(a))}),function(i,o){return r.apply(this,arguments)})(t,e)}catch(r){S("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield ym(t,r)}else if(e instanceof Zg?t.Vu.Ht(e):e instanceof k$?t.Vu.ne(e):t.Vu.Xt(e),!n.isEqual(j.min()))try{const r=yield Tj(t.localStore);n.compareTo(r)>=0&&(yield function(i,o){const s=i.Vu.ce(o);return s.targetChanges.forEach((a,u)=>{if(a.resumeToken.approximateByteSize()>0){const c=i.Au.get(u);c&&i.Au.set(u,c.withResumeToken(a.resumeToken,o))}}),s.targetMismatches.forEach((a,u)=>{const c=i.Au.get(a);if(!c)return;i.Au.set(a,c.withResumeToken(xt.EMPTY_BYTE_STRING,c.snapshotVersion)),Lj(i,a);const l=new Xi(c.target,a,u,c.sequenceNumber);zT(i,l)}),i.remoteSyncer.applyRemoteEvent(s)}(t,n))}catch(r){S("RemoteStore","Failed to raise snapshot:",r),yield ym(t,r)}var r}),YT.apply(this,arguments)}function ym(t,e,n){return XT.apply(this,arguments)}function XT(){return XT=g(function*(t,e,n){if(!To(e))throw e;t.vu.add(1),yield Ou(t),t.bu.set("Offline"),n||(n=()=>Tj(t.localStore)),t.asyncQueue.enqueueRetryable(g(function*(){S("RemoteStore","Retrying IndexedDB access"),yield n(),t.vu.delete(1),yield Fd(t)}))}),XT.apply(this,arguments)}function Uj(t,e){return e().catch(n=>ym(t,n,e))}function Fu(t){return JT.apply(this,arguments)}function JT(){return JT=g(function*(t){const e=k(t),n=Vo(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;zhe(e);)try{const i=yield xhe(e.localStore,r);if(null===i){0===e.Eu.length&&n.jo();break}r=i.batchId,qhe(e,i)}catch(i){yield ym(e,i)}Bj(e)&&$j(e)}),JT.apply(this,arguments)}function zhe(t){return Lo(t)&&t.Eu.length<10}function qhe(t,e){t.Eu.push(e);const n=Vo(t);n.Ko()&&n.ou&&n.uu(e.mutations)}function Bj(t){return Lo(t)&&!Vo(t).Uo()&&t.Eu.length>0}function $j(t){Vo(t).start()}function Whe(t){return ZT.apply(this,arguments)}function ZT(){return ZT=g(function*(t){Vo(t).hu()}),ZT.apply(this,arguments)}function Khe(t){return eS.apply(this,arguments)}function eS(){return eS=g(function*(t){const e=Vo(t);for(const n of t.Eu)e.uu(n.mutations)}),eS.apply(this,arguments)}function Qhe(t,e,n){return tS.apply(this,arguments)}function tS(){return tS=g(function*(t,e,n){const r=t.Eu.shift(),i=lT.from(r,e,n);yield Uj(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield Fu(t)}),tS.apply(this,arguments)}function Yhe(t,e){return nS.apply(this,arguments)}function nS(){return nS=g(function*(t,e){var n;e&&Vo(t).ou&&(yield(n=g(function*(r,i){if(function A$(t){switch(t){default:return V();case I.CANCELLED:case I.UNKNOWN:case I.DEADLINE_EXCEEDED:case I.RESOURCE_EXHAUSTED:case I.INTERNAL:case I.UNAVAILABLE:case I.UNAUTHENTICATED:return!1;case I.INVALID_ARGUMENT:case I.NOT_FOUND:case I.ALREADY_EXISTS:case I.PERMISSION_DENIED:case I.FAILED_PRECONDITION:case I.ABORTED:case I.OUT_OF_RANGE:case I.UNIMPLEMENTED:case I.DATA_LOSS:return!0}}(o=i.code)&&o!==I.ABORTED){const s=r.Eu.shift();Vo(r).Qo(),yield Uj(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),yield Fu(r)}var o}),function(r,i){return n.apply(this,arguments)})(t,e)),Bj(t)&&$j(t)}),nS.apply(this,arguments)}function jj(t,e){return rS.apply(this,arguments)}function rS(){return rS=g(function*(t,e){const n=k(t);n.asyncQueue.verifyOperationInProgress(),S("RemoteStore","RemoteStore received new credentials");const r=Lo(n);n.vu.add(3),yield Ou(n),r&&n.bu.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),yield Fd(n)}),rS.apply(this,arguments)}function oS(){return oS=g(function*(t,e){const n=k(t);e?(n.vu.delete(2),yield Fd(n)):e||(n.vu.add(2),yield Ou(n),n.bu.set("Unknown"))}),oS.apply(this,arguments)}function Lu(t){return t.Su||(t.Su=function(e,n,r){const i=k(e);return i.fu(),new Fhe(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:jhe.bind(null,t),ao:Hhe.bind(null,t),nu:Ghe.bind(null,t)}),t.Ru.push(function(){var e=g(function*(n){n?(t.Su.Qo(),WT(t)?qT(t):t.bu.set("Unknown")):(yield t.Su.stop(),Vj(t))});return function(n){return e.apply(this,arguments)}}())),t.Su}function Vo(t){return t.Du||(t.Du=function(e,n,r){const i=k(e);return i.fu(),new Lhe(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:Whe.bind(null,t),ao:Yhe.bind(null,t),au:Khe.bind(null,t),cu:Qhe.bind(null,t)}),t.Ru.push(function(){var e=g(function*(n){n?(t.Du.Qo(),yield Fu(t)):(yield t.Du.stop(),t.Eu.length>0&&(S("RemoteStore",`Stopping write stream with ${t.Eu.length} pending writes`),t.Eu=[]))});return function(n){return e.apply(this,arguments)}}())),t.Du}class sS{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new At,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new sS(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new C(I.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Vu(t,e){if(lt("AsyncQueue",`${e}: ${t}`),To(t))return new C(I.UNAVAILABLE,`${e}: ${t}`);throw t}class Uu{constructor(e){this.comparator=e?(n,r)=>e(n,r)||N.comparator(n.key,r.key):(n,r)=>N.comparator(n.key,r.key),this.keyedMap=yd(),this.sortedSet=new Ve(this.comparator)}static emptySet(e){return new Uu(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Uu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new Uu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class Hj{constructor(){this.Cu=new Ve(N.comparator)}track(e){const n=e.doc.key,r=this.Cu.get(n);r?0!==e.type&&3===r.type?this.Cu=this.Cu.insert(n,e):3===e.type&&1!==r.type?this.Cu=this.Cu.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Cu=this.Cu.remove(n):1===e.type&&2===r.type?this.Cu=this.Cu.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):V():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,r)=>{e.push(r)}),e}}class Bu{constructor(e,n,r,i,o,s,a,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new Bu(e,n,Uu.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&gd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class Xhe{constructor(){this.Nu=void 0,this.listeners=[]}}class Jhe{constructor(){this.queries=new Qi(e=>c$(e),gd),this.onlineState="Unknown",this.ku=new Set}}function aS(t,e){return uS.apply(this,arguments)}function uS(){return uS=g(function*(t,e){const n=k(t),r=e.query;let i=!1,o=n.queries.get(r);if(o||(i=!0,o=new Xhe),i)try{o.Nu=yield n.onListen(r)}catch(s){const a=Vu(s,`Initialization of query '${sT(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,o),o.listeners.push(e),e.Mu(n.onlineState),o.Nu&&e.$u(o.Nu)&&dS(n)}),uS.apply(this,arguments)}function cS(t,e){return lS.apply(this,arguments)}function lS(){return lS=g(function*(t,e){const n=k(t),r=e.query;let i=!1;const o=n.queries.get(r);if(o){const s=o.listeners.indexOf(e);s>=0&&(o.listeners.splice(s,1),i=0===o.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}),lS.apply(this,arguments)}function Zhe(t,e){const n=k(t);let r=!1;for(const i of e){const s=n.queries.get(i.query);if(s){for(const a of s.listeners)a.$u(i)&&(r=!0);s.Nu=i}}r&&dS(n)}function efe(t,e,n){const r=k(t),i=r.queries.get(e);if(i)for(const o of i.listeners)o.onError(n);r.queries.delete(e)}function dS(t){t.ku.forEach(e=>{e.next()})}class hS{constructor(e,n,r){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Bu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){return!e.fromCache||(!this.options.Ku||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=Bu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class qj{constructor(e){this.key=e}}class Wj{constructor(e){this.key=e}}class Kj{constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=le(),this.mutatedKeys=le(),this.tc=d$(e),this.ec=new Uu(this.tc)}get nc(){return this.Yu}sc(e,n){const r=n?n.ic:new Hj,i=n?n.ec:this.ec;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((l,d)=>{const h=i.get(l),f=md(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),m=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let y=!1;h&&f?h.data.isEqual(f.data)?p!==m&&(r.track({type:3,doc:f}),y=!0):this.rc(h,f)||(r.track({type:2,doc:f}),y=!0,(u&&this.tc(f,u)>0||c&&this.tc(f,c)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),y=!0):h&&!f&&(r.track({type:1,doc:h}),y=!0,(u||c)&&(a=!0)),y&&(f?(s=s.add(f),o=m?o.add(l):o.delete(l)):(s=s.delete(l),o=o.delete(l)))}),null!==this.query.limit)for(;s.size>this.query.limit;){const l="F"===this.query.limitType?s.last():s.first();s=s.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{ec:s,ic:r,zi:a,mutatedKeys:o}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const o=e.ic.xu();o.sort((c,l)=>function(d,h){const f=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return V()}};return f(d)-f(h)}(c.type,l.type)||this.tc(c.doc,l.doc)),this.oc(r);const s=n?this.uc():[],a=0===this.Zu.size&&this.current?1:0,u=a!==this.Xu;return this.Xu=a,0!==o.length||u?{snapshot:new Bu(this.query,e.ec,i,o,e.mutatedKeys,0===a,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:s}:{cc:s}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new Hj,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=le(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const n=[];return e.forEach(r=>{this.Zu.has(r)||n.push(new Wj(r))}),this.Zu.forEach(r=>{e.has(r)||n.push(new qj(r))}),n}hc(e){this.Yu=e.ir,this.Zu=le();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return Bu.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class rfe{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class ife{constructor(e){this.key=e,this.fc=!1}}class ofe{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.dc={},this.wc=new Qi(a=>c$(a),gd),this._c=new Map,this.mc=new Set,this.gc=new Ve(N.comparator),this.yc=new Map,this.Ic=new TT,this.Tc={},this.Ec=new Map,this.Ac=zs.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function sfe(t,e){return fS.apply(this,arguments)}function fS(){return fS=g(function*(t,e){const n=function FS(t){const e=k(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Qj.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=gfe.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=cfe.bind(null,e),e.dc.nu=Zhe.bind(null,e.eventManager),e.dc.Pc=efe.bind(null,e.eventManager),e}(t);let r,i;const o=n.wc.get(e);if(o)r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.lc();else{const s=yield function ku(t,e){const n=k(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Bs.getTargetData(r,e).next(o=>o?(i=o,w.resolve(i)):n.Bs.allocateTargetId(r).next(s=>(i=new Xi(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ji.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(r.targetId,r),n.Yi.set(e,r.targetId)),r})}(n.localStore,An(e)),a=n.sharedClientState.addLocalQueryTarget(s.targetId);r=s.targetId,i=yield function pS(t,e,n,r,i){return gS.apply(this,arguments)}(n,e,r,"current"===a,s.resumeToken),n.isPrimaryClient&&mm(n.remoteStore,s)}return i}),fS.apply(this,arguments)}function gS(){return gS=g(function*(t,e,n,r,i){t.Rc=(d,h,f)=>{return(p=g(function*(m,y,v,_){let E=y.view.sc(v);E.zi&&(E=yield dm(m.localStore,y.query,!1).then(({documents:J})=>y.view.sc(J,E)));const x=_&&_.targetChanges.get(y.targetId),L=y.view.applyChanges(E,m.isPrimaryClient,x);return CS(m,y.targetId,L.cc),L.snapshot}),function(m,y,v,_){return p.apply(this,arguments)})(t,d,h,f);var p};const o=yield dm(t.localStore,e,!0),s=new Kj(e,o.ir),a=s.sc(o.documents),u=Dd.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState,i),c=s.applyChanges(a,t.isPrimaryClient,u);CS(t,n,c.cc);const l=new rfe(e,n,s);return t.wc.set(e,l),t._c.has(n)?t._c.get(n).push(e):t._c.set(n,[e]),c.snapshot}),gS.apply(this,arguments)}function afe(t,e){return mS.apply(this,arguments)}function mS(){return mS=g(function*(t,e){const n=k(t),r=n.wc.get(e),i=n._c.get(r.targetId);if(i.length>1)return n._c.set(r.targetId,i.filter(o=>!gd(o,e))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Pu(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),Ld(n.remoteStore,r.targetId),$u(n,r.targetId)}).catch(Co))):($u(n,r.targetId),yield Pu(n.localStore,r.targetId,!0))}),mS.apply(this,arguments)}function yS(){return yS=g(function*(t,e,n){const r=function LS(t){const e=k(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=lfe.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=dfe.bind(null,e),e}(t);try{const i=yield function(o,s){const a=k(o),u=et.now(),c=s.reduce((h,f)=>h.add(f.key),le());let l,d;return a.persistence.runTransaction("Locally write mutations","readwrite",h=>{let f=qn(),p=le();return a.Zi.getEntries(h,c).next(m=>{f=m,f.forEach((y,v)=>{v.isValidDocument()||(p=p.add(y))})}).next(()=>a.localDocuments.getOverlayedDocuments(h,f)).next(m=>{l=m;const y=[];for(const v of s){const _=Fde(v,l.get(v.key).overlayedDocument);null!=_&&y.push(new Yi(v.key,_,QB(_.value.mapValue),We.exists(!0)))}return a.mutationQueue.addMutationBatch(h,u,y,s)}).next(m=>{d=m;const y=m.applyToLocalDocumentSet(l,p);return a.documentOverlayCache.saveOverlays(h,m.batchId,y)})}).then(()=>({batchId:d.batchId,changes:f$(l)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,s,a){let u=o.Tc[o.currentUser.toKey()];u||(u=new Ve(ne)),u=u.insert(s,a),o.Tc[o.currentUser.toKey()]=u}(r,i.batchId,n),yield Ji(r,i.changes),yield Fu(r.remoteStore)}catch(i){const o=Vu(i,"Failed to persist write");n.reject(o)}}),yS.apply(this,arguments)}function Qj(t,e){return _S.apply(this,arguments)}function _S(){return _S=g(function*(t,e){const n=k(t);try{const r=yield function Ahe(t,e){const n=k(t),r=e.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const a=[];e.targetChanges.forEach((l,d)=>{const h=i.get(d);if(!h)return;a.push(n.Bs.removeMatchingKeys(o,l.removedDocuments,d).next(()=>n.Bs.addMatchingKeys(o,l.addedDocuments,d)));let f=h.withSequenceNumber(o.currentSequenceNumber);var p,m,y;null!==e.targetMismatches.get(d)?f=f.withResumeToken(xt.EMPTY_BYTE_STRING,j.min()).withLastLimboFreeSnapshotVersion(j.min()):l.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(l.resumeToken,r)),i=i.insert(d,f),m=f,y=l,(0===(p=h).resumeToken.approximateByteSize()||m.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8||y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0)&&a.push(n.Bs.updateTargetData(o,f))});let u=qn(),c=le();if(e.documentUpdates.forEach(l=>{e.resolvedLimboDocuments.has(l)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,l))}),a.push(function Sj(t,e,n){let r=le(),i=le();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=qn();return n.forEach((a,u)=>{const c=o.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(j.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||0===u.version.compareTo(c.version)&&c.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):S("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{nr:s,sr:i}})}(o,s,e.documentUpdates).next(l=>{u=l.nr,c=l.sr})),!r.isEqual(j.min())){const l=n.Bs.getLastRemoteSnapshotVersion(o).next(d=>n.Bs.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(l)}return w.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,u,c)).next(()=>u)}).then(o=>(n.Ji=i,o))}(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.yc.get(o);s&&($(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.fc=!0:i.modifiedDocuments.size>0?$(s.fc):i.removedDocuments.size>0&&($(s.fc),s.fc=!1))}),yield Ji(n,r,e)}catch(r){yield Co(r)}}),_S.apply(this,arguments)}function Yj(t,e,n){const r=k(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const i=[];r.wc.forEach((o,s)=>{const a=s.view.Mu(e);a.snapshot&&i.push(a.snapshot)}),function(o,s){const a=k(o);a.onlineState=s;let u=!1;a.queries.forEach((c,l)=>{for(const d of l.listeners)d.Mu(s)&&(u=!0)}),u&&dS(a)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function cfe(t,e,n){return vS.apply(this,arguments)}function vS(){return vS=g(function*(t,e,n){const r=k(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.yc.get(e),o=i&&i.key;if(o){let s=new Ve(N.comparator);s=s.insert(o,Ge.newNoDocument(o,j.min()));const a=le().add(o),u=new Ed(j.min(),new Map,new Ve(ne),s,a);yield Qj(r,u),r.gc=r.gc.remove(o),r.yc.delete(e),TS(r)}else yield Pu(r.localStore,e,!1).then(()=>$u(r,e,n)).catch(Co)}),vS.apply(this,arguments)}function lfe(t,e){return wS.apply(this,arguments)}function wS(){return wS=g(function*(t,e){const n=k(t),r=e.batch.batchId;try{const i=yield function She(t,e){const n=k(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.Zi.newChangeBuffer({trackRemovals:!0});return function(s,a,u,c){const l=u.batch,d=l.keys();let h=w.resolve();return d.forEach(f=>{h=h.next(()=>c.getEntry(a,f)).next(p=>{const m=u.docVersions.get(f);$(null!==m),p.version.compareTo(m)<0&&(l.applyToRemoteDocument(p,u),p.isValidDocument()&&(p.setReadTime(u.commitVersion),c.addEntry(p)))})}),h.next(()=>s.mutationQueue.removeMutationBatch(a,l))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(s){let a=le();for(let u=0;u<s.mutationResults.length;++u)s.mutationResults[u].transformResults.length>0&&(a=a.add(s.batch.mutations[u].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}(n.localStore,e);bS(n,r,null),DS(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield Ji(n,i)}catch(i){yield Co(i)}}),wS.apply(this,arguments)}function dfe(t,e,n){return IS.apply(this,arguments)}function IS(){return IS=g(function*(t,e,n){const r=k(t);try{const i=yield function(o,s){const a=k(o);return a.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return a.mutationQueue.lookupMutationBatch(u,s).next(l=>($(null!==l),c=l.keys(),a.mutationQueue.removeMutationBatch(u,l))).next(()=>a.mutationQueue.performConsistencyCheck(u)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(u,c,s)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>a.localDocuments.getDocuments(u,c))})}(r.localStore,e);bS(r,e,n),DS(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield Ji(r,i)}catch(i){yield Co(i)}}),IS.apply(this,arguments)}function DS(t,e){(t.Ec.get(e)||[]).forEach(n=>{n.resolve()}),t.Ec.delete(e)}function bS(t,e,n){const r=k(t);let i=r.Tc[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Tc[r.currentUser.toKey()]=i}}function $u(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t._c.get(e))t.wc.delete(r),n&&t.dc.Pc(r,n);t._c.delete(e),t.isPrimaryClient&&t.Ic.Is(e).forEach(r=>{t.Ic.containsKey(r)||Xj(t,r)})}function Xj(t,e){t.mc.delete(e.path.canonicalString());const n=t.gc.get(e);null!==n&&(Ld(t.remoteStore,n),t.gc=t.gc.remove(e),t.yc.delete(n),TS(t))}function CS(t,e,n){for(const r of n)r instanceof qj?(t.Ic.addReference(r.key,e),ffe(t,r)):r instanceof Wj?(S("SyncEngine","Document no longer in limbo: "+r.key),t.Ic.removeReference(r.key,e),t.Ic.containsKey(r.key)||Xj(t,r.key)):V()}function ffe(t,e){const n=e.key,r=n.path.canonicalString();t.gc.get(n)||t.mc.has(r)||(S("SyncEngine","New document in limbo: "+n),t.mc.add(r),TS(t))}function TS(t){for(;t.mc.size>0&&t.gc.size<t.maxConcurrentLimboResolutions;){const e=t.mc.values().next().value;t.mc.delete(e);const n=new N(we.fromString(e)),r=t.Ac.next();t.yc.set(r,new ife(n)),t.gc=t.gc.insert(n,r),mm(t.remoteStore,new Xi(An(bu(n.path)),r,"TargetPurposeLimboResolution",sr.ct))}}function Ji(t,e,n){return SS.apply(this,arguments)}function SS(){return SS=g(function*(t,e,n){const r=k(t),i=[],o=[],s=[];var a;r.wc.isEmpty()||(r.wc.forEach((a,u)=>{s.push(r.Rc(u,e,n).then(c=>{if((c||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,c?.fromCache?"not-current":"current"),c){i.push(c);const l=RT.Li(u.targetId,c);o.push(l)}}))}),yield Promise.all(s),r.dc.nu(i),yield(a=g(function*(u,c){const l=k(u);try{yield l.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>w.forEach(c,h=>w.forEach(h.Fi,f=>l.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>w.forEach(h.Bi,f=>l.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!To(d))throw d;S("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const h=d.targetId;if(!d.fromCache){const f=l.Ji.get(h),m=f.withLastLimboFreeSnapshotVersion(f.snapshotVersion);l.Ji=l.Ji.insert(h,m)}}}),function(u,c){return a.apply(this,arguments)})(r.localStore,o))}),SS.apply(this,arguments)}function pfe(t,e){return AS.apply(this,arguments)}function AS(){return AS=g(function*(t,e){const n=k(t);if(!n.currentUser.isEqual(e)){S("SyncEngine","User change. New user:",e.toKey());const r=yield Cj(n.localStore,e);n.currentUser=e,(i=n).Ec.forEach(s=>{s.forEach(a=>{a.reject(new C(I.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.Ec.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Ji(n,r.er)}var i}),AS.apply(this,arguments)}function gfe(t,e){const n=k(t),r=n.yc.get(e);if(r&&r.fc)return le().add(r.key);{let i=le();const o=n._c.get(e);if(!o)return i;for(const s of o){const a=n.wc.get(s);i=i.unionWith(a.view.nc)}return i}}class _m{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return g(function*(){n.serializer=Od(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return function bj(t,e,n,r){return new The(t,e,n,r)}(this.persistence,new Dj,e.initialUser,this.serializer)}createPersistence(e){return new ST(um.zs,this.serializer)}createSharedClientState(e){return new kj}terminate(){var e=this;return g(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class ju{initialize(e,n){var r=this;return g(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(n),r.remoteStore=r.createRemoteStore(n),r.eventManager=r.createEventManager(n),r.syncEngine=r.createSyncEngine(n,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>Yj(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=pfe.bind(null,r.syncEngine),yield function iS(t,e){return oS.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Jhe}createDatastore(e){const n=Od(e.databaseInfo.databaseId),r=new Ohe(e.databaseInfo);return new Vhe(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,o=a=>Yj(this.syncEngine,a,0),s=Pj.D()?new Pj:new Nhe,new $he(n,r,i,o,s);var n,r,i,o,s}createSyncEngine(e,n){return function(r,i,o,s,a,u,c){const l=new ofe(r,i,o,s,a,u);return c&&(l.vc=!0),l}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=g(function*(n){const r=k(n);S("RemoteStore","RemoteStore shutting down."),r.vu.add(5),yield Ou(r),r.Pu.shutdown(),r.bu.set("Unknown")}),function(n){return e.apply(this,arguments)})(this.remoteStore);var e}}class vm{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):lt("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class Afe{constructor(e,n,r,i){var o=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Vt.UNAUTHENTICATED,this.clientId=TB.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var s=g(function*(a){S("FirestoreClient","Received user=",a.uid),yield o.authCredentialListener(a),o.user=a});return function(a){return s.apply(this,arguments)}}()),this.appCheckCredentials.start(r,s=>(S("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}getConfiguration(){var e=this;return g(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new C(I.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new At;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(g(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const i=Vu(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}function wm(t,e){return VS.apply(this,arguments)}function VS(){return VS=g(function*(t,e){t.asyncQueue.verifyOperationInProgress(),S("FirestoreClient","Initializing OfflineComponentProvider");const n=yield t.getConfiguration();yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(function(){var i=g(function*(o){r.isEqual(o)||(yield Cj(e.localStore,o),r=o)});return function(o){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}),VS.apply(this,arguments)}function US(t,e){return BS.apply(this,arguments)}function BS(){return BS=g(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield function $S(t){return jS.apply(this,arguments)}(t);S("FirestoreClient","Initializing OnlineComponentProvider");const r=yield t.getConfiguration();yield e.initialize(n,r),t.setCredentialChangeListener(i=>jj(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,o)=>jj(e.remoteStore,o)),t._onlineComponents=e}),BS.apply(this,arguments)}function jS(){return jS=g(function*(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){S("FirestoreClient","Using user provided OfflineComponentProvider");try{yield wm(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function rH(t){return"FirebaseError"===t.name?t.code===I.FAILED_PRECONDITION||t.code===I.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(n))throw n;kr("Error using user provided cache. Falling back to memory cache: "+n),yield wm(t,new _m)}}else S("FirestoreClient","Using default OfflineComponentProvider"),yield wm(t,new _m);return t._offlineComponents}),jS.apply(this,arguments)}function Im(t){return HS.apply(this,arguments)}function HS(){return HS=g(function*(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(S("FirestoreClient","Using user provided OnlineComponentProvider"),yield US(t,t._uninitializedComponentsProvider._online)):(S("FirestoreClient","Using default OnlineComponentProvider"),yield US(t,new ju))),t._onlineComponents}),HS.apply(this,arguments)}function Hu(t){return zS.apply(this,arguments)}function zS(){return zS=g(function*(t){const e=yield Im(t),n=e.eventManager;return n.onListen=sfe.bind(null,e.syncEngine),n.onUnlisten=afe.bind(null,e.syncEngine),n}),zS.apply(this,arguments)}function cH(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e}const lH=new Map;function qS(t,e,n){if(!n)throw new C(I.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function dH(t){if(!N.isDocumentKey(t))throw new C(I.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function hH(t){if(N.isDocumentKey(t))throw new C(I.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Dm(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(n=t).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof t?"a function":V()}function ye(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new C(I.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Dm(t);throw new C(I.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}class pH{constructor(e){var n,r;if(void 0===e.host){if(void 0!==e.ssl)throw new C(I.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new C(I.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function Lfe(t,e,n,r){if(!0===e&&!0===r)throw new C(I.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=cH(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(i){if(void 0!==i.timeoutSeconds){if(isNaN(i.timeoutSeconds))throw new C(I.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new C(I.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new C(I.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Vd{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new pH({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new C(I.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new C(I.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new pH(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new Ole;switch(n.type){case"firstParty":return new Ule(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new C(I.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=lH.get(e);n&&(S("ComponentProvider","Removing Datastore"),lH.delete(e),n.terminate())}(this),Promise.resolve()}}class ft{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new di(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ft(this.firestore,e,this._key)}}class en{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new en(this.firestore,e,this._query)}}class di extends en{constructor(e,n,r){super(e,n,bu(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ft(this.firestore,null,new N(e))}withConverter(e){return new di(this.firestore,e,this._path)}}function Ufe(t,e,...n){if(t=Dn(t),qS("collection","path",e),t instanceof Vd){const r=we.fromString(e,...n);return hH(r),new di(t,null,r)}{if(!(t instanceof ft||t instanceof di))throw new C(I.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(we.fromString(e,...n));return hH(r),new di(t.firestore,null,r)}}function WS(t,e,...n){if(t=Dn(t),1===arguments.length&&(e=TB.A()),qS("doc","path",e),t instanceof Vd){const r=we.fromString(e,...n);return dH(r),new ft(t,null,new N(r))}{if(!(t instanceof ft||t instanceof di))throw new C(I.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(we.fromString(e,...n));return dH(r),new ft(t.firestore,t instanceof di?t.converter:null,new N(r))}}class Bfe{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new $T(this,"async_queue_retry"),this.Xc=()=>{const n=gm();n&&S("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=gm();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=gm();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new At;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return g(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(n){if(!To(n))throw n;S("AsyncQueue","Operation failed with retryable error: "+n)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,lt("INTERNAL UNHANDLED ERROR: ",function(o){let s=o.message||"";return o.stack&&(s=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),s}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=n,n}enqueueAfterDelay(e,n,r){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const i=sS.createAndSchedule(this,e,n,r,o=>this.na(o));return this.zc.push(i),i}Zc(){this.Wc&&V()}verifyOperationInProgress(){}sa(){var e=this;return g(function*(){let n;do{n=e.Gc,yield n}while(n!==e.Gc)})()}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}function KS(t){return function(e,n){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(t)}class ze extends Vd{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Bfe,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||mH(this),this._firestoreClient.terminate()}}function jfe(t,e){const r="string"==typeof t?t:e||"(default)",i=ms("object"==typeof t?t:Ip(),"firestore").getImmediate({identifier:r});if(!i._initialized){const o=AF("firestore");o&&function Vfe(t,e,n,r={}){var i;const o=(t=ye(t,Vd))._getSettings();if("firestore.googleapis.com"!==o.host&&o.host!==e&&kr("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},o),{host:`${e}:${n}`,ssl:!1})),r.mockUserToken){let s,a;if("string"==typeof r.mockUserToken)s=r.mockUserToken,a=Vt.MOCK_USER;else{s=RF(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new C(I.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new Vt(u)}t._authCredentials=new Fle(new bB(s,a))}}(i,...o)}return i}function It(t){return t._firestoreClient||mH(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function mH(t){var e,n,r;const i=t._freezeSettings(),o=(a=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new gde(t._databaseId,a,t._persistenceKey,(c=i).host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,cH(c.experimentalLongPollingOptions),c.useFetchStreams));var a,c;t._firestoreClient=new Afe(t._authCredentials,t._appCheckCredentials,t._queue,o),null!==(n=i.cache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=i.cache)&&void 0!==r&&r._onlineComponentProvider&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}class Ws{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ws(xt.fromBase64String(e))}catch(n){throw new C(I.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ws(xt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Gu{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new C(I.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new dt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class vH{constructor(e){this._methodName=e}}class QS{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new C(I.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new C(I.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ne(this._lat,e._lat)||ne(this._long,e._long)}}const Gfe=/^__.*__$/;class zfe{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return null!==this.fieldMask?new Yi(e,this.data,this.fieldMask,n,this.fieldTransforms):new Su(e,this.data,n,this.fieldTransforms)}}function IH(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw V()}}class bm{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===o&&this.ua(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new bm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.fa(e),i}da(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return Tm(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(IH(this.ca)&&Gfe.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class qfe{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Od(e)}ya(e,n,r,i=!1){return new bm({ca:e,methodName:n,ga:r,path:dt.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function zu(t){const e=t._freezeSettings(),n=Od(t._databaseId);return new qfe(t._databaseId,!!e.ignoreUndefinedProperties,n)}function YS(t,e,n,r,i,o={}){const s=t.ya(o.merge||o.mergeFields?2:0,e,n,i);JS("Data must be an object, but it was:",s,r);const a=TH(r,s);let u,c;if(o.merge)u=new zn(s.fieldMask),c=s.fieldTransforms;else if(o.mergeFields){const l=[];for(const d of o.mergeFields){const h=$d(e,d,n);if(!s.contains(h))throw new C(I.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);AH(l,h)||l.push(h)}u=new zn(l),c=s.fieldTransforms.filter(d=>u.covers(d.field))}else u=null,c=s.fieldTransforms;return new zfe(new Zt(a),u,c)}function Ks(t,e){if(SH(t=Dn(t)))return JS("Unsupported field value:",e,t),TH(t,e);if(t instanceof vH)return function(n,r){if(!IH(r.ca))throw r._a(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(n,r){const i=[];let o=0;for(const s of n){let a=Ks(s,r.wa(o));null==a&&(a={nullValue:"NULL_VALUE"}),i.push(a),o++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if(null===(n=Dn(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return y$(r.serializer,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){const i=et.fromDate(n);return{timestampValue:xu(r.serializer,i)}}if(n instanceof et){const i=new et(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:xu(r.serializer,i)}}if(n instanceof QS)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Ws)return{bytesValue:V$(r.serializer,n._byteString)};if(n instanceof ft){const i=r.databaseId,o=n.firestore._databaseId;if(!o.isEqual(i))throw r._a(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:gT(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r._a(`Unsupported field value: ${Dm(n)}`)}(t,e)}function TH(t,e){const n={};return BB(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):So(t,(r,i)=>{const o=Ks(i,e.ha(r));null!=o&&(n[r]=o)}),{mapValue:{fields:n}}}function SH(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof et||t instanceof QS||t instanceof Ws||t instanceof ft||t instanceof vH)}function JS(t,e,n){if(!SH(n)||"object"!=typeof(r=n)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=Dm(n);throw e._a("an object"===r?t+" a custom object":t+" "+r)}var r}function $d(t,e,n){if((e=Dn(e))instanceof Gu)return e._internalPath;if("string"==typeof e)return Cm(t,e);throw Tm("Field path arguments must be of type string or ",t,!1,void 0,n)}const Yfe=new RegExp("[~\\*/\\[\\]]");function Cm(t,e,n){if(e.search(Yfe)>=0)throw Tm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Gu(...e.split("."))._internalPath}catch{throw Tm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Tm(t,e,n,r,i){const o=r&&!r.isEmpty(),s=void 0!==i;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new C(I.INVALID_ARGUMENT,a+t+u)}function AH(t,e){return t.some(n=>n.isEqual(e))}class ZS{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new ft(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Xfe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Sm("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class Xfe extends ZS{data(){return super.data()}}function Sm(t,e){return"string"==typeof e?Cm(t,e):e instanceof Gu?e._internalPath:e._delegate._internalPath}class Zfe{convertValue(e,n="none"){switch(Mo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return at(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Wi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw V()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return So(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertGeoPoint(e){return new QS(at(e.latitude),at(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=$g(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ld(e));default:return null}}convertTimestamp(e){const n=Ao(e);return new et(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=we.fromString(e);$(K$(r));const i=new Ps(r.get(1),r.get(3)),o=new N(r.popFirst(5));return i.isEqual(n)||lt(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}class Qs{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Wu extends ZS{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Rm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Sm("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Rm extends Wu{data(e={}){return super.data(e)}}class Ku{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Qs(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Rm(this._firestore,this._userDataWriter,r.key,r,new Qs(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new C(I.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map(s=>({type:"added",doc:new Rm(r._firestore,r._userDataWriter,s.doc.key,s.doc,new Qs(r._snapshot.mutatedKeys.has(s.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:o++}))}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(s=>i||3!==s.type).map(s=>{const a=new Rm(r._firestore,r._userDataWriter,s.doc.key,s.doc,new Qs(r._snapshot.mutatedKeys.has(s.doc.key),r._snapshot.fromCache),r.query.converter);let u=-1,c=-1;return 0!==s.type&&(u=o.indexOf(s.doc.key),o=o.delete(s.doc.key)),1!==s.type&&(o=o.add(s.doc),c=o.indexOf(s.doc.key)),{type:tpe(s.type),doc:a,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function tpe(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return V()}}class Uo extends Zfe{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ws(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ft(this.firestore,null,n)}}function Hd(t,e){return function(n,r){const i=new At;return n.asyncQueue.enqueueAndForget(g(function*(){return function ufe(t,e,n){return yS.apply(this,arguments)}(yield function GS(t){return Im(t).then(e=>e.syncEngine)}(n),r,i)})),i.promise}(It(t),e)}function nA(t,e,n){const r=n.docs.get(e._key),i=new Uo(t);return new Wu(t,i,e._key,r,new Qs(n.hasPendingWrites,n.fromCache),e.converter)}!function(t,e=!0){_u=go,dn(new Wt("firestore",(n,{instanceIdentifier:r,options:i})=>{const o=n.getProvider("app").getImmediate(),s=new ze(new Lle(n.getProvider("auth-internal")),new Ble(n.getProvider("app-check-internal")),function(a,u){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new C(I.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ps(a.options.projectId,u)}(o,r),o);return i=Object.assign({useFetchStreams:e},i),s._setSettings(i),s},"PUBLIC").setMultipleInstances(!0)),$e(DB,"3.12.1",t),$e(DB,"3.12.1","esm2017")}();var mpe={includeMetadataChanges:!1};function rA(t,e){return void 0===e&&(e=mpe),new Ue(function(n){var r=function ipe(t,...e){var n,r,i;t=Dn(t);let o={includeMetadataChanges:!1},s=0;"object"!=typeof e[s]||KS(e[s])||(o=e[s],s++);const a={includeMetadataChanges:o.includeMetadataChanges};if(KS(e[s])){const d=e[s];e[s]=null===(n=d.next)||void 0===n?void 0:n.bind(d),e[s+1]=null===(r=d.error)||void 0===r?void 0:r.bind(d),e[s+2]=null===(i=d.complete)||void 0===i?void 0:i.bind(d)}let u,c,l;if(t instanceof ft)c=ye(t.firestore,ze),l=bu(t._key.path),u={next:d=>{e[s]&&e[s](nA(c,t,d))},error:e[s+1],complete:e[s+2]};else{const d=ye(t,en);c=ye(d.firestore,ze),l=d._query;const h=new Uo(c);u={next:f=>{e[s]&&e[s](new Ku(c,h,d,f))},error:e[s+1],complete:e[s+2]},function xH(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new C(I.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(t._query)}return function(d,h,f,p){const m=new vm(p),y=new hS(h,m,f);return d.asyncQueue.enqueueAndForget(g(function*(){return aS(yield Hu(d),y)})),()=>{m.Dc(),d.asyncQueue.enqueueAndForget(g(function*(){return cS(yield Hu(d),y)}))}}(It(c),l,a,u)}(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function Dpe(t,e){return void 0===e&&(e={}),function Epe(t){return rA(t,{includeMetadataChanges:!0}).pipe(Se(function(e){return e.docs}))}(t).pipe(Se(function(n){return n.map(function(r){return function LH(t,e){void 0===e&&(e={});var n=t.data();return!t.exists()||"object"!=typeof n||null===n||e.idField&&(n[e.idField]=t.id),n}(r,e)})}))}class Qu{constructor(e){return e}}const $H="firestore",sA=new U("angularfire2.firestore-instances");function Tpe(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new Qu(r)}}const Spe={provide:class bpe{constructor(){return xp($H)}},deps:[[new Ct,sA]]},Ape={provide:Qu,useFactory:function Cpe(t,e){const n=Ap($H,t,e);return n&&new Qu(n)},deps:[[new Ct,sA],Ds]};let xpe=(()=>{class t{constructor(){$e("angularfire",vl.full,"fst")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=rn({type:t}),t.\u0275inj=Ht({providers:[Ape,Spe]}),t})();function Mpe(t,...e){return{ngModule:xpe,providers:[{provide:sA,useFactory:Tpe(t),multi:!0,deps:[Me,Un,Mp,Rp,[new Ct,UC],[new Ct,Up],...e]}]}}const aA=iu(Dpe,!0),uA=iu(Ufe,!0),Rpe=iu(jfe,!0);let jH=(()=>{class t{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}}return t.\u0275fac=function(n){return new(n||t)(b(bi),b(Zn))},t.\u0275dir=Z({type:t}),t})(),Ys=(()=>{class t extends jH{}return t.\u0275fac=function(){let e;return function(r){return(e||(e=qt(t)))(r||t)}}(),t.\u0275dir=Z({type:t,features:[xe]}),t})();const hi=new U("NgValueAccessor"),Ppe={provide:hi,useExisting:Oe(()=>Yu),multi:!0},Fpe=new U("CompositionEventMode");let Yu=(()=>{class t extends jH{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Ope(){const t=co()?co().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(n){this.setProperty("value",n??"")}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}}return t.\u0275fac=function(n){return new(n||t)(b(bi),b(Zn),b(Fpe,8))},t.\u0275dir=Z({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,r){1&n&&mt("input",function(o){return r._handleInput(o.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(o){return r._compositionEnd(o.target.value)})},features:[qe([Ppe]),xe]}),t})();function Bo(t){return null==t||("string"==typeof t||Array.isArray(t))&&0===t.length}function GH(t){return null!=t&&"number"==typeof t.length}const yn=new U("NgValidators"),$o=new U("NgAsyncValidators"),Lpe=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class tn{static min(e){return function zH(t){return e=>{if(Bo(e.value)||Bo(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}(e)}static max(e){return function qH(t){return e=>{if(Bo(e.value)||Bo(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}(e)}static required(e){return function WH(t){return Bo(t.value)?{required:!0}:null}(e)}static requiredTrue(e){return function KH(t){return!0===t.value?null:{required:!0}}(e)}static email(e){return function QH(t){return Bo(t.value)||Lpe.test(t.value)?null:{email:!0}}(e)}static minLength(e){return YH(e)}static maxLength(e){return XH(e)}static pattern(e){return function JH(t){if(!t)return km;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(Bo(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return i4(e)}static composeAsync(e){return o4(e)}}function YH(t){return e=>Bo(e.value)||!GH(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}function XH(t){return e=>GH(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}function km(t){return null}function ZH(t){return null!=t}function e4(t){return Vc(t)?Rt(t):t}function t4(t){let e={};return t.forEach(n=>{e=null!=n?{...e,...n}:e}),0===Object.keys(e).length?null:e}function n4(t,e){return e.map(n=>n(t))}function r4(t){return t.map(e=>function Vpe(t){return!t.validate}(e)?e:n=>e.validate(n))}function i4(t){if(!t)return null;const e=t.filter(ZH);return 0==e.length?null:function(n){return t4(n4(n,e))}}function cA(t){return null!=t?i4(r4(t)):null}function o4(t){if(!t)return null;const e=t.filter(ZH);return 0==e.length?null:function(n){return function Npe(...t){const e=ZA(t),{args:n,keys:r}=yO(t),i=new Ue(o=>{const{length:s}=n;if(!s)return void o.complete();const a=new Array(s);let u=s,c=s;for(let l=0;l<s;l++){let d=!1;ar(n[l]).subscribe(Mt(o,h=>{d||(d=!0,c--),a[l]=h},()=>u--,void 0,()=>{(!u||!d)&&(c||o.next(r?vO(r,a):a),o.complete())}))}});return e?i.pipe(_O(e)):i}(n4(n,e).map(e4)).pipe(Se(t4))}}function lA(t){return null!=t?o4(r4(t)):null}function s4(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function a4(t){return t._rawValidators}function u4(t){return t._rawAsyncValidators}function dA(t){return t?Array.isArray(t)?t:[t]:[]}function Pm(t,e){return Array.isArray(t)?t.includes(e):t===e}function c4(t,e){const n=dA(e);return dA(t).forEach(i=>{Pm(n,i)||n.push(i)}),n}function l4(t,e){return dA(e).filter(n=>!Pm(t,n))}class d4{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=cA(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=lA(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return!!this.control&&this.control.hasError(e,n)}getError(e,n){return this.control?this.control.getError(e,n):null}}class xn extends d4{get formDirective(){return null}get path(){return null}}class jo extends d4{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class h4{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Om=(()=>{class t extends h4{constructor(n){super(n)}}return t.\u0275fac=function(n){return new(n||t)(b(jo,2))},t.\u0275dir=Z({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,r){2&n&&vf("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[xe]}),t})(),Fm=(()=>{class t extends h4{constructor(n){super(n)}}return t.\u0275fac=function(n){return new(n||t)(b(xn,10))},t.\u0275dir=Z({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(n,r){2&n&&vf("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[xe]}),t})();const Gd="VALID",Vm="INVALID",Xu="PENDING",zd="DISABLED";function pA(t){return(Um(t)?t.validators:t)||null}function gA(t,e){return(Um(e)?e.asyncValidators:t)||null}function Um(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}function p4(t,e,n){const r=t.controls;if(!(e?Object.keys(r):r).length)throw new T(1e3,"");if(!r[n])throw new T(1001,"")}function g4(t,e,n){t._forEachChild((r,i)=>{if(void 0===n[i])throw new T(1002,"")})}class Bm{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Gd}get invalid(){return this.status===Vm}get pending(){return this.status==Xu}get disabled(){return this.status===zd}get enabled(){return this.status!==zd}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(c4(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(c4(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(l4(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(l4(e,this._rawAsyncValidators))}hasValidator(e){return Pm(this._rawValidators,e)}hasAsyncValidator(e){return Pm(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Xu,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=zd,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=Gd,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Gd||this.status===Xu)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?zd:Gd}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Xu,this._hasOwnPendingAsyncValidator=!0;const n=e4(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent)}get(e){let n=e;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new rt,this.statusChanges=new rt}_calculateStatus(){return this._allControlsDisabled()?zd:this.errors?Vm:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Xu)?Xu:this._anyControlsHaveStatus(Vm)?Vm:Gd}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Um(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function jpe(t){return Array.isArray(t)?cA(t):t||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function Hpe(t){return Array.isArray(t)?lA(t):t||null}(this._rawAsyncValidators)}}class Xs extends Bm{constructor(e,n,r){super(pA(n),gA(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){g4(this,0,e),Object.keys(e).forEach(r=>{p4(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>!!r._syncPendingControls()||n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{const r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class m4 extends Xs{}const Js=new U("CallSetDisabledState",{providedIn:"root",factory:()=>qd}),qd="always";function Wd(t,e,n=qd){mA(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||"always"===n)&&e.valueAccessor.setDisabledState?.(t.disabled),function zpe(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&y4(t,e)})}(t,e),function Wpe(t,e){const n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function qpe(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&y4(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function Gpe(t,e){if(e.valueAccessor.setDisabledState){const n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function jm(t,e,n=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Gm(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function Hm(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function mA(t,e){const n=a4(t);null!==e.validator?t.setValidators(s4(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=u4(t);null!==e.asyncValidator?t.setAsyncValidators(s4(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();Hm(e._rawValidators,i),Hm(e._rawAsyncValidators,i)}function Gm(t,e){let n=!1;if(null!==t){if(null!==e.validator){const i=a4(t);if(Array.isArray(i)&&i.length>0){const o=i.filter(s=>s!==e.validator);o.length!==i.length&&(n=!0,t.setValidators(o))}}if(null!==e.asyncValidator){const i=u4(t);if(Array.isArray(i)&&i.length>0){const o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(n=!0,t.setAsyncValidators(o))}}}const r=()=>{};return Hm(e._rawValidators,r),Hm(e._rawAsyncValidators,r),n}function y4(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function w4(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function I4(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const me=class extends Bm{constructor(e=null,n,r){super(pA(n),gA(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Um(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=I4(e)?e.value:e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){w4(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){w4(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){I4(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};let zm=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=Z({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})(),S4=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=rn({type:t}),t.\u0275inj=Ht({}),t})();const IA=new U("NgModelWithFormControlWarning"),age={provide:xn,useExisting:Oe(()=>Ju)};let Ju=(()=>{class t extends xn{constructor(n,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new rt,this._setValidators(n),this._setAsyncValidators(r)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Gm(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){const r=this.form.get(n.path);return Wd(r,n,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),r}getControl(n){return this.form.get(n.path)}removeControl(n){jm(n.control||null,n,!1),function Xpe(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,r){this.form.get(n.path).setValue(r)}onSubmit(n){return this.submitted=!0,function v4(t,e){t._syncPendingControls(),e.forEach(n=>{const r=n.control;"submit"===r.updateOn&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(n),"dialog"===n?.target?.method}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submitted=!1}_updateDomValue(){this.directives.forEach(n=>{const r=n.control,i=this.form.get(n.path);r!==i&&(jm(r||null,n),(t=>t instanceof me)(i)&&(Wd(i,n,this.callSetDisabledState),n.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){const r=this.form.get(n.path);(function _4(t,e){mA(t,e)})(r,n),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){const r=this.form.get(n.path);r&&function Kpe(t,e){return Gm(t,e)}(r,n)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){mA(this.form,this),this._oldForm&&Gm(this._oldForm,this)}_checkFormPresent(){}}return t.\u0275fac=function(n){return new(n||t)(b(yn,10),b($o,10),b(Js,8))},t.\u0275dir=Z({type:t,selectors:[["","formGroup",""]],hostBindings:function(n,r){1&n&&mt("submit",function(o){return r.onSubmit(o)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[qe([age]),xe,cr]}),t})();const lge={provide:jo,useExisting:Oe(()=>Qd)};let Qd=(()=>{class t extends jo{set isDisabled(n){}constructor(n,r,i,o,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.name=null,this.update=new rt,this._ngModelWarningSent=!1,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function vA(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(o=>{o.constructor===Yu?n=o:function Ype(t){return Object.getPrototypeOf(t.constructor)===Ys}(o)?r=o:i=o}),i||r||n||null}(0,o)}ngOnChanges(n){this._added||this._setUpControl(),function _A(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return function $m(t,e){return[...e.path,t]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return t._ngModelWarningSentOnce=!1,t.\u0275fac=function(n){return new(n||t)(b(xn,13),b(yn,10),b($o,10),b(hi,10),b(IA,8))},t.\u0275dir=Z({type:t,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[qe([lge]),xe,cr]}),t})();const dge={provide:hi,useExisting:Oe(()=>qm),multi:!0};function N4(t,e){return null==t?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let qm=(()=>{class t extends Ys{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;const i=N4(this._getOptionId(n),n);this.setProperty("value",i)}registerOnChange(n){this.onChange=r=>{this.value=this._getOptionValue(r),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),n))return r;return null}_getOptionValue(n){const r=function hge(t){return t.split(":")[0]}(n);return this._optionMap.has(r)?this._optionMap.get(r):n}}return t.\u0275fac=function(){let e;return function(r){return(e||(e=qt(t)))(r||t)}}(),t.\u0275dir=Z({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(n,r){1&n&&mt("change",function(o){return r.onChange(o.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[qe([dge]),xe]}),t})(),k4=(()=>{class t{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(n){null!=this._select&&(this._select._optionMap.set(this.id,n),this._setElementValue(N4(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._setElementValue(n),this._select&&this._select.writeValue(this._select.value)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(n){return new(n||t)(b(Zn),b(bi),b(qm,9))},t.\u0275dir=Z({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})();const fge={provide:hi,useExisting:Oe(()=>bA),multi:!0};function P4(t,e){return null==t?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let bA=(()=>{class t extends Ys{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){let r;if(this.value=n,Array.isArray(n)){const i=n.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(n){this.onChange=r=>{const i=[],o=r.selectedOptions;if(void 0!==o){const s=o;for(let a=0;a<s.length;a++){const c=this._getOptionValue(s[a].value);i.push(c)}}else{const s=r.options;for(let a=0;a<s.length;a++){const u=s[a];if(u.selected){const c=this._getOptionValue(u.value);i.push(c)}}}this.value=i,n(i)}}_registerOption(n){const r=(this._idCounter++).toString();return this._optionMap.set(r,n),r}_getOptionId(n){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,n))return r;return null}_getOptionValue(n){const r=function pge(t){return t.split(":")[0]}(n);return this._optionMap.has(r)?this._optionMap.get(r)._value:n}}return t.\u0275fac=function(){let e;return function(r){return(e||(e=qt(t)))(r||t)}}(),t.\u0275dir=Z({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(n,r){1&n&&mt("change",function(o){return r.onChange(o.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[qe([fge]),xe]}),t})(),O4=(()=>{class t{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){null!=this._select&&(this._value=n,this._setElementValue(P4(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(P4(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(n){return new(n||t)(b(Zn),b(bi),b(bA,9))},t.\u0275dir=Z({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})();function F4(t){return"number"==typeof t?t:parseInt(t,10)}let Zs=(()=>{class t{constructor(){this._validator=km}ngOnChanges(n){if(this.inputName in n){const r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):km,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return null!=n}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=Z({type:t,features:[cr]}),t})();const wge={provide:yn,useExisting:Oe(()=>TA),multi:!0};let TA=(()=>{class t extends Zs{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=n=>F4(n),this.createValidator=n=>YH(n)}}return t.\u0275fac=function(){let e;return function(r){return(e||(e=qt(t)))(r||t)}}(),t.\u0275dir=Z({type:t,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(n,r){2&n&&qr("minlength",r._enabled?r.minlength:null)},inputs:{minlength:"minlength"},features:[qe([wge]),xe]}),t})();const Ige={provide:yn,useExisting:Oe(()=>SA),multi:!0};let SA=(()=>{class t extends Zs{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=n=>F4(n),this.createValidator=n=>XH(n)}}return t.\u0275fac=function(){let e;return function(r){return(e||(e=qt(t)))(r||t)}}(),t.\u0275dir=Z({type:t,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(n,r){2&n&&qr("maxlength",r._enabled?r.maxlength:null)},inputs:{maxlength:"maxlength"},features:[qe([Ige]),xe]}),t})(),H4=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=rn({type:t}),t.\u0275inj=Ht({imports:[S4]}),t})();class G4 extends Bm{constructor(e,n,r){super(pA(n),gA(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,r={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,n={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),n&&(this.controls.splice(i,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){g4(this,0,e),e.forEach((r,i)=>{p4(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((n,r)=>!!r._syncPendingControls()||n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,r)=>{e(n,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function z4(t){return!!t&&(void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn)}let AA=(()=>{class t{constructor(){this.useNonNullable=!1}get nonNullable(){const n=new t;return n.useNonNullable=!0,n}group(n,r=null){const i=this._reduceControls(n);let o={};return z4(r)?o=r:null!==r&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new Xs(i,o)}record(n,r=null){const i=this._reduceControls(n);return new m4(i,r)}control(n,r,i){let o={};return this.useNonNullable?(z4(r)?o=r:(o.validators=r,o.asyncValidators=i),new me(n,{...o,nonNullable:!0})):new me(n,r,i)}array(n,r,i){const o=n.map(s=>this._createControl(s));return new G4(o,r,i)}_reduceControls(n){const r={};return Object.keys(n).forEach(i=>{r[i]=this._createControl(n[i])}),r}_createControl(n){return n instanceof me||n instanceof Bm?n:Array.isArray(n)?this.control(n[0],n.length>1?n[1]:null,n.length>2?n[2]:null):this.control(n)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Dge=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:Js,useValue:n.callSetDisabledState??qd}]}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=rn({type:t}),t.\u0275inj=Ht({imports:[H4]}),t})(),bge=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:IA,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:Js,useValue:n.callSetDisabledState??qd}]}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=rn({type:t}),t.\u0275inj=Ht({imports:[H4]}),t})();const Cge=[{nombre:"INGRESO",ruta:"ingreso-datos"},{nombre:"TABLA CHANCES",ruta:"tabla-chances"},{nombre:"TABLA LOTERIAS",ruta:"tabla-loterias"}];let q4=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=Lr({type:t,selectors:[["app-header"]],decls:7,vars:0,consts:[[1,"header","w-100",2,"z-index","1000"],[1,"row"],[1,"col-md-1"],["href","/ingreso-datos"],[1,"max","max-stats-bars2","color-oro","fs-35"],[1,"col-md-10"]],template:function(n,r){1&n&&(A(0,"div",0)(1,"div",1)(2,"div",2)(3,"a",3),G(4,"i",4),M()(),G(5,"div",5)(6,"div",2),M()())},styles:[".header[_ngcontent-%COMP%]{background-color:#0006;position:fixed;padding:20px 60px}"]}),t})();function Tge(t,e){1&t&&G(0,"app-header")}function Sge(t,e){1&t&&(A(0,"div",15)(1,"small"),he(2,"Ingrese correo"),M()())}function Age(t,e){1&t&&(A(0,"div",15)(1,"small"),he(2,"Ingrese la clave"),M()())}function xge(t,e){1&t&&(A(0,"div",16)(1,"small"),he(2,"Clave o usuario incorrecto"),M()())}function Mge(t,e){if(1&t){const n=mf();A(0,"div",4),G(1,"div",5),A(2,"div",5),G(3,"div",6),A(4,"div",7)(5,"form",8),mt("submit",function(){return vh(n),wh(cn().enviar())}),A(6,"div",9),G(7,"input",10),Te(8,Sge,3,0,"div",11),M(),A(9,"div",9),G(10,"input",12),Te(11,Age,3,0,"div",11),M(),A(12,"button",13),he(13,"Ingresar"),M(),Te(14,xge,3,0,"div",14),M()(),G(15,"div",6)(16,"div",6)(17,"div",6),M(),G(18,"div",5),M()}if(2&t){const n=cn();let r,i;H(5),ve("formGroup",n.formIngreso),H(3),ve("ngIf",!(null!=(r=n.formIngreso.get("email"))&&r.valid)),H(3),ve("ngIf",!(null!=(i=n.formIngreso.get("password"))&&i.valid)),H(3),ve("ngIf",!n.errorClave)}}function Rge(t,e){if(1&t&&(A(0,"div",22)(1,"a",23)(2,"p",24),he(3),M()()()),2&t){const n=e.$implicit;H(1),wr("href",n.ruta,Wh),H(2),Si(" ",n.nombre," ")}}function Nge(t,e){if(1&t&&(A(0,"div",17),G(1,"div",6),A(2,"div",4),G(3,"div",18),A(4,"div",19)(5,"div",20),Te(6,Rge,4,2,"div",21),M(),G(7,"div",6)(8,"div",6)(9,"div",6),M(),G(10,"div",18),M()()),2&t){const n=cn();H(6),ve("ngForOf",n.menu)}}let kge=(()=>{class t{constructor(n,r){this.firestore=n,this.fb=r,this.menu=Cge,this.item$=new Ue,this.formIngreso=this.crearFormulario(),this.formGrupos=this.crearFormularioGrupos();const i=uA(this.firestore,"todos-los-grupos");this.item$=aA(i),this.mostrarLogin=!0,this.errorClave=!0}ngOnInit(){this.item$.subscribe({next:r=>{console.log(r,"HABER PUES")}}),Math.floor(9e9*Math.random())}crearFormulario(){return this.fb.group({email:["",[tn.required]],password:["",[tn.required]]})}crearFormularioGrupos(){return this.fb.group({grupos:["",[tn.required]]})}enviar(){"alexuriel.777@gmail.com"===this.formIngreso.value.email&&"Desarrollo2023$"===this.formIngreso.value.password?(this.mostrarLogin=!1,this.errorClave=!0):this.errorClave=!1}enviarGrupos(){}}return t.\u0275fac=function(n){return new(n||t)(b(Qu),b(AA))},t.\u0275cmp=Lr({type:t,selectors:[["app-home"]],decls:4,vars:3,consts:[[1,"bg-dark"],[4,"ngIf"],["class","row",4,"ngIf"],["class","p-5 bg-dark",4,"ngIf"],[1,"row"],[1,"col-md-4"],[1,"espaciado"],[1,"card","p-5","bg-dark","shadow"],[1,"f-merriweather","fs-15","lh-15",3,"formGroup","submit"],[1,"form-group"],["type","email","id","exampleInputEmail1","aria-describedby","emailHelp","formControlName","email","placeholder","Email",1,"form-control"],["class","text-danger font-italic","role","alert",4,"ngIf"],["type","password","id","exampleInputPassword1","formControlName","password","placeholder","Password",1,"form-control"],["type","submit",1,"btn","btn-primary","fondo-oro","borde-oro","w-100","shadow"],["class","color-oro font-italic","role","alert",4,"ngIf"],["role","alert",1,"text-danger","font-italic"],["role","alert",1,"color-oro","font-italic"],[1,"p-5","bg-dark"],[1,"col-md-1"],[1,"col-md-10"],[1,"row","f-shadow-into-l"],["class","col l-menu bg-dark",4,"ngFor","ngForOf"],[1,"col","l-menu","bg-dark"],[3,"href"],[1,"color-oro"]],template:function(n,r){1&n&&(A(0,"div",0),Te(1,Tge,1,0,"app-header",1),Te(2,Mge,19,4,"div",2),Te(3,Nge,11,1,"div",3),M()),2&n&&(H(1),ve("ngIf",!r.mostrarLogin),H(1),ve("ngIf",r.mostrarLogin),H(1),ve("ngIf",!r.mostrarLogin))},dependencies:[ss,Gf,q4,zm,Yu,Om,Fm,Ju,Qd]}),t})();const nn="text-light bg-dark border rounded border-warning pl-2 mt-3 f-merriweather",Pge=[{referencia:"Astro Sol",ruta:"astro-sol",premios:["|500:$14.112.000|*|600:$16.934.400|*|700:$19.756.800|*|800:$22.579.200|*|900:$25.401.600|*|1000:$28.224.000|*|1100:$31.046.400|*|1200:$33.868.800|*|1300:$36.691.200|*|1400:$39.513.600|*|1500:$42.369.600|*|1600:$45.192.000|*|1700:$48.014.400|*|1800:$50.836.800|*|1900:$53.659.200|*|2000:$56.481.600|*|2100:$59.304.000|*|2200:$59.304.000|*|2300:$64.948.800|*|2400:$67.771.200|*|2500:$70.593.600|*|2600:$73.416.000|*|2700:$76.238.400|*|2800:$79.060.800|*|2900:$81.883.200|*|3000:$84.705.600|*|3100:$87.528.000|*|3200:$90.350.400|*|3300:$93.172.800|*|3400:$95.995.200|*|3500:$98.817.600|*|3600:$101.640.000|*|3700:$104.462.400|*|"],grupos:[{campo:"fecha",tipo:"date",ancho:"80",maxlength:"",minlength:"",nombreCampo:"fecha",clase:nn},{campo:"sorteo",tipo:"text",ancho:"40",maxlength:"4",minlength:"",nombreCampo:"sorteo",clase:nn},{campo:"cifra uno",tipo:"text",ancho:"40",maxlength:"1",minlength:"",nombreCampo:"cifra_1",clase:nn},{campo:"cifra dos",tipo:"text",ancho:"40",maxlength:"1",minlength:"",nombreCampo:"cifra_2",clase:nn},{campo:"cifra tres",tipo:"text",ancho:"40",maxlength:"1",minlength:"",nombreCampo:"cifra_3",clase:nn},{campo:"cifra cuatro",tipo:"text",ancho:"40",maxlength:"1",minlength:"",nombreCampo:"cifra_4",clase:nn},{campo:"signo",tipo:"select",ancho:"",maxlength:"",minlength:"",nombreCampo:"signo",clase:nn,lista:["acuario","piscis","aries","tauro","g\xe9minis","cancer","leo","virgo","libra","escorpio","sagitario","capricornio"]}],formulario:new Xs({fecha:new me({value:"",disabled:!1},tn.required),sorteo:new me({value:"",disabled:!1},tn.required),cifra_1:new me({value:"",disabled:!1},tn.required),cifra_2:new me({value:"",disabled:!1},tn.required),cifra_3:new me({value:"",disabled:!1},tn.required),cifra_4:new me({value:"",disabled:!1},tn.required),signo:new me({value:"",disabled:!1},tn.required)}),titulos:["fecha","sorteo","numero","signo"]},{referencia:"Astro Luna",ruta:"astro-luna",premios:["|500:$14.112.000|*|600:$16.934.400|*|700:$19.756.800|*|800:$22.579.200|*|900:$25.401.600|*|1000:$28.224.000|*|1100:$31.046.400|*|1200:$33.868.800|*|1300:$36.691.200|*|1400:$39.513.600|*|1500:$42.369.600|*|1600:$45.192.000|*|1700:$48.014.400|*|1800:$50.836.800|*|1900:$53.659.200|*|2000:$56.481.600|*|2100:$59.304.000|*|2200:$59.304.000|*|2300:$64.948.800|*|2400:$67.771.200|*|2500:$70.593.600|*|2600:$73.416.000|*|2700:$76.238.400|*|2800:$79.060.800|*|2900:$81.883.200|*|3000:$84.705.600|*|3100:$87.528.000|*|3200:$90.350.400|*|3300:$93.172.800|*|3400:$95.995.200|*|3500:$98.817.600|*|3600:$101.640.000|*|3700:$104.462.400|*|"],grupos:[{campo:"fecha",tipo:"date",ancho:"80",maxlength:"",minlength:"",nombreCampo:"fecha",clase:nn},{campo:"sorteo",tipo:"text",ancho:"40",maxlength:"4",minlength:"",nombreCampo:"sorteo",clase:nn},{campo:"cifra uno",tipo:"text",ancho:"40",maxlength:"1",minlength:"",nombreCampo:"cifra_1",clase:nn},{campo:"cifra dos",tipo:"text",ancho:"40",maxlength:"1",minlength:"",nombreCampo:"cifra_2",clase:nn},{campo:"cifra tres",tipo:"text",ancho:"40",maxlength:"1",minlength:"",nombreCampo:"cifra_3",clase:nn},{campo:"cifra cuatro",tipo:"text",ancho:"40",maxlength:"1",minlength:"",nombreCampo:"cifra_4",clase:nn},{campo:"signo",tipo:"select",ancho:"",maxlength:"",minlength:"",nombreCampo:"signo",clase:nn,lista:["acuario","piscis","aries","tauro","g\xe9minis","cancer","leo","virgo","libra","escorpio","sagitario","capricornio"]}],formulario:new Xs({fecha:new me({value:"",disabled:!1},tn.required),sorteo:new me({value:"",disabled:!1},tn.required),cifra_1:new me({value:"",disabled:!1},tn.required),cifra_2:new me({value:"",disabled:!1},tn.required),cifra_3:new me({value:"",disabled:!1},tn.required),cifra_4:new me({value:"",disabled:!1},tn.required),signo:new me({value:"",disabled:!1},tn.required)}),titulos:["fecha","sorteo","numero","signo"]},{referencia:"Chontico noche",ruta:"chontico-noche",premios:[],titulos:[],grupos:[{campo:"fecha",tipo:"date",ancho:"80",maxlength:"20",minlength:"",nombreCampo:"campo1",clase:nn},{campo:"sorteo",tipo:"text",ancho:"",maxlength:"",minlength:"",nombreCampo:"campo2",clase:nn},{campo:"uno",tipo:"text",ancho:"",maxlength:"",minlength:"",nombreCampo:"campo3",clase:nn}]}];class Oge{constructor(){this.referencia="",this.ruta="",this.grupos=[],this.premios=[],this.titulos=[]}}class Fge{constructor(){this.keys=[],this.grupos=[]}}let Wm=(()=>{class t{constructor(n){this.firestore=n,this.grupo=[],this.pasoAnalisis=[]}getData(n){var r=this;return g(function*(){try{const i=uA(r.firestore,n);return aA(i).subscribe({next:o=>{console.log(o,"RESPUESTA")}})}catch(i){return console.error(i),null}})()}}return t.\u0275fac=function(n){return new(n||t)(z(Qu))},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Lge(t,e){if(1&t&&(A(0,"option",19),he(1),M()),2&t){const n=e.$implicit;wr("value",n.referencia),H(1),wn(n.referencia)}}function Vge(t,e){if(1&t){const n=mf();A(0,"div",16),G(1,"img",20),A(2,"button",11),mt("click",function(){return vh(n),wh(cn().exportable())}),G(3,"i",21),M()()}if(2&t){const n=cn();H(1),yf("src","assets/img/logos/",n.logo,"",Wh)}}function Uge(t,e){if(1&t&&G(0,"input",25),2&t){const n=cn().$implicit;iv(n.clase),wr("type",n.tipo),wr("maxlength",n.maxlength),wr("minlength",n.minlength),wr("placeholder",n.campo),wr("formControlName",n.nombreCampo)}}function Bge(t,e){if(1&t&&(A(0,"option",19),he(1),M()),2&t){const n=e.$implicit;wr("value",n),H(1),wn(n)}}function $ge(t,e){if(1&t&&(A(0,"select",26)(1,"option",27),he(2,"Seleccione"),M(),Te(3,Bge,2,2,"option",10),M()),2&t){const n=cn().$implicit;iv(n.clase),wr("formControlName",n.nombreCampo),H(3),ve("ngForOf",n.lista)}}function jge(t,e){if(1&t&&(A(0,"div",22),Te(1,Uge,1,8,"input",23),Te(2,$ge,4,5,"select",24),M()),2&t){const n=e.$implicit;H(1),ve("ngIf","text"===n.tipo||"date"===n.tipo),H(1),ve("ngIf","select"===n.tipo)}}function Hge(t,e){1&t&&(A(0,"button",28),he(1," Guardar "),M())}function Gge(t,e){if(1&t&&(A(0,"th",32)(1,"p",33),he(2),M()()),2&t){const n=e.$implicit;H(2),wn(n)}}function zge(t,e){if(1&t&&(A(0,"td"),he(1),M()),2&t){const n=e.$implicit;H(1),wn(n)}}function qge(t,e){if(1&t&&(A(0,"tr"),Te(1,zge,2,1,"td",31),M()),2&t){const n=e.$implicit,r=cn(2);H(1),ve("ngForOf",r.entregarValor(n))}}function Wge(t,e){if(1&t&&(A(0,"table",29)(1,"thead")(2,"tr"),Te(3,Gge,3,1,"th",30),M()(),A(4,"tbody"),Te(5,qge,2,1,"tr",31),M()()),2&t){const n=cn();H(3),ve("ngForOf",n.grupoSeleccionado.titulos),H(2),ve("ngForOf",n.elementosTabla.grupos)}}let Kge=(()=>{class t{constructor(n,r,i,o){this.fb=n,this.firestore=r,this.router=i,this.estadisticaService=o,this.chances=Pge,this.permitirGuardar=!1,this.formularioSeleccionado=[],this.grupoSeleccionado=new Oge,this.item$=new Ue,this.elementosTabla=new Fge,this.gruposTabla=[],this.retornoGruposTabla=[],this.form=this.crearFormulario(),this.logo=""}ngOnInit(){const n=uA(this.firestore,"todos-los-grupos");this.item$=aA(n)}seleccionarGrupo(n){let r=[];r=this.chances.filter(i=>i.referencia.includes(n.target.value)),this.logo=`${n.target.value.split(" ").join("")}.png`,this.formularioSeleccionado=r[0].grupos,this.grupoSeleccionado=r[0],this.form=r[0].formulario?r[0].formulario:this.crearFormulario(),this.permitirGuardar=!0,this.elementosTabla.grupos=[],this.recargaTabla()}recargaTabla(){this.elementosTabla.grupos=[];let n={f:this.firestore,b:"todos-los-grupos",r:this.grupoSeleccionado.referencia.toLowerCase().split(" ").join("-")};(function npe(t){t=ye(t,ft);const e=ye(t.firestore,ze);return function aH(t,e,n={}){const r=new At;return t.asyncQueue.enqueueAndForget(g(function*(){return function(i,o,s,a,u){const c=new vm({next:d=>{o.enqueueAndForget(()=>cS(i,l));const h=d.docs.has(s);!h&&d.fromCache?u.reject(new C(I.UNAVAILABLE,"Failed to get document because the client is offline.")):h&&d.fromCache&&a&&"server"===a.source?u.reject(new C(I.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(d)},error:d=>u.reject(d)}),l=new hS(bu(s.path),c,{includeMetadataChanges:!0,Ku:!0});return aS(i,l)}(yield Hu(t),t.asyncQueue,e,n,r)})),r.promise}(It(e),t._key).then(n=>nA(e,t,n))})(WS(n.f,n.b,n.r)).then(o=>{let s=o.data();this.elementosTabla.grupos=Object.assign([],this.mapearGruposTablas(Object.values(s))),this.elementosTabla.grupos=this.elementosTabla.grupos.sort((a,u)=>u.sorteo-a.sorteo),this.elementosTabla.keys=Object.keys(this.elementosTabla.grupos[0])})}mapearGruposTablas(n){let r=new Object;return n.forEach((i,o)=>{let s="",a=Object.keys(i).sort(),u=-1;a.forEach((c,l)=>{c.includes("cifra")?s+=i[c]:this.gruposTabla[++u]={[c]:i[c]}}),this.gruposTabla[u+1]={numero:s},r=Object.assign({},...this.gruposTabla),this.retornoGruposTabla[o]=r}),this.retornoGruposTabla}crearFormulario(){return this.fb.group({campo1:new me({value:"",disabled:!1}),campo2:new me({value:"",disabled:!1}),campo3:new me({value:"",disabled:!1}),campo4:new me({value:"",disabled:!1}),campo5:new me({value:"",disabled:!1}),campo6:new me({value:"",disabled:!1}),campo7:new me({value:"",disabled:!1}),campo8:new me({value:"",disabled:!1}),campo9:new me({value:"",disabled:!1}),campo10:new me({value:"",disabled:!1}),campo11:new me({value:"",disabled:!1}),campo12:new me({value:"",disabled:!1})})}guardarSorteo(){(function rpe(t,e,n){t=ye(t,ft);const r=ye(t.firestore,ze),i=function tA(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}(t.converter,e,n);return Hd(r,[YS(zu(r),"setDoc",t._key,i,null!==t.converter,n).toMutation(t._key,We.none())])})(WS(this.firestore,"todos-los-grupos",this.grupoSeleccionado.referencia.toLowerCase().split(" ").join("-")),{[Number(this.form.value.fecha.split("-").join(""))]:this.form.value},{merge:!0}).then(o=>{this.recargaTabla(),this.form.reset()})}entregarValor(n){let r=[];return Object.values(n).forEach((i,o,s)=>{r[o]=n[this.grupoSeleccionado.titulos[o]]}),r}exportable(){let n=this.grupoSeleccionado.referencia.toLowerCase().split(" ").join("-");this.estadisticaService.grupo=this.elementosTabla.grupos,this.router.navigate(["/",n])}pasoAnalisis(){this.estadisticaService.pasoAnalisis=this.elementosTabla.grupos,this.router.navigate(["/analisis"])}}return t.\u0275fac=function(n){return new(n||t)(b(AA),b(Qu),b(nr),b(Wm))},t.\u0275cmp=Lr({type:t,selectors:[["app-ingreso-datos"]],decls:33,vars:6,consts:[[1,"bg-dark"],[1,"espacio"],[1,"espaciado"],[1,"row"],[1,"col-md-1"],[1,"col-md-10"],[1,"col-md-4"],[1,"col-md-4","shadow","p-5","f-merriweather"],["name","","id","",1,"w-100",3,"change"],["value","default"],[3,"value",4,"ngFor","ngForOf"],[3,"click"],["class","text-center",4,"ngIf"],["action","",1,"shadow","p-5",3,"formGroup","submit"],[1,"row","text-center"],["class","col",4,"ngFor","ngForOf"],[1,"text-center"],["type","submit","class","mt-5 btn btn-info fondo-oro borde-oro shadow","style","width: 150px;",4,"ngIf"],["class","table table-dark shadow table-sm f-merriweather",4,"ngIf"],[3,"value"],["alt","","height","50","width","auto",1,"drop","mr-5",3,"src"],["aria-hidden","true",1,"fa","fa-share"],[1,"col"],[3,"type","maxlength","minlength","placeholder","class","formControlName",4,"ngIf"],["name","","id","",3,"formControlName","class",4,"ngIf"],[3,"type","maxlength","minlength","placeholder","formControlName"],["name","","id","",3,"formControlName"],["value","defecto"],["type","submit",1,"mt-5","btn","btn-info","fondo-oro","borde-oro","shadow",2,"width","150px"],[1,"table","table-dark","shadow","table-sm","f-merriweather"],["scope","col",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],["scope","col"],[1,"text-uppercase"]],template:function(n,r){1&n&&(A(0,"div",0),G(1,"div",1)(2,"div",2),A(3,"div",3),G(4,"div",4),A(5,"div",5)(6,"div",3),G(7,"div",6),A(8,"div",7)(9,"select",8),mt("change",function(o){return r.seleccionarGrupo(o)}),A(10,"option",9),he(11,"---"),M(),Te(12,Lge,2,2,"option",10),M()(),A(13,"div",6)(14,"button",11),mt("click",function(){return r.pasoAnalisis()}),he(15,"AN\xc1LISIS"),M()()(),G(16,"div",1),Te(17,Vge,4,1,"div",12),G(18,"div",1),A(19,"form",13),mt("submit",function(){return r.guardarSorteo()}),A(20,"div",14),Te(21,jge,3,2,"div",15),M(),A(22,"div",16),Te(23,Hge,2,0,"button",17),M()()(),G(24,"div",4),M(),G(25,"div",2),A(26,"div",3),G(27,"div",4),A(28,"div",5),Te(29,Wge,6,2,"table",18),M(),G(30,"div",4),M(),G(31,"div",2)(32,"div",2),M()),2&n&&(H(12),ve("ngForOf",r.chances),H(5),ve("ngIf",r.logo),H(2),ve("formGroup",r.form),H(2),ve("ngForOf",r.formularioSeleccionado),H(2),ve("ngIf",r.form.valid&&r.permitirGuardar),H(6),ve("ngIf",r.elementosTabla.keys))},dependencies:[ss,Gf,zm,k4,O4,Yu,qm,Om,Fm,TA,SA,Ju,Qd]}),t})();const Qge=[{titulo:"",descripcion:["El patr\xf3n que cae un d\xeda, no es muy es viable de volverse a repetir al d\xeda siguiente, o en los siguientes d\xedas."]},{titulo:"",descripcion:["Los n\xfameros que estan en favoritos vuelven a caer pero no es muy viable que sea juntos."]}];class Yge{constructor(){this.derecha=[],this.izquierda=[]}}function Xge(t,e){if(1&t&&(A(0,"div",24)(1,"p",25),he(2),M()()),2&t){const n=e.$implicit;H(2),Si(" ",n.descripcion," ")}}function Jge(t,e){if(1&t&&(A(0,"p",26),he(1),M()),2&t){const n=cn();H(1),Si("",n.paresFormados.izquierda.length," IZQUIERDA")}}function Zge(t,e){if(1&t&&(A(0,"span",27)(1,"p")(2,"span",28),he(3),M(),he(4,":"),A(5,"small",29),he(6),M()()()),2&t){const n=e.$implicit;H(3),wn(n.numero),H(3),wn(n.cantidad)}}function eme(t,e){if(1&t&&(A(0,"p",26),he(1),M()),2&t){const n=cn();H(1),Si("",n.paresFormados.derecha.length," DERECHA")}}function tme(t,e){if(1&t&&(A(0,"span",27)(1,"p")(2,"span",28),he(3),M(),he(4,":"),A(5,"small",29),he(6),M()()()),2&t){const n=e.$implicit;H(3),wn(n.numero),H(3),wn(n.cantidad)}}function nme(t,e){if(1&t&&(A(0,"p",30),he(1),M()),2&t){const n=cn();H(1),wn(n.gruposFormados.length)}}function rme(t,e){if(1&t&&(A(0,"span",7),he(1),M()),2&t){const n=e.$implicit;H(1),Si(" ",n," ")}}function ime(t,e){if(1&t&&(A(0,"span",7),he(1),M()),2&t){const n=e.$implicit;H(1),Si(" ",n," ")}}let ome=(()=>{class t{constructor(n,r){this.fb=n,this.estadisticaService=r,this.tarjetas=Qge,this.gruposFormados=[],this.paresFormados=new Yge,this.clasificacionParesIz=[],this.clasificacionParesDer=[],this.numeros=[],this.form=this.crearFormulario()}ngOnInit(){this.cargarNumeros(),this.cargarStorage()}cargarNumeros(){this.estadisticaService.pasoAnalisis.forEach(n=>{this.numeros.push(n.numero)})}crearFormulario(){return this.fb.group({col1:new me({value:"",disabled:!1}),col2:new me({value:"",disabled:!1}),col3:new me({value:"",disabled:!1}),col4:new me({value:"",disabled:!1}),col5:new me({value:"",disabled:!1})})}generarGrupos(){let n={col1:this.form.value.col1,col2:this.form.value.col2,col3:this.form.value.col3,col4:this.form.value.col4,col5:this.form.value.col5},r={grupo1:n.col1.split(","),grupo2:n.col2.split(","),grupo3:n.col3.split(","),grupo4:n.col4.split(","),grupo5:n.col5.split(",")};this.guardarStorage(n),r.grupo1.forEach(i=>{r.grupo2.forEach(o=>{r.grupo3.forEach(s=>{r.grupo4.forEach(a=>{r.grupo5.forEach(u=>{this.gruposFormados.push(`${i}${o}${s}${a}-${u}`)})})})})}),r.grupo1.forEach((i,o)=>{r.grupo2.forEach((s,a)=>{this.paresFormados.derecha.push(`${i}${s}`)})}),r.grupo2.forEach((i,o)=>{r.grupo3.forEach((s,a)=>{this.paresFormados.izquierda.push(`${i}${s}`)})}),this.clasificacionParesIz=this.clasificandoPares(this.paresFormados.izquierda).sort(this.compararPorEdad),this.clasificacionParesDer=this.clasificandoPares(this.paresFormados.derecha).sort(this.compararPorEdad)}compararPorEdad(n,r){return n.cantidad-r.cantidad}clasificandoPares(n){let r=[];return n.forEach(i=>{let o=0;this.numeros.forEach(a=>{a.toString().includes(i)&&o++}),r.push({numero:i,cantidad:o})}),r}guardarStorage(n){const r=JSON.stringify(n);localStorage.setItem("grupos",r)}cargarStorage(){const n=localStorage.getItem("grupos");if(n){const r=JSON.parse(n);this.form.patchValue(r)}}}return t.\u0275fac=function(n){return new(n||t)(b(AA),b(Wm))},t.\u0275cmp=Lr({type:t,selectors:[["app-analisis"]],decls:46,vars:9,consts:[[1,"bg-dark"],[1,"row"],[1,"col-md-1"],[1,"col-md-10"],[1,"espaciado"],[1,"f-merriweather","fs-50","text-light"],[1,"espacio"],[1,"text-light","f-merriweather"],["class","col p-2",4,"ngFor","ngForOf"],[1,"col-md-6"],["action","",3,"formGroup","submit"],[1,"col-md-2"],["formControlName","col1","type","text",1,"w-100","bg-transparent","border","rounded"],["formControlName","col2","type","text",1,"w-100","bg-transparent","border","rounded"],["formControlName","col3","type","text",1,"w-100","bg-transparent","border","rounded"],["formControlName","col4","type","text",1,"w-100","bg-transparent","border","rounded"],["formControlName","col5","type","text",1,"w-100","bg-transparent","border","rounded"],["type","submit",1,"p-1","f-merriweather","shadow"],["class","m-3 text-light fs-35",4,"ngIf"],[1,"border","p-3","row"],["class","col text-light f-merriweather",4,"ngFor","ngForOf"],[1,"border","p-3"],["class","m-3 text-light fs-30",4,"ngIf"],["class","text-light f-merriweather",4,"ngFor","ngForOf"],[1,"col","p-2"],[1,"text-light","f-merriweather","p-3","border"],[1,"m-3","text-light","fs-35"],[1,"col","text-light","f-merriweather"],[1,"fs-18"],[1,"tc-blue-two"],[1,"m-3","text-light","fs-30"]],template:function(n,r){1&n&&(A(0,"div",0),G(1,"app-header"),A(2,"div",1),G(3,"div",2),A(4,"div",3),G(5,"div",4),A(6,"h2",5),he(7," AN\xc1LISIS "),M(),G(8,"div",6),A(9,"h3",7),he(10,"CAUSAS CONSTANTES"),M(),A(11,"div",1),Te(12,Xge,3,1,"div",8),G(13,"div",9),M(),G(14,"div",6),A(15,"form",10),mt("submit",function(){return r.generarGrupos()}),A(16,"div",1)(17,"div",11),G(18,"input",12),M(),A(19,"div",11),G(20,"input",13),M(),A(21,"div",11),G(22,"input",14),M(),A(23,"div",11),G(24,"input",15),M(),A(25,"div",11),G(26,"input",16),M(),A(27,"div",11)(28,"button",17),he(29," GENERAR "),M()()()(),G(30,"div",6),A(31,"div",1)(32,"div",9),Te(33,Jge,2,1,"p",18),A(34,"div",19),Te(35,Zge,7,2,"span",20),M(),Te(36,eme,2,1,"p",18),A(37,"div",19),Te(38,tme,7,2,"span",20),M(),A(39,"div",21),Te(40,nme,2,1,"p",22),Te(41,rme,2,1,"span",23),M()(),A(42,"div",9),Te(43,ime,2,1,"span",23),M()(),G(44,"div",4),M(),G(45,"div",2),M()()),2&n&&(H(12),ve("ngForOf",r.tarjetas),H(3),ve("formGroup",r.form),H(18),ve("ngIf",r.clasificacionParesIz.length>0),H(2),ve("ngForOf",r.clasificacionParesIz.reverse()),H(1),ve("ngIf",r.clasificacionParesDer.length>0),H(2),ve("ngForOf",r.clasificacionParesDer.reverse()),H(2),ve("ngIf",r.gruposFormados.length>0),H(1),ve("ngForOf",r.gruposFormados),H(2),ve("ngForOf",r.numeros))},dependencies:[ss,Gf,q4,zm,Yu,Om,Fm,Ju,Qd]}),t})();function W4(t){switch(t){case"aries":return 1;case"tauro":return 2;case"g\xe9minis":return 3;case"cancer":return 4;case"leo":return 5;case"virgo":return 6;case"libra":return 7;case"escorpio":return 8;case"sagitario":return 9;case"capricornio":return 10;case"acuario":return 11;case"piscis":return 12;default:return 0}}function K4(t){let e=t.split("-");return e[2]+"/"+e[1]+"/"+e[0]}function ume(t,e){if(1&t&&(A(0,"tr")(1,"td"),he(2),M()()),2&t){const n=e.$implicit,r=cn();H(2),If(" ",r.cambiarFechas(n.fecha),",",r.separarNumeros(n.numero),",",r.numeroSigno(n.signo)," ")}}let cme=(()=>{class t{constructor(n){this.estadisticaService=n,this.grupos=[],this.grupos=this.estadisticaService.grupo.reverse()}ngOnInit(){}cambiarFechas(n){return K4(n)}numeroSigno(n){return W4(n)}separarNumeros(n){return n.split("").join(",")}}return t.\u0275fac=function(n){return new(n||t)(b(Wm))},t.\u0275cmp=Lr({type:t,selectors:[["app-astro-sol"]],decls:13,vars:1,consts:[[1,"bg-dark"],[1,"row"],[1,"col-md-1"],[1,"col-md-10"],[1,"table","table-dark","shadow","table-sm","f-merriweather"],["scope","col"],[1,"text-uppercase"],[4,"ngFor","ngForOf"]],template:function(n,r){1&n&&(A(0,"div",0)(1,"div",1),G(2,"div",2),A(3,"div",3)(4,"table",4)(5,"thead")(6,"tr")(7,"th",5)(8,"p",6),he(9," GRUPOS "),M()()()(),A(10,"tbody"),Te(11,ume,3,3,"tr",7),M()()(),G(12,"div",2),M()()),2&n&&(H(11),ve("ngForOf",r.grupos))},dependencies:[ss]}),t})();function lme(t,e){if(1&t&&(A(0,"tr")(1,"td"),he(2),M()()),2&t){const n=e.$implicit,r=cn();H(2),If(" ",r.cambiarFechas(n.fecha),",",r.separarNumeros(n.numero),",",r.numeroSigno(n.signo)," ")}}let dme=(()=>{class t{constructor(n){this.estadisticaService=n}cambiarFechas(n){return K4(n)}numeroSigno(n){return W4(n)}separarNumeros(n){return n.split("").join(",")}}return t.\u0275fac=function(n){return new(n||t)(b(Wm))},t.\u0275cmp=Lr({type:t,selectors:[["app-astro-luna"]],decls:13,vars:1,consts:[[1,"bg-dark"],[1,"row"],[1,"col-md-1"],[1,"col-md-10"],[1,"table","table-dark","shadow","table-sm","f-merriweather"],["scope","col"],[1,"text-uppercase"],[4,"ngFor","ngForOf"]],template:function(n,r){1&n&&(A(0,"div",0)(1,"div",1),G(2,"div",2),A(3,"div",3)(4,"table",4)(5,"thead")(6,"tr")(7,"th",5)(8,"p",6),he(9," GRUPOS "),M()()()(),A(10,"tbody"),Te(11,lme,3,3,"tr",7),M()()(),G(12,"div",2),M()()),2&n&&(H(11),ve("ngForOf",r.estadisticaService.grupo.reverse()))},dependencies:[ss]}),t})();const xA=[{id:1,nombre:"Manuela Espinal",direccion:"Carrera 76 # 91 a 22",referenciaUbicacion:"",barrio:"Robledo Kenedy",telefono:"3192323757",categoriaSector:"Lejos-medio",ciudad:"Medell\xedn",departamento:"Antioquia",maps:""},{id:2,nombre:"Ana Mar\xeda Arango",direccion:"Carrera 78 # 104 c 14",referenciaUbicacion:"",barrio:"Doce de octubre",telefono:"3126093901",categoriaSector:"Lejos-medio",ciudad:"Medell\xedn",departamento:"Antioquia",maps:""},{id:3,nombre:"Luisa Fernanda coronel",departamento:"Norte de Santander",ciudad:"Oca\xf1a",direccion:"Calle 15 10A88",referenciaUbicacion:"",telefono:"3134429501",categoriaSector:"",barrio:"",maps:""},{id:4,nombre:"Valentina Garcia",ciudad:"Envigado",departamento:"Antioquia",barrio:"Envigado",direccion:"Transversal 34 c sur # 33-15 barrio obrero",referenciaUbicacion:"Primer piso - El local se llama u\xf1as m\xe1gicas",telefono:"3008828621",categoriaSector:"Lejos-normal",maps:""}];class hme{constructor(){this.id=0,this.direccion="",this.nombre="",this.barrio="",this.telefono="",this.categoriaSector="",this.ciudad="",this.departamento="",this.maps="",this.referenciaUbicacion=""}}function fme(t,e){if(1&t){const n=mf();A(0,"div",12)(1,"div",13)(2,"div",14)(3,"b"),he(4),M(),G(5,"br"),A(6,"span",15)(7,"small"),he(8),M()()(),A(9,"div",16)(10,"h5",17),he(11),M(),A(12,"p",18),he(13),M(),A(14,"p",18),he(15),M(),A(16,"a",19),mt("click",function(){const o=vh(n).$implicit;return wh(cn().copiarAlPortapapeles(o))}),he(17,"Copiar datos"),M()()()()}if(2&t){const n=e.$implicit;H(4),wn(n.barrio),H(4),sv("",n.ciudad," - ",n.departamento,""),H(3),wn(n.nombre),H(2),wn(n.direccion),H(2),wn(n.telefono)}}const pme=[{path:"",pathMatch:"full",redirectTo:"home"},{path:"home",component:kge},{path:"ingreso-datos",component:Kge},{path:"analisis",component:ome},{path:"astro-sol",component:cme},{path:"clientes",component:(()=>{class t{constructor(){this.clientes=xA,this.clipboard=""}buscarTermino(n){let r=new hme;r=function sme(t,e,n){return t.filter(r=>r[e].toUpperCase().replace("\xc1","A").replace("\xc9","E").replace("\xcd","I").replace("\xd3","O").replace("\xda","U").replace("\xdc","U").includes(n.toUpperCase().replace("\xc1","A").replace("\xc9","E").replace("\xcd","I").replace("\xd3","O").replace("\xda","U").replace("\xdc","U")))}(xA,"nombre",n.srcElement.value),this.clientes=Object.assign([],r)}borrarBusqueda(n){setTimeout(()=>{n.srcElement.value||(this.clientes=Object.assign([],xA))},500)}copiarAlPortapapeles(n){let i=JSON.stringify(n,null,2).replace("{","");i=i.replace("}",""),function ame(t){const e=document.createElement("textarea");e.style.position="fixed",e.style.left="0",e.style.top="0",e.style.opacity="0",e.value=t,document.body.appendChild(e),e.focus(),e.select(),document.execCommand("copy"),document.body.removeChild(e)}(i)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=Lr({type:t,selectors:[["app-clientes"]],decls:18,vars:1,consts:[[1,"bg-dark"],[1,"espaciado"],[1,"row"],[1,"col-md-1"],[1,"col-md-10"],[1,"row","mb-5"],[1,"col-md-2"],[1,"col-md-8"],[1,"form-group"],["for","inp-search",1,"text-light"],["type","search","id","inp-search",1,"form-control",3,"click","keydown"],["class","col-md-4 mb-5",4,"ngFor","ngForOf"],[1,"col-md-4","mb-5"],[1,"card"],[1,"card-header"],[1,"text-uppercase","text-primary"],[1,"card-body"],[1,"card-title"],[1,"card-text"],[1,"btn","btn-primary","cursor-p",3,"click"]],template:function(n,r){1&n&&(A(0,"div",0),G(1,"div",1),A(2,"div",2),G(3,"div",3),A(4,"div",4)(5,"div",5),G(6,"div",6),A(7,"div",7)(8,"form")(9,"div",8)(10,"label",9),he(11,"Buscar"),M(),A(12,"input",10),mt("click",function(o){return r.borrarBusqueda(o)})("keydown",function(o){return r.buscarTermino(o)}),M()()()(),G(13,"div",6),M(),A(14,"div",2),Te(15,fme,18,6,"div",11),M()(),G(16,"div",3),M(),G(17,"div",1),M()),2&n&&(H(15),ve("ngForOf",r.clientes))},dependencies:[ss]}),t})()},{path:"astro-luna",component:dme}],gme_firebase={projectId:"estadistica-e5eeb",appId:"1:64729521444:web:14775deeb53cf35772e7b1",databaseURL:"https://estadistica-e5eeb.firebaseio.com",storageBucket:"estadistica-e5eeb.appspot.com",locationId:"southamerica-east1",apiKey:"AIzaSyCSZ_jjFVuKWQV-MN1y11Jns6LKLX6vtA4",authDomain:"estadistica-e5eeb.firebaseapp.com",messagingSenderId:"64729521444"};let mme=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=rn({type:t}),t.\u0275inj=Ht({imports:[qP]}),t})(),yme=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=rn({type:t,bootstrap:[vZ]}),t.\u0275inj=Ht({imports:[PY,Qw.forRoot(pme),_Z,mme,fie(()=>pie(gme_firebase)),Mpe(()=>Rpe()),Kae(()=>Qae()),Tce(()=>Sce()),Dge,bge]}),t})();NY().bootstrapModule(yme).catch(t=>console.error(t))}},Pe=>{Pe(Pe.s=168)}]);