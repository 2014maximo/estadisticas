"use strict";(self.webpackChunkestadisticas=self.webpackChunkestadisticas||[]).push([[179],{87:()=>{function Re(t){return"function"==typeof t}function Qu(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const Wd=Qu(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function Xo(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class zn{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const s of n)s.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(Re(r))try{r()}catch(s){e=s instanceof Wd?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{AA(s)}catch(o){e=e??[],o instanceof Wd?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Wd(e)}}add(e){var n;if(e&&e!==this)if(this.closed)AA(e);else{if(e instanceof zn){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Xo(n,e)}remove(e){const{_finalizers:n}=this;n&&Xo(n,e),e instanceof zn&&e._removeParent(this)}}zn.EMPTY=(()=>{const t=new zn;return t.closed=!0,t})();const TA=zn.EMPTY;function SA(t){return t instanceof zn||t&&"closed"in t&&Re(t.remove)&&Re(t.add)&&Re(t.unsubscribe)}function AA(t){Re(t)?t():t.unsubscribe()}const Bs={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Kd={setTimeout(t,e,...n){const{delegate:r}=Kd;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=Kd;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function MA(t){Kd.setTimeout(()=>{const{onUnhandledError:e}=Bs;if(!e)throw t;e(t)})}function xA(){}const q4=Um("C",void 0,void 0);function Um(t,e,n){return{kind:t,value:e,error:n}}let $s=null;function Qd(t){if(Bs.useDeprecatedSynchronousErrorHandling){const e=!$s;if(e&&($s={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=$s;if($s=null,n)throw r}}else t()}class Bm extends zn{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,SA(e)&&e.add(this)):this.destination=Z4}static create(e,n,r){return new Yu(e,n,r)}next(e){this.isStopped?jm(function K4(t){return Um("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?jm(function W4(t){return Um("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?jm(q4,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Y4=Function.prototype.bind;function $m(t,e){return Y4.call(t,e)}class X4{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Yd(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Yd(r)}else Yd(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Yd(n)}}}class Yu extends Bm{constructor(e,n,r){let i;if(super(),Re(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&Bs.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&$m(e.next,s),error:e.error&&$m(e.error,s),complete:e.complete&&$m(e.complete,s)}):i=e}this.destination=new X4(i)}}function Yd(t){Bs.useDeprecatedSynchronousErrorHandling?function Q4(t){Bs.useDeprecatedSynchronousErrorHandling&&$s&&($s.errorThrown=!0,$s.error=t)}(t):MA(t)}function jm(t,e){const{onStoppedNotification:n}=Bs;n&&Kd.setTimeout(()=>n(t,e))}const Z4={closed:!0,next:xA,error:function J4(t){throw t},complete:xA},Hm="function"==typeof Symbol&&Symbol.observable||"@@observable";function js(t){return t}function RA(t){return 0===t.length?js:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}let Fe=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const s=function nG(t){return t&&t instanceof Bm||function tG(t){return t&&Re(t.next)&&Re(t.error)&&Re(t.complete)}(t)&&SA(t)}(n)?n:new Yu(n,r,i);return Qd(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=NA(r))((i,s)=>{const o=new Yu({next:a=>{try{n(a)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[Hm](){return this}pipe(...n){return RA(n)(this)}toPromise(n){return new(n=NA(n))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function NA(t){var e;return null!==(e=t??Bs.Promise)&&void 0!==e?e:Promise}const rG=Qu(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let hi=(()=>{class t extends Fe{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new kA(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new rG}next(n){Qd(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){Qd(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Qd(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:s}=this;return r||i?TA:(this.currentObservers=null,s.push(n),new zn(()=>{this.currentObservers=null,Xo(s,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){const n=new Fe;return n.source=this,n}}return t.create=(e,n)=>new kA(e,n),t})();class kA extends hi{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:TA}}function PA(t){return Re(t?.lift)}function Bt(t){return e=>{if(PA(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Mt(t,e,n,r,i){return new iG(t,e,n,r,i)}class iG extends Bm{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function be(t,e){return Bt((n,r)=>{let i=0;n.subscribe(Mt(r,s=>{r.next(t.call(e,s,i++))}))})}function qm(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function Yi(t){return this instanceof Yi?(this.v=t,this):new Yi(t)}function VA(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function Km(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,u){!function i(s,o,a,u){Promise.resolve(u).then(function(c){s({value:c,done:a})},o)}(a,u,(o=t[s](o)).done,o.value)})}}}const UA=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function BA(t){return Re(t?.then)}function $A(t){return Re(t[Hm])}function jA(t){return Symbol.asyncIterator&&Re(t?.[Symbol.asyncIterator])}function HA(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const GA=function EG(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function zA(t){return Re(t?.[GA])}function qA(t){return function LA(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(p,m){s.push([h,f,p,m])>1||a(h,f)})})}function a(h,f){try{!function u(h){h.value instanceof Yi?Promise.resolve(h.value.v).then(c,l):d(s[0][2],h)}(r[h](f))}catch(p){d(s[0][3],p)}}function c(h){a("next",h)}function l(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield Yi(n.read());if(i)return yield Yi(void 0);yield yield Yi(r)}}finally{n.releaseLock()}})}function WA(t){return Re(t?.getReader)}function sr(t){if(t instanceof Fe)return t;if(null!=t){if($A(t))return function DG(t){return new Fe(e=>{const n=t[Hm]();if(Re(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(UA(t))return function bG(t){return new Fe(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(BA(t))return function CG(t){return new Fe(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,MA)})}(t);if(jA(t))return KA(t);if(zA(t))return function TG(t){return new Fe(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(WA(t))return function SG(t){return KA(qA(t))}(t)}throw HA(t)}function KA(t){return new Fe(e=>{(function AG(t,e){var n,r,i,s;return function OA(t,e,n,r){return new(n||(n=Promise))(function(s,o){function a(l){try{c(r.next(l))}catch(d){o(d)}}function u(l){try{c(r.throw(l))}catch(d){o(d)}}function c(l){l.done?s(l.value):function i(s){return s instanceof n?s:new n(function(o){o(s)})}(l.value).then(a,u)}c((r=r.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=VA(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function fi(t,e,n,r=0,i=!1){const s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function $t(t,e,n=1/0){return Re(e)?$t((r,i)=>be((s,o)=>e(r,s,i,o))(sr(t(r,i))),n):("number"==typeof e&&(n=e),Bt((r,i)=>function MG(t,e,n,r,i,s,o,a){const u=[];let c=0,l=0,d=!1;const h=()=>{d&&!u.length&&!c&&e.complete()},f=m=>c<r?p(m):u.push(m),p=m=>{s&&e.next(m),c++;let y=!1;sr(n(m,l++)).subscribe(Mt(e,v=>{i?.(v),s?f(v):e.next(v)},()=>{y=!0},void 0,()=>{if(y)try{for(c--;u.length&&c<r;){const v=u.shift();o?fi(e,o,()=>p(v)):p(v)}h()}catch(v){e.error(v)}}))};return t.subscribe(Mt(e,f,()=>{d=!0,h()})),()=>{a?.()}}(r,i,t,n)))}function Jo(t=1/0){return $t(js,t)}const Pr=new Fe(t=>t.complete());function Qm(t){return t[t.length-1]}function QA(t){return Re(Qm(t))?t.pop():void 0}function Xu(t){return function RG(t){return t&&Re(t.schedule)}(Qm(t))?t.pop():void 0}function Xd(t,e=0){return Bt((n,r)=>{n.subscribe(Mt(r,i=>fi(r,t,()=>r.next(i),e),()=>fi(r,t,()=>r.complete(),e),i=>fi(r,t,()=>r.error(i),e)))})}function Jd(t,e=0){return Bt((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function YA(t,e){if(!t)throw new Error("Iterable cannot be null");return new Fe(n=>{fi(n,e,()=>{const r=t[Symbol.asyncIterator]();fi(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function xt(t,e){return e?function VG(t,e){if(null!=t){if($A(t))return function kG(t,e){return sr(t).pipe(Jd(e),Xd(e))}(t,e);if(UA(t))return function OG(t,e){return new Fe(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(BA(t))return function PG(t,e){return sr(t).pipe(Jd(e),Xd(e))}(t,e);if(jA(t))return YA(t,e);if(zA(t))return function FG(t,e){return new Fe(n=>{let r;return fi(n,e,()=>{r=t[GA](),fi(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void n.error(o)}s?n.complete():n.next(i)},0,!0)}),()=>Re(r?.return)&&r.return()})}(t,e);if(WA(t))return function LG(t,e){return YA(qA(t),e)}(t,e)}throw HA(t)}(t,e):sr(t)}function Ym(t,e,...n){if(!0===e)return void t();if(!1===e)return;const r=new Yu({next:()=>{r.unsubscribe(),t()}});return sr(e(...n)).subscribe(r)}function Ce(t){for(let e in t)if(t[e]===Ce)return e;throw Error("Could not find renamed property on target object.")}function Xm(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function wt(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(wt).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function Jm(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const $G=Ce({__forward_ref__:Ce});function Ne(t){return t.__forward_ref__=Ne,t.toString=function(){return wt(this())},t}function Z(t){return Zm(t)?t():t}function Zm(t){return"function"==typeof t&&t.hasOwnProperty($G)&&t.__forward_ref__===Ne}function ey(t){return t&&!!t.\u0275providers}const XA="https://g.co/ng/security#xss";class T extends Error{constructor(e,n){super(function Zd(t,e){return`NG0${Math.abs(t)}${e?": "+e:""}`}(e,n)),this.code=e}}function te(t){return"string"==typeof t?t:null==t?"":String(t)}function eh(t,e){throw new T(-201,!1)}function or(t,e){null==t&&function Ee(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function j(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function jt(t){return{providers:t.providers||[],imports:t.imports||[]}}function th(t){return JA(t,nh)||JA(t,eM)}function JA(t,e){return t.hasOwnProperty(e)?t[e]:null}function ZA(t){return t&&(t.hasOwnProperty(ty)||t.hasOwnProperty(QG))?t[ty]:null}const nh=Ce({\u0275prov:Ce}),ty=Ce({\u0275inj:Ce}),eM=Ce({ngInjectableDef:Ce}),QG=Ce({ngInjectorDef:Ce});var H=(()=>((H=H||{})[H.Default=0]="Default",H[H.Host=1]="Host",H[H.Self=2]="Self",H[H.SkipSelf=4]="SkipSelf",H[H.Optional=8]="Optional",H))();let ny;function Mn(t){const e=ny;return ny=t,e}function nM(t,e,n){const r=th(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&H.Optional?null:void 0!==e?e:void eh(wt(t))}const ke=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Ju={},ry="__NG_DI_FLAG__",rh="ngTempTokenPath",XG=/\n/gm,rM="__source";let Zo;function Ji(t){const e=Zo;return Zo=t,e}function ez(t,e=H.Default){if(void 0===Zo)throw new T(-203,!1);return null===Zo?nM(t,void 0,e):Zo.get(t,e&H.Optional?null:void 0,e)}function $(t,e=H.Default){return(function tM(){return ny}()||ez)(Z(t),e)}function V(t,e=H.Default){return $(t,ih(e))}function ih(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function iy(t){const e=[];for(let n=0;n<t.length;n++){const r=Z(t[n]);if(Array.isArray(r)){if(0===r.length)throw new T(900,!1);let i,s=H.Default;for(let o=0;o<r.length;o++){const a=r[o],u=tz(a);"number"==typeof u?-1===u?i=a.token:s|=u:i=a}e.push($(i,s))}else e.push($(r))}return e}function Zu(t,e){return t[ry]=e,t.prototype[ry]=e,t}function tz(t){return t[ry]}function pi(t){return{toString:t}.toString()}var Or=(()=>((Or=Or||{})[Or.OnPush=0]="OnPush",Or[Or.Default=1]="Default",Or))(),Wn=(()=>{return(t=Wn||(Wn={}))[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",Wn;var t})();const gi={},_e=[],sh=Ce({\u0275cmp:Ce}),sy=Ce({\u0275dir:Ce}),oy=Ce({\u0275pipe:Ce}),sM=Ce({\u0275mod:Ce}),mi=Ce({\u0275fac:Ce}),ec=Ce({__NG_ELEMENT_ID__:Ce}),oM=Ce({__NG_ENV_ID__:Ce});function aM(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function ay(t,e,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{const s=i,o=n[++r];cM(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function uM(t){return 3===t||4===t||6===t}function cM(t){return 64===t.charCodeAt(0)}function tc(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||lM(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function lM(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const a=t[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<t.length;){const a=t[s];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}const dM="ng-template";function iz(t,e,n){let r=0,i=!0;for(;r<t.length;){let s=t[r++];if("string"==typeof s&&i){const o=t[r++];if(n&&"class"===s&&-1!==aM(o.toLowerCase(),e,0))return!0}else{if(1===s){for(;r<t.length&&"string"==typeof(s=t[r++]);)if(s.toLowerCase()===e)return!0;return!1}"number"==typeof s&&(i=!1)}}return!1}function hM(t){return 4===t.type&&t.value!==dM}function sz(t,e,n){return e===(4!==t.type||n?t.value:dM)}function oz(t,e,n){let r=4;const i=t.attrs||[],s=function cz(t){for(let e=0;e<t.length;e++)if(uM(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!sz(t,u,n)||""===u&&1===e.length){if(gr(r))return!1;o=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!iz(t.attrs,c,n)){if(gr(r))return!1;o=!0}continue}const d=az(8&r?"class":u,i,hM(t),n);if(-1===d){if(gr(r))return!1;o=!0;continue}if(""!==c){let h;h=d>s?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==aM(f,c,0)||2&r&&c!==h){if(gr(r))return!1;o=!0}}}}else{if(!o&&!gr(r)&&!gr(u))return!1;if(o&&gr(u))continue;o=!1,r=u|1&r}}return gr(r)||o}function gr(t){return 0==(1&t)}function az(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){const o=e[i];if(o===t)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function lz(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function fM(t,e,n=!1){for(let r=0;r<e.length;r++)if(oz(t,e[r],n))return!0;return!1}function pM(t,e){return t?":not("+e.trim()+")":e}function hz(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!gr(o)&&(e+=pM(s,i),i=""),r=o,s=s||!gr(r);n++}return""!==i&&(e+=pM(s,i)),e}function Zi(t){return pi(()=>{const e=mM(t),n={...e,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Or.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,data:t.data||{},encapsulation:t.encapsulation||Wn.Emulated,styles:t.styles||_e,_:null,schemas:t.schemas||null,tView:null,id:""};yM(n);const r=t.dependencies;return n.directiveDefs=oh(r,!1),n.pipeDefs=oh(r,!0),n.id=function wz(t){let e=0;const n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(n),n})}function mz(t){return ve(t)||rn(t)}function yz(t){return null!==t}function nn(t){return pi(()=>({type:t.type,bootstrap:t.bootstrap||_e,declarations:t.declarations||_e,imports:t.imports||_e,exports:t.exports||_e,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function gM(t,e){if(null==t)return gi;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}function X(t){return pi(()=>{const e=mM(t);return yM(e),e})}function ve(t){return t[sh]||null}function rn(t){return t[sy]||null}function Rn(t){return t[oy]||null}function Kn(t,e){const n=t[sM]||null;if(!n&&!0===e)throw new Error(`Type ${wt(t)} does not have '\u0275mod' property.`);return n}function mM(t){const e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,exportAs:t.exportAs||null,standalone:!0===t.standalone,selectors:t.selectors||_e,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:gM(t.inputs,e),outputs:gM(t.outputs)}}function yM(t){t.features?.forEach(e=>e(t))}function oh(t,e){if(!t)return null;const n=e?Rn:mz;return()=>("function"==typeof t?t():t).map(r=>n(r)).filter(yz)}const It=0,k=1,oe=2,qe=3,mr=4,Hs=5,sn=6,ta=7,Ze=8,na=9,Gs=10,ie=11,nc=12,_M=13,ra=14,ht=15,rc=16,ia=17,Fr=18,ic=19,vM=20,es=21,yi=22,ah=23,uh=24,he=25,uy=1,wM=2,Lr=7,ch=8,sa=9,Ht=11;function Qn(t){return Array.isArray(t)&&"object"==typeof t[uy]}function Nn(t){return Array.isArray(t)&&!0===t[uy]}function cy(t){return 0!=(4&t.flags)}function zs(t){return t.componentOffset>-1}function lh(t){return 1==(1&t.flags)}function yr(t){return!!t.template}function ly(t){return 0!=(512&t[oe])}function qs(t,e){return t.hasOwnProperty(mi)?t[mi]:null}let Cz=ke.WeakRef??class bz{constructor(e){this.ref=e}deref(){return this.ref}},Sz=0,Vr=null,dh=!1;function Rt(t){const e=Vr;return Vr=t,e}class CM{constructor(){this.id=Sz++,this.ref=function Tz(t){return new Cz(t)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[e,n]of this.producers){const r=n.producerNode.deref();if(void 0!==r&&n.atTrackingVersion===this.trackingVersion){if(r.producerPollStatus(n.seenValueVersion))return!0}else this.producers.delete(e),r?.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const e=dh;dh=!0;try{for(const[n,r]of this.consumers){const i=r.consumerNode.deref();void 0!==i&&i.trackingVersion===r.atTrackingVersion?i.onConsumerDependencyMayHaveChanged():(this.consumers.delete(n),i?.producers.delete(this.id))}}finally{dh=e}}producerAccessed(){if(dh)throw new Error("");if(null===Vr)return;let e=Vr.producers.get(this.id);void 0===e?(e={consumerNode:Vr.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:Vr.trackingVersion},Vr.producers.set(this.id,e),this.consumers.set(Vr.id,e)):(e.seenValueVersion=this.valueVersion,e.atTrackingVersion=Vr.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){return!1!==Vr?.consumerAllowSignalWrites}producerPollStatus(e){return this.valueVersion!==e||(this.onProducerUpdateValueVersion(),this.valueVersion!==e)}}let TM=null;const SM=()=>{};class Rz extends CM{constructor(e,n,r){super(),this.watch=e,this.schedule=n,this.dirty=!1,this.cleanupFn=SM,this.registerOnCleanup=i=>{this.cleanupFn=i},this.consumerAllowSignalWrites=r}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const e=Rt(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=SM,this.watch(this.registerOnCleanup)}finally{Rt(e)}}cleanup(){this.cleanupFn()}}class Nz{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function ar(){return AM}function AM(t){return t.type.prototype.ngOnChanges&&(t.setInput=Pz),kz}function kz(){const t=xM(this),e=t?.current;if(e){const n=t.previous;if(n===gi)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function Pz(t,e,n,r){const i=this.declaredInputs[n],s=xM(t)||function Oz(t,e){return t[MM]=e}(t,{previous:gi,current:null}),o=s.current||(s.current={}),a=s.previous,u=a[i];o[i]=new Nz(u&&u.currentValue,e,a===gi),t[r]=e}ar.ngInherit=!0;const MM="__ngSimpleChanges__";function xM(t){return t[MM]||null}const Ur=function(t,e,n){};function Le(t){for(;Array.isArray(t);)t=t[It];return t}function ph(t,e){return Le(e[t])}function kn(t,e){return Le(e[t.index])}function kM(t,e){return t.data[e]}function Pn(t,e){const n=e[t];return Qn(n)?n:n[It]}function gh(t){return 128==(128&t[oe])}function ts(t,e){return null==e?null:t[e]}function PM(t){t[ia]=0}function $z(t){1024&t[oe]||(t[oe]|=1024,FM(t,1))}function OM(t){1024&t[oe]&&(t[oe]&=-1025,FM(t,-1))}function FM(t,e){let n=t[qe];if(null===n)return;n[Hs]+=e;let r=n;for(n=n[qe];null!==n&&(1===e&&1===r[Hs]||-1===e&&0===r[Hs]);)n[Hs]+=e,r=n,n=n[qe]}const Q={lFrame:WM(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function UM(){return Q.bindingsEnabled}function D(){return Q.lFrame.lView}function ge(){return Q.lFrame.tView}function my(t){return Q.lFrame.contextLView=t,t[Ze]}function yy(t){return Q.lFrame.contextLView=null,t}function Gt(){let t=BM();for(;null!==t&&64===t.type;)t=t.parent;return t}function BM(){return Q.lFrame.currentTNode}function Br(t,e){const n=Q.lFrame;n.currentTNode=t,n.isParent=e}function _y(){return Q.lFrame.isParent}function ua(){return Q.lFrame.bindingIndex++}function vi(t){const e=Q.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function Zz(t,e){const n=Q.lFrame;n.bindingIndex=n.bindingRootIndex=t,wy(e)}function wy(t){Q.lFrame.currentDirectiveIndex=t}function Ey(t){Q.lFrame.currentQueryIndex=t}function t3(t){const e=t[k];return 2===e.type?e.declTNode:1===e.type?t[sn]:null}function zM(t,e,n){if(n&H.SkipSelf){let i=e,s=t;for(;!(i=i.parent,null!==i||n&H.Host||(i=t3(s),null===i||(s=s[ra],10&i.type))););if(null===i)return!1;e=i,t=s}const r=Q.lFrame=qM();return r.currentTNode=e,r.lView=t,!0}function Dy(t){const e=qM(),n=t[k];Q.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function qM(){const t=Q.lFrame,e=null===t?null:t.child;return null===e?WM(t):e}function WM(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function KM(){const t=Q.lFrame;return Q.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const QM=KM;function by(){const t=KM();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function _n(){return Q.lFrame.selectedIndex}function Ws(t){Q.lFrame.selectedIndex=t}function We(){const t=Q.lFrame;return kM(t.tView,t.selectedIndex)}let XM=!0;function mh(){return XM}function ns(t){XM=t}function yh(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:c,ngOnDestroy:l}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),c&&((t.viewHooks??=[]).push(n,c),(t.viewCheckHooks??=[]).push(n,c)),null!=l&&(t.destroyHooks??=[]).push(n,l)}}function _h(t,e,n){JM(t,e,3,n)}function vh(t,e,n,r){(3&t[oe])===n&&JM(t,e,n,r)}function Cy(t,e){let n=t[oe];(3&n)===e&&(n&=4095,n+=1,t[oe]=n)}function JM(t,e,n,r){const s=r??-1,o=e.length-1;let a=0;for(let u=void 0!==r?65535&t[ia]:0;u<o;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(t[ia]+=65536),(a<s||-1==s)&&(c3(t,n,e,u),t[ia]=(4294901760&t[ia])+u+2),u++}function ZM(t,e){Ur(4,t,e);const n=Rt(null);try{e.call(t)}finally{Rt(n),Ur(5,t,e)}}function c3(t,e,n,r){const i=n[r]<0,s=n[r+1],a=t[i?-n[r]:n[r]];i?t[oe]>>12<t[ia]>>16&&(3&t[oe])===e&&(t[oe]+=4096,ZM(a,s)):ZM(a,s)}const ca=-1;class ac{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function ex(t){return t!==ca}function wh(t){return 32767&t}function Ih(t,e){let n=function f3(t){return t>>16}(t),r=e;for(;n>0;)r=r[ra],n--;return r}let Sy=!0;function Eh(t){const e=Sy;return Sy=t,e}const tx=255,nx=5;let p3=0;const $r={};function Dh(t,e){const n=rx(t,e);if(-1!==n)return n;const r=e[k];r.firstCreatePass&&(t.injectorIndex=e.length,Ay(r.data,t),Ay(e,null),Ay(r.blueprint,null));const i=My(t,e),s=t.injectorIndex;if(ex(i)){const o=wh(i),a=Ih(i,e),u=a[k].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|u[o+c]}return e[s+8]=i,s}function Ay(t,e){t.push(0,0,0,0,0,0,0,0,e)}function rx(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function My(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){if(r=lx(i),null===r)return ca;if(n++,i=i[ra],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return ca}function xy(t,e,n){!function g3(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(ec)&&(r=n[ec]),null==r&&(r=n[ec]=p3++);const i=r&tx;e.data[t+(i>>nx)]|=1<<i}(t,e,n)}function ix(t,e,n){if(n&H.Optional||void 0!==t)return t;eh()}function sx(t,e,n,r){if(n&H.Optional&&void 0===r&&(r=null),!(n&(H.Self|H.Host))){const i=t[na],s=Mn(void 0);try{return i?i.get(e,r,n&H.Optional):nM(e,r,n&H.Optional)}finally{Mn(s)}}return ix(r,0,n)}function ox(t,e,n,r=H.Default,i){if(null!==t){if(2048&e[oe]&&!(r&H.Self)){const o=function w3(t,e,n,r,i){let s=t,o=e;for(;null!==s&&null!==o&&2048&o[oe]&&!(512&o[oe]);){const a=ax(s,o,n,r|H.Self,$r);if(a!==$r)return a;let u=s.parent;if(!u){const c=o[vM];if(c){const l=c.get(n,$r,r);if(l!==$r)return l}u=lx(o),o=o[ra]}s=u}return i}(t,e,n,r,$r);if(o!==$r)return o}const s=ax(t,e,n,r,$r);if(s!==$r)return s}return sx(e,n,r,i)}function ax(t,e,n,r,i){const s=function _3(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(ec)?t[ec]:void 0;return"number"==typeof e?e>=0?e&tx:v3:e}(n);if("function"==typeof s){if(!zM(e,t,r))return r&H.Host?ix(i,0,r):sx(e,n,r,i);try{const o=s(r);if(null!=o||r&H.Optional)return o;eh()}finally{QM()}}else if("number"==typeof s){let o=null,a=rx(t,e),u=ca,c=r&H.Host?e[ht][sn]:null;for((-1===a||r&H.SkipSelf)&&(u=-1===a?My(t,e):e[a+8],u!==ca&&cx(r,!1)?(o=e[k],a=wh(u),e=Ih(u,e)):a=-1);-1!==a;){const l=e[k];if(ux(s,a,l.data)){const d=y3(a,e,n,o,r,c);if(d!==$r)return d}u=e[a+8],u!==ca&&cx(r,e[k].data[a+8]===c)&&ux(s,a,e)?(o=l,a=wh(u),e=Ih(u,e)):a=-1}}return i}function y3(t,e,n,r,i,s){const o=e[k],a=o.data[t+8],l=function bh(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,u=t.directiveStart,l=s>>20,h=i?a+l:t.directiveEnd;for(let f=r?a:a+l;f<h;f++){const p=o[f];if(f<u&&n===p||f>=u&&p.type===n)return f}if(i){const f=o[u];if(f&&yr(f)&&f.type===n)return u}return null}(a,o,n,null==r?zs(a)&&Sy:r!=o&&0!=(3&a.type),i&H.Host&&s===a);return null!==l?Ks(e,o,l,a):$r}function Ks(t,e,n,r){let i=t[n];const s=e.data;if(function l3(t){return t instanceof ac}(i)){const o=i;o.resolving&&function jG(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new T(-200,`Circular dependency in DI detected for ${t}${n}`)}(function Ie(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():te(t)}(s[n]));const a=Eh(o.canSeeViewProviders);o.resolving=!0;const u=o.injectImpl?Mn(o.injectImpl):null;zM(t,r,H.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function u3(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=AM(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}(n,s[n],e)}finally{null!==u&&Mn(u),Eh(a),o.resolving=!1,QM()}}return i}function ux(t,e,n){return!!(n[e+(t>>nx)]&1<<t)}function cx(t,e){return!(t&H.Self||t&H.Host&&e)}class la{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return ox(this._tNode,this._lView,e,ih(r),n)}}function v3(){return new la(Gt(),D())}function zt(t){return pi(()=>{const e=t.prototype.constructor,n=e[mi]||Ry(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const s=i[mi]||Ry(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function Ry(t){return Zm(t)?()=>{const e=Ry(Z(t));return e&&e()}:qs(t)}function lx(t){const e=t[k],n=e.type;return 2===n?e.declTNode:1===n?t[sn]:null}const ha="__parameters__";function pa(t,e,n){return pi(()=>{const r=function Ny(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(u,c,l){const d=u.hasOwnProperty(ha)?u[ha]:Object.defineProperty(u,ha,{value:[]})[ha];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(o),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function lc(t,e){t.forEach(n=>Array.isArray(n)?lc(n,e):e(n))}function hx(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Th(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Yn(t,e,n){let r=ga(t,e);return r>=0?t[1|r]=n:(r=~r,function C3(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function ky(t,e){const n=ga(t,e);if(n>=0)return t[1|n]}function ga(t,e){return function fx(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){const s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}(t,e,1)}const Dt=Zu(pa("Optional"),8),Ah=Zu(pa("SkipSelf"),4);function Nh(t){return 128==(128&t.flags)}var On=(()=>((On=On||{})[On.Important=1]="Important",On[On.DashCase=2]="DashCase",On))();const Uy=new Map;let Q3=0;const $y="__ngContext__";function on(t,e){Qn(e)?(t[$y]=e[ic],function X3(t){Uy.set(t[ic],t)}(e)):t[$y]=e}let jy;function Hy(t,e){return jy(t,e)}function pc(t){const e=t[qe];return Nn(e)?e[qe]:e}function Gy(t){return Nx(t[nc])}function zy(t){return Nx(t[mr])}function Nx(t){for(;null!==t&&!Nn(t);)t=t[mr];return t}function _a(t,e,n,r,i){if(null!=r){let s,o=!1;Nn(r)?s=r:Qn(r)&&(o=!0,r=r[It]);const a=Le(r);0===t&&null!==n?null==i?Lx(e,n,a):Qs(e,n,a,i||null,!0):1===t&&null!==n?Qs(e,n,a,i||null,!0):2===t?function Vh(t,e,n){const r=Fh(t,e);r&&function mq(t,e,n,r){t.removeChild(e,n,r)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function vq(t,e,n,r,i){const s=n[Lr];s!==Le(n)&&_a(e,t,r,s,i);for(let a=Ht;a<n.length;a++){const u=n[a];mc(u[k],u,t,e,r,s)}}(e,t,s,n,i)}}function Oh(t,e,n){return t.createElement(e,n)}function Px(t,e){const n=t[sa],r=n.indexOf(e);OM(e),n.splice(r,1)}function Wy(t,e){if(t.length<=Ht)return;const n=Ht+e,r=t[n];if(r){const i=r[rc];null!==i&&i!==t&&Px(i,r),e>0&&(t[n-1][mr]=r[mr]);const s=Th(t,Ht+e);!function uq(t,e){mc(t,e,e[ie],2,null,null),e[It]=null,e[sn]=null}(r[k],r);const o=s[Fr];null!==o&&o.detachView(s[k]),r[qe]=null,r[mr]=null,r[oe]&=-129}return r}function Ox(t,e){if(!(256&e[oe])){const n=e[ie];e[ah]?.destroy(),e[uh]?.destroy(),n.destroyNode&&mc(t,e,n,3,null,null),function dq(t){let e=t[nc];if(!e)return Ky(t[k],t);for(;e;){let n=null;if(Qn(e))n=e[nc];else{const r=e[Ht];r&&(n=r)}if(!n){for(;e&&!e[mr]&&e!==t;)Qn(e)&&Ky(e[k],e),e=e[qe];null===e&&(e=t),Qn(e)&&Ky(e[k],e),n=e&&e[mr]}e=n}}(e)}}function Ky(t,e){if(!(256&e[oe])){e[oe]&=-129,e[oe]|=256,function gq(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof ac)){const s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],u=s[o+1];Ur(4,a,u);try{u.call(a)}finally{Ur(5,a,u)}}else{Ur(4,i,s);try{s.call(i)}finally{Ur(5,i,s)}}}}}(t,e),function pq(t,e){const n=t.cleanup,r=e[ta];if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else n[s].call(r[n[s+1]]);null!==r&&(e[ta]=null);const i=e[es];if(null!==i){e[es]=null;for(let s=0;s<i.length;s++)(0,i[s])()}}(t,e),1===e[k].type&&e[ie].destroy();const n=e[rc];if(null!==n&&Nn(e[qe])){n!==e[qe]&&Px(n,e);const r=e[Fr];null!==r&&r.detachView(t)}!function J3(t){Uy.delete(t[ic])}(e)}}function Qy(t,e,n){return function Fx(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[It];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=t.data[r.directiveStart+i];if(s===Wn.None||s===Wn.Emulated)return null}return kn(r,n)}}(t,e.parent,n)}function Qs(t,e,n,r,i){t.insertBefore(e,n,r,i)}function Lx(t,e,n){t.appendChild(e,n)}function Vx(t,e,n,r,i){null!==r?Qs(t,e,n,r,i):Lx(t,e,n)}function Fh(t,e){return t.parentNode(e)}let Yy,e_,$x=function Bx(t,e,n){return 40&t.type?kn(t,n):null};function Lh(t,e,n,r){const i=Qy(t,r,e),s=e[ie],a=function Ux(t,e,n){return $x(t,e,n)}(r.parent||e[sn],r,e);if(null!=i)if(Array.isArray(n))for(let u=0;u<n.length;u++)Vx(s,i,n[u],a,!1);else Vx(s,i,n,a,!1);void 0!==Yy&&Yy(s,r,e,n,i)}function gc(t,e){if(null!==e){const n=e.type;if(3&n)return kn(e,t);if(4&n)return Xy(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return gc(t,r);{const i=t[e.index];return Nn(i)?Xy(-1,i):Le(i)}}if(32&n)return Hy(e,t)()||Le(t[e.index]);{const r=Hx(t,e);return null!==r?Array.isArray(r)?r[0]:gc(pc(t[ht]),r):gc(t,e.next)}}return null}function Hx(t,e){return null!==e?t[ht][sn].projection[e.projection]:null}function Xy(t,e){const n=Ht+t+1;if(n<e.length){const r=e[n],i=r[k].firstChild;if(null!==i)return gc(r,i)}return e[Lr]}function Jy(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],u=n.type;if(o&&0===e&&(a&&on(Le(a),r),n.flags|=2),32!=(32&n.flags))if(8&u)Jy(t,e,n.child,r,i,s,!1),_a(e,t,i,a,s);else if(32&u){const c=Hy(n,r);let l;for(;l=c();)_a(e,t,i,l,s);_a(e,t,i,a,s)}else 16&u?zx(t,e,r,n,i,s):_a(e,t,i,a,s);n=o?n.projectionNext:n.next}}function mc(t,e,n,r,i,s){Jy(n,r,t.firstChild,e,i,s,!1)}function zx(t,e,n,r,i,s){const o=n[ht],u=o[sn].projection[r.projection];if(Array.isArray(u))for(let c=0;c<u.length;c++)_a(e,t,i,u[c],s);else{let c=u;const l=o[qe];Nh(r)&&(c.flags|=128),Jy(t,e,c,l,i,s,!0)}}function qx(t,e,n){""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function Wx(t,e,n){const{mergedAttrs:r,classes:i,styles:s}=n;null!==r&&ay(t,e,r),null!==i&&qx(t,e,i),null!==s&&function Iq(t,e,n){t.setAttribute(e,"style",n)}(t,e,s)}class Xx{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${XA})`}}function rs(t){return t instanceof Xx?t.changingThisBreaksApplicationSecurity:t}const Oq=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var ft=(()=>((ft=ft||{})[ft.NONE=0]="NONE",ft[ft.HTML=1]="HTML",ft[ft.STYLE=2]="STYLE",ft[ft.SCRIPT=3]="SCRIPT",ft[ft.URL=4]="URL",ft[ft.RESOURCE_URL=5]="RESOURCE_URL",ft))();function jh(t){const e=function wc(){const t=D();return t&&t[Gs].sanitizer}();return e?e.sanitize(ft.URL,t)||"":function _c(t,e){const n=function Rq(t){return t instanceof Xx&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${XA})`)}return n===e}(t,"URL")?rs(t):function n_(t){return(t=String(t)).match(Oq)?t:"unsafe:"+t}(te(t))}class L{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=j({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Ic=new L("ENVIRONMENT_INITIALIZER"),o1=new L("INJECTOR",-1),a1=new L("INJECTOR_DEF_TYPES");class u1{get(e,n=Ju){if(n===Ju){const r=new Error(`NullInjectorError: No provider for ${wt(e)}!`);throw r.name="NullInjectorError",r}return n}}function Kq(...t){return{\u0275providers:l1(0,t),\u0275fromNgModule:!0}}function l1(t,...e){const n=[],r=new Set;let i;return lc(e,s=>{const o=s;o_(o,n,[],r)&&(i||=[],i.push(o))}),void 0!==i&&d1(i,n),n}function d1(t,e){for(let n=0;n<t.length;n++){const{providers:i}=t[n];a_(i,s=>{e.push(s)})}}function o_(t,e,n,r){if(!(t=Z(t)))return!1;let i=null,s=ZA(t);const o=!s&&ve(t);if(s||o){if(o&&!o.standalone)return!1;i=t}else{const u=t.ngModule;if(s=ZA(u),!s)return!1;i=u}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const u="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const c of u)o_(c,e,n,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let c;r.add(i);try{lc(s.imports,l=>{o_(l,e,n,r)&&(c||=[],c.push(l))})}finally{}void 0!==c&&d1(c,e)}if(!a){const c=qs(i)||(()=>new i);e.push({provide:i,useFactory:c,deps:_e},{provide:a1,useValue:i,multi:!0},{provide:Ic,useValue:()=>$(i),multi:!0})}const u=s.providers;null==u||a||a_(u,l=>{e.push(l)})}}return i!==t&&void 0!==t.providers}function a_(t,e){for(let n of t)ey(n)&&(n=n.\u0275providers),Array.isArray(n)?a_(n,e):e(n)}const Qq=Ce({provide:String,useValue:Ce});function u_(t){return null!==t&&"object"==typeof t&&Qq in t}function Ys(t){return"function"==typeof t}const c_=new L("Set Injector scope."),Hh={},Xq={};let l_;function Gh(){return void 0===l_&&(l_=new u1),l_}class Ii{}class d_ extends Ii{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,f_(e,o=>this.processProvider(o)),this.records.set(o1,wa(void 0,this)),i.has("environment")&&this.records.set(Ii,wa(void 0,this));const s=this.records.get(c_);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(a1.multi,_e,H.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of e)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const n=Ji(this),r=Mn(void 0);try{return e()}finally{Ji(n),Mn(r)}}get(e,n=Ju,r=H.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(oM))return e[oM](this);r=ih(r);const i=Ji(this),s=Mn(void 0);try{if(!(r&H.SkipSelf)){let a=this.records.get(e);if(void 0===a){const u=function n6(t){return"function"==typeof t||"object"==typeof t&&t instanceof L}(e)&&th(e);a=u&&this.injectableDefInScope(u)?wa(h_(e),Hh):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&H.Self?Gh():this.parent).get(e,n=r&H.Optional&&n===Ju?null:n)}catch(o){if("NullInjectorError"===o.name){if((o[rh]=o[rh]||[]).unshift(wt(e)),i)throw o;return function nz(t,e,n,r){const i=t[rh];throw e[rM]&&i.unshift(e[rM]),t.message=function rz(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let i=wt(e);if(Array.isArray(e))i=e.map(wt).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):wt(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(XG,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[rh]=null,t}(o,e,"R3InjectorError",this.source)}throw o}finally{Mn(s),Ji(i)}}resolveInjectorInitializers(){const e=Ji(this),n=Mn(void 0);try{const r=this.get(Ic.multi,_e,H.Self);for(const i of r)i()}finally{Ji(e),Mn(n)}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push(wt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new T(205,!1)}processProvider(e){let n=Ys(e=Z(e))?e:Z(e&&e.provide);const r=function Zq(t){return u_(t)?wa(void 0,t.useValue):wa(p1(t),Hh)}(e);if(Ys(e)||!0!==e.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=wa(void 0,Hh,!0),i.factory=()=>iy(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===Hh&&(n.value=Xq,n.value=n.factory()),"object"==typeof n.value&&n.value&&function t6(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=Z(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){const n=this._onDestroyHooks.indexOf(e);-1!==n&&this._onDestroyHooks.splice(n,1)}}function h_(t){const e=th(t),n=null!==e?e.factory:qs(t);if(null!==n)return n;if(t instanceof L)throw new T(204,!1);if(t instanceof Function)return function Jq(t){const e=t.length;if(e>0)throw function dc(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}(e,"?"),new T(204,!1);const n=function KG(t){return t&&(t[nh]||t[eM])||null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new T(204,!1)}function p1(t,e,n){let r;if(Ys(t)){const i=Z(t);return qs(i)||h_(i)}if(u_(t))r=()=>Z(t.useValue);else if(function f1(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...iy(t.deps||[]));else if(function h1(t){return!(!t||!t.useExisting)}(t))r=()=>$(Z(t.useExisting));else{const i=Z(t&&(t.useClass||t.provide));if(!function e6(t){return!!t.deps}(t))return qs(i)||h_(i);r=()=>new i(...iy(t.deps))}return r}function wa(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function f_(t,e){for(const n of t)Array.isArray(n)?f_(n,e):n&&ey(n)?f_(n.\u0275providers,e):e(n)}const zh=new L("AppId",{providedIn:"root",factory:()=>r6}),r6="ng",g1=new L("Platform Initializer"),is=new L("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),m1=new L("CSP nonce",{providedIn:"root",factory:()=>function yc(){if(void 0!==e_)return e_;if(typeof document<"u")return document;throw new T(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let _1=(t,e)=>null;function v1(t,e){return _1(t,e)}class h6{}class E1{}class p6{resolveComponentFactory(e){throw function f6(t){const e=Error(`No component factory found for ${wt(t)}.`);return e.ngComponent=t,e}(e)}}let Yh=(()=>{class t{}return t.NULL=new p6,t})();function g6(){return Ia(Gt(),D())}function Ia(t,e){return new Xn(kn(t,e))}let Xn=(()=>{class t{constructor(n){this.nativeElement=n}}return t.__NG_ELEMENT_ID__=g6,t})();class b1{}let Ei=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>function y6(){const t=D(),n=Pn(Gt().index,t);return(Qn(n)?n:t)[ie]}(),t})(),_6=(()=>{class t{}return t.\u0275prov=j({token:t,providedIn:"root",factory:()=>null}),t})();class Ea{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const C1=new Ea("16.0.3"),b_={};function Cc(t){for(;t;){t[oe]|=64;const e=pc(t);if(ly(t)&&!e)return t;t=e}return null}function C_(t){return t.ngOriginalError}class Xs{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&C_(e);for(;n&&C_(n);)n=C_(n);return n||null}}const A1=new L("",{providedIn:"root",factory:()=>!1});function Di(t){return t instanceof Function?t():t}class k1 extends CM{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(e){this._lView=e}onConsumerDependencyMayHaveChanged(){Cc(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(e,n,r){const i=Rt(this);this.trackingVersion++;try{e(n,r)}finally{Rt(i)}}destroy(){this.trackingVersion++}}let Jh=null;function P1(){return Jh??=new k1,Jh}function O1(t,e){return t[e]??P1()}function F1(t,e){const n=P1();n.hasReadASignal&&(t[e]=Jh,n.lView=t,Jh=new k1)}const se={};function De(t){L1(ge(),D(),_n()+t,!1)}function L1(t,e,n,r){if(!r)if(3==(3&e[oe])){const s=t.preOrderCheckHooks;null!==s&&_h(e,s,n)}else{const s=t.preOrderHooks;null!==s&&vh(e,s,0,n)}Ws(n)}function $1(t,e=null,n=null,r){const i=j1(t,e,n,r);return i.resolveInjectorInitializers(),i}function j1(t,e=null,n=null,r,i=new Set){const s=[n||_e,Kq(t)];return r=r||("object"==typeof t?void 0:wt(t)),new d_(s,e||Gh(),r||null,i)}let Ln=(()=>{class t{static create(n,r){if(Array.isArray(n))return $1({name:""},r,n,"");{const i=n.name??"";return $1({name:i},n.parent,n.providers,i)}}}return t.THROW_IF_NOT_FOUND=Ju,t.NULL=new u1,t.\u0275prov=j({token:t,providedIn:"any",factory:()=>$(o1)}),t.__NG_ELEMENT_ID__=-1,t})();function C(t,e=H.Default){const n=D();return null===n?$(t,e):ox(Gt(),n,Z(t),e)}function Zh(t,e,n,r,i,s,o,a,u,c,l){const d=e.blueprint.slice();return d[It]=i,d[oe]=140|r,(null!==c||t&&2048&t[oe])&&(d[oe]|=2048),PM(d),d[qe]=d[ra]=t,d[Ze]=n,d[Gs]=o||t&&t[Gs],d[ie]=a||t&&t[ie],d[na]=u||t&&t[na]||null,d[sn]=s,d[ic]=function Y3(){return Q3++}(),d[yi]=l,d[vM]=c,d[ht]=2==e.type?t[ht]:d,d}function ba(t,e,n,r,i){let s=t.data[e];if(null===s)s=function T_(t,e,n,r,i){const s=BM(),o=_y(),u=t.data[e]=function U6(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return function aa(){return null!==Q.skipHydrationRootTNode}()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=u),null!==s&&(o?null==s.child&&null!==u.parent&&(s.child=u):null===s.next&&(s.next=u,u.prev=s)),u}(t,e,n,r,i),function Jz(){return Q.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const o=function oc(){const t=Q.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return Br(s,!0),s}function Tc(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function G1(t,e,n,r,i){const s=O1(e,ah),o=_n(),a=2&r;try{if(Ws(-1),a&&e.length>he&&L1(t,e,he,!1),Ur(a?2:0,i),a)s.runInContext(n,r,i);else{const c=Rt(null);try{n(r,i)}finally{Rt(c)}}}finally{a&&null===e[ah]&&F1(e,ah),Ws(o),Ur(a?3:1,i)}}function S_(t,e,n){if(cy(e)){const r=Rt(null);try{const s=e.directiveEnd;for(let o=e.directiveStart;o<s;o++){const a=t.data[o];a.contentQueries&&a.contentQueries(1,n[o],o)}}finally{Rt(r)}}}function A_(t,e,n){UM()&&(function q6(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;zs(n)&&function Z6(t,e,n){const r=kn(e,t),o=ef(t,Zh(t,z1(n),null,n.onPush?64:16,r,e,null,t[Gs].rendererFactory.createRenderer(r,n),null,null,null));t[e.index]=o}(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Dh(n,e),on(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const u=t.data[a],c=Ks(e,t,a,n);on(c,e),null!==o&&eW(0,a-i,c,u,0,o),yr(u)&&(Pn(n.index,e)[Ze]=Ks(e,t,a,n))}}(t,e,n,kn(n,e)),64==(64&n.flags)&&Y1(t,e,n))}function M_(t,e,n=kn){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function z1(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=x_(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function x_(t,e,n,r,i,s,o,a,u,c,l){const d=he+r,h=d+i,f=function k6(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:se);return n}(d,h),p="function"==typeof c?c():c;return f[k]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:p,incompleteFirstPass:!1,ssrId:l}}let q1=t=>null;function W1(t,e,n,r){for(let i in t)if(t.hasOwnProperty(i)){n=null===n?{}:n;const s=t[i];null===r?K1(n,e,i,s):r.hasOwnProperty(i)&&K1(n,e,r[i],s)}return n}function K1(t,e,n,r){t.hasOwnProperty(n)?t[n].push(e,r):t[n]=[e,r]}function Jn(t,e,n,r,i,s,o,a){const u=kn(e,n);let l,c=e.inputs;!a&&null!=c&&(l=c[r])?(O_(t,n,l,r,i),zs(e)&&function j6(t,e){const n=Pn(e,t);16&n[oe]||(n[oe]|=64)}(n,e.index)):3&e.type&&(r=function $6(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=o?o(i,e.value||"",r):i,s.setProperty(u,r,i))}function R_(t,e,n,r){if(UM()){const i=null===r?null:{"":-1},s=function K6(t,e){const n=t.directiveRegistry;let r=null,i=null;if(n)for(let s=0;s<n.length;s++){const o=n[s];if(fM(e,o.selectors,!1))if(r||(r=[]),yr(o))if(null!==o.findHostDirectiveDefs){const a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o),N_(t,e,a.length)}else r.unshift(o),N_(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return null===r?null:[r,i]}(t,n);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&Q1(t,e,n,o,i,a),i&&function Q6(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const s=n[e[i+1]];if(null==s)throw new T(-301,!1);r.push(e[i],s)}}}(n,r,i)}n.mergedAttrs=tc(n.mergedAttrs,n.attrs)}function Q1(t,e,n,r,i,s){for(let c=0;c<r.length;c++)xy(Dh(n,e),t,r[c].type);!function X6(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}(n,t.data.length,r.length);for(let c=0;c<r.length;c++){const l=r[c];l.providersResolver&&l.providersResolver(l)}let o=!1,a=!1,u=Tc(t,e,r.length,null);for(let c=0;c<r.length;c++){const l=r[c];n.mergedAttrs=tc(n.mergedAttrs,l.hostAttrs),J6(t,n,e,u,l),Y6(u,l,i),null!==l.contentQueries&&(n.flags|=4),(null!==l.hostBindings||null!==l.hostAttrs||0!==l.hostVars)&&(n.flags|=64);const d=l.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),u++}!function B6(t,e,n){const i=e.directiveEnd,s=t.data,o=e.attrs,a=[];let u=null,c=null;for(let l=e.directiveStart;l<i;l++){const d=s[l],h=n?n.get(d):null,p=h?h.outputs:null;u=W1(d.inputs,l,u,h?h.inputs:null),c=W1(d.outputs,l,c,p);const m=null===u||null===o||hM(e)?null:tW(u,l,o);a.push(m)}null!==u&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=c}(t,n,s)}function Y1(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=function e3(){return Q.lFrame.currentDirectiveIndex}();try{Ws(s);for(let a=r;a<i;a++){const u=t.data[a],c=e[a];wy(a),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&W6(u,c)}}finally{Ws(-1),wy(o)}}function W6(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function N_(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function Y6(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;yr(e)&&(n[""]=t)}}function J6(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=qs(i.type)),o=new ac(s,yr(i),C);t.blueprint[r]=o,n[r]=o,function G6(t,e,n,r,i){const s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;null===o&&(o=t.hostBindingOpCodes=[]);const a=~e.index;(function z6(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(o)!=a&&o.push(a),o.push(n,r,s)}}(t,e,r,Tc(t,n,i.hostVars,se),i)}function jr(t,e,n,r,i,s){const o=kn(t,e);!function k_(t,e,n,r,i,s,o){if(null==s)t.removeAttribute(e,i,n);else{const a=null==o?te(s):o(s,r||"",i);t.setAttribute(e,i,a,n)}}(e[ie],o,s,t.value,n,r,i)}function eW(t,e,n,r,i,s){const o=s[e];if(null!==o)for(let a=0;a<o.length;)X1(r,n,o[a++],o[a++],o[a++])}function X1(t,e,n,r,i){const s=Rt(null);try{null!==t.setInput?t.setInput(e,i,n,r):e[r]=i}finally{Rt(s)}}function tW(t,e,n){let r=null,i=0;for(;i<n.length;){const s=n[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(t.hasOwnProperty(s)){null===r&&(r=[]);const o=t[s];for(let a=0;a<o.length;a+=2)if(o[a]===e){r.push(s,o[a+1],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function J1(t,e,n,r){return[t,!0,!1,e,null,0,r,n,null,null,null]}function Z1(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const s=n[r+1];if(-1!==s){const o=t.data[s];Ey(n[r]),o.contentQueries(2,e[s],s)}}}function ef(t,e){return t[nc]?t[_M][mr]=e:t[nc]=e,t[_M]=e,e}function P_(t,e,n){Ey(0);const r=Rt(null);try{e(t,n)}finally{Rt(r)}}function rR(t,e){const n=t[na],r=n?n.get(Xs,null):null;r&&r.handleError(e)}function O_(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++];X1(t.data[o],e[o],r,a,i)}}function bi(t,e,n){const r=ph(e,t);!function kx(t,e,n){t.setValue(e,n)}(t[ie],r,n)}function nW(t,e){const n=Pn(e,t),r=n[k];!function rW(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n);const i=n[It];null!==i&&null===n[yi]&&(n[yi]=v1(i,n[na])),F_(r,n,n[Ze])}function F_(t,e,n){Dy(e);try{const r=t.viewQuery;null!==r&&P_(1,r,n);const i=t.template;null!==i&&G1(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Z1(t,e),t.staticViewQueries&&P_(2,t.viewQuery,n);const s=t.components;null!==s&&function iW(t,e){for(let n=0;n<e.length;n++)nW(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[oe]&=-5,by()}}let iR=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(n,r,i){const s=typeof Zone>"u"?null:Zone.current,o=new Rz(n,c=>{this.all.has(c)&&this.queue.set(c,s)},i);let a;this.all.add(o),o.notify();const u=()=>{o.cleanup(),a?.(),this.all.delete(o),this.queue.delete(o)};return a=r?.onDestroy(u),{destroy:u}}flush(){if(0!==this.queue.size)for(const[n,r]of this.queue)this.queue.delete(n),r?r.run(()=>n.run()):n.run()}get isQueueEmpty(){return 0===this.queue.size}}return t.\u0275prov=j({token:t,providedIn:"root",factory:()=>new t}),t})();function tf(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=Jm(i,a):2==s&&(r=Jm(r,a+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function Sc(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];if(null!==s&&r.push(Le(s)),Nn(s)){for(let a=Ht;a<s.length;a++){const u=s[a],c=u[k].firstChild;null!==c&&Sc(u[k],u,c,r)}s[Lr]!==s[It]&&r.push(s[Lr])}const o=n.type;if(8&o)Sc(t,e,n.child,r);else if(32&o){const a=Hy(n,e);let u;for(;u=a();)r.push(u)}else if(16&o){const a=Hx(e,n);if(Array.isArray(a))r.push(...a);else{const u=pc(e[ht]);Sc(u[k],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function nf(t,e,n,r=!0){const i=e[Gs].rendererFactory;i.begin&&i.begin();try{rf(t,e,t.template,n)}catch(o){throw r&&rR(e,o),o}finally{i.end&&i.end(),e[Gs].effectManager?.flush()}}function rf(t,e,n,r){const i=e[oe];if(256!=(256&i)){e[Gs].effectManager?.flush(),Dy(e);try{PM(e),function jM(t){return Q.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&G1(t,e,n,2,r);const o=3==(3&i);if(o){const c=t.preOrderCheckHooks;null!==c&&_h(e,c,null)}else{const c=t.preOrderHooks;null!==c&&vh(e,c,0,null),Cy(e,0)}if(function lW(t){for(let e=Gy(t);null!==e;e=zy(e)){if(!e[wM])continue;const n=e[sa];for(let r=0;r<n.length;r++){$z(n[r])}}}(e),function cW(t){for(let e=Gy(t);null!==e;e=zy(e))for(let n=Ht;n<e.length;n++){const r=e[n],i=r[k];gh(r)&&rf(i,r,i.template,r[Ze])}}(e),null!==t.contentQueries&&Z1(t,e),o){const c=t.contentCheckHooks;null!==c&&_h(e,c)}else{const c=t.contentHooks;null!==c&&vh(e,c,1),Cy(e,1)}!function N6(t,e){const n=t.hostBindingOpCodes;if(null===n)return;const r=O1(e,uh);try{for(let i=0;i<n.length;i++){const s=n[i];if(s<0)Ws(~s);else{const o=s,a=n[++i],u=n[++i];Zz(a,o),r.runInContext(u,2,e[o])}}}finally{null===e[uh]&&F1(e,uh),Ws(-1)}}(t,e);const a=t.components;null!==a&&function hW(t,e){for(let n=0;n<e.length;n++)dW(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&P_(2,u,r),o){const c=t.viewCheckHooks;null!==c&&_h(e,c)}else{const c=t.viewHooks;null!==c&&vh(e,c,2),Cy(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[oe]&=-73,OM(e)}finally{by()}}}function dW(t,e){const n=Pn(e,t);if(gh(n)){const r=n[k];80&n[oe]?rf(r,n,r.template,n[Ze]):n[Hs]>0&&L_(n)}}function L_(t){for(let r=Gy(t);null!==r;r=zy(r))for(let i=Ht;i<r.length;i++){const s=r[i];if(gh(s))if(1024&s[oe]){const o=s[k];rf(o,s,o.template,s[Ze])}else s[Hs]>0&&L_(s)}const n=t[k].components;if(null!==n)for(let r=0;r<n.length;r++){const i=Pn(n[r],t);gh(i)&&i[Hs]>0&&L_(i)}}class Ac{get rootNodes(){const e=this._lView,n=e[k];return Sc(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Ze]}set context(e){this._lView[Ze]=e}get destroyed(){return 256==(256&this._lView[oe])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[qe];if(Nn(e)){const n=e[ch],r=n?n.indexOf(this):-1;r>-1&&(Wy(e,r),Th(n,r))}this._attachedToViewContainer=!1}Ox(this._lView[k],this._lView)}onDestroy(e){!function LM(t,e){if(256==(256&t[oe]))throw new T(911,!1);null===t[es]&&(t[es]=[]),t[es].push(e)}(this._lView,e)}markForCheck(){Cc(this._cdRefInjectingView||this._lView)}detach(){this._lView[oe]&=-129}reattach(){this._lView[oe]|=128}detectChanges(){nf(this._lView[k],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new T(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function lq(t,e){mc(t,e,e[ie],2,null,null)}(this._lView[k],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new T(902,!1);this._appRef=e}}class fW extends Ac{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;nf(e[k],e,e[Ze],!1)}checkNoChanges(){}get context(){return null}}class sR extends Yh{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=ve(e);return new Mc(n,this.ngModule)}}function oR(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}class gW{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=ih(r);const i=this.injector.get(e,b_,r);return i!==b_||n===b_?i:this.parentInjector.get(e,n,r)}}class Mc extends E1{get inputs(){return oR(this.componentDef.inputs)}get outputs(){return oR(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function fz(t){return t.map(hz).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=(i=i||this.ngModule)instanceof Ii?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new gW(e,s):e,a=o.get(b1,null);if(null===a)throw new T(407,!1);const l={rendererFactory:a,sanitizer:o.get(_6,null),effectManager:o.get(iR,null)},d=a.createRenderer(null,this.componentDef),h=this.componentDef.selectors[0][0]||"div",f=r?function P6(t,e,n,r){const s=r.get(A1,!1)||n===Wn.ShadowDom,o=t.selectRootElement(e,s);return function O6(t){q1(t)}(o),o}(d,r,this.componentDef.encapsulation,o):Oh(d,h,function pW(t){const e=t.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(h)),p=this.componentDef.onPush?576:528,m=x_(0,null,null,1,0,null,null,null,null,null,null),y=Zh(null,m,null,p,null,null,l,d,o,null,null);let v,_;Dy(y);try{const E=this.componentDef;let A,O=null;E.findHostDirectiveDefs?(A=[],O=new Map,E.findHostDirectiveDefs(E,A,O),A.push(E)):A=[E];const Y=function yW(t,e){const n=t[k],r=he;return t[r]=e,ba(n,r,2,"#host",null)}(y,f),ze=function _W(t,e,n,r,i,s,o){const a=i[k];!function vW(t,e,n,r){for(const i of t)e.mergedAttrs=tc(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(tf(e,e.mergedAttrs,!0),null!==n&&Wx(r,n,e))}(r,t,e,o);let u=null;null!==e&&(u=v1(e,i[na]));const c=s.rendererFactory.createRenderer(e,n),l=Zh(i,z1(n),null,n.onPush?64:16,i[t.index],t,s,c,null,null,u);return a.firstCreatePass&&N_(a,t,r.length-1),ef(i,l),i[t.index]=l}(Y,f,E,A,y,l,d);_=kM(m,he),f&&function IW(t,e,n,r){if(r)ay(t,n,["ng-version",C1.full]);else{const{attrs:i,classes:s}=function pz(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!gr(i))break;i=s}r++}return{attrs:e,classes:n}}(e.selectors[0]);i&&ay(t,n,i),s&&s.length>0&&qx(t,n,s.join(" "))}}(d,E,f,r),void 0!==n&&function EW(t,e,n){const r=t.projection=[];for(let i=0;i<e.length;i++){const s=n[i];r.push(null!=s?Array.from(s):null)}}(_,this.ngContentSelectors,n),v=function wW(t,e,n,r,i,s){const o=Gt(),a=i[k],u=kn(o,i);Q1(a,i,o,n,null,r);for(let l=0;l<n.length;l++)on(Ks(i,a,o.directiveStart+l,o),i);Y1(a,i,o),u&&on(u,i);const c=Ks(i,a,o.directiveStart+o.componentOffset,o);if(t[Ze]=i[Ze]=c,null!==s)for(const l of s)l(c,e);return S_(a,o,t),c}(ze,E,A,O,y,[DW]),F_(m,y,null)}finally{by()}return new mW(this.componentType,v,Ia(_,y),y,_)}}class mW extends h6{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new fW(i),this.componentType=e}setInput(e,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;const s=this._rootLView;O_(s[k],s,i,e,n),this.previousInputValues.set(e,n),Cc(Pn(this._tNode.index,s))}}get injector(){return new la(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function DW(){const t=Gt();yh(D()[k],t)}function Te(t){let e=function aR(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),n=!0;const r=[t];for(;e;){let i;if(yr(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new T(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);const o=t;o.inputs=V_(t.inputs),o.declaredInputs=V_(t.declaredInputs),o.outputs=V_(t.outputs);const a=i.hostBindings;a&&SW(t,a);const u=i.viewQuery,c=i.contentQueries;if(u&&CW(t,u),c&&TW(t,c),Xm(t.inputs,i.inputs),Xm(t.declaredInputs,i.declaredInputs),Xm(t.outputs,i.outputs),yr(i)&&i.data.animation){const l=t.data;l.animation=(l.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(t),a===Te&&(n=!1)}}e=Object.getPrototypeOf(e)}!function bW(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=tc(i.hostAttrs,n=tc(n,i.hostAttrs))}}(r)}function V_(t){return t===gi?{}:t===_e?[]:t}function CW(t,e){const n=t.viewQuery;t.viewQuery=n?(r,i)=>{e(r,i),n(r,i)}:e}function TW(t,e){const n=t.contentQueries;t.contentQueries=n?(r,i,s)=>{e(r,i,s),n(r,i,s)}:e}function SW(t,e){const n=t.hostBindings;t.hostBindings=n?(r,i)=>{e(r,i),n(r,i)}:e}function sf(t){return!!function U_(t){return null!==t&&("function"==typeof t||"object"==typeof t)}(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function an(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function af(t,e,n,r,i){const s=function Js(t,e,n,r){const i=an(t,e,n);return an(t,e+1,r)||i}(t,e,n,r);return an(t,e+2,i)||s}function Gr(t,e,n,r){const i=D();return an(i,ua(),e)&&(ge(),jr(We(),i,t,e,n,r)),Gr}function Ta(t,e,n,r){return an(t,ua(),n)?e+te(n)+r:se}function Aa(t,e,n,r,i,s,o,a){const c=af(t,function _i(){return Q.lFrame.bindingIndex}(),n,i,o);return vi(3),c?e+te(n)+r+te(i)+s+te(o)+a:se}function pt(t,e,n,r,i,s,o,a){const u=D(),c=ge(),l=t+he,d=c.firstCreatePass?function JW(t,e,n,r,i,s,o,a,u){const c=e.consts,l=ba(e,t,4,o||null,ts(c,a));R_(e,n,l,ts(c,u)),yh(e,l);const d=l.tView=x_(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c,null);return null!==e.queries&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,s,o):c.data[l];Br(d,!1);const h=DR(c,u,d,t);mh()&&Lh(c,u,h,d),on(h,u),ef(u,u[l]=J1(h,u,h,d)),lh(d)&&A_(c,u,d),null!=o&&M_(u,d,a)}let DR=function bR(t,e,n,r){return ns(!0),e[ie].createComment("")};function Ke(t,e,n){const r=D();return an(r,ua(),e)&&Jn(ge(),We(),r,t,e,r[ie],n,!1),Ke}function z_(t,e,n,r,i){const o=i?"class":"style";O_(t,n,e.inputs[o],o,r)}function G(t,e,n,r){const i=D(),s=ge(),o=he+t,a=i[ie],u=s.firstCreatePass?function r9(t,e,n,r,i,s){const o=e.consts,u=ba(e,t,2,r,ts(o,i));return R_(e,n,u,ts(o,s)),null!==u.attrs&&tf(u,u.attrs,!1),null!==u.mergedAttrs&&tf(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(o,s,i,e,n,r):s.data[o],c=CR(s,i,u,a,e,t);i[o]=c;const l=lh(u);return Br(u,!0),Wx(a,c,u),32!=(32&u.flags)&&mh()&&Lh(s,i,c,u),0===function Hz(){return Q.lFrame.elementDepthCount}()&&on(c,i),function Gz(){Q.lFrame.elementDepthCount++}(),l&&(A_(s,i,u),S_(s,u,i)),null!==r&&M_(i,u),G}function z(){let t=Gt();_y()?function vy(){Q.lFrame.isParent=!1}():(t=t.parent,Br(t,!1));const e=t;(function qz(t){return Q.skipHydrationRootTNode===t})(e)&&function Yz(){Q.skipHydrationRootTNode=null}(),function zz(){Q.lFrame.elementDepthCount--}();const n=ge();return n.firstCreatePass&&(yh(n,t),cy(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function d3(t){return 0!=(8&t.flags)}(e)&&z_(n,e,D(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function h3(t){return 0!=(16&t.flags)}(e)&&z_(n,e,D(),e.stylesWithoutHost,!1),z}function le(t,e,n,r){return G(t,e,n,r),z(),le}let CR=(t,e,n,r,i,s)=>(ns(!0),Oh(r,i,function YM(){return Q.lFrame.currentNamespace}()));function K_(){return D()}function Pc(t){return!!t&&"function"==typeof t.then}function AR(t){return!!t&&"function"==typeof t.subscribe}function un(t,e,n,r){const i=D(),s=ge(),o=Gt();return function xR(t,e,n,r,i,s,o){const a=lh(r),c=t.firstCreatePass&&function tR(t){return t.cleanup||(t.cleanup=[])}(t),l=e[Ze],d=function eR(t){return t[ta]||(t[ta]=[])}(e);let h=!0;if(3&r.type||o){const m=kn(r,e),y=o?o(m):m,v=d.length,_=o?A=>o(Le(A[r.index])):r.index;let E=null;if(!o&&a&&(E=function c9(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===n&&i[s+1]===r){const a=e[ta],u=i[s+2];return a.length>u?a[u]:null}"string"==typeof o&&(s+=2)}return null}(t,e,i,r.index)),null!==E)(E.__ngLastListenerFn__||E).__ngNextListenerFn__=s,E.__ngLastListenerFn__=s,h=!1;else{s=NR(r,e,l,s,!1);const A=n.listen(y,i,s);d.push(s,A),c&&c.push(i,_,v,v+1)}}else s=NR(r,e,l,s,!1);const f=r.outputs;let p;if(h&&null!==f&&(p=f[i])){const m=p.length;if(m)for(let y=0;y<m;y+=2){const O=e[p[y]][p[y+1]].subscribe(s),Y=d.length;d.push(s,O),c&&c.push(i,r.index,Y,-(Y+1))}}}(s,i,i[ie],o,t,e,r),un}function RR(t,e,n,r){try{return Ur(6,e,n),!1!==n(r)}catch(i){return rR(t,i),!1}finally{Ur(7,e,n)}}function NR(t,e,n,r,i){return function s(o){if(o===Function)return r;Cc(t.componentOffset>-1?Pn(t.index,e):e);let u=RR(e,n,r,o),c=s.__ngNextListenerFn__;for(;c;)u=RR(e,n,c,o)&&u,c=c.__ngNextListenerFn__;return i&&!1===u&&o.preventDefault(),u}}function _r(t=1){return function n3(t){return(Q.lFrame.contextLView=function r3(t,e){for(;t>0;)e=e[ra],t--;return e}(t,Q.lFrame.contextLView))[Ze]}(t)}function vr(t,e,n){return df(t,"",e,"",n),vr}function df(t,e,n,r,i){const s=D(),o=Ta(s,e,n,r);return o!==se&&Jn(ge(),We(),s,t,o,s[ie],i,!1),df}function hf(t,e){return t<<17|e<<2}function ss(t){return t>>17&32767}function Q_(t){return 2|t}function Zs(t){return(131068&t)>>2}function Y_(t,e){return-131069&t|e<<2}function X_(t){return 1|t}function $R(t,e,n,r,i){const s=t[n+1],o=null===e;let a=r?ss(s):Zs(s),u=!1;for(;0!==a&&(!1===u||o);){const l=t[a+1];_9(t[a],e)&&(u=!0,t[a+1]=r?X_(l):Q_(l)),a=r?ss(l):Zs(l)}u&&(t[n+1]=r?Q_(s):X_(s))}function _9(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&ga(t,e)>=0}const bt={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function jR(t){return t.substring(bt.key,bt.keyEnd)}function HR(t,e){const n=bt.textEnd;return n===e?-1:(e=bt.keyEnd=function E9(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,bt.key=e,n),Pa(t,e,n))}function Pa(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function ff(t,e){return function wr(t,e,n,r){const i=D(),s=ge(),o=vi(2);s.firstUpdatePass&&YR(s,t,o,r),e!==se&&an(i,o,e)&&JR(s,s.data[_n()],i,i[ie],t,i[o+1]=function k9(t,e){return null==t||""===t||("string"==typeof e?t+=e:"object"==typeof t&&(t=wt(rs(t)))),t}(e,n),r,o)}(t,e,null,!0),ff}function J_(t){!function Ir(t,e,n,r){const i=ge(),s=vi(2);i.firstUpdatePass&&YR(i,null,s,r);const o=D();if(n!==se&&an(o,s,n)){const a=i.data[_n()];if(eN(a,r)&&!QR(i,s)){let u=r?a.classesWithoutHost:a.stylesWithoutHost;null!==u&&(n=Jm(u,n||"")),z_(i,a,o,n,r)}else!function N9(t,e,n,r,i,s,o,a){i===se&&(i=_e);let u=0,c=0,l=0<i.length?i[0]:null,d=0<s.length?s[0]:null;for(;null!==l||null!==d;){const h=u<i.length?i[u+1]:void 0,f=c<s.length?s[c+1]:void 0;let m,p=null;l===d?(u+=2,c+=2,h!==f&&(p=d,m=f)):null===d||null!==l&&l<d?(u+=2,p=l):(c+=2,p=d,m=f),null!==p&&JR(t,e,n,r,p,m,o,a),l=u<i.length?i[u]:null,d=c<s.length?s[c]:null}}(i,a,o,o[ie],o[s+1],o[s+1]=function x9(t,e,n){if(null==n||""===n)return _e;const r=[],i=rs(n);if(Array.isArray(i))for(let s=0;s<i.length;s++)t(r,i[s],!0);else if("object"==typeof i)for(const s in i)i.hasOwnProperty(s)&&t(r,s,i[s]);else"string"==typeof i&&e(r,i);return r}(t,e,n),r,s)}}(R9,qr,t,!0)}function qr(t,e){for(let n=function w9(t){return function zR(t){bt.key=0,bt.keyEnd=0,bt.value=0,bt.valueEnd=0,bt.textEnd=t.length}(t),HR(t,Pa(t,0,bt.textEnd))}(e);n>=0;n=HR(e,n))Yn(t,jR(e),!0)}function QR(t,e){return e>=t.expandoStartIndex}function YR(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[_n()],o=QR(t,n);eN(s,r)&&null===e&&!o&&(e=!1),e=function T9(t,e,n,r){const i=function Iy(t){const e=Q.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=Oc(n=Z_(null,t,e,n,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==i)if(n=Z_(i,t,e,n,r),null===s){let u=function S9(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==Zs(r))return t[ss(r)]}(t,e,r);void 0!==u&&Array.isArray(u)&&(u=Z_(null,t,e,u[1],r),u=Oc(u,e.attrs,r),function A9(t,e,n,r){t[ss(n?e.classBindings:e.styleBindings)]=r}(t,e,r,u))}else s=function M9(t,e,n){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=Oc(r,t[s].hostAttrs,n);return Oc(r,e.attrs,n)}(t,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),n}(i,s,e,r),function m9(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=ss(o),u=Zs(o);t[r]=n;let l,c=!1;if(Array.isArray(n)?(l=n[1],(null===l||ga(n,l)>0)&&(c=!0)):l=n,i)if(0!==u){const h=ss(t[a+1]);t[r+1]=hf(h,a),0!==h&&(t[h+1]=Y_(t[h+1],r)),t[a+1]=function p9(t,e){return 131071&t|e<<17}(t[a+1],r)}else t[r+1]=hf(a,0),0!==a&&(t[a+1]=Y_(t[a+1],r)),a=r;else t[r+1]=hf(u,0),0===a?a=r:t[u+1]=Y_(t[u+1],r),u=r;c&&(t[r+1]=Q_(t[r+1])),$R(t,l,r,!0),$R(t,l,r,!1),function y9(t,e,n,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&ga(s,e)>=0&&(n[r+1]=X_(n[r+1]))}(e,l,t,r,s),o=hf(a,u),s?e.classBindings=o:e.styleBindings=o}(i,s,e,n,o,r)}}function Z_(t,e,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],r=Oc(r,s.hostAttrs,i),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function Oc(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Yn(t,o,!!n||e[++s]))}return void 0===t?null:t}function R9(t,e,n){const r=String(e);""!==r&&!r.includes(" ")&&Yn(t,r,n)}function JR(t,e,n,r,i,s,o,a){if(!(3&e.type))return;const u=t.data,c=u[a+1],l=function g9(t){return 1==(1&t)}(c)?ZR(u,e,n,i,Zs(c),o):void 0;pf(l)||(pf(s)||function f9(t){return 2==(2&t)}(c)&&(s=ZR(u,null,n,i,a,o)),function wq(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=-1===r.indexOf("-")?void 0:On.DashCase;null==i?t.removeStyle(n,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=On.Important),t.setStyle(n,r,i,s))}}(r,o,ph(_n(),n),i,s))}function ZR(t,e,n,r,i,s){const o=null===e;let a;for(;i>0;){const u=t[i],c=Array.isArray(u),l=c?u[1]:u,d=null===l;let h=n[i+1];h===se&&(h=d?_e:void 0);let f=d?ky(h,r):l===r?h:void 0;if(c&&!pf(f)&&(f=ky(u,r)),pf(f)&&(a=f,o))return a;const p=t[i+1];i=o?ss(p):Zs(p)}if(null!==e){let u=s?e.residualClasses:e.residualStyles;null!=u&&(a=ky(u,r))}return a}function pf(t){return void 0!==t}function eN(t,e){return 0!=(t.flags&(e?8:16))}function Ct(t,e=""){const n=D(),r=ge(),i=t+he,s=r.firstCreatePass?ba(r,i,1,e,null):r.data[i],o=tN(r,n,s,e,t);n[i]=o,mh()&&Lh(r,n,o,s),Br(s,!1)}let tN=(t,e,n,r,i)=>(ns(!0),function Ph(t,e){return t.createText(e)}(e[ie],r));function Oa(t){return gf("",t,""),Oa}function gf(t,e,n){const r=D(),i=Ta(r,t,e,n);return i!==se&&bi(r,_n(),i),gf}function ev(t,e,n,r,i,s,o){const a=D(),u=Aa(a,t,e,n,r,i,s,o);return u!==se&&bi(a,_n(),u),ev}const La="en-US";let EN=La;function rv(t,e,n,r,i){if(t=Z(t),Array.isArray(t))for(let s=0;s<t.length;s++)rv(t[s],e,n,r,i);else{const s=ge(),o=D();let a=Ys(t)?t:Z(t.provide),u=p1(t);const c=Gt(),l=1048575&c.providerIndexes,d=c.directiveStart,h=c.providerIndexes>>20;if(Ys(t)||!t.multi){const f=new ac(u,i,C),p=sv(a,e,i?l:l+h,d);-1===p?(xy(Dh(c,o),s,a),iv(s,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(f),o.push(f)):(n[p]=f,o[p]=f)}else{const f=sv(a,e,l+h,d),p=sv(a,e,l,l+h),y=p>=0&&n[p];if(i&&!y||!i&&!(f>=0&&n[f])){xy(Dh(c,o),s,a);const v=function Z5(t,e,n,r,i){const s=new ac(t,n,C);return s.multi=[],s.index=e,s.componentProviders=0,WN(s,i,r&&!n),s}(i?J5:X5,n.length,i,r,u);!i&&y&&(n[p].providerFactory=v),iv(s,t,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(v),o.push(v)}else iv(s,t,f>-1?f:p,WN(n[i?p:f],u,!i&&r));!i&&r&&y&&n[p].componentProviders++}}}function iv(t,e,n,r){const i=Ys(e),s=function Yq(t){return!!t.useClass}(e);if(i||s){const u=(s?Z(e.useClass):e).prototype.ngOnDestroy;if(u){const c=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const l=c.indexOf(n);-1===l?c.push(n,[r,u]):c[l+1].push(r,u)}else c.push(n,u)}}}function WN(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function sv(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function X5(t,e,n,r){return ov(this.multi,[])}function J5(t,e,n,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=Ks(n,n[k],this.providerFactory.index,r);s=a.slice(0,o),ov(i,s);for(let u=o;u<a.length;u++)s.push(a[u])}else s=[],ov(i,s);return s}function ov(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function He(t,e=[]){return n=>{n.providersResolver=(r,i)=>function Y5(t,e,n){const r=ge();if(r.firstCreatePass){const i=yr(t);rv(n,r.data,r.blueprint,i,!0),rv(e,r.data,r.blueprint,i,!1)}}(r,i?i(t):t,e)}}class Va{}class KN{}class av extends Va{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new sR(this);const i=Kn(e);this._bootstrapComponents=Di(i.bootstrap),this._r3Injector=j1(e,n,[{provide:Va,useValue:this},{provide:Yh,useValue:this.componentFactoryResolver},...r],wt(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class uv extends KN{constructor(e){super(),this.moduleType=e}create(e){return new av(this.moduleType,e,[])}}class QN extends Va{constructor(e){super(),this.componentFactoryResolver=new sR(this),this.instance=null;const n=new d_([...e.providers,{provide:Va,useValue:this},{provide:Yh,useValue:this.componentFactoryResolver}],e.parent||Gh(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function cv(t,e,n=null){return new QN({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}let n8=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n.id)){const r=l1(0,n.type),i=r.length>0?cv([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n.id,i)}return this.cachedInjectors.get(n.id)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}}return t.\u0275prov=j({token:t,providedIn:"environment",factory:()=>new t($(Ii))}),t})();function YN(t){t.getStandaloneInjector=e=>e.get(n8).getOrCreateStandaloneInjector(t)}function dv(t){return e=>{setTimeout(t,void 0,e)}}const tt=class A8 extends hi{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&"object"==typeof e){const u=e;i=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=dv(s),i&&(i=dv(i)),o&&(o=dv(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof zn&&e.add(a),a}};let Ci=(()=>{class t{}return t.__NG_ELEMENT_ID__=N8,t})();const x8=Ci,R8=class extends x8{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n,null)}createEmbeddedViewImpl(e,n,r){const i=this._declarationTContainer.tView,s=Zh(this._declarationLView,i,e,16,null,i.declTNode,null,null,null,n||null,r||null);s[rc]=this._declarationLView[this._declarationTContainer.index];const a=this._declarationLView[Fr];return null!==a&&(s[Fr]=a.createEmbeddedView(i)),F_(i,s,e),new Ac(s)}};function N8(){return function wf(t,e){return 4&t.type?new R8(e,t,Ia(t,e)):null}(Gt(),D())}let Er=(()=>{class t{}return t.__NG_ELEMENT_ID__=U8,t})();function U8(){return function fk(t,e){let n;const r=e[t.index];return Nn(r)?n=r:(n=J1(r,e,null,t),e[t.index]=n,ef(e,n)),pk(n,e,t,r),new dk(n,t,e)}(Gt(),D())}const B8=Er,dk=class extends B8{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Ia(this._hostTNode,this._hostLView)}get injector(){return new la(this._hostTNode,this._hostLView)}get parentInjector(){const e=My(this._hostTNode,this._hostLView);if(ex(e)){const n=Ih(e,this._hostLView),r=wh(e);return new la(n[k].data[r+8],n)}return new la(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=hk(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-Ht}createEmbeddedView(e,n,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const a=e.createEmbeddedViewImpl(n||{},s,null);return this.insertImpl(a,i,false),a}createComponent(e,n,r,i,s){const o=e&&!function cc(t){return"function"==typeof t}(e);let a;if(o)a=n;else{const m=n||{};a=m.index,r=m.injector,i=m.projectableNodes,s=m.environmentInjector||m.ngModuleRef}const u=o?e:new Mc(ve(e)),c=r||this.parentInjector;if(!s&&null==u.ngModule){const y=(o?c:this.parentInjector).get(Ii,null);y&&(s=y)}ve(u.componentType??{});const f=u.create(c,i,null,s);return this.insertImpl(f.hostView,a,false),f}insert(e,n){return this.insertImpl(e,n,!1)}insertImpl(e,n,r){const i=e._lView,s=i[k];if(function Bz(t){return Nn(t[qe])}(i)){const u=this.indexOf(e);if(-1!==u)this.detach(u);else{const c=i[qe],l=new dk(c,c[sn],c[qe]);l.detach(l.indexOf(e))}}const o=this._adjustIndex(n),a=this._lContainer;if(function hq(t,e,n,r){const i=Ht+r,s=n.length;r>0&&(n[i-1][mr]=e),r<s-Ht?(e[mr]=n[i],hx(n,Ht+r,e)):(n.push(e),e[mr]=null),e[qe]=n;const o=e[rc];null!==o&&n!==o&&function fq(t,e){const n=t[sa];e[ht]!==e[qe][qe][ht]&&(t[wM]=!0),null===n?t[sa]=[e]:n.push(e)}(o,e);const a=e[Fr];null!==a&&a.insertView(t),e[oe]|=128}(s,i,a,o),!r){const u=Xy(o,a),c=i[ie],l=Fh(c,a[Lr]);null!==l&&function cq(t,e,n,r,i,s){r[It]=i,r[sn]=e,mc(t,r,n,1,i,s)}(s,a[sn],c,i,l,u)}return e.attachToViewContainerRef(),hx(pv(a),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=hk(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=Wy(this._lContainer,n);r&&(Th(pv(this._lContainer),n),Ox(r[k],r))}detach(e){const n=this._adjustIndex(e,-1),r=Wy(this._lContainer,n);return r&&null!=Th(pv(this._lContainer),n)?new Ac(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function hk(t){return t[ch]}function pv(t){return t[ch]||(t[ch]=[])}let pk=function gk(t,e,n,r){if(t[Lr])return;let i;i=8&n.type?Le(r):function $8(t,e){const n=t[ie],r=n.createComment(""),i=kn(e,t);return Qs(n,Fh(n,i),r,function yq(t,e){return t.nextSibling(e)}(n,i),!1),r}(e,n),t[Lr]=i};const Cv=new L("Application Initializer");let Tv=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=V(Cv,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n=[];for(const i of this.appInits){const s=i();if(Pc(s))n.push(s);else if(AR(s)){const o=new Promise((a,u)=>{s.subscribe({complete:a,error:u})});n.push(o)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Bk=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();const Ti=new L("LocaleId",{providedIn:"root",factory:()=>V(Ti,H.Optional|H.SkipSelf)||function _7(){return typeof $localize<"u"&&$localize.locale||La}()});class w7{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let $k=(()=>{class t{compileModuleSync(n){return new uv(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),s=Di(Kn(n).declarations).reduce((o,a)=>{const u=ve(a);return u&&o.push(new Mc(u)),o},[]);return new w7(r,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const D7=(()=>Promise.resolve(0))();function Sv(t){typeof Zone>"u"?D7.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}function Gk(...t){}class Se{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new tt(!1),this.onMicrotaskEmpty=new tt(!1),this.onStable=new tt(!1),this.onError=new tt(!1),typeof Zone>"u")throw new T(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function b7(){let t=ke.requestAnimationFrame,e=ke.cancelAnimationFrame;if(typeof Zone<"u"&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function S7(t){const e=()=>{!function T7(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(ke,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Mv(t),t.isCheckStableRunning=!0,Av(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Mv(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{try{return zk(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),qk(t)}},onInvoke:(n,r,i,s,o,a,u)=>{try{return zk(t),n.invoke(i,s,o,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),qk(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&("microTask"==s.change?(t._hasPendingMicrotasks=s.microTask,Mv(t),Av(t)):"macroTask"==s.change&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Se.isInAngularZone())throw new T(909,!1)}static assertNotInAngularZone(){if(Se.isInAngularZone())throw new T(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,C7,Gk,Gk);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const C7={};function Av(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Mv(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function zk(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function qk(t){t._nesting--,Av(t)}class A7{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new tt,this.onMicrotaskEmpty=new tt,this.onStable=new tt,this.onError=new tt}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}const Wk=new L("",{providedIn:"root",factory:Kk});function Kk(){const t=V(Se);let e=!0;return function UG(...t){const e=Xu(t),n=function NG(t,e){return"number"==typeof Qm(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?sr(r[0]):Jo(n)(xt(r,e)):Pr}(new Fe(i=>{e=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{i.next(e),i.complete()})}),new Fe(i=>{let s;t.runOutsideAngular(()=>{s=t.onStable.subscribe(()=>{Se.assertNotInAngularZone(),Sv(()=>{!e&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(e=!0,i.next(!0))})})});const o=t.onUnstable.subscribe(()=>{Se.assertInAngularZone(),e&&(e=!1,t.runOutsideAngular(()=>{i.next(!1)}))});return()=>{s.unsubscribe(),o.unsubscribe()}}).pipe(function BG(t={}){const{connector:e=(()=>new hi),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return s=>{let o,a,u,c=0,l=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),o=u=void 0,l=d=!1},p=()=>{const m=o;f(),m?.unsubscribe()};return Bt((m,y)=>{c++,!d&&!l&&h();const v=u=u??e();y.add(()=>{c--,0===c&&!d&&!l&&(a=Ym(p,i))}),v.subscribe(y),!o&&c>0&&(o=new Yu({next:_=>v.next(_),error:_=>{d=!0,h(),a=Ym(f,n,_),v.error(_)},complete:()=>{l=!0,h(),a=Ym(f,r),v.complete()}}),sr(m).subscribe(o))})(s)}}()))}const Qk=new L(""),Ef=new L("");let Nv,xv=(()=>{class t{constructor(n,r,i){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Nv||(function M7(t){Nv=t}(i),i.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Se.assertNotInAngularZone(),Sv(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Sv(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:s,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,i){return[]}}return t.\u0275fac=function(n){return new(n||t)($(Se),$(Rv),$(Ef))},t.\u0275prov=j({token:t,factory:t.\u0275fac}),t})(),Rv=(()=>{class t{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return Nv?.findTestabilityInTree(this,n,r)??null}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})(),os=null;const Yk=new L("AllowMultipleToken"),kv=new L("PlatformDestroyListeners"),Pv=new L("appBootstrapListener");class Jk{constructor(e,n){this.name=e,this.token=n}}function eP(t,e,n=[]){const r=`Platform: ${e}`,i=new L(r);return(s=[])=>{let o=Ov();if(!o||o.injector.get(Yk,!1)){const a=[...n,...s,{provide:i,useValue:!0}];t?t(a):function N7(t){if(os&&!os.get(Yk,!1))throw new T(400,!1);(function Xk(){!function Mz(t){TM=t}(()=>{throw new T(600,!1)})})(),os=t;const e=t.get(nP);(function Zk(t){t.get(g1,null)?.forEach(n=>n())})(t)}(function tP(t=[],e){return Ln.create({name:e,providers:[{provide:c_,useValue:"platform"},{provide:kv,useValue:new Set([()=>os=null])},...t]})}(a,r))}return function P7(t){const e=Ov();if(!e)throw new T(401,!1);return e}()}}function Ov(){return os?.get(nP)??null}let nP=(()=>{class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const i=function O7(t="zone.js",e){return"noop"===t?new A7:"zone.js"===t?new Se(e):t}(r?.ngZone,function rP(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return i.run(()=>{const s=function t8(t,e,n){return new av(t,e,n)}(n.moduleType,this.injector,function uP(t){return[{provide:Se,useFactory:t},{provide:Ic,multi:!0,useFactory:()=>{const e=V(L7,{optional:!0});return()=>e.initialize()}},{provide:aP,useFactory:F7},{provide:Wk,useFactory:Kk}]}(()=>i)),o=s.injector.get(Xs,null);return i.runOutsideAngular(()=>{const a=i.onError.subscribe({next:u=>{o.handleError(u)}});s.onDestroy(()=>{Df(this._modules,s),a.unsubscribe()})}),function iP(t,e,n){try{const r=n();return Pc(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(o,i,()=>{const a=s.injector.get(Tv);return a.runInitializers(),a.donePromise.then(()=>(function DN(t){or(t,"Expected localeId to be defined"),"string"==typeof t&&(EN=t.toLowerCase().replace(/_/g,"-"))}(s.injector.get(Ti,La)||La),this._moduleDoBootstrap(s),s))})})}bootstrapModule(n,r=[]){const i=sP({},r);return function x7(t,e,n){const r=new uv(n);return Promise.resolve(r)}(0,0,n).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(n){const r=n.injector.get($a);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new T(-403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new T(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(kv,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(n){return new(n||t)($(Ln))},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();function sP(t,e){return Array.isArray(e)?e.reduce(sP,t):{...t,...e}}let $a=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=V(aP),this.componentTypes=[],this.components=[],this.isStable=V(Wk),this._injector=V(Ii)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){const i=n instanceof E1;if(!this._injector.get(Tv).done)throw!i&&function ea(t){const e=ve(t)||rn(t)||Rn(t);return null!==e&&e.standalone}(n),new T(405,!1);let o;o=i?n:this._injector.get(Yh).resolveComponentFactory(n),this.componentTypes.push(o.componentType);const a=function R7(t){return t.isBoundToModule}(o)?void 0:this._injector.get(Va),c=o.create(Ln.NULL,[],r||o.selector,a),l=c.location.nativeElement,d=c.injector.get(Qk,null);return d?.registerApplication(l),c.onDestroy(()=>{this.detachView(c.hostView),Df(this.components,c),d?.unregisterApplication(l)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new T(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this.internalErrorHandler(n)}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;Df(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(Pv,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Df(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new T(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Df(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const aP=new L("",{providedIn:"root",factory:()=>V(Xs).handleError.bind(void 0)});function F7(){const t=V(Se),e=V(Xs);return n=>t.runOutsideAngular(()=>e.handleError(n))}let L7=(()=>{class t{constructor(){this.zone=V(Se),this.applicationRef=V($a)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();let bf=(()=>{class t{}return t.__NG_ELEMENT_ID__=U7,t})();function U7(t){return function B7(t,e,n){if(zs(t)&&!n){const r=Pn(t.index,e);return new Ac(r,r)}return 47&t.type?new Ac(e[ht],e):null}(Gt(),D(),16==(16&t))}class hP{constructor(){}supports(e){return sf(e)}create(e){return new q7(e)}}const z7=(t,e)=>e;class q7{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||z7}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){const o=!r||n&&n.currentIndex<pP(r,i,s)?n:r,a=pP(o,i,s),u=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,null==o.previousIndex)i++;else{s||(s=[]);const c=a-i,l=u-i;if(c!=l){for(let h=0;h<c;h++){const f=h<s.length?s[h]:s[h]=0,p=f+h;l<=p&&p<c&&(s[h]=f+1)}s[o.previousIndex]=l-c}}a!==u&&e(o,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!sf(e))throw new T(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)):(n=this._mismatch(n,s,o,a),r=!0),n=n._next}else i=0,function PW(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Symbol.iterator]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,o,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new W7(n,r),s,i),e}_verifyReinsertion(e,n,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const i=null===n?this._itHead:n._next;return e._next=i,e._prev=n,null===i?this._itTail=e:i._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new fP),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new fP),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class W7{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class K7{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class fP{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new K7,this.map.set(n,r)),r.add(e)}get(e,n){const i=this.map.get(e);return i?i.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function pP(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function mP(){return new Sf([new hP])}let Sf=(()=>{class t{constructor(n){this.factories=n}static create(n,r){if(null!=r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||mP()),deps:[[t,new Ah,new Dt]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(null!=r)return r;throw new T(901,!1)}}return t.\u0275prov=j({token:t,providedIn:"root",factory:mP}),t})();const Z7=eP(null,"core",[]);let eK=(()=>{class t{constructor(n){}}return t.\u0275fac=function(n){return new(n||t)($($a))},t.\u0275mod=nn({type:t}),t.\u0275inj=jt({}),t})(),DP=(()=>{class t{get whenAllTasksComplete(){return 0===this.collection.size&&this.complete(),this.promise}constructor(){this.taskId=0,this.collection=new Set,this.ngZone=V(Se),this.completed=!1,this.ngZone.runOutsideAngular(()=>{this.promise=new Promise(n=>{this.resolve=n})})}add(){if(this.completed)return-1;const n=this.taskId++;return this.collection.add(n),n}remove(n){this.completed||(this.collection.delete(n),0===this.collection.size&&this.complete())}ngOnDestroy(){this.complete(),this.collection.clear()}complete(){this.completed=!0,this.resolve()}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),jv=null;function as(){return jv}class hK{}const lr=new L("DocumentToken");let Hv=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:function(){return V(pK)},providedIn:"platform"}),t})();const fK=new L("Location Initialized");let pK=(()=>{class t extends Hv{constructor(){super(),this._doc=V(lr),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return as().getBaseHref(this._doc)}onPopState(n){const r=as().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=as().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:function(){return new t},providedIn:"platform"}),t})();function Gv(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function CP(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function Si(t){return t&&"?"!==t[0]?"?"+t:t}let no=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:function(){return V(SP)},providedIn:"root"}),t})();const TP=new L("appBaseHref");let SP=(()=>{class t extends no{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??V(lr).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Gv(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+Si(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,s){const o=this.prepareExternalUrl(i+Si(s));this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){const o=this.prepareExternalUrl(i+Si(s));this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return t.\u0275fac=function(n){return new(n||t)($(Hv),$(TP,8))},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),gK=(()=>{class t extends no{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=Gv(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+Si(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+Si(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return t.\u0275fac=function(n){return new(n||t)($(Hv),$(TP,8))},t.\u0275prov=j({token:t,factory:t.\u0275fac}),t})(),zv=(()=>{class t{constructor(n){this._subject=new tt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._basePath=function _K(t){if(new RegExp("^(https?:)?//").test(t)){const[,n]=t.split(/\/\/[^\/]+/);return n}return t}(CP(AP(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Si(r))}normalize(n){return t.stripTrailingSlash(function yK(t,e){if(!t||!e.startsWith(t))return e;const n=e.substring(t.length);return""===n||["/",";","?","#"].includes(n[0])?n:e}(this._basePath,AP(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Si(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Si(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}}return t.normalizeQueryParams=Si,t.joinWithSlash=Gv,t.stripTrailingSlash=CP,t.\u0275fac=function(n){return new(n||t)($(no))},t.\u0275prov=j({token:t,factory:function(){return function mK(){return new zv($(no))}()},providedIn:"root"}),t})();function AP(t){return t.replace(/\/index.html$/,"")}class iQ{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Vf=(()=>{class t{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const r=this._viewContainer;n.forEachOperation((i,s,o)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new iQ(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===s?void 0:s);else if(null!==s){const a=r.get(s);r.move(a,o),UP(a,i)}});for(let i=0,s=r.length;i<s;i++){const a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{UP(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(n,r){return!0}}return t.\u0275fac=function(n){return new(n||t)(C(Er),C(Ci),C(Sf))},t.\u0275dir=X({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),t})();function UP(t,e){t.context.$implicit=e.item}let nw=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new sQ,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){BP("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){BP("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}}return t.\u0275fac=function(n){return new(n||t)(C(Er),C(Ci))},t.\u0275dir=X({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),t})();class sQ{constructor(){this.$implicit=null,this.ngIf=null}}function BP(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${wt(e)}'.`)}let HP=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=nn({type:t}),t.\u0275inj=jt({}),t})();function zP(t){return"server"===t}let kQ=(()=>{class t{}return t.\u0275prov=j({token:t,providedIn:"root",factory:()=>new PQ($(lr),window)}),t})();class PQ{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const n=function OQ(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&"function"==typeof t.body.attachShadow){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const n=this.window.history;n&&n.scrollRestoration&&(n.scrollRestoration=e)}}scrollToElement(e){const n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=qP(this.window.history)||qP(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function qP(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class cY extends hK{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class cw extends cY{static makeCurrent(){!function dK(t){jv||(jv=t)}(new cw)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function lY(){return Kc=Kc||document.querySelector("base"),Kc?Kc.getAttribute("href"):null}();return null==n?null:function dY(t){jf=jf||document.createElement("a"),jf.setAttribute("href",t);const e=jf.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){Kc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function tQ(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,s]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let jf,Kc=null,fY=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac}),t})();const lw=new L("EventManagerPlugins");let XP=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(s=>s.supports(n)),!r)throw new T(5101,!1);return this._eventNameToPlugin.set(n,r),r}}return t.\u0275fac=function(n){return new(n||t)($(lw),$(Se))},t.\u0275prov=j({token:t,factory:t.\u0275fac}),t})();class JP{constructor(e){this._doc=e}}const dw="ng-app-id";let ZP=(()=>{class t{constructor(n,r,i,s={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=zP(s),this.resetHostNodes()}addStyles(n){for(const r of n)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(n){for(const r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(const r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){const r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){const n=this.doc.head?.querySelectorAll(`style[${dw}="${this.appId}"]`);if(n?.length){const r=new Map;return n.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){const i=this.styleRef;if(i.has(n)){const s=i.get(n);return s.usage+=r,s.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){const i=this.styleNodesInDOM,s=i?.get(r);if(s?.parentNode===n)return i.delete(r),s.removeAttribute(dw),s;{const o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=r,this.platformIsServer&&o.setAttribute(dw,this.appId),o}}addStyleToHost(n,r){const i=this.getStyleElement(n,r);n.appendChild(i);const s=this.styleRef,o=s.get(r)?.elements;o?o.push(i):s.set(r,{elements:[i],usage:1})}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}}return t.\u0275fac=function(n){return new(n||t)($(lr),$(zh),$(m1,8),$(is))},t.\u0275prov=j({token:t,factory:t.\u0275fac}),t})();const hw={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},fw=/%COMP%/g,yY=new L("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function tO(t,e){return e.map(n=>n.replace(fw,t))}let nO=(()=>{class t{constructor(n,r,i,s,o,a,u,c=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestory=s,this.doc=o,this.platformId=a,this.ngZone=u,this.nonce=c,this.rendererByCompId=new Map,this.platformIsServer=zP(a),this.defaultRenderer=new pw(n,o,u,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Wn.ShadowDom&&(r={...r,encapsulation:Wn.Emulated});const i=this.getOrCreateRenderer(n,r);return i instanceof iO?i.applyToHost(n):i instanceof gw&&i.applyStyles(),i}getOrCreateRenderer(n,r){const i=this.rendererByCompId;let s=i.get(r.id);if(!s){const o=this.doc,a=this.ngZone,u=this.eventManager,c=this.sharedStylesHost,l=this.removeStylesOnCompDestory,d=this.platformIsServer;switch(r.encapsulation){case Wn.Emulated:s=new iO(u,c,r,this.appId,l,o,a,d);break;case Wn.ShadowDom:return new IY(u,c,n,r,o,a,this.nonce,d);default:s=new gw(u,c,r,l,o,a,d)}s.onDestroy=()=>i.delete(r.id),i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}}return t.\u0275fac=function(n){return new(n||t)($(XP),$(ZP),$(zh),$(yY),$(lr),$(is),$(Se),$(m1))},t.\u0275prov=j({token:t,factory:t.\u0275fac}),t})();class pw{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(hw[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(rO(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(rO(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new T(5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const s=hw[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=hw[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(On.DashCase|On.Important)?e.style.setProperty(n,r,i&On.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&On.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){if("string"==typeof e&&!(e=as().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if("__ngUnwrap__"===n)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))&&n.preventDefault()}}}function rO(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class IY extends pw{constructor(e,n,r,i,s,o,a,u){super(e,s,o,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=tO(i.id,i.styles);for(const l of c){const d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=l,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class gw extends pw{constructor(e,n,r,i,s,o,a,u){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestory=i,this.rendererUsageCount=0,this.styles=u?tO(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class iO extends gw{constructor(e,n,r,i,s,o,a,u){const c=i+"-"+r.id;super(e,n,r,s,o,a,u,c),this.contentAttr=function _Y(t){return"_ngcontent-%COMP%".replace(fw,t)}(c),this.hostAttr=function vY(t){return"_nghost-%COMP%".replace(fw,t)}(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}let EY=(()=>{class t extends JP{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}}return t.\u0275fac=function(n){return new(n||t)($(lr))},t.\u0275prov=j({token:t,factory:t.\u0275fac}),t})();const sO=["alt","control","meta","shift"],DY={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},bY={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let CY=(()=>{class t extends JP{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,r,i){const s=t.parseEventName(r),o=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>as().onAndCancel(n,s.domEventName,o))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=t._normalizeKey(r.pop());let o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),sO.forEach(c=>{const l=r.indexOf(c);l>-1&&(r.splice(l,1),o+=c+".")}),o+=s,0!=r.length||0===s.length)return null;const u={};return u.domEventName=i,u.fullKey=o,u}static matchEventFullKeyCode(n,r){let i=DY[n.key]||n.key,s="";return r.indexOf("code.")>-1&&(i=n.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),sO.forEach(o=>{o!==i&&(0,bY[o])(n)&&(s+=o+".")}),s+=i,s===r)}static eventCallback(n,r,i){return s=>{t.matchEventFullKeyCode(s,n)&&i.runGuarded(()=>r(s))}}static _normalizeKey(n){return"esc"===n?"escape":n}}return t.\u0275fac=function(n){return new(n||t)($(lr))},t.\u0275prov=j({token:t,factory:t.\u0275fac}),t})();const aO=[{provide:is,useValue:"browser"},{provide:g1,useValue:function TY(){cw.makeCurrent()},multi:!0},{provide:lr,useFactory:function AY(){return function Cq(t){e_=t}(document),document},deps:[]}],MY=eP(Z7,"browser",aO),xY=new L(""),uO=[{provide:Ef,useClass:class hY{addToWindow(e){ke.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new T(5103,!1);return s},ke.getAllAngularTestabilities=()=>e.getAllTestabilities(),ke.getAllAngularRootElements=()=>e.getAllRootElements(),ke.frameworkStabilizers||(ke.frameworkStabilizers=[]),ke.frameworkStabilizers.push(r=>{const i=ke.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(u){o=o||u,s--,0==s&&r(o)};i.forEach(function(u){u.whenStable(a)})})}findTestabilityInTree(e,n,r){return null==n?null:e.getTestability(n)??(r?as().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},deps:[]},{provide:Qk,useClass:xv,deps:[Se,Rv,Ef]},{provide:xv,useClass:xv,deps:[Se,Rv,Ef]}],cO=[{provide:c_,useValue:"root"},{provide:Xs,useFactory:function SY(){return new Xs},deps:[]},{provide:lw,useClass:EY,multi:!0,deps:[lr,Se,is]},{provide:lw,useClass:CY,multi:!0,deps:[lr]},nO,ZP,XP,{provide:b1,useExisting:nO},{provide:class FQ{},useClass:fY,deps:[]},[]];let RY=(()=>{class t{constructor(n){}static withServerTransition(n){return{ngModule:t,providers:[{provide:zh,useValue:n.appId}]}}}return t.\u0275fac=function(n){return new(n||t)($(xY,12))},t.\u0275mod=nn({type:t}),t.\u0275inj=jt({providers:[...cO,...uO],imports:[HP,eK]}),t})(),lO=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}}return t.\u0275fac=function(n){return new(n||t)($(lr))},t.\u0275prov=j({token:t,factory:function(n){let r=null;return r=n?new n:function kY(){return new lO($(lr))}(),r},providedIn:"root"}),t})();function ne(...t){return xt(t,Xu(t))}typeof window<"u"&&window;class Tr extends hi{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const{isArray:UY}=Array,{getPrototypeOf:BY,prototype:$Y,keys:jY}=Object;function pO(t){if(1===t.length){const e=t[0];if(UY(e))return{args:e,keys:null};if(function HY(t){return t&&"object"==typeof t&&BY(t)===$Y}(e)){const n=jY(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}const{isArray:GY}=Array;function gO(t){return be(e=>function zY(t,e){return GY(e)?t(...e):t(e)}(t,e))}function mO(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function yw(...t){const e=Xu(t),n=QA(t),{args:r,keys:i}=pO(t);if(0===r.length)return xt([],e);const s=new Fe(function qY(t,e,n=js){return r=>{yO(e,()=>{const{length:i}=t,s=new Array(i);let o=i,a=i;for(let u=0;u<i;u++)yO(e,()=>{const c=xt(t[u],e);let l=!1;c.subscribe(Mt(r,d=>{s[u]=d,l||(l=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>mO(i,o):js));return n?s.pipe(gO(n)):s}function yO(t,e,n){t?fi(n,t,e):e()}const Hf=Qu(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function _w(...t){return function WY(){return Jo(1)}()(xt(t,Xu(t)))}function _O(t){return new Fe(e=>{sr(t()).subscribe(e)})}function Qc(t,e){const n=Re(t)?t:()=>t,r=i=>i.error(n());return new Fe(e?i=>e.schedule(r,0,i):r)}function vw(){return Bt((t,e)=>{let n=null;t._refCount++;const r=Mt(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class vO extends Fe{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,PA(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new zn;const n=this.getSubject();e.add(this.source.subscribe(Mt(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=zn.EMPTY)}return e}refCount(){return vw()(this)}}function Mi(t,e){return Bt((n,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();n.subscribe(Mt(r,u=>{i?.unsubscribe();let c=0;const l=s++;sr(t(u,l)).subscribe(i=Mt(r,d=>r.next(e?e(u,d,l,c++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function Ha(t){return t<=0?()=>Pr:Bt((e,n)=>{let r=0;e.subscribe(Mt(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function cs(t,e){return Bt((n,r)=>{let i=0;n.subscribe(Mt(r,s=>t.call(e,s,i++)&&r.next(s)))})}function Gf(t){return Bt((e,n)=>{let r=!1;e.subscribe(Mt(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function wO(t=QY){return Bt((e,n)=>{let r=!1;e.subscribe(Mt(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function QY(){return new Hf}function ro(t,e){const n=arguments.length>=2;return r=>r.pipe(t?cs((i,s)=>t(i,s,r)):js,Ha(1),n?Gf(e):wO(()=>new Hf))}function Yc(t,e){return Re(e)?$t(t,e,1):$t(t,1)}function cn(t,e,n){const r=Re(t)||e||n?{next:t,error:e,complete:n}:t;return r?Bt((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(Mt(s,u=>{var c;null===(c=r.next)||void 0===c||c.call(r,u),s.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),s.complete()},u=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,u),s.error(u)},()=>{var u,c;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):js}function io(t){return Bt((e,n)=>{let s,r=null,i=!1;r=e.subscribe(Mt(n,void 0,void 0,o=>{s=sr(t(o,io(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function ww(t){return t<=0?()=>Pr:Bt((e,n)=>{let r=[];e.subscribe(Mt(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Iw(t){return Bt((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}const ae="primary",Xc=Symbol("RouteTitle");class eX{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function Ga(t){return new eX(t)}function tX(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Wr(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!IO(t[i],e[i]))return!1;return!0}function IO(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}return t===e}function EO(t){return t.length>0?t[t.length-1]:null}function ls(t){return function VY(t){return!!t&&(t instanceof Fe||Re(t.lift)&&Re(t.subscribe))}(t)?t:Pc(t)?xt(Promise.resolve(t)):ne(t)}const rX={exact:function CO(t,e,n){if(!so(t.segments,e.segments)||!zf(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!CO(t.children[r],e.children[r],n))return!1;return!0},subset:TO},DO={exact:function iX(t,e){return Wr(t,e)},subset:function sX(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>IO(t[n],e[n]))},ignored:()=>!0};function bO(t,e,n){return rX[n.paths](t.root,e.root,n.matrixParams)&&DO[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function TO(t,e,n){return SO(t,e,e.segments,n)}function SO(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!so(i,n)||e.hasChildren()||!zf(i,n,r))}if(t.segments.length===n.length){if(!so(t.segments,n)||!zf(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!TO(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!!(so(t.segments,i)&&zf(t.segments,i,r)&&t.children[ae])&&SO(t.children[ae],e,s,r)}}function zf(t,e,n){return e.every((r,i)=>DO[n](t[i].parameters,r.parameters))}class za{constructor(e=new Ae([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ga(this.queryParams)),this._queryParamMap}toString(){return uX.serialize(this)}}class Ae{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return qf(this)}}class Jc{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=Ga(this.parameters)),this._parameterMap}toString(){return xO(this)}}function so(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}let Zc=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:function(){return new Ew},providedIn:"root"}),t})();class Ew{parse(e){const n=new vX(e);return new za(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${el(e.root,!0)}`,r=function dX(t){const e=Object.keys(t).map(n=>{const r=t[n];return Array.isArray(r)?r.map(i=>`${Wf(n)}=${Wf(i)}`).join("&"):`${Wf(n)}=${Wf(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${n}${r}${"string"==typeof e.fragment?`#${function cX(t){return encodeURI(t)}(e.fragment)}`:""}`}}const uX=new Ew;function qf(t){return t.segments.map(e=>xO(e)).join("/")}function el(t,e){if(!t.hasChildren())return qf(t);if(e){const n=t.children[ae]?el(t.children[ae],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==ae&&r.push(`${i}:${el(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function aX(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===ae&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==ae&&(n=n.concat(e(i,r)))}),n}(t,(r,i)=>i===ae?[el(t.children[ae],!1)]:[`${i}:${el(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[ae]?`${qf(t)}/${n[0]}`:`${qf(t)}/(${n.join("//")})`}}function AO(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Wf(t){return AO(t).replace(/%3B/gi,";")}function Dw(t){return AO(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Kf(t){return decodeURIComponent(t)}function MO(t){return Kf(t.replace(/\+/g,"%20"))}function xO(t){return`${Dw(t.path)}${function lX(t){return Object.keys(t).map(e=>`;${Dw(e)}=${Dw(t[e])}`).join("")}(t.parameters)}`}const hX=/^[^\/()?;#]+/;function bw(t){const e=t.match(hX);return e?e[0]:""}const fX=/^[^\/()?;=#]+/,gX=/^[^=?&#]+/,yX=/^[^&#]+/;class vX{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ae([],{}):new Ae([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[ae]=new Ae(e,n)),r}parseSegment(){const e=bw(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new T(4009,!1);return this.capture(e),new Jc(Kf(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=function pX(t){const e=t.match(fX);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=bw(this.remaining);i&&(r=i,this.capture(r))}e[Kf(n)]=Kf(r)}parseQueryParam(e){const n=function mX(t){const e=t.match(gX);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const o=function _X(t){const e=t.match(yX);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=MO(n),s=MO(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=bw(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new T(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=ae);const o=this.parseChildren();n[s]=1===Object.keys(o).length?o[ae]:new Ae([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new T(4011,!1)}}function RO(t){return t.segments.length>0?new Ae([],{[ae]:t}):t}function NO(t){const e={};for(const r of Object.keys(t.children)){const s=NO(t.children[r]);if(r===ae&&0===s.segments.length&&s.hasChildren())for(const[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function wX(t){if(1===t.numberOfChildren&&t.children[ae]){const e=t.children[ae];return new Ae(t.segments.concat(e.segments),e.children)}return t}(new Ae(t.segments,e))}function oo(t){return t instanceof za}function kO(t){let e;const i=RO(function n(s){const o={};for(const u of s.children){const c=n(u);o[u.outlet]=c}const a=new Ae(s.url,o);return s===t&&(e=a),a}(t.root));return e??i}function PO(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(0===e.length)return Cw(i,i,i,n,r);const s=function EX(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new FO(!0,0,t);let e=0,n=!1;const r=t.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Object.entries(s.outlets).forEach(([u,c])=>{a[u]="string"==typeof c?c.split("/"):c}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,u)=>{0==u&&"."===a||(0==u&&""===a?n=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new FO(n,e,r)}(e);if(s.toRoot())return Cw(i,i,new Ae([],{}),n,r);const o=function DX(t,e,n){if(t.isAbsolute)return new Yf(e,!0,0);if(!n)return new Yf(e,!1,NaN);if(null===n.parent)return new Yf(n,!0,0);const r=Qf(t.commands[0])?0:1;return function bX(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new T(4005,!1);i=r.segments.length}return new Yf(r,!1,i-s)}(n,n.segments.length-1+r,t.numberOfDoubleDots)}(s,i,t),a=o.processChildren?nl(o.segmentGroup,o.index,s.commands):LO(o.segmentGroup,o.index,s.commands);return Cw(i,o.segmentGroup,a,n,r)}function Qf(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function tl(t){return"object"==typeof t&&null!=t&&t.outlets}function Cw(t,e,n,r,i){let o,s={};r&&Object.entries(r).forEach(([u,c])=>{s[u]=Array.isArray(c)?c.map(l=>`${l}`):`${c}`}),o=t===e?n:OO(t,e,n);const a=RO(NO(o));return new za(a,s,i)}function OO(t,e,n){const r={};return Object.entries(t.children).forEach(([i,s])=>{r[i]=s===e?n:OO(s,e,n)}),new Ae(t.segments,r)}class FO{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Qf(r[0]))throw new T(4003,!1);const i=r.find(tl);if(i&&i!==EO(r))throw new T(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Yf{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function LO(t,e,n){if(t||(t=new Ae([],{})),0===t.segments.length&&t.hasChildren())return nl(t,e,n);const r=function TX(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const o=t.segments[i],a=n[r];if(tl(a))break;const u=`${a}`,c=r<n.length-1?n[r+1]:null;if(i>0&&void 0===u)break;if(u&&c&&"object"==typeof c&&void 0===c.outlets){if(!UO(u,c,o))return s;r+=2}else{if(!UO(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const s=new Ae(t.segments.slice(0,r.pathIndex),{});return s.children[ae]=new Ae(t.segments.slice(r.pathIndex),t.children),nl(s,0,i)}return r.match&&0===i.length?new Ae(t.segments,{}):r.match&&!t.hasChildren()?Tw(t,e,n):r.match?nl(t,0,i):Tw(t,e,n)}function nl(t,e,n){if(0===n.length)return new Ae(t.segments,{});{const r=function CX(t){return tl(t[0])?t[0].outlets:{[ae]:t}}(n),i={};if(!r[ae]&&t.children[ae]&&1===t.numberOfChildren&&0===t.children[ae].segments.length){const s=nl(t.children[ae],e,n);return new Ae(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{"string"==typeof o&&(o=[o]),null!==o&&(i[s]=LO(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{void 0===r[s]&&(i[s]=o)}),new Ae(t.segments,i)}}function Tw(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const s=n[i];if(tl(s)){const u=SX(s.outlets);return new Ae(r,u)}if(0===i&&Qf(n[0])){r.push(new Jc(t.segments[e].path,VO(n[0]))),i++;continue}const o=tl(s)?s.outlets[ae]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&Qf(a)?(r.push(new Jc(o,VO(a))),i+=2):(r.push(new Jc(o,{})),i++)}return new Ae(r,{})}function SX(t){const e={};return Object.entries(t).forEach(([n,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[n]=Tw(new Ae([],{}),0,r))}),e}function VO(t){const e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function UO(t,e,n){return t==n.path&&Wr(e,n.parameters)}const rl="imperative";class Kr{constructor(e,n){this.id=e,this.url=n}}class Sw extends Kr{constructor(e,n,r="imperative",i=null){super(e,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ao extends Kr{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Xf extends Kr{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class il extends Kr{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=16}}class Aw extends Kr{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class AX extends Kr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class MX extends Kr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xX extends Kr{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class RX extends Kr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class NX extends Kr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class kX{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class PX{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class OX{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class FX{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class LX{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class VX{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class BO{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class UX{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new sl,this.attachRef=null}}let sl=(()=>{class t{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){const i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new UX,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class $O{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=Mw(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=Mw(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=xw(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return xw(e,this._root).map(n=>n.value)}}function Mw(t,e){if(t===e.value)return e;for(const n of e.children){const r=Mw(t,n);if(r)return r}return null}function xw(t,e){if(t===e.value)return[e];for(const n of e.children){const r=xw(t,n);if(r.length)return r.unshift(e),r}return[]}class xi{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function qa(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class jO extends $O{constructor(e,n){super(e),this.snapshot=n,Rw(this,e)}toString(){return this.snapshot.toString()}}function HO(t,e){const n=function BX(t,e){const o=new Jf([],{},{},"",{},ae,e,null,{});return new zO("",new xi(o,[]))}(0,e),r=new Tr([new Jc("",{})]),i=new Tr({}),s=new Tr({}),o=new Tr({}),a=new Tr(""),u=new Wa(r,i,o,a,s,ae,e,n.root);return u.snapshot=n.root,new jO(new xi(u,[]),n)}class Wa{constructor(e,n,r,i,s,o,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(be(c=>c[Xc]))??ne(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(be(e=>Ga(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(be(e=>Ga(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function GO(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const i=n[r],s=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function $X(t){return t.reduce((e,n)=>({params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Jf{get title(){return this.data?.[Xc]}constructor(e,n,r,i,s,o,a,u,c){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=u,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ga(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ga(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class zO extends $O{constructor(e,n){super(n),this.url=e,Rw(this,n)}toString(){return qO(this._root)}}function Rw(t,e){e.value._routerState=t,e.children.forEach(n=>Rw(t,n))}function qO(t){const e=t.children.length>0?` { ${t.children.map(qO).join(", ")} } `:"";return`${t.value}${e}`}function Nw(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Wr(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Wr(e.params,n.params)||t.paramsSubject.next(n.params),function nX(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Wr(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.urlSubject.next(n.url),Wr(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function kw(t,e){const n=Wr(t.params,e.params)&&function oX(t,e){return so(t,e)&&t.every((n,r)=>Wr(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||kw(t.parent,e.parent))}let Pw=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=ae,this.activateEvents=new tt,this.deactivateEvents=new tt,this.attachEvents=new tt,this.detachEvents=new tt,this.parentContexts=V(sl),this.location=V(Er),this.changeDetector=V(bf),this.environmentInjector=V(Ii),this.inputBinder=V(Zf,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){const{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new T(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new T(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new T(4012,!1);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new T(4013,!1);this._activatedRoute=n;const i=this.location,o=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new jX(n,a,i.injector);this.activated=i.createComponent(o,{index:i.length,injector:u,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=X({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[ar]}),t})();class jX{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Wa?this.route:e===sl?this.childContexts:this.parent.get(e,n)}}const Zf=new L("");let WO=(()=>{class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){const{activatedRoute:r}=n,i=yw([r.queryParams,r.params,r.data]).pipe(Mi(([s,o,a],u)=>(a={...s,...o,...a},0===u?ne(a):Promise.resolve(a)))).subscribe(s=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(n);const o=function lK(t){const e=ve(t);if(!e)return null;const n=new Mc(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone}}}(r.component);if(o)for(const{templateName:a}of o.inputs)n.activatedComponentRef.setInput(a,s[a]);else this.unsubscribeFromRouteData(n)});this.outletDataSubscriptions.set(n,i)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac}),t})();function ol(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function GX(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return ol(t,r,i);return ol(t,r)})}(t,e,n);return new xi(r,i)}{if(t.shouldAttach(e.value)){const s=t.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>ol(t,a)),o}}const r=function zX(t){return new Wa(new Tr(t.url),new Tr(t.params),new Tr(t.queryParams),new Tr(t.fragment),new Tr(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(s=>ol(t,s));return new xi(r,i)}}const Ow="ngNavigationCancelingError";function KO(t,e){const{redirectTo:n,navigationBehaviorOptions:r}=oo(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=QO(!1,0,e);return i.url=n,i.navigationBehaviorOptions=r,i}function QO(t,e,n){const r=new Error("NavigationCancelingError: "+(t||""));return r[Ow]=!0,r.cancellationCode=e,n&&(r.url=n),r}function YO(t){return XO(t)&&oo(t.url)}function XO(t){return t&&t[Ow]}let JO=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=Zi({type:t,selectors:[["ng-component"]],standalone:!0,features:[YN],decls:1,vars:0,template:function(n,r){1&n&&le(0,"router-outlet")},dependencies:[Pw],encapsulation:2}),t})();function Fw(t){const e=t.children&&t.children.map(Fw),n=e?{...t,children:e}:{...t};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==ae&&(n.component=JO),n}function Sr(t){return t.outlet||ae}function al(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class JX{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Nw(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=qa(n);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=qa(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=qa(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){const i=qa(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new VX(s.value.snapshot))}),e.children.length&&this.forwardEvent(new FX(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(Nw(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),Nw(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=al(i.snapshot);o.attachRef=null,o.route=i,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class ZO{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class ep{constructor(e,n){this.component=e,this.route=n}}function ZX(t,e,n){const r=t._root;return ul(r,e?e._root:null,n,[r.value])}function Ka(t,e){const n=Symbol(),r=e.get(t,n);return r===n?"function"!=typeof t||function WG(t){return null!==th(t)}(t)?e.get(t):t:r}function ul(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=qa(e);return t.children.forEach(o=>{(function tJ(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const u=function nJ(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!so(t.url,e.url);case"pathParamsOrQueryParamsChange":return!so(t.url,e.url)||!Wr(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!kw(t,e)||!Wr(t.queryParams,e.queryParams);default:return!kw(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new ZO(r)):(s.data=o.data,s._resolvedData=o._resolvedData),ul(t,e,s.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new ep(a.outlet.component,o))}else o&&cl(e,a,i),i.canActivateChecks.push(new ZO(r)),ul(t,null,s.component?a?a.children:null:n,r,i)})(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>cl(a,n.getContext(o),i)),i}function cl(t,e,n){const r=qa(t),i=t.value;Object.entries(r).forEach(([s,o])=>{cl(o,i.component?e?e.children.getContext(s):null:e,n)}),n.canDeactivateChecks.push(new ep(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function ll(t){return"function"==typeof t}function eF(t){return t instanceof Hf||"EmptyError"===t?.name}const tp=Symbol("INITIAL_VALUE");function Qa(){return Mi(t=>yw(t.map(e=>e.pipe(Ha(1),function KY(...t){const e=Xu(t);return Bt((n,r)=>{(e?_w(t,n,e):_w(t,n)).subscribe(r)})}(tp)))).pipe(be(e=>{for(const n of e)if(!0!==n){if(n===tp)return tp;if(!1===n||n instanceof za)return n}return!0}),cs(e=>e!==tp),Ha(1)))}function tF(t){return function eG(...t){return RA(t)}(cn(e=>{if(oo(e))throw KO(0,e)}),be(e=>!0===e))}class np{constructor(e){this.segmentGroup=e||null}}class nF{constructor(e){this.urlTree=e}}function Ya(t){return Qc(new np(t))}function rF(t){return Qc(new nF(t))}class EJ{constructor(e,n){this.urlSerializer=e,this.urlTree=n}noMatchError(e){return new T(4002,!1)}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return ne(r);if(i.numberOfChildren>1||!i.children[ae])return Qc(new T(4e3,!1));i=i.children[ae]}}applyRedirectCommands(e,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r)}applyRedirectCreateUrlTree(e,n,r,i){const s=this.createSegmentGroup(e,n.root,r,i);return new za(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return Object.entries(e).forEach(([i,s])=>{if("string"==typeof s&&s.startsWith(":")){const a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){const s=this.createSegments(e,n.segments,r,i);let o={};return Object.entries(n.children).forEach(([a,u])=>{o[a]=this.createSegmentGroup(e,u,r,i)}),new Ae(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new T(4001,!1);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}const Lw={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function DJ(t,e,n,r,i){const s=Vw(t,e,n);return s.matched?(r=function qX(t,e){return t.providers&&!t._injector&&(t._injector=cv(t.providers,e,`Route: ${t.path}`)),t._injector??e}(e,r),function vJ(t,e,n,r){const i=e.canMatch;return i&&0!==i.length?ne(i.map(o=>{const a=Ka(o,t);return ls(function uJ(t){return t&&ll(t.canMatch)}(a)?a.canMatch(e,n):t.runInContext(()=>a(e,n)))})).pipe(Qa(),tF()):ne(!0)}(r,e,n).pipe(be(o=>!0===o?s:{...Lw}))):ne(s)}function Vw(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{...Lw}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(e.matcher||tX)(n,t,e);if(!i)return{...Lw};const s={};Object.entries(i.posParams??{}).forEach(([a,u])=>{s[a]=u.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function iF(t,e,n,r){return n.length>0&&function TJ(t,e,n){return n.some(r=>rp(t,e,r)&&Sr(r)!==ae)}(t,n,r)?{segmentGroup:new Ae(e,CJ(r,new Ae(n,t.children))),slicedSegments:[]}:0===n.length&&function SJ(t,e,n){return n.some(r=>rp(t,e,r))}(t,n,r)?{segmentGroup:new Ae(t.segments,bJ(t,0,n,r,t.children)),slicedSegments:n}:{segmentGroup:new Ae(t.segments,t.children),slicedSegments:n}}function bJ(t,e,n,r,i){const s={};for(const o of r)if(rp(t,n,o)&&!i[Sr(o)]){const a=new Ae([],{});s[Sr(o)]=a}return{...i,...s}}function CJ(t,e){const n={};n[ae]=e;for(const r of t)if(""===r.path&&Sr(r)!==ae){const i=new Ae([],{});n[Sr(r)]=i}return n}function rp(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}class RJ{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new EJ(this.urlSerializer,this.urlTree)}noMatchError(e){return new T(4002,!1)}recognize(){const e=iF(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,ae).pipe(io(n=>{if(n instanceof nF)return this.allowRedirects=!1,this.urlTree=n.urlTree,this.match(n.urlTree);throw n instanceof np?this.noMatchError(n):n}),be(n=>{const r=new Jf([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},ae,this.rootComponentType,null,{}),i=new xi(r,n),s=new zO("",i),o=function IX(t,e,n=null,r=null){return PO(kO(t),e,n,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,ae).pipe(io(r=>{throw r instanceof np?this.noMatchError(r):r}))}inheritParamsAndData(e){const n=e.value,r=GO(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0)}processChildren(e,n,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return xt(i).pipe(Yc(s=>{const o=r.children[s],a=function YX(t,e){const n=t.filter(r=>Sr(r)===e);return n.push(...t.filter(r=>Sr(r)!==e)),n}(n,s);return this.processSegmentGroup(e,a,o,s)}),function XY(t,e){return Bt(function YY(t,e,n,r,i){return(s,o)=>{let a=n,u=e,c=0;s.subscribe(Mt(o,l=>{const d=c++;u=a?t(u,l,d):(a=!0,l),r&&o.next(u)},i&&(()=>{a&&o.next(u),o.complete()})))}}(t,e,arguments.length>=2,!0))}((s,o)=>(s.push(...o),s)),Gf(null),function JY(t,e){const n=arguments.length>=2;return r=>r.pipe(t?cs((i,s)=>t(i,s,r)):js,ww(1),n?Gf(e):wO(()=>new Hf))}(),$t(s=>{if(null===s)return Ya(r);const o=sF(s);return function NJ(t){t.sort((e,n)=>e.value.outlet===ae?-1:n.value.outlet===ae?1:e.value.outlet.localeCompare(n.value.outlet))}(o),ne(o)}))}processSegment(e,n,r,i,s,o){return xt(n).pipe(Yc(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,s,o).pipe(io(u=>{if(u instanceof np)return ne(null);throw u}))),ro(a=>!!a),io(a=>{if(eF(a))return function MJ(t,e,n){return 0===e.length&&!t.children[n]}(r,i,s)?ne([]):Ya(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,s,o,a){return function AJ(t,e,n,r){return!!(Sr(t)===r||r!==ae&&rp(e,n,t))&&("**"===t.path||Vw(e,t,n).matched)}(r,i,s,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,s,o,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o):Ya(i):Ya(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,i){const s=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?rF(s):this.applyRedirects.lineralizeSegments(r,s).pipe($t(o=>{const a=new Ae(o,{});return this.processSegment(e,n,a,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){const{matched:a,consumedSegments:u,remainingSegments:c,positionalParamSegments:l}=Vw(n,i,s);if(!a)return Ya(n);const d=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,l);return i.redirectTo.startsWith("/")?rF(d):this.applyRedirects.lineralizeSegments(i,d).pipe($t(h=>this.processSegment(e,r,n,h.concat(c),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s,o){let a;if("**"===r.path){const u=i.length>0?EO(i).parameters:{};a=ne({snapshot:new Jf(i,u,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,oF(r),Sr(r),r.component??r._loadedComponent??null,r,aF(r)),consumedSegments:[],remainingSegments:[]}),n.children={}}else a=DJ(n,r,i,e).pipe(be(({matched:u,consumedSegments:c,remainingSegments:l,parameters:d})=>u?{snapshot:new Jf(c,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,oF(r),Sr(r),r.component??r._loadedComponent??null,r,aF(r)),consumedSegments:c,remainingSegments:l}:null));return a.pipe(Mi(u=>null===u?Ya(n):this.getChildConfig(e=r._injector??e,r,i).pipe(Mi(({routes:c})=>{const l=r._loadedInjector??e,{snapshot:d,consumedSegments:h,remainingSegments:f}=u,{segmentGroup:p,slicedSegments:m}=iF(n,h,f,c);if(0===m.length&&p.hasChildren())return this.processChildren(l,c,p).pipe(be(v=>null===v?null:[new xi(d,v)]));if(0===c.length&&0===m.length)return ne([new xi(d,[])]);const y=Sr(r)===s;return this.processSegment(l,c,p,m,y?ae:s,!0).pipe(be(v=>[new xi(d,v)]))}))))}getChildConfig(e,n,r){return n.children?ne({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?ne({routes:n._loadedRoutes,injector:n._loadedInjector}):function _J(t,e,n,r){const i=e.canLoad;return void 0===i||0===i.length?ne(!0):ne(i.map(o=>{const a=Ka(o,t);return ls(function iJ(t){return t&&ll(t.canLoad)}(a)?a.canLoad(e,n):t.runInContext(()=>a(e,n)))})).pipe(Qa(),tF())}(e,n,r).pipe($t(i=>i?this.configLoader.loadChildren(e,n).pipe(cn(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):function IJ(t){return Qc(QO(!1,3))}())):ne({routes:[],injector:e})}}function kJ(t){const e=t.value.routeConfig;return e&&""===e.path}function sF(t){const e=[],n=new Set;for(const r of t){if(!kJ(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=sF(r.children);e.push(new xi(r.value,i))}return e.filter(r=>!n.has(r))}function oF(t){return t.data||{}}function aF(t){return t.resolve||{}}function uF(t){return"string"==typeof t.title||null===t.title}function Uw(t){return Mi(e=>{const n=t(e);return n?xt(n).pipe(be(()=>e)):ne(e)})}const Xa=new L("ROUTES");let Bw=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=V($k)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return ne(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const r=ls(n.loadComponent()).pipe(be(cF),cn(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),Iw(()=>{this.componentLoaders.delete(n)})),i=new vO(r,()=>new hi).pipe(vw());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return ne({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(be(a=>{this.onLoadEndListener&&this.onLoadEndListener(r);let u,c;return Array.isArray(a)?c=a:(u=a.create(n).injector,c=u.get(Xa,[],H.Self|H.Optional).flat()),{routes:c.map(Fw),injector:u}}),Iw(()=>{this.childrenLoaders.delete(r)})),o=new vO(s,()=>new hi).pipe(vw());return this.childrenLoaders.set(r,o),o}loadModuleFactoryOrRoutes(n){return ls(n()).pipe(be(cF),$t(r=>r instanceof KN||Array.isArray(r)?ne(r):xt(this.compiler.compileModuleAsync(r))))}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function cF(t){return function BJ(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let ip=(()=>{class t{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new hi,this.configLoader=V(Bw),this.environmentInjector=V(Ii),this.urlSerializer=V(Zc),this.rootContexts=V(sl),this.inputBindingEnabled=null!==V(Zf,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>ne(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new PX(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new kX(i))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:r})}setupNavigations(n){return this.transitions=new Tr({id:0,currentUrlTree:n.currentUrlTree,currentRawUrl:n.currentUrlTree,extractedUrl:n.urlHandlingStrategy.extract(n.currentUrlTree),urlAfterRedirects:n.urlHandlingStrategy.extract(n.currentUrlTree),rawUrl:n.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:rl,restoredState:null,currentSnapshot:n.routerState.snapshot,targetSnapshot:null,currentRouterState:n.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(cs(r=>0!==r.id),be(r=>({...r,extractedUrl:n.urlHandlingStrategy.extract(r.rawUrl)})),Mi(r=>{let i=!1,s=!1;return ne(r).pipe(cn(o=>{this.currentNavigation={id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Mi(o=>{const a=n.browserUrlTree.toString(),u=!n.navigated||o.extractedUrl.toString()!==a||a!==n.currentUrlTree.toString();if(!u&&"reload"!==(o.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const l="";return this.events.next(new il(o.id,n.serializeUrl(r.rawUrl),l,0)),n.rawUrlTree=o.rawUrl,o.resolve(null),Pr}if(n.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return lF(o.source)&&(n.browserUrlTree=o.extractedUrl),ne(o).pipe(Mi(l=>{const d=this.transitions?.getValue();return this.events.next(new Sw(l.id,this.urlSerializer.serialize(l.extractedUrl),l.source,l.restoredState)),d!==this.transitions?.getValue()?Pr:Promise.resolve(l)}),function PJ(t,e,n,r,i,s){return $t(o=>function xJ(t,e,n,r,i,s,o="emptyOnly"){return new RJ(t,e,n,r,i,o,s).recognize()}(t,e,n,r,o.extractedUrl,i,s).pipe(be(({state:a,tree:u})=>({...o,targetSnapshot:a,urlAfterRedirects:u}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,n.paramsInheritanceStrategy),cn(l=>{if(r.targetSnapshot=l.targetSnapshot,r.urlAfterRedirects=l.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:l.urlAfterRedirects},"eager"===n.urlUpdateStrategy){if(!l.extras.skipLocationChange){const h=n.urlHandlingStrategy.merge(l.urlAfterRedirects,l.rawUrl);n.setBrowserUrl(h,l)}n.browserUrlTree=l.urlAfterRedirects}const d=new AX(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}));if(u&&n.urlHandlingStrategy.shouldProcessUrl(n.rawUrlTree)){const{id:l,extractedUrl:d,source:h,restoredState:f,extras:p}=o,m=new Sw(l,this.urlSerializer.serialize(d),h,f);this.events.next(m);const y=HO(0,this.rootComponentType).snapshot;return ne(r={...o,targetSnapshot:y,urlAfterRedirects:d,extras:{...p,skipLocationChange:!1,replaceUrl:!1}})}{const l="";return this.events.next(new il(o.id,n.serializeUrl(r.extractedUrl),l,1)),n.rawUrlTree=o.rawUrl,o.resolve(null),Pr}}),cn(o=>{const a=new MX(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(a)}),be(o=>r={...o,guards:ZX(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),function lJ(t,e){return $t(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?ne({...n,guardsResult:!0}):function dJ(t,e,n,r){return xt(t).pipe($t(i=>function yJ(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?ne(s.map(a=>{const u=al(e)??i,c=Ka(a,u);return ls(function aJ(t){return t&&ll(t.canDeactivate)}(c)?c.canDeactivate(t,e,n,r):u.runInContext(()=>c(t,e,n,r))).pipe(ro())})).pipe(Qa()):ne(!0)}(i.component,i.route,n,e,r)),ro(i=>!0!==i,!0))}(o,r,i,t).pipe($t(a=>a&&function rJ(t){return"boolean"==typeof t}(a)?function hJ(t,e,n,r){return xt(e).pipe(Yc(i=>_w(function pJ(t,e){return null!==t&&e&&e(new OX(t)),ne(!0)}(i.route.parent,r),function fJ(t,e){return null!==t&&e&&e(new LX(t)),ne(!0)}(i.route,r),function mJ(t,e,n){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function eJ(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(o)).filter(o=>null!==o).map(o=>_O(()=>ne(o.guards.map(u=>{const c=al(o.node)??n,l=Ka(u,c);return ls(function oJ(t){return t&&ll(t.canActivateChild)}(l)?l.canActivateChild(r,t):c.runInContext(()=>l(r,t))).pipe(ro())})).pipe(Qa())));return ne(s).pipe(Qa())}(t,i.path,n),function gJ(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return ne(!0);const i=r.map(s=>_O(()=>{const o=al(e)??n,a=Ka(s,o);return ls(function sJ(t){return t&&ll(t.canActivate)}(a)?a.canActivate(e,t):o.runInContext(()=>a(e,t))).pipe(ro())}));return ne(i).pipe(Qa())}(t,i.route,n))),ro(i=>!0!==i,!0))}(r,s,t,e):ne(a)),be(a=>({...n,guardsResult:a})))})}(this.environmentInjector,o=>this.events.next(o)),cn(o=>{if(r.guardsResult=o.guardsResult,oo(o.guardsResult))throw KO(0,o.guardsResult);const a=new xX(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(a)}),cs(o=>!!o.guardsResult||(n.restoreHistory(o),this.cancelNavigationTransition(o,"",3),!1)),Uw(o=>{if(o.guards.canActivateChecks.length)return ne(o).pipe(cn(a=>{const u=new RX(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}),Mi(a=>{let u=!1;return ne(a).pipe(function OJ(t,e){return $t(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return ne(n);let s=0;return xt(i).pipe(Yc(o=>function FJ(t,e,n,r){const i=t.routeConfig,s=t._resolve;return void 0!==i?.title&&!uF(i)&&(s[Xc]=i.title),function LJ(t,e,n,r){const i=function VJ(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===i.length)return ne({});const s={};return xt(i).pipe($t(o=>function UJ(t,e,n,r){const i=al(e)??r,s=Ka(t,i);return ls(s.resolve?s.resolve(e,n):i.runInContext(()=>s(e,n)))}(t[o],e,n,r).pipe(ro(),cn(a=>{s[o]=a}))),ww(1),function ZY(t){return be(()=>t)}(s),io(o=>eF(o)?Pr:Qc(o)))}(s,t,e,r).pipe(be(o=>(t._resolvedData=o,t.data=GO(t,n).resolve,i&&uF(i)&&(t.data[Xc]=i.title),null)))}(o.route,r,t,e)),cn(()=>s++),ww(1),$t(o=>s===i.length?ne(n):Pr))})}(n.paramsInheritanceStrategy,this.environmentInjector),cn({next:()=>u=!0,complete:()=>{u||(n.restoreHistory(a),this.cancelNavigationTransition(a,"",2))}}))}),cn(a=>{const u=new NX(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}))}),Uw(o=>{const a=u=>{const c=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&c.push(this.configLoader.loadComponent(u.routeConfig).pipe(cn(l=>{u.component=l}),be(()=>{})));for(const l of u.children)c.push(...a(l));return c};return yw(a(o.targetSnapshot.root)).pipe(Gf(),Ha(1))}),Uw(()=>this.afterPreactivation()),be(o=>{const a=function HX(t,e,n){const r=ol(t,e._root,n?n._root:void 0);return new jO(r,e)}(n.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return r={...o,targetRouterState:a}}),cn(o=>{n.currentUrlTree=o.urlAfterRedirects,n.rawUrlTree=n.urlHandlingStrategy.merge(o.urlAfterRedirects,o.rawUrl),n.routerState=o.targetRouterState,"deferred"===n.urlUpdateStrategy&&(o.extras.skipLocationChange||n.setBrowserUrl(n.rawUrlTree,o),n.browserUrlTree=o.urlAfterRedirects)}),((t,e,n,r)=>be(i=>(new JX(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)))(this.rootContexts,n.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),Ha(1),cn({next:o=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,n.navigated=!0,this.events.next(new ao(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(n.currentUrlTree))),n.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),Iw(()=>{i||s||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),io(o=>{if(s=!0,XO(o)){YO(o)||(n.navigated=!0,n.restoreHistory(r,!0));const a=new Xf(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode);if(this.events.next(a),YO(o)){const u=n.urlHandlingStrategy.merge(o.url,n.rawUrlTree),c={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===n.urlUpdateStrategy||lF(r.source)};n.scheduleNavigation(u,rl,null,c,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{n.restoreHistory(r,!0);const a=new Aw(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);this.events.next(a);try{r.resolve(n.errorHandler(o))}catch(u){r.reject(u)}}return Pr}))}))}cancelNavigationTransition(n,r,i){const s=new Xf(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(s),n.resolve(!1)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function lF(t){return t!==rl}let dF=(()=>{class t{buildTitle(n){let r,i=n.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===ae);return r}getResolvedTitleForRoute(n){return n.data[Xc]}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:function(){return V($J)},providedIn:"root"}),t})(),$J=(()=>{class t extends dF{constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}}return t.\u0275fac=function(n){return new(n||t)($(lO))},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),jJ=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:function(){return V(GJ)},providedIn:"root"}),t})();class HJ{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}let GJ=(()=>{class t extends HJ{}return t.\u0275fac=function(){let e;return function(r){return(e||(e=zt(t)))(r||t)}}(),t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const sp=new L("",{providedIn:"root",factory:()=>({})});let zJ=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:function(){return V(qJ)},providedIn:"root"}),t})(),qJ=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var Zn=(()=>((Zn=Zn||{})[Zn.COMPLETE=0]="COMPLETE",Zn[Zn.FAILED=1]="FAILED",Zn[Zn.REDIRECTING=2]="REDIRECTING",Zn))();function hF(t,e){t.events.pipe(cs(n=>n instanceof ao||n instanceof Xf||n instanceof Aw||n instanceof il),be(n=>n instanceof ao||n instanceof il?Zn.COMPLETE:n instanceof Xf&&(0===n.code||1===n.code)?Zn.REDIRECTING:Zn.FAILED),cs(n=>n!==Zn.REDIRECTING),Ha(1)).subscribe(()=>{e()})}function WJ(t){throw t}function KJ(t,e,n){return e.parse("/")}const QJ={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},YJ={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let er=(()=>{class t{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=V(Bk),this.isNgZoneEnabled=!1,this.options=V(sp,{optional:!0})||{},this.pendingTasks=V(DP),this.errorHandler=this.options.errorHandler||WJ,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||KJ,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=V(zJ),this.routeReuseStrategy=V(jJ),this.titleStrategy=V(dF),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=V(Xa,{optional:!0})?.flat()??[],this.navigationTransitions=V(ip),this.urlSerializer=V(Zc),this.location=V(zv),this.componentInputBindingEnabled=!!V(Zf,{optional:!0}),this.isNgZoneEnabled=V(Se)instanceof Se&&Se.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new za,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=HO(0,null),this.navigationTransitions.setupNavigations(this).subscribe(n=>{this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId??0},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)})}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const n=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),rl,n)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r="popstate"===n.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(n.url,r,n.state)},0)}))}navigateToSyncWithBrowser(n,r,i){const s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){const u={...i};delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(s.state=u)}const a=this.parseUrl(n);this.scheduleNavigation(a,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(Fw),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(n,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:u}=r,c=u?this.currentUrlTree.fragment:o;let d,l=null;switch(a){case"merge":l={...this.currentUrlTree.queryParams,...s};break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=s||null}null!==l&&(l=this.removeEmptyProps(l));try{d=kO(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof n[0]||!n[0].startsWith("/"))&&(n=[]),d=this.currentUrlTree.root}return PO(d,n,l,c??null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=oo(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,rl,null,r)}navigate(n,r={skipLocationChange:!1}){return function XJ(t){for(let e=0;e<t.length;e++)if(null==t[e])throw new T(4008,!1)}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,n)}return r}isActive(n,r){let i;if(i=!0===r?{...QJ}:!1===r?{...YJ}:r,oo(n))return bO(this.currentUrlTree,n,i);const s=this.parseUrl(n);return bO(this.currentUrlTree,s,i)}removeEmptyProps(n){return Object.keys(n).reduce((r,i)=>{const s=n[i];return null!=s&&(r[i]=s),r},{})}scheduleNavigation(n,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,u,c;o?(a=o.resolve,u=o.reject,c=o.promise):c=new Promise((d,h)=>{a=d,u=h});const l=this.pendingTasks.add();return hF(this,()=>{Promise.resolve().then(()=>this.pendingTasks.remove(l))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:s,resolve:a,reject:u,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(d=>Promise.reject(d))}setBrowserUrl(n,r){const i=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const o={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",o)}else{const s={...r.extras.state,...this.generateNgRouterState(r.id,(this.browserPageId??0)+1)};this.location.go(i,"",s)}}restoreHistory(n,r=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-(this.browserPageId??this.currentPageId);0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class fF{}let eZ=(()=>{class t{constructor(n,r,i,s,o){this.router=n,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(cs(n=>n instanceof ao),Yc(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=cv(s.providers,n,`Route: ${s.path}`));const o=s._injector??n,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return xt(i).pipe(Jo())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(n,r):ne(null);const s=i.pipe($t(o=>null===o?ne(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??n,o.routes))));return r.loadComponent&&!r._loadedComponent?xt([s,this.loader.loadComponent(r)]).pipe(Jo()):s})}}return t.\u0275fac=function(n){return new(n||t)($(er),$($k),$(Ii),$(fF),$(Bw))},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const jw=new L("");let pF=(()=>{class t{constructor(n,r,i,s,o={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Sw?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof ao?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof il&&0===n.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof BO&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new BO(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return t.\u0275fac=function(n){!function H1(){throw new Error("invalid")}()},t.\u0275prov=j({token:t,factory:t.\u0275fac}),t})();function Ri(t,e){return{\u0275kind:t,\u0275providers:e}}function mF(){const t=V(Ln);return e=>{const n=t.get($a);if(e!==n.components[0])return;const r=t.get(er),i=t.get(yF);1===t.get(Hw)&&r.initialNavigation(),t.get(_F,null,H.Optional)?.setUpPreloading(),t.get(jw,null,H.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const yF=new L("",{factory:()=>new hi}),Hw=new L("",{providedIn:"root",factory:()=>1}),_F=new L("");function iZ(t){return Ri(0,[{provide:_F,useExisting:eZ},{provide:fF,useExisting:t}])}const vF=new L("ROUTER_FORROOT_GUARD"),oZ=[zv,{provide:Zc,useClass:Ew},er,sl,{provide:Wa,useFactory:function gF(t){return t.routerState.root},deps:[er]},Bw,[]];function aZ(){return new Jk("Router",er)}let Gw=(()=>{class t{constructor(n){}static forRoot(n,r){return{ngModule:t,providers:[oZ,[],{provide:Xa,multi:!0,useValue:n},{provide:vF,useFactory:dZ,deps:[[er,new Dt,new Ah]]},{provide:sp,useValue:r||{}},r?.useHash?{provide:no,useClass:gK}:{provide:no,useClass:SP},{provide:jw,useFactory:()=>{const t=V(kQ),e=V(Se),n=V(sp),r=V(ip),i=V(Zc);return n.scrollOffset&&t.setOffset(n.scrollOffset),new pF(i,r,t,e,n)}},r?.preloadingStrategy?iZ(r.preloadingStrategy).\u0275providers:[],{provide:Jk,multi:!0,useFactory:aZ},r?.initialNavigation?hZ(r):[],r?.bindToComponentInputs?Ri(8,[WO,{provide:Zf,useExisting:WO}]).\u0275providers:[],[{provide:wF,useFactory:mF},{provide:Pv,multi:!0,useExisting:wF}]]}}static forChild(n){return{ngModule:t,providers:[{provide:Xa,multi:!0,useValue:n}]}}}return t.\u0275fac=function(n){return new(n||t)($(vF,8))},t.\u0275mod=nn({type:t}),t.\u0275inj=jt({}),t})();function dZ(t){return"guarded"}function hZ(t){return["disabled"===t.initialNavigation?Ri(3,[{provide:Cv,multi:!0,useFactory:()=>{const e=V(er);return()=>{e.setUpLocationChangeListener()}}},{provide:Hw,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?Ri(2,[{provide:Hw,useValue:0},{provide:Cv,multi:!0,deps:[Ln],useFactory:e=>{const n=e.get(fK,Promise.resolve());return()=>n.then(()=>new Promise(r=>{const i=e.get(er),s=e.get(yF);hF(i,()=>{r(!0)}),e.get(ip).afterPreactivation=()=>(r(!0),s.closed?ne(void 0):s),i.initialNavigation()}))}}]).\u0275providers:[]]}const wF=new L(""),pZ=[];let gZ=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=nn({type:t}),t.\u0275inj=jt({imports:[Gw.forRoot(pZ),Gw]}),t})(),mZ=(()=>{class t{constructor(){this.title="estadisticas"}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=Zi({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(n,r){1&n&&le(0,"router-outlet")},dependencies:[Pw]}),t})();function IF(t,e,n,r,i,s,o){try{var a=t[s](o),u=a.value}catch(c){return void n(c)}a.done?e(u):Promise.resolve(u).then(r,i)}function g(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var s=t.apply(e,n);function o(u){IF(s,r,i,o,a,"next",u)}function a(u){IF(s,r,i,o,a,"throw",u)}o(void 0)})}}const EF=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},qw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0;let h=(15&a)<<2|c>>6,f=63&c;u||(f=64,o||(h=64)),r.push(n[s>>2],n[(3&s)<<4|a>>4],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(EF(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const u=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(1023&u))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,null==s||null==a||null==c||null==d)throw new wZ;r.push(s<<2|a>>4),64!==c&&(r.push(a<<4&240|c>>2),64!==d&&r.push(c<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class wZ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const op=function(t){return function(t){const e=EF(t);return qw.encodeByteArray(e,!0)}(t).replace(/\./g,"")},ap=function(t){try{return qw.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null},up=()=>{try{return function DZ(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const t=process.env.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&ap(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}},bF=t=>{var e,n;return null===(n=null===(e=up())||void 0===e?void 0:e.emulatorHosts)||void 0===n?void 0:n[t]},CF=t=>{const e=bF(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return"["===e[0]?[e.substring(1,n-1),r]:[e.substring(0,n),r]},TF=()=>{var t;return null===(t=up())||void 0===t?void 0:t.config},SF=t=>{var e;return null===(e=up())||void 0===e?void 0:e[`_${t}`]};class cp{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,r))}}}function AF(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[op(JSON.stringify({alg:"none",type:"JWT"})),op(JSON.stringify(o)),""].join(".")}function Nt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ww(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function uo(){try{return"object"==typeof indexedDB}catch{return!1}}function dl(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(n){e(n)}})}function Kw(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class tr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,tr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Qr.prototype.create)}}class Qr{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function NZ(t,e){return t.replace(kZ,(n,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new tr(i,`${this.serviceName}: ${o} (${i}).`,r)}}const kZ=/\{\$([^}]+)}/g;function dp(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(xF(s)&&xF(o)){if(!dp(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function xF(t){return null!==t&&"object"==typeof t}function hp(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}class FZ{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(void 0===e&&void 0===n&&void 0===r)throw new Error("Missing Observer.");i=function LZ(t,e){if("object"!=typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"==typeof t[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:n,complete:r},void 0===i.next&&(i.next=Qw),void 0===i.error&&(i.error=Qw),void 0===i.complete&&(i.complete=Qw);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Qw(){}const VZ=1e3,UZ=2,BZ=144e5,$Z=.5;function Xw(t,e=VZ,n=UZ){const r=e*Math.pow(n,t),i=Math.round($Z*r*(Math.random()-.5)*2);return Math.min(BZ,r+i)}function In(t){return t&&t._delegate?t._delegate:t}class qt{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const co="[DEFAULT]";class HZ{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new cp;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(n=e?.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function zZ(t){return"EAGER"===t.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:co})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=co){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return g(function*(){const n=Array.from(e.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=co){return this.instances.has(e)}getOptions(e=co){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(t=e,t===co?void 0:t),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var t;return r||null}normalizeInstanceIdentifier(e=co){return this.component?this.component.multipleInstances?e:co:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class qZ{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new HZ(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}const Jw=[];var J=(()=>((J=J||{})[J.DEBUG=0]="DEBUG",J[J.VERBOSE=1]="VERBOSE",J[J.INFO=2]="INFO",J[J.WARN=3]="WARN",J[J.ERROR=4]="ERROR",J[J.SILENT=5]="SILENT",J))();const RF={debug:J.DEBUG,verbose:J.VERBOSE,info:J.INFO,warn:J.WARN,error:J.ERROR,silent:J.SILENT},WZ=J.INFO,KZ={[J.DEBUG]:"log",[J.VERBOSE]:"log",[J.INFO]:"info",[J.WARN]:"warn",[J.ERROR]:"error"},QZ=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=KZ[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class Ja{constructor(e){this.name=e,this._logLevel=WZ,this._logHandler=QZ,this._userLogHandler=null,Jw.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in J))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?RF[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,J.DEBUG,...e),this._logHandler(this,J.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,J.VERBOSE,...e),this._logHandler(this,J.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,J.INFO,...e),this._logHandler(this,J.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,J.WARN,...e),this._logHandler(this,J.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,J.ERROR,...e),this._logHandler(this,J.ERROR,...e)}}const YZ=(t,e)=>e.some(n=>t instanceof n);let NF,kF;const PF=new WeakMap,Zw=new WeakMap,OF=new WeakMap,eI=new WeakMap,tI=new WeakMap;let nI={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return Zw.get(t);if("objectStoreNames"===e)return t.objectStoreNames||OF.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ds(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function ree(t){return"function"==typeof t?function nee(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function JZ(){return kF||(kF=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(rI(this),e),ds(PF.get(this))}:function(...e){return ds(t.apply(rI(this),e))}:function(e,...n){const r=t.call(rI(this),e,...n);return OF.set(r,e.sort?e.sort():[e]),ds(r)}}(t):(t instanceof IDBTransaction&&function eee(t){if(Zw.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Zw.set(t,e)}(t),YZ(t,function XZ(){return NF||(NF=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,nI):t)}function ds(t){if(t instanceof IDBRequest)return function ZZ(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(ds(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&PF.set(n,t)}).catch(()=>{}),tI.set(e,t),e}(t);if(eI.has(t))return eI.get(t);const e=ree(t);return e!==t&&(eI.set(t,e),tI.set(e,t)),e}const rI=t=>tI.get(t),see=["get","getKey","getAll","getAllKeys","count"],oee=["put","add","delete","clear"],iI=new Map;function FF(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(iI.get(e))return iI.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=oee.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!see.includes(n))return;const s=function(){var o=g(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[n](...u),i&&c.done]))[0]});return function(u){return o.apply(this,arguments)}}();return iI.set(e,s),s}!function tee(t){nI=t(nI)}(t=>({...t,get:(e,n,r)=>FF(e,n)||t.get(e,n,r),has:(e,n)=>!!FF(e,n)||t.has(e,n)}));class aee{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function uee(t){const e=t.getComponent();return"VERSION"===e?.type}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const sI="@firebase/app",lo=new Ja("@firebase/app"),fp="[DEFAULT]",Pee={[sI]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},ho=new Map,pp=new Map;function Oee(t,e){try{t.container.addComponent(e)}catch(n){lo.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ln(t){const e=t.name;if(pp.has(e))return lo.debug(`There were multiple attempts to register component ${e}.`),!1;pp.set(e,t);for(const n of ho.values())Oee(n,t);return!0}function fo(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}const Ni=new Qr("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Lee{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new qt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ni.create("app-deleted",{appName:this._name})}}const hs="9.22.1";function VF(t,e={}){let n=t;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:fp,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw Ni.create("bad-app-name",{appName:String(i)});if(n||(n=TF()),!n)throw Ni.create("no-options");const s=ho.get(i);if(s){if(dp(n,s.options)&&dp(r,s.config))return s;throw Ni.create("duplicate-app",{appName:i})}const o=new qZ(i);for(const u of pp.values())o.addComponent(u);const a=new Lee(n,r,o);return ho.set(i,a),a}function gp(t=fp){const e=ho.get(t);if(!e&&t===fp&&TF())return VF();if(!e)throw Ni.create("no-app",{appName:t});return e}function UF(){return Array.from(ho.values())}function Ve(t,e,n){var r;let i=null!==(r=Pee[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void lo.warn(a.join(" "))}ln(new qt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const Vee="firebase-heartbeat-database",Uee=1,hl="firebase-heartbeat-store";let aI=null;function BF(){return aI||(aI=function iee(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=ds(o);return r&&o.addEventListener("upgradeneeded",u=>{r(ds(o.result),u.oldVersion,u.newVersion,ds(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}(Vee,Uee,{upgrade:(t,e)=>{0===e&&t.createObjectStore(hl)}}).catch(t=>{throw Ni.create("idb-open",{originalErrorMessage:t.message})})),aI}function uI(){return(uI=g(function*(t){try{return yield(yield BF()).transaction(hl).objectStore(hl).get(jF(t))}catch(e){if(e instanceof tr)lo.warn(e.message);else{const n=Ni.create("idb-get",{originalErrorMessage:e?.message});lo.warn(n.message)}}})).apply(this,arguments)}function $F(t,e){return cI.apply(this,arguments)}function cI(){return(cI=g(function*(t,e){try{const r=(yield BF()).transaction(hl,"readwrite");yield r.objectStore(hl).put(e,jF(t)),yield r.done}catch(n){if(n instanceof tr)lo.warn(n.message);else{const r=Ni.create("idb-set",{originalErrorMessage:n?.message});lo.warn(r.message)}}})).apply(this,arguments)}function jF(t){return`${t.name}!${t.options.appId}`}class Hee{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new zee(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return g(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=HF();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(s=>s.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return g(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const n=HF(),{heartbeatsToSend:r,unsentEntries:i}=function Gee(t,e=1024){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),GF(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),GF(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=op(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function HF(){return(new Date).toISOString().substring(0,10)}class zee{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return g(function*(){return!!uo()&&dl().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return g(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function Bee(t){return uI.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var n=this;return g(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return $F(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var n=this;return g(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return $F(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function GF(t){return op(JSON.stringify({version:2,heartbeats:t})).length}!function qee(t){ln(new qt("platform-logger",e=>new aee(e),"PRIVATE")),ln(new qt("heartbeat",e=>new Hee(e),"PRIVATE")),Ve(sI,"0.9.11",t),Ve(sI,"0.9.11","esm2017"),Ve("fire-js","")}(""),Ve("firebase","9.22.1","app");const Qee=(t,e)=>e.some(n=>t instanceof n);let zF,qF;const WF=new WeakMap,lI=new WeakMap,KF=new WeakMap,dI=new WeakMap,hI=new WeakMap;let fI={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return lI.get(t);if("objectStoreNames"===e)return t.objectStoreNames||KF.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return fs(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function nte(t){return"function"==typeof t?function tte(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Xee(){return qF||(qF=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(pI(this),e),fs(WF.get(this))}:function(...e){return fs(t.apply(pI(this),e))}:function(e,...n){const r=t.call(pI(this),e,...n);return KF.set(r,e.sort?e.sort():[e]),fs(r)}}(t):(t instanceof IDBTransaction&&function Zee(t){if(lI.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});lI.set(t,e)}(t),Qee(t,function Yee(){return zF||(zF=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,fI):t)}function fs(t){if(t instanceof IDBRequest)return function Jee(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(fs(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&WF.set(n,t)}).catch(()=>{}),hI.set(e,t),e}(t);if(dI.has(t))return dI.get(t);const e=nte(t);return e!==t&&(dI.set(t,e),hI.set(e,t)),e}const pI=t=>hI.get(t),ite=["get","getKey","getAll","getAllKeys","count"],ste=["put","add","delete","clear"],gI=new Map;function QF(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(gI.get(e))return gI.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=ste.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!ite.includes(n))return;const s=function(){var o=g(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[n](...u),i&&c.done]))[0]});return function(u){return o.apply(this,arguments)}}();return gI.set(e,s),s}!function ete(t){fI=t(fI)}(t=>({...t,get:(e,n,r)=>QF(e,n)||t.get(e,n,r),has:(e,n)=>!!QF(e,n)||t.has(e,n)}));const YF="@firebase/installations",mI="0.6.4",XF=1e4,JF=`w:${mI}`,ZF="FIS_v2",ote="https://firebaseinstallations.googleapis.com/v1",ate=36e5,ki=new Qr("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function eL(t){return t instanceof tr&&t.code.includes("request-failed")}function yI({projectId:t}){return`${ote}/projects/${t}/installations`}function tL(t){return{token:t.token,requestStatus:2,expiresIn:dte(t.expiresIn),creationTime:Date.now()}}function _I(t,e){return vI.apply(this,arguments)}function vI(){return(vI=g(function*(t,e){const r=(yield e.json()).error;return ki.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function nL({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function wI(t){return II.apply(this,arguments)}function II(){return(II=g(function*(t){const e=yield t();return e.status>=500&&e.status<600?t():e})).apply(this,arguments)}function dte(t){return Number(t.replace("s","000"))}function EI(){return(EI=g(function*({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=yI(t),i=nL(t),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({fid:n,authVersion:ZF,appId:t.appId,sdkVersion:JF})},u=yield wI(()=>fetch(r,a));if(u.ok){const c=yield u.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:tL(c.authToken)}}throw yield _I("Create Installation",u)})).apply(this,arguments)}function iL(t){return new Promise(e=>{setTimeout(e,t)})}const gte=/^[cdef][\w-]{21}$/,DI="";function mte(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=function yte(t){return function pte(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}(t).substr(0,22)}(t);return gte.test(n)?n:DI}catch{return DI}}function Za(t){return`${t.appName}!${t.appId}`}const eu=new Map;function sL(t,e){const n=Za(t);oL(n,e),function wte(t,e){const n=function aL(){return!po&&"BroadcastChannel"in self&&(po=new BroadcastChannel("[Firebase] FID Change"),po.onmessage=t=>{oL(t.data.key,t.data.fid)}),po}();n&&n.postMessage({key:t,fid:e}),function uL(){0===eu.size&&po&&(po.close(),po=null)}()}(n,e)}function oL(t,e){const n=eu.get(t);if(n)for(const r of n)r(e)}let po=null;const Ite="firebase-installations-database",Ete=1,go="firebase-installations-store";let bI=null;function CI(){return bI||(bI=function rte(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=fs(o);return r&&o.addEventListener("upgradeneeded",u=>{r(fs(o.result),u.oldVersion,u.newVersion,fs(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}(Ite,Ete,{upgrade:(t,e)=>{0===e&&t.createObjectStore(go)}})),bI}function mp(t,e){return TI.apply(this,arguments)}function TI(){return(TI=g(function*(t,e){const n=Za(t),i=(yield CI()).transaction(go,"readwrite"),s=i.objectStore(go),o=yield s.get(n);return yield s.put(e,n),yield i.done,(!o||o.fid!==e.fid)&&sL(t,e.fid),e})).apply(this,arguments)}function SI(t){return AI.apply(this,arguments)}function AI(){return(AI=g(function*(t){const e=Za(t),r=(yield CI()).transaction(go,"readwrite");yield r.objectStore(go).delete(e),yield r.done})).apply(this,arguments)}function fl(t,e){return MI.apply(this,arguments)}function MI(){return(MI=g(function*(t,e){const n=Za(t),i=(yield CI()).transaction(go,"readwrite"),s=i.objectStore(go),o=yield s.get(n),a=e(o);return void 0===a?yield s.delete(n):yield s.put(a,n),yield i.done,a&&(!o||o.fid!==a.fid)&&sL(t,a.fid),a})).apply(this,arguments)}function xI(t){return RI.apply(this,arguments)}function RI(){return RI=g(function*(t){let e;const n=yield fl(t.appConfig,r=>{const i=function Dte(t){return lL(t||{fid:mte(),registrationStatus:0})}(r),s=function bte(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(ki.create("app-offline"))};const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function Cte(t,e){return NI.apply(this,arguments)}(t,n);return{installationEntry:n,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:Tte(t)}:{installationEntry:e}}(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===DI?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}}),RI.apply(this,arguments)}function NI(){return NI=g(function*(t,e){try{const n=yield function fte(t,e){return EI.apply(this,arguments)}(t,e);return mp(t.appConfig,n)}catch(n){throw eL(n)&&409===n.customData.serverCode?yield SI(t.appConfig):yield mp(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}),NI.apply(this,arguments)}function Tte(t){return kI.apply(this,arguments)}function kI(){return(kI=g(function*(t){let e=yield cL(t.appConfig);for(;1===e.registrationStatus;)yield iL(100),e=yield cL(t.appConfig);if(0===e.registrationStatus){const{installationEntry:n,registrationPromise:r}=yield xI(t);return r||n}return e})).apply(this,arguments)}function cL(t){return fl(t,e=>{if(!e)throw ki.create("installation-not-found");return lL(e)})}function lL(t){return function Ste(t){return 1===t.registrationStatus&&t.registrationTime+XF<Date.now()}(t)?{fid:t.fid,registrationStatus:0}:t}function PI(){return(PI=g(function*({appConfig:t,heartbeatServiceProvider:e},n){const r=function Mte(t,{fid:e}){return`${yI(t)}/${e}/authTokens:generate`}(t,n),i=function rL(t,{refreshToken:e}){const n=nL(t);return n.append("Authorization",function hte(t){return`${ZF} ${t}`}(e)),n}(t,n),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:JF,appId:t.appId}})},u=yield wI(()=>fetch(r,a));if(u.ok)return tL(yield u.json());throw yield _I("Generate Auth Token",u)})).apply(this,arguments)}function OI(t){return FI.apply(this,arguments)}function FI(){return FI=g(function*(t,e=!1){let n;const r=yield fl(t.appConfig,s=>{if(!hL(s))throw ki.create("not-registered");const o=s.authToken;if(!e&&function Nte(t){return 2===t.requestStatus&&!function kte(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+ate}(t)}(o))return s;if(1===o.requestStatus)return n=function xte(t,e){return LI.apply(this,arguments)}(t,e),s;{if(!navigator.onLine)throw ki.create("app-offline");const a=function Pte(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}(s);return n=function Rte(t,e){return VI.apply(this,arguments)}(t,a),a}});return n?yield n:r.authToken}),FI.apply(this,arguments)}function LI(){return(LI=g(function*(t,e){let n=yield dL(t.appConfig);for(;1===n.authToken.requestStatus;)yield iL(100),n=yield dL(t.appConfig);const r=n.authToken;return 0===r.requestStatus?OI(t,e):r})).apply(this,arguments)}function dL(t){return fl(t,e=>{if(!hL(e))throw ki.create("not-registered");return function Ote(t){return 1===t.requestStatus&&t.requestTime+XF<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function VI(){return VI=g(function*(t,e){try{const n=yield function Ate(t,e){return PI.apply(this,arguments)}(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return yield mp(t.appConfig,r),n}catch(n){if(!eL(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield mp(t.appConfig,r)}else yield SI(t.appConfig);throw n}}),VI.apply(this,arguments)}function hL(t){return void 0!==t&&2===t.registrationStatus}function UI(){return(UI=g(function*(t){const e=t,{installationEntry:n,registrationPromise:r}=yield xI(e);return r?r.catch(console.error):OI(e).catch(console.error),n.fid})).apply(this,arguments)}function BI(){return BI=g(function*(t,e=!1){const n=t;return yield function Vte(t){return $I.apply(this,arguments)}(n),(yield OI(n,e)).token}),BI.apply(this,arguments)}function $I(){return($I=g(function*(t){const{registrationPromise:e}=yield xI(t);e&&(yield e)})).apply(this,arguments)}function GI(t){return ki.create("missing-app-config-values",{valueName:t})}const fL="installations",Hte=t=>{const e=t.getProvider("app").getImmediate(),n=function $te(t){if(!t||!t.options)throw GI("App Configuration");if(!t.name)throw GI("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw GI(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e);return{app:e,appConfig:n,heartbeatServiceProvider:fo(e,"heartbeat"),_delete:()=>Promise.resolve()}},Gte=t=>{const n=fo(t.getProvider("app").getImmediate(),fL).getImmediate();return{getId:()=>function Fte(t){return UI.apply(this,arguments)}(n),getToken:i=>function Lte(t){return BI.apply(this,arguments)}(n,i)}};(function zte(){ln(new qt(fL,Hte,"PUBLIC")),ln(new qt("installations-internal",Gte,"PRIVATE"))})(),Ve(YF,mI),Ve(YF,mI,"esm2017");const zI="@firebase/remote-config",Un=new Qr("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class nne{constructor(e,n,r,i){this.client=e,this.storage=n,this.storageCache=r,this.logger=i}isCachedDataFresh(e,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-n,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var n=this;return g(function*(){const[r,i]=yield Promise.all([n.storage.getLastSuccessfulFetchTimestampMillis(),n.storage.getLastSuccessfulFetchResponse()]);if(i&&n.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const s=yield n.client.fetch(e),o=[n.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===s.status&&o.push(n.storage.setLastSuccessfulFetchResponse(s)),yield Promise.all(o),s})()}}function rne(t=navigator){return t.languages&&t.languages[0]||t.language}class ine{constructor(e,n,r,i,s,o){this.firebaseInstallations=e,this.sdkVersion=n,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=o}fetch(e){var n=this;return g(function*(){const[r,i]=yield Promise.all([n.firebaseInstallations.getId(),n.firebaseInstallations.getToken()]),o=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${n.projectId}/namespaces/${n.namespace}:fetch?key=${n.apiKey}`,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},u={sdk_version:n.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:n.appId,language_code:rne()},c={method:"POST",headers:a,body:JSON.stringify(u)},l=fetch(o,c),d=new Promise((v,_)=>{e.signal.addEventListener(()=>{const E=new Error("The operation was aborted.");E.name="AbortError",_(E)})});let h;try{yield Promise.race([l,d]),h=yield l}catch(v){let _="fetch-client-network";throw"AbortError"===v?.name&&(_="fetch-timeout"),Un.create(_,{originalErrorMessage:v?.message})}let f=h.status;const p=h.headers.get("ETag")||void 0;let m,y;if(200===h.status){let v;try{v=yield h.json()}catch(_){throw Un.create("fetch-client-parse",{originalErrorMessage:_?.message})}m=v.entries,y=v.state}if("INSTANCE_STATE_UNSPECIFIED"===y?f=500:"NO_CHANGE"===y?f=304:("NO_TEMPLATE"===y||"EMPTY_CONFIG"===y)&&(m={}),304!==f&&200!==f)throw Un.create("fetch-status",{httpStatus:f});return{status:f,eTag:p,config:m}})()}}class ane{constructor(e,n){this.client=e,this.storage=n}fetch(e){var n=this;return g(function*(){const r=(yield n.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return n.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:n,backoffCount:r}){var i=this;return g(function*(){yield function sne(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(Un.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,n);try{const s=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),s}catch(s){if(!function one(t){if(!(t instanceof tr&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(s))throw s;const o={throttleEndTimeMillis:Date.now()+Xw(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(o),i.attemptFetch(e,o)}})()}}class lne{constructor(e,n,r,i,s){this.app=e,this._client=n,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function _p(t,e){const n=t.target.error||void 0;return Un.create(e,{originalErrorMessage:n&&n?.message})}const mo="app_namespace_store";class pne{constructor(e,n,r,i=function fne(){return new Promise((t,e)=>{try{const n=indexedDB.open("firebase_remote_config",1);n.onerror=r=>{e(_p(r,"storage-open"))},n.onsuccess=r=>{t(r.target.result)},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(mo,{keyPath:"compositeKey"})}}catch(n){e(Un.create("storage-open",{originalErrorMessage:n?.message}))}})}()){this.appId=e,this.appName=n,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var n=this;return g(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([mo],"readonly").objectStore(mo),u=n.createCompositeKey(e);try{const c=a.get(u);c.onerror=l=>{s(_p(l,"storage-get"))},c.onsuccess=l=>{const d=l.target.result;i(d?d.value:void 0)}}catch(c){s(Un.create("storage-get",{originalErrorMessage:c?.message}))}})})()}set(e,n){var r=this;return g(function*(){const i=yield r.openDbPromise;return new Promise((s,o)=>{const u=i.transaction([mo],"readwrite").objectStore(mo),c=r.createCompositeKey(e);try{const l=u.put({compositeKey:c,value:n});l.onerror=d=>{o(_p(d,"storage-set"))},l.onsuccess=()=>{s()}}catch(l){o(Un.create("storage-set",{originalErrorMessage:l?.message}))}})})()}delete(e){var n=this;return g(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([mo],"readwrite").objectStore(mo),u=n.createCompositeKey(e);try{const c=a.delete(u);c.onerror=l=>{s(_p(l,"storage-delete"))},c.onsuccess=()=>{i()}}catch(c){s(Un.create("storage-delete",{originalErrorMessage:c?.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class gne{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return g(function*(){const n=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),s=yield n;s&&(e.lastFetchStatus=s);const o=yield r;o&&(e.lastSuccessfulFetchTimestampMillis=o);const a=yield i;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function yne(){return YI.apply(this,arguments)}function YI(){return(YI=g(function*(){if(!uo())return!1;try{return yield dl()}catch{return!1}})).apply(this,arguments)}!function mne(){ln(new qt("remote-config",function t(e,{instanceIdentifier:n}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Un.create("registration-window");if(!uo())throw Un.create("indexed-db-unavailable");const{projectId:s,apiKey:o,appId:a}=r.options;if(!s)throw Un.create("registration-project-id");if(!o)throw Un.create("registration-api-key");if(!a)throw Un.create("registration-app-id");const u=new pne(a,r.name,n=n||"firebase"),c=new gne(u),l=new Ja(zI);l.logLevel=J.ERROR;const d=new ine(i,hs,n,s,o,a),h=new ane(d,u),f=new nne(h,u,c,l),p=new lne(r,f,c,u,l);return function Zte(t){const e=In(t);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(p),p},"PUBLIC").setMultipleInstances(!0)),Ve(zI,"0.4.4"),Ve(zI,"0.4.4","esm2017")}();const _ne=(t,e)=>e.some(n=>t instanceof n);let yL,_L;const vL=new WeakMap,XI=new WeakMap,wL=new WeakMap,JI=new WeakMap,ZI=new WeakMap;let eE={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return XI.get(t);if("objectStoreNames"===e)return t.objectStoreNames||wL.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Pi(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function Cne(t){return"function"==typeof t?function bne(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function wne(){return _L||(_L=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(tE(this),e),Pi(vL.get(this))}:function(...e){return Pi(t.apply(tE(this),e))}:function(e,...n){const r=t.call(tE(this),e,...n);return wL.set(r,e.sort?e.sort():[e]),Pi(r)}}(t):(t instanceof IDBTransaction&&function Ene(t){if(XI.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});XI.set(t,e)}(t),_ne(t,function vne(){return yL||(yL=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,eE):t)}function Pi(t){if(t instanceof IDBRequest)return function Ine(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Pi(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&vL.set(n,t)}).catch(()=>{}),ZI.set(e,t),e}(t);if(JI.has(t))return JI.get(t);const e=Cne(t);return e!==t&&(JI.set(t,e),ZI.set(e,t)),e}const tE=t=>ZI.get(t);function IL(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Pi(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Pi(o.result),u.oldVersion,u.newVersion,Pi(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}function nE(t,{blocked:e}={}){const n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",()=>e()),Pi(n).then(()=>{})}const Tne=["get","getKey","getAll","getAllKeys","count"],Sne=["put","add","delete","clear"],rE=new Map;function EL(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(rE.get(e))return rE.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Sne.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Tne.includes(n))return;const s=function(){var o=g(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[n](...u),i&&c.done]))[0]});return function(u){return o.apply(this,arguments)}}();return rE.set(e,s),s}!function Dne(t){eE=t(eE)}(t=>({...t,get:(e,n,r)=>EL(e,n)||t.get(e,n,r),has:(e,n)=>!!EL(e,n)||t.has(e,n)}));const Ane="/firebase-messaging-sw.js",Mne="/firebase-cloud-messaging-push-scope",DL="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",xne="https://fcmregistrations.googleapis.com/v1",bL="google.c.a.c_id",Rne="google.c.a.c_l",Nne="google.c.a.ts";var ps=(()=>((ps=ps||{}).PUSH_RECEIVED="push-received",ps.NOTIFICATION_CLICKED="notification-clicked",ps))();function Oi(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Pne(t){const n=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}const iE="fcm_token_details_db",One=5,CL="fcm_token_object_Store";function sE(){return sE=g(function*(t){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(s=>s.name).includes(iE))return null;let e=null;return(yield IL(iE,One,{upgrade:(r=g(function*(i,s,o,a){var u;if(s<2||!i.objectStoreNames.contains(CL))return;const c=a.objectStore(CL),l=yield c.index("fcmSenderId").get(t);if(yield c.clear(),l)if(2===s){const d=l;if(!d.auth||!d.p256dh||!d.endpoint)return;e={token:d.fcmToken,createTime:null!==(u=d.createTime)&&void 0!==u?u:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:"string"==typeof d.vapidKey?d.vapidKey:Oi(d.vapidKey)}}}else if(3===s){const d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Oi(d.auth),p256dh:Oi(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Oi(d.vapidKey)}}}else if(4===s){const d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Oi(d.auth),p256dh:Oi(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Oi(d.vapidKey)}}}}),function(s,o,a,u){return r.apply(this,arguments)})})).close(),yield nE(iE),yield nE("fcm_vapid_details_db"),yield nE("undefined"),function Lne(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return"number"==typeof t.createTime&&t.createTime>0&&"string"==typeof t.token&&t.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}(e)?e:null;var r}),sE.apply(this,arguments)}const Vne="firebase-messaging-database",Une=1,yo="firebase-messaging-store";let oE=null;function aE(){return oE||(oE=IL(Vne,Une,{upgrade:(t,e)=>{0===e&&t.createObjectStore(yo)}})),oE}function TL(t){return uE.apply(this,arguments)}function uE(){return uE=g(function*(t){const e=hE(t),r=yield(yield aE()).transaction(yo).objectStore(yo).get(e);if(r)return r;{const i=yield function Fne(t){return sE.apply(this,arguments)}(t.appConfig.senderId);if(i)return yield cE(t,i),i}}),uE.apply(this,arguments)}function cE(t,e){return lE.apply(this,arguments)}function lE(){return(lE=g(function*(t,e){const n=hE(t),i=(yield aE()).transaction(yo,"readwrite");return yield i.objectStore(yo).put(e,n),yield i.done,e})).apply(this,arguments)}function dE(){return(dE=g(function*(t){const e=hE(t),r=(yield aE()).transaction(yo,"readwrite");yield r.objectStore(yo).delete(e),yield r.done})).apply(this,arguments)}function hE({appConfig:t}){return t.appId}const Wt=new Qr("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function jne(t,e){return fE.apply(this,arguments)}function fE(){return(fE=g(function*(t,e){const n=yield yE(t),r=AL(e),i={method:"POST",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(mE(t.appConfig),i)).json()}catch(o){throw Wt.create("token-subscribe-failed",{errorInfo:o?.toString()})}if(s.error)throw Wt.create("token-subscribe-failed",{errorInfo:s.error.message});if(!s.token)throw Wt.create("token-subscribe-no-token");return s.token})).apply(this,arguments)}function pE(){return(pE=g(function*(t,e){const n=yield yE(t),r=AL(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(`${mE(t.appConfig)}/${e.token}`,i)).json()}catch(o){throw Wt.create("token-update-failed",{errorInfo:o?.toString()})}if(s.error)throw Wt.create("token-update-failed",{errorInfo:s.error.message});if(!s.token)throw Wt.create("token-update-no-token");return s.token})).apply(this,arguments)}function SL(t,e){return gE.apply(this,arguments)}function gE(){return(gE=g(function*(t,e){const r={method:"DELETE",headers:yield yE(t)};try{const s=yield(yield fetch(`${mE(t.appConfig)}/${e}`,r)).json();if(s.error)throw Wt.create("token-unsubscribe-failed",{errorInfo:s.error.message})}catch(i){throw Wt.create("token-unsubscribe-failed",{errorInfo:i?.toString()})}})).apply(this,arguments)}function mE({projectId:t}){return`${xne}/projects/${t}/registrations`}function yE(t){return _E.apply(this,arguments)}function _E(){return(_E=g(function*({appConfig:t,installations:e}){const n=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})})).apply(this,arguments)}function AL({p256dh:t,auth:e,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:e,p256dh:t}};return r!==DL&&(i.web.applicationPubKey=r),i}const Gne=6048e5;function vE(){return vE=g(function*(t){const e=yield function Wne(t,e){return DE.apply(this,arguments)}(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:Oi(e.getKey("auth")),p256dh:Oi(e.getKey("p256dh"))},r=yield TL(t.firebaseDependencies);if(r){if(function Kne(t,e){return e.vapidKey===t.vapidKey&&e.endpoint===t.endpoint&&e.auth===t.auth&&e.p256dh===t.p256dh}(r.subscriptionOptions,n))return Date.now()>=r.createTime+Gne?function qne(t,e){return IE.apply(this,arguments)}(t,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{yield SL(t.firebaseDependencies,r.token)}catch(i){console.warn(i)}return xL(t.firebaseDependencies,n)}return xL(t.firebaseDependencies,n)}),vE.apply(this,arguments)}function wE(){return wE=g(function*(t){const e=yield TL(t.firebaseDependencies);e&&(yield SL(t.firebaseDependencies,e.token),yield function Bne(t){return dE.apply(this,arguments)}(t.firebaseDependencies));const n=yield t.swRegistration.pushManager.getSubscription();return!n||n.unsubscribe()}),wE.apply(this,arguments)}function IE(){return IE=g(function*(t,e){try{const n=yield function Hne(t,e){return pE.apply(this,arguments)}(t.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return yield cE(t.firebaseDependencies,r),n}catch(n){throw yield function ML(t){return wE.apply(this,arguments)}(t),n}}),IE.apply(this,arguments)}function xL(t,e){return EE.apply(this,arguments)}function EE(){return(EE=g(function*(t,e){const r={token:yield jne(t,e),createTime:Date.now(),subscriptionOptions:e};return yield cE(t,r),r.token})).apply(this,arguments)}function DE(){return(DE=g(function*(t,e){return(yield t.pushManager.getSubscription())||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Pne(e)})})).apply(this,arguments)}function RL(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return function Qne(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const r=e.notification.body;r&&(t.notification.body=r);const i=e.notification.image;i&&(t.notification.image=i);const s=e.notification.icon;s&&(t.notification.icon=s)}(e,t),function Yne(t,e){e.data&&(t.data=e.data)}(e,t),function Xne(t,e){var n,r,i,s,o;if(!(e.fcmOptions||null!==(n=e.notification)&&void 0!==n&&n.click_action))return;t.fcmOptions={};const a=null!==(i=null===(r=e.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(s=e.notification)||void 0===s?void 0:s.click_action;a&&(t.fcmOptions.link=a);const u=null===(o=e.fcmOptions)||void 0===o?void 0:o.analytics_label;u&&(t.fcmOptions.analyticsLabel=u)}(e,t),e}function NL(t,e){const n=[];for(let r=0;r<t.length;r++)n.push(t.charAt(r)),r<e.length&&n.push(e.charAt(r));return n.join("")}function bE(t){return Wt.create("missing-app-config-values",{valueName:t})}NL("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),NL("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class ere{constructor(e,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function Zne(t){if(!t||!t.options)throw bE("App Configuration Object");if(!t.name)throw bE("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const r of e)if(!n[r])throw bE(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}function CE(){return(CE=g(function*(t){try{t.swRegistration=yield navigator.serviceWorker.register(Ane,{scope:Mne}),t.swRegistration.update().catch(()=>{})}catch(e){throw Wt.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}})).apply(this,arguments)}function TE(){return(TE=g(function*(t,e){if(!e&&!t.swRegistration&&(yield function kL(t){return CE.apply(this,arguments)}(t)),e||!t.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw Wt.create("invalid-sw-registration");t.swRegistration=e}})).apply(this,arguments)}function SE(){return(SE=g(function*(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=DL)})).apply(this,arguments)}function AE(){return AE=g(function*(t,e){if(!navigator)throw Wt.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Wt.create("permission-blocked");return yield function nre(t,e){return SE.apply(this,arguments)}(t,e?.vapidKey),yield function tre(t,e){return TE.apply(this,arguments)}(t,e?.serviceWorkerRegistration),function zne(t){return vE.apply(this,arguments)}(t)}),AE.apply(this,arguments)}function ME(){return(ME=g(function*(t,e,n){const r=function ire(t){switch(t){case ps.NOTIFICATION_CLICKED:return"notification_open";case ps.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(e);(yield t.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[bL],message_name:n[Rne],message_time:n[Nne],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function xE(){return xE=g(function*(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===ps.PUSH_RECEIVED&&("function"==typeof t.onMessageHandler?t.onMessageHandler(RL(n)):t.onMessageHandler.next(RL(n)));const r=n.data;(function Jne(t){return"object"==typeof t&&!!t&&bL in t})(r)&&"1"===r["google.c.a.e"]&&(yield function rre(t,e,n){return ME.apply(this,arguments)}(t,n.messageType,r))}),xE.apply(this,arguments)}const OL="@firebase/messaging",ore=t=>{const e=new ere(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>function sre(t,e){return xE.apply(this,arguments)}(e,n)),e},are=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:r=>function PL(t,e){return AE.apply(this,arguments)}(e,r)}};function LL(){return RE.apply(this,arguments)}function RE(){return(RE=g(function*(){try{yield dl()}catch{return!1}return typeof window<"u"&&uo()&&Kw()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function ure(){ln(new qt("messaging",ore,"PUBLIC")),ln(new qt("messaging-internal",are,"PRIVATE")),Ve(OL,"0.12.4"),Ve(OL,"0.12.4","esm2017")}();const vp="analytics",dre="firebase_id",hre="origin",fre=6e4,pre="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",PE="https://www.googletagmanager.com/gtag/js",kt=new Ja("@firebase/analytics"),En=new Qr("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function mre(t){if(!t.startsWith(PE)){const e=En.create("invalid-gtag-resource",{gtagURL:t});return kt.warn(e.message),""}return t}function VL(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function OE(){return(OE=g(function*(t,e,n,r,i,s){const o=r[i];try{if(o)yield e[o];else{const u=(yield VL(n)).find(c=>c.measurementId===i);u&&(yield e[u.appId])}}catch(a){kt.error(a)}t("config",i,s)})).apply(this,arguments)}function FE(){return(FE=g(function*(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=yield VL(n);for(const u of o){const c=a.find(d=>d.measurementId===u),l=c&&e[c.appId];if(!l){s=[];break}s.push(l)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),t("event",r,i||{})}catch(s){kt.error(s)}})).apply(this,arguments)}const Cre=30,UL=new class Sre{constructor(e={},n=1e3){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function Are(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function LE(){return(LE=g(function*(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:Are(r)},s=pre.replace("{app-id}",n),o=yield fetch(s,i);if(200!==o.status&&304!==o.status){let a="";try{const u=yield o.json();null!==(e=u.error)&&void 0!==e&&e.message&&(a=u.error.message)}catch{}throw En.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()})).apply(this,arguments)}function VE(){return(VE=g(function*(t,e=UL,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw En.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw En.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new kre;return setTimeout(g(function*(){a.abort()}),void 0!==n?n:fre),BL({appId:r,apiKey:i,measurementId:s},o,a,e)})).apply(this,arguments)}function BL(t,e,n){return UE.apply(this,arguments)}function UE(){return UE=g(function*(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=UL){var s;const{appId:o,measurementId:a}=t;try{yield function Rre(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(En.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(r,e)}catch(u){if(a)return kt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u?.message}]`),{appId:o,measurementId:a};throw u}try{const u=yield function Mre(t){return LE.apply(this,arguments)}(t);return i.deleteThrottleMetadata(o),u}catch(u){const c=u;if(!function Nre(t){if(!(t instanceof tr&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(c)){if(i.deleteThrottleMetadata(o),a)return kt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c?.message}]`),{appId:o,measurementId:a};throw u}const l=503===Number(null===(s=c?.customData)||void 0===s?void 0:s.httpStatus)?Xw(n,i.intervalMillis,Cre):Xw(n,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+l,backoffCount:n+1};return i.setThrottleMetadata(o,d),kt.debug(`Calling attemptFetch again in ${l} millis`),BL(t,d,r,i)}}),UE.apply(this,arguments)}class kre{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let BE,WE;function $E(){return($E=g(function*(t,e,n,r,i){if(i&&i.global)t("event",n,r);else{const s=yield e;t("event",n,Object.assign(Object.assign({},r),{send_to:s}))}})).apply(this,arguments)}function KE(){return(KE=g(function*(){if(!uo())return kt.warn(En.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield dl()}catch(t){return kt.warn(En.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}return!0})).apply(this,arguments)}function QE(){return QE=g(function*(t,e,n,r,i,s,o){var a;const u=function xre(t){return VE.apply(this,arguments)}(t);u.then(f=>{n[f.measurementId]=f.appId,t.options.measurementId&&f.measurementId!==t.options.measurementId&&kt.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>kt.error(f)),e.push(u);const c=function Bre(){return KE.apply(this,arguments)}().then(f=>{if(f)return r.getId()}),[l,d]=yield Promise.all([u,c]);(function bre(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(PE)&&n.src.includes(t))return n;return null})(s)||function _re(t,e){const n=function yre(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}("firebase-js-sdk-policy",{createScriptURL:mre}),r=document.createElement("script"),i=`${PE}?l=${t}&id=${e}`;r.src=n?n?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}(s,l.measurementId),WE&&(i("consent","default",WE),function $L(t){WE=t}(void 0)),i("js",new Date);const h=null!==(a=o?.config)&&void 0!==a?a:{};return h[hre]="firebase",h.update=!0,null!=d&&(h[dre]=d),i("config",l.measurementId,h),BE&&(i("set",BE),function jL(t){BE=t}(void 0)),l.measurementId}),QE.apply(this,arguments)}class jre{constructor(e){this.app=e}_delete(){return delete Yr[this.app.options.appId],Promise.resolve()}}let Yr={},HL=[];const GL={};let qL,Xr,wp="dataLayer",YE=!1;function Gre(t,e,n){!function Hre(){const t=[];if(Ww()&&t.push("This is a browser extension environment."),Kw()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=En.create("invalid-analytics-context",{errorInfo:e});kt.warn(n.message)}}();const r=t.options.appId;if(!r)throw En.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw En.create("no-api-key");kt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Yr[r])throw En.create("already-exists",{id:r});if(!YE){!function vre(t){let e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(wp);const{wrappedGtag:s,gtagCore:o}=function Dre(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=function Ere(t,e,n,r){function s(){return s=g(function*(o,...a){try{if("event"===o){const[u,c]=a;yield function Ire(t,e,n,r,i){return FE.apply(this,arguments)}(t,e,n,u,c)}else if("config"===o){const[u,c]=a;yield function wre(t,e,n,r,i,s){return OE.apply(this,arguments)}(t,e,n,r,u,c)}else if("consent"===o){const[u]=a;t("consent","update",u)}else if("get"===o){const[u,c,l]=a;t("get",u,c,l)}else if("set"===o){const[u]=a;t("set",u)}else t(o,...a)}catch(u){kt.error(u)}}),s.apply(this,arguments)}return function i(o){return s.apply(this,arguments)}}(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}(Yr,HL,GL,wp,"gtag");Xr=s,qL=o,YE=!0}return Yr[r]=function $re(t,e,n,r,i,s,o){return QE.apply(this,arguments)}(t,HL,GL,e,qL,wp,n),new jre(t)}function qre(){return XE.apply(this,arguments)}function XE(){return(XE=g(function*(){if(Ww()||!Kw()||!uo())return!1;try{return yield dl()}catch{return!1}})).apply(this,arguments)}const WL="@firebase/analytics";!function Kre(){ln(new qt(vp,(e,{options:n})=>Gre(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n),"PUBLIC")),ln(new qt("analytics-internal",function t(e){try{const n=e.getProvider(vp).getImmediate();return{logEvent:(r,i,s)=>function Wre(t,e,n,r){t=In(t),function Pre(t,e,n,r,i){return $E.apply(this,arguments)}(Xr,Yr[t.app.options.appId],e,n,r).catch(i=>kt.error(i))}(n,r,i,s)}}catch(n){throw En.create("interop-component-reg-failed",{reason:n})}},"PRIVATE")),Ve(WL,"0.10.0"),Ve(WL,"0.10.0","esm2017")}();class Qre extends zn{constructor(e,n){super()}schedule(e,n=0){return this}}const Ip={setInterval(t,e,...n){const{delegate:r}=Ip;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=Ip;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};class QL extends Qre{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return Ip.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&Ip.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Xo(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}const YL={now:()=>(YL.delegate||Date).now(),delegate:void 0};class pl{constructor(e,n=pl.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}pl.now=YL.now;class XL extends pl{constructor(e,n=pl.now){super(e,n),this.actions=[],this._active=!1}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}const Jre=new class Xre extends XL{}(class Yre extends QL{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}}),Zre=new XL(QL),gl=new Ea("7.6.1"),ZE="__angularfire_symbol__analyticsIsSupportedValue",eD="__angularfire_symbol__analyticsIsSupported",tD="__angularfire_symbol__remoteConfigIsSupportedValue",nD="__angularfire_symbol__remoteConfigIsSupported",rD="__angularfire_symbol__messagingIsSupportedValue",iD="__angularfire_symbol__messagingIsSupported";function Ep(t,e,n){if(e){if(1===e.length)return e[0];const s=e.filter(o=>o.app===n);if(1===s.length)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}globalThis[eD]||(globalThis[eD]=qre().then(t=>globalThis[ZE]=t).catch(()=>globalThis[ZE]=!1)),globalThis[iD]||(globalThis[iD]=LL().then(t=>globalThis[rD]=t).catch(()=>globalThis[rD]=!1)),globalThis[nD]||(globalThis[nD]=yne().then(t=>globalThis[tD]=t).catch(()=>globalThis[tD]=!1));const Dp=(t,e)=>{const n=e?[e]:UF(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r};function tu(){}class JL{constructor(e,n=Jre){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},n,r)}}class eie{constructor(e){this.zone=e,this.task=null}call(e,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",tu,{},tu,tu)),n.pipe(cn({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let bp=(()=>{class t{constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new JL(Zone.current)),this.insideAngular=n.run(()=>new JL(Zone.current,Zre)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return t.\u0275fac=function(n){return new(n||t)($(Se))},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function _o(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}function vo(t){return _o().ngZone.run(()=>t())}function nie(t){return _o(),function rie(t){return function(n){return(n=n.lift(new eie(t.ngZone))).pipe(Jd(t.outsideAngular),Xd(t.insideAngular))}}(_o())(t)}const iie=(t,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),vo(()=>t.apply(void 0,r))},nu=(t,e)=>function(){let n;const r=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof r[s]&&(e&&(n||(n=vo(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",tu,{},tu,tu)))),r[s]=iie(r[s],n));const i=function tie(t){return _o().ngZone.runOutsideAngular(()=>t())}(()=>t.apply(this,r));if(!e){if(i instanceof Fe){const s=_o();return i.pipe(Jd(s.outsideAngular),Xd(s.insideAngular))}return vo(()=>i)}return i instanceof Fe?i.pipe(nie):i instanceof Promise?vo(()=>new Promise((s,o)=>i.then(a=>vo(()=>s(a)),a=>vo(()=>o(a))))):"function"==typeof i&&n?function(){return setTimeout(()=>{n&&"scheduled"===n.state&&n.invoke()},10),i.apply(this,arguments)}:vo(()=>i)};class wo{constructor(e){return e}}class Cp{constructor(){return UF()}}const oD=new L("angularfire2._apps"),oie={provide:wo,useFactory:function sie(t){return t&&1===t.length?t[0]:new wo(gp())},deps:[[new Dt,oD]]},aie={provide:Cp,deps:[[new Dt,oD]]};function uie(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new wo(r)}}let cie=(()=>{class t{constructor(n){Ve("angularfire",gl.full,"core"),Ve("angularfire",gl.full,"app"),Ve("angular",C1.full,n.toString())}}return t.\u0275fac=function(n){return new(n||t)($(is))},t.\u0275mod=nn({type:t}),t.\u0275inj=jt({providers:[oie,aie]}),t})();function lie(t,...e){return{ngModule:cie,providers:[{provide:oD,useFactory:uie(t),multi:!0,deps:[Se,Ln,bp,...e]}]}}const die=nu(VF,!0),aD=new Map,ZL={activated:!1,tokenObservers:[]},hie={initialized:!1,enabled:!1};function nt(t){return aD.get(t)||Object.assign({},ZL)}function Tp(){return hie}const uD="https://content-firebaseappcheck.googleapis.com/v1",mie="exchangeDebugToken",e2={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class _ie{constructor(e,n,r,i,s){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var n=this;return g(function*(){n.stop();try{n.pending=new cp,yield function vie(t){return new Promise(e=>{setTimeout(e,t)})}(n.getNextRun(e)),n.pending.resolve(),yield n.pending.promise,n.pending=new cp,yield n.operation(),n.pending.resolve(),yield n.pending.promise,n.process(!0).catch(()=>{})}catch(r){n.retryPolicy(r)?n.process(!1).catch(()=>{}):n.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}const Kt=new Qr("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function cD(t){if(!nt(t).activated)throw Kt.create("use-before-activation",{appName:t.name})}function Mp(t,e){return dD.apply(this,arguments)}function dD(){return(dD=g(function*({url:t,body:e},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){const d=yield i.getHeartbeatsHeader();d&&(r["X-Firebase-Client"]=d)}const s={method:"POST",body:JSON.stringify(e),headers:r};let o,a;try{o=yield fetch(t,s)}catch(d){throw Kt.create("fetch-network-error",{originalErrorMessage:d?.message})}if(200!==o.status)throw Kt.create("fetch-status-error",{httpStatus:o.status});try{a=yield o.json()}catch(d){throw Kt.create("fetch-parse-error",{originalErrorMessage:d?.message})}const u=a.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw Kt.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const c=1e3*Number(u[1]),l=Date.now();return{token:a.token,expireTimeMillis:l+c,issuedAtTimeMillis:l}})).apply(this,arguments)}function t2(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${uD}/projects/${n}/apps/${r}:${mie}?key=${i}`,body:{debug_token:e}}}const Die="firebase-app-check-database",bie=1,ml="firebase-app-check-store";let xp=null;function hD(){return(hD=g(function*(t,e){const r=(yield function r2(){return xp||(xp=new Promise((t,e)=>{try{const n=indexedDB.open(Die,bie);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(Kt.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(ml,{keyPath:"compositeKey"})}}catch(n){e(Kt.create("storage-open",{originalErrorMessage:n?.message}))}}),xp)}()).transaction(ml,"readwrite"),s=r.objectStore(ml).put({compositeKey:t,value:e});return new Promise((o,a)=>{s.onsuccess=u=>{o()},r.onerror=u=>{var c;a(Kt.create("storage-set",{originalErrorMessage:null===(c=u.target.error)||void 0===c?void 0:c.message}))}})})).apply(this,arguments)}const yl=new Ja("@firebase/app-check");function gD(t,e){return uo()?function Tie(t,e){return function i2(t,e){return hD.apply(this,arguments)}(function o2(t){return`${t.options.appId}-${t.name}`}(t),e)}(t,e).catch(n=>{yl.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function yD(){return Tp().enabled}function _D(){return vD.apply(this,arguments)}function vD(){return(vD=g(function*(){const t=Tp();if(t.enabled&&t.token)return t.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Nie={error:"UNKNOWN_ERROR"};function kie(t){return qw.encodeString(JSON.stringify(t),!1)}function Rp(t){return wD.apply(this,arguments)}function wD(){return(wD=g(function*(t,e=!1){const n=t.app;cD(n);const r=nt(n);let s,i=r.token;if(i&&!ru(i)&&(r.token=void 0,i=void 0),!i){const u=yield r.cachedTokenPromise;u&&(ru(u)?i=u:yield gD(n,void 0))}if(!e&&i&&ru(i))return{token:i.token};let a,o=!1;if(yD()){r.exchangeTokenPromise||(r.exchangeTokenPromise=Mp(t2(n,yield _D()),t.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),o=!0);const u=yield r.exchangeTokenPromise;return yield gD(n,u),r.token=u,{token:u.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),o=!0),i=yield nt(n).exchangeTokenPromise}catch(u){"appCheck/throttled"===u.code?yl.warn(u.message):yl.error(u),s=u}return i?s?a=ru(i)?{token:i.token,internalError:s}:l2(s):(a={token:i.token},r.token=i,yield gD(n,i)):a=l2(s),o&&function c2(t,e){const n=nt(t).tokenObservers;for(const r of n)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(n,a),a})).apply(this,arguments)}function a2(t){return ID.apply(this,arguments)}function ID(){return(ID=g(function*(t){const e=t.app;cD(e);const{provider:n}=nt(e);if(yD()){const r=yield _D(),{token:i}=yield Mp(t2(e,r),t.heartbeatServiceProvider);return{token:i}}{const{token:r}=yield n.getToken();return{token:r}}})).apply(this,arguments)}function DD(t,e){const n=nt(t),r=n.tokenObservers.filter(i=>i.next!==e);0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function u2(t){const{app:e}=t,n=nt(e);let r=n.tokenRefresher;r||(r=function Pie(t){const{app:e}=t;return new _ie(g(function*(){let r;if(r=nt(e).token?yield Rp(t,!0):yield Rp(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const n=nt(e);if(n.token){let r=n.token.issuedAtTimeMillis+.5*(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,n.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},e2.RETRIAL_MIN_WAIT,e2.RETRIAL_MAX_WAIT)}(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function ru(t){return t.expireTimeMillis-Date.now()>0}function l2(t){return{token:kie(Nie),error:t}}class Oie{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=nt(this.app);for(const n of e)DD(this.app,n.next);return Promise.resolve()}}const _2="app-check-internal";!function Qie(){ln(new qt("app-check",t=>function Fie(t,e){return new Oie(t,e)}(t.getProvider("app").getImmediate(),t.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(_2).initialize()})),ln(new qt(_2,t=>function Lie(t){return{getToken:e=>Rp(t,e),getLimitedUseToken:()=>a2(t),addTokenListener:e=>function ED(t,e,n,r){const{app:i}=t,s=nt(i);if(s.tokenObservers=[...s.tokenObservers,{next:n,error:r,type:e}],s.token&&ru(s.token)){const a=s.token;Promise.resolve().then(()=>{n({token:a.token}),u2(t)}).catch(()=>{})}s.cachedTokenPromise.then(()=>u2(t))}(t,"INTERNAL",e),removeTokenListener:e=>DD(t.app,e)}}(t.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),Ve("@firebase/app-check","0.8.0")}();class kp{constructor(){return Dp("app-check")}}typeof window<"u"&&window;const ese=function w2(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},I2=new Qr("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Pp=new Ja("@firebase/auth");function Op(t,...e){Pp.logLevel<=J.ERROR&&Pp.error(`Auth (${hs}): ${t}`,...e)}function Bn(t,...e){throw AD(t,...e)}function Jr(t,...e){return AD(t,...e)}function AD(t,...e){if("string"!=typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return I2.create(t,...e)}function M(t,e,...n){if(!t)throw AD(e,...n)}function Zr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Op(e),new Error(e)}function gs(t,e){t||Zr(e)}function _l(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.href)||""}function D2(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}class vl{constructor(e,n){this.shortDelay=e,this.longDelay=n,gs(n>e,"Short delay should be less than long delay!"),this.isMobile=function SZ(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Nt())}()||function MZ(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return function nse(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function MD(){return"http:"===D2()||"https:"===D2()}()||Ww()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function xD(t,e){gs(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class b2{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Zr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Zr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Zr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ise={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},sse=new vl(3e4,6e4);function Ye(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function rt(t,e,n,r){return RD.apply(this,arguments)}function RD(){return(RD=g(function*(t,e,n,r,i={}){return C2(t,i,g(function*(){let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=hp(Object.assign({key:t.config.apiKey},o)).slice(1),u=yield t._getAdditionalHeaders();return u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),b2.fetch()(T2(t,t.config.apiHost,n,a),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function C2(t,e,n){return ND.apply(this,arguments)}function ND(){return(ND=g(function*(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},ise),e);try{const i=new ose(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw wl(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[u,c]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===u)throw wl(t,"credential-already-in-use",o);if("EMAIL_EXISTS"===u)throw wl(t,"email-already-in-use",o);if("USER_DISABLED"===u)throw wl(t,"user-disabled",o);const l=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw function E2(t,e,n){const r=Object.assign(Object.assign({},ese()),{[e]:n});return new Qr("auth","Firebase",r).create(e,{appName:t.name})}(t,l,c);Bn(t,l)}}catch(i){if(i instanceof tr)throw i;Bn(t,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function kD(){return(kD=g(function*(t,e,n,r,i={}){const s=yield rt(t,e,n,r,i);return"mfaPendingCredential"in s&&Bn(t,"multi-factor-auth-required",{_serverResponse:s}),s})).apply(this,arguments)}function T2(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?xD(t.config,i):`${t.config.apiScheme}://${i}`}class ose{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Jr(this.auth,"network-request-failed")),sse.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function wl(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Jr(t,e,r);return i.customData._tokenResponse=n,i}function PD(){return(PD=g(function*(t,e){return rt(t,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function FD(){return(FD=g(function*(t,e){return rt(t,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function Il(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function LD(){return(LD=g(function*(t,e=!1){const n=In(t),r=yield n.getIdToken(e),i=Fp(r);M(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:Il(VD(i.auth_time)),issuedAtTime:Il(VD(i.iat)),expirationTime:Il(VD(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})).apply(this,arguments)}function VD(t){return 1e3*Number(t)}function Fp(t){const[e,n,r]=t.split(".");if(void 0===e||void 0===n||void 0===r)return Op("JWT malformed, contained fewer than 3 sections"),null;try{const i=ap(n);return i?JSON.parse(i):(Op("Failed to decode base64 JWT payload"),null)}catch(i){return Op("Caught error parsing JWT payload as JSON",i?.toString()),null}}function Li(t,e){return UD.apply(this,arguments)}function UD(){return(UD=g(function*(t,e,n=!1){if(n)return e;try{return yield e}catch(r){throw r instanceof tr&&function hse({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})).apply(this,arguments)}class fse{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var n=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(g(function*(){yield n.iteration()}),r)}iteration(){var e=this;return g(function*(){try{yield e.user.getIdToken(!0)}catch(n){return void("auth/network-request-failed"===n?.code&&e.schedule(!0))}e.schedule()})()}}class S2{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Il(this.lastLoginAt),this.creationTime=Il(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function El(t){return BD.apply(this,arguments)}function BD(){return BD=g(function*(t){var e;const n=t.auth,r=yield t.getIdToken(),i=yield Li(t,function cse(t,e){return FD.apply(this,arguments)}(n,{idToken:r}));M(i?.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=null!==(e=s.providerUserInfo)&&void 0!==e&&e.length?function mse(t){return t.map(e=>{var{providerId:n}=e,r=qm(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(s.providerUserInfo):[],a=function gse(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(t.providerData,o),l=!!t.isAnonymous&&!(t.email&&s.passwordHash||a?.length),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new S2(s.createdAt,s.lastLoginAt),isAnonymous:l};Object.assign(t,d)}),BD.apply(this,arguments)}function $D(){return($D=g(function*(t){const e=In(t);yield El(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function jD(){return(jD=g(function*(t,e){const n=yield C2(t,{},g(function*(){const r=hp({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=T2(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",b2.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}class Dl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){M(e.idToken,"internal-error"),M(typeof e.idToken<"u","internal-error"),M(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function dse(t){const e=Fp(t);return M(e,"internal-error"),M(typeof e.exp<"u","internal-error"),M(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){var r=this;return g(function*(){return M(!r.accessToken||r.refreshToken,e,"user-token-expired"),n||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,n){var r=this;return g(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function yse(t,e){return jD.apply(this,arguments)}(e,n);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Dl;return r&&(M("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(M("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(M("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Dl,this.toJSON())}_performRefresh(){return Zr("not implemented")}}function ms(t,e){M("string"==typeof t||typeof t>"u","internal-error",{appName:e})}class Io{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=qm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new fse(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new S2(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var n=this;return g(function*(){const r=yield Li(n,n.stsTokenManager.getToken(n.auth,e));return M(r,n.auth,"internal-error"),n.accessToken!==r&&(n.accessToken=r,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),r})()}getIdTokenResult(e){return function lse(t){return LD.apply(this,arguments)}(this,e)}reload(){return function pse(t){return $D.apply(this,arguments)}(this)}_assign(e){this!==e&&(M(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Io(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){M(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){var r=this;return g(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield El(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return g(function*(){const n=yield e.getIdToken();return yield Li(e,function ase(t,e){return PD.apply(this,arguments)}(e.auth,{idToken:n})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,u,c,l;const d=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,f=null!==(s=n.phoneNumber)&&void 0!==s?s:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,m=null!==(a=n.tenantId)&&void 0!==a?a:void 0,y=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,v=null!==(c=n.createdAt)&&void 0!==c?c:void 0,_=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,{uid:E,emailVerified:A,isAnonymous:O,providerData:Y,stsTokenManager:ze}=n;M(E&&ze,e,"internal-error");const An=Dl.fromJSON(this.name,ze);M("string"==typeof E,e,"internal-error"),ms(d,e.name),ms(h,e.name),M("boolean"==typeof A,e,"internal-error"),M("boolean"==typeof O,e,"internal-error"),ms(f,e.name),ms(p,e.name),ms(m,e.name),ms(y,e.name),ms(v,e.name),ms(_,e.name);const di=new Io({uid:E,auth:e,email:h,emailVerified:A,displayName:d,isAnonymous:O,photoURL:p,phoneNumber:f,tenantId:m,stsTokenManager:An,createdAt:v,lastLoginAt:_});return Y&&Array.isArray(Y)&&(di.providerData=Y.map(Jge=>Object.assign({},Jge))),y&&(di._redirectEventId=y),di}static _fromIdTokenResponse(e,n,r=!1){return g(function*(){const i=new Dl;i.updateFromServerResponse(n);const s=new Io({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield El(s),s})()}}const A2=new Map;function Vi(t){gs(t instanceof Function,"Expected a class definition");let e=A2.get(t);return e?(gs(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,A2.set(t,e),e)}const M2=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return g(function*(){return!0})()}_set(n,r){var i=this;return g(function*(){i.storage[n]=r})()}_get(n){var r=this;return g(function*(){const i=r.storage[n];return void 0===i?null:i})()}_remove(n){var r=this;return g(function*(){delete r.storage[n]})()}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})();function Lp(t,e,n){return`firebase:${t}:${e}:${n}`}class su{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Lp(this.userKey,i.apiKey,s),this.fullPersistenceKey=Lp("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return g(function*(){const n=yield e.persistence._get(e.fullUserKey);return n?Io._fromJSON(e.auth,n):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var n=this;return g(function*(){if(n.persistence===e)return;const r=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=e,r?n.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return g(function*(){if(!n.length)return new su(Vi(M2),e,r);const i=(yield Promise.all(n.map(function(){var c=g(function*(l){if(yield l._isAvailable())return l});return function(l){return c.apply(this,arguments)}}()))).filter(c=>c);let s=i[0]||Vi(M2);const o=Lp(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const l=yield c._get(o);if(l){const d=Io._fromJSON(e,l);c!==s&&(a=d),s=c;break}}catch{}const u=i.filter(c=>c._shouldAllowMigration);return s._shouldAllowMigration&&u.length?(s=u[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(function(){var c=g(function*(l){if(l!==s)try{yield l._remove(o)}catch{}});return function(l){return c.apply(this,arguments)}}())),new su(s,e,r)):new su(s,e,r)})()}}function x2(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(k2(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(R2(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(O2(e))return"Blackberry";if(F2(e))return"Webos";if(HD(e))return"Safari";if((e.includes("chrome/")||N2(e))&&!e.includes("edge/"))return"Chrome";if(P2(e))return"Android";{const r=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function R2(t=Nt()){return/firefox\//i.test(t)}function HD(t=Nt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function N2(t=Nt()){return/crios\//i.test(t)}function k2(t=Nt()){return/iemobile/i.test(t)}function P2(t=Nt()){return/android/i.test(t)}function O2(t=Nt()){return/blackberry/i.test(t)}function F2(t=Nt()){return/webos/i.test(t)}function Vp(t=Nt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function L2(t=Nt()){return Vp(t)||P2(t)||F2(t)||O2(t)||/windows phone/i.test(t)||k2(t)}function V2(t,e=[]){let n;switch(t){case"Browser":n=x2(Nt());break;case"Worker":n=`${x2(Nt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${hs}/${r}`}function U2(t,e){return zD.apply(this,arguments)}function zD(){return(zD=g(function*(t,e){return rt(t,"GET","/v2/recaptchaConfig",Ye(t,e))})).apply(this,arguments)}function $2(t){return void 0!==t&&void 0!==t.enterprise}class j2{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>"EMAIL_PASSWORD_PROVIDER"===n.provider&&"OFF"!==n.enforcementState)}}function qD(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Jr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",function Ese(){var t,e;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)})}function H2(t){return`__${t}${Math.floor(1e6*Math.random())}`}class G2{constructor(e){this.type="recaptcha-enterprise",this.auth=Pt(e)}verify(e="verify",n=!1){var r=this;return g(function*(){function s(){return s=g(function*(a){if(!n){if(null==a.tenantId&&null!=a._agentRecaptchaConfig)return a._agentRecaptchaConfig.siteKey;if(null!=a.tenantId&&void 0!==a._tenantRecaptchaConfigs[a.tenantId])return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(function(){var u=g(function*(c,l){U2(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(void 0!==d.recaptchaKey){const h=new j2(d);return null==a.tenantId?a._agentRecaptchaConfig=h:a._tenantRecaptchaConfigs[a.tenantId]=h,c(h.siteKey)}l(new Error("recaptcha Enterprise site key undefined"))}).catch(d=>{l(d)})});return function(c,l){return u.apply(this,arguments)}}())}),s.apply(this,arguments)}function o(a,u,c){const l=window.grecaptcha;$2(l)?l.enterprise.ready(()=>{l.enterprise.execute(a,{action:e}).then(d=>{u(d)}).catch(()=>{u("NO_RECAPTCHA")})}):c(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,u)=>{(function i(a){return s.apply(this,arguments)})(r.auth).then(c=>{if(!n&&$2(window.grecaptcha))o(c,a,u);else{if(typeof window>"u")return void u(new Error("RecaptchaVerifier is only supported in browser"));qD("https://www.google.com/recaptcha/enterprise.js?render="+c).then(()=>{o(c,a,u)}).catch(l=>{u(l)})}}).catch(c=>{u(c)})})})()}}class Tse{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{o(e(s))}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var n=this;return g(function*(){if(n.auth.currentUser===e)return;const r=[];try{for(const i of n.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const s of r)try{s()}catch{}throw n.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}class Sse{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new z2(this),this.idTokenSubscription=new z2(this),this.beforeStateQueue=new Tse(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=I2,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){var r=this;return n&&(this._popupRedirectResolver=Vi(n)),this._initializationPromise=this.queue(g(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield su.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(n),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return g(function*(){if(e._deleted)return;const n=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||n){if(e.currentUser&&n&&e.currentUser.uid===n.uid)return e._currentUser._assign(n),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(n,!0)}})()}initializeCurrentUser(e){var n=this;return g(function*(){var r;const i=yield n.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const a=null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId,u=s?._redirectEventId,c=yield n.tryRedirectSignIn(e);(!a||a===u)&&c?.user&&(s=c.user,o=!0)}if(!s)return n.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{yield n.beforeStateQueue.runMiddleware(s)}catch(a){s=i,n._popupRedirectResolver._overrideRedirectResult(n,()=>Promise.reject(a))}return s?n.reloadAndSetCurrentUserOrClear(s):n.directlySetCurrentUser(null)}return M(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===s._redirectEventId?n.directlySetCurrentUser(s):n.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(e){var n=this;return g(function*(){let r=null;try{r=yield n._popupRedirectResolver._completeRedirectFn(n,e,!0)}catch{yield n._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var n=this;return g(function*(){try{yield El(e)}catch(r){if("auth/network-request-failed"!==r?.code)return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function rse(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var e=this;return g(function*(){e._deleted=!0})()}updateCurrentUser(e){var n=this;return g(function*(){const r=e?In(e):null;return r&&M(r.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(r&&r._clone(n))})()}_updateCurrentUser(e,n=!1){var r=this;return g(function*(){if(!r._deleted)return e&&M(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),n||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(g(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return g(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var n=this;return this.queue(g(function*(){yield n.assertedPersistence.setPersistence(Vi(e))}))}initializeRecaptchaConfig(){var e=this;return g(function*(){const n=yield U2(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new j2(n);null==e.tenantId?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.emailPasswordEnabled&&new G2(e).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Qr("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,n){var r=this;return g(function*(){const i=yield r.getOrInitRedirectPersistenceManager(n);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var n=this;return g(function*(){if(!n.redirectPersistenceManager){const r=e&&Vi(e)||n._popupRedirectResolver;M(r,n,"argument-error"),n.redirectPersistenceManager=yield su.create(n,[Vi(r._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(e){var n=this;return g(function*(){var r,i;return n._isInitialized&&(yield n.queue(g(function*(){}))),(null===(r=n._currentUser)||void 0===r?void 0:r._redirectEventId)===e?n._currentUser:(null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?n.redirectUser:null})()}_persistUserIfCurrent(e){var n=this;return g(function*(){if(e===n.currentUser)return n.queue(g(function*(){return n.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(n=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s="function"==typeof n?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return M(o,this,"internal-error"),o.then(()=>s(this.currentUser)),"function"==typeof n?e.addObserver(n,r,i):e.addObserver(n)}directlySetCurrentUser(e){var n=this;return g(function*(){n.currentUser&&n.currentUser!==e&&n._currentUser._stopProactiveRefresh(),e&&n.isProactiveRefreshEnabled&&e._startProactiveRefresh(),n.currentUser=e,e?yield n.assertedPersistence.setCurrentUser(e):yield n.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return M(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=V2(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return g(function*(){var n;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(n=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const s=yield e._getAppCheckToken();return s&&(r["X-Firebase-AppCheck"]=s),r})()}_getAppCheckToken(){var e=this;return g(function*(){var n;const r=yield null===(n=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getToken();return r?.error&&function tse(t,...e){Pp.logLevel<=J.WARN&&Pp.warn(`Auth (${hs}): ${t}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function Pt(t){return In(t)}class z2{constructor(e){this.auth=e,this.observer=null,this.addObserver=function OZ(t,e){const n=new FZ(t,e);return n.subscribe.bind(n)}(n=>this.observer=n)}get next(){return M(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function q2(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function W2(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}class kse{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Zr("not implemented")}_getIdTokenResponse(e){return Zr("not implemented")}_linkToIdToken(e,n){return Zr("not implemented")}_getReauthenticationResolver(e){return Zr("not implemented")}}function Ui(t,e){return cb.apply(this,arguments)}function cb(){return(cb=g(function*(t,e){return function Fi(t,e,n,r){return kD.apply(this,arguments)}(t,"POST","/v1/accounts:signInWithIdp",Ye(t,e))})).apply(this,arguments)}class _s{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Wse extends _s{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class fr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return g(function*(){const s=yield Io._fromIdTokenResponse(e,r,i),o=X2(r);return new fr({user:s,providerId:o,_tokenResponse:r,operationType:n})})()}static _forOperation(e,n,r){return g(function*(){yield e._updateTokensIfNecessary(r,!0);const i=X2(r);return new fr({user:e,providerId:i,_tokenResponse:r,operationType:n})})()}}function X2(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class Hp extends tr{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Hp.prototype),this.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Hp(e,n,r,i)}}function J2(t,e,n,r){return("reauthenticate"===e?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw"auth/multi-factor-auth-required"===s.code?Hp._fromErrorAndOperation(t,s,e,r):s})}function vb(){return(vb=g(function*(t,e,n=!1){const r=yield Li(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return fr._forOperation(t,"link",r)})).apply(this,arguments)}function Ib(){return(Ib=g(function*(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=yield Li(t,J2(r,i,e,t),n);M(s.idToken,r,"internal-error");const o=Fp(s.idToken);M(o,r,"internal-error");const{sub:a}=o;return M(t.uid===a,r,"user-mismatch"),fr._forOperation(t,i,s)}catch(s){throw"auth/user-not-found"===s?.code&&Bn(r,"user-mismatch"),s}})).apply(this,arguments)}function Eb(){return(Eb=g(function*(t,e,n=!1){const r="signIn",i=yield J2(t,r,e),s=yield fr._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})).apply(this,arguments)}const zp="__sak";class rV{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(zp,"1"),this.storage.removeItem(zp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const moe=(()=>{class t extends rV{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function foe(){const t=Nt();return HD(t)||Vp(t)}()&&function wse(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=L2(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key)return void this.forAllChangedKeys((a,u,c)=>{this.notifyListeners(a,c)});const i=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(i);if(n.newValue!==a)null!==n.newValue?this.storage.setItem(i,n.newValue):this.storage.removeItem(i);else if(this.localCache[i]===n.newValue&&!r)return}const s=()=>{const a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);!function vse(){return function xZ(){const t=Nt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}()&&10===document.documentMode}()||o===n.newValue||n.newValue===n.oldValue?s():setTimeout(s,10)}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(n,r){var i=()=>super._set,s=this;return g(function*(){yield i().call(s,n,r),s.localCache[n]=JSON.stringify(r)})()}_get(n){var r=()=>super._get,i=this;return g(function*(){const s=yield r().call(i,n);return i.localCache[n]=JSON.stringify(s),s})()}_remove(n){var r=()=>super._remove,i=this;return g(function*(){yield r().call(i,n),delete i.localCache[n]})()}}return t.type="LOCAL",t})(),iV=(()=>{class t extends rV{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})();let _oe=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){const r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;const i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){var r=this;return g(function*(){const i=n,{eventId:s,eventType:o,data:a}=i.data,u=r.handlersMap[o];if(!u?.size)return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const c=Array.from(u).map(function(){var d=g(function*(h){return h(i.origin,a)});return function(h){return d.apply(this,arguments)}}()),l=yield function yoe(t){return Promise.all(t.map(function(){var e=g(function*(n){try{return{fulfilled:!0,value:yield n}}catch(r){return{fulfilled:!1,reason:r}}});return function(n){return e.apply(this,arguments)}}()))}(c);i.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:l})})()}_subscribe(n,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||0===this.handlersMap[n].size)&&delete this.handlersMap[n],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return t.receivers=[],t})();function Jb(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(10*Math.random());return t+n}class voe{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){var i=this;return g(function*(){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,a;return new Promise((u,c)=>{const l=Jb("",20);s.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(h){const f=h;if(f.data.eventId===l)switch(f.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(f.data.response);break;default:clearTimeout(d),clearTimeout(o),c(new Error("invalid_response"))}}},i.handlers.add(a),s.port1.addEventListener("message",a.onMessage),i.target.postMessage({eventType:e,eventId:l,data:n},[s.port2])}).finally(()=>{a&&i.removeMessageHandler(a)})})()}}function yt(){return window}function Zb(){return typeof yt().WorkerGlobalScope<"u"&&"function"==typeof yt().importScripts}function eC(){return(eC=g(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const sV="firebaseLocalStorageDb",qp="firebaseLocalStorage",oV="fbase_key";class Sl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Wp(t,e){return t.transaction([qp],e?"readwrite":"readonly").objectStore(qp)}function tC(){const t=indexedDB.open(sV,1);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(qp,{keyPath:oV})}catch(i){n(i)}}),t.addEventListener("success",g(function*(){const r=t.result;r.objectStoreNames.contains(qp)?e(r):(r.close(),yield function Coe(){const t=indexedDB.deleteDatabase(sV);return new Sl(t).toPromise()}(),e(yield tC()))}))})}function aV(t,e,n){return nC.apply(this,arguments)}function nC(){return(nC=g(function*(t,e,n){const r=Wp(t,!0).put({[oV]:e,value:n});return new Sl(r).toPromise()})).apply(this,arguments)}function rC(){return(rC=g(function*(t,e){const n=Wp(t,!1).get(e),r=yield new Sl(n).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function uV(t,e){const n=Wp(t,!0).delete(e);return new Sl(n).toPromise()}const Moe=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var n=this;return g(function*(){return n.db||(n.db=yield tC()),n.db})()}_withRetries(n){var r=this;return g(function*(){let i=0;for(;;)try{const s=yield r._openDb();return yield n(s)}catch(s){if(i++>3)throw s;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var n=this;return g(function*(){return Zb()?n.initializeReceiver():n.initializeSender()})()}initializeReceiver(){var n=this;return g(function*(){n.receiver=_oe._getInstance(function Doe(){return Zb()?self:null}()),n.receiver._subscribe("keyChanged",function(){var r=g(function*(i,s){return{keyProcessed:(yield n._poll()).includes(s.key)}});return function(i,s){return r.apply(this,arguments)}}()),n.receiver._subscribe("ping",function(){var r=g(function*(i,s){return["keyChanged"]});return function(i,s){return r.apply(this,arguments)}}())})()}initializeSender(){var n=this;return g(function*(){var r,i;if(n.activeServiceWorker=yield function Ioe(){return eC.apply(this,arguments)}(),!n.activeServiceWorker)return;n.sender=new voe(n.activeServiceWorker);const s=yield n.sender._send("ping",{},800);s&&null!==(r=s[0])&&void 0!==r&&r.fulfilled&&null!==(i=s[0])&&void 0!==i&&i.value.includes("keyChanged")&&(n.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(n){var r=this;return g(function*(){if(r.sender&&r.activeServiceWorker&&function Eoe(){var t;return(null===(t=navigator?.serviceWorker)||void 0===t?void 0:t.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:n},r.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return g(function*(){try{if(!indexedDB)return!1;const n=yield tC();return yield aV(n,zp,"1"),yield uV(n,zp),!0}catch{}return!1})()}_withPendingWrite(n){var r=this;return g(function*(){r.pendingWrites++;try{yield n()}finally{r.pendingWrites--}})()}_set(n,r){var i=this;return g(function*(){return i._withPendingWrite(g(function*(){return yield i._withRetries(s=>aV(s,n,r)),i.localCache[n]=r,i.notifyServiceWorker(n)}))})()}_get(n){var r=this;return g(function*(){const i=yield r._withRetries(s=>function Toe(t,e){return rC.apply(this,arguments)}(s,n));return r.localCache[n]=i,i})()}_remove(n){var r=this;return g(function*(){return r._withPendingWrite(g(function*(){return yield r._withRetries(i=>uV(i,n)),delete r.localCache[n],r.notifyServiceWorker(n)}))})()}_poll(){var n=this;return g(function*(){const r=yield n._withRetries(o=>{const a=Wp(o,!1).getAll();return new Sl(a).toPromise()});if(!r)return[];if(0!==n.pendingWrites)return[];const i=[],s=new Set;for(const{fbase_key:o,value:a}of r)s.add(o),JSON.stringify(n.localCache[o])!==JSON.stringify(a)&&(n.notifyListeners(o,a),i.push(o));for(const o of Object.keys(n.localCache))n.localCache[o]&&!s.has(o)&&(n.notifyListeners(o,null),i.push(o));return i})()}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const s of Array.from(i))s(r)}startPolling(){var n=this;this.stopPolling(),this.pollTimer=setInterval(g(function*(){return n._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return t.type="LOCAL",t})();H2("rcb"),new vl(3e4,6e4);class hC extends kse{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ui(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ui(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ui(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function zoe(t){return function tV(t,e){return Eb.apply(this,arguments)}(t.auth,new hC(t),t.bypassAuthState)}function qoe(t){const{auth:e,user:n}=t;return M(n,e,"internal-error"),function eV(t,e){return Ib.apply(this,arguments)}(n,new hC(t),t.bypassAuthState)}function Woe(t){return fC.apply(this,arguments)}function fC(){return(fC=g(function*(t){const{auth:e,user:n}=t;return M(n,e,"internal-error"),function _b(t,e){return vb.apply(this,arguments)}(n,new hC(t),t.bypassAuthState)})).apply(this,arguments)}class Koe{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){var e=this;return new Promise(function(){var n=g(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(s){e.reject(s)}});return function(r,i){return n.apply(this,arguments)}}())}onAuthEvent(e){var n=this;return g(function*(){const{urlResponse:r,sessionId:i,postBody:s,tenantId:o,error:a,type:u}=e;if(a)return void n.reject(a);const c={auth:n.auth,requestUri:r,sessionId:i,tenantId:o||void 0,postBody:s||void 0,user:n.user,bypassAuthState:n.bypassAuthState};try{n.resolve(yield n.getIdpTask(u)(c))}catch(l){n.reject(l)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return zoe;case"linkViaPopup":case"linkViaRedirect":return Woe;case"reauthViaPopup":case"reauthViaRedirect":return qoe;default:Bn(this.auth,"internal-error")}}resolve(e){gs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){gs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}new vl(2e3,1e4);const Qoe="pendingRedirect",Al=new Map;class Yoe extends Koe{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,n=this;return g(function*(){let r=Al.get(n.auth._key());if(!r){try{const s=(yield function Xoe(t,e){return _C.apply(this,arguments)}(n.resolver,n.auth))?yield e().call(n):null;r=()=>Promise.resolve(s)}catch(i){r=()=>Promise.reject(i)}Al.set(n.auth._key(),r)}return n.bypassAuthState||Al.set(n.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var n=()=>super.onAuthEvent,r=this;return g(function*(){if("signInViaRedirect"===e.type)return n().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,n().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return g(function*(){})()}cleanUp(){}}function _C(){return(_C=g(function*(t,e){const n=function dV(t){return Lp(Qoe,t.config.apiKey,t.name)}(e),r=function lV(t){return Vi(t._redirectPersistence)}(t);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(n));return yield r._remove(n),i})).apply(this,arguments)}function Joe(t,e){Al.set(t._key(),e)}function hV(t,e){return CC.apply(this,arguments)}function CC(){return(CC=g(function*(t,e,n=!1){const r=Pt(t),i=function Do(t,e){return e?Vi(e):(M(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}(r,e),o=yield new Yoe(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})).apply(this,arguments)}class rae{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function iae(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return gV(t);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!gV(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";n.onError(Jr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=null===n.eventId||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(pV(e))}saveEventToCache(e){this.cachedEventUids.add(pV(e)),this.lastProcessedEventTime=Date.now()}}function pV(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function gV({type:t,error:e}){return"unknown"===t&&"auth/no-auth-event"===e?.code}function SC(){return(SC=g(function*(t,e={}){return rt(t,"GET","/v1/projects",e)})).apply(this,arguments)}const oae=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,aae=/^https?/;function AC(){return AC=g(function*(t){if(t.config.emulator)return;const{authorizedDomains:e}=yield function sae(t){return SC.apply(this,arguments)}(t);for(const n of e)try{if(cae(n))return}catch{}Bn(t,"unauthorized-domain")}),AC.apply(this,arguments)}function cae(t){const e=_l(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return""===o.hostname&&""===r?"chrome-extension:"===n&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===n&&o.hostname===r}if(!aae.test(n))return!1;if(oae.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const lae=new vl(3e4,6e4);function mV(){const t=yt().___jsl;if(t?.H)for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}let Qp=null;const fae=new vl(5e3,15e3),pae="__/auth/iframe",gae="emulator/auth/iframe",mae={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},yae=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function _ae(t){const e=t.config;M(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?xD(e,gae):`https://${t.config.authDomain}/${pae}`,r={apiKey:e.apiKey,appName:t.name,v:hs},i=yae.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${hp(r).slice(1)}`}function MC(){return MC=g(function*(t){const e=yield function hae(t){return Qp=Qp||function dae(t){return new Promise((e,n)=>{var r,i,s;function o(){mV(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{mV(),n(Jr(t,"network-request-failed"))},timeout:lae.get()})}if(null!==(i=null===(r=yt().gapi)||void 0===r?void 0:r.iframes)&&void 0!==i&&i.Iframe)e(gapi.iframes.getContext());else{if(null===(s=yt().gapi)||void 0===s||!s.load){const a=H2("iframefcb");return yt()[a]=()=>{gapi.load?o():n(Jr(t,"network-request-failed"))},qD(`https://apis.google.com/js/api.js?onload=${a}`).catch(u=>n(u))}o()}}).catch(e=>{throw Qp=null,e})}(t),Qp}(t),n=yt().gapi;return M(n,t,"internal-error"),e.open({where:document.body,url:_ae(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:mae,dontclear:!0},r=>new Promise(function(){var i=g(function*(s,o){yield r.restyle({setHideOnLeave:!1});const a=Jr(t,"network-request-failed"),u=yt().setTimeout(()=>{o(a)},fae.get());function c(){yt().clearTimeout(u),s(r)}r.ping(c).then(c,()=>{o(a)})});return function(s,o){return i.apply(this,arguments)}}()))}),MC.apply(this,arguments)}const wae={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class yV{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Sae="__/auth/handler",Aae="emulator/auth/handler",Mae=encodeURIComponent("fac");function _V(t,e,n,r,i,s){return xC.apply(this,arguments)}function xC(){return(xC=g(function*(t,e,n,r,i,s){M(t.config.authDomain,t,"auth-domain-config-required"),M(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:hs,eventId:i};if(e instanceof _s){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",function PZ(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[l,d]of Object.entries(s||{}))o[l]=d}if(e instanceof Wse){const l=e.getScopes().filter(d=>""!==d);l.length>0&&(o.scopes=l.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const l of Object.keys(a))void 0===a[l]&&delete a[l];const u=yield t._getAppCheckToken(),c=u?`#${Mae}=${encodeURIComponent(u)}`:"";return`${function xae({config:t}){return t.emulator?xD(t,Aae):`https://${t.authDomain}/${Sae}`}(t)}?${hp(a).slice(1)}${c}`})).apply(this,arguments)}const RC="webStorageSupport",Nae=class Rae{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=iV,this._completeRedirectFn=hV,this._overrideRedirectResult=Joe}_openPopup(e,n,r,i){var s=this;return g(function*(){var o;gs(null===(o=s.eventManagers[e._key()])||void 0===o?void 0:o.manager,"_initialize() not called before _openPopup()");const a=yield _V(e,n,r,_l(),i);return function Cae(t,e,n,r=500,i=600){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u=Object.assign(Object.assign({},wae),{width:r.toString(),height:i.toString(),top:s,left:o}),c=Nt().toLowerCase();n&&(a=N2(c)?"_blank":n),R2(c)&&(e=e||"http://localhost",u.scrollbars="yes");const l=Object.entries(u).reduce((h,[f,p])=>`${h}${f}=${p},`,"");if(function _se(t=Nt()){var e;return Vp(t)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(c)&&"_self"!==a)return function Tae(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(e||"",a),new yV(null);const d=window.open(e||"",a,l);M(d,t,"popup-blocked");try{d.focus()}catch{}return new yV(d)}(e,a,Jb())})()}_openRedirect(e,n,r,i){var s=this;return g(function*(){return yield s._originValidation(e),function woe(t){yt().location.href=t}(yield _V(e,n,r,_l(),i)),new Promise(()=>{})})()}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(gs(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){var n=this;return g(function*(){const r=yield function vae(t){return MC.apply(this,arguments)}(e),i=new rae(e);return r.register("authEvent",s=>(M(s?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),n.eventManagers[e._key()]={manager:i},n.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(RC,{type:RC},i=>{var s;const o=null===(s=i?.[0])||void 0===s?void 0:s[RC];void 0!==o&&n(!!o),Bn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=function uae(t){return AC.apply(this,arguments)}(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return L2()||HD()||Vp()}};var IV="@firebase/auth";class kae{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var n=this;return g(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){M(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Lae=SF("authIdTokenMaxAge")||300;let DV=null;const Vae=t=>function(){var e=g(function*(n){const r=n&&(yield n.getIdTokenResult()),i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3;if(i&&i>Lae)return;const s=r?.token;DV!==s&&(DV=s,yield fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))});return function(n){return e.apply(this,arguments)}}();function Uae(t=gp()){const e=fo(t,"auth");if(e.isInitialized())return e.getImmediate();const n=function Ase(t,e){const n=fo(t,"auth");if(n.isInitialized()){const i=n.getImmediate();if(dp(n.getOptions(),e??{}))return i;Bn(i,"already-initialized")}return n.initialize({options:e})}(t,{popupRedirectResolver:Nae,persistence:[Moe,moe,iV]}),r=SF("authTokenSyncURL");if(r){const s=Vae(r);(function uoe(t,e,n){In(t).beforeAuthStateChanged(e,n)})(n,s,()=>s(n.currentUser)),function aoe(t,e,n,r){In(t).onIdTokenChanged(e,n,r)}(n,o=>s(o))}const i=bF("auth");return i&&function xse(t,e,n){const r=Pt(t);M(r._canInitEmulator,r,"emulator-config-failed"),M(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!n?.disableWarnings,s=q2(e),{host:o,port:a}=function Rse(t){const e=q2(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:W2(r.substr(s.length+1))}}{const[s,o]=r.split(":");return{host:s,port:W2(o)}}}(e);r.config.emulator={url:`${s}//${o}${null===a?"":`:${a}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function Nse(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",t):t())}()}(n,`http://${i}`),n}!function Oae(t){ln(new qt("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;M(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:V2(t)},c=new Sse(r,i,s,u);return function Mse(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Vi);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ln(new qt("auth-internal",e=>{const n=Pt(e.getProvider("auth").getImmediate());return new kae(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ve(IV,"0.23.2",function Pae(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(t)),Ve(IV,"0.23.2","esm2017")}("Browser");class kC{constructor(e){return e}}class PC{constructor(){return Dp("auth")}}const OC=new L("angularfire2.auth-instances");function $ae(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new kC(r)}}const jae={provide:PC,deps:[[new Dt,OC]]},Hae={provide:kC,useFactory:function Bae(t,e){const n=Ep("auth",t,e);return n&&new kC(n)},deps:[[new Dt,OC],wo]};let Gae=(()=>{class t{constructor(){Ve("angularfire",gl.full,"auth")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=nn({type:t}),t.\u0275inj=jt({providers:[Hae,jae]}),t})();function zae(t,...e){return{ngModule:Gae,providers:[{provide:OC,useFactory:$ae(t),multi:!0,deps:[Se,Ln,bp,Cp,[new Dt,kp],...e]}]}}const qae=nu(Uae,!0),CV="firebasestorage.googleapis.com";class Xe extends tr{constructor(e,n,r=0){super(FC(e),`Firebase Storage: ${n} (${FC(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Xe.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return FC(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var W=(()=>((W=W||{}).UNKNOWN="unknown",W.OBJECT_NOT_FOUND="object-not-found",W.BUCKET_NOT_FOUND="bucket-not-found",W.PROJECT_NOT_FOUND="project-not-found",W.QUOTA_EXCEEDED="quota-exceeded",W.UNAUTHENTICATED="unauthenticated",W.UNAUTHORIZED="unauthorized",W.UNAUTHORIZED_APP="unauthorized-app",W.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",W.INVALID_CHECKSUM="invalid-checksum",W.CANCELED="canceled",W.INVALID_EVENT_NAME="invalid-event-name",W.INVALID_URL="invalid-url",W.INVALID_DEFAULT_BUCKET="invalid-default-bucket",W.NO_DEFAULT_BUCKET="no-default-bucket",W.CANNOT_SLICE_BLOB="cannot-slice-blob",W.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",W.NO_DOWNLOAD_URL="no-download-url",W.INVALID_ARGUMENT="invalid-argument",W.INVALID_ARGUMENT_COUNT="invalid-argument-count",W.APP_DELETED="app-deleted",W.INVALID_ROOT_OPERATION="invalid-root-operation",W.INVALID_FORMAT="invalid-format",W.INTERNAL_ERROR="internal-error",W.UNSUPPORTED_ENVIRONMENT="unsupported-environment",W))();function FC(t){return"storage/"+t}function VC(t){return new Xe(W.INVALID_ARGUMENT,t)}function xV(){return new Xe(W.APP_DELETED,"The Firebase app was deleted.")}class Dn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Dn.makeFromUrl(e,n)}catch{return new Dn(e,"")}if(""===r.path)return r;throw function nue(t){return new Xe(W.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)",a=new RegExp("^gs://"+i+"(/(.*))?$","i");function c(A){A.path_=decodeURIComponent(A.path)}const d=n.replace(/[.]/g,"\\."),E=[{regex:a,indices:{bucket:1,path:3},postModify:function s(A){"/"===A.path.charAt(A.path.length-1)&&(A.path_=A.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${d}/v[A-Za-z0-9_]+/b/${i}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:c},{regex:new RegExp(`^https?://${n===CV?"(?:storage.googleapis.com|storage.cloud.google.com)":n}/${i}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:c}];for(let A=0;A<E.length;A++){const O=E[A],Y=O.regex.exec(e);if(Y){let An=Y[O.indices.path];An||(An=""),r=new Dn(Y[O.indices.bucket],An),O.postModify(r);break}}if(null==r)throw function tue(t){return new Xe(W.INVALID_URL,"Invalid URL '"+t+"'.")}(e);return r}}class uue{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function BC(t,e,n,r){if(r<e)throw VC(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw VC(`Invalid value for '${t}'. Expected ${n} or less.`)}var $n=(()=>(($n=$n||{})[$n.NO_ERROR=0]="NO_ERROR",$n[$n.NETWORK_ERROR=1]="NETWORK_ERROR",$n[$n.ABORT=2]="ABORT",$n))();class pue{constructor(e,n,r,i,s,o,a,u,c,l,d,h=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=u,this.timeout_=c,this.progressCallback_=l,this.connectionFactory_=d,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((f,p)=>{this.resolve_=f,this.reject_=p,this.start_()})}start_(){const n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const u=this.callback_(a,a.getResponse());!function due(t){return void 0!==t}(u)?s():s(u)}catch(u){o(u)}else if(null!==a){const u=function LC(){return new Xe(W.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}();u.serverResponse=a.getErrorText(),o(this.errorCallback_?this.errorCallback_(a,u):u)}else o(i.canceled?this.appDelete_?xV():function AV(){return new Xe(W.CANCELED,"User canceled the upload/download.")}():function SV(){return new Xe(W.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}())};this.canceled_?n(0,new Jp(!1,null,!0)):this.backoffId_=function cue(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function u(){return 2===a}let c=!1;function l(...y){c||(c=!0,e.apply(null,y))}function d(y){i=setTimeout(()=>{i=null,t(f,u())},y)}function h(){s&&clearTimeout(s)}function f(y,...v){if(c)return void h();if(y)return h(),void l.call(null,y,...v);if(u()||o)return h(),void l.call(null,y,...v);let E;r<64&&(r*=2),1===a?(a=2,E=0):E=1e3*(r+Math.random()),d(E)}let p=!1;function m(y){p||(p=!0,h(),!c&&(null!==i?(y||(a=2),clearTimeout(i),d(0)):y||(a=1)))}return d(0),s=setTimeout(()=>{o=!0,m(!0)},n),m}((r,i)=>{if(i)return void r(!1,new Jp(!1,null,!0));const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{null!==this.progressCallback_&&this.progressCallback_(a.loaded,a.lengthComputable?a.total:-1)};null!==this.progressCallback_&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===$n.NO_ERROR,u=s.getStatus();if(!a||function kV(t,e){const n=t>=500&&t<600,i=-1!==[408,429].indexOf(t),s=-1!==e.indexOf(t);return n||i||s}(u,this.additionalRetryCodes_)&&this.retry){const l=s.getErrorCode()===$n.ABORT;return void r(!1,new Jp(!1,null,l))}const c=-1!==this.successCodes_.indexOf(u);r(!0,new Jp(c,s))})},n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function lue(t){t(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class Jp{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}class bo{constructor(e,n){this._service=e,this._location=n instanceof Dn?n:Dn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new bo(e,n)}get root(){const e=new Dn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return function VV(t){const e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}(this._location.path)}get storage(){return this._service}get parent(){const e=function Aue(t){if(0===t.length)return null;const e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this._location.path);if(null===e)return null;const n=new Dn(this._location.bucket,e);return new bo(this._service,n)}_throwIfRoot(e){if(""===this._location.path)throw function aue(t){return new Xe(W.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function ZV(t,e){const n=e?.storageBucket;return null==n?null:Dn.makeFromBucketSpec(n,t)}class WC{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=CV,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?Dn.makeFromBucketSpec(i,this._host):ZV(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?Dn.makeFromBucketSpec(this._url,e):ZV(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){BC("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){BC("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return g(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const n=e._authProvider.getImmediate({optional:!0});if(n){const r=yield n.getToken();if(null!==r)return r.accessToken}return null})()}_getAppCheckToken(){var e=this;return g(function*(){const n=e._appCheckProvider.getImmediate({optional:!0});return n?(yield n.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new bo(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new uue(xV());{const o=function vue(t,e,n,r,i,s,o=!0){const a=function NV(t){const e=encodeURIComponent;let n="?";for(const r in t)t.hasOwnProperty(r)&&(n=n+(e(r)+"=")+e(t[r])+"&");return n=n.slice(0,-1),n}(t.urlParams),u=t.url+a,c=Object.assign({},t.headers);return function yue(t,e){e&&(t["X-Firebase-GMPID"]=e)}(c,e),function gue(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(c,n),function mue(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}(c,s),function _ue(t,e){null!==e&&(t["X-Firebase-AppCheck"]=e)}(c,r),new pue(u,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}makeRequestWithTokens(e,n){var r=this;return g(function*(){const[i,s]=yield Promise.all([r._getAuthToken(),r._getAppCheckToken()]);return r._makeRequest(e,n,i,s).getPromise()})()}}const eU="@firebase/storage",nU="storage";function fce(t=gp(),e){const r=fo(t=In(t),nU).getImmediate({identifier:e}),i=CF("storage");return i&&function pce(t,e,n,r={}){!function hce(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken="string"==typeof i?i:AF(i,t.app.options.projectId))}(t,e,n,r)}(r,...i),r}function gce(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new WC(n,r,i,e,hs)}!function mce(){ln(new qt(nU,gce,"PUBLIC").setMultipleInstances(!0)),Ve(eU,"0.11.2",""),Ve(eU,"0.11.2","esm2017")}();class KC{constructor(e){return e}}const rU="storage",QC=new L("angularfire2.storage-instances");function vce(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new KC(r)}}const wce={provide:class yce{constructor(){return Dp(rU)}},deps:[[new Dt,QC]]},Ice={provide:KC,useFactory:function _ce(t,e){const n=Ep(rU,t,e);return n&&new KC(n)},deps:[[new Dt,QC],wo]};let Ece=(()=>{class t{constructor(){Ve("angularfire",gl.full,"gcs")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=nn({type:t}),t.\u0275inj=jt({providers:[Ice,wce]}),t})();function Dce(t,...e){return{ngModule:Ece,providers:[{provide:QC,useFactory:vce(t),multi:!0,deps:[Se,Ln,bp,Cp,[new Dt,PC],[new Dt,kp],...e]}]}}const bce=nu(fce,!0);var N,Cce=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},xr={},YC=YC||{},re=Cce||self;function ng(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function kl(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var XC="closure_uid_"+(1e9*Math.random()>>>0),Sce=0;function Ace(t,e,n){return t.call.apply(t.bind,arguments)}function Mce(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function dn(t,e,n){return(dn=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ace:Mce).apply(null,arguments)}function rg(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Ot(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function vs(){this.s=this.s,this.o=this.o}vs.prototype.s=!1,vs.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function Tce(t){Object.prototype.hasOwnProperty.call(t,XC)&&t[XC]||(t[XC]=++Sce)}(this)},vs.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const iU=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function JC(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function sU(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(ng(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function hn(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}hn.prototype.h=function(){this.defaultPrevented=!0};var Rce=function(){if(!re.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{re.addEventListener("test",()=>{},e),re.removeEventListener("test",()=>{},e)}catch{}return t}();function Pl(t){return/^[\s\xa0]*$/.test(t)}function ig(){var t=re.navigator;return t&&(t=t.userAgent)?t:""}function ni(t){return-1!=ig().indexOf(t)}function ZC(t){return ZC[" "](t),t}ZC[" "]=function(){};var t0,t,kce=ni("Opera"),cu=ni("Trident")||ni("MSIE"),oU=ni("Edge"),e0=oU||cu,aU=ni("Gecko")&&!(-1!=ig().toLowerCase().indexOf("webkit")&&!ni("Edge"))&&!(ni("Trident")||ni("MSIE"))&&!ni("Edge"),Pce=-1!=ig().toLowerCase().indexOf("webkit")&&!ni("Edge");function uU(){var t=re.document;return t?t.documentMode:void 0}e:{var n0="",r0=(t=ig(),aU?/rv:([^\);]+)(\)|;)/.exec(t):oU?/Edge\/([\d\.]+)/.exec(t):cu?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):Pce?/WebKit\/(\S+)/.exec(t):kce?/(?:Version)[ \/]?(\S+)/.exec(t):void 0);if(r0&&(n0=r0?r0[1]:""),cu){var s0=uU();if(null!=s0&&s0>parseFloat(n0)){t0=String(s0);break e}}t0=n0}var Oce=re.document&&cu&&(uU()||parseInt(t0,10))||void 0;function Ol(t,e){if(hn.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(aU){e:{try{ZC(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Fce[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Ol.$.h.call(this)}}Ot(Ol,hn);var Fce={2:"touch",3:"pen",4:"mouse"};Ol.prototype.h=function(){Ol.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Fl="closure_listenable_"+(1e6*Math.random()|0),Lce=0;function Vce(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++Lce,this.fa=this.ia=!1}function sg(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function a0(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function lU(t){const e={};for(const n in t)e[n]=t[n];return e}const dU="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function hU(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let s=0;s<dU.length;s++)n=dU[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function og(t){this.src=t,this.g={},this.h=0}function u0(t,e){var n=e.type;if(n in t.g){var s,r=t.g[n],i=iU(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(sg(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function c0(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}og.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.g[s])||(t=this.g[s]=[],this.h++);var o=c0(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):((e=new Vce(e,this.src,s,!!r,i)).ia=n,t.push(e)),e};var l0="closure_lm_"+(1e6*Math.random()|0),d0={};function fU(t,e,n,r,i){if(r&&r.once)return gU(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)fU(t,e[s],n,r,i);return null}return n=g0(n),t&&t[Fl]?t.O(e,n,kl(r)?!!r.capture:!!r,i):pU(t,e,n,!1,r,i)}function pU(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=kl(i)?!!i.capture:!!i,a=f0(t);if(a||(t[l0]=a=new og(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function Bce(){const e=$ce;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Rce||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(yU(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function gU(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)gU(t,e[s],n,r,i);return null}return n=g0(n),t&&t[Fl]?t.P(e,n,kl(r)?!!r.capture:!!r,i):pU(t,e,n,!0,r,i)}function mU(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)mU(t,e[s],n,r,i);else r=kl(r)?!!r.capture:!!r,n=g0(n),t&&t[Fl]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=c0(s=t.g[e],n,r,i))&&(sg(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.g[e],t.h--))):t&&(t=f0(t))&&(e=t.g[e.toString()],t=-1,e&&(t=c0(e,n,r,i)),(n=-1<t?e[t]:null)&&h0(n))}function h0(t){if("number"!=typeof t&&t&&!t.fa){var e=t.src;if(e&&e[Fl])u0(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(yU(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=f0(e))?(u0(n,t),0==n.h&&(n.src=null,e[l0]=null)):sg(t)}}}function yU(t){return t in d0?d0[t]:d0[t]="on"+t}function $ce(t,e){if(t.fa)t=!0;else{e=new Ol(e,this);var n=t.listener,r=t.la||t.src;t.ia&&h0(t),t=n.call(r,e)}return t}function f0(t){return(t=t[l0])instanceof og?t:null}var p0="__closure_events_fn_"+(1e9*Math.random()>>>0);function g0(t){return"function"==typeof t?t:(t[p0]||(t[p0]=function(e){return t.handleEvent(e)}),t[p0])}function Ft(){vs.call(this),this.i=new og(this),this.S=this,this.J=null}function Qt(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,"string"==typeof e)e=new hn(e,t);else if(e instanceof hn)e.target=e.target||t;else{var i=e;hU(e=new hn(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=ag(o,r,!0,e)&&i}if(i=ag(o=e.g=t,r,!0,e)&&i,i=ag(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=ag(o=e.g=n[s],r,!1,e)&&i}function ag(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,u=o.la||o.src;o.ia&&u0(t.i,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}Ot(Ft,vs),Ft.prototype[Fl]=!0,Ft.prototype.removeEventListener=function(t,e,n,r){mU(this,t,e,n,r)},Ft.prototype.N=function(){if(Ft.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)sg(n[r]);delete t.g[e],t.h--}}this.J=null},Ft.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},Ft.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var m0=re.JSON.stringify;function Hce(){var t=y0;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var _U=new class jce{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new zce,t=>t.reset());class zce{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function qce(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function Wce(t){re.setTimeout(()=>{throw t},0)}let Ll,Vl=!1,y0=new class Gce{constructor(){this.h=this.g=null}add(e,n){const r=_U.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},vU=()=>{const t=re.Promise.resolve(void 0);Ll=()=>{t.then(Kce)}};var Kce=()=>{for(var t;t=Hce();){try{t.h.call(t.g)}catch(n){Wce(n)}var e=_U;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Vl=!1};function ug(t,e){Ft.call(this),this.h=t||1,this.g=e||re,this.j=dn(this.qb,this),this.l=Date.now()}function _0(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}function v0(t,e,n){if("function"==typeof t)n&&(t=dn(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=dn(t.handleEvent,t)}return 2147483647<Number(e)?-1:re.setTimeout(t,e||0)}function wU(t){t.g=v0(()=>{t.g=null,t.i&&(t.i=!1,wU(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}Ot(ug,Ft),(N=ug.prototype).ga=!1,N.T=null,N.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Qt(this,"tick"),this.ga&&(_0(this),this.start()))}},N.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},N.N=function(){ug.$.N.call(this),_0(this),delete this.g};class Qce extends vs{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:wU(this)}N(){super.N(),this.g&&(re.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ul(t){vs.call(this),this.h=t,this.g={}}Ot(Ul,vs);var IU=[];function EU(t,e,n,r){Array.isArray(n)||(n&&(IU[0]=n.toString()),n=IU);for(var i=0;i<n.length;i++){var s=fU(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function DU(t){a0(t.g,function(e,n){this.g.hasOwnProperty(n)&&h0(e)},t),t.g={}}function cg(){this.g=!0}function lu(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Zce(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return m0(n)}catch{return e}}(t,n)+(r?" "+r:"")})}Ul.prototype.N=function(){Ul.$.N.call(this),DU(this)},Ul.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},cg.prototype.Ea=function(){this.g=!1},cg.prototype.info=function(){};var Co={},bU=null;function lg(){return bU=bU||new Ft}function CU(t){hn.call(this,Co.Ta,t)}function Bl(t){const e=lg();Qt(e,new CU(e))}function TU(t,e){hn.call(this,Co.STAT_EVENT,t),this.stat=e}function Cn(t){const e=lg();Qt(e,new TU(e,t))}function SU(t,e){hn.call(this,Co.Ua,t),this.size=e}function $l(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return re.setTimeout(function(){t()},e)}Co.Ta="serverreachability",Ot(CU,hn),Co.STAT_EVENT="statevent",Ot(TU,hn),Co.Ua="timingevent",Ot(SU,hn);var dg={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},AU={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function w0(){}function xU(){}w0.prototype.h=null;var D0,jl={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function I0(){hn.call(this,"d")}function E0(){hn.call(this,"c")}function hg(){}function Hl(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Ul(this),this.P=ele,this.V=new ug(t=e0?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new RU}function RU(){this.i=null,this.g="",this.h=!1}Ot(I0,hn),Ot(E0,hn),Ot(hg,w0),hg.prototype.g=function(){return new XMLHttpRequest},hg.prototype.i=function(){return{}},D0=new hg;var ele=45e3,b0={},fg={};function C0(t,e,n){t.L=1,t.v=yg(ji(e)),t.s=n,t.S=!0,NU(t,null)}function NU(t,e){t.G=Date.now(),Gl(t),t.A=ji(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),jU(n.i,"t",r),t.C=0,n=t.l.J,t.h=new RU,t.g=hB(t.l,n?e:null,!t.s),0<t.O&&(t.M=new Qce(dn(t.Pa,t,t.g),t.O)),EU(t.U,t.g,"readystatechange",t.nb),e=t.I?lU(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),Bl(),function Yce(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var d=l.split("_");o=2<=d.length&&"type"==d[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o})}(t.j,t.u,t.A,t.m,t.W,t.s)}function kU(t){return!!t.g&&"GET"==t.u&&2!=t.L&&t.l.Ha}function PU(t,e,n){let i,r=!0;for(;!t.J&&t.C<n.length;){if(i=tle(t,n),i==fg){4==e&&(t.o=4,Cn(14),r=!1),lu(t.j,t.m,null,"[Incomplete Response]");break}if(i==b0){t.o=4,Cn(15),lu(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}lu(t.j,t.m,i,null),T0(t,i)}kU(t)&&i!=fg&&i!=b0&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,Cn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,(e=t.l).g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),k0(e),e.M=!0,Cn(11))):(lu(t.j,t.m,n,"[Invalid Chunked Response]"),To(t),zl(t))}function tle(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?fg:(n=Number(e.substring(n,r)),isNaN(n)?b0:(r+=1)+n>e.length?fg:(e=e.slice(r,r+n),t.C=r+n,e))}function Gl(t){t.Y=Date.now()+t.P,OU(t,t.P)}function OU(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=$l(dn(t.lb,t),e)}function pg(t){t.B&&(re.clearTimeout(t.B),t.B=null)}function zl(t){0==t.l.H||t.J||uB(t.l,t)}function To(t){pg(t);var e=t.M;e&&"function"==typeof e.sa&&e.sa(),t.M=null,_0(t.V),DU(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function T0(t,e){try{var n=t.l;if(0!=n.H&&(n.g==t||S0(n.i,t)))if(!t.K&&S0(n.i,t)&&3==n.H){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<t.G))break e;Dg(n),Ig(n)}N0(n),Cn(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=$l(dn(n.ib,n),6e3));if(1>=zU(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Ao(n,11)}else if((t.K||n.g==t)&&Dg(n),!Pl(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(n.V=c[0],c=c[1],2==n.H)if("c"==c[0]){n.K=c[1],n.pa=c[2];const l=c[3];null!=l&&(n.ra=l,n.l.info("VER="+n.ra));const d=c[4];null!=d&&(n.Ga=d,n.l.info("SVER="+n.Ga));const h=c[5];null!=h&&"number"==typeof h&&0<h&&(n.L=r=1.5*h,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;s.g||-1==p.indexOf("spdy")&&-1==p.indexOf("quic")&&-1==p.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(A0(s,s.h),s.h=null))}if(r.F){const m=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;m&&(r.Da=m,Ue(r.I,r.F,m))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms"));var o=t;if((r=n).wa=dB(r,r.J?r.pa:null,r.Y),o.K){qU(r.i,o);var a=o,u=r.L;u&&a.setTimeout(u),a.B&&(pg(a),Gl(a)),r.g=o}else oB(r);0<n.j.length&&Eg(n)}else"stop"!=c[0]&&"close"!=c[0]||Ao(n,7);else 3==n.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?Ao(n,7):R0(n):"noop"!=c[0]&&n.h&&n.h.Aa(c),n.A=0)}Bl()}catch{}}function FU(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(ng(t)||"string"==typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function rle(t){if(t.ta&&"function"==typeof t.ta)return t.ta();if(!t.Z||"function"!=typeof t.Z){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(ng(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}(t),r=function nle(t){if(t.Z&&"function"==typeof t.Z)return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if("string"==typeof t)return t.split("");if(ng(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}(N=Hl.prototype).setTimeout=function(t){this.P=t},N.nb=function(t){t=t.target;const e=this.M;e&&3==ri(t)?e.l():this.Pa(t)},N.Pa=function(t){try{if(t==this.g)e:{const l=ri(this.g);var e=this.g.Ia();if(this.g.da(),!(3>l)&&(3!=l||e0||this.g&&(this.h.h||this.g.ja()||eB(this.g)))){this.J||4!=l||7==e||Bl(),pg(this);var n=this.g.da();this.ca=n;t:if(kU(this)){var r=eB(this.g);t="";var i=r.length,s=4==ri(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){To(this),zl(this);var o="";break t}this.h.i=new re.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=200==n,function Xce(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.W,l,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Pl(a)){var c=a;break t}}c=null}if(!(n=c)){this.i=!1,this.o=3,Cn(12),To(this),zl(this);break e}lu(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,T0(this,n)}this.S?(PU(this,l,o),e0&&this.i&&3==l&&(EU(this.U,this.V,"tick",this.mb),this.V.start())):(lu(this.j,this.m,o,null),T0(this,o)),4==l&&To(this),this.i&&!this.J&&(4==l?uB(this.l,this):(this.i=!1,Gl(this)))}else(function Ile(t){const e={};t=(t.g&&2<=ri(t)&&t.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<t.length;r++){if(Pl(t[r]))continue;var n=qce(t[r]);const i=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}!function Uce(t,e){for(const n in t)e.call(void 0,t[n],n,t)}(e,function(r){return r.join(", ")})})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.o=3,Cn(12)):(this.o=0,Cn(13)),To(this),zl(this)}}}catch{}},N.mb=function(){if(this.g){var t=ri(this.g),e=this.g.ja();this.C<e.length&&(pg(this),PU(this,t,e),this.i&&4!=t&&Gl(this))}},N.cancel=function(){this.J=!0,To(this)},N.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(function Jce(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Bl(),Cn(17)),To(this),this.o=2,zl(this)):OU(this,this.Y-t)};var LU=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function So(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof So){this.h=t.h,gg(this,t.j),this.s=t.s,this.g=t.g,mg(this,t.m),this.l=t.l;var e=t.i,n=new Kl;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),VU(this,n),this.o=t.o}else t&&(e=String(t).match(LU))?(this.h=!1,gg(this,e[1]||"",!0),this.s=ql(e[2]||""),this.g=ql(e[3]||"",!0),mg(this,e[4]),this.l=ql(e[5]||"",!0),VU(this,e[6]||"",!0),this.o=ql(e[7]||"")):(this.h=!1,this.i=new Kl(null,this.h))}function ji(t){return new So(t)}function gg(t,e,n){t.j=n?ql(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function mg(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function VU(t,e,n){e instanceof Kl?(t.i=e,function lle(t,e){e&&!t.j&&(ws(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(BU(this,r),jU(this,i,n))},t)),t.j=e}(t.i,t.h)):(n||(e=Wl(e,ule)),t.i=new Kl(e,t.h))}function Ue(t,e,n){t.i.set(e,n)}function yg(t){return Ue(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function ql(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Wl(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,sle),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function sle(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}So.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Wl(e,UU,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(Wl(e,UU,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(Wl(n,"/"==n.charAt(0)?ale:ole,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Wl(n,cle)),t.join("")};var UU=/[#\/\?@]/g,ole=/[#\?:]/g,ale=/[#\?]/g,ule=/[#\?@]/g,cle=/#/g;function Kl(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function ws(t){t.g||(t.g=new Map,t.h=0,t.i&&function ile(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function BU(t,e){ws(t),e=du(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function $U(t,e){return ws(t),e=du(t,e),t.g.has(e)}function jU(t,e,n){BU(t,e),0<n.length&&(t.i=null,t.g.set(du(t,e),JC(n)),t.h+=n.length)}function du(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function HU(t){this.l=t||hle,t=re.PerformanceNavigationTiming?0<(t=re.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(re.g&&re.g.Ka&&re.g.Ka()&&re.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(N=Kl.prototype).add=function(t,e){ws(this),this.i=null,t=du(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},N.forEach=function(t,e){ws(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)},N.ta=function(){ws(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n},N.Z=function(t){ws(this);let e=[];if("string"==typeof t)$U(this,t)&&(e=e.concat(this.g.get(du(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},N.set=function(t,e){return ws(this),this.i=null,$U(this,t=du(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},N.get=function(t,e){return t&&0<(t=this.Z(t)).length?String(t[0]):e},N.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};var hle=10;function GU(t){return!!t.h||!!t.g&&t.g.size>=t.j}function zU(t){return t.h?1:t.g?t.g.size:0}function S0(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function A0(t,e){t.g?t.g.add(e):t.h=e}function qU(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function WU(t){if(null!=t.h)return t.i.concat(t.h.F);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return JC(t.i)}HU.prototype.cancel=function(){if(this.i=WU(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}};var fle=class{stringify(t){return re.JSON.stringify(t,void 0)}parse(t){return re.JSON.parse(t,void 0)}};function ple(){this.g=new fle}function gle(t,e,n){const r=n||"";try{FU(t,function(i,s){let o=i;kl(i)&&(o=m0(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function _g(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Ql(t){this.l=t.fc||null,this.j=t.ob||!1}function vg(t,e){Ft.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=M0,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ot(Ql,w0),Ql.prototype.g=function(){return new vg(this.l,this.j)},Ql.prototype.i=function(t){return function(){return t}}({}),Ot(vg,Ft);var M0=0;function KU(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}function Yl(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Xl(t)}function Xl(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(N=vg.prototype).open=function(t,e){if(this.readyState!=M0)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Xl(this)},N.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||re).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},N.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Yl(this)),this.readyState=M0},N.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Xl(this)),this.g&&(this.readyState=3,Xl(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof re.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;KU(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))},N.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Yl(this):Xl(this),3==this.readyState&&KU(this)}},N.Za=function(t){this.g&&(this.response=this.responseText=t,Yl(this))},N.Ya=function(t){this.g&&(this.response=t,Yl(this))},N.ka=function(){this.g&&Yl(this)},N.setRequestHeader=function(t,e){this.v.append(t,e)},N.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},N.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(vg.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var yle=re.JSON.parse;function it(t){Ft.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=QU,this.L=this.M=!1}Ot(it,Ft);var QU="",_le=/^https?$/i,vle=["POST","PUT"];function YU(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,XU(t),wg(t)}function XU(t){t.F||(t.F=!0,Qt(t,"complete"),Qt(t,"error"))}function JU(t){if(t.h&&typeof YC<"u"&&(!t.C[1]||4!=ri(t)||2!=t.da()))if(t.v&&4==ri(t))v0(t.La,0,t);else if(Qt(t,"readystatechange"),4==ri(t)){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=0===o){var i=String(t.I).match(LU)[1]||null;!i&&re.self&&re.self.location&&(i=re.self.location.protocol.slice(0,-1)),r=!_le.test(i?i.toLowerCase():"")}n=r}if(n)Qt(t,"complete"),Qt(t,"success");else{t.m=6;try{var s=2<ri(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",XU(t)}}finally{wg(t)}}}function wg(t,e){if(t.g){ZU(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Qt(t,"ready");try{n.onreadystatechange=r}catch{}}}function ZU(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(re.clearTimeout(t.A),t.A=null)}function ri(t){return t.g?t.g.readyState:0}function eB(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case QU:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function tB(t){let e="";return a0(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}function x0(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=tB(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Ue(t,e,n))}function Jl(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function nB(t){this.Ga=0,this.j=[],this.l=new cg,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Jl("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Jl("baseRetryDelayMs",5e3,t),this.hb=Jl("retryDelaySeedMs",1e4,t),this.eb=Jl("forwardChannelMaxRetries",2,t),this.xa=Jl("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new HU(t&&t.concurrentRequestLimit),this.Ja=new ple,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function R0(t){if(rB(t),3==t.H){var e=t.W++,n=ji(t.I);if(Ue(n,"SID",t.K),Ue(n,"RID",e),Ue(n,"TYPE","terminate"),Zl(t,n),(e=new Hl(t,t.l,e)).L=2,e.v=yg(ji(n)),n=!1,re.navigator&&re.navigator.sendBeacon)try{n=re.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&re.Image&&((new Image).src=e.v,n=!0),n||(e.g=hB(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Gl(e)}lB(t)}function Ig(t){t.g&&(k0(t),t.g.cancel(),t.g=null)}function rB(t){Ig(t),t.u&&(re.clearTimeout(t.u),t.u=null),Dg(t),t.i.cancel(),t.m&&("number"==typeof t.m&&re.clearTimeout(t.m),t.m=null)}function Eg(t){if(!GU(t.i)&&!t.m){t.m=!0;var e=t.Na;Ll||vU(),Vl||(Ll(),Vl=!0),y0.add(e,t),t.C=0}}function iB(t,e){var n;n=e?e.m:t.W++;const r=ji(t.I);Ue(r,"SID",t.K),Ue(r,"RID",n),Ue(r,"AID",t.V),Zl(t,r),t.o&&t.s&&x0(r,t.o,t.s),n=new Hl(t,t.l,n,t.C+1),null===t.o&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=sB(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),A0(t.i,n),C0(n,r,e)}function Zl(t,e){t.na&&a0(t.na,function(n,r){Ue(e,r,n)}),t.h&&FU({},function(n,r){Ue(e,r,n)})}function sB(t,e,n){n=Math.min(t.j.length,n);var r=t.h?dn(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];-1==s?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let u=0;u<n;u++){let c=i[u].g;const l=i[u].map;if(c-=s,0>c)s=Math.max(0,i[u].g-100),a=!1;else try{gle(l,o,"req"+c+"_")}catch{r&&r(l)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function oB(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Ll||vU(),Vl||(Ll(),Vl=!0),y0.add(e,t),t.A=0}}function N0(t){return!(t.g||t.u||3<=t.A||(t.ba++,t.u=$l(dn(t.Ma,t),cB(t,t.A)),t.A++,0))}function k0(t){null!=t.B&&(re.clearTimeout(t.B),t.B=null)}function aB(t){t.g=new Hl(t,t.l,"rpc",t.ba),null===t.o&&(t.g.I=t.s),t.g.O=0;var e=ji(t.wa);Ue(e,"RID","rpc"),Ue(e,"SID",t.K),Ue(e,"AID",t.V),Ue(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Ue(e,"TO",t.qa),Ue(e,"TYPE","xmlhttp"),Zl(t,e),t.o&&t.s&&x0(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=yg(ji(e)),n.s=null,n.S=!0,NU(n,t)}function Dg(t){null!=t.v&&(re.clearTimeout(t.v),t.v=null)}function uB(t,e){var n=null;if(t.g==e){Dg(t),k0(t),t.g=null;var r=2}else{if(!S0(t.i,e))return;n=e.F,qU(t.i,e),r=1}if(0!=t.H)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;Qt(r=lg(),new SU(r,n)),Eg(t)}else oB(t);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function Ele(t,e){return!(zU(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.j=e.F.concat(t.j),0):1==t.H||2==t.H||t.C>=(t.cb?0:t.eb)||(t.m=$l(dn(t.Na,t,e),cB(t,t.C)),t.C++,0)))}(t,e)||2==r&&N0(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Ao(t,5);break;case 4:Ao(t,10);break;case 3:Ao(t,6);break;default:Ao(t,2)}}function cB(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Ao(t,e){if(t.l.info("Error code "+e),2==e){var n=null;t.h&&(n=null);var r=dn(t.pb,t);n||(n=new So("//www.google.com/images/cleardot.gif"),re.location&&"http"==re.location.protocol||gg(n,"https"),yg(n)),function mle(t,e){const n=new cg;if(re.Image){const r=new Image;r.onload=rg(_g,n,r,"TestLoadImage: loaded",!0,e),r.onerror=rg(_g,n,r,"TestLoadImage: error",!1,e),r.onabort=rg(_g,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=rg(_g,n,r,"TestLoadImage: timeout",!1,e),re.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else Cn(2);t.H=0,t.h&&t.h.za(e),lB(t),rB(t)}function lB(t){if(t.H=0,t.ma=[],t.h){const e=WU(t.i);(0!=e.length||0!=t.j.length)&&(sU(t.ma,e),sU(t.ma,t.j),t.i.i.length=0,JC(t.j),t.j.length=0),t.h.ya()}}function dB(t,e,n){var r=n instanceof So?ji(n):new So(n);if(""!=r.g)e&&(r.g=e+"."+r.g),mg(r,r.m);else{var i=re.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new So(null);r&&gg(s,r),e&&(s.g=e),i&&mg(s,i),n&&(s.l=n),r=s}return e=t.Da,(n=t.F)&&e&&Ue(r,n,e),Ue(r,"VER",t.ra),Zl(t,r),r}function hB(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new it(n&&t.Ha&&!t.va?new Ql({ob:!0}):t.va)).Oa(t.J),e}function fB(){}function bg(){if(cu&&!(10<=Number(Oce)))throw Error("Environmental error: no available transport.")}function nr(t,e){Ft.call(this),this.g=new nB(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Pl(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Pl(e)&&(this.g.F=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new hu(this)}function pB(t){I0.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function gB(){E0.call(this),this.status=1}function hu(t){this.g=t}function Rr(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function P0(t,e,n){n||(n=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var s=t.g[3],o=(e=t.g[0])+(s^(n=t.g[1])&((i=t.g[2])^s))+r[0]+3614090360&4294967295;o=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=n+(o<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=e+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=e+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=e+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(e=n+((o=e+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(e^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}function Me(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=0|t[i];r&&s==e||(n[i]=s,r=!1)}this.g=n}(N=it.prototype).Oa=function(t){this.M=t},N.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():D0.g(),this.C=function MU(t){return t.h||(t.h=t.i())}(this.u?this.u:D0),this.g.onreadystatechange=dn(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){return void YU(this,s)}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())n.set(s,r.get(s))}r=Array.from(n.keys()).find(s=>"content-type"==s.toLowerCase()),i=re.FormData&&t instanceof re.FormData,!(0<=iU(vle,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{ZU(this),0<this.B&&((this.L=function wle(t){return cu&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=dn(this.ua,this)):this.A=v0(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){YU(this,s)}},N.ua=function(){typeof YC<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Qt(this,"timeout"),this.abort(8))},N.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Qt(this,"complete"),Qt(this,"abort"),wg(this))},N.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),wg(this,!0)),it.$.N.call(this)},N.La=function(){this.s||(this.G||this.v||this.l?JU(this):this.kb())},N.kb=function(){JU(this)},N.isActive=function(){return!!this.g},N.da=function(){try{return 2<ri(this)?this.g.status:-1}catch{return-1}},N.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},N.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),yle(e)}},N.Ia=function(){return this.m},N.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(N=nB.prototype).ra=8,N.H=1,N.Na=function(t){if(this.m)if(this.m=null,1==this.H){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new Hl(this,this.l,t);let s=this.s;if(this.U&&(s?(s=lU(s),hU(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=sB(this,i,e),Ue(n=ji(this.I),"RID",t),Ue(n,"CVER",22),this.F&&Ue(n,"X-HTTP-Session-Id",this.F),Zl(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(tB(s)))+"&"+e:this.o&&x0(n,this.o,s)),A0(this.i,i),this.bb&&Ue(n,"TYPE","init"),this.P?(Ue(n,"$req",e),Ue(n,"SID","null"),i.aa=!0,C0(i,n,null)):C0(i,n,e),this.H=2}}else 3==this.H&&(t?iB(this,t):0==this.j.length||GU(this.i)||iB(this))},N.Ma=function(){if(this.u=null,aB(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=$l(dn(this.jb,this),t)}},N.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Cn(10),Ig(this),aB(this))},N.ib=function(){null!=this.v&&(this.v=null,Ig(this),N0(this),Cn(19))},N.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Cn(2)):(this.l.info("Failed to ping google.com"),Cn(1))},N.isActive=function(){return!!this.h&&this.h.isActive(this)},(N=fB.prototype).Ba=function(){},N.Aa=function(){},N.za=function(){},N.ya=function(){},N.isActive=function(){return!0},N.Va=function(){},bg.prototype.g=function(t,e){return new nr(t,e)},Ot(nr,Ft),nr.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Cn(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=dB(t,null,t.Y),Eg(t)},nr.prototype.close=function(){R0(this.g)},nr.prototype.u=function(t){var e=this.g;if("string"==typeof t){var n={};n.__data__=t,t=n}else this.v&&((n={}).__data__=m0(t),t=n);e.j.push(new class{constructor(t,e){this.g=t,this.map=e}}(e.fb++,t)),3==e.H&&Eg(e)},nr.prototype.N=function(){this.g.h=null,delete this.j,R0(this.g),delete this.g,nr.$.N.call(this)},Ot(pB,I0),Ot(gB,E0),Ot(hu,fB),hu.prototype.Ba=function(){Qt(this.g,"a")},hu.prototype.Aa=function(t){Qt(this.g,new pB(t))},hu.prototype.za=function(t){Qt(this.g,new gB)},hu.prototype.ya=function(){Qt(this.g,"b")},Ot(Rr,function Dle(){this.blockSize=-1}),Rr.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Rr.prototype.j=function(t,e){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(0==i)for(;s<=n;)P0(this,t,s),s+=this.blockSize;if("string"==typeof t){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){P0(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){P0(this,r),i=0;break}}this.h=i,this.i+=e},Rr.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=255&n,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};var ble={};function O0(t){return-128<=t&&128>t?function Nce(t,e){var n=ble;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,function(e){return new Me([0|e],0>e?-1:0)}):new Me([0|t],0>t?-1:0)}function ii(t){if(isNaN(t)||!isFinite(t))return fu;if(0>t)return Yt(ii(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=F0;return new Me(e,0)}var F0=4294967296,fu=O0(0),L0=O0(1),yB=O0(16777216);function Hi(t){if(0!=t.h)return!1;for(var e=0;e<t.g.length;e++)if(0!=t.g[e])return!1;return!0}function pr(t){return-1==t.h}function Yt(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Me(n,~t.h).add(L0)}function Cg(t,e){return t.add(Yt(e))}function Tg(t,e){for(;(65535&t[e])!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function ed(t,e){this.g=t,this.h=e}function Sg(t,e){if(Hi(e))throw Error("division by zero");if(Hi(t))return new ed(fu,fu);if(pr(t))return e=Sg(Yt(t),e),new ed(Yt(e.g),Yt(e.h));if(pr(e))return e=Sg(t,Yt(e)),new ed(Yt(e.g),e.h);if(30<t.g.length){if(pr(t)||pr(e))throw Error("slowDivide_ only works with positive integers.");for(var n=L0,r=e;0>=r.X(t);)n=_B(n),r=_B(r);var i=pu(n,1),s=pu(r,1);for(r=pu(r,2),n=pu(n,2);!Hi(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=pu(r,1),n=pu(n,1)}return e=Cg(t,i.R(e)),new ed(i,e)}for(i=fu;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(s=ii(n)).R(e);pr(o)||0<o.X(t);)o=(s=ii(n-=r)).R(e);Hi(s)&&(s=L0),i=i.add(s),t=Cg(t,o)}return new ed(i,t)}function _B(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Me(n,t.h)}function pu(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new Me(i,t.h)}(N=Me.prototype).ea=function(){if(pr(this))return-Yt(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:F0+r)*e,e*=F0}return t},N.toString=function(t){if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if(Hi(this))return"0";if(pr(this))return"-"+Yt(this).toString(t);for(var e=ii(Math.pow(t,6)),n=this,r="";;){var i=Sg(n,e).g,s=((0<(n=Cg(n,i.R(e))).g.length?n.g[0]:n.h)>>>0).toString(t);if(Hi(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},N.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h},N.X=function(t){return pr(t=Cg(this,t))?-1:Hi(t)?0:1},N.abs=function(){return pr(this)?Yt(this):this},N.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(65535&this.D(i))+(65535&t.D(i)),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,n[i]=(o&=65535)<<16|(s&=65535)}return new Me(n,-2147483648&n[n.length-1]?-1:0)},N.R=function(t){if(Hi(this)||Hi(t))return fu;if(pr(this))return pr(t)?Yt(this).R(Yt(t)):Yt(Yt(this).R(t));if(pr(t))return Yt(this.R(Yt(t)));if(0>this.X(yB)&&0>t.X(yB))return ii(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=65535&this.D(r),a=t.D(i)>>>16,u=65535&t.D(i);n[2*r+2*i]+=o*u,Tg(n,2*r+2*i),n[2*r+2*i+1]+=s*u,Tg(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,Tg(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,Tg(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Me(n,0)},N.gb=function(t){return Sg(this,t).h},N.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Me(n,this.h&t.h)},N.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Me(n,this.h|t.h)},N.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Me(n,this.h^t.h)},bg.prototype.createWebChannel=bg.prototype.g,nr.prototype.send=nr.prototype.u,nr.prototype.open=nr.prototype.m,nr.prototype.close=nr.prototype.close,dg.NO_ERROR=0,dg.TIMEOUT=8,dg.HTTP_ERROR=6,AU.COMPLETE="complete",xU.EventType=jl,jl.OPEN="a",jl.CLOSE="b",jl.ERROR="c",jl.MESSAGE="d",Ft.prototype.listen=Ft.prototype.O,it.prototype.listenOnce=it.prototype.P,it.prototype.getLastError=it.prototype.Sa,it.prototype.getLastErrorCode=it.prototype.Ia,it.prototype.getStatus=it.prototype.da,it.prototype.getResponseJson=it.prototype.Wa,it.prototype.getResponseText=it.prototype.ja,it.prototype.send=it.prototype.ha,it.prototype.setWithCredentials=it.prototype.Oa,Rr.prototype.digest=Rr.prototype.l,Rr.prototype.reset=Rr.prototype.reset,Rr.prototype.update=Rr.prototype.j,Me.prototype.add=Me.prototype.add,Me.prototype.multiply=Me.prototype.R,Me.prototype.modulo=Me.prototype.gb,Me.prototype.compare=Me.prototype.X,Me.prototype.toNumber=Me.prototype.ea,Me.prototype.toString=Me.prototype.toString,Me.prototype.getBits=Me.prototype.D,Me.fromNumber=ii,Me.fromString=function mB(t,e){if(0==t.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==t.charAt(0))return Yt(mB(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=ii(Math.pow(e,8)),r=fu,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=ii(Math.pow(e,s)),r=r.R(s).add(ii(o))):r=(r=r.R(n)).add(ii(o))}return r};var Cle=xr.createWebChannelTransport=function(){return new bg},Tle=xr.getStatEventTarget=function(){return lg()},V0=xr.ErrorCode=dg,Sle=xr.EventType=AU,Ale=xr.Event=Co,vB=xr.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Mle=xr.FetchXmlHttpFactory=Ql,Ag=xr.WebChannel=xU,xle=xr.XhrIo=it,Rle=xr.Md5=Rr,gu=xr.Integer=Me;const wB="@firebase/firestore";class Lt{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Lt.UNAUTHENTICATED=new Lt(null),Lt.GOOGLE_CREDENTIALS=new Lt("google-credentials-uid"),Lt.FIRST_PARTY=new Lt("first-party-uid"),Lt.MOCK_USER=new Lt("mock-user");let mu="9.22.1";const Is=new Ja("@firebase/firestore");function U0(){return Is.logLevel}function S(t,...e){if(Is.logLevel<=J.DEBUG){const n=e.map(B0);Is.debug(`Firestore (${mu}): ${t}`,...n)}}function ut(t,...e){if(Is.logLevel<=J.ERROR){const n=e.map(B0);Is.error(`Firestore (${mu}): ${t}`,...n)}}function Nr(t,...e){if(Is.logLevel<=J.WARN){const n=e.map(B0);Is.warn(`Firestore (${mu}): ${t}`,...n)}}function B0(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch{return t}}function F(t="Unexpected state"){const e=`FIRESTORE (${mu}) INTERNAL ASSERTION FAILED: `+t;throw ut(e),new Error(e)}function U(t,e){t||F()}function R(t,e){return t}const I={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class b extends tr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class St{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class IB{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Nle{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Lt.UNAUTHENTICATED))}shutdown(){}}class kle{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Ple{constructor(e){this.t=e,this.currentUser=Lt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let i=this.i;const s=c=>this.i!==i?(i=this.i,n(c)):Promise.resolve();let o=new St;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new St,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=o;e.enqueueRetryable(g(function*(){yield c.promise,yield s(r.currentUser)}))},u=c=>{S("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(S("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new St)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(S("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(U("string"==typeof r.accessToken),new IB(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return U(null===e||"string"==typeof e),new Lt(e)}}class Ole{constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=Lt.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class Fle{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new Ole(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(Lt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class EB{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Lle{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const r=s=>{null!=s.error&&S("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.T;return this.T=s.token,S("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{S("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?i(s):S("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(U("string"==typeof n.token),this.T=n.token,new EB(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Vle(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class DB{static A(){const n=62*Math.floor(256/62);let r="";for(;r.length<20;){const i=Vle(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[s]%62))}return r}}function ee(t,e){return t<e?-1:t>e?1:0}function yu(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}class Je{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new b(I.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new b(I.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new b(I.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new b(I.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Je.fromMillis(Date.now())}static fromDate(e){return Je.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Je(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ee(this.nanoseconds,e.nanoseconds):ee(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class B{constructor(e){this.timestamp=e}static fromTimestamp(e){return new B(e)}static min(){return new B(new Je(0,0))}static max(){return new B(new Je(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class td{constructor(e,n,r){void 0===n?n=0:n>e.length&&F(),void 0===r?r=e.length-n:r>e.length-n&&F(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===td.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof td?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class me extends td{construct(e,n,r){return new me(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new b(I.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new me(n)}static emptyPath(){return new me([])}}const Ule=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ct extends td{construct(e,n,r){return new ct(e,n,r)}static isValidIdentifier(e){return Ule.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ct.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new ct(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(0===r.length)throw new b(I.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new b(I.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new b(I.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new b(I.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ct(n)}static emptyPath(){return new ct([])}}class x{constructor(e){this.path=e}static fromPath(e){return new x(me.fromString(e))}static fromName(e){return new x(me.fromString(e).popFirst(5))}static empty(){return new x(me.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===me.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return me.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new x(new me(e.slice()))}}function TB(t){return new rr(t.readTime,t.key,-1)}class rr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new rr(B.min(),x.empty(),-1)}static max(){return new rr(B.max(),x.empty(),-1)}}function j0(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=x.comparator(t.documentKey,e.documentKey),0!==n?n:ee(t.largestBatchId,e.largestBatchId))}const SB="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class jle{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Es(t){return H0.apply(this,arguments)}function H0(){return H0=g(function*(t){if(t.code!==I.FAILED_PRECONDITION||t.message!==SB)throw t;S("LocalStore","Unexpectedly lost primary lease")}),H0.apply(this,arguments)}class w{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&F(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new w((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof w?n:w.resolve(n)}catch(n){return w.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):w.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):w.reject(n)}static resolve(e){return new w((n,r)=>{n(e)})}static reject(e){return new w((n,r)=>{r(e)})}static waitFor(e){return new w((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=w.resolve(!1);for(const r of e)n=n.next(i=>i?w.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new w((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let u=0;u<s;u++){const c=u;n(e[c]).next(l=>{o[c]=l,++a,a===s&&r(o)},l=>i(l))}})}static doWhile(e,n){return new w((r,i)=>{const s=()=>{!0===e()?n().next(()=>{s()},i):r()};s()})}}function Ds(t){return"IndexedDbTransactionError"===t.name}let ir=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ot(i),this.ut=i=>r.writeSequenceNumber(i))}ot(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.ut&&this.ut(n),n}}return t.ct=-1,t})();function id(t){return null==t}function sd(t){return 0===t&&1/t==-1/0}function FB(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function bs(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function LB(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class Oe{constructor(e,n){this.comparator=e,this.root=n||Xt.EMPTY}insert(e,n){return new Oe(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Xt.BLACK,null,null))}remove(e){return new Oe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Xt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new kg(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new kg(this.root,e,this.comparator,!1)}getReverseIterator(){return new kg(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new kg(this.root,e,this.comparator,!0)}}class kg{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Xt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Xt.RED,this.left=i??Xt.EMPTY,this.right=s??Xt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Xt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===s?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Xt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return Xt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Xt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Xt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw F();const e=this.left.check();if(e!==this.right.check())throw F();return e+(this.isRed()?0:1)}}Xt.EMPTY=null,Xt.RED=!0,Xt.BLACK=!1,Xt.EMPTY=new class{constructor(){this.size=0}get key(){throw F()}get value(){throw F()}get color(){throw F()}get left(){throw F()}get right(){throw F()}copy(t,e,n,r,i){return this}insert(t,e,n){return new Xt(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Be{constructor(e){this.comparator=e,this.data=new Oe(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new VB(this.data.getIterator())}getIteratorFrom(e){return new VB(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Be)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Be(this.comparator);return n.data=e,n}}class VB{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Hn{constructor(e){this.fields=e,e.sort(ct.comparator)}static empty(){return new Hn([])}unionWith(e){let n=new Be(ct.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Hn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return yu(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class UB extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class At{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new UB("Invalid base64 string: "+i):i}}(e);return new At(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new At(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ee(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}At.EMPTY_BYTE_STRING=new At("");const dde=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Cs(t){if(U(!!t),"string"==typeof t){let e=0;const n=dde.exec(t);if(U(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:st(t.seconds),nanos:st(t.nanos)}}function st(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Gi(t){return"string"==typeof t?At.fromBase64String(t):At.fromUint8Array(t)}function Pg(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=t?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Og(t){const e=t.mapValue.fields.__previous_value__;return Pg(e)?Og(e):e}function od(t){const e=Cs(t.mapValue.fields.__local_write_time__.timestampValue);return new Je(e.seconds,e.nanos)}class hde{constructor(e,n,r,i,s,o,a,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=c}}class Ro{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Ro("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Ro&&e.projectId===this.projectId&&e.database===this.database}}const Ts={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ss(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Pg(t)?4:HB(t)?9007199254740991:10:F()}function oi(t,e){if(t===e)return!0;const n=Ss(t);if(n!==Ss(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return od(t).isEqual(od(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=Cs(r.timestampValue),o=Cs(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return i=e,Gi(t.bytesValue).isEqual(Gi(i.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return st(r.geoPointValue.latitude)===st(i.geoPointValue.latitude)&&st(r.geoPointValue.longitude)===st(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return st(r.integerValue)===st(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=st(r.doubleValue),o=st(i.doubleValue);return s===o?sd(s)===sd(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return yu(t.arrayValue.values||[],e.arrayValue.values||[],oi);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(FB(s)!==FB(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(void 0===o[a]||!oi(s[a],o[a])))return!1;return!0}(t,e);default:return F()}var i}function ad(t,e){return void 0!==(t.values||[]).find(n=>oi(n,e))}function As(t,e){if(t===e)return 0;const n=Ss(t),r=Ss(e);if(n!==r)return ee(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ee(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=st(i.integerValue||i.doubleValue),a=st(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return BB(t.timestampValue,e.timestampValue);case 4:return BB(od(t),od(e));case 5:return ee(t.stringValue,e.stringValue);case 6:return function(i,s){const o=Gi(i),a=Gi(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let u=0;u<o.length&&u<a.length;u++){const c=ee(o[u],a[u]);if(0!==c)return c}return ee(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=ee(st(i.latitude),st(s.latitude));return 0!==o?o:ee(st(i.longitude),st(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let u=0;u<o.length&&u<a.length;++u){const c=As(o[u],a[u]);if(c)return c}return ee(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===Ts.mapValue&&s===Ts.mapValue)return 0;if(i===Ts.mapValue)return 1;if(s===Ts.mapValue)return-1;const o=i.fields||{},a=Object.keys(o),u=s.fields||{},c=Object.keys(u);a.sort(),c.sort();for(let l=0;l<a.length&&l<c.length;++l){const d=ee(a[l],c[l]);if(0!==d)return d;const h=As(o[a[l]],u[c[l]]);if(0!==h)return h}return ee(a.length,c.length)}(t.mapValue,e.mapValue);default:throw F()}}function BB(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return ee(t,e);const n=Cs(t),r=Cs(e),i=ee(n.seconds,r.seconds);return 0!==i?i:ee(n.nanos,r.nanos)}function vu(t){return q0(t)}function q0(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=Cs(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Gi(t.bytesValue).toBase64():"referenceValue"in t?x.fromName(t.referenceValue).toString():"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=q0(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${q0(r.fields[a])}`;return s+"}"}(t.mapValue):F();var e}function W0(t){return!!t&&"integerValue"in t}function ud(t){return!!t&&"arrayValue"in t}function $B(t){return!!t&&"nullValue"in t}function jB(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Vg(t){return!!t&&"mapValue"in t}function cd(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return bs(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=cd(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=cd(t.arrayValue.values[n]);return e}return Object.assign({},t)}function HB(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}class Jt{constructor(e){this.value=e}static empty(){return new Jt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Vg(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=cd(n)}setAll(e){let n=ct.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=cd(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Vg(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return oi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Vg(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){bs(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Jt(cd(this.value))}}function qB(t){const e=[];return bs(t.fields,(n,r)=>{const i=new ct([n]);if(Vg(r)){const s=qB(r.mapValue).fields;if(0===s.length)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Hn(e)}class $e{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new $e(e,0,B.min(),B.min(),B.min(),Jt.empty(),0)}static newFoundDocument(e,n,r,i){return new $e(e,1,n,B.min(),r,i,0)}static newNoDocument(e,n){return new $e(e,2,n,B.min(),B.min(),Jt.empty(),0)}static newUnknownDocument(e,n){return new $e(e,3,n,B.min(),B.min(),Jt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(B.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Jt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Jt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=B.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof $e&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new $e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ms{constructor(e,n){this.position=e,this.inclusive=n}}function WB(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(r=s.field.isKeyField()?x.comparator(x.fromName(o.referenceValue),n.key):As(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function KB(t,e){if(null===t)return null===e;if(null===e||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!oi(t.position[n],e.position[n]))return!1;return!0}class wu{constructor(e,n="asc"){this.field=e,this.dir=n}}function gde(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class QB{}class fe extends QB{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,r):new mde(e,n,r):"array-contains"===n?new vde(e,r):"in"===n?new t$(e,r):"not-in"===n?new wde(e,r):"array-contains-any"===n?new Ide(e,r):new fe(e,n,r)}static createKeyFieldInFilter(e,n,r){return"in"===n?new yde(e,r):new _de(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(As(n,this.value)):null!==n&&Ss(this.value)===Ss(n)&&this.matchesComparison(As(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return F()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class xe extends QB{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new xe(e,n)}matches(e){return Iu(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return null!==e?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function Iu(t){return"and"===t.op}function Q0(t){return function YB(t){for(const e of t.filters)if(e instanceof xe)return!1;return!0}(t)&&Iu(t)}function Y0(t){if(t instanceof fe)return t.field.canonicalString()+t.op.toString()+vu(t.value);if(Q0(t))return t.filters.map(e=>Y0(e)).join(",");{const e=t.filters.map(n=>Y0(n)).join(",");return`${t.op}(${e})`}}function XB(t,e){return t instanceof fe?(n=t,(r=e)instanceof fe&&n.op===r.op&&n.field.isEqual(r.field)&&oi(n.value,r.value)):t instanceof xe?function(n,r){return r instanceof xe&&n.op===r.op&&n.filters.length===r.filters.length&&n.filters.reduce((i,s,o)=>i&&XB(s,r.filters[o]),!0)}(t,e):void F();var n,r}function ZB(t){return t instanceof fe?`${(e=t).field.canonicalString()} ${e.op} ${vu(e.value)}`:t instanceof xe?function(e){return e.op.toString()+" {"+e.getFilters().map(ZB).join(" ,")+"}"}(t):"Filter";var e}class mde extends fe{constructor(e,n,r){super(e,n,r),this.key=x.fromName(r.referenceValue)}matches(e){const n=x.comparator(e.key,this.key);return this.matchesComparison(n)}}class yde extends fe{constructor(e,n){super(e,"in",n),this.keys=e$(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class _de extends fe{constructor(e,n){super(e,"not-in",n),this.keys=e$(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function e$(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>x.fromName(r.referenceValue))}class vde extends fe{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return ud(n)&&ad(n.arrayValue,this.value)}}class t$ extends fe{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&ad(this.value.arrayValue,n)}}class wde extends fe{constructor(e,n){super(e,"not-in",n)}matches(e){if(ad(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!ad(this.value.arrayValue,n)}}class Ide extends fe{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!ud(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>ad(this.value.arrayValue,r))}}class Ede{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.dt=null}}function X0(t,e=null,n=[],r=[],i=null,s=null,o=null){return new Ede(t,e,n,r,i,s,o)}function ko(t){const e=R(t);if(null===e.dt){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Y0(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),id(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>vu(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>vu(r)).join(",")),e.dt=n}return e.dt}function ld(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!gde(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!XB(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!KB(t.startAt,e.startAt)&&KB(t.endAt,e.endAt)}function Ug(t){return x.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class zi{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.wt=null,this._t=null}}function Eu(t){return new zi(t)}function s$(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function Po(t){const e=R(t);if(null===e.wt){e.wt=[];const n=function $g(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(null!==n)return n}return null}(e),r=function J0(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}(e);if(null!==n&&null===r)n.isKeyField()||e.wt.push(new wu(n)),e.wt.push(new wu(ct.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.wt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new wu(ct.keyField(),s))}}}return e.wt}function Tn(t){const e=R(t);if(!e._t)if("F"===e.limitType)e._t=X0(e.path,e.collectionGroup,Po(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of Po(e))n.push(new wu(s.field,"desc"===s.dir?"asc":"desc"));const r=e.endAt?new Ms(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Ms(e.startAt.position,e.startAt.inclusive):null;e._t=X0(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e._t}function jg(t,e,n){return new zi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function dd(t,e){return ld(Tn(t),Tn(e))&&t.limitType===e.limitType}function o$(t){return`${ko(Tn(t))}|lt:${t.limitType}`}function tT(t){return`Query(target=${function(e){let n=e.path.canonicalString();return null!==e.collectionGroup&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>ZB(r)).join(", ")}]`),id(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>vu(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>vu(r)).join(",")),`Target(${n})`}(Tn(t))}; limitType=${t.limitType})`}function hd(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return null!==n.collectionGroup?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):x.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of Po(n))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&(r=e,!((n=t).startAt&&!function(i,s,o){const a=WB(i,s,o);return i.inclusive?a<=0:a<0}(n.startAt,Po(n),r)||n.endAt&&!function(i,s,o){const a=WB(i,s,o);return i.inclusive?a>=0:a>0}(n.endAt,Po(n),r)));var n,r}function u$(t){return(e,n)=>{let r=!1;for(const i of Po(t)){const s=Dde(i,e,n);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function Dde(t,e,n){const r=t.field.isKeyField()?x.comparator(e.key,n.key):function(i,s,o){const a=s.data.field(i),u=o.data.field(i);return null!==a&&null!==u?As(a,u):F()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return F()}}class qi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){bs(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return LB(this.inner)}size(){return this.innerSize}}const bde=new Oe(x.comparator);function Gn(){return bde}const c$=new Oe(x.comparator);function fd(...t){let e=c$;for(const n of t)e=e.insert(n.key,n);return e}function l$(t){let e=c$;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ai(){return pd()}function d$(){return pd()}function pd(){return new qi(t=>t.toString(),(t,e)=>t.isEqual(e))}const Cde=new Oe(x.comparator),Tde=new Be(x.comparator);function ue(...t){let e=Tde;for(const n of t)e=e.add(n);return e}const Sde=new Be(ee);function h$(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:sd(e)?"-0":e}}function f$(t){return{integerValue:""+t}}function p$(t,e){return function MB(t){return"number"==typeof t&&Number.isInteger(t)&&!sd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}(e)?f$(e):h$(t,e)}class Hg{constructor(){this._=void 0}}function Ade(t,e,n){return t instanceof Du?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&Pg(i)&&(i=Og(i)),i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof Oo?m$(t,e):t instanceof Fo?y$(t,e):function(r,i){const s=g$(r,i),o=_$(s)+_$(r.gt);return W0(s)&&W0(r.gt)?f$(o):h$(r.serializer,o)}(t,e)}function Mde(t,e,n){return t instanceof Oo?m$(t,e):t instanceof Fo?y$(t,e):n}function g$(t,e){return t instanceof bu?W0(n=e)||(r=n)&&"doubleValue"in r?e:{integerValue:0}:null;var r,n}class Du extends Hg{}class Oo extends Hg{constructor(e){super(),this.elements=e}}function m$(t,e){const n=v$(e);for(const r of t.elements)n.some(i=>oi(i,r))||n.push(r);return{arrayValue:{values:n}}}class Fo extends Hg{constructor(e){super(),this.elements=e}}function y$(t,e){let n=v$(e);for(const r of t.elements)n=n.filter(i=>!oi(i,r));return{arrayValue:{values:n}}}class bu extends Hg{constructor(e,n){super(),this.serializer=e,this.gt=n}}function _$(t){return st(t.integerValue||t.doubleValue)}function v$(t){return ud(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class Rde{constructor(e,n){this.version=e,this.transformResults=n}}class Ge{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ge}static exists(e){return new Ge(void 0,e)}static updateTime(e){return new Ge(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Gg(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class zg{}function w$(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new Tu(t.key,Ge.none()):new Cu(t.key,t.data,Ge.none());{const n=t.data,r=Jt.empty();let i=new Be(ct.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);null===o&&s.length>1&&(s=s.popLast(),o=n.field(s)),null===o?r.delete(s):r.set(s,o),i=i.add(s)}return new Wi(t.key,r,new Hn(i.toArray()),Ge.none())}}function Nde(t,e,n){t instanceof Cu?function(r,i,s){const o=r.value.clone(),a=D$(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof Wi?function(r,i,s){if(!Gg(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=D$(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(E$(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function md(t,e,n,r){return t instanceof Cu?function(i,s,o,a){if(!Gg(i.precondition,s))return o;const u=i.value.clone(),c=b$(i.fieldTransforms,a,s);return u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Wi?function(i,s,o,a){if(!Gg(i.precondition,s))return o;const u=b$(i.fieldTransforms,a,s),c=s.data;return c.setAll(E$(i)),c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null===o?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(l=>l.field))}(t,e,n,r):(o=n,Gg(t.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o);var s,o}function kde(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=g$(r.transform,i||null);null!=s&&(null===n&&(n=Jt.empty()),n.set(r.field,s))}return n||null}function I$(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(n=t.fieldTransforms)&&void 0===r||n&&r&&yu(n,r,(i,s)=>function xde(t,e){return t.field.isEqual(e.field)&&(r=e.transform,(n=t.transform)instanceof Oo&&r instanceof Oo||n instanceof Fo&&r instanceof Fo?yu(n.elements,r.elements,oi):n instanceof bu&&r instanceof bu?oi(n.gt,r.gt):n instanceof Du&&r instanceof Du);var n,r}(i,s))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var n,r}class Cu extends zg{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Wi extends zg{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function E$(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function D$(t,e,n){const r=new Map;U(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,Mde(o,a,n[i]))}return r}function b$(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,Ade(s,o,e))}return r}class Tu extends zg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class rT extends zg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class iT{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&Nde(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=md(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=md(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=d$();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const u=w$(o,a);null!==u&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(B.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ue())}isEqual(e){return this.batchId===e.batchId&&yu(this.mutations,e.mutations,(n,r)=>I$(n,r))&&yu(this.baseMutations,e.baseMutations,(n,r)=>I$(n,r))}}class sT{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){U(e.mutations.length===r.length);let i=Cde;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new sT(e,n,r,i)}}class oT{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Ode{constructor(e,n){this.count=e,this.unchangedNames=n}}var _t,ye;function T$(t){if(void 0===t)return ut("GRPC error has no .code"),I.UNKNOWN;switch(t){case _t.OK:return I.OK;case _t.CANCELLED:return I.CANCELLED;case _t.UNKNOWN:return I.UNKNOWN;case _t.DEADLINE_EXCEEDED:return I.DEADLINE_EXCEEDED;case _t.RESOURCE_EXHAUSTED:return I.RESOURCE_EXHAUSTED;case _t.INTERNAL:return I.INTERNAL;case _t.UNAVAILABLE:return I.UNAVAILABLE;case _t.UNAUTHENTICATED:return I.UNAUTHENTICATED;case _t.INVALID_ARGUMENT:return I.INVALID_ARGUMENT;case _t.NOT_FOUND:return I.NOT_FOUND;case _t.ALREADY_EXISTS:return I.ALREADY_EXISTS;case _t.PERMISSION_DENIED:return I.PERMISSION_DENIED;case _t.FAILED_PRECONDITION:return I.FAILED_PRECONDITION;case _t.ABORTED:return I.ABORTED;case _t.OUT_OF_RANGE:return I.OUT_OF_RANGE;case _t.UNIMPLEMENTED:return I.UNIMPLEMENTED;case _t.DATA_LOSS:return I.DATA_LOSS;default:return F()}}(ye=_t||(_t={}))[ye.OK=0]="OK",ye[ye.CANCELLED=1]="CANCELLED",ye[ye.UNKNOWN=2]="UNKNOWN",ye[ye.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ye[ye.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ye[ye.NOT_FOUND=5]="NOT_FOUND",ye[ye.ALREADY_EXISTS=6]="ALREADY_EXISTS",ye[ye.PERMISSION_DENIED=7]="PERMISSION_DENIED",ye[ye.UNAUTHENTICATED=16]="UNAUTHENTICATED",ye[ye.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ye[ye.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ye[ye.ABORTED=10]="ABORTED",ye[ye.OUT_OF_RANGE=11]="OUT_OF_RANGE",ye[ye.UNIMPLEMENTED=12]="UNIMPLEMENTED",ye[ye.INTERNAL=13]="INTERNAL",ye[ye.UNAVAILABLE=14]="UNAVAILABLE",ye[ye.DATA_LOSS=15]="DATA_LOSS";class aT{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return qg}static getOrCreateInstance(){return null===qg&&(qg=new aT),qg}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let qg=null;const Fde=new gu([4294967295,4294967295],0);function A$(t){const e=function S$(){return new TextEncoder}().encode(t),n=new Rle;return n.update(e),new Uint8Array(n.digest())}function M$(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new gu([n,r],0),new gu([i,s],0)]}class uT{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new yd(`Invalid padding: ${n}`);if(r<0)throw new yd(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new yd(`Invalid hash count: ${r}`);if(0===e.length&&0!==n)throw new yd(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=gu.fromNumber(this.It)}Et(e,n,r){let i=e.add(n.multiply(gu.fromNumber(r)));return 1===i.compare(Fde)&&(i=new gu([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const n=A$(e),[r,i]=M$(n);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);if(!this.At(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new uT(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(0===this.It)return;const n=A$(e),[r,i]=M$(n);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);this.Rt(o)}}Rt(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class yd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class _d{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,vd.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new _d(B.min(),i,new Oe(ee),Gn(),ue())}}class vd{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new vd(r,n,ue(),ue(),ue())}}class Wg{constructor(e,n,r,i){this.Pt=e,this.removedTargetIds=n,this.key=r,this.bt=i}}class x${constructor(e,n){this.targetId=e,this.Vt=n}}class R${constructor(e,n,r=At.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class N${constructor(){this.St=0,this.Dt=P$(),this.Ct=At.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=ue(),n=ue(),r=ue();return this.Dt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:F()}}),new vd(this.Ct,this.xt,e,n,r)}Ft(){this.Nt=!1,this.Dt=P$()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class Lde{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Gn(),this.zt=k$(),this.Wt=new Oe(ee)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const r=this.Zt(n);switch(e.state){case 0:this.te(n)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(n);break;case 3:this.te(n)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),r.$t(e.resumeToken));break;default:F()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((r,i)=>{this.te(i)&&n(i)})}ne(e){var n;const r=e.targetId,i=e.Vt.count,s=this.se(r);if(s){const o=s.target;if(Ug(o))if(0===i){const a=new x(o.path);this.Yt(r,a,$e.newNoDocument(a,B.min()))}else U(1===i);else{const a=this.ie(r);if(a!==i){const u=this.re(e,a);0!==u&&(this.ee(r),this.Wt=this.Wt.insert(r,2===u?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(n=aT.instance)||void 0===n||n.notifyOnExistenceFilterMismatch(function(c,l,d){var h,f,p,m,y,v;const _={localCacheCount:l,existenceFilterCount:d.count},E=d.unchangedNames;return E&&(_.bloomFilter={applied:0===c,hashCount:null!==(h=E?.hashCount)&&void 0!==h?h:0,bitmapLength:null!==(m=null===(p=null===(f=E?.bits)||void 0===f?void 0:f.bitmap)||void 0===p?void 0:p.length)&&void 0!==m?m:0,padding:null!==(v=null===(y=E?.bits)||void 0===y?void 0:y.padding)&&void 0!==v?v:0}),_}(u,a,e.Vt))}}}}re(e,n){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:s="",padding:o=0},hashCount:a=0}=r;let u,c;try{u=Gi(s).toUint8Array()}catch(l){if(l instanceof UB)return Nr("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw l}try{c=new uT(u,o,a)}catch(l){return Nr(l instanceof yd?"BloomFilter error: ":"Applying bloom filter failed: ",l),1}return 0===c.It?1:i!==n-this.oe(e.targetId,c)?2:0}oe(e,n){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(s=>{const o=this.Gt.ue(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;n.vt(a)||(this.Yt(e,s,null),i++)}),i}ce(e){const n=new Map;this.Qt.forEach((s,o)=>{const a=this.se(o);if(a){if(s.current&&Ug(a.target)){const u=new x(a.target.path);null!==this.jt.get(u)||this.ae(o,u)||this.Yt(o,u,$e.newNoDocument(u,e))}s.Mt&&(n.set(o,s.Ot()),s.Ft())}});let r=ue();this.zt.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const c=this.se(u);return!c||"TargetPurposeLimboResolution"===c.purpose||(a=!1,!1)}),a&&(r=r.add(s))}),this.jt.forEach((s,o)=>o.setReadTime(e));const i=new _d(e,n,this.Wt,this.jt,r);return this.jt=Gn(),this.zt=k$(),this.Wt=new Oe(ee),i}Jt(e,n){if(!this.te(e))return;const r=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,r),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,n)?i.Bt(n,1):i.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),r&&(this.jt=this.jt.insert(n,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new N$,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new Be(ee),this.zt=this.zt.insert(e,n)),n}te(e){const n=null!==this.se(e);return n||S("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new N$),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function k$(){return new Oe(x.comparator)}function P$(){return new Oe(x.comparator)}const Vde={asc:"ASCENDING",desc:"DESCENDING"},Ude={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Bde={and:"AND",or:"OR"};class $de{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function cT(t,e){return t.useProto3Json||id(e)?e:{value:e}}function Su(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function O$(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function jde(t,e){return Su(t,e.toTimestamp())}function lt(t){return U(!!t),B.fromTimestamp(function(e){const n=Cs(e);return new Je(n.seconds,n.nanos)}(t))}function lT(t,e){return(n=t,new me(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}function F$(t){const e=me.fromString(t);return U(z$(e)),e}function wd(t,e){return lT(t.databaseId,e.path)}function ui(t,e){const n=F$(e);if(n.get(1)!==t.databaseId.projectId)throw new b(I.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new b(I.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new x(V$(n))}function dT(t,e){return lT(t.databaseId,e)}function Id(t){return new me(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function V$(t){return U(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function U$(t,e,n){return{name:wd(t,e),fields:n.value.mapValue.fields}}function $$(t,e){return{documents:[dT(t,e.path)]}}function fT(t,e){const n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=dT(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=dT(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(u){if(0!==u.length)return G$(xe.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(u){if(0!==u.length)return u.map(c=>{return{field:xs((l=c).field),direction:Wde(l.dir)};var l})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=cT(t,e.limit);var a,u;return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt={before:!(u=e.endAt).inclusive,values:u.position}),n}function j$(t){let e=function L$(t){const e=F$(t);return 4===e.length?me.emptyPath():V$(e)}(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){U(1===r);const l=n.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let s=[];n.where&&(s=function(l){const d=H$(l);return d instanceof xe&&Q0(d)?d.getFilters():[d]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(l=>{return new wu(Au((d=l).field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction));var d}));let a=null;n.limit&&(a=function(l){let d;return d="object"==typeof l?l.value:l,id(d)?null:d}(n.limit));let u=null;var l;n.startAt&&(u=new Ms((l=n.startAt).values||[],!!l.before));let c=null;return n.endAt&&(c=function(l){return new Ms(l.values||[],!l.before)}(n.endAt)),function i$(t,e,n,r,i,s,o,a){return new zi(t,e,n,r,i,s,o,a)}(e,i,o,s,a,"F",u,c)}function H$(t){return void 0!==t.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=Au(e.unaryFilter.field);return fe.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=Au(e.unaryFilter.field);return fe.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Au(e.unaryFilter.field);return fe.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Au(e.unaryFilter.field);return fe.create(s,"!=",{nullValue:"NULL_VALUE"});default:return F()}}(t):void 0!==t.fieldFilter?fe.create(Au((e=t).fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return F()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==t.compositeFilter?function(e){return xe.create(e.compositeFilter.filters.map(n=>H$(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return F()}}(e.compositeFilter.op))}(t):F();var e}function Wde(t){return Vde[t]}function Kde(t){return Ude[t]}function Qde(t){return Bde[t]}function xs(t){return{fieldPath:t.canonicalString()}}function Au(t){return ct.fromServerFormat(t.fieldPath)}function G$(t){return t instanceof fe?function(e){if("=="===e.op){if(jB(e.value))return{unaryFilter:{field:xs(e.field),op:"IS_NAN"}};if($B(e.value))return{unaryFilter:{field:xs(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(jB(e.value))return{unaryFilter:{field:xs(e.field),op:"IS_NOT_NAN"}};if($B(e.value))return{unaryFilter:{field:xs(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:xs(e.field),op:Kde(e.op),value:e.value}}}(t):t instanceof xe?function(e){const n=e.getFilters().map(r=>G$(r));return 1===n.length?n[0]:{compositeFilter:{op:Qde(e.op),filters:n}}}(t):F()}function Yde(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function z$(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class Ki{constructor(e,n,r,i,s=B.min(),o=B.min(),a=At.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new Ki(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ki(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ki(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ki(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class q${constructor(e){this.fe=e}}function pT(t){const e=j$({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?jg(e,e.limit,"L"):e}class Bo{constructor(){}_e(e,n){this.me(e,n),n.ge()}me(e,n){if("nullValue"in e)this.ye(n,5);else if("booleanValue"in e)this.ye(n,10),n.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(n,15),n.pe(st(e.integerValue));else if("doubleValue"in e){const r=st(e.doubleValue);isNaN(r)?this.ye(n,13):(this.ye(n,15),sd(r)?n.pe(0):n.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(n,20),"string"==typeof r?n.Ie(r):(n.Ie(`${r.seconds||""}`),n.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,n),this.Ee(n);else if("bytesValue"in e)this.ye(n,30),n.Ae(Gi(e.bytesValue)),this.Ee(n);else if("referenceValue"in e)this.ve(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(n,45),n.pe(r.latitude||0),n.pe(r.longitude||0)}else"mapValue"in e?HB(e)?this.ye(n,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,n),this.Ee(n)):"arrayValue"in e?(this.Pe(e.arrayValue,n),this.Ee(n)):F()}Te(e,n){this.ye(n,25),this.be(e,n)}be(e,n){n.Ie(e)}Re(e,n){const r=e.fields||{};this.ye(n,55);for(const i of Object.keys(r))this.Te(i,n),this.me(r[i],n)}Pe(e,n){const r=e.values||[];this.ye(n,50);for(const i of r)this.me(i,n)}ve(e,n){this.ye(n,37),x.fromName(e).path.forEach(r=>{this.ye(n,60),this.be(r,n)})}ye(e,n){e.pe(n)}Ee(e){e.pe(2)}}Bo.Ve=new Bo;class she{constructor(){this.rn=new wT}addToCollectionParentIndex(e,n){return this.rn.add(n),w.resolve()}getCollectionParents(e,n){return w.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return w.resolve()}deleteFieldIndex(e,n){return w.resolve()}getDocumentsMatchingTarget(e,n){return w.resolve(null)}getIndexType(e,n){return w.resolve(0)}getFieldIndexes(e,n){return w.resolve([])}getNextCollectionGroupToUpdate(e){return w.resolve(null)}getMinOffset(e,n){return w.resolve(rr.min())}getMinOffsetFromCollectionGroup(e,n){return w.resolve(rr.min())}updateCollectionGroup(e,n,r){return w.resolve()}updateIndexEntries(e,n){return w.resolve()}}class wT{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Be(me.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Be(me.comparator)).toArray()}}new Uint8Array(0);class pn{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new pn(e,pn.DEFAULT_COLLECTION_PERCENTILE,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}pn.DEFAULT_COLLECTION_PERCENTILE=10,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,pn.DEFAULT=new pn(41943040,pn.DEFAULT_COLLECTION_PERCENTILE,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),pn.DISABLED=new pn(-1,0,0);class jo{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new jo(0)}static Mn(){return new jo(-1)}}class dhe{constructor(){this.changes=new qi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,$e.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?w.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class phe{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class _j{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(null!==r&&md(r.mutation,i,Hn.empty(),Je.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ue()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ue()){const i=ai();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=fd();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=ai();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ue()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Gn();const o=pd(),a=pd();return n.forEach((u,c)=>{const l=r.get(c.key);i.has(c.key)&&(void 0===l||l.mutation instanceof Wi)?s=s.insert(c.key,c):void 0!==l?(o.set(c.key,l.mutation.getFieldMask()),md(l.mutation,c,l.mutation.getFieldMask(),Je.now())):o.set(c.key,Hn.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((c,l)=>o.set(c,l)),n.forEach((c,l)=>{var d;return a.set(c,new phe(l,null!==(d=o.get(c))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=pd();let i=new Oe((o,a)=>o-a),s=ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(u=>{const c=n.get(u);if(null===c)return;let l=r.get(u)||Hn.empty();l=a.applyToLocalView(c,l),r.set(u,l);const d=(i.get(a.batchId)||ue()).add(u);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,l=u.value,d=d$();l.forEach(h=>{if(!s.has(h)){const f=w$(n.get(h),r.get(h));null!==f&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return w.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return x.isDocumentKey((i=n).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):function Z0(t){return null!==t.collectionGroup}(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r);var i}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):w.resolve(ai());let a=-1,u=s;return o.next(c=>w.forEach(c,(l,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(l)?w.resolve():this.remoteDocumentCache.getEntry(e,l).next(h=>{u=u.insert(l,h)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,u,c,ue())).next(l=>({batchId:a,changes:l$(l)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new x(n)).next(r=>{let i=fd();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let s=fd();return this.indexManager.getCollectionParents(e,i).next(o=>w.forEach(o,a=>{const u=(c=n,l=a.child(i),new zi(l,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt));var c,l;return this.getDocumentsMatchingCollectionQuery(e,u,r).next(c=>{c.forEach((l,d)=>{s=s.insert(l,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i))).next(s=>{i.forEach((a,u)=>{const c=u.getKey();null===s.get(c)&&(s=s.insert(c,$e.newInvalidDocument(c)))});let o=fd();return s.forEach((a,u)=>{const c=i.get(a);void 0!==c&&md(c.mutation,u,Hn.empty(),Je.now()),hd(n,u)&&(o=o.insert(a,u))}),o})}}class ghe{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return w.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var r;return this.cs.set(n.id,{id:(r=n).id,version:r.version,createTime:lt(r.createTime)}),w.resolve()}getNamedQuery(e,n){return w.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,{name:(r=n).name,query:pT(r.bundledQuery),readTime:lt(r.readTime)}),w.resolve();var r}}class mhe{constructor(){this.overlays=new Oe(x.comparator),this.ls=new Map}getOverlay(e,n){return w.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ai();return w.forEach(n,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.we(e,n,s)}),w.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.ls.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.ls.delete(r)),w.resolve()}getOverlaysForCollection(e,n,r){const i=ai(),s=n.length+1,o=new x(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return w.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Oe((c,l)=>c-l);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let l=s.get(c.largestBatchId);null===l&&(l=ai(),s=s.insert(c.largestBatchId,l)),l.set(c.getKey(),c)}}const a=ai(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,l)=>a.set(c,l)),!(a.size()>=i)););return w.resolve(a)}we(e,n,r){const i=this.overlays.get(r.key);if(null!==i){const o=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new oT(n,r));let s=this.ls.get(n);void 0===s&&(s=ue(),this.ls.set(n,s)),this.ls.set(n,s.add(r.key))}}class IT{constructor(){this.fs=new Be(Ut.ds),this.ws=new Be(Ut._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const r=new Ut(e,n);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.ys(new Ut(e,n))}ps(e,n){e.forEach(r=>this.removeReference(r,n))}Is(e){const n=new x(new me([])),r=new Ut(n,e),i=new Ut(n,e+1),s=[];return this.ws.forEachInRange([r,i],o=>{this.ys(o),s.push(o.key)}),s}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new x(new me([])),r=new Ut(n,e),i=new Ut(n,e+1);let s=ue();return this.ws.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Ut(e,0),r=this.fs.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class Ut{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return x.comparator(e.key,n.key)||ee(e.As,n.As)}static _s(e,n){return ee(e.As,n.As)||x.comparator(e.key,n.key)}}class yhe{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new Be(Ut.ds)}checkEmpty(e){return w.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,r,i){const s=this.vs;this.vs++;const o=new iT(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Rs=this.Rs.add(new Ut(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return w.resolve(o)}lookupMutationBatch(e,n){return w.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const i=this.bs(n+1),s=i<0?0:i;return w.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return w.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return w.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ut(n,0),i=new Ut(n,Number.POSITIVE_INFINITY),s=[];return this.Rs.forEachInRange([r,i],o=>{const a=this.Ps(o.As);s.push(a)}),w.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Be(ee);return n.forEach(i=>{const s=new Ut(i,0),o=new Ut(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([s,o],a=>{r=r.add(a.As)})}),w.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;x.isDocumentKey(s)||(s=s.child(""));const o=new Ut(new x(s),0);let a=new Be(ee);return this.Rs.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(u.As)),!0)},o),w.resolve(this.Vs(a))}Vs(e){const n=[];return e.forEach(r=>{const i=this.Ps(r);null!==i&&n.push(i)}),n}removeMutationBatch(e,n){U(0===this.Ss(n.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return w.forEach(n.mutations,i=>{const s=new Ut(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,n){const r=new Ut(n,0),i=this.Rs.firstAfterOrEqual(r);return w.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return w.resolve()}Ss(e,n){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class _he{constructor(e){this.Ds=e,this.docs=new Oe(x.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Ds(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return w.resolve(r?r.document.mutableCopy():$e.newInvalidDocument(n))}getEntries(e,n){let r=Gn();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():$e.newInvalidDocument(i))}),w.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Gn();const o=n.path,a=new x(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:c,value:{document:l}}=u.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||j0(TB(l),r)<=0||(i.has(l.key)||hd(n,l))&&(s=s.insert(l.key,l.mutableCopy()))}return w.resolve(s)}getAllFromCollectionGroup(e,n,r,i){F()}Cs(e,n){return w.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new vhe(this)}getSize(e){return w.resolve(this.size)}}class vhe extends dhe{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),w.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}class whe{constructor(e){this.persistence=e,this.xs=new qi(n=>ko(n),ld),this.lastRemoteSnapshotVersion=B.min(),this.highestTargetId=0,this.Ns=0,this.ks=new IT,this.targetCount=0,this.Ms=jo.kn()}forEachTarget(e,n){return this.xs.forEach((r,i)=>n(i)),w.resolve()}getLastRemoteSnapshotVersion(e){return w.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return w.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),w.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Ns&&(this.Ns=n),w.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new jo(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,w.resolve()}updateTargetData(e,n){return this.Fn(n),w.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,w.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.xs.forEach((o,a)=>{a.sequenceNumber<=n&&null===r.get(a.targetId)&&(this.xs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),w.waitFor(s).next(()=>i)}getTargetCount(e){return w.resolve(this.targetCount)}getTargetData(e,n){const r=this.xs.get(n)||null;return w.resolve(r)}addMatchingKeys(e,n,r){return this.ks.gs(n,r),w.resolve()}removeMatchingKeys(e,n,r){this.ks.ps(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),w.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),w.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ks.Es(n);return w.resolve(r)}containsKey(e,n){return w.resolve(this.ks.containsKey(n))}}class ET{constructor(e,n){this.$s={},this.overlays={},this.Os=new ir(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new whe(this),this.indexManager=new she,this.remoteDocumentCache=new _he(r=>this.referenceDelegate.Ls(r)),this.serializer=new q$(n),this.qs=new ghe(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new mhe,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.$s[e.toKey()];return r||(r=new yhe(n,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,r){S("MemoryPersistence","Starting transaction:",e);const i=new Ihe(this.Os.next());return this.referenceDelegate.Us(),r(i).next(s=>this.referenceDelegate.Ks(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gs(e,n){return w.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,n)))}}class Ihe extends jle{constructor(e){super(),this.currentSequenceNumber=e}}class nm{constructor(e){this.persistence=e,this.Qs=new IT,this.js=null}static zs(e){return new nm(e)}get Ws(){if(this.js)return this.js;throw F()}addReference(e,n,r){return this.Qs.addReference(r,n),this.Ws.delete(r.toString()),w.resolve()}removeReference(e,n,r){return this.Qs.removeReference(r,n),this.Ws.add(r.toString()),w.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),w.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Ws.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return w.forEach(this.Ws,r=>{const i=x.fromPath(r);return this.Hs(e,i).next(s=>{s||n.removeEntry(i,B.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(r=>{r?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return w.or([()=>w.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}class TT{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Fi=r,this.Bi=i}static Li(e,n){let r=ue(),i=ue();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new TT(e,n.fromCache,r,i)}}class wj{constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,r,i){return this.Ki(e,n).next(s=>s||this.Gi(e,n,i,r)).next(s=>s||this.Qi(e,n))}Ki(e,n){if(s$(n))return w.resolve(null);let r=Tn(n);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==n.limit&&1===i&&(n=jg(n,null,"F"),r=Tn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=ue(...s);return this.Ui.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.ji(n,a);return this.zi(n,c,o,u.readTime)?this.Ki(e,jg(n,null,"F")):this.Wi(e,c,n,u)}))})))}Gi(e,n,r,i){return s$(n)||i.isEqual(B.min())?this.Qi(e,n):this.Ui.getDocuments(e,r).next(s=>{const o=this.ji(n,s);return this.zi(n,o,r,i)?this.Qi(e,n):(U0()<=J.DEBUG&&S("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),tT(n)),this.Wi(e,o,n,function CB(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=B.fromTimestamp(1e9===r?new Je(n+1,0):new Je(n,r));return new rr(i,x.empty(),e)}(i,-1)))})}ji(e,n){let r=new Be(u$(e));return n.forEach((i,s)=>{hd(e,s)&&(r=r.add(s))}),r}zi(e,n,r,i){if(null===e.limit)return!1;if(r.size!==n.size)return!0;const s="F"===e.limitType?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Qi(e,n){return U0()<=J.DEBUG&&S("QueryEngine","Using full collection scan to execute query:",tT(n)),this.Ui.getDocumentsMatchingQuery(e,n,rr.min())}Wi(e,n,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}class Dhe{constructor(e,n,r,i){this.persistence=e,this.Hi=n,this.serializer=i,this.Ji=new Oe(ee),this.Yi=new qi(s=>ko(s),ld),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new _j(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function Ej(t,e){return ST.apply(this,arguments)}function ST(){return ST=g(function*(t,e){const n=R(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.tr(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let u=ue();for(const c of i){o.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}for(const c of s){a.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}return n.localDocuments.getDocuments(r,u).next(c=>({er:c,removedBatchIds:o,addedBatchIds:a}))})})}),ST.apply(this,arguments)}function Dj(t){const e=R(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function The(t,e){const n=R(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Nu(t,e,n){return AT.apply(this,arguments)}function AT(){return AT=g(function*(t,e,n){const r=R(t),i=r.Ji.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!Ds(o))throw o;S("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}),AT.apply(this,arguments)}function sm(t,e,n){const r=R(t);let i=B.min(),s=ue();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,u,c){const l=R(a),d=l.Yi.get(c);return void 0!==d?w.resolve(l.Ji.get(d)):l.Bs.getTargetData(u,c)}(r,o,Tn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.Hi.getDocumentsMatchingQuery(o,e,n?i:B.min(),n?s:ue())).next(a=>(function Sj(t,e,n){let r=t.Xi.get(e)||B.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Xi.set(e,r)}(r,function a$(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}(e),a),{documents:a,ir:s})))}class kT{constructor(){this.activeTargetIds=function nT(){return Sde}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class xj{constructor(){this.Hr=new kT,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,r){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new kT,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Mhe{Yr(e){}shutdown(){}}class Rj{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){S("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){S("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let um=null;function OT(){return null===um?um=268435456+Math.round(2147483648*Math.random()):um++,"0x"+um.toString(16)}const xhe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Rhe{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const gn="WebChannelConnection";class Nhe extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,r,i,s){const o=OT(),a=this.To(e,n);S("RestConnection",`Sending RPC '${e}' ${o}:`,a,r);const u={};return this.Eo(u,i,s),this.Ao(e,a,u,r).then(c=>(S("RestConnection",`Received RPC '${e}' ${o}: `,c),c),c=>{throw Nr("RestConnection",`RPC '${e}' ${o} failed with error: `,c,"url: ",a,"request:",r),c})}vo(e,n,r,i,s,o){return this.Io(e,n,r,i,s)}Eo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+mu,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}To(e,n){return`${this.mo}/v1/${n}:${xhe[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,r,i){const s=OT();return new Promise((o,a)=>{const u=new xle;u.setWithCredentials(!0),u.listenOnce(Sle.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case V0.NO_ERROR:const l=u.getResponseJson();S(gn,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(l)),o(l);break;case V0.TIMEOUT:S(gn,`RPC '${e}' ${s} timed out`),a(new b(I.DEADLINE_EXCEEDED,"Request time out"));break;case V0.HTTP_ERROR:const d=u.getStatus();if(S(gn,`RPC '${e}' ${s} failed with status:`,d,"response text:",u.getResponseText()),d>0){let h=u.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=h?.error;if(f&&f.status&&f.message){const p=function(m){const y=m.toLowerCase().replace(/_/g,"-");return Object.values(I).indexOf(y)>=0?y:I.UNKNOWN}(f.status);a(new b(p,f.message))}else a(new b(I.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new b(I.UNAVAILABLE,"Connection failed."));break;default:F()}}finally{S(gn,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);S(gn,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",c,r,15)})}Ro(e,n,r){const i=OT(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Cle(),a=Tle(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;void 0!==c&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.xmlHttpFactory=new Mle({})),this.Eo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const l=s.join("");S(gn,`Creating RPC '${e}' stream ${i}: ${l}`,u);const d=o.createWebChannel(l,u);let h=!1,f=!1;const p=new Rhe({ro:y=>{f?S(gn,`Not sending because RPC '${e}' stream ${i} is closed:`,y):(h||(S(gn,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),S(gn,`RPC '${e}' stream ${i} sending:`,y),d.send(y))},oo:()=>d.close()}),m=(y,v,_)=>{y.listen(v,E=>{try{_(E)}catch(A){setTimeout(()=>{throw A},0)}})};return m(d,Ag.EventType.OPEN,()=>{f||S(gn,`RPC '${e}' stream ${i} transport opened.`)}),m(d,Ag.EventType.CLOSE,()=>{f||(f=!0,S(gn,`RPC '${e}' stream ${i} transport closed`),p.wo())}),m(d,Ag.EventType.ERROR,y=>{f||(f=!0,Nr(gn,`RPC '${e}' stream ${i} transport errored:`,y),p.wo(new b(I.UNAVAILABLE,"The operation could not be completed")))}),m(d,Ag.EventType.MESSAGE,y=>{var v;if(!f){const _=y.data[0];U(!!_);const A=_.error||(null===(v=_[0])||void 0===v?void 0:v.error);if(A){S(gn,`RPC '${e}' stream ${i} received error:`,A);const O=A.status;let Y=function(An){const di=_t[An];if(void 0!==di)return T$(di)}(O),ze=A.message;void 0===Y&&(Y=I.INTERNAL,ze="Unknown error status: "+O+" with message "+A.message),f=!0,p.wo(new b(Y,ze)),d.close()}else S(gn,`RPC '${e}' stream ${i} received:`,_),p._o(_)}}),m(a,Ale.STAT_EVENT,y=>{y.stat===vB.PROXY?S(gn,`RPC '${e}' stream ${i} detected buffering proxy`):y.stat===vB.NOPROXY&&S(gn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.fo()},0),p}}function cm(){return typeof document<"u"?document:null}function Rd(t){return new $de(t,!0)}class FT{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ii=e,this.timerId=n,this.Po=r,this.bo=i,this.Vo=s,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,n-r);i>0&&S("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class kj{constructor(e,n,r,i,s,o,a,u){this.ii=e,this.$o=r,this.Oo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new FT(e,n)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return g(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return g(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,n){var r=this;return g(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():n&&n.code===I.RESOURCE_EXHAUSTED?(ut(n.toString()),ut("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):n&&n.code===I.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(n)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===n&&this.Zo(r,i)},r=>{e(()=>{const i=new b(I.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,n){const r=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){var e=this;this.state=5,this.qo.No(g(function*(){e.state=0,e.start()}))}tu(e){return S("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(S("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class khe extends kj{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=function Gde(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(u=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===u?1:"REMOVE"===u?2:"CURRENT"===u?3:"RESET"===u?4:F(),i=e.targetChange.targetIds||[],s=function(u,c){return u.useProto3Json?(U(void 0===c||"string"==typeof c),At.fromBase64String(c||"")):(U(void 0===c||c instanceof Uint8Array),At.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const c=void 0===u.code?I.UNKNOWN:T$(u.code);return new b(c,u.message||"")}(o);n=new R$(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=ui(t,r.document.name),s=lt(r.document.updateTime),o=r.document.createTime?lt(r.document.createTime):B.min(),a=new Jt({mapValue:{fields:r.document.fields}}),u=$e.newFoundDocument(i,s,o,a);n=new Wg(r.targetIds||[],r.removedTargetIds||[],u.key,u)}else if("documentDelete"in e){const r=e.documentDelete,i=ui(t,r.document),s=r.readTime?lt(r.readTime):B.min(),o=$e.newNoDocument(i,s);n=new Wg([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=ui(t,r.document);n=new Wg([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return F();{const r=e.filter,{count:i=0,unchangedNames:s}=r,o=new Ode(i,s);n=new x$(r.targetId,o)}}var u;return n}(this.serializer,e),r=function(i){if(!("targetChange"in i))return B.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?B.min():s.readTime?lt(s.readTime):B.min()}(e);return this.listener.nu(n,r)}su(e){const n={};n.database=Id(this.serializer),n.addTarget=function(i,s){let o;const a=s.target;if(o=Ug(a)?{documents:$$(i,a)}:{query:fT(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=O$(i,s.resumeToken);const u=cT(i,s.expectedCount);null!==u&&(o.expectedCount=u)}else if(s.snapshotVersion.compareTo(B.min())>0){o.readTime=Su(i,s.snapshotVersion.toTimestamp());const u=cT(i,s.expectedCount);null!==u&&(o.expectedCount=u)}return o}(this.serializer,e);const r=function qde(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return F()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.Wo(n)}iu(e){const n={};n.database=Id(this.serializer),n.removeTarget=e,this.Wo(n)}}class Phe extends kj{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if(U(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const n=function zde(t,e){return t&&t.length>0?(U(void 0!==e),t.map(n=>function(r,i){let s=lt(r.updateTime?r.updateTime:i);return s.isEqual(B.min())&&(s=lt(i)),new Rde(s,r.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),r=lt(e.commitTime);return this.listener.cu(r,n)}return U(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Id(this.serializer),this.Wo(e)}uu(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>function Ed(t,e){let n;if(e instanceof Cu)n={update:U$(t,e.key,e.value)};else if(e instanceof Tu)n={delete:wd(t,e.key)};else if(e instanceof Wi)n={update:U$(t,e.key,e.data),updateMask:Yde(e.fieldMask)};else{if(!(e instanceof rT))return F();n={verify:wd(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof Du)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Oo)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Fo)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof bu)return{fieldPath:s.field.canonicalString(),increment:o.gt};throw F()}(0,r))),e.precondition.isNone||(n.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:jde(t,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:F()),n;var i}(this.serializer,r))};this.Wo(n)}}class Ohe extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new b(I.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Io(e,n,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===I.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new b(I.UNKNOWN,i.toString())})}vo(e,n,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.vo(e,n,r,s,o,i)).catch(s=>{throw"FirebaseError"===s.name?(s.code===I.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new b(I.UNKNOWN,s.toString())})}terminate(){this.lu=!0}}class Lhe{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(ut(n),this.mu=!1):S("OnlineStateTracker",n)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class Vhe{constructor(e,n,r,i,s){var o=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=s,this.Pu.Yr(a=>{r.enqueueAndForget(g(function*(){var u;Ps(o)&&(S("RemoteStore","Restarting streams for network reachability change."),yield(u=g(function*(c){const l=R(c);l.vu.add(4),yield ku(l),l.bu.set("Unknown"),l.vu.delete(4),yield Nd(l)}),function(c){return u.apply(this,arguments)})(o))}))}),this.bu=new Lhe(r,i)}}function Nd(t){return VT.apply(this,arguments)}function VT(){return VT=g(function*(t){if(Ps(t))for(const e of t.Ru)yield e(!0)}),VT.apply(this,arguments)}function ku(t){return UT.apply(this,arguments)}function UT(){return UT=g(function*(t){for(const e of t.Ru)yield e(!1)}),UT.apply(this,arguments)}function lm(t,e){const n=R(t);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),jT(n)?$T(n):Ou(n).Ko()&&BT(n,e))}function kd(t,e){const n=R(t),r=Ou(n);n.Au.delete(e),r.Ko()&&Pj(n,e),0===n.Au.size&&(r.Ko()?r.jo():Ps(n)&&n.bu.set("Unknown"))}function BT(t,e){if(t.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(B.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ou(t).su(e)}function Pj(t,e){t.Vu.qt(e),Ou(t).iu(e)}function $T(t){t.Vu=new Lde({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),le:e=>t.Au.get(e)||null,ue:()=>t.datastore.serializer.databaseId}),Ou(t).start(),t.bu.gu()}function jT(t){return Ps(t)&&!Ou(t).Uo()&&t.Au.size>0}function Ps(t){return 0===R(t).vu.size}function Oj(t){t.Vu=void 0}function Uhe(t){return HT.apply(this,arguments)}function HT(){return HT=g(function*(t){t.Au.forEach((e,n)=>{BT(t,e)})}),HT.apply(this,arguments)}function Bhe(t,e){return GT.apply(this,arguments)}function GT(){return GT=g(function*(t,e){Oj(t),jT(t)?(t.bu.Iu(e),$T(t)):t.bu.set("Unknown")}),GT.apply(this,arguments)}function $he(t,e,n){return zT.apply(this,arguments)}function zT(){return zT=g(function*(t,e,n){if(t.bu.set("Online"),e instanceof R$&&2===e.state&&e.cause)try{yield(r=g(function*(i,s){const o=s.cause;for(const a of s.targetIds)i.Au.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.Au.delete(a),i.Vu.removeTarget(a))}),function(i,s){return r.apply(this,arguments)})(t,e)}catch(r){S("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield dm(t,r)}else if(e instanceof Wg?t.Vu.Ht(e):e instanceof x$?t.Vu.ne(e):t.Vu.Xt(e),!n.isEqual(B.min()))try{const r=yield Dj(t.localStore);n.compareTo(r)>=0&&(yield function(i,s){const o=i.Vu.ce(s);return o.targetChanges.forEach((a,u)=>{if(a.resumeToken.approximateByteSize()>0){const c=i.Au.get(u);c&&i.Au.set(u,c.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach((a,u)=>{const c=i.Au.get(a);if(!c)return;i.Au.set(a,c.withResumeToken(At.EMPTY_BYTE_STRING,c.snapshotVersion)),Pj(i,a);const l=new Ki(c.target,a,u,c.sequenceNumber);BT(i,l)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n))}catch(r){S("RemoteStore","Failed to raise snapshot:",r),yield dm(t,r)}var r}),zT.apply(this,arguments)}function dm(t,e,n){return qT.apply(this,arguments)}function qT(){return qT=g(function*(t,e,n){if(!Ds(e))throw e;t.vu.add(1),yield ku(t),t.bu.set("Offline"),n||(n=()=>Dj(t.localStore)),t.asyncQueue.enqueueRetryable(g(function*(){S("RemoteStore","Retrying IndexedDB access"),yield n(),t.vu.delete(1),yield Nd(t)}))}),qT.apply(this,arguments)}function Fj(t,e){return e().catch(n=>dm(t,n,e))}function Pu(t){return WT.apply(this,arguments)}function WT(){return WT=g(function*(t){const e=R(t),n=Os(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;jhe(e);)try{const i=yield The(e.localStore,r);if(null===i){0===e.Eu.length&&n.jo();break}r=i.batchId,Hhe(e,i)}catch(i){yield dm(e,i)}Lj(e)&&Vj(e)}),WT.apply(this,arguments)}function jhe(t){return Ps(t)&&t.Eu.length<10}function Hhe(t,e){t.Eu.push(e);const n=Os(t);n.Ko()&&n.ou&&n.uu(e.mutations)}function Lj(t){return Ps(t)&&!Os(t).Uo()&&t.Eu.length>0}function Vj(t){Os(t).start()}function Ghe(t){return KT.apply(this,arguments)}function KT(){return KT=g(function*(t){Os(t).hu()}),KT.apply(this,arguments)}function zhe(t){return QT.apply(this,arguments)}function QT(){return QT=g(function*(t){const e=Os(t);for(const n of t.Eu)e.uu(n.mutations)}),QT.apply(this,arguments)}function qhe(t,e,n){return YT.apply(this,arguments)}function YT(){return YT=g(function*(t,e,n){const r=t.Eu.shift(),i=sT.from(r,e,n);yield Fj(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield Pu(t)}),YT.apply(this,arguments)}function Whe(t,e){return XT.apply(this,arguments)}function XT(){return XT=g(function*(t,e){var n;e&&Os(t).ou&&(yield(n=g(function*(r,i){if(function C$(t){switch(t){default:return F();case I.CANCELLED:case I.UNKNOWN:case I.DEADLINE_EXCEEDED:case I.RESOURCE_EXHAUSTED:case I.INTERNAL:case I.UNAVAILABLE:case I.UNAUTHENTICATED:return!1;case I.INVALID_ARGUMENT:case I.NOT_FOUND:case I.ALREADY_EXISTS:case I.PERMISSION_DENIED:case I.FAILED_PRECONDITION:case I.ABORTED:case I.OUT_OF_RANGE:case I.UNIMPLEMENTED:case I.DATA_LOSS:return!0}}(s=i.code)&&s!==I.ABORTED){const o=r.Eu.shift();Os(r).Qo(),yield Fj(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield Pu(r)}var s}),function(r,i){return n.apply(this,arguments)})(t,e)),Lj(t)&&Vj(t)}),XT.apply(this,arguments)}function Uj(t,e){return JT.apply(this,arguments)}function JT(){return JT=g(function*(t,e){const n=R(t);n.asyncQueue.verifyOperationInProgress(),S("RemoteStore","RemoteStore received new credentials");const r=Ps(n);n.vu.add(3),yield ku(n),r&&n.bu.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),yield Nd(n)}),JT.apply(this,arguments)}function eS(){return eS=g(function*(t,e){const n=R(t);e?(n.vu.delete(2),yield Nd(n)):e||(n.vu.add(2),yield ku(n),n.bu.set("Unknown"))}),eS.apply(this,arguments)}function Ou(t){return t.Su||(t.Su=function(e,n,r){const i=R(e);return i.fu(),new khe(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:Uhe.bind(null,t),ao:Bhe.bind(null,t),nu:$he.bind(null,t)}),t.Ru.push(function(){var e=g(function*(n){n?(t.Su.Qo(),jT(t)?$T(t):t.bu.set("Unknown")):(yield t.Su.stop(),Oj(t))});return function(n){return e.apply(this,arguments)}}())),t.Su}function Os(t){return t.Du||(t.Du=function(e,n,r){const i=R(e);return i.fu(),new Phe(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:Ghe.bind(null,t),ao:Whe.bind(null,t),au:zhe.bind(null,t),cu:qhe.bind(null,t)}),t.Ru.push(function(){var e=g(function*(n){n?(t.Du.Qo(),yield Pu(t)):(yield t.Du.stop(),t.Eu.length>0&&(S("RemoteStore",`Stopping write stream with ${t.Eu.length} pending writes`),t.Eu=[]))});return function(n){return e.apply(this,arguments)}}())),t.Du}class tS{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new St,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new tS(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new b(I.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Fu(t,e){if(ut("AsyncQueue",`${e}: ${t}`),Ds(t))return new b(I.UNAVAILABLE,`${e}: ${t}`);throw t}class Lu{constructor(e){this.comparator=e?(n,r)=>e(n,r)||x.comparator(n.key,r.key):(n,r)=>x.comparator(n.key,r.key),this.keyedMap=fd(),this.sortedSet=new Oe(this.comparator)}static emptySet(e){return new Lu(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Lu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new Lu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class Bj{constructor(){this.Cu=new Oe(x.comparator)}track(e){const n=e.doc.key,r=this.Cu.get(n);r?0!==e.type&&3===r.type?this.Cu=this.Cu.insert(n,e):3===e.type&&1!==r.type?this.Cu=this.Cu.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Cu=this.Cu.remove(n):1===e.type&&2===r.type?this.Cu=this.Cu.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):F():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,r)=>{e.push(r)}),e}}class Vu{constructor(e,n,r,i,s,o,a,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Vu(e,n,Lu.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&dd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class Khe{constructor(){this.Nu=void 0,this.listeners=[]}}class Qhe{constructor(){this.queries=new qi(e=>o$(e),dd),this.onlineState="Unknown",this.ku=new Set}}function nS(t,e){return rS.apply(this,arguments)}function rS(){return rS=g(function*(t,e){const n=R(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new Khe),i)try{s.Nu=yield n.onListen(r)}catch(o){const a=Fu(o,`Initialization of query '${tT(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.Mu(n.onlineState),s.Nu&&e.$u(s.Nu)&&oS(n)}),rS.apply(this,arguments)}function iS(t,e){return sS.apply(this,arguments)}function sS(){return sS=g(function*(t,e){const n=R(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}),sS.apply(this,arguments)}function Yhe(t,e){const n=R(t);let r=!1;for(const i of e){const o=n.queries.get(i.query);if(o){for(const a of o.listeners)a.$u(i)&&(r=!0);o.Nu=i}}r&&oS(n)}function Xhe(t,e,n){const r=R(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function oS(t){t.ku.forEach(e=>{e.next()})}class aS{constructor(e,n,r){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Vu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){return!e.fromCache||(!this.options.Ku||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=Vu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class Hj{constructor(e){this.key=e}}class Gj{constructor(e){this.key=e}}class zj{constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=ue(),this.mutatedKeys=ue(),this.tc=u$(e),this.ec=new Lu(this.tc)}get nc(){return this.Yu}sc(e,n){const r=n?n.ic:new Bj,i=n?n.ec:this.ec;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((l,d)=>{const h=i.get(l),f=hd(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),m=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let y=!1;h&&f?h.data.isEqual(f.data)?p!==m&&(r.track({type:3,doc:f}),y=!0):this.rc(h,f)||(r.track({type:2,doc:f}),y=!0,(u&&this.tc(f,u)>0||c&&this.tc(f,c)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),y=!0):h&&!f&&(r.track({type:1,doc:h}),y=!0,(u||c)&&(a=!0)),y&&(f?(o=o.add(f),s=m?s.add(l):s.delete(l)):(o=o.delete(l),s=s.delete(l)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{ec:o,ic:r,zi:a,mutatedKeys:s}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const s=e.ic.xu();s.sort((c,l)=>function(d,h){const f=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return F()}};return f(d)-f(h)}(c.type,l.type)||this.tc(c.doc,l.doc)),this.oc(r);const o=n?this.uc():[],a=0===this.Zu.size&&this.current?1:0,u=a!==this.Xu;return this.Xu=a,0!==s.length||u?{snapshot:new Vu(this.query,e.ec,i,s,e.mutatedKeys,0===a,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:o}:{cc:o}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new Bj,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=ue(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const n=[];return e.forEach(r=>{this.Zu.has(r)||n.push(new Gj(r))}),this.Zu.forEach(r=>{e.has(r)||n.push(new Hj(r))}),n}hc(e){this.Yu=e.ir,this.Zu=ue();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return Vu.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class efe{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class tfe{constructor(e){this.key=e,this.fc=!1}}class nfe{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new qi(a=>o$(a),dd),this._c=new Map,this.mc=new Set,this.gc=new Oe(x.comparator),this.yc=new Map,this.Ic=new IT,this.Tc={},this.Ec=new Map,this.Ac=jo.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function rfe(t,e){return uS.apply(this,arguments)}function uS(){return uS=g(function*(t,e){const n=function RS(t){const e=R(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=qj.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=hfe.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ofe.bind(null,e),e.dc.nu=Yhe.bind(null,e.eventManager),e.dc.Pc=Xhe.bind(null,e.eventManager),e}(t);let r,i;const s=n.wc.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.lc();else{const o=yield function Ru(t,e){const n=R(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Bs.getTargetData(r,e).next(s=>s?(i=s,w.resolve(i)):n.Bs.allocateTargetId(r).next(o=>(i=new Ki(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ji.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(r.targetId,r),n.Yi.set(e,r.targetId)),r})}(n.localStore,Tn(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield function cS(t,e,n,r,i){return lS.apply(this,arguments)}(n,e,r,"current"===a,o.resumeToken),n.isPrimaryClient&&lm(n.remoteStore,o)}return i}),uS.apply(this,arguments)}function lS(){return lS=g(function*(t,e,n,r,i){t.Rc=(d,h,f)=>{return(p=g(function*(m,y,v,_){let E=y.view.sc(v);E.zi&&(E=yield sm(m.localStore,y.query,!1).then(({documents:Y})=>y.view.sc(Y,E)));const A=_&&_.targetChanges.get(y.targetId),O=y.view.applyChanges(E,m.isPrimaryClient,A);return wS(m,y.targetId,O.cc),O.snapshot}),function(m,y,v,_){return p.apply(this,arguments)})(t,d,h,f);var p};const s=yield sm(t.localStore,e,!0),o=new zj(e,s.ir),a=o.sc(s.documents),u=vd.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState,i),c=o.applyChanges(a,t.isPrimaryClient,u);wS(t,n,c.cc);const l=new efe(e,n,o);return t.wc.set(e,l),t._c.has(n)?t._c.get(n).push(e):t._c.set(n,[e]),c.snapshot}),lS.apply(this,arguments)}function ife(t,e){return dS.apply(this,arguments)}function dS(){return dS=g(function*(t,e){const n=R(t),r=n.wc.get(e),i=n._c.get(r.targetId);if(i.length>1)return n._c.set(r.targetId,i.filter(s=>!dd(s,e))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Nu(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),kd(n.remoteStore,r.targetId),Uu(n,r.targetId)}).catch(Es))):(Uu(n,r.targetId),yield Nu(n.localStore,r.targetId,!0))}),dS.apply(this,arguments)}function hS(){return hS=g(function*(t,e,n){const r=function NS(t){const e=R(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=afe.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=ufe.bind(null,e),e}(t);try{const i=yield function(s,o){const a=R(s),u=Je.now(),c=o.reduce((h,f)=>h.add(f.key),ue());let l,d;return a.persistence.runTransaction("Locally write mutations","readwrite",h=>{let f=Gn(),p=ue();return a.Zi.getEntries(h,c).next(m=>{f=m,f.forEach((y,v)=>{v.isValidDocument()||(p=p.add(y))})}).next(()=>a.localDocuments.getOverlayedDocuments(h,f)).next(m=>{l=m;const y=[];for(const v of o){const _=kde(v,l.get(v.key).overlayedDocument);null!=_&&y.push(new Wi(v.key,_,qB(_.value.mapValue),Ge.exists(!0)))}return a.mutationQueue.addMutationBatch(h,u,y,o)}).next(m=>{d=m;const y=m.applyToLocalDocumentSet(l,p);return a.documentOverlayCache.saveOverlays(h,m.batchId,y)})}).then(()=>({batchId:d.batchId,changes:l$(l)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let u=s.Tc[s.currentUser.toKey()];u||(u=new Oe(ee)),u=u.insert(o,a),s.Tc[s.currentUser.toKey()]=u}(r,i.batchId,n),yield Qi(r,i.changes),yield Pu(r.remoteStore)}catch(i){const s=Fu(i,"Failed to persist write");n.reject(s)}}),hS.apply(this,arguments)}function qj(t,e){return fS.apply(this,arguments)}function fS(){return fS=g(function*(t,e){const n=R(t);try{const r=yield function Che(t,e){const n=R(t),r=e.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const a=[];e.targetChanges.forEach((l,d)=>{const h=i.get(d);if(!h)return;a.push(n.Bs.removeMatchingKeys(s,l.removedDocuments,d).next(()=>n.Bs.addMatchingKeys(s,l.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);var p,m,y;null!==e.targetMismatches.get(d)?f=f.withResumeToken(At.EMPTY_BYTE_STRING,B.min()).withLastLimboFreeSnapshotVersion(B.min()):l.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(l.resumeToken,r)),i=i.insert(d,f),m=f,y=l,(0===(p=h).resumeToken.approximateByteSize()||m.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8||y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0)&&a.push(n.Bs.updateTargetData(s,f))});let u=Gn(),c=ue();if(e.documentUpdates.forEach(l=>{e.resolvedLimboDocuments.has(l)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,l))}),a.push(function bj(t,e,n){let r=ue(),i=ue();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Gn();return n.forEach((a,u)=>{const c=s.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(B.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||0===u.version.compareTo(c.version)&&c.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):S("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{nr:o,sr:i}})}(s,o,e.documentUpdates).next(l=>{u=l.nr,c=l.sr})),!r.isEqual(B.min())){const l=n.Bs.getLastRemoteSnapshotVersion(s).next(d=>n.Bs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(l)}return w.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,c)).next(()=>u)}).then(s=>(n.Ji=i,s))}(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.yc.get(s);o&&(U(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.fc=!0:i.modifiedDocuments.size>0?U(o.fc):i.removedDocuments.size>0&&(U(o.fc),o.fc=!1))}),yield Qi(n,r,e)}catch(r){yield Es(r)}}),fS.apply(this,arguments)}function Wj(t,e,n){const r=R(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const i=[];r.wc.forEach((s,o)=>{const a=o.view.Mu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=R(s);a.onlineState=o;let u=!1;a.queries.forEach((c,l)=>{for(const d of l.listeners)d.Mu(o)&&(u=!0)}),u&&oS(a)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function ofe(t,e,n){return pS.apply(this,arguments)}function pS(){return pS=g(function*(t,e,n){const r=R(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.yc.get(e),s=i&&i.key;if(s){let o=new Oe(x.comparator);o=o.insert(s,$e.newNoDocument(s,B.min()));const a=ue().add(s),u=new _d(B.min(),new Map,new Oe(ee),o,a);yield qj(r,u),r.gc=r.gc.remove(s),r.yc.delete(e),IS(r)}else yield Nu(r.localStore,e,!1).then(()=>Uu(r,e,n)).catch(Es)}),pS.apply(this,arguments)}function afe(t,e){return gS.apply(this,arguments)}function gS(){return gS=g(function*(t,e){const n=R(t),r=e.batch.batchId;try{const i=yield function bhe(t,e){const n=R(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Zi.newChangeBuffer({trackRemovals:!0});return function(o,a,u,c){const l=u.batch,d=l.keys();let h=w.resolve();return d.forEach(f=>{h=h.next(()=>c.getEntry(a,f)).next(p=>{const m=u.docVersions.get(f);U(null!==m),p.version.compareTo(m)<0&&(l.applyToRemoteDocument(p,u),p.isValidDocument()&&(p.setReadTime(u.commitVersion),c.addEntry(p)))})}),h.next(()=>o.mutationQueue.removeMutationBatch(a,l))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=ue();for(let u=0;u<o.mutationResults.length;++u)o.mutationResults[u].transformResults.length>0&&(a=a.add(o.batch.mutations[u].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}(n.localStore,e);vS(n,r,null),_S(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield Qi(n,i)}catch(i){yield Es(i)}}),gS.apply(this,arguments)}function ufe(t,e,n){return mS.apply(this,arguments)}function mS(){return mS=g(function*(t,e,n){const r=R(t);try{const i=yield function(s,o){const a=R(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return a.mutationQueue.lookupMutationBatch(u,o).next(l=>(U(null!==l),c=l.keys(),a.mutationQueue.removeMutationBatch(u,l))).next(()=>a.mutationQueue.performConsistencyCheck(u)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(u,c,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>a.localDocuments.getDocuments(u,c))})}(r.localStore,e);vS(r,e,n),_S(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield Qi(r,i)}catch(i){yield Es(i)}}),mS.apply(this,arguments)}function _S(t,e){(t.Ec.get(e)||[]).forEach(n=>{n.resolve()}),t.Ec.delete(e)}function vS(t,e,n){const r=R(t);let i=r.Tc[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Tc[r.currentUser.toKey()]=i}}function Uu(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t._c.get(e))t.wc.delete(r),n&&t.dc.Pc(r,n);t._c.delete(e),t.isPrimaryClient&&t.Ic.Is(e).forEach(r=>{t.Ic.containsKey(r)||Kj(t,r)})}function Kj(t,e){t.mc.delete(e.path.canonicalString());const n=t.gc.get(e);null!==n&&(kd(t.remoteStore,n),t.gc=t.gc.remove(e),t.yc.delete(n),IS(t))}function wS(t,e,n){for(const r of n)r instanceof Hj?(t.Ic.addReference(r.key,e),lfe(t,r)):r instanceof Gj?(S("SyncEngine","Document no longer in limbo: "+r.key),t.Ic.removeReference(r.key,e),t.Ic.containsKey(r.key)||Kj(t,r.key)):F()}function lfe(t,e){const n=e.key,r=n.path.canonicalString();t.gc.get(n)||t.mc.has(r)||(S("SyncEngine","New document in limbo: "+n),t.mc.add(r),IS(t))}function IS(t){for(;t.mc.size>0&&t.gc.size<t.maxConcurrentLimboResolutions;){const e=t.mc.values().next().value;t.mc.delete(e);const n=new x(me.fromString(e)),r=t.Ac.next();t.yc.set(r,new tfe(n)),t.gc=t.gc.insert(n,r),lm(t.remoteStore,new Ki(Tn(Eu(n.path)),r,"TargetPurposeLimboResolution",ir.ct))}}function Qi(t,e,n){return ES.apply(this,arguments)}function ES(){return ES=g(function*(t,e,n){const r=R(t),i=[],s=[],o=[];var a;r.wc.isEmpty()||(r.wc.forEach((a,u)=>{o.push(r.Rc(u,e,n).then(c=>{if((c||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,c?.fromCache?"not-current":"current"),c){i.push(c);const l=TT.Li(u.targetId,c);s.push(l)}}))}),yield Promise.all(o),r.dc.nu(i),yield(a=g(function*(u,c){const l=R(u);try{yield l.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>w.forEach(c,h=>w.forEach(h.Fi,f=>l.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>w.forEach(h.Bi,f=>l.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!Ds(d))throw d;S("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const h=d.targetId;if(!d.fromCache){const f=l.Ji.get(h),m=f.withLastLimboFreeSnapshotVersion(f.snapshotVersion);l.Ji=l.Ji.insert(h,m)}}}),function(u,c){return a.apply(this,arguments)})(r.localStore,s))}),ES.apply(this,arguments)}function dfe(t,e){return DS.apply(this,arguments)}function DS(){return DS=g(function*(t,e){const n=R(t);if(!n.currentUser.isEqual(e)){S("SyncEngine","User change. New user:",e.toKey());const r=yield Ej(n.localStore,e);n.currentUser=e,(i=n).Ec.forEach(o=>{o.forEach(a=>{a.reject(new b(I.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.Ec.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Qi(n,r.er)}var i}),DS.apply(this,arguments)}function hfe(t,e){const n=R(t),r=n.yc.get(e);if(r&&r.fc)return ue().add(r.key);{let i=ue();const s=n._c.get(e);if(!s)return i;for(const o of s){const a=n.wc.get(o);i=i.unionWith(a.view.nc)}return i}}class hm{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return g(function*(){n.serializer=Rd(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return function Ij(t,e,n,r){return new Dhe(t,e,n,r)}(this.persistence,new wj,e.initialUser,this.serializer)}createPersistence(e){return new ET(nm.zs,this.serializer)}createSharedClientState(e){return new xj}terminate(){var e=this;return g(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Bu{initialize(e,n){var r=this;return g(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(n),r.remoteStore=r.createRemoteStore(n),r.eventManager=r.createEventManager(n),r.syncEngine=r.createSyncEngine(n,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>Wj(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=dfe.bind(null,r.syncEngine),yield function ZT(t,e){return eS.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Qhe}createDatastore(e){const n=Rd(e.databaseInfo.databaseId),r=new Nhe(e.databaseInfo);return new Ohe(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>Wj(this.syncEngine,a,0),o=Rj.D()?new Rj:new Mhe,new Vhe(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,a,u,c){const l=new nfe(r,i,s,o,a,u);return c&&(l.vc=!0),l}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=g(function*(n){const r=R(n);S("RemoteStore","RemoteStore shutting down."),r.vu.add(5),yield ku(r),r.Pu.shutdown(),r.bu.set("Unknown")}),function(n){return e.apply(this,arguments)})(this.remoteStore);var e}}class fm{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):ut("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class Cfe{constructor(e,n,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Lt.UNAUTHENTICATED,this.clientId=DB.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=g(function*(a){S("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(S("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return g(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new b(I.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new St;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(g(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const i=Fu(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}function pm(t,e){return kS.apply(this,arguments)}function kS(){return kS=g(function*(t,e){t.asyncQueue.verifyOperationInProgress(),S("FirestoreClient","Initializing OfflineComponentProvider");const n=yield t.getConfiguration();yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(function(){var i=g(function*(s){r.isEqual(s)||(yield Ej(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}),kS.apply(this,arguments)}function PS(t,e){return OS.apply(this,arguments)}function OS(){return OS=g(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield function FS(t){return LS.apply(this,arguments)}(t);S("FirestoreClient","Initializing OnlineComponentProvider");const r=yield t.getConfiguration();yield e.initialize(n,r),t.setCredentialChangeListener(i=>Uj(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>Uj(e.remoteStore,s)),t._onlineComponents=e}),OS.apply(this,arguments)}function LS(){return LS=g(function*(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){S("FirestoreClient","Using user provided OfflineComponentProvider");try{yield pm(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function eH(t){return"FirebaseError"===t.name?t.code===I.FAILED_PRECONDITION||t.code===I.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(n))throw n;Nr("Error using user provided cache. Falling back to memory cache: "+n),yield pm(t,new hm)}}else S("FirestoreClient","Using default OfflineComponentProvider"),yield pm(t,new hm);return t._offlineComponents}),LS.apply(this,arguments)}function gm(t){return VS.apply(this,arguments)}function VS(){return VS=g(function*(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(S("FirestoreClient","Using user provided OnlineComponentProvider"),yield PS(t,t._uninitializedComponentsProvider._online)):(S("FirestoreClient","Using default OnlineComponentProvider"),yield PS(t,new Bu))),t._onlineComponents}),VS.apply(this,arguments)}function $u(t){return BS.apply(this,arguments)}function BS(){return BS=g(function*(t){const e=yield gm(t),n=e.eventManager;return n.onListen=rfe.bind(null,e.syncEngine),n.onUnlisten=ife.bind(null,e.syncEngine),n}),BS.apply(this,arguments)}function oH(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e}const aH=new Map;function $S(t,e,n){if(!n)throw new b(I.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function uH(t){if(!x.isDocumentKey(t))throw new b(I.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function cH(t){if(x.isDocumentKey(t))throw new b(I.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function ym(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(n=t).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof t?"a function":F()}function pe(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new b(I.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ym(t);throw new b(I.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}class dH{constructor(e){var n,r;if(void 0===e.host){if(void 0!==e.ssl)throw new b(I.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new b(I.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function Pfe(t,e,n,r){if(!0===e&&!0===r)throw new b(I.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=oH(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(i){if(void 0!==i.timeoutSeconds){if(isNaN(i.timeoutSeconds))throw new b(I.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new b(I.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new b(I.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Pd{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new dH({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new b(I.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new b(I.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new dH(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new Nle;switch(n.type){case"firstParty":return new Fle(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new b(I.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=aH.get(e);n&&(S("ComponentProvider","Removing Datastore"),aH.delete(e),n.terminate())}(this),Promise.resolve()}}class dt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ci(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new dt(this.firestore,e,this._key)}}class Zt{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Zt(this.firestore,e,this._query)}}class ci extends Zt{constructor(e,n,r){super(e,n,Eu(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new dt(this.firestore,null,new x(e))}withConverter(e){return new ci(this.firestore,e,this._path)}}function Ffe(t,e,...n){if(t=In(t),$S("collection","path",e),t instanceof Pd){const r=me.fromString(e,...n);return cH(r),new ci(t,null,r)}{if(!(t instanceof dt||t instanceof ci))throw new b(I.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(me.fromString(e,...n));return cH(r),new ci(t.firestore,null,r)}}function jS(t,e,...n){if(t=In(t),1===arguments.length&&(e=DB.A()),$S("doc","path",e),t instanceof Pd){const r=me.fromString(e,...n);return uH(r),new dt(t,null,new x(r))}{if(!(t instanceof dt||t instanceof ci))throw new b(I.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(me.fromString(e,...n));return uH(r),new dt(t.firestore,t instanceof ci?t.converter:null,new x(r))}}class Lfe{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new FT(this,"async_queue_retry"),this.Xc=()=>{const n=cm();n&&S("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=cm();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=cm();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new St;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return g(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(n){if(!Ds(n))throw n;S("AsyncQueue","Operation failed with retryable error: "+n)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,ut("INTERNAL UNHANDLED ERROR: ",function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),o}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=n,n}enqueueAfterDelay(e,n,r){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const i=tS.createAndSchedule(this,e,n,r,s=>this.na(s));return this.zc.push(i),i}Zc(){this.Wc&&F()}verifyOperationInProgress(){}sa(){var e=this;return g(function*(){let n;do{n=e.Gc,yield n}while(n!==e.Gc)})()}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}function HS(t){return function(e,n){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(t)}class je extends Pd{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Lfe,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||fH(this),this._firestoreClient.terminate()}}function Ufe(t,e){const r="string"==typeof t?t:e||"(default)",i=fo("object"==typeof t?t:gp(),"firestore").getImmediate({identifier:r});if(!i._initialized){const s=CF("firestore");s&&function Ofe(t,e,n,r={}){var i;const s=(t=pe(t,Pd))._getSettings();if("firestore.googleapis.com"!==s.host&&s.host!==e&&Nr("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},s),{host:`${e}:${n}`,ssl:!1})),r.mockUserToken){let o,a;if("string"==typeof r.mockUserToken)o=r.mockUserToken,a=Lt.MOCK_USER;else{o=AF(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new b(I.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new Lt(u)}t._authCredentials=new kle(new IB(o,a))}}(i,...s)}return i}function vt(t){return t._firestoreClient||fH(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function fH(t){var e,n,r;const i=t._freezeSettings(),s=(a=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new hde(t._databaseId,a,t._persistenceKey,(c=i).host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,oH(c.experimentalLongPollingOptions),c.useFetchStreams));var a,c;t._firestoreClient=new Cfe(t._authCredentials,t._appCheckCredentials,t._queue,s),null!==(n=i.cache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=i.cache)&&void 0!==r&&r._onlineComponentProvider&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}class Go{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Go(At.fromBase64String(e))}catch(n){throw new b(I.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Go(At.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class ju{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new b(I.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ct(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class mH{constructor(e){this._methodName=e}}class GS{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new b(I.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new b(I.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ee(this._lat,e._lat)||ee(this._long,e._long)}}const $fe=/^__.*__$/;class jfe{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return null!==this.fieldMask?new Wi(e,this.data,this.fieldMask,n,this.fieldTransforms):new Cu(e,this.data,n,this.fieldTransforms)}}function _H(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw F()}}class _m{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===s&&this.ua(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new _m(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.fa(e),i}da(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return wm(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(_H(this.ca)&&$fe.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class Hfe{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Rd(e)}ya(e,n,r,i=!1){return new _m({ca:e,methodName:n,ga:r,path:ct.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Hu(t){const e=t._freezeSettings(),n=Rd(t._databaseId);return new Hfe(t._databaseId,!!e.ignoreUndefinedProperties,n)}function zS(t,e,n,r,i,s={}){const o=t.ya(s.merge||s.mergeFields?2:0,e,n,i);WS("Data must be an object, but it was:",o,r);const a=DH(r,o);let u,c;if(s.merge)u=new Hn(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const l=[];for(const d of s.mergeFields){const h=Ld(e,d,n);if(!o.contains(h))throw new b(I.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);CH(l,h)||l.push(h)}u=new Hn(l),c=o.fieldTransforms.filter(d=>u.covers(d.field))}else u=null,c=o.fieldTransforms;return new jfe(new Jt(a),u,c)}function zo(t,e){if(bH(t=In(t)))return WS("Unsupported field value:",e,t),DH(t,e);if(t instanceof mH)return function(n,r){if(!_H(r.ca))throw r._a(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let a=zo(o,r.wa(s));null==a&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if(null===(n=In(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return p$(r.serializer,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){const i=Je.fromDate(n);return{timestampValue:Su(r.serializer,i)}}if(n instanceof Je){const i=new Je(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Su(r.serializer,i)}}if(n instanceof GS)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Go)return{bytesValue:O$(r.serializer,n._byteString)};if(n instanceof dt){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r._a(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:lT(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r._a(`Unsupported field value: ${ym(n)}`)}(t,e)}function DH(t,e){const n={};return LB(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):bs(t,(r,i)=>{const s=zo(i,e.ha(r));null!=s&&(n[r]=s)}),{mapValue:{fields:n}}}function bH(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Je||t instanceof GS||t instanceof Go||t instanceof dt||t instanceof mH)}function WS(t,e,n){if(!bH(n)||"object"!=typeof(r=n)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=ym(n);throw e._a("an object"===r?t+" a custom object":t+" "+r)}var r}function Ld(t,e,n){if((e=In(e))instanceof ju)return e._internalPath;if("string"==typeof e)return vm(t,e);throw wm("Field path arguments must be of type string or ",t,!1,void 0,n)}const Wfe=new RegExp("[~\\*/\\[\\]]");function vm(t,e,n){if(e.search(Wfe)>=0)throw wm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ju(...e.split("."))._internalPath}catch{throw wm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function wm(t,e,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new b(I.INVALID_ARGUMENT,a+t+u)}function CH(t,e){return t.some(n=>n.isEqual(e))}class KS{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new dt(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Kfe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Im("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class Kfe extends KS{data(){return super.data()}}function Im(t,e){return"string"==typeof e?vm(t,e):e instanceof ju?e._internalPath:e._delegate._internalPath}class Yfe{convertValue(e,n="none"){switch(Ss(e)){case 0:return null;case 1:return e.booleanValue;case 2:return st(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Gi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw F()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return bs(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new GS(st(e.latitude),st(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Og(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(od(e));default:return null}}convertTimestamp(e){const n=Cs(e);return new Je(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=me.fromString(e);U(z$(r));const i=new Ro(r.get(1),r.get(3)),s=new x(r.popFirst(5));return i.isEqual(n)||ut(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}class qo{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class zu extends KS{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Cm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Im("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Cm extends zu{data(e={}){return super.data(e)}}class qu{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new qo(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Cm(this._firestore,this._userDataWriter,r.key,r,new qo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new b(I.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>({type:"added",doc:new Cm(r._firestore,r._userDataWriter,o.doc.key,o.doc,new qo(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||3!==o.type).map(o=>{const a=new Cm(r._firestore,r._userDataWriter,o.doc.key,o.doc,new qo(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let u=-1,c=-1;return 0!==o.type&&(u=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),1!==o.type&&(s=s.add(o.doc),c=s.indexOf(o.doc.key)),{type:Jfe(o.type),doc:a,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Jfe(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return F()}}class Fs extends Yfe{constructor(e){super(),this.firestore=e}convertBytes(e){return new Go(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new dt(this.firestore,null,n)}}function Ud(t,e){return function(n,r){const i=new St;return n.asyncQueue.enqueueAndForget(g(function*(){return function sfe(t,e,n){return hS.apply(this,arguments)}(yield function US(t){return gm(t).then(e=>e.syncEngine)}(n),r,i)})),i.promise}(vt(t),e)}function XS(t,e,n){const r=n.docs.get(e._key),i=new Fs(t);return new zu(t,i,e._key,r,new qo(n.hasPendingWrites,n.fromCache),e.converter)}!function(t,e=!0){mu=hs,ln(new qt("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new je(new Ple(n.getProvider("auth-internal")),new Lle(n.getProvider("app-check-internal")),function(a,u){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new b(I.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ro(a.options.projectId,u)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),Ve(wB,"3.12.1",t),Ve(wB,"3.12.1","esm2017")}();var fpe={includeMetadataChanges:!1};function JS(t,e){return void 0===e&&(e=fpe),new Fe(function(n){var r=function tpe(t,...e){var n,r,i;t=In(t);let s={includeMetadataChanges:!1},o=0;"object"!=typeof e[o]||HS(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(HS(e[o])){const d=e[o];e[o]=null===(n=d.next)||void 0===n?void 0:n.bind(d),e[o+1]=null===(r=d.error)||void 0===r?void 0:r.bind(d),e[o+2]=null===(i=d.complete)||void 0===i?void 0:i.bind(d)}let u,c,l;if(t instanceof dt)c=pe(t.firestore,je),l=Eu(t._key.path),u={next:d=>{e[o]&&e[o](XS(c,t,d))},error:e[o+1],complete:e[o+2]};else{const d=pe(t,Zt);c=pe(d.firestore,je),l=d._query;const h=new Fs(c);u={next:f=>{e[o]&&e[o](new qu(c,h,d,f))},error:e[o+1],complete:e[o+2]},function TH(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new b(I.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(t._query)}return function(d,h,f,p){const m=new fm(p),y=new aS(h,m,f);return d.asyncQueue.enqueueAndForget(g(function*(){return nS(yield $u(d),y)})),()=>{m.Dc(),d.asyncQueue.enqueueAndForget(g(function*(){return iS(yield $u(d),y)}))}}(vt(c),l,a,u)}(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function wpe(t,e){return void 0===e&&(e={}),function vpe(t){return JS(t,{includeMetadataChanges:!0}).pipe(be(function(e){return e.docs}))}(t).pipe(be(function(n){return n.map(function(r){return function PH(t,e){void 0===e&&(e={});var n=t.data();return!t.exists()||"object"!=typeof n||null===n||e.idField&&(n[e.idField]=t.id),n}(r,e)})}))}class Wu{constructor(e){return e}}const VH="firestore",tA=new L("angularfire2.firestore-instances");function Dpe(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new Wu(r)}}const bpe={provide:class Ipe{constructor(){return Dp(VH)}},deps:[[new Dt,tA]]},Cpe={provide:Wu,useFactory:function Epe(t,e){const n=Ep(VH,t,e);return n&&new Wu(n)},deps:[[new Dt,tA],wo]};let Tpe=(()=>{class t{constructor(){Ve("angularfire",gl.full,"fst")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=nn({type:t}),t.\u0275inj=jt({providers:[Cpe,bpe]}),t})();function Spe(t,...e){return{ngModule:Tpe,providers:[{provide:tA,useFactory:Dpe(t),multi:!0,deps:[Se,Ln,bp,Cp,[new Dt,PC],[new Dt,kp],...e]}]}}const nA=nu(wpe,!0),rA=nu(Ffe,!0),Ape=nu(Ufe,!0);let UH=(()=>{class t{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}}return t.\u0275fac=function(n){return new(n||t)(C(Ei),C(Xn))},t.\u0275dir=X({type:t}),t})(),Wo=(()=>{class t extends UH{}return t.\u0275fac=function(){let e;return function(r){return(e||(e=zt(t)))(r||t)}}(),t.\u0275dir=X({type:t,features:[Te]}),t})();const li=new L("NgValueAccessor"),Rpe={provide:li,useExisting:Ne(()=>Bd),multi:!0},kpe=new L("CompositionEventMode");let Bd=(()=>{class t extends UH{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Npe(){const t=as()?as().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(n){this.setProperty("value",n??"")}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}}return t.\u0275fac=function(n){return new(n||t)(C(Ei),C(Xn),C(kpe,8))},t.\u0275dir=X({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,r){1&n&&un("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[He([Rpe]),Te]}),t})();function Ls(t){return null==t||("string"==typeof t||Array.isArray(t))&&0===t.length}function $H(t){return null!=t&&"number"==typeof t.length}const mn=new L("NgValidators"),Vs=new L("NgAsyncValidators"),Ppe=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class en{static min(e){return function jH(t){return e=>{if(Ls(e.value)||Ls(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}(e)}static max(e){return function HH(t){return e=>{if(Ls(e.value)||Ls(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}(e)}static required(e){return function GH(t){return Ls(t.value)?{required:!0}:null}(e)}static requiredTrue(e){return function zH(t){return!0===t.value?null:{required:!0}}(e)}static email(e){return function qH(t){return Ls(t.value)||Ppe.test(t.value)?null:{email:!0}}(e)}static minLength(e){return WH(e)}static maxLength(e){return KH(e)}static pattern(e){return function QH(t){if(!t)return Sm;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(Ls(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return t4(e)}static composeAsync(e){return n4(e)}}function WH(t){return e=>Ls(e.value)||!$H(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}function KH(t){return e=>$H(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}function Sm(t){return null}function YH(t){return null!=t}function XH(t){return Pc(t)?xt(t):t}function JH(t){let e={};return t.forEach(n=>{e=null!=n?{...e,...n}:e}),0===Object.keys(e).length?null:e}function ZH(t,e){return e.map(n=>n(t))}function e4(t){return t.map(e=>function Ope(t){return!t.validate}(e)?e:n=>e.validate(n))}function t4(t){if(!t)return null;const e=t.filter(YH);return 0==e.length?null:function(n){return JH(ZH(n,e))}}function iA(t){return null!=t?t4(e4(t)):null}function n4(t){if(!t)return null;const e=t.filter(YH);return 0==e.length?null:function(n){return function Mpe(...t){const e=QA(t),{args:n,keys:r}=pO(t),i=new Fe(s=>{const{length:o}=n;if(!o)return void s.complete();const a=new Array(o);let u=o,c=o;for(let l=0;l<o;l++){let d=!1;sr(n[l]).subscribe(Mt(s,h=>{d||(d=!0,c--),a[l]=h},()=>u--,void 0,()=>{(!u||!d)&&(c||s.next(r?mO(r,a):a),s.complete())}))}});return e?i.pipe(gO(e)):i}(ZH(n,e).map(XH)).pipe(be(JH))}}function sA(t){return null!=t?n4(e4(t)):null}function r4(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function i4(t){return t._rawValidators}function s4(t){return t._rawAsyncValidators}function oA(t){return t?Array.isArray(t)?t:[t]:[]}function Am(t,e){return Array.isArray(t)?t.includes(e):t===e}function o4(t,e){const n=oA(e);return oA(t).forEach(i=>{Am(n,i)||n.push(i)}),n}function a4(t,e){return oA(e).filter(n=>!Am(t,n))}class u4{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=iA(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=sA(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return!!this.control&&this.control.hasError(e,n)}getError(e,n){return this.control?this.control.getError(e,n):null}}class Sn extends u4{get formDirective(){return null}get path(){return null}}class Us extends u4{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class c4{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let aA=(()=>{class t extends c4{constructor(n){super(n)}}return t.\u0275fac=function(n){return new(n||t)(C(Us,2))},t.\u0275dir=X({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,r){2&n&&ff("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[Te]}),t})(),uA=(()=>{class t extends c4{constructor(n){super(n)}}return t.\u0275fac=function(n){return new(n||t)(C(Sn,10))},t.\u0275dir=X({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(n,r){2&n&&ff("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[Te]}),t})();const $d="VALID",xm="INVALID",Ku="PENDING",jd="DISABLED";function dA(t){return(Rm(t)?t.validators:t)||null}function hA(t,e){return(Rm(e)?e.asyncValidators:t)||null}function Rm(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}function d4(t,e,n){const r=t.controls;if(!(e?Object.keys(r):r).length)throw new T(1e3,"");if(!r[n])throw new T(1001,"")}function h4(t,e,n){t._forEachChild((r,i)=>{if(void 0===n[i])throw new T(1002,"")})}class Nm{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===$d}get invalid(){return this.status===xm}get pending(){return this.status==Ku}get disabled(){return this.status===jd}get enabled(){return this.status!==jd}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(o4(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(o4(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(a4(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(a4(e,this._rawAsyncValidators))}hasValidator(e){return Am(this._rawValidators,e)}hasAsyncValidator(e){return Am(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Ku,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=jd,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=$d,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===$d||this.status===Ku)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?jd:$d}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Ku,this._hasOwnPendingAsyncValidator=!0;const n=XH(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent)}get(e){let n=e;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new tt,this.statusChanges=new tt}_calculateStatus(){return this._allControlsDisabled()?jd:this.errors?xm:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ku)?Ku:this._anyControlsHaveStatus(xm)?xm:$d}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Rm(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function Upe(t){return Array.isArray(t)?iA(t):t||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function Bpe(t){return Array.isArray(t)?sA(t):t||null}(this._rawAsyncValidators)}}class Ko extends Nm{constructor(e,n,r){super(dA(n),hA(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){h4(this,0,e),Object.keys(e).forEach(r=>{d4(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>!!r._syncPendingControls()||n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{const r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class f4 extends Ko{}const Qo=new L("CallSetDisabledState",{providedIn:"root",factory:()=>Hd}),Hd="always";function Gd(t,e,n=Hd){fA(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||"always"===n)&&e.valueAccessor.setDisabledState?.(t.disabled),function jpe(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&p4(t,e)})}(t,e),function Gpe(t,e){const n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function Hpe(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&p4(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function $pe(t,e){if(e.valueAccessor.setDisabledState){const n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function Pm(t,e,n=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Fm(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function Om(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function fA(t,e){const n=i4(t);null!==e.validator?t.setValidators(r4(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=s4(t);null!==e.asyncValidator?t.setAsyncValidators(r4(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();Om(e._rawValidators,i),Om(e._rawAsyncValidators,i)}function Fm(t,e){let n=!1;if(null!==t){if(null!==e.validator){const i=i4(t);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.validator);s.length!==i.length&&(n=!0,t.setValidators(s))}}if(null!==e.asyncValidator){const i=s4(t);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.asyncValidator);s.length!==i.length&&(n=!0,t.setAsyncValidators(s))}}}const r=()=>{};return Om(e._rawValidators,r),Om(e._rawAsyncValidators,r),n}function p4(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function y4(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function _4(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const we=class extends Nm{constructor(e=null,n,r){super(dA(n),hA(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Rm(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=_4(e)?e.value:e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){y4(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){y4(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){_4(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};let _A=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=X({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})(),b4=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=nn({type:t}),t.\u0275inj=jt({}),t})();const vA=new L("NgModelWithFormControlWarning"),ige={provide:Sn,useExisting:Ne(()=>qd)};let qd=(()=>{class t extends Sn{constructor(n,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new tt,this._setValidators(n),this._setAsyncValidators(r)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Fm(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){const r=this.form.get(n.path);return Gd(r,n,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),r}getControl(n){return this.form.get(n.path)}removeControl(n){Pm(n.control||null,n,!1),function Kpe(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,r){this.form.get(n.path).setValue(r)}onSubmit(n){return this.submitted=!0,function m4(t,e){t._syncPendingControls(),e.forEach(n=>{const r=n.control;"submit"===r.updateOn&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(n),"dialog"===n?.target?.method}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submitted=!1}_updateDomValue(){this.directives.forEach(n=>{const r=n.control,i=this.form.get(n.path);r!==i&&(Pm(r||null,n),(t=>t instanceof we)(i)&&(Gd(i,n,this.callSetDisabledState),n.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){const r=this.form.get(n.path);(function g4(t,e){fA(t,e)})(r,n),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){const r=this.form.get(n.path);r&&function zpe(t,e){return Fm(t,e)}(r,n)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){fA(this.form,this),this._oldForm&&Fm(this._oldForm,this)}_checkFormPresent(){}}return t.\u0275fac=function(n){return new(n||t)(C(mn,10),C(Vs,10),C(Qo,8))},t.\u0275dir=X({type:t,selectors:[["","formGroup",""]],hostBindings:function(n,r){1&n&&un("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[He([ige]),Te,ar]}),t})();const age={provide:Us,useExisting:Ne(()=>Lm)};let Lm=(()=>{class t extends Us{set isDisabled(n){}constructor(n,r,i,s,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.name=null,this.update=new tt,this._ngModelWarningSent=!1,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function mA(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===Bd?n=s:function Wpe(t){return Object.getPrototypeOf(t.constructor)===Wo}(s)?r=s:i=s}),i||r||n||null}(0,s)}ngOnChanges(n){this._added||this._setUpControl(),function gA(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return function km(t,e){return[...e.path,t]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return t._ngModelWarningSentOnce=!1,t.\u0275fac=function(n){return new(n||t)(C(Sn,13),C(mn,10),C(Vs,10),C(li,10),C(vA,8))},t.\u0275dir=X({type:t,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[He([age]),Te,ar]}),t})();const uge={provide:li,useExisting:Ne(()=>Vm),multi:!0};function M4(t,e){return null==t?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let Vm=(()=>{class t extends Wo{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;const i=M4(this._getOptionId(n),n);this.setProperty("value",i)}registerOnChange(n){this.onChange=r=>{this.value=this._getOptionValue(r),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),n))return r;return null}_getOptionValue(n){const r=function cge(t){return t.split(":")[0]}(n);return this._optionMap.has(r)?this._optionMap.get(r):n}}return t.\u0275fac=function(){let e;return function(r){return(e||(e=zt(t)))(r||t)}}(),t.\u0275dir=X({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(n,r){1&n&&un("change",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[He([uge]),Te]}),t})(),x4=(()=>{class t{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(n){null!=this._select&&(this._select._optionMap.set(this.id,n),this._setElementValue(M4(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._setElementValue(n),this._select&&this._select.writeValue(this._select.value)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(n){return new(n||t)(C(Xn),C(Ei),C(Vm,9))},t.\u0275dir=X({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})();const lge={provide:li,useExisting:Ne(()=>EA),multi:!0};function R4(t,e){return null==t?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let EA=(()=>{class t extends Wo{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){let r;if(this.value=n,Array.isArray(n)){const i=n.map(s=>this._getOptionId(s));r=(s,o)=>{s._setSelected(i.indexOf(o.toString())>-1)}}else r=(i,s)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(n){this.onChange=r=>{const i=[],s=r.selectedOptions;if(void 0!==s){const o=s;for(let a=0;a<o.length;a++){const c=this._getOptionValue(o[a].value);i.push(c)}}else{const o=r.options;for(let a=0;a<o.length;a++){const u=o[a];if(u.selected){const c=this._getOptionValue(u.value);i.push(c)}}}this.value=i,n(i)}}_registerOption(n){const r=(this._idCounter++).toString();return this._optionMap.set(r,n),r}_getOptionId(n){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,n))return r;return null}_getOptionValue(n){const r=function dge(t){return t.split(":")[0]}(n);return this._optionMap.has(r)?this._optionMap.get(r)._value:n}}return t.\u0275fac=function(){let e;return function(r){return(e||(e=zt(t)))(r||t)}}(),t.\u0275dir=X({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(n,r){1&n&&un("change",function(s){return r.onChange(s.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[He([lge]),Te]}),t})(),N4=(()=>{class t{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){null!=this._select&&(this._value=n,this._setElementValue(R4(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(R4(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(n){return new(n||t)(C(Xn),C(Ei),C(EA,9))},t.\u0275dir=X({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})();function k4(t){return"number"==typeof t?t:parseInt(t,10)}let Yo=(()=>{class t{constructor(){this._validator=Sm}ngOnChanges(n){if(this.inputName in n){const r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Sm,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return null!=n}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=X({type:t,features:[ar]}),t})();const yge={provide:mn,useExisting:Ne(()=>bA),multi:!0};let bA=(()=>{class t extends Yo{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=n=>k4(n),this.createValidator=n=>WH(n)}}return t.\u0275fac=function(){let e;return function(r){return(e||(e=zt(t)))(r||t)}}(),t.\u0275dir=X({type:t,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(n,r){2&n&&Gr("minlength",r._enabled?r.minlength:null)},inputs:{minlength:"minlength"},features:[He([yge]),Te]}),t})();const _ge={provide:mn,useExisting:Ne(()=>CA),multi:!0};let CA=(()=>{class t extends Yo{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=n=>k4(n),this.createValidator=n=>KH(n)}}return t.\u0275fac=function(){let e;return function(r){return(e||(e=zt(t)))(r||t)}}(),t.\u0275dir=X({type:t,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(n,r){2&n&&Gr("maxlength",r._enabled?r.maxlength:null)},inputs:{maxlength:"maxlength"},features:[He([_ge]),Te]}),t})(),B4=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=nn({type:t}),t.\u0275inj=jt({imports:[b4]}),t})();class $4 extends Nm{constructor(e,n,r){super(dA(n),hA(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,r={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,n={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),n&&(this.controls.splice(i,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){h4(this,0,e),e.forEach((r,i)=>{d4(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((n,r)=>!!r._syncPendingControls()||n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,r)=>{e(n,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function j4(t){return!!t&&(void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn)}let H4=(()=>{class t{constructor(){this.useNonNullable=!1}get nonNullable(){const n=new t;return n.useNonNullable=!0,n}group(n,r=null){const i=this._reduceControls(n);let s={};return j4(r)?s=r:null!==r&&(s.validators=r.validator,s.asyncValidators=r.asyncValidator),new Ko(i,s)}record(n,r=null){const i=this._reduceControls(n);return new f4(i,r)}control(n,r,i){let s={};return this.useNonNullable?(j4(r)?s=r:(s.validators=r,s.asyncValidators=i),new we(n,{...s,nonNullable:!0})):new we(n,r,i)}array(n,r,i){const s=n.map(o=>this._createControl(o));return new $4(s,r,i)}_reduceControls(n){const r={};return Object.keys(n).forEach(i=>{r[i]=this._createControl(n[i])}),r}_createControl(n){return n instanceof we||n instanceof Nm?n:Array.isArray(n)?this.control(n[0],n.length>1?n[1]:null,n.length>2?n[2]:null):this.control(n)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),wge=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:Qo,useValue:n.callSetDisabledState??Hd}]}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=nn({type:t}),t.\u0275inj=jt({imports:[B4]}),t})(),Ige=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:vA,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:Qo,useValue:n.callSetDisabledState??Hd}]}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=nn({type:t}),t.\u0275inj=jt({imports:[B4]}),t})();const Ege=[{nombre:"INGRESO",ruta:"ingreso-datos"},{nombre:"TABLA CHANCES",ruta:"tabla-chances"},{nombre:"TABLA LOTERIAS",ruta:"tabla-loterias"}];let G4=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=Zi({type:t,selectors:[["app-header"]],decls:6,vars:0,consts:[[1,"header","w-100"],[1,"row"],[1,"col-md-1"],[1,"max","max-stats-bars2","fs-35","color-oro"],[1,"col-md-10"]],template:function(n,r){1&n&&(G(0,"div",0)(1,"div",1)(2,"div",2),le(3,"span",3),z(),le(4,"div",4)(5,"div",2),z()())},styles:[".header[_ngcontent-%COMP%]{background-color:#0006;position:fixed;padding:20px 60px}"]}),t})();function Dge(t,e){1&t&&le(0,"app-header")}function bge(t,e){1&t&&(G(0,"div",15)(1,"small"),Ct(2,"Ingrese correo"),z()())}function Cge(t,e){1&t&&(G(0,"div",15)(1,"small"),Ct(2,"Ingrese la clave"),z()())}function Tge(t,e){1&t&&(G(0,"div",16)(1,"small"),Ct(2,"Clave o usuario incorrecto"),z()())}function Sge(t,e){if(1&t){const n=K_();G(0,"div",4),le(1,"div",5),G(2,"div",5),le(3,"div",6),G(4,"div",7)(5,"form",8),un("submit",function(){return my(n),yy(_r().enviar())}),G(6,"div",9),le(7,"input",10),pt(8,bge,3,0,"div",11),z(),G(9,"div",9),le(10,"input",12),pt(11,Cge,3,0,"div",11),z(),G(12,"button",13),Ct(13,"Ingresar"),z(),pt(14,Tge,3,0,"div",14),z()(),le(15,"div",6)(16,"div",6)(17,"div",6),z(),le(18,"div",5),z()}if(2&t){const n=_r();let r,i;De(5),Ke("formGroup",n.formIngreso),De(3),Ke("ngIf",!(null!=(r=n.formIngreso.get("email"))&&r.valid)),De(3),Ke("ngIf",!(null!=(i=n.formIngreso.get("password"))&&i.valid)),De(3),Ke("ngIf",!n.errorClave)}}function Age(t,e){if(1&t&&(G(0,"div",22)(1,"a",23)(2,"p",24),Ct(3),z()()()),2&t){const n=e.$implicit;De(1),vr("href",n.ruta,jh),De(2),gf(" ",n.nombre," ")}}function Mge(t,e){if(1&t&&(G(0,"div",17),le(1,"div",6),G(2,"div",4),le(3,"div",18),G(4,"div",19)(5,"div",20),pt(6,Age,4,2,"div",21),z(),le(7,"div",6)(8,"div",6)(9,"div",6),z(),le(10,"div",18),z()()),2&t){const n=_r();De(6),Ke("ngForOf",n.menu)}}let xge=(()=>{class t{constructor(n,r){this.firestore=n,this.fb=r,this.menu=Ege,this.item$=new Fe,this.formIngreso=this.crearFormulario(),this.formGrupos=this.crearFormularioGrupos();const i=rA(this.firestore,"todos-los-grupos");this.item$=nA(i),this.mostrarLogin=!0,this.errorClave=!0}ngOnInit(){this.item$.subscribe({next:r=>{console.log(r,"HABER PUES")}}),Math.floor(9e9*Math.random())}crearFormulario(){return this.fb.group({email:["",[en.required]],password:["",[en.required]]})}crearFormularioGrupos(){return this.fb.group({grupos:["",[en.required]]})}enviar(){"alexuriel.777@gmail.com"===this.formIngreso.value.email&&"Desarrollo2023$"===this.formIngreso.value.password?(this.mostrarLogin=!1,this.errorClave=!0):this.errorClave=!1}enviarGrupos(){}}return t.\u0275fac=function(n){return new(n||t)(C(Wu),C(H4))},t.\u0275cmp=Zi({type:t,selectors:[["app-home"]],decls:4,vars:3,consts:[[1,"bg-dark"],[4,"ngIf"],["class","row",4,"ngIf"],["class","p-5 bg-dark",4,"ngIf"],[1,"row"],[1,"col-md-4"],[1,"espaciado"],[1,"card","p-5","bg-dark","shadow"],[1,"f-merriweather","fs-15","lh-15",3,"formGroup","submit"],[1,"form-group"],["type","email","id","exampleInputEmail1","aria-describedby","emailHelp","formControlName","email","placeholder","Email",1,"form-control"],["class","text-danger font-italic","role","alert",4,"ngIf"],["type","password","id","exampleInputPassword1","formControlName","password","placeholder","Password",1,"form-control"],["type","submit",1,"btn","btn-primary","fondo-oro","borde-oro","w-100","shadow"],["class","color-oro font-italic","role","alert",4,"ngIf"],["role","alert",1,"text-danger","font-italic"],["role","alert",1,"color-oro","font-italic"],[1,"p-5","bg-dark"],[1,"col-md-1"],[1,"col-md-10"],[1,"row","f-shadow-into-l"],["class","col l-menu bg-dark",4,"ngFor","ngForOf"],[1,"col","l-menu","bg-dark"],[3,"href"],[1,"color-oro"]],template:function(n,r){1&n&&(G(0,"div",0),pt(1,Dge,1,0,"app-header",1),pt(2,Sge,19,4,"div",2),pt(3,Mge,11,1,"div",3),z()),2&n&&(De(1),Ke("ngIf",!r.mostrarLogin),De(1),Ke("ngIf",r.mostrarLogin),De(1),Ke("ngIf",!r.mostrarLogin))},dependencies:[Vf,nw,G4,_A,Bd,aA,uA,qd,Lm]}),t})();const tn="text-light bg-dark border rounded border-warning pl-2 mt-3 f-merriweather",Rge=[{referencia:"Astro Sol",ruta:"astro-sol",premios:["|500:$14.112.000|*|600:$16.934.400|*|700:$19.756.800|*|800:$22.579.200|*|900:$25.401.600|*|1000:$28.224.000|*|1100:$31.046.400|*|1200:$33.868.800|*|1300:$36.691.200|*|1400:$39.513.600|*|1500:$42.369.600|*|1600:$45.192.000|*|1700:$48.014.400|*|1800:$50.836.800|*|1900:$53.659.200|*|2000:$56.481.600|*|2100:$59.304.000|*|2200:$59.304.000|*|2300:$64.948.800|*|2400:$67.771.200|*|2500:$70.593.600|*|2600:$73.416.000|*|2700:$76.238.400|*|2800:$79.060.800|*|2900:$81.883.200|*|3000:$84.705.600|*|3100:$87.528.000|*|3200:$90.350.400|*|3300:$93.172.800|*|3400:$95.995.200|*|3500:$98.817.600|*|3600:$101.640.000|*|3700:$104.462.400|*|"],grupos:[{campo:"fecha",tipo:"date",ancho:"80",maxlength:"",minlength:"",nombreCampo:"fecha",clase:tn},{campo:"sorteo",tipo:"text",ancho:"40",maxlength:"4",minlength:"",nombreCampo:"sorteo",clase:tn},{campo:"cifra uno",tipo:"text",ancho:"40",maxlength:"1",minlength:"",nombreCampo:"cifra_1",clase:tn},{campo:"cifra dos",tipo:"text",ancho:"40",maxlength:"1",minlength:"",nombreCampo:"cifra_2",clase:tn},{campo:"cifra tres",tipo:"text",ancho:"40",maxlength:"1",minlength:"",nombreCampo:"cifra_3",clase:tn},{campo:"cifra cuatro",tipo:"text",ancho:"40",maxlength:"1",minlength:"",nombreCampo:"cifra_4",clase:tn},{campo:"signo",tipo:"select",ancho:"",maxlength:"",minlength:"",nombreCampo:"signo",clase:tn,lista:["acuario","piscis","aries","tauro","g\xe9minis","cancer","leo","virgo","libra","escorpio","sagitario","capricornio"]}],formulario:new Ko({fecha:new we({value:"",disabled:!1},en.required),sorteo:new we({value:"",disabled:!1},en.required),cifra_1:new we({value:"",disabled:!1},en.required),cifra_2:new we({value:"",disabled:!1},en.required),cifra_3:new we({value:"",disabled:!1},en.required),cifra_4:new we({value:"",disabled:!1},en.required),signo:new we({value:"",disabled:!1},en.required)}),titulos:["fecha","sorteo","numero","signo"]},{referencia:"Astro Luna",ruta:"astro-luna",premios:["|500:$14.112.000|*|600:$16.934.400|*|700:$19.756.800|*|800:$22.579.200|*|900:$25.401.600|*|1000:$28.224.000|*|1100:$31.046.400|*|1200:$33.868.800|*|1300:$36.691.200|*|1400:$39.513.600|*|1500:$42.369.600|*|1600:$45.192.000|*|1700:$48.014.400|*|1800:$50.836.800|*|1900:$53.659.200|*|2000:$56.481.600|*|2100:$59.304.000|*|2200:$59.304.000|*|2300:$64.948.800|*|2400:$67.771.200|*|2500:$70.593.600|*|2600:$73.416.000|*|2700:$76.238.400|*|2800:$79.060.800|*|2900:$81.883.200|*|3000:$84.705.600|*|3100:$87.528.000|*|3200:$90.350.400|*|3300:$93.172.800|*|3400:$95.995.200|*|3500:$98.817.600|*|3600:$101.640.000|*|3700:$104.462.400|*|"],grupos:[{campo:"fecha",tipo:"date",ancho:"80",maxlength:"",minlength:"",nombreCampo:"fecha",clase:tn},{campo:"sorteo",tipo:"text",ancho:"40",maxlength:"4",minlength:"",nombreCampo:"sorteo",clase:tn},{campo:"cifra uno",tipo:"text",ancho:"40",maxlength:"1",minlength:"",nombreCampo:"cifra_1",clase:tn},{campo:"cifra dos",tipo:"text",ancho:"40",maxlength:"1",minlength:"",nombreCampo:"cifra_2",clase:tn},{campo:"cifra tres",tipo:"text",ancho:"40",maxlength:"1",minlength:"",nombreCampo:"cifra_3",clase:tn},{campo:"cifra cuatro",tipo:"text",ancho:"40",maxlength:"1",minlength:"",nombreCampo:"cifra_4",clase:tn},{campo:"signo",tipo:"select",ancho:"",maxlength:"",minlength:"",nombreCampo:"signo",clase:tn,lista:["acuario","piscis","aries","tauro","g\xe9minis","cancer","leo","virgo","libra","escorpio","sagitario","capricornio"]}],formulario:new Ko({fecha:new we({value:"",disabled:!1},en.required),sorteo:new we({value:"",disabled:!1},en.required),cifra_1:new we({value:"",disabled:!1},en.required),cifra_2:new we({value:"",disabled:!1},en.required),cifra_3:new we({value:"",disabled:!1},en.required),cifra_4:new we({value:"",disabled:!1},en.required),signo:new we({value:"",disabled:!1},en.required)}),titulos:["fecha","sorteo","numero","signo"]},{referencia:"Chontico",ruta:"chontico",premios:[],titulos:[],grupos:[{campo:"fecha",tipo:"date",ancho:"80",maxlength:"20",minlength:"",nombreCampo:"campo1",clase:tn},{campo:"sorteo",tipo:"text",ancho:"",maxlength:"",minlength:"",nombreCampo:"campo2",clase:tn},{campo:"uno",tipo:"text",ancho:"",maxlength:"",minlength:"",nombreCampo:"campo3",clase:tn}]}];class Nge{constructor(){this.referencia="",this.ruta="",this.grupos=[],this.premios=[],this.titulos=[]}}class kge{constructor(){this.keys=[],this.grupos=[]}}let z4=(()=>{class t{constructor(n){this.firestore=n,this.grupo=[]}getData(n){var r=this;return g(function*(){try{const i=rA(r.firestore,n);return nA(i).subscribe({next:s=>{console.log(s,"RESPUESTA")}})}catch(i){return console.error(i),null}})()}}return t.\u0275fac=function(n){return new(n||t)($(Wu))},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Pge(t,e){if(1&t&&(G(0,"option",18),Ct(1),z()),2&t){const n=e.$implicit;vr("value",n.referencia),De(1),Oa(n.referencia)}}function Oge(t,e){if(1&t){const n=K_();G(0,"div",15),le(1,"img",19),G(2,"button",20),un("click",function(){return my(n),yy(_r().exportable())}),le(3,"i",21),z()()}if(2&t){const n=_r();De(1),df("src","assets/img/logos/",n.logo,"",jh)}}function Fge(t,e){if(1&t&&le(0,"input",25),2&t){const n=_r().$implicit;J_(n.clase),vr("type",n.tipo),vr("maxlength",n.maxlength),vr("minlength",n.minlength),vr("placeholder",n.campo),vr("formControlName",n.nombreCampo)}}function Lge(t,e){if(1&t&&(G(0,"option",18),Ct(1),z()),2&t){const n=e.$implicit;vr("value",n),De(1),Oa(n)}}function Vge(t,e){if(1&t&&(G(0,"select",26)(1,"option",27),Ct(2,"Seleccione"),z(),pt(3,Lge,2,2,"option",10),z()),2&t){const n=_r().$implicit;J_(n.clase),vr("formControlName",n.nombreCampo),De(3),Ke("ngForOf",n.lista)}}function Uge(t,e){if(1&t&&(G(0,"div",22),pt(1,Fge,1,8,"input",23),pt(2,Vge,4,5,"select",24),z()),2&t){const n=e.$implicit;De(1),Ke("ngIf","text"===n.tipo||"date"===n.tipo),De(1),Ke("ngIf","select"===n.tipo)}}function Bge(t,e){1&t&&(G(0,"button",28),Ct(1," Guardar "),z())}function $ge(t,e){if(1&t&&(G(0,"th",32)(1,"p",33),Ct(2),z()()),2&t){const n=e.$implicit;De(2),Oa(n)}}function jge(t,e){if(1&t&&(G(0,"td"),Ct(1),z()),2&t){const n=e.$implicit;De(1),Oa(n)}}function Hge(t,e){if(1&t&&(G(0,"tr"),pt(1,jge,2,1,"td",31),z()),2&t){const n=e.$implicit,r=_r(2);De(1),Ke("ngForOf",r.entregarValor(n))}}function Gge(t,e){if(1&t&&(G(0,"table",29)(1,"thead")(2,"tr"),pt(3,$ge,3,1,"th",30),z()(),G(4,"tbody"),pt(5,Hge,2,1,"tr",31),z()()),2&t){const n=_r();De(3),Ke("ngForOf",n.grupoSeleccionado.titulos),De(2),Ke("ngForOf",n.elementosTabla.grupos)}}let zge=(()=>{class t{constructor(n,r,i,s){this.fb=n,this.firestore=r,this.router=i,this.estadisticaService=s,this.chances=Rge,this.permitirGuardar=!1,this.formularioSeleccionado=[],this.grupoSeleccionado=new Nge,this.item$=new Fe,this.elementosTabla=new kge,this.tabla=[],this.gruposTabla=[],this.retornoGruposTabla=[],this.form=this.crearFormulario(),this.logo=""}ngOnInit(){const n=rA(this.firestore,"todos-los-grupos");this.item$=nA(n)}seleccionarGrupo(n){let r=[];r=this.chances.filter(i=>i.referencia.includes(n.target.value)),this.logo=`${n.target.value.split(" ").join("")}.png`,this.formularioSeleccionado=r[0].grupos,this.grupoSeleccionado=r[0],this.form=r[0].formulario?r[0].formulario:this.crearFormulario(),this.permitirGuardar=!0,this.recargaTabla()}recargaTabla(){this.elementosTabla.grupos=[];let n={f:this.firestore,b:"todos-los-grupos",r:this.grupoSeleccionado.referencia.toLowerCase().split(" ").join("-")};(function Zfe(t){t=pe(t,dt);const e=pe(t.firestore,je);return function iH(t,e,n={}){const r=new St;return t.asyncQueue.enqueueAndForget(g(function*(){return function(i,s,o,a,u){const c=new fm({next:d=>{s.enqueueAndForget(()=>iS(i,l));const h=d.docs.has(o);!h&&d.fromCache?u.reject(new b(I.UNAVAILABLE,"Failed to get document because the client is offline.")):h&&d.fromCache&&a&&"server"===a.source?u.reject(new b(I.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(d)},error:d=>u.reject(d)}),l=new aS(Eu(o.path),c,{includeMetadataChanges:!0,Ku:!0});return nS(i,l)}(yield $u(t),t.asyncQueue,e,n,r)})),r.promise}(vt(e),t._key).then(n=>XS(e,t,n))})(jS(n.f,n.b,n.r)).then(s=>{let o=s.data();this.elementosTabla.grupos=Object.assign([],this.mapearGruposTablas(Object.values(o))),this.elementosTabla.grupos=this.elementosTabla.grupos.sort((a,u)=>u.sorteo-a.sorteo),this.tabla=this.elementosTabla.grupos.sort((a,u)=>u.sorteo+a.sorteo),this.elementosTabla.keys=Object.keys(this.elementosTabla.grupos[0])})}mapearGruposTablas(n){let r=new Object;return n.forEach((i,s)=>{let o="",a=Object.keys(i).sort(),u=-1;a.forEach((c,l)=>{c.includes("cifra")?o+=i[c]:this.gruposTabla[++u]={[c]:i[c]}}),this.gruposTabla[u+1]={numero:o},r=Object.assign({},...this.gruposTabla),this.retornoGruposTabla[s]=r}),this.retornoGruposTabla}crearFormulario(){return this.fb.group({campo1:new we({value:"",disabled:!1}),campo2:new we({value:"",disabled:!1}),campo3:new we({value:"",disabled:!1}),campo4:new we({value:"",disabled:!1}),campo5:new we({value:"",disabled:!1}),campo6:new we({value:"",disabled:!1}),campo7:new we({value:"",disabled:!1}),campo8:new we({value:"",disabled:!1}),campo9:new we({value:"",disabled:!1}),campo10:new we({value:"",disabled:!1}),campo11:new we({value:"",disabled:!1}),campo12:new we({value:"",disabled:!1})})}guardarSorteo(){(function epe(t,e,n){t=pe(t,dt);const r=pe(t.firestore,je),i=function YS(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}(t.converter,e,n);return Ud(r,[zS(Hu(r),"setDoc",t._key,i,null!==t.converter,n).toMutation(t._key,Ge.none())])})(jS(this.firestore,"todos-los-grupos",this.grupoSeleccionado.referencia.toLowerCase().split(" ").join("-")),{[Number(this.form.value.fecha.split("-").join(""))]:this.form.value},{merge:!0}).then(s=>{this.recargaTabla(),this.form.reset()})}entregarValor(n){let r=[];return Object.values(n).forEach((i,s,o)=>{r[s]=n[this.grupoSeleccionado.titulos[s]]}),r}exportable(){this.estadisticaService.grupo=this.elementosTabla.grupos,this.router.navigate(["/","astro-sol"])}}return t.\u0275fac=function(n){return new(n||t)(C(H4),C(Wu),C(er),C(z4))},t.\u0275cmp=Zi({type:t,selectors:[["app-ingreso-datos"]],decls:31,vars:6,consts:[[1,"bg-dark"],[1,"espacio"],[1,"espaciado"],[1,"row"],[1,"col-md-1"],[1,"col-md-10"],[1,"col-md-4"],[1,"col-md-4","shadow","p-5","f-merriweather"],["name","","id","",1,"w-100",3,"change"],["value","default"],[3,"value",4,"ngFor","ngForOf"],["class","text-center",4,"ngIf"],["action","",1,"shadow","p-5",3,"formGroup","submit"],[1,"row","text-center"],["class","col",4,"ngFor","ngForOf"],[1,"text-center"],["type","submit","class","mt-5 btn btn-info fondo-oro borde-oro shadow","style","width: 150px;",4,"ngIf"],["class","table table-dark shadow table-sm f-merriweather",4,"ngIf"],[3,"value"],["alt","","height","50","width","auto",1,"drop","mr-5",3,"src"],[3,"click"],["aria-hidden","true",1,"fa","fa-share"],[1,"col"],[3,"type","maxlength","minlength","placeholder","class","formControlName",4,"ngIf"],["name","","id","",3,"formControlName","class",4,"ngIf"],[3,"type","maxlength","minlength","placeholder","formControlName"],["name","","id","",3,"formControlName"],["value","defecto"],["type","submit",1,"mt-5","btn","btn-info","fondo-oro","borde-oro","shadow",2,"width","150px"],[1,"table","table-dark","shadow","table-sm","f-merriweather"],["scope","col",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],["scope","col"],[1,"text-uppercase"]],template:function(n,r){1&n&&(G(0,"div",0),le(1,"div",1)(2,"div",2),G(3,"div",3),le(4,"div",4),G(5,"div",5)(6,"div",3),le(7,"div",6),G(8,"div",7)(9,"select",8),un("change",function(s){return r.seleccionarGrupo(s)}),G(10,"option",9),Ct(11,"---"),z(),pt(12,Pge,2,2,"option",10),z()(),le(13,"div",6),z(),le(14,"div",1),pt(15,Oge,4,1,"div",11),le(16,"div",1),G(17,"form",12),un("submit",function(){return r.guardarSorteo()}),G(18,"div",13),pt(19,Uge,3,2,"div",14),z(),G(20,"div",15),pt(21,Bge,2,0,"button",16),z()()(),le(22,"div",4),z(),le(23,"div",2),G(24,"div",3),le(25,"div",4),G(26,"div",5),pt(27,Gge,6,2,"table",17),z(),le(28,"div",4),z(),le(29,"div",2)(30,"div",2),z()),2&n&&(De(12),Ke("ngForOf",r.chances),De(3),Ke("ngIf",r.logo),De(2),Ke("formGroup",r.form),De(2),Ke("ngForOf",r.formularioSeleccionado),De(2),Ke("ngIf",r.form.valid&&r.permitirGuardar),De(6),Ke("ngIf",r.elementosTabla.keys))},dependencies:[Vf,nw,_A,x4,N4,Bd,Vm,aA,uA,bA,CA,qd,Lm]}),t})(),qge=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=Zi({type:t,selectors:[["app-analisis"]],decls:21,vars:0,consts:[[1,"bg-dark"],[1,"row"],[1,"col-md-1"],[1,"col-md-10"],[1,"espaciado"],[1,"f-merriweather","fs-50","text-light"],[1,"espacio"],[1,"col-md-6"],[1,"text-light","f-merriweather"]],template:function(n,r){1&n&&(G(0,"div",0),le(1,"app-header"),G(2,"div",1),le(3,"div",2),G(4,"div",3),le(5,"div",4),G(6,"h2",5),Ct(7," AN\xc1LISIS "),z(),le(8,"div",6),G(9,"div",1)(10,"div",7)(11,"p",8),Ct(12,"CAUSAS CONSTANTES"),z(),G(13,"ul",8)(14,"li"),Ct(15,"El patr\xf3n que cae un d\xeda, no es muy es viable de volverse a repetir al d\xeda siguiente, o en los siguientes d\xedas."),z(),G(16,"li"),Ct(17,"Los n\xfameros que estan en favoritos vuelven a caer pero no es muy viable que sea juntos."),z(),le(18,"li"),z()(),le(19,"div",7),z()(),le(20,"div",2),z()())},dependencies:[G4]}),t})();function Wge(t,e){if(1&t&&(G(0,"tr")(1,"td"),Ct(2),z()()),2&t){const n=e.$implicit,r=_r();De(2),ev(" ",r.cambiarFechas(n.fecha),",",r.separarNumeros(n.numero),",",r.numeroSigno(n.signo)," ")}}const Kge=[{path:"",pathMatch:"full",redirectTo:"home"},{path:"home",component:xge},{path:"ingreso-datos",component:zge},{path:"analisis",component:qge},{path:"astro-sol",component:(()=>{class t{constructor(n){this.estadisticaService=n}ngOnInit(){console.log(this.estadisticaService.grupo,"LO QUE TRAE LAS ESTADISTICAS")}cambiarFechas(n){let r=n.split("-");return r[2]+"/"+r[1]+"/"+r[0]}numeroSigno(n){switch(n){case"aries":return 1;case"tauro":return 2;case"g\xe9minis":return 3;case"cancer":return 4;case"leo":return 5;case"virgo":return 6;case"libra":return 7;case"escorpio":return 8;case"sagitario":return 9;case"capricornio":return 10;case"acuario":return 11;case"piscis":return 12;default:return 0}}separarNumeros(n){return n.split("").join(",")}}return t.\u0275fac=function(n){return new(n||t)(C(z4))},t.\u0275cmp=Zi({type:t,selectors:[["app-astro-sol"]],decls:13,vars:1,consts:[[1,"bg-dark"],[1,"row"],[1,"col-md-1"],[1,"col-md-10"],[1,"table","table-dark","shadow","table-sm","f-merriweather"],["scope","col"],[1,"text-uppercase"],[4,"ngFor","ngForOf"]],template:function(n,r){1&n&&(G(0,"div",0)(1,"div",1),le(2,"div",2),G(3,"div",3)(4,"table",4)(5,"thead")(6,"tr")(7,"th",5)(8,"p",6),Ct(9," GRUPOS "),z()()()(),G(10,"tbody"),pt(11,Wge,3,3,"tr",7),z()()(),le(12,"div",2),z()()),2&n&&(De(11),Ke("ngForOf",r.estadisticaService.grupo))},dependencies:[Vf]}),t})()}],Qge_firebase={projectId:"estadistica-e5eeb",appId:"1:64729521444:web:14775deeb53cf35772e7b1",databaseURL:"https://estadistica-e5eeb.firebaseio.com",storageBucket:"estadistica-e5eeb.appspot.com",locationId:"southamerica-east1",apiKey:"AIzaSyCSZ_jjFVuKWQV-MN1y11Jns6LKLX6vtA4",authDomain:"estadistica-e5eeb.firebaseapp.com",messagingSenderId:"64729521444"};let Yge=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=nn({type:t}),t.\u0275inj=jt({imports:[HP]}),t})(),Xge=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=nn({type:t,bootstrap:[mZ]}),t.\u0275inj=jt({imports:[RY,Gw.forRoot(Kge),gZ,Yge,lie(()=>die(Qge_firebase)),Spe(()=>Ape()),zae(()=>qae()),Dce(()=>bce()),wge,Ige]}),t})();MY().bootstrapModule(Xge).catch(t=>console.error(t))}},Re=>{Re(Re.s=87)}]);