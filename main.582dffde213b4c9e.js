"use strict";(self.webpackChunkestadisticas=self.webpackChunkestadisticas||[]).push([[179],{661:()=>{function De(t){return"function"==typeof t}function yu(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const dd=yu(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function Do(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class Tn{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const s of n)s.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(De(r))try{r()}catch(s){e=s instanceof dd?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{oS(s)}catch(o){e=e??[],o instanceof dd?e=[...e,...o.errors]:e.push(o)}}if(e)throw new dd(e)}}add(e){var n;if(e&&e!==this)if(this.closed)oS(e);else{if(e instanceof Tn){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Do(n,e)}remove(e){const{_finalizers:n}=this;n&&Do(n,e),e instanceof Tn&&e._removeParent(this)}}Tn.EMPTY=(()=>{const t=new Tn;return t.closed=!0,t})();const iS=Tn.EMPTY;function sS(t){return t instanceof Tn||t&&"closed"in t&&De(t.remove)&&De(t.add)&&De(t.unsubscribe)}function oS(t){De(t)?t():t.unsubscribe()}const gs={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},hd={setTimeout(t,e,...n){const{delegate:r}=hd;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=hd;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function aS(t){hd.setTimeout(()=>{const{onUnhandledError:e}=gs;if(!e)throw t;e(t)})}function uS(){}const Ij=Bg("C",void 0,void 0);function Bg(t,e,n){return{kind:t,value:e,error:n}}let ms=null;function fd(t){if(gs.useDeprecatedSynchronousErrorHandling){const e=!ms;if(e&&(ms={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=ms;if(ms=null,n)throw r}}else t()}class $g extends Tn{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,sS(e)&&e.add(this)):this.destination=Aj}static create(e,n,r){return new _u(e,n,r)}next(e){this.isStopped?Hg(function Dj(t){return Bg("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?Hg(function Ej(t){return Bg("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Hg(Ij,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const bj=Function.prototype.bind;function jg(t,e){return bj.call(t,e)}class Cj{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){pd(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){pd(r)}else pd(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){pd(n)}}}class _u extends $g{constructor(e,n,r){let i;if(super(),De(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&gs.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&jg(e.next,s),error:e.error&&jg(e.error,s),complete:e.complete&&jg(e.complete,s)}):i=e}this.destination=new Cj(i)}}function pd(t){gs.useDeprecatedSynchronousErrorHandling?function Tj(t){gs.useDeprecatedSynchronousErrorHandling&&ms&&(ms.errorThrown=!0,ms.error=t)}(t):aS(t)}function Hg(t,e){const{onStoppedNotification:n}=gs;n&&hd.setTimeout(()=>n(t,e))}const Aj={closed:!0,next:uS,error:function Sj(t){throw t},complete:uS},zg="function"==typeof Symbol&&Symbol.observable||"@@observable";function ys(t){return t}function cS(t){return 0===t.length?ys:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}let je=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const s=function Mj(t){return t&&t instanceof $g||function Rj(t){return t&&De(t.next)&&De(t.error)&&De(t.complete)}(t)&&sS(t)}(n)?n:new _u(n,r,i);return fd(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=lS(r))((i,s)=>{const o=new _u({next:a=>{try{n(a)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[zg](){return this}pipe(...n){return cS(n)(this)}toPromise(n){return new(n=lS(n))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function lS(t){var e;return null!==(e=t??gs.Promise)&&void 0!==e?e:Promise}const Nj=yu(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Gr=(()=>{class t extends je{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new dS(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new Nj}next(n){fd(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){fd(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){fd(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:s}=this;return r||i?iS:(this.currentObservers=null,s.push(n),new Tn(()=>{this.currentObservers=null,Do(s,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){const n=new je;return n.source=this,n}}return t.create=(e,n)=>new dS(e,n),t})();class dS extends Gr{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:iS}}function hS(t){return De(t?.lift)}function bt(t){return e=>{if(hS(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Ct(t,e,n,r,i){return new kj(t,e,n,r,i)}class kj extends $g{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function Te(t,e){return bt((n,r)=>{let i=0;n.subscribe(Ct(r,s=>{r.next(t.call(e,s,i++))}))})}function Wg(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function xi(t){return this instanceof xi?(this.v=t,this):new xi(t)}function mS(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function Qg(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,u){!function i(s,o,a,u){Promise.resolve(u).then(function(c){s({value:c,done:a})},o)}(a,u,(o=t[s](o)).done,o.value)})}}}const yS=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function _S(t){return De(t?.then)}function vS(t){return De(t[zg])}function wS(t){return Symbol.asyncIterator&&De(t?.[Symbol.asyncIterator])}function IS(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const ES=function Xj(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function DS(t){return De(t?.[ES])}function TS(t){return function gS(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(p,m){s.push([h,f,p,m])>1||a(h,f)})})}function a(h,f){try{!function u(h){h.value instanceof xi?Promise.resolve(h.value.v).then(c,l):d(s[0][2],h)}(r[h](f))}catch(p){d(s[0][3],p)}}function c(h){a("next",h)}function l(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield xi(n.read());if(i)return yield xi(void 0);yield yield xi(r)}}finally{n.releaseLock()}})}function bS(t){return De(t?.getReader)}function Wn(t){if(t instanceof je)return t;if(null!=t){if(vS(t))return function Jj(t){return new je(e=>{const n=t[zg]();if(De(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(yS(t))return function Zj(t){return new je(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(_S(t))return function eH(t){return new je(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,aS)})}(t);if(wS(t))return CS(t);if(DS(t))return function tH(t){return new je(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(bS(t))return function nH(t){return CS(TS(t))}(t)}throw IS(t)}function CS(t){return new je(e=>{(function rH(t,e){var n,r,i,s;return function fS(t,e,n,r){return new(n||(n=Promise))(function(s,o){function a(l){try{c(r.next(l))}catch(d){o(d)}}function u(l){try{c(r.throw(l))}catch(d){o(d)}}function c(l){l.done?s(l.value):function i(s){return s instanceof n?s:new n(function(o){o(s)})}(l.value).then(a,u)}c((r=r.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=mS(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function qr(t,e,n,r=0,i=!1){const s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function St(t,e,n=1/0){return De(e)?St((r,i)=>Te((s,o)=>e(r,s,i,o))(Wn(t(r,i))),n):("number"==typeof e&&(n=e),bt((r,i)=>function iH(t,e,n,r,i,s,o,a){const u=[];let c=0,l=0,d=!1;const h=()=>{d&&!u.length&&!c&&e.complete()},f=m=>c<r?p(m):u.push(m),p=m=>{s&&e.next(m),c++;let y=!1;Wn(n(m,l++)).subscribe(Ct(e,v=>{i?.(v),s?f(v):e.next(v)},()=>{y=!0},void 0,()=>{if(y)try{for(c--;u.length&&c<r;){const v=u.shift();o?qr(e,o,()=>p(v)):p(v)}h()}catch(v){e.error(v)}}))};return t.subscribe(Ct(e,f,()=>{d=!0,h()})),()=>{a?.()}}(r,i,t,n)))}function To(t=1/0){return St(ys,t)}const pr=new je(t=>t.complete());function Yg(t){return t[t.length-1]}function vu(t){return function oH(t){return t&&De(t.schedule)}(Yg(t))?t.pop():void 0}function gd(t,e=0){return bt((n,r)=>{n.subscribe(Ct(r,i=>qr(r,t,()=>r.next(i),e),()=>qr(r,t,()=>r.complete(),e),i=>qr(r,t,()=>r.error(i),e)))})}function md(t,e=0){return bt((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function SS(t,e){if(!t)throw new Error("Iterable cannot be null");return new je(n=>{qr(n,e,()=>{const r=t[Symbol.asyncIterator]();qr(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function At(t,e){return e?function pH(t,e){if(null!=t){if(vS(t))return function cH(t,e){return Wn(t).pipe(md(e),gd(e))}(t,e);if(yS(t))return function dH(t,e){return new je(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(_S(t))return function lH(t,e){return Wn(t).pipe(md(e),gd(e))}(t,e);if(wS(t))return SS(t,e);if(DS(t))return function hH(t,e){return new je(n=>{let r;return qr(n,e,()=>{r=t[ES](),qr(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void n.error(o)}s?n.complete():n.next(i)},0,!0)}),()=>De(r?.return)&&r.return()})}(t,e);if(bS(t))return function fH(t,e){return SS(TS(t),e)}(t,e)}throw IS(t)}(t,e):Wn(t)}function Xg(t,e,...n){if(!0===e)return void t();if(!1===e)return;const r=new _u({next:()=>{r.unsubscribe(),t()}});return Wn(e(...n)).subscribe(r)}function _e(t){for(let e in t)if(t[e]===_e)return e;throw Error("Could not find renamed property on target object.")}function ut(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(ut).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function Zg(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const yH=_e({__forward_ref__:_e});function em(t){return t.__forward_ref__=em,t.toString=function(){return ut(this())},t}function Y(t){return tm(t)?t():t}function tm(t){return"function"==typeof t&&t.hasOwnProperty(yH)&&t.__forward_ref__===em}function nm(t){return t&&!!t.\u0275providers}class S extends Error{constructor(e,n){super(function yd(t,e){return`NG0${Math.abs(t)}${e?": "+e:""}`}(e,n)),this.code=e}}function me(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():function J(t){return"string"==typeof t?t:null==t?"":String(t)}(t)}function _d(t,e){throw new S(-201,!1)}function Fn(t,e){null==t&&function ye(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function G(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Un(t){return{providers:t.providers||[],imports:t.imports||[]}}function vd(t){return xS(t,wd)||xS(t,MS)}function xS(t,e){return t.hasOwnProperty(e)?t[e]:null}function RS(t){return t&&(t.hasOwnProperty(rm)||t.hasOwnProperty(bH))?t[rm]:null}const wd=_e({\u0275prov:_e}),rm=_e({\u0275inj:_e}),MS=_e({ngInjectableDef:_e}),bH=_e({ngInjectorDef:_e});var $=(()=>(($=$||{})[$.Default=0]="Default",$[$.Host=1]="Host",$[$.Self=2]="Self",$[$.SkipSelf=4]="SkipSelf",$[$.Optional=8]="Optional",$))();let im;function cn(t){const e=im;return im=t,e}function kS(t,e,n){const r=vd(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&$.Optional?null:void 0!==e?e:void _d(ut(t))}const be=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),wu={},sm="__NG_DI_FLAG__",Id="ngTempTokenPath",SH=/\n/gm,PS="__source";let bo;function Mi(t){const e=bo;return bo=t,e}function RH(t,e=$.Default){if(void 0===bo)throw new S(-203,!1);return null===bo?kS(t,void 0,e):bo.get(t,e&$.Optional?null:void 0,e)}function B(t,e=$.Default){return(function NS(){return im}()||RH)(Y(t),e)}function L(t,e=$.Default){return B(t,Ed(e))}function Ed(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function om(t){const e=[];for(let n=0;n<t.length;n++){const r=Y(t[n]);if(Array.isArray(r)){if(0===r.length)throw new S(900,!1);let i,s=$.Default;for(let o=0;o<r.length;o++){const a=r[o],u=MH(a);"number"==typeof u?-1===u?i=a.token:s|=u:i=a}e.push(B(i,s))}else e.push(B(r))}return e}function Iu(t,e){return t[sm]=e,t.prototype[sm]=e,t}function MH(t){return t[sm]}function Wr(t){return{toString:t}.toString()}var gr=(()=>((gr=gr||{})[gr.OnPush=0]="OnPush",gr[gr.Default=1]="Default",gr))(),Cn=(()=>{return(t=Cn||(Cn={}))[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",Cn;var t})();const Kr={},pe=[],Dd=_e({\u0275cmp:_e}),am=_e({\u0275dir:_e}),um=_e({\u0275pipe:_e}),LS=_e({\u0275mod:_e}),Qr=_e({\u0275fac:_e}),Eu=_e({__NG_ELEMENT_ID__:_e}),FS=_e({__NG_ENV_ID__:_e});function US(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function cm(t,e,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{const s=i,o=n[++r];BS(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function VS(t){return 3===t||4===t||6===t}function BS(t){return 64===t.charCodeAt(0)}function Du(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||$S(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function $S(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const a=t[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<t.length;){const a=t[s];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}const jS="ng-template";function PH(t,e,n){let r=0,i=!0;for(;r<t.length;){let s=t[r++];if("string"==typeof s&&i){const o=t[r++];if(n&&"class"===s&&-1!==US(o.toLowerCase(),e,0))return!0}else{if(1===s){for(;r<t.length&&"string"==typeof(s=t[r++]);)if(s.toLowerCase()===e)return!0;return!1}"number"==typeof s&&(i=!1)}}return!1}function HS(t){return 4===t.type&&t.value!==jS}function OH(t,e,n){return e===(4!==t.type||n?t.value:jS)}function LH(t,e,n){let r=4;const i=t.attrs||[],s=function VH(t){for(let e=0;e<t.length;e++)if(VS(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!OH(t,u,n)||""===u&&1===e.length){if(Kn(r))return!1;o=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!PH(t.attrs,c,n)){if(Kn(r))return!1;o=!0}continue}const d=FH(8&r?"class":u,i,HS(t),n);if(-1===d){if(Kn(r))return!1;o=!0;continue}if(""!==c){let h;h=d>s?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==US(f,c,0)||2&r&&c!==h){if(Kn(r))return!1;o=!0}}}}else{if(!o&&!Kn(r)&&!Kn(u))return!1;if(o&&Kn(u))continue;o=!1,r=u|1&r}}return Kn(r)||o}function Kn(t){return 0==(1&t)}function FH(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){const o=e[i];if(o===t)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function BH(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function zS(t,e,n=!1){for(let r=0;r<e.length;r++)if(LH(t,e[r],n))return!0;return!1}function GS(t,e){return t?":not("+e.trim()+")":e}function jH(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!Kn(o)&&(e+=GS(s,i),i=""),r=o,s=s||!Kn(r);n++}return""!==i&&(e+=GS(s,i)),e}function Tu(t){return Wr(()=>{const e=WS(t),n={...e,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===gr.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,data:t.data||{},encapsulation:t.encapsulation||Cn.Emulated,styles:t.styles||pe,_:null,schemas:t.schemas||null,tView:null,id:""};KS(n);const r=t.dependencies;return n.directiveDefs=Td(r,!1),n.pipeDefs=Td(r,!0),n.id=function YH(t){let e=0;const n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(n),n})}function qH(t){return ge(t)||Vt(t)}function WH(t){return null!==t}function Qn(t){return Wr(()=>({type:t.type,bootstrap:t.bootstrap||pe,declarations:t.declarations||pe,imports:t.imports||pe,exports:t.exports||pe,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function qS(t,e){if(null==t)return Kr;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}function Yt(t){return Wr(()=>{const e=WS(t);return KS(e),e})}function ge(t){return t[Dd]||null}function Vt(t){return t[am]||null}function dn(t){return t[um]||null}function Sn(t,e){const n=t[LS]||null;if(!n&&!0===e)throw new Error(`Type ${ut(t)} does not have '\u0275mod' property.`);return n}function WS(t){const e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,exportAs:t.exportAs||null,standalone:!0===t.standalone,selectors:t.selectors||pe,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:qS(t.inputs,e),outputs:qS(t.outputs)}}function KS(t){t.features?.forEach(e=>e(t))}function Td(t,e){if(!t)return null;const n=e?dn:qH;return()=>("function"==typeof t?t():t).map(r=>n(r)).filter(WH)}const ct=0,N=1,re=2,Le=3,Yn=4,_s=5,Bt=6,So=7,He=8,Ao=9,vs=10,te=11,bu=12,QS=13,xo=14,tt=15,Cu=16,Ro=17,mr=18,Su=19,YS=20,Ni=21,Yr=22,bd=23,Cd=24,ue=25,lm=1,XS=2,yr=7,Sd=8,Mo=9,xt=11;function An(t){return Array.isArray(t)&&"object"==typeof t[lm]}function hn(t){return Array.isArray(t)&&!0===t[lm]}function dm(t){return 0!=(4&t.flags)}function ws(t){return t.componentOffset>-1}function Xn(t){return!!t.template}function hm(t){return 0!=(512&t[re])}function Is(t,e){return t.hasOwnProperty(Qr)?t[Qr]:null}let tz=be.WeakRef??class ez{constructor(e){this.ref=e}deref(){return this.ref}},rz=0,_r=null,xd=!1;function mt(t){const e=_r;return _r=t,e}class nA{constructor(){this.id=rz++,this.ref=function nz(t){return new tz(t)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[e,n]of this.producers){const r=n.producerNode.deref();if(void 0!==r&&n.atTrackingVersion===this.trackingVersion){if(r.producerPollStatus(n.seenValueVersion))return!0}else this.producers.delete(e),r?.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const e=xd;xd=!0;try{for(const[n,r]of this.consumers){const i=r.consumerNode.deref();void 0!==i&&i.trackingVersion===r.atTrackingVersion?i.onConsumerDependencyMayHaveChanged():(this.consumers.delete(n),i?.producers.delete(this.id))}}finally{xd=e}}producerAccessed(){if(xd)throw new Error("");if(null===_r)return;let e=_r.producers.get(this.id);void 0===e?(e={consumerNode:_r.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:_r.trackingVersion},_r.producers.set(this.id,e),this.consumers.set(_r.id,e)):(e.seenValueVersion=this.valueVersion,e.atTrackingVersion=_r.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){return!1!==_r?.consumerAllowSignalWrites}producerPollStatus(e){return this.valueVersion!==e||(this.onProducerUpdateValueVersion(),this.valueVersion!==e)}}let rA=null;const iA=()=>{};class az extends nA{constructor(e,n,r){super(),this.watch=e,this.schedule=n,this.dirty=!1,this.cleanupFn=iA,this.registerOnCleanup=i=>{this.cleanupFn=i},this.consumerAllowSignalWrites=r}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const e=mt(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=iA,this.watch(this.registerOnCleanup)}finally{mt(e)}}cleanup(){this.cleanupFn()}}class uz{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function Es(){return sA}function sA(t){return t.type.prototype.ngOnChanges&&(t.setInput=lz),cz}function cz(){const t=aA(this),e=t?.current;if(e){const n=t.previous;if(n===Kr)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function lz(t,e,n,r){const i=this.declaredInputs[n],s=aA(t)||function dz(t,e){return t[oA]=e}(t,{previous:Kr,current:null}),o=s.current||(s.current={}),a=s.previous,u=a[i];o[i]=new uz(u&&u.currentValue,e,a===Kr),t[r]=e}Es.ngInherit=!0;const oA="__ngSimpleChanges__";function aA(t){return t[oA]||null}const vr=function(t,e,n){};function Ae(t){for(;Array.isArray(t);)t=t[ct];return t}function fn(t,e){return Ae(e[t.index])}function pn(t,e){const n=e[t];return An(n)?n:n[ct]}function kd(t){return 128==(128&t[re])}function ki(t,e){return null==e?null:t[e]}function dA(t){t[Ro]=0}function yz(t){1024&t[re]||(t[re]|=1024,fA(t,1))}function hA(t){1024&t[re]&&(t[re]&=-1025,fA(t,-1))}function fA(t,e){let n=t[Le];if(null===n)return;n[_s]+=e;let r=n;for(n=n[Le];null!==n&&(1===e&&1===r[_s]||-1===e&&0===r[_s]);)n[_s]+=e,r=n,n=n[Le]}const W={lFrame:TA(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function mA(){return W.bindingsEnabled}function D(){return W.lFrame.lView}function de(){return W.lFrame.tView}function Rt(){let t=yA();for(;null!==t&&64===t.type;)t=t.parent;return t}function yA(){return W.lFrame.currentTNode}function wr(t,e){const n=W.lFrame;n.currentTNode=t,n.isParent=e}function _m(){return W.lFrame.isParent}function Mz(t,e){const n=W.lFrame;n.bindingIndex=n.bindingRootIndex=t,wm(e)}function wm(t){W.lFrame.currentDirectiveIndex=t}function Em(t){W.lFrame.currentQueryIndex=t}function kz(t){const e=t[N];return 2===e.type?e.declTNode:1===e.type?t[Bt]:null}function EA(t,e,n){if(n&$.SkipSelf){let i=e,s=t;for(;!(i=i.parent,null!==i||n&$.Host||(i=kz(s),null===i||(s=s[xo],10&i.type))););if(null===i)return!1;e=i,t=s}const r=W.lFrame=DA();return r.currentTNode=e,r.lView=t,!0}function Dm(t){const e=DA(),n=t[N];W.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function DA(){const t=W.lFrame,e=null===t?null:t.child;return null===e?TA(t):e}function TA(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function bA(){const t=W.lFrame;return W.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const CA=bA;function Tm(){const t=bA();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Ds(t){W.lFrame.selectedIndex=t}let AA=!0;function Pd(){return AA}function Pi(t){AA=t}function Od(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:c,ngOnDestroy:l}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),c&&((t.viewHooks??=[]).push(n,c),(t.viewCheckHooks??=[]).push(n,c)),null!=l&&(t.destroyHooks??=[]).push(n,l)}}function Ld(t,e,n){xA(t,e,3,n)}function Fd(t,e,n,r){(3&t[re])===n&&xA(t,e,n,r)}function bm(t,e){let n=t[re];(3&n)===e&&(n&=4095,n+=1,t[re]=n)}function xA(t,e,n,r){const s=r??-1,o=e.length-1;let a=0;for(let u=void 0!==r?65535&t[Ro]:0;u<o;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(t[Ro]+=65536),(a<s||-1==s)&&($z(t,n,e,u),t[Ro]=(4294901760&t[Ro])+u+2),u++}function RA(t,e){vr(4,t,e);const n=mt(null);try{e.call(t)}finally{mt(n),vr(5,t,e)}}function $z(t,e,n,r){const i=n[r]<0,s=n[r+1],a=t[i?-n[r]:n[r]];i?t[re]>>12<t[Ro]>>16&&(3&t[re])===e&&(t[re]+=4096,RA(a,s)):RA(a,s)}const Oo=-1;class Ru{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function MA(t){return t!==Oo}function Ud(t){return 32767&t}function Vd(t,e){let n=function Gz(t){return t>>16}(t),r=e;for(;n>0;)r=r[xo],n--;return r}let Sm=!0;function Bd(t){const e=Sm;return Sm=t,e}const NA=255,kA=5;let qz=0;const Ir={};function $d(t,e){const n=PA(t,e);if(-1!==n)return n;const r=e[N];r.firstCreatePass&&(t.injectorIndex=e.length,Am(r.data,t),Am(e,null),Am(r.blueprint,null));const i=xm(t,e),s=t.injectorIndex;if(MA(i)){const o=Ud(i),a=Vd(i,e),u=a[N].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|u[o+c]}return e[s+8]=i,s}function Am(t,e){t.push(0,0,0,0,0,0,0,0,e)}function PA(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function xm(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){if(r=jA(i),null===r)return Oo;if(n++,i=i[xo],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Oo}function Rm(t,e,n){!function Wz(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Eu)&&(r=n[Eu]),null==r&&(r=n[Eu]=qz++);const i=r&NA;e.data[t+(i>>kA)]|=1<<i}(t,e,n)}function OA(t,e,n){if(n&$.Optional||void 0!==t)return t;_d()}function LA(t,e,n,r){if(n&$.Optional&&void 0===r&&(r=null),!(n&($.Self|$.Host))){const i=t[Ao],s=cn(void 0);try{return i?i.get(e,r,n&$.Optional):kS(e,r,n&$.Optional)}finally{cn(s)}}return OA(r,0,n)}function FA(t,e,n,r=$.Default,i){if(null!==t){if(2048&e[re]&&!(r&$.Self)){const o=function Jz(t,e,n,r,i){let s=t,o=e;for(;null!==s&&null!==o&&2048&o[re]&&!(512&o[re]);){const a=UA(s,o,n,r|$.Self,Ir);if(a!==Ir)return a;let u=s.parent;if(!u){const c=o[YS];if(c){const l=c.get(n,Ir,r);if(l!==Ir)return l}u=jA(o),o=o[xo]}s=u}return i}(t,e,n,r,Ir);if(o!==Ir)return o}const s=UA(t,e,n,r,Ir);if(s!==Ir)return s}return LA(e,n,r,i)}function UA(t,e,n,r,i){const s=function Yz(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Eu)?t[Eu]:void 0;return"number"==typeof e?e>=0?e&NA:Xz:e}(n);if("function"==typeof s){if(!EA(e,t,r))return r&$.Host?OA(i,0,r):LA(e,n,r,i);try{const o=s(r);if(null!=o||r&$.Optional)return o;_d()}finally{CA()}}else if("number"==typeof s){let o=null,a=PA(t,e),u=Oo,c=r&$.Host?e[tt][Bt]:null;for((-1===a||r&$.SkipSelf)&&(u=-1===a?xm(t,e):e[a+8],u!==Oo&&BA(r,!1)?(o=e[N],a=Ud(u),e=Vd(u,e)):a=-1);-1!==a;){const l=e[N];if(VA(s,a,l.data)){const d=Qz(a,e,n,o,r,c);if(d!==Ir)return d}u=e[a+8],u!==Oo&&BA(r,e[N].data[a+8]===c)&&VA(s,a,e)?(o=l,a=Ud(u),e=Vd(u,e)):a=-1}}return i}function Qz(t,e,n,r,i,s){const o=e[N],a=o.data[t+8],l=function jd(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,u=t.directiveStart,l=s>>20,h=i?a+l:t.directiveEnd;for(let f=r?a:a+l;f<h;f++){const p=o[f];if(f<u&&n===p||f>=u&&p.type===n)return f}if(i){const f=o[u];if(f&&Xn(f)&&f.type===n)return u}return null}(a,o,n,null==r?ws(a)&&Sm:r!=o&&0!=(3&a.type),i&$.Host&&s===a);return null!==l?Ts(e,o,l,a):Ir}function Ts(t,e,n,r){let i=t[n];const s=e.data;if(function jz(t){return t instanceof Ru}(i)){const o=i;o.resolving&&function _H(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new S(-200,`Circular dependency in DI detected for ${t}${n}`)}(me(s[n]));const a=Bd(o.canSeeViewProviders);o.resolving=!0;const u=o.injectImpl?cn(o.injectImpl):null;EA(t,r,$.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function Bz(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=sA(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}(n,s[n],e)}finally{null!==u&&cn(u),Bd(a),o.resolving=!1,CA()}}return i}function VA(t,e,n){return!!(n[e+(t>>kA)]&1<<t)}function BA(t,e){return!(t&$.Self||t&$.Host&&e)}class Lo{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return FA(this._tNode,this._lView,e,Ed(r),n)}}function Xz(){return new Lo(Rt(),D())}function Mm(t){return tm(t)?()=>{const e=Mm(Y(t));return e&&e()}:Is(t)}function jA(t){const e=t[N],n=e.type;return 2===n?e.declTNode:1===n?t[Bt]:null}const Uo="__parameters__";function Bo(t,e,n){return Wr(()=>{const r=function Nm(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(u,c,l){const d=u.hasOwnProperty(Uo)?u[Uo]:Object.defineProperty(u,Uo,{value:[]})[Uo];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(o),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function ku(t,e){t.forEach(n=>Array.isArray(n)?ku(n,e):e(n))}function zA(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function zd(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}const dt=Iu(Bo("Optional"),8),qd=Iu(Bo("SkipSelf"),4);function Yd(t){return 128==(128&t.flags)}var gn=(()=>((gn=gn||{})[gn.Important=1]="Important",gn[gn.DashCase=2]="DashCase",gn))();const Vm=new Map;let S4=0;const $m="__ngContext__";function $t(t,e){An(e)?(t[$m]=e[Su],function x4(t){Vm.set(t[Su],t)}(e)):t[$m]=e}let jm;function Hm(t,e){return jm(t,e)}function Fu(t){const e=t[Le];return hn(e)?e[Le]:e}function zm(t){return lx(t[bu])}function Gm(t){return lx(t[Yn])}function lx(t){for(;null!==t&&!hn(t);)t=t[Yn];return t}function zo(t,e,n,r,i){if(null!=r){let s,o=!1;hn(r)?s=r:An(r)&&(o=!0,r=r[ct]);const a=Ae(r);0===t&&null!==n?null==i?gx(e,n,a):bs(e,n,a,i||null,!0):1===t&&null!==n?bs(e,n,a,i||null,!0):2===t?function nh(t,e,n){const r=eh(t,e);r&&function K4(t,e,n,r){t.removeChild(e,n,r)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function X4(t,e,n,r,i){const s=n[yr];s!==Ae(n)&&zo(e,t,r,s,i);for(let a=xt;a<n.length;a++){const u=n[a];Vu(u[N],u,t,e,r,s)}}(e,t,s,n,i)}}function Zd(t,e,n){return t.createElement(e,n)}function hx(t,e){const n=t[Mo],r=n.indexOf(e);hA(e),n.splice(r,1)}function Wm(t,e){if(t.length<=xt)return;const n=xt+e,r=t[n];if(r){const i=r[Cu];null!==i&&i!==t&&hx(i,r),e>0&&(t[n-1][Yn]=r[Yn]);const s=zd(t,xt+e);!function B4(t,e){Vu(t,e,e[te],2,null,null),e[ct]=null,e[Bt]=null}(r[N],r);const o=s[mr];null!==o&&o.detachView(s[N]),r[Le]=null,r[Yn]=null,r[re]&=-129}return r}function fx(t,e){if(!(256&e[re])){const n=e[te];e[bd]?.destroy(),e[Cd]?.destroy(),n.destroyNode&&Vu(t,e,n,3,null,null),function H4(t){let e=t[bu];if(!e)return Km(t[N],t);for(;e;){let n=null;if(An(e))n=e[bu];else{const r=e[xt];r&&(n=r)}if(!n){for(;e&&!e[Yn]&&e!==t;)An(e)&&Km(e[N],e),e=e[Le];null===e&&(e=t),An(e)&&Km(e[N],e),n=e&&e[Yn]}e=n}}(e)}}function Km(t,e){if(!(256&e[re])){e[re]&=-129,e[re]|=256,function W4(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof Ru)){const s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],u=s[o+1];vr(4,a,u);try{u.call(a)}finally{vr(5,a,u)}}else{vr(4,i,s);try{s.call(i)}finally{vr(5,i,s)}}}}}(t,e),function q4(t,e){const n=t.cleanup,r=e[So];if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else n[s].call(r[n[s+1]]);null!==r&&(e[So]=null);const i=e[Ni];if(null!==i){e[Ni]=null;for(let s=0;s<i.length;s++)(0,i[s])()}}(t,e),1===e[N].type&&e[te].destroy();const n=e[Cu];if(null!==n&&hn(e[Le])){n!==e[Le]&&hx(n,e);const r=e[mr];null!==r&&r.detachView(t)}!function R4(t){Vm.delete(t[Su])}(e)}}function Qm(t,e,n){return function px(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[ct];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=t.data[r.directiveStart+i];if(s===Cn.None||s===Cn.Emulated)return null}return fn(r,n)}}(t,e.parent,n)}function bs(t,e,n,r,i){t.insertBefore(e,n,r,i)}function gx(t,e,n){t.appendChild(e,n)}function mx(t,e,n,r,i){null!==r?bs(t,e,n,r,i):gx(t,e,n)}function eh(t,e){return t.parentNode(e)}let Ym,ey,vx=function _x(t,e,n){return 40&t.type?fn(t,n):null};function th(t,e,n,r){const i=Qm(t,r,e),s=e[te],a=function yx(t,e,n){return vx(t,e,n)}(r.parent||e[Bt],r,e);if(null!=i)if(Array.isArray(n))for(let u=0;u<n.length;u++)mx(s,i,n[u],a,!1);else mx(s,i,n,a,!1);void 0!==Ym&&Ym(s,r,e,n,i)}function Uu(t,e){if(null!==e){const n=e.type;if(3&n)return fn(e,t);if(4&n)return Xm(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return Uu(t,r);{const i=t[e.index];return hn(i)?Xm(-1,i):Ae(i)}}if(32&n)return Hm(e,t)()||Ae(t[e.index]);{const r=Ix(t,e);return null!==r?Array.isArray(r)?r[0]:Uu(Fu(t[tt]),r):Uu(t,e.next)}}return null}function Ix(t,e){return null!==e?t[tt][Bt].projection[e.projection]:null}function Xm(t,e){const n=xt+t+1;if(n<e.length){const r=e[n],i=r[N].firstChild;if(null!==i)return Uu(r,i)}return e[yr]}function Jm(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],u=n.type;if(o&&0===e&&(a&&$t(Ae(a),r),n.flags|=2),32!=(32&n.flags))if(8&u)Jm(t,e,n.child,r,i,s,!1),zo(e,t,i,a,s);else if(32&u){const c=Hm(n,r);let l;for(;l=c();)zo(e,t,i,l,s);zo(e,t,i,a,s)}else 16&u?Dx(t,e,r,n,i,s):zo(e,t,i,a,s);n=o?n.projectionNext:n.next}}function Vu(t,e,n,r,i,s){Jm(n,r,t.firstChild,e,i,s,!1)}function Dx(t,e,n,r,i,s){const o=n[tt],u=o[Bt].projection[r.projection];if(Array.isArray(u))for(let c=0;c<u.length;c++)zo(e,t,i,u[c],s);else{let c=u;const l=o[Le];Yd(r)&&(c.flags|=128),Jm(t,e,c,l,i,s,!0)}}function Tx(t,e,n){""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function bx(t,e,n){const{mergedAttrs:r,classes:i,styles:s}=n;null!==r&&cm(t,e,r),null!==i&&Tx(t,e,i),null!==s&&function Z4(t,e,n){t.setAttribute(e,"style",n)}(t,e,s)}class U{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=G({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const zu=new U("ENVIRONMENT_INITIALIZER"),Vx=new U("INJECTOR",-1),Bx=new U("INJECTOR_DEF_TYPES");class $x{get(e,n=wu){if(n===wu){const r=new Error(`NullInjectorError: No provider for ${ut(e)}!`);throw r.name="NullInjectorError",r}return n}}function CG(...t){return{\u0275providers:Hx(0,t),\u0275fromNgModule:!0}}function Hx(t,...e){const n=[],r=new Set;let i;return ku(e,s=>{const o=s;oy(o,n,[],r)&&(i||=[],i.push(o))}),void 0!==i&&zx(i,n),n}function zx(t,e){for(let n=0;n<t.length;n++){const{providers:i}=t[n];ay(i,s=>{e.push(s)})}}function oy(t,e,n,r){if(!(t=Y(t)))return!1;let i=null,s=RS(t);const o=!s&&ge(t);if(s||o){if(o&&!o.standalone)return!1;i=t}else{const u=t.ngModule;if(s=RS(u),!s)return!1;i=u}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const u="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const c of u)oy(c,e,n,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let c;r.add(i);try{ku(s.imports,l=>{oy(l,e,n,r)&&(c||=[],c.push(l))})}finally{}void 0!==c&&zx(c,e)}if(!a){const c=Is(i)||(()=>new i);e.push({provide:i,useFactory:c,deps:pe},{provide:Bx,useValue:i,multi:!0},{provide:zu,useValue:()=>B(i),multi:!0})}const u=s.providers;null==u||a||ay(u,l=>{e.push(l)})}}return i!==t&&void 0!==t.providers}function ay(t,e){for(let n of t)nm(n)&&(n=n.\u0275providers),Array.isArray(n)?ay(n,e):e(n)}const SG=_e({provide:String,useValue:_e});function uy(t){return null!==t&&"object"==typeof t&&SG in t}function Cs(t){return"function"==typeof t}const cy=new U("Set Injector scope."),oh={},xG={};let ly;function ah(){return void 0===ly&&(ly=new $x),ly}class ei{}class dy extends ei{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,fy(e,o=>this.processProvider(o)),this.records.set(Vx,qo(void 0,this)),i.has("environment")&&this.records.set(ei,qo(void 0,this));const s=this.records.get(cy);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(Bx.multi,pe,$.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of e)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const n=Mi(this),r=cn(void 0);try{return e()}finally{Mi(n),cn(r)}}get(e,n=wu,r=$.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(FS))return e[FS](this);r=Ed(r);const i=Mi(this),s=cn(void 0);try{if(!(r&$.SkipSelf)){let a=this.records.get(e);if(void 0===a){const u=function PG(t){return"function"==typeof t||"object"==typeof t&&t instanceof U}(e)&&vd(e);a=u&&this.injectableDefInScope(u)?qo(hy(e),oh):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&$.Self?ah():this.parent).get(e,n=r&$.Optional&&n===wu?null:n)}catch(o){if("NullInjectorError"===o.name){if((o[Id]=o[Id]||[]).unshift(ut(e)),i)throw o;return function NH(t,e,n,r){const i=t[Id];throw e[PS]&&i.unshift(e[PS]),t.message=function kH(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let i=ut(e);if(Array.isArray(e))i=e.map(ut).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):ut(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(SH,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[Id]=null,t}(o,e,"R3InjectorError",this.source)}throw o}finally{cn(s),Mi(i)}}resolveInjectorInitializers(){const e=Mi(this),n=cn(void 0);try{const r=this.get(zu.multi,pe,$.Self);for(const i of r)i()}finally{Mi(e),cn(n)}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push(ut(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new S(205,!1)}processProvider(e){let n=Cs(e=Y(e))?e:Y(e&&e.provide);const r=function MG(t){return uy(t)?qo(void 0,t.useValue):qo(function Wx(t,e,n){let r;if(Cs(t)){const i=Y(t);return Is(i)||hy(i)}if(uy(t))r=()=>Y(t.useValue);else if(function qx(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...om(t.deps||[]));else if(function Gx(t){return!(!t||!t.useExisting)}(t))r=()=>B(Y(t.useExisting));else{const i=Y(t&&(t.useClass||t.provide));if(!function NG(t){return!!t.deps}(t))return Is(i)||hy(i);r=()=>new i(...om(t.deps))}return r}(t),oh)}(e);if(Cs(e)||!0!==e.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=qo(void 0,oh,!0),i.factory=()=>om(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===oh&&(n.value=xG,n.value=n.factory()),"object"==typeof n.value&&n.value&&function kG(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=Y(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){const n=this._onDestroyHooks.indexOf(e);-1!==n&&this._onDestroyHooks.splice(n,1)}}function hy(t){const e=vd(t),n=null!==e?e.factory:Is(t);if(null!==n)return n;if(t instanceof U)throw new S(204,!1);if(t instanceof Function)return function RG(t){const e=t.length;if(e>0)throw function Pu(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}(e,"?"),new S(204,!1);const n=function TH(t){return t&&(t[wd]||t[MS])||null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new S(204,!1)}function qo(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function fy(t,e){for(const n of t)Array.isArray(n)?fy(n,e):n&&nm(n)?fy(n.\u0275providers,e):e(n)}const uh=new U("AppId",{providedIn:"root",factory:()=>OG}),OG="ng",Kx=new U("Platform Initializer"),Li=new U("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Qx=new U("CSP nonce",{providedIn:"root",factory:()=>function Bu(){if(void 0!==ey)return ey;if(typeof document<"u")return document;throw new S(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Xx=(t,e)=>null;function Jx(t,e){return Xx(t,e)}class zG{}class tR{}class qG{resolveComponentFactory(e){throw function GG(t){const e=Error(`No component factory found for ${ut(t)}.`);return e.ngComponent=t,e}(e)}}let fh=(()=>{class t{}return t.NULL=new qG,t})();function WG(){return Wo(Rt(),D())}function Wo(t,e){return new Fi(fn(t,e))}let Fi=(()=>{class t{constructor(n){this.nativeElement=n}}return t.__NG_ELEMENT_ID__=WG,t})();class rR{}let YG=(()=>{class t{}return t.\u0275prov=G({token:t,providedIn:"root",factory:()=>null}),t})();class Ku{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const iR=new Ku("16.0.3"),Ty={};function Qu(t){for(;t;){t[re]|=64;const e=Fu(t);if(hm(t)&&!e)return t;t=e}return null}function by(t){return t.ngOriginalError}class Ss{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&by(e);for(;n&&by(n);)n=by(n);return n||null}}const aR=new U("",{providedIn:"root",factory:()=>!1});function ti(t){return t instanceof Function?t():t}class hR extends nA{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(e){this._lView=e}onConsumerDependencyMayHaveChanged(){Qu(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(e,n,r){const i=mt(this);this.trackingVersion++;try{e(n,r)}finally{mt(i)}}destroy(){this.trackingVersion++}}let mh=null;function fR(){return mh??=new hR,mh}function pR(t,e){return t[e]??fR()}function gR(t,e){const n=fR();n.hasReadASignal&&(t[e]=mh,n.lView=t,mh=new hR)}const ne={};function wR(t,e=null,n=null,r){const i=IR(t,e,n,r);return i.resolveInjectorInitializers(),i}function IR(t,e=null,n=null,r,i=new Set){const s=[n||pe,CG(t)];return r=r||("object"==typeof t?void 0:ut(t)),new dy(s,e||ah(),r||null,i)}let Rn=(()=>{class t{static create(n,r){if(Array.isArray(n))return wR({name:""},r,n,"");{const i=n.name??"";return wR({name:i},n.parent,n.providers,i)}}}return t.THROW_IF_NOT_FOUND=wu,t.NULL=new $x,t.\u0275prov=G({token:t,providedIn:"any",factory:()=>B(Vx)}),t.__NG_ELEMENT_ID__=-1,t})();function j(t,e=$.Default){const n=D();return null===n?B(t,e):FA(Rt(),n,Y(t),e)}function yh(t,e,n,r,i,s,o,a,u,c,l){const d=e.blueprint.slice();return d[ct]=i,d[re]=140|r,(null!==c||t&&2048&t[re])&&(d[re]|=2048),dA(d),d[Le]=d[xo]=t,d[He]=n,d[vs]=o||t&&t[vs],d[te]=a||t&&t[te],d[Ao]=u||t&&t[Ao]||null,d[Bt]=s,d[Su]=function A4(){return S4++}(),d[Yr]=l,d[YS]=c,d[tt]=2==e.type?t[tt]:d,d}function Qo(t,e,n,r,i){let s=t.data[e];if(null===s)s=function Cy(t,e,n,r,i){const s=yA(),o=_m(),u=t.data[e]=function _q(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return function ko(){return null!==W.skipHydrationRootTNode}()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=u),null!==s&&(o?null==s.child&&null!==u.parent&&(s.child=u):null===s.next&&(s.next=u,u.prev=s)),u}(t,e,n,r,i),function Rz(){return W.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const o=function xu(){const t=W.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return wr(s,!0),s}function Yu(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function DR(t,e,n,r,i){const s=pR(e,bd),o=function Jt(){return W.lFrame.selectedIndex}(),a=2&r;try{if(Ds(-1),a&&e.length>ue&&function mR(t,e,n,r){if(!r)if(3==(3&e[re])){const s=t.preOrderCheckHooks;null!==s&&Ld(e,s,n)}else{const s=t.preOrderHooks;null!==s&&Fd(e,s,0,n)}Ds(n)}(t,e,ue,!1),vr(a?2:0,i),a)s.runInContext(n,r,i);else{const c=mt(null);try{n(r,i)}finally{mt(c)}}}finally{a&&null===e[bd]&&gR(e,bd),Ds(o),vr(a?3:1,i)}}function Sy(t,e,n){if(dm(e)){const r=mt(null);try{const s=e.directiveEnd;for(let o=e.directiveStart;o<s;o++){const a=t.data[o];a.contentQueries&&a.contentQueries(1,n[o],o)}}finally{mt(r)}}}function TR(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Ry(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Ry(t,e,n,r,i,s,o,a,u,c,l){const d=ue+r,h=d+i,f=function hq(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:ne);return n}(d,h),p="function"==typeof c?c():c;return f[N]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:p,incompleteFirstPass:!1,ssrId:l}}let bR=t=>null;function CR(t,e,n,r){for(let i in t)if(t.hasOwnProperty(i)){n=null===n?{}:n;const s=t[i];null===r?SR(n,e,i,s):r.hasOwnProperty(i)&&SR(n,e,r[i],s)}return n}function SR(t,e,n,r){t.hasOwnProperty(n)?t[n].push(e,r):t[n]=[e,r]}function AR(t,e,n,r,i,s){for(let c=0;c<r.length;c++)Rm($d(n,e),t,r[c].type);!function Rq(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}(n,t.data.length,r.length);for(let c=0;c<r.length;c++){const l=r[c];l.providersResolver&&l.providersResolver(l)}let o=!1,a=!1,u=Yu(t,e,r.length,null);for(let c=0;c<r.length;c++){const l=r[c];n.mergedAttrs=Du(n.mergedAttrs,l.hostAttrs),Mq(t,n,e,u,l),xq(u,l,i),null!==l.contentQueries&&(n.flags|=4),(null!==l.hostBindings||null!==l.hostAttrs||0!==l.hostVars)&&(n.flags|=64);const d=l.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),u++}!function vq(t,e,n){const i=e.directiveEnd,s=t.data,o=e.attrs,a=[];let u=null,c=null;for(let l=e.directiveStart;l<i;l++){const d=s[l],h=n?n.get(d):null,p=h?h.outputs:null;u=CR(d.inputs,l,u,h?h.inputs:null),c=CR(d.outputs,l,c,p);const m=null===u||null===o||HS(e)?null:Pq(u,l,o);a.push(m)}null!==u&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=c}(t,n,s)}function xR(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=function Nz(){return W.lFrame.currentDirectiveIndex}();try{Ds(s);for(let a=r;a<i;a++){const u=t.data[a],c=e[a];wm(a),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&Cq(u,c)}}finally{Ds(-1),wm(o)}}function Cq(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Ny(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function xq(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Xn(e)&&(n[""]=t)}}function Mq(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=Is(i.type)),o=new Ru(s,Xn(i),j);t.blueprint[r]=o,n[r]=o,function Dq(t,e,n,r,i){const s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;null===o&&(o=t.hostBindingOpCodes=[]);const a=~e.index;(function Tq(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(o)!=a&&o.push(a),o.push(n,r,s)}}(t,e,r,Yu(t,n,i.hostVars,ne),i)}function kq(t,e,n,r,i,s){const o=s[e];if(null!==o)for(let a=0;a<o.length;)RR(r,n,o[a++],o[a++],o[a++])}function RR(t,e,n,r,i){const s=mt(null);try{null!==t.setInput?t.setInput(e,i,n,r):e[r]=i}finally{mt(s)}}function Pq(t,e,n){let r=null,i=0;for(;i<n.length;){const s=n[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(t.hasOwnProperty(s)){null===r&&(r=[]);const o=t[s];for(let a=0;a<o.length;a+=2)if(o[a]===e){r.push(s,o[a+1],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function NR(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const s=n[r+1];if(-1!==s){const o=t.data[s];Em(n[r]),o.contentQueries(2,e[s],s)}}}function _h(t,e){return t[bu]?t[QS][Yn]=e:t[bu]=e,t[QS]=e,e}function Py(t,e,n){Em(0);const r=mt(null);try{e(t,n)}finally{mt(r)}}function Oy(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++];RR(t.data[o],e[o],r,a,i)}}function Oq(t,e){const n=pn(e,t),r=n[N];!function Lq(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n);const i=n[ct];null!==i&&null===n[Yr]&&(n[Yr]=Jx(i,n[Ao])),Ly(r,n,n[He])}function Ly(t,e,n){Dm(e);try{const r=t.viewQuery;null!==r&&Py(1,r,n);const i=t.template;null!==i&&DR(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&NR(t,e),t.staticViewQueries&&Py(2,t.viewQuery,n);const s=t.components;null!==s&&function Fq(t,e){for(let n=0;n<e.length;n++)Oq(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[re]&=-5,Tm()}}let FR=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(n,r,i){const s=typeof Zone>"u"?null:Zone.current,o=new az(n,c=>{this.all.has(c)&&this.queue.set(c,s)},i);let a;this.all.add(o),o.notify();const u=()=>{o.cleanup(),a?.(),this.all.delete(o),this.queue.delete(o)};return a=r?.onDestroy(u),{destroy:u}}flush(){if(0!==this.queue.size)for(const[n,r]of this.queue)this.queue.delete(n),r?r.run(()=>n.run()):n.run()}get isQueueEmpty(){return 0===this.queue.size}}return t.\u0275prov=G({token:t,providedIn:"root",factory:()=>new t}),t})();function vh(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=Zg(i,a):2==s&&(r=Zg(r,a+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function Xu(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];if(null!==s&&r.push(Ae(s)),hn(s)){for(let a=xt;a<s.length;a++){const u=s[a],c=u[N].firstChild;null!==c&&Xu(u[N],u,c,r)}s[yr]!==s[ct]&&r.push(s[yr])}const o=n.type;if(8&o)Xu(t,e,n.child,r);else if(32&o){const a=Hm(n,e);let u;for(;u=a();)r.push(u)}else if(16&o){const a=Ix(e,n);if(Array.isArray(a))r.push(...a);else{const u=Fu(e[tt]);Xu(u[N],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function wh(t,e,n,r=!0){const i=e[vs].rendererFactory;i.begin&&i.begin();try{Ih(t,e,t.template,n)}catch(o){throw r&&function LR(t,e){const n=t[Ao],r=n?n.get(Ss,null):null;r&&r.handleError(e)}(e,o),o}finally{i.end&&i.end(),e[vs].effectManager?.flush()}}function Ih(t,e,n,r){const i=e[re];if(256!=(256&i)){e[vs].effectManager?.flush(),Dm(e);try{dA(e),function vA(t){return W.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&DR(t,e,n,2,r);const o=3==(3&i);if(o){const c=t.preOrderCheckHooks;null!==c&&Ld(e,c,null)}else{const c=t.preOrderHooks;null!==c&&Fd(e,c,0,null),bm(e,0)}if(function Hq(t){for(let e=zm(t);null!==e;e=Gm(e)){if(!e[XS])continue;const n=e[Mo];for(let r=0;r<n.length;r++){yz(n[r])}}}(e),function jq(t){for(let e=zm(t);null!==e;e=Gm(e))for(let n=xt;n<e.length;n++){const r=e[n],i=r[N];kd(r)&&Ih(i,r,i.template,r[He])}}(e),null!==t.contentQueries&&NR(t,e),o){const c=t.contentCheckHooks;null!==c&&Ld(e,c)}else{const c=t.contentHooks;null!==c&&Fd(e,c,1),bm(e,1)}!function dq(t,e){const n=t.hostBindingOpCodes;if(null===n)return;const r=pR(e,Cd);try{for(let i=0;i<n.length;i++){const s=n[i];if(s<0)Ds(~s);else{const o=s,a=n[++i],u=n[++i];Mz(a,o),r.runInContext(u,2,e[o])}}}finally{null===e[Cd]&&gR(e,Cd),Ds(-1)}}(t,e);const a=t.components;null!==a&&function Gq(t,e){for(let n=0;n<e.length;n++)zq(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&Py(2,u,r),o){const c=t.viewCheckHooks;null!==c&&Ld(e,c)}else{const c=t.viewHooks;null!==c&&Fd(e,c,2),bm(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[re]&=-73,hA(e)}finally{Tm()}}}function zq(t,e){const n=pn(e,t);if(kd(n)){const r=n[N];80&n[re]?Ih(r,n,r.template,n[He]):n[_s]>0&&Fy(n)}}function Fy(t){for(let r=zm(t);null!==r;r=Gm(r))for(let i=xt;i<r.length;i++){const s=r[i];if(kd(s))if(1024&s[re]){const o=s[N];Ih(o,s,o.template,s[He])}else s[_s]>0&&Fy(s)}const n=t[N].components;if(null!==n)for(let r=0;r<n.length;r++){const i=pn(n[r],t);kd(i)&&i[_s]>0&&Fy(i)}}class Ju{get rootNodes(){const e=this._lView,n=e[N];return Xu(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[He]}set context(e){this._lView[He]=e}get destroyed(){return 256==(256&this._lView[re])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[Le];if(hn(e)){const n=e[Sd],r=n?n.indexOf(this):-1;r>-1&&(Wm(e,r),zd(n,r))}this._attachedToViewContainer=!1}fx(this._lView[N],this._lView)}onDestroy(e){!function pA(t,e){if(256==(256&t[re]))throw new S(911,!1);null===t[Ni]&&(t[Ni]=[]),t[Ni].push(e)}(this._lView,e)}markForCheck(){Qu(this._cdRefInjectingView||this._lView)}detach(){this._lView[re]&=-129}reattach(){this._lView[re]|=128}detectChanges(){wh(this._lView[N],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new S(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function j4(t,e){Vu(t,e,e[te],2,null,null)}(this._lView[N],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new S(902,!1);this._appRef=e}}class qq extends Ju{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;wh(e[N],e,e[He],!1)}checkNoChanges(){}get context(){return null}}class UR extends fh{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=ge(e);return new Zu(n,this.ngModule)}}function VR(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}class Kq{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Ed(r);const i=this.injector.get(e,Ty,r);return i!==Ty||n===Ty?i:this.parentInjector.get(e,n,r)}}class Zu extends tR{get inputs(){return VR(this.componentDef.inputs)}get outputs(){return VR(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function HH(t){return t.map(jH).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=(i=i||this.ngModule)instanceof ei?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new Kq(e,s):e,a=o.get(rR,null);if(null===a)throw new S(407,!1);const l={rendererFactory:a,sanitizer:o.get(YG,null),effectManager:o.get(FR,null)},d=a.createRenderer(null,this.componentDef),h=this.componentDef.selectors[0][0]||"div",f=r?function fq(t,e,n,r){const s=r.get(aR,!1)||n===Cn.ShadowDom,o=t.selectRootElement(e,s);return function pq(t){bR(t)}(o),o}(d,r,this.componentDef.encapsulation,o):Zd(d,h,function Wq(t){const e=t.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(h)),p=this.componentDef.onPush?576:528,m=Ry(0,null,null,1,0,null,null,null,null,null,null),y=yh(null,m,null,p,null,null,l,d,o,null,null);let v,_;Dm(y);try{const E=this.componentDef;let C,P=null;E.findHostDirectiveDefs?(C=[],P=new Map,E.findHostDirectiveDefs(E,C,P),C.push(E)):C=[E];const K=function Yq(t,e){const n=t[N],r=ue;return t[r]=e,Qo(n,r,2,"#host",null)}(y,f),Oe=function Xq(t,e,n,r,i,s,o){const a=i[N];!function Jq(t,e,n,r){for(const i of t)e.mergedAttrs=Du(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(vh(e,e.mergedAttrs,!0),null!==n&&bx(r,n,e))}(r,t,e,o);let u=null;null!==e&&(u=Jx(e,i[Ao]));const c=s.rendererFactory.createRenderer(e,n),l=yh(i,TR(n),null,n.onPush?64:16,i[t.index],t,s,c,null,null,u);return a.firstCreatePass&&Ny(a,t,r.length-1),_h(i,l),i[t.index]=l}(K,f,E,C,y,l,d);_=function lA(t,e){return t.data[e]}(m,ue),f&&function e3(t,e,n,r){if(r)cm(t,n,["ng-version",iR.full]);else{const{attrs:i,classes:s}=function zH(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!Kn(i))break;i=s}r++}return{attrs:e,classes:n}}(e.selectors[0]);i&&cm(t,n,i),s&&s.length>0&&Tx(t,n,s.join(" "))}}(d,E,f,r),void 0!==n&&function t3(t,e,n){const r=t.projection=[];for(let i=0;i<e.length;i++){const s=n[i];r.push(null!=s?Array.from(s):null)}}(_,this.ngContentSelectors,n),v=function Zq(t,e,n,r,i,s){const o=Rt(),a=i[N],u=fn(o,i);AR(a,i,o,n,null,r);for(let l=0;l<n.length;l++)$t(Ts(i,a,o.directiveStart+l,o),i);xR(a,i,o),u&&$t(u,i);const c=Ts(i,a,o.directiveStart+o.componentOffset,o);if(t[He]=i[He]=c,null!==s)for(const l of s)l(c,e);return Sy(a,o,t),c}(Oe,E,C,P,y,[n3]),Ly(m,y,null)}finally{Tm()}return new Qq(this.componentType,v,Wo(_,y),y,_)}}class Qq extends zG{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new qq(i),this.componentType=e}setInput(e,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;const s=this._rootLView;Oy(s[N],s,i,e,n),this.previousInputValues.set(e,n),Qu(pn(this._tNode.index,s))}}get injector(){return new Lo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function n3(){const t=Rt();Od(D()[N],t)}function qy(t,e,n,r,i){const o=i?"class":"style";Oy(t,n,e.inputs[o],o,r)}function ri(t,e,n,r){const i=D(),s=de(),o=ue+t,a=i[te],u=s.firstCreatePass?function F3(t,e,n,r,i,s){const o=e.consts,u=Qo(e,t,2,r,ki(o,i));return function My(t,e,n,r){if(mA()){const i=null===r?null:{"":-1},s=function Sq(t,e){const n=t.directiveRegistry;let r=null,i=null;if(n)for(let s=0;s<n.length;s++){const o=n[s];if(zS(e,o.selectors,!1))if(r||(r=[]),Xn(o))if(null!==o.findHostDirectiveDefs){const a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o),Ny(t,e,a.length)}else r.unshift(o),Ny(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return null===r?null:[r,i]}(t,n);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&AR(t,e,n,o,i,a),i&&function Aq(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const s=n[e[i+1]];if(null==s)throw new S(-301,!1);r.push(e[i],s)}}}(n,r,i)}n.mergedAttrs=Du(n.mergedAttrs,n.attrs)}(e,n,u,ki(o,s)),null!==u.attrs&&vh(u,u.attrs,!1),null!==u.mergedAttrs&&vh(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(o,s,i,e,n,r):s.data[o],c=oM(s,i,u,a,e,t);i[o]=c;const l=function Ad(t){return 1==(1&t.flags)}(u);return wr(u,!0),bx(a,c,u),32!=(32&u.flags)&&Pd()&&th(s,i,c,u),0===function vz(){return W.lFrame.elementDepthCount}()&&$t(c,i),function wz(){W.lFrame.elementDepthCount++}(),l&&(function Ay(t,e,n){mA()&&(function bq(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;ws(n)&&function Nq(t,e,n){const r=fn(e,t),o=_h(t,yh(t,TR(n),null,n.onPush?64:16,r,e,null,t[vs].rendererFactory.createRenderer(r,n),null,null,null));t[e.index]=o}(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||$d(n,e),$t(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const u=t.data[a],c=Ts(e,t,a,n);$t(c,e),null!==o&&kq(0,a-i,c,u,0,o),Xn(u)&&(pn(n.index,e)[He]=Ts(e,t,a,n))}}(t,e,n,fn(n,e)),64==(64&n.flags)&&xR(t,e,n))}(s,i,u),Sy(s,u,i)),null!==r&&function xy(t,e,n=fn){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}(i,u),ri}function Jn(){let t=Rt();_m()?function vm(){W.lFrame.isParent=!1}():(t=t.parent,wr(t,!1));const e=t;(function Ez(t){return W.skipHydrationRootTNode===t})(e)&&function Cz(){W.skipHydrationRootTNode=null}(),function Iz(){W.lFrame.elementDepthCount--}();const n=de();return n.firstCreatePass&&(Od(n,t),dm(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function Hz(t){return 0!=(8&t.flags)}(e)&&qy(n,e,D(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function zz(t){return 0!=(16&t.flags)}(e)&&qy(n,e,D(),e.stylesWithoutHost,!1),Jn}function Tr(t,e,n,r){return ri(t,e,n,r),Jn(),Tr}let oM=(t,e,n,r,i,s)=>(Pi(!0),Zd(r,i,function SA(){return W.lFrame.currentNamespace}()));function Sh(t){return!!t&&"function"==typeof t.then}function cM(t){return!!t&&"function"==typeof t.subscribe}function sc(t,e=""){const n=D(),r=de(),i=t+ue,s=r.firstCreatePass?Qo(r,i,1,e,null):r.data[i],o=UM(r,n,s,e,t);n[i]=o,Pd()&&th(r,n,o,s),wr(s,!1)}let UM=(t,e,n,r,i)=>(Pi(!0),function Jd(t,e){return t.createText(e)}(e[te],r));const aa="en-US";let aN=aa;class ua{}class kN{}class u_ extends ua{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new UR(this);const i=Sn(e);this._bootstrapComponents=ti(i.bootstrap),this._r3Injector=IR(e,n,[{provide:ua,useValue:this},{provide:fh,useValue:this.componentFactoryResolver},...r],ut(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class c_ extends kN{constructor(e){super(),this.moduleType=e}create(e){return new u_(this.moduleType,e,[])}}class PN extends ua{constructor(e){super(),this.componentFactoryResolver=new UR(this),this.instance=null;const n=new dy([...e.providers,{provide:ua,useValue:this},{provide:fh,useValue:this.componentFactoryResolver}],e.parent||ah(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function l_(t,e,n=null){return new PN({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}let BW=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n.id)){const r=Hx(0,n.type),i=r.length>0?l_([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n.id,i)}return this.cachedInjectors.get(n.id)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}}return t.\u0275prov=G({token:t,providedIn:"environment",factory:()=>new t(B(ei))}),t})();function ON(t){t.getStandaloneInjector=e=>e.get(BW).getOrCreateStandaloneInjector(t)}function h_(t){return e=>{setTimeout(t,void 0,e)}}const en=class h9 extends Gr{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&"object"==typeof e){const u=e;i=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=h_(s),i&&(i=h_(i)),o&&(o=h_(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof Tn&&e.add(a),a}};let tr=(()=>{class t{}return t.__NG_ELEMENT_ID__=D9,t})();function D9(){return function JN(t,e){let n;const r=e[t.index];return hn(r)?n=r:(n=function MR(t,e,n,r){return[t,!0,!1,e,null,0,r,n,null,null,null]}(r,e,null,t),e[t.index]=n,_h(e,n)),ZN(n,e,t,r),new YN(n,t,e)}(Rt(),D())}const T9=tr,YN=class extends T9{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Wo(this._hostTNode,this._hostLView)}get injector(){return new Lo(this._hostTNode,this._hostLView)}get parentInjector(){const e=xm(this._hostTNode,this._hostLView);if(MA(e)){const n=Vd(e,this._hostLView),r=Ud(e);return new Lo(n[N].data[r+8],n)}return new Lo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=XN(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-xt}createEmbeddedView(e,n,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const a=e.createEmbeddedViewImpl(n||{},s,null);return this.insertImpl(a,i,false),a}createComponent(e,n,r,i,s){const o=e&&!function Nu(t){return"function"==typeof t}(e);let a;if(o)a=n;else{const m=n||{};a=m.index,r=m.injector,i=m.projectableNodes,s=m.environmentInjector||m.ngModuleRef}const u=o?e:new Zu(ge(e)),c=r||this.parentInjector;if(!s&&null==u.ngModule){const y=(o?c:this.parentInjector).get(ei,null);y&&(s=y)}ge(u.componentType??{});const f=u.create(c,i,null,s);return this.insertImpl(f.hostView,a,false),f}insert(e,n){return this.insertImpl(e,n,!1)}insertImpl(e,n,r){const i=e._lView,s=i[N];if(function mz(t){return hn(t[Le])}(i)){const u=this.indexOf(e);if(-1!==u)this.detach(u);else{const c=i[Le],l=new YN(c,c[Bt],c[Le]);l.detach(l.indexOf(e))}}const o=this._adjustIndex(n),a=this._lContainer;if(function z4(t,e,n,r){const i=xt+r,s=n.length;r>0&&(n[i-1][Yn]=e),r<s-xt?(e[Yn]=n[i],zA(n,xt+r,e)):(n.push(e),e[Yn]=null),e[Le]=n;const o=e[Cu];null!==o&&n!==o&&function G4(t,e){const n=t[Mo];e[tt]!==e[Le][Le][tt]&&(t[XS]=!0),null===n?t[Mo]=[e]:n.push(e)}(o,e);const a=e[mr];null!==a&&a.insertView(t),e[re]|=128}(s,i,a,o),!r){const u=Xm(o,a),c=i[te],l=eh(c,a[yr]);null!==l&&function $4(t,e,n,r,i,s){r[ct]=i,r[Bt]=e,Vu(t,r,n,1,i,s)}(s,a[Bt],c,i,l,u)}return e.attachToViewContainerRef(),zA(g_(a),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=XN(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=Wm(this._lContainer,n);r&&(zd(g_(this._lContainer),n),fx(r[N],r))}detach(e){const n=this._adjustIndex(e,-1),r=Wm(this._lContainer,n);return r&&null!=zd(g_(this._lContainer),n)?new Ju(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function XN(t){return t[Sd]}function g_(t){return t[Sd]||(t[Sd]=[])}let ZN=function ek(t,e,n,r){if(t[yr])return;let i;i=8&n.type?Ae(r):function b9(t,e){const n=t[te],r=n.createComment(""),i=fn(e,t);return bs(n,eh(n,i),r,function Q4(t,e){return t.nextSibling(e)}(n,i),!1),r}(e,n),t[yr]=i};const C_=new U("Application Initializer");let S_=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=L(C_,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n=[];for(const i of this.appInits){const s=i();if(Sh(s))n.push(s);else if(cM(s)){const o=new Promise((a,u)=>{s.subscribe({complete:a,error:u})});n.push(o)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),bk=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();const si=new U("LocaleId",{providedIn:"root",factory:()=>L(si,$.Optional|$.SkipSelf)||function n5(){return typeof $localize<"u"&&$localize.locale||aa}()});class i5{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let Ck=(()=>{class t{compileModuleSync(n){return new c_(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),s=ti(Sn(n).declarations).reduce((o,a)=>{const u=ge(a);return u&&o.push(new Zu(u)),o},[]);return new i5(r,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const a5=(()=>Promise.resolve(0))();function A_(t){typeof Zone>"u"?a5.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}function xk(...t){}class ve{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new en(!1),this.onMicrotaskEmpty=new en(!1),this.onStable=new en(!1),this.onError=new en(!1),typeof Zone>"u")throw new S(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function u5(){let t=be.requestAnimationFrame,e=be.cancelAnimationFrame;if(typeof Zone<"u"&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function d5(t){const e=()=>{!function l5(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(be,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,R_(t),t.isCheckStableRunning=!0,x_(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),R_(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{try{return Rk(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),Mk(t)}},onInvoke:(n,r,i,s,o,a,u)=>{try{return Rk(t),n.invoke(i,s,o,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),Mk(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&("microTask"==s.change?(t._hasPendingMicrotasks=s.microTask,R_(t),x_(t)):"macroTask"==s.change&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ve.isInAngularZone())throw new S(909,!1)}static assertNotInAngularZone(){if(ve.isInAngularZone())throw new S(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,c5,xk,xk);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const c5={};function x_(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function R_(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function Rk(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Mk(t){t._nesting--,x_(t)}class h5{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new en,this.onMicrotaskEmpty=new en,this.onStable=new en,this.onError=new en}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}const Nk=new U("",{providedIn:"root",factory:kk});function kk(){const t=L(ve);let e=!0;return function gH(...t){const e=vu(t),n=function uH(t,e){return"number"==typeof Yg(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?Wn(r[0]):To(n)(At(r,e)):pr}(new je(i=>{e=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{i.next(e),i.complete()})}),new je(i=>{let s;t.runOutsideAngular(()=>{s=t.onStable.subscribe(()=>{ve.assertNotInAngularZone(),A_(()=>{!e&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(e=!0,i.next(!0))})})});const o=t.onUnstable.subscribe(()=>{ve.assertInAngularZone(),e&&(e=!1,t.runOutsideAngular(()=>{i.next(!1)}))});return()=>{s.unsubscribe(),o.unsubscribe()}}).pipe(function mH(t={}){const{connector:e=(()=>new Gr),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return s=>{let o,a,u,c=0,l=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),o=u=void 0,l=d=!1},p=()=>{const m=o;f(),m?.unsubscribe()};return bt((m,y)=>{c++,!d&&!l&&h();const v=u=u??e();y.add(()=>{c--,0===c&&!d&&!l&&(a=Xg(p,i))}),v.subscribe(y),!o&&c>0&&(o=new _u({next:_=>v.next(_),error:_=>{d=!0,h(),a=Xg(f,n,_),v.error(_)},complete:()=>{l=!0,h(),a=Xg(f,r),v.complete()}}),Wn(m).subscribe(o))})(s)}}()))}const Pk=new U(""),Lh=new U("");let k_,M_=(()=>{class t{constructor(n,r,i){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,k_||(function f5(t){k_=t}(i),i.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ve.assertNotInAngularZone(),A_(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())A_(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:s,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,i){return[]}}return t.\u0275fac=function(n){return new(n||t)(B(ve),B(N_),B(Lh))},t.\u0275prov=G({token:t,factory:t.\u0275fac}),t})(),N_=(()=>{class t{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return k_?.findTestabilityInTree(this,n,r)??null}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})(),Vi=null;const Ok=new U("AllowMultipleToken"),P_=new U("PlatformDestroyListeners"),O_=new U("appBootstrapListener");class Fk{constructor(e,n){this.name=e,this.token=n}}function Vk(t,e,n=[]){const r=`Platform: ${e}`,i=new U(r);return(s=[])=>{let o=L_();if(!o||o.injector.get(Ok,!1)){const a=[...n,...s,{provide:i,useValue:!0}];t?t(a):function m5(t){if(Vi&&!Vi.get(Ok,!1))throw new S(400,!1);(function Lk(){!function sz(t){rA=t}(()=>{throw new S(600,!1)})})(),Vi=t;const e=t.get($k);(function Uk(t){t.get(Kx,null)?.forEach(n=>n())})(t)}(function Bk(t=[],e){return Rn.create({name:e,providers:[{provide:cy,useValue:"platform"},{provide:P_,useValue:new Set([()=>Vi=null])},...t]})}(a,r))}return function _5(t){const e=L_();if(!e)throw new S(401,!1);return e}()}}function L_(){return Vi?.get($k)??null}let $k=(()=>{class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const i=function v5(t="zone.js",e){return"noop"===t?new h5:"zone.js"===t?new ve(e):t}(r?.ngZone,function jk(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return i.run(()=>{const s=function VW(t,e,n){return new u_(t,e,n)}(n.moduleType,this.injector,function Wk(t){return[{provide:ve,useFactory:t},{provide:zu,multi:!0,useFactory:()=>{const e=L(I5,{optional:!0});return()=>e.initialize()}},{provide:qk,useFactory:w5},{provide:Nk,useFactory:kk}]}(()=>i)),o=s.injector.get(Ss,null);return i.runOutsideAngular(()=>{const a=i.onError.subscribe({next:u=>{o.handleError(u)}});s.onDestroy(()=>{Fh(this._modules,s),a.unsubscribe()})}),function Hk(t,e,n){try{const r=n();return Sh(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(o,i,()=>{const a=s.injector.get(S_);return a.runInitializers(),a.donePromise.then(()=>(function uN(t){Fn(t,"Expected localeId to be defined"),"string"==typeof t&&(aN=t.toLowerCase().replace(/_/g,"-"))}(s.injector.get(si,aa)||aa),this._moduleDoBootstrap(s),s))})})}bootstrapModule(n,r=[]){const i=zk({},r);return function p5(t,e,n){const r=new c_(n);return Promise.resolve(r)}(0,0,n).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(n){const r=n.injector.get(da);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new S(-403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new S(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(P_,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(n){return new(n||t)(B(Rn))},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();function zk(t,e){return Array.isArray(e)?e.reduce(zk,t):{...t,...e}}let da=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=L(qk),this.componentTypes=[],this.components=[],this.isStable=L(Nk),this._injector=L(ei)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){const i=n instanceof tR;if(!this._injector.get(S_).done)throw!i&&function Co(t){const e=ge(t)||Vt(t)||dn(t);return null!==e&&e.standalone}(n),new S(405,!1);let o;o=i?n:this._injector.get(fh).resolveComponentFactory(n),this.componentTypes.push(o.componentType);const a=function g5(t){return t.isBoundToModule}(o)?void 0:this._injector.get(ua),c=o.create(Rn.NULL,[],r||o.selector,a),l=c.location.nativeElement,d=c.injector.get(Pk,null);return d?.registerApplication(l),c.onDestroy(()=>{this.detachView(c.hostView),Fh(this.components,c),d?.unregisterApplication(l)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new S(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this.internalErrorHandler(n)}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;Fh(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(O_,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Fh(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new S(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Fh(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const qk=new U("",{providedIn:"root",factory:()=>L(Ss).handleError.bind(void 0)});function w5(){const t=L(ve),e=L(Ss);return n=>t.runOutsideAngular(()=>e.handleError(n))}let I5=(()=>{class t{constructor(){this.zone=L(ve),this.applicationRef=L(da)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();let F_=(()=>{class t{}return t.__NG_ELEMENT_ID__=D5,t})();function D5(t){return function T5(t,e,n){if(ws(t)&&!n){const r=pn(t.index,e);return new Ju(r,r)}return 47&t.type?new Ju(e[tt],e):null}(Rt(),D(),16==(16&t))}const F5=Vk(null,"core",[]);let U5=(()=>{class t{constructor(n){}}return t.\u0275fac=function(n){return new(n||t)(B(da))},t.\u0275mod=Qn({type:t}),t.\u0275inj=Un({}),t})(),u1=(()=>{class t{get whenAllTasksComplete(){return 0===this.collection.size&&this.complete(),this.promise}constructor(){this.taskId=0,this.collection=new Set,this.ngZone=L(ve),this.completed=!1,this.ngZone.runOutsideAngular(()=>{this.promise=new Promise(n=>{this.resolve=n})})}add(){if(this.completed)return-1;const n=this.taskId++;return this.collection.add(n),n}remove(n){this.completed||(this.collection.delete(n),0===this.collection.size&&this.complete())}ngOnDestroy(){this.complete(),this.collection.clear()}complete(){this.completed=!0,this.resolve()}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),G_=null;function ha(){return G_}class Y5{}const $n=new U("DocumentToken");let q_=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=G({token:t,factory:function(){return L(J5)},providedIn:"platform"}),t})();const X5=new U("Location Initialized");let J5=(()=>{class t extends q_{constructor(){super(),this._doc=L($n),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ha().getBaseHref(this._doc)}onPopState(n){const r=ha().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=ha().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=G({token:t,factory:function(){return new t},providedIn:"platform"}),t})();function W_(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function l1(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function oi(t){return t&&"?"!==t[0]?"?"+t:t}let Ns=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=G({token:t,factory:function(){return L(h1)},providedIn:"root"}),t})();const d1=new U("appBaseHref");let h1=(()=>{class t extends Ns{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??L($n).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return W_(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+oi(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,s){const o=this.prepareExternalUrl(i+oi(s));this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){const o=this.prepareExternalUrl(i+oi(s));this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return t.\u0275fac=function(n){return new(n||t)(B(q_),B(d1,8))},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Z5=(()=>{class t extends Ns{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=W_(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+oi(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+oi(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return t.\u0275fac=function(n){return new(n||t)(B(q_),B(d1,8))},t.\u0275prov=G({token:t,factory:t.\u0275fac}),t})(),K_=(()=>{class t{constructor(n){this._subject=new en,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._basePath=function n7(t){if(new RegExp("^(https?:)?//").test(t)){const[,n]=t.split(/\/\/[^\/]+/);return n}return t}(l1(f1(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+oi(r))}normalize(n){return t.stripTrailingSlash(function t7(t,e){if(!t||!e.startsWith(t))return e;const n=e.substring(t.length);return""===n||["/",";","?","#"].includes(n[0])?n:e}(this._basePath,f1(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+oi(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+oi(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}}return t.normalizeQueryParams=oi,t.joinWithSlash=W_,t.stripTrailingSlash=l1,t.\u0275fac=function(n){return new(n||t)(B(Ns))},t.\u0275prov=G({token:t,factory:function(){return function e7(){return new K_(B(Ns))}()},providedIn:"root"}),t})();function f1(t){return t.replace(/\/index.html$/,"")}let m8=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Qn({type:t}),t.\u0275inj=Un({}),t})();function x1(t){return"server"===t}let w8=(()=>{class t{}return t.\u0275prov=G({token:t,providedIn:"root",factory:()=>new I8(B($n),window)}),t})();class I8{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const n=function E8(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&"function"==typeof t.body.attachShadow){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const n=this.window.history;n&&n.scrollRestoration&&(n.scrollRestoration=e)}}scrollToElement(e){const n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=R1(this.window.history)||R1(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function R1(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class Y8 extends Y5{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class dv extends Y8{static makeCurrent(){!function Q5(t){G_||(G_=t)}(new dv)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function X8(){return _c=_c||document.querySelector("base"),_c?_c.getAttribute("href"):null}();return null==n?null:function J8(t){ef=ef||document.createElement("a"),ef.setAttribute("href",t);const e=ef.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){_c=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function V7(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,s]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let ef,_c=null,eK=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=G({token:t,factory:t.\u0275fac}),t})();const hv=new U("EventManagerPlugins");let O1=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(s=>s.supports(n)),!r)throw new S(5101,!1);return this._eventNameToPlugin.set(n,r),r}}return t.\u0275fac=function(n){return new(n||t)(B(hv),B(ve))},t.\u0275prov=G({token:t,factory:t.\u0275fac}),t})();class L1{constructor(e){this._doc=e}}const fv="ng-app-id";let F1=(()=>{class t{constructor(n,r,i,s={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=x1(s),this.resetHostNodes()}addStyles(n){for(const r of n)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(n){for(const r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(const r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){const r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){const n=this.doc.head?.querySelectorAll(`style[${fv}="${this.appId}"]`);if(n?.length){const r=new Map;return n.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){const i=this.styleRef;if(i.has(n)){const s=i.get(n);return s.usage+=r,s.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){const i=this.styleNodesInDOM,s=i?.get(r);if(s?.parentNode===n)return i.delete(r),s.removeAttribute(fv),s;{const o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=r,this.platformIsServer&&o.setAttribute(fv,this.appId),o}}addStyleToHost(n,r){const i=this.getStyleElement(n,r);n.appendChild(i);const s=this.styleRef,o=s.get(r)?.elements;o?o.push(i):s.set(r,{elements:[i],usage:1})}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}}return t.\u0275fac=function(n){return new(n||t)(B($n),B(uh),B(Qx,8),B(Li))},t.\u0275prov=G({token:t,factory:t.\u0275fac}),t})();const pv={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},gv=/%COMP%/g,iK=new U("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function V1(t,e){return e.map(n=>n.replace(gv,t))}let B1=(()=>{class t{constructor(n,r,i,s,o,a,u,c=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestory=s,this.doc=o,this.platformId=a,this.ngZone=u,this.nonce=c,this.rendererByCompId=new Map,this.platformIsServer=x1(a),this.defaultRenderer=new mv(n,o,u,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Cn.ShadowDom&&(r={...r,encapsulation:Cn.Emulated});const i=this.getOrCreateRenderer(n,r);return i instanceof j1?i.applyToHost(n):i instanceof yv&&i.applyStyles(),i}getOrCreateRenderer(n,r){const i=this.rendererByCompId;let s=i.get(r.id);if(!s){const o=this.doc,a=this.ngZone,u=this.eventManager,c=this.sharedStylesHost,l=this.removeStylesOnCompDestory,d=this.platformIsServer;switch(r.encapsulation){case Cn.Emulated:s=new j1(u,c,r,this.appId,l,o,a,d);break;case Cn.ShadowDom:return new uK(u,c,n,r,o,a,this.nonce,d);default:s=new yv(u,c,r,l,o,a,d)}s.onDestroy=()=>i.delete(r.id),i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}}return t.\u0275fac=function(n){return new(n||t)(B(O1),B(F1),B(uh),B(iK),B($n),B(Li),B(ve),B(Qx))},t.\u0275prov=G({token:t,factory:t.\u0275fac}),t})();class mv{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(pv[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){($1(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&($1(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new S(5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const s=pv[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=pv[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(gn.DashCase|gn.Important)?e.style.setProperty(n,r,i&gn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&gn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){if("string"==typeof e&&!(e=ha().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if("__ngUnwrap__"===n)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))&&n.preventDefault()}}}function $1(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class uK extends mv{constructor(e,n,r,i,s,o,a,u){super(e,s,o,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=V1(i.id,i.styles);for(const l of c){const d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=l,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class yv extends mv{constructor(e,n,r,i,s,o,a,u){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestory=i,this.rendererUsageCount=0,this.styles=u?V1(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class j1 extends yv{constructor(e,n,r,i,s,o,a,u){const c=i+"-"+r.id;super(e,n,r,s,o,a,u,c),this.contentAttr=function sK(t){return"_ngcontent-%COMP%".replace(gv,t)}(c),this.hostAttr=function oK(t){return"_nghost-%COMP%".replace(gv,t)}(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}let cK=(()=>{class t extends L1{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}}return t.\u0275fac=function(n){return new(n||t)(B($n))},t.\u0275prov=G({token:t,factory:t.\u0275fac}),t})();const H1=["alt","control","meta","shift"],lK={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},dK={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let hK=(()=>{class t extends L1{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,r,i){const s=t.parseEventName(r),o=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ha().onAndCancel(n,s.domEventName,o))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=t._normalizeKey(r.pop());let o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),H1.forEach(c=>{const l=r.indexOf(c);l>-1&&(r.splice(l,1),o+=c+".")}),o+=s,0!=r.length||0===s.length)return null;const u={};return u.domEventName=i,u.fullKey=o,u}static matchEventFullKeyCode(n,r){let i=lK[n.key]||n.key,s="";return r.indexOf("code.")>-1&&(i=n.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),H1.forEach(o=>{o!==i&&(0,dK[o])(n)&&(s+=o+".")}),s+=i,s===r)}static eventCallback(n,r,i){return s=>{t.matchEventFullKeyCode(s,n)&&i.runGuarded(()=>r(s))}}static _normalizeKey(n){return"esc"===n?"escape":n}}return t.\u0275fac=function(n){return new(n||t)(B($n))},t.\u0275prov=G({token:t,factory:t.\u0275fac}),t})();const G1=[{provide:Li,useValue:"browser"},{provide:Kx,useValue:function fK(){dv.makeCurrent()},multi:!0},{provide:$n,useFactory:function gK(){return function rG(t){ey=t}(document),document},deps:[]}],mK=Vk(F5,"browser",G1),yK=new U(""),q1=[{provide:Lh,useClass:class Z8{addToWindow(e){be.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new S(5103,!1);return s},be.getAllAngularTestabilities=()=>e.getAllTestabilities(),be.getAllAngularRootElements=()=>e.getAllRootElements(),be.frameworkStabilizers||(be.frameworkStabilizers=[]),be.frameworkStabilizers.push(r=>{const i=be.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(u){o=o||u,s--,0==s&&r(o)};i.forEach(function(u){u.whenStable(a)})})}findTestabilityInTree(e,n,r){return null==n?null:e.getTestability(n)??(r?ha().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},deps:[]},{provide:Pk,useClass:M_,deps:[ve,N_,Lh]},{provide:M_,useClass:M_,deps:[ve,N_,Lh]}],W1=[{provide:cy,useValue:"root"},{provide:Ss,useFactory:function pK(){return new Ss},deps:[]},{provide:hv,useClass:cK,multi:!0,deps:[$n,ve,Li]},{provide:hv,useClass:hK,multi:!0,deps:[$n]},B1,F1,O1,{provide:rR,useExisting:B1},{provide:class D8{},useClass:eK,deps:[]},[]];let _K=(()=>{class t{constructor(n){}static withServerTransition(n){return{ngModule:t,providers:[{provide:uh,useValue:n.appId}]}}}return t.\u0275fac=function(n){return new(n||t)(B(yK,12))},t.\u0275mod=Qn({type:t}),t.\u0275inj=Un({providers:[...W1,...q1],imports:[m8,U5]}),t})(),K1=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}}return t.\u0275fac=function(n){return new(n||t)(B($n))},t.\u0275prov=G({token:t,factory:function(n){let r=null;return r=n?new n:function wK(){return new K1(B($n))}(),r},providedIn:"root"}),t})();function Z(...t){return At(t,vu(t))}typeof window<"u"&&window;class sr extends Gr{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const{isArray:CK}=Array,{getPrototypeOf:SK,prototype:AK,keys:xK}=Object;const{isArray:NK}=Array;function vv(...t){const e=vu(t),n=function aH(t){return De(Yg(t))?t.pop():void 0}(t),{args:r,keys:i}=function RK(t){if(1===t.length){const e=t[0];if(CK(e))return{args:e,keys:null};if(function MK(t){return t&&"object"==typeof t&&SK(t)===AK}(e)){const n=xK(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}(t);if(0===r.length)return At([],e);const s=new je(function LK(t,e,n=ys){return r=>{J1(e,()=>{const{length:i}=t,s=new Array(i);let o=i,a=i;for(let u=0;u<i;u++)J1(e,()=>{const c=At(t[u],e);let l=!1;c.subscribe(Ct(r,d=>{s[u]=d,l||(l=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>function OK(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}(i,o):ys));return n?s.pipe(function PK(t){return Te(e=>function kK(t,e){return NK(e)?t(...e):t(e)}(t,e))}(n)):s}function J1(t,e,n){t?qr(n,t,e):e()}const tf=yu(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function wv(...t){return function FK(){return To(1)}()(At(t,vu(t)))}function Z1(t){return new je(e=>{Wn(t()).subscribe(e)})}function vc(t,e){const n=De(t)?t:()=>t,r=i=>i.error(n());return new je(e?i=>e.schedule(r,0,i):r)}function Iv(){return bt((t,e)=>{let n=null;t._refCount++;const r=Ct(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class eP extends je{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,hS(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Tn;const n=this.getSubject();e.add(this.source.subscribe(Ct(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Tn.EMPTY)}return e}refCount(){return Iv()(this)}}function ui(t,e){return bt((n,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();n.subscribe(Ct(r,u=>{i?.unsubscribe();let c=0;const l=s++;Wn(t(u,l)).subscribe(i=Ct(r,d=>r.next(e?e(u,d,l,c++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function fa(t){return t<=0?()=>pr:bt((e,n)=>{let r=0;e.subscribe(Ct(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function $i(t,e){return bt((n,r)=>{let i=0;n.subscribe(Ct(r,s=>t.call(e,s,i++)&&r.next(s)))})}function nf(t){return bt((e,n)=>{let r=!1;e.subscribe(Ct(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function tP(t=VK){return bt((e,n)=>{let r=!1;e.subscribe(Ct(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function VK(){return new tf}function ks(t,e){const n=arguments.length>=2;return r=>r.pipe(t?$i((i,s)=>t(i,s,r)):ys,fa(1),n?nf(e):tP(()=>new tf))}function wc(t,e){return De(e)?St(t,e,1):St(t,1)}function Ht(t,e,n){const r=De(t)||e||n?{next:t,error:e,complete:n}:t;return r?bt((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(Ct(s,u=>{var c;null===(c=r.next)||void 0===c||c.call(r,u),s.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),s.complete()},u=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,u),s.error(u)},()=>{var u,c;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):ys}function Ps(t){return bt((e,n)=>{let s,r=null,i=!1;r=e.subscribe(Ct(n,void 0,void 0,o=>{s=Wn(t(o,Ps(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function Ev(t){return t<=0?()=>pr:bt((e,n)=>{let r=[];e.subscribe(Ct(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Dv(t){return bt((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}const ie="primary",Ic=Symbol("RouteTitle");class zK{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function pa(t){return new zK(t)}function GK(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Sr(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!nP(t[i],e[i]))return!1;return!0}function nP(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}return t===e}function rP(t){return t.length>0?t[t.length-1]:null}function ji(t){return function bK(t){return!!t&&(t instanceof je||De(t.lift)&&De(t.subscribe))}(t)?t:Sh(t)?At(Promise.resolve(t)):Z(t)}const WK={exact:function oP(t,e,n){if(!Os(t.segments,e.segments)||!rf(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!oP(t.children[r],e.children[r],n))return!1;return!0},subset:aP},iP={exact:function KK(t,e){return Sr(t,e)},subset:function QK(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>nP(t[n],e[n]))},ignored:()=>!0};function sP(t,e,n){return WK[n.paths](t.root,e.root,n.matrixParams)&&iP[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function aP(t,e,n){return uP(t,e,e.segments,n)}function uP(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!Os(i,n)||e.hasChildren()||!rf(i,n,r))}if(t.segments.length===n.length){if(!Os(t.segments,n)||!rf(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!aP(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!!(Os(t.segments,i)&&rf(t.segments,i,r)&&t.children[ie])&&uP(t.children[ie],e,s,r)}}function rf(t,e,n){return e.every((r,i)=>iP[n](t[i].parameters,r.parameters))}class ga{constructor(e=new we([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=pa(this.queryParams)),this._queryParamMap}toString(){return JK.serialize(this)}}class we{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return sf(this)}}class Ec{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=pa(this.parameters)),this._parameterMap}toString(){return dP(this)}}function Os(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}let Dc=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=G({token:t,factory:function(){return new Tv},providedIn:"root"}),t})();class Tv{parse(e){const n=new cQ(e);return new ga(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${Tc(e.root,!0)}`,r=function tQ(t){const e=Object.keys(t).map(n=>{const r=t[n];return Array.isArray(r)?r.map(i=>`${af(n)}=${af(i)}`).join("&"):`${af(n)}=${af(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${n}${r}${"string"==typeof e.fragment?`#${function ZK(t){return encodeURI(t)}(e.fragment)}`:""}`}}const JK=new Tv;function sf(t){return t.segments.map(e=>dP(e)).join("/")}function Tc(t,e){if(!t.hasChildren())return sf(t);if(e){const n=t.children[ie]?Tc(t.children[ie],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==ie&&r.push(`${i}:${Tc(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function XK(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===ie&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==ie&&(n=n.concat(e(i,r)))}),n}(t,(r,i)=>i===ie?[Tc(t.children[ie],!1)]:[`${i}:${Tc(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[ie]?`${sf(t)}/${n[0]}`:`${sf(t)}/(${n.join("//")})`}}function cP(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function af(t){return cP(t).replace(/%3B/gi,";")}function bv(t){return cP(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function uf(t){return decodeURIComponent(t)}function lP(t){return uf(t.replace(/\+/g,"%20"))}function dP(t){return`${bv(t.path)}${function eQ(t){return Object.keys(t).map(e=>`;${bv(e)}=${bv(t[e])}`).join("")}(t.parameters)}`}const nQ=/^[^\/()?;#]+/;function Cv(t){const e=t.match(nQ);return e?e[0]:""}const rQ=/^[^\/()?;=#]+/,sQ=/^[^=?&#]+/,aQ=/^[^&#]+/;class cQ{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new we([],{}):new we([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[ie]=new we(e,n)),r}parseSegment(){const e=Cv(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new S(4009,!1);return this.capture(e),new Ec(uf(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=function iQ(t){const e=t.match(rQ);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=Cv(this.remaining);i&&(r=i,this.capture(r))}e[uf(n)]=uf(r)}parseQueryParam(e){const n=function oQ(t){const e=t.match(sQ);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const o=function uQ(t){const e=t.match(aQ);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=lP(n),s=lP(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Cv(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new S(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=ie);const o=this.parseChildren();n[s]=1===Object.keys(o).length?o[ie]:new we([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new S(4011,!1)}}function hP(t){return t.segments.length>0?new we([],{[ie]:t}):t}function fP(t){const e={};for(const r of Object.keys(t.children)){const s=fP(t.children[r]);if(r===ie&&0===s.segments.length&&s.hasChildren())for(const[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function lQ(t){if(1===t.numberOfChildren&&t.children[ie]){const e=t.children[ie];return new we(t.segments.concat(e.segments),e.children)}return t}(new we(t.segments,e))}function Ls(t){return t instanceof ga}function pP(t){let e;const i=hP(function n(s){const o={};for(const u of s.children){const c=n(u);o[u.outlet]=c}const a=new we(s.url,o);return s===t&&(e=a),a}(t.root));return e??i}function gP(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(0===e.length)return Sv(i,i,i,n,r);const s=function hQ(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new yP(!0,0,t);let e=0,n=!1;const r=t.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Object.entries(s.outlets).forEach(([u,c])=>{a[u]="string"==typeof c?c.split("/"):c}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,u)=>{0==u&&"."===a||(0==u&&""===a?n=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new yP(n,e,r)}(e);if(s.toRoot())return Sv(i,i,new we([],{}),n,r);const o=function fQ(t,e,n){if(t.isAbsolute)return new lf(e,!0,0);if(!n)return new lf(e,!1,NaN);if(null===n.parent)return new lf(n,!0,0);const r=cf(t.commands[0])?0:1;return function pQ(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new S(4005,!1);i=r.segments.length}return new lf(r,!1,i-s)}(n,n.segments.length-1+r,t.numberOfDoubleDots)}(s,i,t),a=o.processChildren?Cc(o.segmentGroup,o.index,s.commands):_P(o.segmentGroup,o.index,s.commands);return Sv(i,o.segmentGroup,a,n,r)}function cf(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function bc(t){return"object"==typeof t&&null!=t&&t.outlets}function Sv(t,e,n,r,i){let o,s={};r&&Object.entries(r).forEach(([u,c])=>{s[u]=Array.isArray(c)?c.map(l=>`${l}`):`${c}`}),o=t===e?n:mP(t,e,n);const a=hP(fP(o));return new ga(a,s,i)}function mP(t,e,n){const r={};return Object.entries(t.children).forEach(([i,s])=>{r[i]=s===e?n:mP(s,e,n)}),new we(t.segments,r)}class yP{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&cf(r[0]))throw new S(4003,!1);const i=r.find(bc);if(i&&i!==rP(r))throw new S(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class lf{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function _P(t,e,n){if(t||(t=new we([],{})),0===t.segments.length&&t.hasChildren())return Cc(t,e,n);const r=function mQ(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const o=t.segments[i],a=n[r];if(bc(a))break;const u=`${a}`,c=r<n.length-1?n[r+1]:null;if(i>0&&void 0===u)break;if(u&&c&&"object"==typeof c&&void 0===c.outlets){if(!wP(u,c,o))return s;r+=2}else{if(!wP(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const s=new we(t.segments.slice(0,r.pathIndex),{});return s.children[ie]=new we(t.segments.slice(r.pathIndex),t.children),Cc(s,0,i)}return r.match&&0===i.length?new we(t.segments,{}):r.match&&!t.hasChildren()?Av(t,e,n):r.match?Cc(t,0,i):Av(t,e,n)}function Cc(t,e,n){if(0===n.length)return new we(t.segments,{});{const r=function gQ(t){return bc(t[0])?t[0].outlets:{[ie]:t}}(n),i={};if(!r[ie]&&t.children[ie]&&1===t.numberOfChildren&&0===t.children[ie].segments.length){const s=Cc(t.children[ie],e,n);return new we(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{"string"==typeof o&&(o=[o]),null!==o&&(i[s]=_P(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{void 0===r[s]&&(i[s]=o)}),new we(t.segments,i)}}function Av(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const s=n[i];if(bc(s)){const u=yQ(s.outlets);return new we(r,u)}if(0===i&&cf(n[0])){r.push(new Ec(t.segments[e].path,vP(n[0]))),i++;continue}const o=bc(s)?s.outlets[ie]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&cf(a)?(r.push(new Ec(o,vP(a))),i+=2):(r.push(new Ec(o,{})),i++)}return new we(r,{})}function yQ(t){const e={};return Object.entries(t).forEach(([n,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[n]=Av(new we([],{}),0,r))}),e}function vP(t){const e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function wP(t,e,n){return t==n.path&&Sr(e,n.parameters)}const Sc="imperative";class Ar{constructor(e,n){this.id=e,this.url=n}}class xv extends Ar{constructor(e,n,r="imperative",i=null){super(e,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Fs extends Ar{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class df extends Ar{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ac extends Ar{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=16}}class Rv extends Ar{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class _Q extends Ar{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class vQ extends Ar{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class wQ extends Ar{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class IQ extends Ar{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class EQ extends Ar{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class DQ{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class TQ{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class bQ{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class CQ{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class SQ{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class AQ{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class IP{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class xQ{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new xc,this.attachRef=null}}let xc=(()=>{class t{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){const i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new xQ,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class EP{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=Mv(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=Mv(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=Nv(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Nv(e,this._root).map(n=>n.value)}}function Mv(t,e){if(t===e.value)return e;for(const n of e.children){const r=Mv(t,n);if(r)return r}return null}function Nv(t,e){if(t===e.value)return[e];for(const n of e.children){const r=Nv(t,n);if(r.length)return r.unshift(e),r}return[]}class ci{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function ma(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class DP extends EP{constructor(e,n){super(e),this.snapshot=n,kv(this,e)}toString(){return this.snapshot.toString()}}function TP(t,e){const n=function RQ(t,e){const o=new hf([],{},{},"",{},ie,e,null,{});return new CP("",new ci(o,[]))}(0,e),r=new sr([new Ec("",{})]),i=new sr({}),s=new sr({}),o=new sr({}),a=new sr(""),u=new ya(r,i,o,a,s,ie,e,n.root);return u.snapshot=n.root,new DP(new ci(u,[]),n)}class ya{constructor(e,n,r,i,s,o,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(Te(c=>c[Ic]))??Z(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Te(e=>pa(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Te(e=>pa(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function bP(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const i=n[r],s=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function MQ(t){return t.reduce((e,n)=>({params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class hf{get title(){return this.data?.[Ic]}constructor(e,n,r,i,s,o,a,u,c){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=u,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=pa(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=pa(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class CP extends EP{constructor(e,n){super(n),this.url=e,kv(this,n)}toString(){return SP(this._root)}}function kv(t,e){e.value._routerState=t,e.children.forEach(n=>kv(t,n))}function SP(t){const e=t.children.length>0?` { ${t.children.map(SP).join(", ")} } `:"";return`${t.value}${e}`}function Pv(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Sr(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Sr(e.params,n.params)||t.paramsSubject.next(n.params),function qK(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Sr(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.urlSubject.next(n.url),Sr(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Ov(t,e){const n=Sr(t.params,e.params)&&function YK(t,e){return Os(t,e)&&t.every((n,r)=>Sr(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||Ov(t.parent,e.parent))}let Lv=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=ie,this.activateEvents=new en,this.deactivateEvents=new en,this.attachEvents=new en,this.detachEvents=new en,this.parentContexts=L(xc),this.location=L(tr),this.changeDetector=L(F_),this.environmentInjector=L(ei),this.inputBinder=L(ff,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){const{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new S(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new S(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new S(4012,!1);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new S(4013,!1);this._activatedRoute=n;const i=this.location,o=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new NQ(n,a,i.injector);this.activated=i.createComponent(o,{index:i.length,injector:u,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=Yt({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Es]}),t})();class NQ{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===ya?this.route:e===xc?this.childContexts:this.parent.get(e,n)}}const ff=new U("");let AP=(()=>{class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){const{activatedRoute:r}=n,i=vv([r.queryParams,r.params,r.data]).pipe(ui(([s,o,a],u)=>(a={...s,...o,...a},0===u?Z(a):Promise.resolve(a)))).subscribe(s=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(n);const o=function K5(t){const e=ge(t);if(!e)return null;const n=new Zu(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone}}}(r.component);if(o)for(const{templateName:a}of o.inputs)n.activatedComponentRef.setInput(a,s[a]);else this.unsubscribeFromRouteData(n)});this.outletDataSubscriptions.set(n,i)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=G({token:t,factory:t.\u0275fac}),t})();function Rc(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function PQ(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Rc(t,r,i);return Rc(t,r)})}(t,e,n);return new ci(r,i)}{if(t.shouldAttach(e.value)){const s=t.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Rc(t,a)),o}}const r=function OQ(t){return new ya(new sr(t.url),new sr(t.params),new sr(t.queryParams),new sr(t.fragment),new sr(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(s=>Rc(t,s));return new ci(r,i)}}const Fv="ngNavigationCancelingError";function xP(t,e){const{redirectTo:n,navigationBehaviorOptions:r}=Ls(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=RP(!1,0,e);return i.url=n,i.navigationBehaviorOptions=r,i}function RP(t,e,n){const r=new Error("NavigationCancelingError: "+(t||""));return r[Fv]=!0,r.cancellationCode=e,n&&(r.url=n),r}function MP(t){return NP(t)&&Ls(t.url)}function NP(t){return t&&t[Fv]}let kP=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=Tu({type:t,selectors:[["ng-component"]],standalone:!0,features:[ON],decls:1,vars:0,template:function(n,r){1&n&&Tr(0,"router-outlet")},dependencies:[Lv],encapsulation:2}),t})();function Uv(t){const e=t.children&&t.children.map(Uv),n=e?{...t,children:e}:{...t};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==ie&&(n.component=kP),n}function or(t){return t.outlet||ie}function Mc(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class jQ{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Pv(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=ma(n);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=ma(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=ma(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){const i=ma(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new AQ(s.value.snapshot))}),e.children.length&&this.forwardEvent(new CQ(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(Pv(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),Pv(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=Mc(i.snapshot);o.attachRef=null,o.route=i,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class PP{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class pf{constructor(e,n){this.component=e,this.route=n}}function HQ(t,e,n){const r=t._root;return Nc(r,e?e._root:null,n,[r.value])}function _a(t,e){const n=Symbol(),r=e.get(t,n);return r===n?"function"!=typeof t||function DH(t){return null!==vd(t)}(t)?e.get(t):t:r}function Nc(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=ma(e);return t.children.forEach(o=>{(function GQ(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const u=function qQ(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Os(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Os(t.url,e.url)||!Sr(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ov(t,e)||!Sr(t.queryParams,e.queryParams);default:return!Ov(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new PP(r)):(s.data=o.data,s._resolvedData=o._resolvedData),Nc(t,e,s.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new pf(a.outlet.component,o))}else o&&kc(e,a,i),i.canActivateChecks.push(new PP(r)),Nc(t,null,s.component?a?a.children:null:n,r,i)})(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>kc(a,n.getContext(o),i)),i}function kc(t,e,n){const r=ma(t),i=t.value;Object.entries(r).forEach(([s,o])=>{kc(o,i.component?e?e.children.getContext(s):null:e,n)}),n.canDeactivateChecks.push(new pf(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Pc(t){return"function"==typeof t}function OP(t){return t instanceof tf||"EmptyError"===t?.name}const gf=Symbol("INITIAL_VALUE");function va(){return ui(t=>vv(t.map(e=>e.pipe(fa(1),function UK(...t){const e=vu(t);return bt((n,r)=>{(e?wv(t,n,e):wv(t,n)).subscribe(r)})}(gf)))).pipe(Te(e=>{for(const n of e)if(!0!==n){if(n===gf)return gf;if(!1===n||n instanceof ga)return n}return!0}),$i(e=>e!==gf),fa(1)))}function LP(t){return function xj(...t){return cS(t)}(Ht(e=>{if(Ls(e))throw xP(0,e)}),Te(e=>!0===e))}class mf{constructor(e){this.segmentGroup=e||null}}class FP{constructor(e){this.urlTree=e}}function wa(t){return vc(new mf(t))}function UP(t){return vc(new FP(t))}class hY{constructor(e,n){this.urlSerializer=e,this.urlTree=n}noMatchError(e){return new S(4002,!1)}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return Z(r);if(i.numberOfChildren>1||!i.children[ie])return vc(new S(4e3,!1));i=i.children[ie]}}applyRedirectCommands(e,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r)}applyRedirectCreateUrlTree(e,n,r,i){const s=this.createSegmentGroup(e,n.root,r,i);return new ga(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return Object.entries(e).forEach(([i,s])=>{if("string"==typeof s&&s.startsWith(":")){const a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){const s=this.createSegments(e,n.segments,r,i);let o={};return Object.entries(n.children).forEach(([a,u])=>{o[a]=this.createSegmentGroup(e,u,r,i)}),new we(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new S(4001,!1);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}const Vv={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function fY(t,e,n,r,i){const s=Bv(t,e,n);return s.matched?(r=function LQ(t,e){return t.providers&&!t._injector&&(t._injector=l_(t.providers,e,`Route: ${t.path}`)),t._injector??e}(e,r),function cY(t,e,n,r){const i=e.canMatch;return i&&0!==i.length?Z(i.map(o=>{const a=_a(o,t);return ji(function JQ(t){return t&&Pc(t.canMatch)}(a)?a.canMatch(e,n):t.runInContext(()=>a(e,n)))})).pipe(va(),LP()):Z(!0)}(r,e,n).pipe(Te(o=>!0===o?s:{...Vv}))):Z(s)}function Bv(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{...Vv}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(e.matcher||GK)(n,t,e);if(!i)return{...Vv};const s={};Object.entries(i.posParams??{}).forEach(([a,u])=>{s[a]=u.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function VP(t,e,n,r){return n.length>0&&function mY(t,e,n){return n.some(r=>yf(t,e,r)&&or(r)!==ie)}(t,n,r)?{segmentGroup:new we(e,gY(r,new we(n,t.children))),slicedSegments:[]}:0===n.length&&function yY(t,e,n){return n.some(r=>yf(t,e,r))}(t,n,r)?{segmentGroup:new we(t.segments,pY(t,0,n,r,t.children)),slicedSegments:n}:{segmentGroup:new we(t.segments,t.children),slicedSegments:n}}function pY(t,e,n,r,i){const s={};for(const o of r)if(yf(t,n,o)&&!i[or(o)]){const a=new we([],{});s[or(o)]=a}return{...i,...s}}function gY(t,e){const n={};n[ie]=e;for(const r of t)if(""===r.path&&or(r)!==ie){const i=new we([],{});n[or(r)]=i}return n}function yf(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}class IY{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new hY(this.urlSerializer,this.urlTree)}noMatchError(e){return new S(4002,!1)}recognize(){const e=VP(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,ie).pipe(Ps(n=>{if(n instanceof FP)return this.allowRedirects=!1,this.urlTree=n.urlTree,this.match(n.urlTree);throw n instanceof mf?this.noMatchError(n):n}),Te(n=>{const r=new hf([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},ie,this.rootComponentType,null,{}),i=new ci(r,n),s=new CP("",i),o=function dQ(t,e,n=null,r=null){return gP(pP(t),e,n,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,ie).pipe(Ps(r=>{throw r instanceof mf?this.noMatchError(r):r}))}inheritParamsAndData(e){const n=e.value,r=bP(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0)}processChildren(e,n,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return At(i).pipe(wc(s=>{const o=r.children[s],a=function BQ(t,e){const n=t.filter(r=>or(r)===e);return n.push(...t.filter(r=>or(r)!==e)),n}(n,s);return this.processSegmentGroup(e,a,o,s)}),function $K(t,e){return bt(function BK(t,e,n,r,i){return(s,o)=>{let a=n,u=e,c=0;s.subscribe(Ct(o,l=>{const d=c++;u=a?t(u,l,d):(a=!0,l),r&&o.next(u)},i&&(()=>{a&&o.next(u),o.complete()})))}}(t,e,arguments.length>=2,!0))}((s,o)=>(s.push(...o),s)),nf(null),function jK(t,e){const n=arguments.length>=2;return r=>r.pipe(t?$i((i,s)=>t(i,s,r)):ys,Ev(1),n?nf(e):tP(()=>new tf))}(),St(s=>{if(null===s)return wa(r);const o=BP(s);return function EY(t){t.sort((e,n)=>e.value.outlet===ie?-1:n.value.outlet===ie?1:e.value.outlet.localeCompare(n.value.outlet))}(o),Z(o)}))}processSegment(e,n,r,i,s,o){return At(n).pipe(wc(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,s,o).pipe(Ps(u=>{if(u instanceof mf)return Z(null);throw u}))),ks(a=>!!a),Ps(a=>{if(OP(a))return function vY(t,e,n){return 0===e.length&&!t.children[n]}(r,i,s)?Z([]):wa(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,s,o,a){return function _Y(t,e,n,r){return!!(or(t)===r||r!==ie&&yf(e,n,t))&&("**"===t.path||Bv(e,t,n).matched)}(r,i,s,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,s,o,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o):wa(i):wa(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,i){const s=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?UP(s):this.applyRedirects.lineralizeSegments(r,s).pipe(St(o=>{const a=new we(o,{});return this.processSegment(e,n,a,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){const{matched:a,consumedSegments:u,remainingSegments:c,positionalParamSegments:l}=Bv(n,i,s);if(!a)return wa(n);const d=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,l);return i.redirectTo.startsWith("/")?UP(d):this.applyRedirects.lineralizeSegments(i,d).pipe(St(h=>this.processSegment(e,r,n,h.concat(c),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s,o){let a;if("**"===r.path){const u=i.length>0?rP(i).parameters:{};a=Z({snapshot:new hf(i,u,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,$P(r),or(r),r.component??r._loadedComponent??null,r,jP(r)),consumedSegments:[],remainingSegments:[]}),n.children={}}else a=fY(n,r,i,e).pipe(Te(({matched:u,consumedSegments:c,remainingSegments:l,parameters:d})=>u?{snapshot:new hf(c,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,$P(r),or(r),r.component??r._loadedComponent??null,r,jP(r)),consumedSegments:c,remainingSegments:l}:null));return a.pipe(ui(u=>null===u?wa(n):this.getChildConfig(e=r._injector??e,r,i).pipe(ui(({routes:c})=>{const l=r._loadedInjector??e,{snapshot:d,consumedSegments:h,remainingSegments:f}=u,{segmentGroup:p,slicedSegments:m}=VP(n,h,f,c);if(0===m.length&&p.hasChildren())return this.processChildren(l,c,p).pipe(Te(v=>null===v?null:[new ci(d,v)]));if(0===c.length&&0===m.length)return Z([new ci(d,[])]);const y=or(r)===s;return this.processSegment(l,c,p,m,y?ie:s,!0).pipe(Te(v=>[new ci(d,v)]))}))))}getChildConfig(e,n,r){return n.children?Z({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?Z({routes:n._loadedRoutes,injector:n._loadedInjector}):function uY(t,e,n,r){const i=e.canLoad;return void 0===i||0===i.length?Z(!0):Z(i.map(o=>{const a=_a(o,t);return ji(function KQ(t){return t&&Pc(t.canLoad)}(a)?a.canLoad(e,n):t.runInContext(()=>a(e,n)))})).pipe(va(),LP())}(e,n,r).pipe(St(i=>i?this.configLoader.loadChildren(e,n).pipe(Ht(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):function dY(t){return vc(RP(!1,3))}())):Z({routes:[],injector:e})}}function DY(t){const e=t.value.routeConfig;return e&&""===e.path}function BP(t){const e=[],n=new Set;for(const r of t){if(!DY(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=BP(r.children);e.push(new ci(r.value,i))}return e.filter(r=>!n.has(r))}function $P(t){return t.data||{}}function jP(t){return t.resolve||{}}function HP(t){return"string"==typeof t.title||null===t.title}function $v(t){return ui(e=>{const n=t(e);return n?At(n).pipe(Te(()=>e)):Z(e)})}const Ia=new U("ROUTES");let jv=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=L(Ck)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return Z(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const r=ji(n.loadComponent()).pipe(Te(zP),Ht(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),Dv(()=>{this.componentLoaders.delete(n)})),i=new eP(r,()=>new Gr).pipe(Iv());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Z({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(Te(a=>{this.onLoadEndListener&&this.onLoadEndListener(r);let u,c;return Array.isArray(a)?c=a:(u=a.create(n).injector,c=u.get(Ia,[],$.Self|$.Optional).flat()),{routes:c.map(Uv),injector:u}}),Dv(()=>{this.childrenLoaders.delete(r)})),o=new eP(s,()=>new Gr).pipe(Iv());return this.childrenLoaders.set(r,o),o}loadModuleFactoryOrRoutes(n){return ji(n()).pipe(Te(zP),St(r=>r instanceof kN||Array.isArray(r)?Z(r):At(this.compiler.compileModuleAsync(r))))}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function zP(t){return function RY(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let _f=(()=>{class t{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Gr,this.configLoader=L(jv),this.environmentInjector=L(ei),this.urlSerializer=L(Dc),this.rootContexts=L(xc),this.inputBindingEnabled=null!==L(ff,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Z(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new TQ(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new DQ(i))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:r})}setupNavigations(n){return this.transitions=new sr({id:0,currentUrlTree:n.currentUrlTree,currentRawUrl:n.currentUrlTree,extractedUrl:n.urlHandlingStrategy.extract(n.currentUrlTree),urlAfterRedirects:n.urlHandlingStrategy.extract(n.currentUrlTree),rawUrl:n.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Sc,restoredState:null,currentSnapshot:n.routerState.snapshot,targetSnapshot:null,currentRouterState:n.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe($i(r=>0!==r.id),Te(r=>({...r,extractedUrl:n.urlHandlingStrategy.extract(r.rawUrl)})),ui(r=>{let i=!1,s=!1;return Z(r).pipe(Ht(o=>{this.currentNavigation={id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),ui(o=>{const a=n.browserUrlTree.toString(),u=!n.navigated||o.extractedUrl.toString()!==a||a!==n.currentUrlTree.toString();if(!u&&"reload"!==(o.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const l="";return this.events.next(new Ac(o.id,n.serializeUrl(r.rawUrl),l,0)),n.rawUrlTree=o.rawUrl,o.resolve(null),pr}if(n.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return GP(o.source)&&(n.browserUrlTree=o.extractedUrl),Z(o).pipe(ui(l=>{const d=this.transitions?.getValue();return this.events.next(new xv(l.id,this.urlSerializer.serialize(l.extractedUrl),l.source,l.restoredState)),d!==this.transitions?.getValue()?pr:Promise.resolve(l)}),function TY(t,e,n,r,i,s){return St(o=>function wY(t,e,n,r,i,s,o="emptyOnly"){return new IY(t,e,n,r,i,o,s).recognize()}(t,e,n,r,o.extractedUrl,i,s).pipe(Te(({state:a,tree:u})=>({...o,targetSnapshot:a,urlAfterRedirects:u}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,n.paramsInheritanceStrategy),Ht(l=>{if(r.targetSnapshot=l.targetSnapshot,r.urlAfterRedirects=l.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:l.urlAfterRedirects},"eager"===n.urlUpdateStrategy){if(!l.extras.skipLocationChange){const h=n.urlHandlingStrategy.merge(l.urlAfterRedirects,l.rawUrl);n.setBrowserUrl(h,l)}n.browserUrlTree=l.urlAfterRedirects}const d=new _Q(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}));if(u&&n.urlHandlingStrategy.shouldProcessUrl(n.rawUrlTree)){const{id:l,extractedUrl:d,source:h,restoredState:f,extras:p}=o,m=new xv(l,this.urlSerializer.serialize(d),h,f);this.events.next(m);const y=TP(0,this.rootComponentType).snapshot;return Z(r={...o,targetSnapshot:y,urlAfterRedirects:d,extras:{...p,skipLocationChange:!1,replaceUrl:!1}})}{const l="";return this.events.next(new Ac(o.id,n.serializeUrl(r.extractedUrl),l,1)),n.rawUrlTree=o.rawUrl,o.resolve(null),pr}}),Ht(o=>{const a=new vQ(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(a)}),Te(o=>r={...o,guards:HQ(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),function eY(t,e){return St(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?Z({...n,guardsResult:!0}):function tY(t,e,n,r){return At(t).pipe(St(i=>function aY(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?Z(s.map(a=>{const u=Mc(e)??i,c=_a(a,u);return ji(function XQ(t){return t&&Pc(t.canDeactivate)}(c)?c.canDeactivate(t,e,n,r):u.runInContext(()=>c(t,e,n,r))).pipe(ks())})).pipe(va()):Z(!0)}(i.component,i.route,n,e,r)),ks(i=>!0!==i,!0))}(o,r,i,t).pipe(St(a=>a&&function WQ(t){return"boolean"==typeof t}(a)?function nY(t,e,n,r){return At(e).pipe(wc(i=>wv(function iY(t,e){return null!==t&&e&&e(new bQ(t)),Z(!0)}(i.route.parent,r),function rY(t,e){return null!==t&&e&&e(new SQ(t)),Z(!0)}(i.route,r),function oY(t,e,n){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function zQ(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(o)).filter(o=>null!==o).map(o=>Z1(()=>Z(o.guards.map(u=>{const c=Mc(o.node)??n,l=_a(u,c);return ji(function YQ(t){return t&&Pc(t.canActivateChild)}(l)?l.canActivateChild(r,t):c.runInContext(()=>l(r,t))).pipe(ks())})).pipe(va())));return Z(s).pipe(va())}(t,i.path,n),function sY(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Z(!0);const i=r.map(s=>Z1(()=>{const o=Mc(e)??n,a=_a(s,o);return ji(function QQ(t){return t&&Pc(t.canActivate)}(a)?a.canActivate(e,t):o.runInContext(()=>a(e,t))).pipe(ks())}));return Z(i).pipe(va())}(t,i.route,n))),ks(i=>!0!==i,!0))}(r,s,t,e):Z(a)),Te(a=>({...n,guardsResult:a})))})}(this.environmentInjector,o=>this.events.next(o)),Ht(o=>{if(r.guardsResult=o.guardsResult,Ls(o.guardsResult))throw xP(0,o.guardsResult);const a=new wQ(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(a)}),$i(o=>!!o.guardsResult||(n.restoreHistory(o),this.cancelNavigationTransition(o,"",3),!1)),$v(o=>{if(o.guards.canActivateChecks.length)return Z(o).pipe(Ht(a=>{const u=new IQ(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}),ui(a=>{let u=!1;return Z(a).pipe(function bY(t,e){return St(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return Z(n);let s=0;return At(i).pipe(wc(o=>function CY(t,e,n,r){const i=t.routeConfig,s=t._resolve;return void 0!==i?.title&&!HP(i)&&(s[Ic]=i.title),function SY(t,e,n,r){const i=function AY(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===i.length)return Z({});const s={};return At(i).pipe(St(o=>function xY(t,e,n,r){const i=Mc(e)??r,s=_a(t,i);return ji(s.resolve?s.resolve(e,n):i.runInContext(()=>s(e,n)))}(t[o],e,n,r).pipe(ks(),Ht(a=>{s[o]=a}))),Ev(1),function HK(t){return Te(()=>t)}(s),Ps(o=>OP(o)?pr:vc(o)))}(s,t,e,r).pipe(Te(o=>(t._resolvedData=o,t.data=bP(t,n).resolve,i&&HP(i)&&(t.data[Ic]=i.title),null)))}(o.route,r,t,e)),Ht(()=>s++),Ev(1),St(o=>s===i.length?Z(n):pr))})}(n.paramsInheritanceStrategy,this.environmentInjector),Ht({next:()=>u=!0,complete:()=>{u||(n.restoreHistory(a),this.cancelNavigationTransition(a,"",2))}}))}),Ht(a=>{const u=new EQ(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}))}),$v(o=>{const a=u=>{const c=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&c.push(this.configLoader.loadComponent(u.routeConfig).pipe(Ht(l=>{u.component=l}),Te(()=>{})));for(const l of u.children)c.push(...a(l));return c};return vv(a(o.targetSnapshot.root)).pipe(nf(),fa(1))}),$v(()=>this.afterPreactivation()),Te(o=>{const a=function kQ(t,e,n){const r=Rc(t,e._root,n?n._root:void 0);return new DP(r,e)}(n.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return r={...o,targetRouterState:a}}),Ht(o=>{n.currentUrlTree=o.urlAfterRedirects,n.rawUrlTree=n.urlHandlingStrategy.merge(o.urlAfterRedirects,o.rawUrl),n.routerState=o.targetRouterState,"deferred"===n.urlUpdateStrategy&&(o.extras.skipLocationChange||n.setBrowserUrl(n.rawUrlTree,o),n.browserUrlTree=o.urlAfterRedirects)}),((t,e,n,r)=>Te(i=>(new jQ(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)))(this.rootContexts,n.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),fa(1),Ht({next:o=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,n.navigated=!0,this.events.next(new Fs(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(n.currentUrlTree))),n.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),Dv(()=>{i||s||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),Ps(o=>{if(s=!0,NP(o)){MP(o)||(n.navigated=!0,n.restoreHistory(r,!0));const a=new df(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode);if(this.events.next(a),MP(o)){const u=n.urlHandlingStrategy.merge(o.url,n.rawUrlTree),c={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===n.urlUpdateStrategy||GP(r.source)};n.scheduleNavigation(u,Sc,null,c,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{n.restoreHistory(r,!0);const a=new Rv(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);this.events.next(a);try{r.resolve(n.errorHandler(o))}catch(u){r.reject(u)}}return pr}))}))}cancelNavigationTransition(n,r,i){const s=new df(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(s),n.resolve(!1)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function GP(t){return t!==Sc}let qP=(()=>{class t{buildTitle(n){let r,i=n.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===ie);return r}getResolvedTitleForRoute(n){return n.data[Ic]}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=G({token:t,factory:function(){return L(MY)},providedIn:"root"}),t})(),MY=(()=>{class t extends qP{constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}}return t.\u0275fac=function(n){return new(n||t)(B(K1))},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),NY=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=G({token:t,factory:function(){return L(PY)},providedIn:"root"}),t})();class kY{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}let PY=(()=>{class t extends kY{}return t.\u0275fac=function(){let e;return function(r){return(e||(e=function $A(t){return Wr(()=>{const e=t.prototype.constructor,n=e[Qr]||Mm(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const s=i[Qr]||Mm(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}(t)))(r||t)}}(),t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const vf=new U("",{providedIn:"root",factory:()=>({})});let OY=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=G({token:t,factory:function(){return L(LY)},providedIn:"root"}),t})(),LY=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var Nn=(()=>((Nn=Nn||{})[Nn.COMPLETE=0]="COMPLETE",Nn[Nn.FAILED=1]="FAILED",Nn[Nn.REDIRECTING=2]="REDIRECTING",Nn))();function WP(t,e){t.events.pipe($i(n=>n instanceof Fs||n instanceof df||n instanceof Rv||n instanceof Ac),Te(n=>n instanceof Fs||n instanceof Ac?Nn.COMPLETE:n instanceof df&&(0===n.code||1===n.code)?Nn.REDIRECTING:Nn.FAILED),$i(n=>n!==Nn.REDIRECTING),fa(1)).subscribe(()=>{e()})}function FY(t){throw t}function UY(t,e,n){return e.parse("/")}const VY={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},BY={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let zn=(()=>{class t{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=L(bk),this.isNgZoneEnabled=!1,this.options=L(vf,{optional:!0})||{},this.pendingTasks=L(u1),this.errorHandler=this.options.errorHandler||FY,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||UY,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=L(OY),this.routeReuseStrategy=L(NY),this.titleStrategy=L(qP),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=L(Ia,{optional:!0})?.flat()??[],this.navigationTransitions=L(_f),this.urlSerializer=L(Dc),this.location=L(K_),this.componentInputBindingEnabled=!!L(ff,{optional:!0}),this.isNgZoneEnabled=L(ve)instanceof ve&&ve.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new ga,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=TP(0,null),this.navigationTransitions.setupNavigations(this).subscribe(n=>{this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId??0},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)})}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const n=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Sc,n)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r="popstate"===n.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(n.url,r,n.state)},0)}))}navigateToSyncWithBrowser(n,r,i){const s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){const u={...i};delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(s.state=u)}const a=this.parseUrl(n);this.scheduleNavigation(a,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(Uv),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(n,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:u}=r,c=u?this.currentUrlTree.fragment:o;let d,l=null;switch(a){case"merge":l={...this.currentUrlTree.queryParams,...s};break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=s||null}null!==l&&(l=this.removeEmptyProps(l));try{d=pP(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof n[0]||!n[0].startsWith("/"))&&(n=[]),d=this.currentUrlTree.root}return gP(d,n,l,c??null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=Ls(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,Sc,null,r)}navigate(n,r={skipLocationChange:!1}){return function $Y(t){for(let e=0;e<t.length;e++)if(null==t[e])throw new S(4008,!1)}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,n)}return r}isActive(n,r){let i;if(i=!0===r?{...VY}:!1===r?{...BY}:r,Ls(n))return sP(this.currentUrlTree,n,i);const s=this.parseUrl(n);return sP(this.currentUrlTree,s,i)}removeEmptyProps(n){return Object.keys(n).reduce((r,i)=>{const s=n[i];return null!=s&&(r[i]=s),r},{})}scheduleNavigation(n,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,u,c;o?(a=o.resolve,u=o.reject,c=o.promise):c=new Promise((d,h)=>{a=d,u=h});const l=this.pendingTasks.add();return WP(this,()=>{Promise.resolve().then(()=>this.pendingTasks.remove(l))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:s,resolve:a,reject:u,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(d=>Promise.reject(d))}setBrowserUrl(n,r){const i=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const o={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",o)}else{const s={...r.extras.state,...this.generateNgRouterState(r.id,(this.browserPageId??0)+1)};this.location.go(i,"",s)}}restoreHistory(n,r=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-(this.browserPageId??this.currentPageId);0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class KP{}let zY=(()=>{class t{constructor(n,r,i,s,o){this.router=n,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe($i(n=>n instanceof Fs),wc(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=l_(s.providers,n,`Route: ${s.path}`));const o=s._injector??n,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return At(i).pipe(To())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(n,r):Z(null);const s=i.pipe(St(o=>null===o?Z(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??n,o.routes))));return r.loadComponent&&!r._loadedComponent?At([s,this.loader.loadComponent(r)]).pipe(To()):s})}}return t.\u0275fac=function(n){return new(n||t)(B(zn),B(Ck),B(ei),B(KP),B(jv))},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const zv=new U("");let QP=(()=>{class t{constructor(n,r,i,s,o={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof xv?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof Fs?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof Ac&&0===n.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof IP&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new IP(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return t.\u0275fac=function(n){!function ER(){throw new Error("invalid")}()},t.\u0275prov=G({token:t,factory:t.\u0275fac}),t})();function li(t,e){return{\u0275kind:t,\u0275providers:e}}function XP(){const t=L(Rn);return e=>{const n=t.get(da);if(e!==n.components[0])return;const r=t.get(zn),i=t.get(JP);1===t.get(Gv)&&r.initialNavigation(),t.get(ZP,null,$.Optional)?.setUpPreloading(),t.get(zv,null,$.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const JP=new U("",{factory:()=>new Gr}),Gv=new U("",{providedIn:"root",factory:()=>1}),ZP=new U("");function KY(t){return li(0,[{provide:ZP,useExisting:zY},{provide:KP,useExisting:t}])}const eO=new U("ROUTER_FORROOT_GUARD"),YY=[K_,{provide:Dc,useClass:Tv},zn,xc,{provide:ya,useFactory:function YP(t){return t.routerState.root},deps:[zn]},jv,[]];function XY(){return new Fk("Router",zn)}let qv=(()=>{class t{constructor(n){}static forRoot(n,r){return{ngModule:t,providers:[YY,[],{provide:Ia,multi:!0,useValue:n},{provide:eO,useFactory:tX,deps:[[zn,new dt,new qd]]},{provide:vf,useValue:r||{}},r?.useHash?{provide:Ns,useClass:Z5}:{provide:Ns,useClass:h1},{provide:zv,useFactory:()=>{const t=L(w8),e=L(ve),n=L(vf),r=L(_f),i=L(Dc);return n.scrollOffset&&t.setOffset(n.scrollOffset),new QP(i,r,t,e,n)}},r?.preloadingStrategy?KY(r.preloadingStrategy).\u0275providers:[],{provide:Fk,multi:!0,useFactory:XY},r?.initialNavigation?nX(r):[],r?.bindToComponentInputs?li(8,[AP,{provide:ff,useExisting:AP}]).\u0275providers:[],[{provide:tO,useFactory:XP},{provide:O_,multi:!0,useExisting:tO}]]}}static forChild(n){return{ngModule:t,providers:[{provide:Ia,multi:!0,useValue:n}]}}}return t.\u0275fac=function(n){return new(n||t)(B(eO,8))},t.\u0275mod=Qn({type:t}),t.\u0275inj=Un({}),t})();function tX(t){return"guarded"}function nX(t){return["disabled"===t.initialNavigation?li(3,[{provide:C_,multi:!0,useFactory:()=>{const e=L(zn);return()=>{e.setUpLocationChangeListener()}}},{provide:Gv,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?li(2,[{provide:Gv,useValue:0},{provide:C_,multi:!0,deps:[Rn],useFactory:e=>{const n=e.get(X5,Promise.resolve());return()=>n.then(()=>new Promise(r=>{const i=e.get(zn),s=e.get(JP);WP(i,()=>{r(!0)}),e.get(_f).afterPreactivation=()=>(r(!0),s.closed?Z(void 0):s),i.initialNavigation()}))}}]).\u0275providers:[]]}const tO=new U(""),iX=[];let sX=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Qn({type:t}),t.\u0275inj=Un({imports:[qv.forRoot(iX),qv]}),t})(),oX=(()=>{class t{constructor(){this.title="estadisticas"}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=Tu({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(n,r){1&n&&Tr(0,"router-outlet")},dependencies:[Lv]}),t})();function nO(t,e,n,r,i,s,o){try{var a=t[s](o),u=a.value}catch(c){return void n(c)}a.done?e(u):Promise.resolve(u).then(r,i)}function g(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var s=t.apply(e,n);function o(u){nO(s,r,i,o,a,"next",u)}function a(u){nO(s,r,i,o,a,"throw",u)}o(void 0)})}}const rO=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},Kv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0;let h=(15&a)<<2|c>>6,f=63&c;u||(f=64,o||(h=64)),r.push(n[s>>2],n[(3&s)<<4|a>>4],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(rO(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const u=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(1023&u))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,null==s||null==a||null==c||null==d)throw new lX;r.push(s<<2|a>>4),64!==c&&(r.push(a<<4&240|c>>2),64!==d&&r.push(c<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class lX extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const wf=function(t){return function(t){const e=rO(t);return Kv.encodeByteArray(e,!0)}(t).replace(/\./g,"")},If=function(t){try{return Kv.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null},Ef=()=>{try{return function fX(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const t=process.env.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&If(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}},sO=t=>{var e,n;return null===(n=null===(e=Ef())||void 0===e?void 0:e.emulatorHosts)||void 0===n?void 0:n[t]},oO=t=>{const e=sO(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return"["===e[0]?[e.substring(1,n-1),r]:[e.substring(0,n),r]},aO=()=>{var t;return null===(t=Ef())||void 0===t?void 0:t.config},uO=t=>{var e;return null===(e=Ef())||void 0===e?void 0:e[`_${t}`]};class Df{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,r))}}}function cO(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[wf(JSON.stringify({alg:"none",type:"JWT"})),wf(JSON.stringify(o)),""].join(".")}function yt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Qv(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function Us(){try{return"object"==typeof indexedDB}catch{return!1}}function Oc(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(n){e(n)}})}function Yv(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class kn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,kn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,xr.prototype.create)}}class xr{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function EX(t,e){return t.replace(DX,(n,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new kn(i,`${this.serviceName}: ${o} (${i}).`,r)}}const DX=/\{\$([^}]+)}/g;function bf(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(dO(s)&&dO(o)){if(!bf(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function dO(t){return null!==t&&"object"==typeof t}function Cf(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}class CX{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(void 0===e&&void 0===n&&void 0===r)throw new Error("Missing Observer.");i=function SX(t,e){if("object"!=typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"==typeof t[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:n,complete:r},void 0===i.next&&(i.next=Xv),void 0===i.error&&(i.error=Xv),void 0===i.complete&&(i.complete=Xv);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Xv(){}const AX=1e3,xX=2,RX=144e5,MX=.5;function Zv(t,e=AX,n=xX){const r=e*Math.pow(n,t),i=Math.round(MX*r*(Math.random()-.5)*2);return Math.min(RX,r+i)}function ar(t){return t&&t._delegate?t._delegate:t}class Mt{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Vs="[DEFAULT]";class kX{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Df;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(n=e?.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function OX(t){return"EAGER"===t.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Vs})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Vs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return g(function*(){const n=Array.from(e.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=Vs){return this.instances.has(e)}getOptions(e=Vs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(t=e,t===Vs?void 0:t),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var t;return r||null}normalizeInstanceIdentifier(e=Vs){return this.component?this.component.multipleInstances?e:Vs:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class LX{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new kX(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}const ew=[];var Q=(()=>((Q=Q||{})[Q.DEBUG=0]="DEBUG",Q[Q.VERBOSE=1]="VERBOSE",Q[Q.INFO=2]="INFO",Q[Q.WARN=3]="WARN",Q[Q.ERROR=4]="ERROR",Q[Q.SILENT=5]="SILENT",Q))();const hO={debug:Q.DEBUG,verbose:Q.VERBOSE,info:Q.INFO,warn:Q.WARN,error:Q.ERROR,silent:Q.SILENT},FX=Q.INFO,UX={[Q.DEBUG]:"log",[Q.VERBOSE]:"log",[Q.INFO]:"info",[Q.WARN]:"warn",[Q.ERROR]:"error"},VX=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=UX[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class Ea{constructor(e){this.name=e,this._logLevel=FX,this._logHandler=VX,this._userLogHandler=null,ew.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Q))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?hO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Q.DEBUG,...e),this._logHandler(this,Q.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Q.VERBOSE,...e),this._logHandler(this,Q.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Q.INFO,...e),this._logHandler(this,Q.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Q.WARN,...e),this._logHandler(this,Q.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Q.ERROR,...e),this._logHandler(this,Q.ERROR,...e)}}const BX=(t,e)=>e.some(n=>t instanceof n);let fO,pO;const gO=new WeakMap,tw=new WeakMap,mO=new WeakMap,nw=new WeakMap,rw=new WeakMap;let iw={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return tw.get(t);if("objectStoreNames"===e)return t.objectStoreNames||mO.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Hi(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function WX(t){return"function"==typeof t?function qX(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function jX(){return pO||(pO=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(sw(this),e),Hi(gO.get(this))}:function(...e){return Hi(t.apply(sw(this),e))}:function(e,...n){const r=t.call(sw(this),e,...n);return mO.set(r,e.sort?e.sort():[e]),Hi(r)}}(t):(t instanceof IDBTransaction&&function zX(t){if(tw.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});tw.set(t,e)}(t),BX(t,function $X(){return fO||(fO=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,iw):t)}function Hi(t){if(t instanceof IDBRequest)return function HX(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Hi(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&gO.set(n,t)}).catch(()=>{}),rw.set(e,t),e}(t);if(nw.has(t))return nw.get(t);const e=WX(t);return e!==t&&(nw.set(t,e),rw.set(e,t)),e}const sw=t=>rw.get(t),QX=["get","getKey","getAll","getAllKeys","count"],YX=["put","add","delete","clear"],ow=new Map;function yO(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(ow.get(e))return ow.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=YX.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!QX.includes(n))return;const s=function(){var o=g(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[n](...u),i&&c.done]))[0]});return function(u){return o.apply(this,arguments)}}();return ow.set(e,s),s}!function GX(t){iw=t(iw)}(t=>({...t,get:(e,n,r)=>yO(e,n)||t.get(e,n,r),has:(e,n)=>!!yO(e,n)||t.has(e,n)}));class XX{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function JX(t){const e=t.getComponent();return"VERSION"===e?.type}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const aw="@firebase/app",Bs=new Ea("@firebase/app"),Sf="[DEFAULT]",TJ={[aw]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},$s=new Map,Af=new Map;function bJ(t,e){try{t.container.addComponent(e)}catch(n){Bs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function zt(t){const e=t.name;if(Af.has(e))return Bs.debug(`There were multiple attempts to register component ${e}.`),!1;Af.set(e,t);for(const n of $s.values())bJ(n,t);return!0}function js(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}const di=new xr("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class SJ{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Mt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw di.create("app-deleted",{appName:this._name})}}const zi="9.22.1";function vO(t,e={}){let n=t;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:Sf,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw di.create("bad-app-name",{appName:String(i)});if(n||(n=aO()),!n)throw di.create("no-options");const s=$s.get(i);if(s){if(bf(n,s.options)&&bf(r,s.config))return s;throw di.create("duplicate-app",{appName:i})}const o=new LX(i);for(const u of Af.values())o.addComponent(u);const a=new SJ(n,r,o);return $s.set(i,a),a}function xf(t=Sf){const e=$s.get(t);if(!e&&t===Sf&&aO())return vO();if(!e)throw di.create("no-app",{appName:t});return e}function wO(){return Array.from($s.values())}function xe(t,e,n){var r;let i=null!==(r=TJ[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void Bs.warn(a.join(" "))}zt(new Mt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const AJ="firebase-heartbeat-database",xJ=1,Lc="firebase-heartbeat-store";let cw=null;function IO(){return cw||(cw=function KX(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Hi(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Hi(o.result),u.oldVersion,u.newVersion,Hi(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}(AJ,xJ,{upgrade:(t,e)=>{0===e&&t.createObjectStore(Lc)}}).catch(t=>{throw di.create("idb-open",{originalErrorMessage:t.message})})),cw}function lw(){return(lw=g(function*(t){try{return yield(yield IO()).transaction(Lc).objectStore(Lc).get(DO(t))}catch(e){if(e instanceof kn)Bs.warn(e.message);else{const n=di.create("idb-get",{originalErrorMessage:e?.message});Bs.warn(n.message)}}})).apply(this,arguments)}function EO(t,e){return dw.apply(this,arguments)}function dw(){return(dw=g(function*(t,e){try{const r=(yield IO()).transaction(Lc,"readwrite");yield r.objectStore(Lc).put(e,DO(t)),yield r.done}catch(n){if(n instanceof kn)Bs.warn(n.message);else{const r=di.create("idb-set",{originalErrorMessage:n?.message});Bs.warn(r.message)}}})).apply(this,arguments)}function DO(t){return`${t.name}!${t.options.appId}`}class kJ{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new OJ(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return g(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=TO();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(s=>s.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return g(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const n=TO(),{heartbeatsToSend:r,unsentEntries:i}=function PJ(t,e=1024){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),bO(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),bO(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=wf(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function TO(){return(new Date).toISOString().substring(0,10)}class OJ{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return g(function*(){return!!Us()&&Oc().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return g(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function RJ(t){return lw.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var n=this;return g(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return EO(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var n=this;return g(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return EO(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function bO(t){return wf(JSON.stringify({version:2,heartbeats:t})).length}!function LJ(t){zt(new Mt("platform-logger",e=>new XX(e),"PRIVATE")),zt(new Mt("heartbeat",e=>new kJ(e),"PRIVATE")),xe(aw,"0.9.11",t),xe(aw,"0.9.11","esm2017"),xe("fire-js","")}(""),xe("firebase","9.22.1","app");const VJ=(t,e)=>e.some(n=>t instanceof n);let CO,SO;const AO=new WeakMap,hw=new WeakMap,xO=new WeakMap,fw=new WeakMap,pw=new WeakMap;let gw={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return hw.get(t);if("objectStoreNames"===e)return t.objectStoreNames||xO.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Gi(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function qJ(t){return"function"==typeof t?function GJ(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function $J(){return SO||(SO=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(mw(this),e),Gi(AO.get(this))}:function(...e){return Gi(t.apply(mw(this),e))}:function(e,...n){const r=t.call(mw(this),e,...n);return xO.set(r,e.sort?e.sort():[e]),Gi(r)}}(t):(t instanceof IDBTransaction&&function HJ(t){if(hw.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});hw.set(t,e)}(t),VJ(t,function BJ(){return CO||(CO=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,gw):t)}function Gi(t){if(t instanceof IDBRequest)return function jJ(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Gi(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&AO.set(n,t)}).catch(()=>{}),pw.set(e,t),e}(t);if(fw.has(t))return fw.get(t);const e=qJ(t);return e!==t&&(fw.set(t,e),pw.set(e,t)),e}const mw=t=>pw.get(t),KJ=["get","getKey","getAll","getAllKeys","count"],QJ=["put","add","delete","clear"],yw=new Map;function RO(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(yw.get(e))return yw.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=QJ.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!KJ.includes(n))return;const s=function(){var o=g(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[n](...u),i&&c.done]))[0]});return function(u){return o.apply(this,arguments)}}();return yw.set(e,s),s}!function zJ(t){gw=t(gw)}(t=>({...t,get:(e,n,r)=>RO(e,n)||t.get(e,n,r),has:(e,n)=>!!RO(e,n)||t.has(e,n)}));const MO="@firebase/installations",_w="0.6.4",NO=1e4,kO=`w:${_w}`,PO="FIS_v2",YJ="https://firebaseinstallations.googleapis.com/v1",XJ=36e5,hi=new xr("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function OO(t){return t instanceof kn&&t.code.includes("request-failed")}function vw({projectId:t}){return`${YJ}/projects/${t}/installations`}function LO(t){return{token:t.token,requestStatus:2,expiresIn:tZ(t.expiresIn),creationTime:Date.now()}}function ww(t,e){return Iw.apply(this,arguments)}function Iw(){return(Iw=g(function*(t,e){const r=(yield e.json()).error;return hi.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function FO({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function Ew(t){return Dw.apply(this,arguments)}function Dw(){return(Dw=g(function*(t){const e=yield t();return e.status>=500&&e.status<600?t():e})).apply(this,arguments)}function tZ(t){return Number(t.replace("s","000"))}function Tw(){return(Tw=g(function*({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=vw(t),i=FO(t),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({fid:n,authVersion:PO,appId:t.appId,sdkVersion:kO})},u=yield Ew(()=>fetch(r,a));if(u.ok){const c=yield u.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:LO(c.authToken)}}throw yield ww("Create Installation",u)})).apply(this,arguments)}function VO(t){return new Promise(e=>{setTimeout(e,t)})}const sZ=/^[cdef][\w-]{21}$/,bw="";function oZ(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=function aZ(t){return function iZ(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}(t).substr(0,22)}(t);return sZ.test(n)?n:bw}catch{return bw}}function Da(t){return`${t.appName}!${t.appId}`}const Ta=new Map;function BO(t,e){const n=Da(t);$O(n,e),function lZ(t,e){const n=function jO(){return!Hs&&"BroadcastChannel"in self&&(Hs=new BroadcastChannel("[Firebase] FID Change"),Hs.onmessage=t=>{$O(t.data.key,t.data.fid)}),Hs}();n&&n.postMessage({key:t,fid:e}),function HO(){0===Ta.size&&Hs&&(Hs.close(),Hs=null)}()}(n,e)}function $O(t,e){const n=Ta.get(t);if(n)for(const r of n)r(e)}let Hs=null;const dZ="firebase-installations-database",hZ=1,zs="firebase-installations-store";let Cw=null;function Sw(){return Cw||(Cw=function WJ(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Gi(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Gi(o.result),u.oldVersion,u.newVersion,Gi(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}(dZ,hZ,{upgrade:(t,e)=>{0===e&&t.createObjectStore(zs)}})),Cw}function Rf(t,e){return Aw.apply(this,arguments)}function Aw(){return(Aw=g(function*(t,e){const n=Da(t),i=(yield Sw()).transaction(zs,"readwrite"),s=i.objectStore(zs),o=yield s.get(n);return yield s.put(e,n),yield i.done,(!o||o.fid!==e.fid)&&BO(t,e.fid),e})).apply(this,arguments)}function xw(t){return Rw.apply(this,arguments)}function Rw(){return(Rw=g(function*(t){const e=Da(t),r=(yield Sw()).transaction(zs,"readwrite");yield r.objectStore(zs).delete(e),yield r.done})).apply(this,arguments)}function Fc(t,e){return Mw.apply(this,arguments)}function Mw(){return(Mw=g(function*(t,e){const n=Da(t),i=(yield Sw()).transaction(zs,"readwrite"),s=i.objectStore(zs),o=yield s.get(n),a=e(o);return void 0===a?yield s.delete(n):yield s.put(a,n),yield i.done,a&&(!o||o.fid!==a.fid)&&BO(t,a.fid),a})).apply(this,arguments)}function Nw(t){return kw.apply(this,arguments)}function kw(){return kw=g(function*(t){let e;const n=yield Fc(t.appConfig,r=>{const i=function fZ(t){return GO(t||{fid:oZ(),registrationStatus:0})}(r),s=function pZ(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(hi.create("app-offline"))};const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function gZ(t,e){return Pw.apply(this,arguments)}(t,n);return{installationEntry:n,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:mZ(t)}:{installationEntry:e}}(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===bw?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}}),kw.apply(this,arguments)}function Pw(){return Pw=g(function*(t,e){try{const n=yield function rZ(t,e){return Tw.apply(this,arguments)}(t,e);return Rf(t.appConfig,n)}catch(n){throw OO(n)&&409===n.customData.serverCode?yield xw(t.appConfig):yield Rf(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}),Pw.apply(this,arguments)}function mZ(t){return Ow.apply(this,arguments)}function Ow(){return(Ow=g(function*(t){let e=yield zO(t.appConfig);for(;1===e.registrationStatus;)yield VO(100),e=yield zO(t.appConfig);if(0===e.registrationStatus){const{installationEntry:n,registrationPromise:r}=yield Nw(t);return r||n}return e})).apply(this,arguments)}function zO(t){return Fc(t,e=>{if(!e)throw hi.create("installation-not-found");return GO(e)})}function GO(t){return function yZ(t){return 1===t.registrationStatus&&t.registrationTime+NO<Date.now()}(t)?{fid:t.fid,registrationStatus:0}:t}function Lw(){return(Lw=g(function*({appConfig:t,heartbeatServiceProvider:e},n){const r=function vZ(t,{fid:e}){return`${vw(t)}/${e}/authTokens:generate`}(t,n),i=function UO(t,{refreshToken:e}){const n=FO(t);return n.append("Authorization",function nZ(t){return`${PO} ${t}`}(e)),n}(t,n),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:kO,appId:t.appId}})},u=yield Ew(()=>fetch(r,a));if(u.ok)return LO(yield u.json());throw yield ww("Generate Auth Token",u)})).apply(this,arguments)}function Fw(t){return Uw.apply(this,arguments)}function Uw(){return Uw=g(function*(t,e=!1){let n;const r=yield Fc(t.appConfig,s=>{if(!WO(s))throw hi.create("not-registered");const o=s.authToken;if(!e&&function EZ(t){return 2===t.requestStatus&&!function DZ(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+XJ}(t)}(o))return s;if(1===o.requestStatus)return n=function wZ(t,e){return Vw.apply(this,arguments)}(t,e),s;{if(!navigator.onLine)throw hi.create("app-offline");const a=function TZ(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}(s);return n=function IZ(t,e){return Bw.apply(this,arguments)}(t,a),a}});return n?yield n:r.authToken}),Uw.apply(this,arguments)}function Vw(){return(Vw=g(function*(t,e){let n=yield qO(t.appConfig);for(;1===n.authToken.requestStatus;)yield VO(100),n=yield qO(t.appConfig);const r=n.authToken;return 0===r.requestStatus?Fw(t,e):r})).apply(this,arguments)}function qO(t){return Fc(t,e=>{if(!WO(e))throw hi.create("not-registered");return function bZ(t){return 1===t.requestStatus&&t.requestTime+NO<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function Bw(){return Bw=g(function*(t,e){try{const n=yield function _Z(t,e){return Lw.apply(this,arguments)}(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return yield Rf(t.appConfig,r),n}catch(n){if(!OO(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield Rf(t.appConfig,r)}else yield xw(t.appConfig);throw n}}),Bw.apply(this,arguments)}function WO(t){return void 0!==t&&2===t.registrationStatus}function $w(){return($w=g(function*(t){const e=t,{installationEntry:n,registrationPromise:r}=yield Nw(e);return r?r.catch(console.error):Fw(e).catch(console.error),n.fid})).apply(this,arguments)}function jw(){return jw=g(function*(t,e=!1){const n=t;return yield function AZ(t){return Hw.apply(this,arguments)}(n),(yield Fw(n,e)).token}),jw.apply(this,arguments)}function Hw(){return(Hw=g(function*(t){const{registrationPromise:e}=yield Nw(t);e&&(yield e)})).apply(this,arguments)}function qw(t){return hi.create("missing-app-config-values",{valueName:t})}const KO="installations",kZ=t=>{const e=t.getProvider("app").getImmediate(),n=function MZ(t){if(!t||!t.options)throw qw("App Configuration");if(!t.name)throw qw("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw qw(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e);return{app:e,appConfig:n,heartbeatServiceProvider:js(e,"heartbeat"),_delete:()=>Promise.resolve()}},PZ=t=>{const n=js(t.getProvider("app").getImmediate(),KO).getImmediate();return{getId:()=>function CZ(t){return $w.apply(this,arguments)}(n),getToken:i=>function SZ(t){return jw.apply(this,arguments)}(n,i)}};(function OZ(){zt(new Mt(KO,kZ,"PUBLIC")),zt(new Mt("installations-internal",PZ,"PRIVATE"))})(),xe(MO,_w),xe(MO,_w,"esm2017");const Ww="@firebase/remote-config",_n=new xr("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class qZ{constructor(e,n,r,i){this.client=e,this.storage=n,this.storageCache=r,this.logger=i}isCachedDataFresh(e,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-n,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var n=this;return g(function*(){const[r,i]=yield Promise.all([n.storage.getLastSuccessfulFetchTimestampMillis(),n.storage.getLastSuccessfulFetchResponse()]);if(i&&n.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const s=yield n.client.fetch(e),o=[n.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===s.status&&o.push(n.storage.setLastSuccessfulFetchResponse(s)),yield Promise.all(o),s})()}}function WZ(t=navigator){return t.languages&&t.languages[0]||t.language}class KZ{constructor(e,n,r,i,s,o){this.firebaseInstallations=e,this.sdkVersion=n,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=o}fetch(e){var n=this;return g(function*(){const[r,i]=yield Promise.all([n.firebaseInstallations.getId(),n.firebaseInstallations.getToken()]),o=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${n.projectId}/namespaces/${n.namespace}:fetch?key=${n.apiKey}`,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},u={sdk_version:n.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:n.appId,language_code:WZ()},c={method:"POST",headers:a,body:JSON.stringify(u)},l=fetch(o,c),d=new Promise((v,_)=>{e.signal.addEventListener(()=>{const E=new Error("The operation was aborted.");E.name="AbortError",_(E)})});let h;try{yield Promise.race([l,d]),h=yield l}catch(v){let _="fetch-client-network";throw"AbortError"===v?.name&&(_="fetch-timeout"),_n.create(_,{originalErrorMessage:v?.message})}let f=h.status;const p=h.headers.get("ETag")||void 0;let m,y;if(200===h.status){let v;try{v=yield h.json()}catch(_){throw _n.create("fetch-client-parse",{originalErrorMessage:_?.message})}m=v.entries,y=v.state}if("INSTANCE_STATE_UNSPECIFIED"===y?f=500:"NO_CHANGE"===y?f=304:("NO_TEMPLATE"===y||"EMPTY_CONFIG"===y)&&(m={}),304!==f&&200!==f)throw _n.create("fetch-status",{httpStatus:f});return{status:f,eTag:p,config:m}})()}}class XZ{constructor(e,n){this.client=e,this.storage=n}fetch(e){var n=this;return g(function*(){const r=(yield n.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return n.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:n,backoffCount:r}){var i=this;return g(function*(){yield function QZ(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(_n.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,n);try{const s=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),s}catch(s){if(!function YZ(t){if(!(t instanceof kn&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(s))throw s;const o={throttleEndTimeMillis:Date.now()+Zv(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(o),i.attemptFetch(e,o)}})()}}class eee{constructor(e,n,r,i,s){this.app=e,this._client=n,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Nf(t,e){const n=t.target.error||void 0;return _n.create(e,{originalErrorMessage:n&&n?.message})}const Gs="app_namespace_store";class iee{constructor(e,n,r,i=function ree(){return new Promise((t,e)=>{try{const n=indexedDB.open("firebase_remote_config",1);n.onerror=r=>{e(Nf(r,"storage-open"))},n.onsuccess=r=>{t(r.target.result)},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Gs,{keyPath:"compositeKey"})}}catch(n){e(_n.create("storage-open",{originalErrorMessage:n?.message}))}})}()){this.appId=e,this.appName=n,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var n=this;return g(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([Gs],"readonly").objectStore(Gs),u=n.createCompositeKey(e);try{const c=a.get(u);c.onerror=l=>{s(Nf(l,"storage-get"))},c.onsuccess=l=>{const d=l.target.result;i(d?d.value:void 0)}}catch(c){s(_n.create("storage-get",{originalErrorMessage:c?.message}))}})})()}set(e,n){var r=this;return g(function*(){const i=yield r.openDbPromise;return new Promise((s,o)=>{const u=i.transaction([Gs],"readwrite").objectStore(Gs),c=r.createCompositeKey(e);try{const l=u.put({compositeKey:c,value:n});l.onerror=d=>{o(Nf(d,"storage-set"))},l.onsuccess=()=>{s()}}catch(l){o(_n.create("storage-set",{originalErrorMessage:l?.message}))}})})()}delete(e){var n=this;return g(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([Gs],"readwrite").objectStore(Gs),u=n.createCompositeKey(e);try{const c=a.delete(u);c.onerror=l=>{s(Nf(l,"storage-delete"))},c.onsuccess=()=>{i()}}catch(c){s(_n.create("storage-delete",{originalErrorMessage:c?.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class see{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return g(function*(){const n=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),s=yield n;s&&(e.lastFetchStatus=s);const o=yield r;o&&(e.lastSuccessfulFetchTimestampMillis=o);const a=yield i;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function aee(){return Jw.apply(this,arguments)}function Jw(){return(Jw=g(function*(){if(!Us())return!1;try{return yield Oc()}catch{return!1}})).apply(this,arguments)}!function oee(){zt(new Mt("remote-config",function t(e,{instanceIdentifier:n}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw _n.create("registration-window");if(!Us())throw _n.create("indexed-db-unavailable");const{projectId:s,apiKey:o,appId:a}=r.options;if(!s)throw _n.create("registration-project-id");if(!o)throw _n.create("registration-api-key");if(!a)throw _n.create("registration-app-id");const u=new iee(a,r.name,n=n||"firebase"),c=new see(u),l=new Ea(Ww);l.logLevel=Q.ERROR;const d=new KZ(i,zi,n,s,o,a),h=new XZ(d,u),f=new qZ(h,u,c,l),p=new eee(r,f,c,u,l);return function HZ(t){const e=ar(t);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(p),p},"PUBLIC").setMultipleInstances(!0)),xe(Ww,"0.4.4"),xe(Ww,"0.4.4","esm2017")}();const uee=(t,e)=>e.some(n=>t instanceof n);let JO,ZO;const eL=new WeakMap,Zw=new WeakMap,tL=new WeakMap,eI=new WeakMap,tI=new WeakMap;let nI={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return Zw.get(t);if("objectStoreNames"===e)return t.objectStoreNames||tL.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return fi(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function gee(t){return"function"==typeof t?function pee(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function lee(){return ZO||(ZO=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(rI(this),e),fi(eL.get(this))}:function(...e){return fi(t.apply(rI(this),e))}:function(e,...n){const r=t.call(rI(this),e,...n);return tL.set(r,e.sort?e.sort():[e]),fi(r)}}(t):(t instanceof IDBTransaction&&function hee(t){if(Zw.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Zw.set(t,e)}(t),uee(t,function cee(){return JO||(JO=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,nI):t)}function fi(t){if(t instanceof IDBRequest)return function dee(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(fi(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&eL.set(n,t)}).catch(()=>{}),tI.set(e,t),e}(t);if(eI.has(t))return eI.get(t);const e=gee(t);return e!==t&&(eI.set(t,e),tI.set(e,t)),e}const rI=t=>tI.get(t);function nL(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=fi(o);return r&&o.addEventListener("upgradeneeded",u=>{r(fi(o.result),u.oldVersion,u.newVersion,fi(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}function iI(t,{blocked:e}={}){const n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",()=>e()),fi(n).then(()=>{})}const mee=["get","getKey","getAll","getAllKeys","count"],yee=["put","add","delete","clear"],sI=new Map;function rL(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(sI.get(e))return sI.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=yee.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!mee.includes(n))return;const s=function(){var o=g(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[n](...u),i&&c.done]))[0]});return function(u){return o.apply(this,arguments)}}();return sI.set(e,s),s}!function fee(t){nI=t(nI)}(t=>({...t,get:(e,n,r)=>rL(e,n)||t.get(e,n,r),has:(e,n)=>!!rL(e,n)||t.has(e,n)}));const _ee="/firebase-messaging-sw.js",vee="/firebase-cloud-messaging-push-scope",iL="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",wee="https://fcmregistrations.googleapis.com/v1",sL="google.c.a.c_id",Iee="google.c.a.c_l",Eee="google.c.a.ts";var qi=(()=>((qi=qi||{}).PUSH_RECEIVED="push-received",qi.NOTIFICATION_CLICKED="notification-clicked",qi))();function pi(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Tee(t){const n=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}const oI="fcm_token_details_db",bee=5,oL="fcm_token_object_Store";function aI(){return aI=g(function*(t){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(s=>s.name).includes(oI))return null;let e=null;return(yield nL(oI,bee,{upgrade:(r=g(function*(i,s,o,a){var u;if(s<2||!i.objectStoreNames.contains(oL))return;const c=a.objectStore(oL),l=yield c.index("fcmSenderId").get(t);if(yield c.clear(),l)if(2===s){const d=l;if(!d.auth||!d.p256dh||!d.endpoint)return;e={token:d.fcmToken,createTime:null!==(u=d.createTime)&&void 0!==u?u:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:"string"==typeof d.vapidKey?d.vapidKey:pi(d.vapidKey)}}}else if(3===s){const d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:pi(d.auth),p256dh:pi(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:pi(d.vapidKey)}}}else if(4===s){const d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:pi(d.auth),p256dh:pi(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:pi(d.vapidKey)}}}}),function(s,o,a,u){return r.apply(this,arguments)})})).close(),yield iI(oI),yield iI("fcm_vapid_details_db"),yield iI("undefined"),function See(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return"number"==typeof t.createTime&&t.createTime>0&&"string"==typeof t.token&&t.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}(e)?e:null;var r}),aI.apply(this,arguments)}const Aee="firebase-messaging-database",xee=1,qs="firebase-messaging-store";let uI=null;function cI(){return uI||(uI=nL(Aee,xee,{upgrade:(t,e)=>{0===e&&t.createObjectStore(qs)}})),uI}function aL(t){return lI.apply(this,arguments)}function lI(){return lI=g(function*(t){const e=pI(t),r=yield(yield cI()).transaction(qs).objectStore(qs).get(e);if(r)return r;{const i=yield function Cee(t){return aI.apply(this,arguments)}(t.appConfig.senderId);if(i)return yield dI(t,i),i}}),lI.apply(this,arguments)}function dI(t,e){return hI.apply(this,arguments)}function hI(){return(hI=g(function*(t,e){const n=pI(t),i=(yield cI()).transaction(qs,"readwrite");return yield i.objectStore(qs).put(e,n),yield i.done,e})).apply(this,arguments)}function fI(){return(fI=g(function*(t){const e=pI(t),r=(yield cI()).transaction(qs,"readwrite");yield r.objectStore(qs).delete(e),yield r.done})).apply(this,arguments)}function pI({appConfig:t}){return t.appId}const Nt=new xr("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Nee(t,e){return gI.apply(this,arguments)}function gI(){return(gI=g(function*(t,e){const n=yield vI(t),r=cL(e),i={method:"POST",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(_I(t.appConfig),i)).json()}catch(o){throw Nt.create("token-subscribe-failed",{errorInfo:o?.toString()})}if(s.error)throw Nt.create("token-subscribe-failed",{errorInfo:s.error.message});if(!s.token)throw Nt.create("token-subscribe-no-token");return s.token})).apply(this,arguments)}function mI(){return(mI=g(function*(t,e){const n=yield vI(t),r=cL(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(`${_I(t.appConfig)}/${e.token}`,i)).json()}catch(o){throw Nt.create("token-update-failed",{errorInfo:o?.toString()})}if(s.error)throw Nt.create("token-update-failed",{errorInfo:s.error.message});if(!s.token)throw Nt.create("token-update-no-token");return s.token})).apply(this,arguments)}function uL(t,e){return yI.apply(this,arguments)}function yI(){return(yI=g(function*(t,e){const r={method:"DELETE",headers:yield vI(t)};try{const s=yield(yield fetch(`${_I(t.appConfig)}/${e}`,r)).json();if(s.error)throw Nt.create("token-unsubscribe-failed",{errorInfo:s.error.message})}catch(i){throw Nt.create("token-unsubscribe-failed",{errorInfo:i?.toString()})}})).apply(this,arguments)}function _I({projectId:t}){return`${wee}/projects/${t}/registrations`}function vI(t){return wI.apply(this,arguments)}function wI(){return(wI=g(function*({appConfig:t,installations:e}){const n=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})})).apply(this,arguments)}function cL({p256dh:t,auth:e,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:e,p256dh:t}};return r!==iL&&(i.web.applicationPubKey=r),i}const Pee=6048e5;function II(){return II=g(function*(t){const e=yield function Fee(t,e){return bI.apply(this,arguments)}(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:pi(e.getKey("auth")),p256dh:pi(e.getKey("p256dh"))},r=yield aL(t.firebaseDependencies);if(r){if(function Uee(t,e){return e.vapidKey===t.vapidKey&&e.endpoint===t.endpoint&&e.auth===t.auth&&e.p256dh===t.p256dh}(r.subscriptionOptions,n))return Date.now()>=r.createTime+Pee?function Lee(t,e){return DI.apply(this,arguments)}(t,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{yield uL(t.firebaseDependencies,r.token)}catch(i){console.warn(i)}return dL(t.firebaseDependencies,n)}return dL(t.firebaseDependencies,n)}),II.apply(this,arguments)}function EI(){return EI=g(function*(t){const e=yield aL(t.firebaseDependencies);e&&(yield uL(t.firebaseDependencies,e.token),yield function Ree(t){return fI.apply(this,arguments)}(t.firebaseDependencies));const n=yield t.swRegistration.pushManager.getSubscription();return!n||n.unsubscribe()}),EI.apply(this,arguments)}function DI(){return DI=g(function*(t,e){try{const n=yield function kee(t,e){return mI.apply(this,arguments)}(t.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return yield dI(t.firebaseDependencies,r),n}catch(n){throw yield function lL(t){return EI.apply(this,arguments)}(t),n}}),DI.apply(this,arguments)}function dL(t,e){return TI.apply(this,arguments)}function TI(){return(TI=g(function*(t,e){const r={token:yield Nee(t,e),createTime:Date.now(),subscriptionOptions:e};return yield dI(t,r),r.token})).apply(this,arguments)}function bI(){return(bI=g(function*(t,e){return(yield t.pushManager.getSubscription())||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Tee(e)})})).apply(this,arguments)}function hL(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return function Vee(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const r=e.notification.body;r&&(t.notification.body=r);const i=e.notification.image;i&&(t.notification.image=i);const s=e.notification.icon;s&&(t.notification.icon=s)}(e,t),function Bee(t,e){e.data&&(t.data=e.data)}(e,t),function $ee(t,e){var n,r,i,s,o;if(!(e.fcmOptions||null!==(n=e.notification)&&void 0!==n&&n.click_action))return;t.fcmOptions={};const a=null!==(i=null===(r=e.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(s=e.notification)||void 0===s?void 0:s.click_action;a&&(t.fcmOptions.link=a);const u=null===(o=e.fcmOptions)||void 0===o?void 0:o.analytics_label;u&&(t.fcmOptions.analyticsLabel=u)}(e,t),e}function fL(t,e){const n=[];for(let r=0;r<t.length;r++)n.push(t.charAt(r)),r<e.length&&n.push(e.charAt(r));return n.join("")}function CI(t){return Nt.create("missing-app-config-values",{valueName:t})}fL("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),fL("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class zee{constructor(e,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function Hee(t){if(!t||!t.options)throw CI("App Configuration Object");if(!t.name)throw CI("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const r of e)if(!n[r])throw CI(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}function SI(){return(SI=g(function*(t){try{t.swRegistration=yield navigator.serviceWorker.register(_ee,{scope:vee}),t.swRegistration.update().catch(()=>{})}catch(e){throw Nt.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}})).apply(this,arguments)}function AI(){return(AI=g(function*(t,e){if(!e&&!t.swRegistration&&(yield function pL(t){return SI.apply(this,arguments)}(t)),e||!t.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw Nt.create("invalid-sw-registration");t.swRegistration=e}})).apply(this,arguments)}function xI(){return(xI=g(function*(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=iL)})).apply(this,arguments)}function RI(){return RI=g(function*(t,e){if(!navigator)throw Nt.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Nt.create("permission-blocked");return yield function qee(t,e){return xI.apply(this,arguments)}(t,e?.vapidKey),yield function Gee(t,e){return AI.apply(this,arguments)}(t,e?.serviceWorkerRegistration),function Oee(t){return II.apply(this,arguments)}(t)}),RI.apply(this,arguments)}function MI(){return(MI=g(function*(t,e,n){const r=function Kee(t){switch(t){case qi.NOTIFICATION_CLICKED:return"notification_open";case qi.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(e);(yield t.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[sL],message_name:n[Iee],message_time:n[Eee],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function NI(){return NI=g(function*(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===qi.PUSH_RECEIVED&&("function"==typeof t.onMessageHandler?t.onMessageHandler(hL(n)):t.onMessageHandler.next(hL(n)));const r=n.data;(function jee(t){return"object"==typeof t&&!!t&&sL in t})(r)&&"1"===r["google.c.a.e"]&&(yield function Wee(t,e,n){return MI.apply(this,arguments)}(t,n.messageType,r))}),NI.apply(this,arguments)}const mL="@firebase/messaging",Yee=t=>{const e=new zee(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>function Qee(t,e){return NI.apply(this,arguments)}(e,n)),e},Xee=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:r=>function gL(t,e){return RI.apply(this,arguments)}(e,r)}};function _L(){return kI.apply(this,arguments)}function kI(){return(kI=g(function*(){try{yield Oc()}catch{return!1}return typeof window<"u"&&Us()&&Yv()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Jee(){zt(new Mt("messaging",Yee,"PUBLIC")),zt(new Mt("messaging-internal",Xee,"PRIVATE")),xe(mL,"0.12.4"),xe(mL,"0.12.4","esm2017")}();const kf="analytics",tte="firebase_id",nte="origin",rte=6e4,ite="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",LI="https://www.googletagmanager.com/gtag/js",_t=new Ea("@firebase/analytics"),nn=new xr("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function ote(t){if(!t.startsWith(LI)){const e=nn.create("invalid-gtag-resource",{gtagURL:t});return _t.warn(e.message),""}return t}function vL(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function FI(){return(FI=g(function*(t,e,n,r,i,s){const o=r[i];try{if(o)yield e[o];else{const u=(yield vL(n)).find(c=>c.measurementId===i);u&&(yield e[u.appId])}}catch(a){_t.error(a)}t("config",i,s)})).apply(this,arguments)}function UI(){return(UI=g(function*(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=yield vL(n);for(const u of o){const c=a.find(d=>d.measurementId===u),l=c&&e[c.appId];if(!l){s=[];break}s.push(l)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),t("event",r,i||{})}catch(s){_t.error(s)}})).apply(this,arguments)}const gte=30,wL=new class yte{constructor(e={},n=1e3){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function _te(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function VI(){return(VI=g(function*(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:_te(r)},s=ite.replace("{app-id}",n),o=yield fetch(s,i);if(200!==o.status&&304!==o.status){let a="";try{const u=yield o.json();null!==(e=u.error)&&void 0!==e&&e.message&&(a=u.error.message)}catch{}throw nn.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()})).apply(this,arguments)}function BI(){return(BI=g(function*(t,e=wL,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw nn.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw nn.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new Dte;return setTimeout(g(function*(){a.abort()}),void 0!==n?n:rte),IL({appId:r,apiKey:i,measurementId:s},o,a,e)})).apply(this,arguments)}function IL(t,e,n){return $I.apply(this,arguments)}function $I(){return $I=g(function*(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=wL){var s;const{appId:o,measurementId:a}=t;try{yield function Ite(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(nn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(r,e)}catch(u){if(a)return _t.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u?.message}]`),{appId:o,measurementId:a};throw u}try{const u=yield function vte(t){return VI.apply(this,arguments)}(t);return i.deleteThrottleMetadata(o),u}catch(u){const c=u;if(!function Ete(t){if(!(t instanceof kn&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(c)){if(i.deleteThrottleMetadata(o),a)return _t.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c?.message}]`),{appId:o,measurementId:a};throw u}const l=503===Number(null===(s=c?.customData)||void 0===s?void 0:s.httpStatus)?Zv(n,i.intervalMillis,gte):Zv(n,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+l,backoffCount:n+1};return i.setThrottleMetadata(o,d),_t.debug(`Calling attemptFetch again in ${l} millis`),IL(t,d,r,i)}}),$I.apply(this,arguments)}class Dte{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let jI,QI;function HI(){return(HI=g(function*(t,e,n,r,i){if(i&&i.global)t("event",n,r);else{const s=yield e;t("event",n,Object.assign(Object.assign({},r),{send_to:s}))}})).apply(this,arguments)}function YI(){return(YI=g(function*(){if(!Us())return _t.warn(nn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield Oc()}catch(t){return _t.warn(nn.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}return!0})).apply(this,arguments)}function XI(){return XI=g(function*(t,e,n,r,i,s,o){var a;const u=function wte(t){return BI.apply(this,arguments)}(t);u.then(f=>{n[f.measurementId]=f.appId,t.options.measurementId&&f.measurementId!==t.options.measurementId&&_t.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>_t.error(f)),e.push(u);const c=function Rte(){return YI.apply(this,arguments)}().then(f=>{if(f)return r.getId()}),[l,d]=yield Promise.all([u,c]);(function pte(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(LI)&&n.src.includes(t))return n;return null})(s)||function ute(t,e){const n=function ate(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}("firebase-js-sdk-policy",{createScriptURL:ote}),r=document.createElement("script"),i=`${LI}?l=${t}&id=${e}`;r.src=n?n?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}(s,l.measurementId),QI&&(i("consent","default",QI),function EL(t){QI=t}(void 0)),i("js",new Date);const h=null!==(a=o?.config)&&void 0!==a?a:{};return h[nte]="firebase",h.update=!0,null!=d&&(h[tte]=d),i("config",l.measurementId,h),jI&&(i("set",jI),function DL(t){jI=t}(void 0)),l.measurementId}),XI.apply(this,arguments)}class Nte{constructor(e){this.app=e}_delete(){return delete Rr[this.app.options.appId],Promise.resolve()}}let Rr={},TL=[];const bL={};let SL,Mr,Pf="dataLayer",JI=!1;function Pte(t,e,n){!function kte(){const t=[];if(Qv()&&t.push("This is a browser extension environment."),Yv()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=nn.create("invalid-analytics-context",{errorInfo:e});_t.warn(n.message)}}();const r=t.options.appId;if(!r)throw nn.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw nn.create("no-api-key");_t.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Rr[r])throw nn.create("already-exists",{id:r});if(!JI){!function cte(t){let e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(Pf);const{wrappedGtag:s,gtagCore:o}=function fte(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=function hte(t,e,n,r){function s(){return s=g(function*(o,...a){try{if("event"===o){const[u,c]=a;yield function dte(t,e,n,r,i){return UI.apply(this,arguments)}(t,e,n,u,c)}else if("config"===o){const[u,c]=a;yield function lte(t,e,n,r,i,s){return FI.apply(this,arguments)}(t,e,n,r,u,c)}else if("consent"===o){const[u]=a;t("consent","update",u)}else if("get"===o){const[u,c,l]=a;t("get",u,c,l)}else if("set"===o){const[u]=a;t("set",u)}else t(o,...a)}catch(u){_t.error(u)}}),s.apply(this,arguments)}return function i(o){return s.apply(this,arguments)}}(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}(Rr,TL,bL,Pf,"gtag");Mr=s,SL=o,JI=!0}return Rr[r]=function Mte(t,e,n,r,i,s,o){return XI.apply(this,arguments)}(t,TL,bL,e,SL,Pf,n),new Nte(t)}function Lte(){return ZI.apply(this,arguments)}function ZI(){return(ZI=g(function*(){if(Qv()||!Yv()||!Us())return!1;try{return yield Oc()}catch{return!1}})).apply(this,arguments)}const AL="@firebase/analytics";!function Ute(){zt(new Mt(kf,(e,{options:n})=>Pte(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n),"PUBLIC")),zt(new Mt("analytics-internal",function t(e){try{const n=e.getProvider(kf).getImmediate();return{logEvent:(r,i,s)=>function Fte(t,e,n,r){t=ar(t),function Tte(t,e,n,r,i){return HI.apply(this,arguments)}(Mr,Rr[t.app.options.appId],e,n,r).catch(i=>_t.error(i))}(n,r,i,s)}}catch(n){throw nn.create("interop-component-reg-failed",{reason:n})}},"PRIVATE")),xe(AL,"0.10.0"),xe(AL,"0.10.0","esm2017")}();class Vte extends Tn{constructor(e,n){super()}schedule(e,n=0){return this}}const Of={setInterval(t,e,...n){const{delegate:r}=Of;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=Of;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};class RL extends Vte{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return Of.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&Of.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Do(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}const ML={now:()=>(ML.delegate||Date).now(),delegate:void 0};class Uc{constructor(e,n=Uc.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}Uc.now=ML.now;class NL extends Uc{constructor(e,n=Uc.now){super(e,n),this.actions=[],this._active=!1}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}const jte=new class $te extends NL{}(class Bte extends RL{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}}),Hte=new NL(RL),Vc=new Ku("7.6.1"),tE="__angularfire_symbol__analyticsIsSupportedValue",nE="__angularfire_symbol__analyticsIsSupported",rE="__angularfire_symbol__remoteConfigIsSupportedValue",iE="__angularfire_symbol__remoteConfigIsSupported",sE="__angularfire_symbol__messagingIsSupportedValue",oE="__angularfire_symbol__messagingIsSupported";function Lf(t,e,n){if(e){if(1===e.length)return e[0];const s=e.filter(o=>o.app===n);if(1===s.length)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}globalThis[nE]||(globalThis[nE]=Lte().then(t=>globalThis[tE]=t).catch(()=>globalThis[tE]=!1)),globalThis[oE]||(globalThis[oE]=_L().then(t=>globalThis[sE]=t).catch(()=>globalThis[sE]=!1)),globalThis[iE]||(globalThis[iE]=aee().then(t=>globalThis[rE]=t).catch(()=>globalThis[rE]=!1));const Ff=(t,e)=>{const n=e?[e]:wO(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r};function ba(){}class kL{constructor(e,n=jte){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},n,r)}}class zte{constructor(e){this.zone=e,this.task=null}call(e,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ba,{},ba,ba)),n.pipe(Ht({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Uf=(()=>{class t{constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new kL(Zone.current)),this.insideAngular=n.run(()=>new kL(Zone.current,Hte)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return t.\u0275fac=function(n){return new(n||t)(B(ve))},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Ws(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}function Ks(t){return Ws().ngZone.run(()=>t())}function qte(t){return Ws(),function Wte(t){return function(n){return(n=n.lift(new zte(t.ngZone))).pipe(md(t.outsideAngular),gd(t.insideAngular))}}(Ws())(t)}const Kte=(t,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),Ks(()=>t.apply(void 0,r))},Ca=(t,e)=>function(){let n;const r=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof r[s]&&(e&&(n||(n=Ks(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ba,{},ba,ba)))),r[s]=Kte(r[s],n));const i=function Gte(t){return Ws().ngZone.runOutsideAngular(()=>t())}(()=>t.apply(this,r));if(!e){if(i instanceof je){const s=Ws();return i.pipe(md(s.outsideAngular),gd(s.insideAngular))}return Ks(()=>i)}return i instanceof je?i.pipe(qte):i instanceof Promise?Ks(()=>new Promise((s,o)=>i.then(a=>Ks(()=>s(a)),a=>Ks(()=>o(a))))):"function"==typeof i&&n?function(){return setTimeout(()=>{n&&"scheduled"===n.state&&n.invoke()},10),i.apply(this,arguments)}:Ks(()=>i)};class Qs{constructor(e){return e}}class Vf{constructor(){return wO()}}const uE=new U("angularfire2._apps"),Yte={provide:Qs,useFactory:function Qte(t){return t&&1===t.length?t[0]:new Qs(xf())},deps:[[new dt,uE]]},Xte={provide:Vf,deps:[[new dt,uE]]};function Jte(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new Qs(r)}}let Zte=(()=>{class t{constructor(n){xe("angularfire",Vc.full,"core"),xe("angularfire",Vc.full,"app"),xe("angular",iR.full,n.toString())}}return t.\u0275fac=function(n){return new(n||t)(B(Li))},t.\u0275mod=Qn({type:t}),t.\u0275inj=Un({providers:[Yte,Xte]}),t})();function ene(t,...e){return{ngModule:Zte,providers:[{provide:uE,useFactory:Jte(t),multi:!0,deps:[ve,Rn,Uf,...e]}]}}const tne=Ca(vO,!0),cE=new Map,PL={activated:!1,tokenObservers:[]},nne={initialized:!1,enabled:!1};function Ge(t){return cE.get(t)||Object.assign({},PL)}function Bf(){return nne}const lE="https://content-firebaseappcheck.googleapis.com/v1",one="exchangeDebugToken",OL={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class une{constructor(e,n,r,i,s){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var n=this;return g(function*(){n.stop();try{n.pending=new Df,yield function cne(t){return new Promise(e=>{setTimeout(e,t)})}(n.getNextRun(e)),n.pending.resolve(),yield n.pending.promise,n.pending=new Df,yield n.operation(),n.pending.resolve(),yield n.pending.promise,n.process(!0).catch(()=>{})}catch(r){n.retryPolicy(r)?n.process(!1).catch(()=>{}):n.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}const kt=new xr("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function dE(t){if(!Ge(t).activated)throw kt.create("use-before-activation",{appName:t.name})}function Hf(t,e){return fE.apply(this,arguments)}function fE(){return(fE=g(function*({url:t,body:e},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){const d=yield i.getHeartbeatsHeader();d&&(r["X-Firebase-Client"]=d)}const s={method:"POST",body:JSON.stringify(e),headers:r};let o,a;try{o=yield fetch(t,s)}catch(d){throw kt.create("fetch-network-error",{originalErrorMessage:d?.message})}if(200!==o.status)throw kt.create("fetch-status-error",{httpStatus:o.status});try{a=yield o.json()}catch(d){throw kt.create("fetch-parse-error",{originalErrorMessage:d?.message})}const u=a.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw kt.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const c=1e3*Number(u[1]),l=Date.now();return{token:a.token,expireTimeMillis:l+c,issuedAtTimeMillis:l}})).apply(this,arguments)}function LL(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${lE}/projects/${n}/apps/${r}:${one}?key=${i}`,body:{debug_token:e}}}const fne="firebase-app-check-database",pne=1,Bc="firebase-app-check-store";let zf=null;function pE(){return(pE=g(function*(t,e){const r=(yield function UL(){return zf||(zf=new Promise((t,e)=>{try{const n=indexedDB.open(fne,pne);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(kt.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Bc,{keyPath:"compositeKey"})}}catch(n){e(kt.create("storage-open",{originalErrorMessage:n?.message}))}}),zf)}()).transaction(Bc,"readwrite"),s=r.objectStore(Bc).put({compositeKey:t,value:e});return new Promise((o,a)=>{s.onsuccess=u=>{o()},r.onerror=u=>{var c;a(kt.create("storage-set",{originalErrorMessage:null===(c=u.target.error)||void 0===c?void 0:c.message}))}})})).apply(this,arguments)}const $c=new Ea("@firebase/app-check");function yE(t,e){return Us()?function mne(t,e){return function VL(t,e){return pE.apply(this,arguments)}(function $L(t){return`${t.options.appId}-${t.name}`}(t),e)}(t,e).catch(n=>{$c.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function vE(){return Bf().enabled}function wE(){return IE.apply(this,arguments)}function IE(){return(IE=g(function*(){const t=Bf();if(t.enabled&&t.token)return t.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Ene={error:"UNKNOWN_ERROR"};function Dne(t){return Kv.encodeString(JSON.stringify(t),!1)}function Gf(t){return EE.apply(this,arguments)}function EE(){return(EE=g(function*(t,e=!1){const n=t.app;dE(n);const r=Ge(n);let s,i=r.token;if(i&&!Sa(i)&&(r.token=void 0,i=void 0),!i){const u=yield r.cachedTokenPromise;u&&(Sa(u)?i=u:yield yE(n,void 0))}if(!e&&i&&Sa(i))return{token:i.token};let a,o=!1;if(vE()){r.exchangeTokenPromise||(r.exchangeTokenPromise=Hf(LL(n,yield wE()),t.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),o=!0);const u=yield r.exchangeTokenPromise;return yield yE(n,u),r.token=u,{token:u.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),o=!0),i=yield Ge(n).exchangeTokenPromise}catch(u){"appCheck/throttled"===u.code?$c.warn(u.message):$c.error(u),s=u}return i?s?a=Sa(i)?{token:i.token,internalError:s}:GL(s):(a={token:i.token},r.token=i,yield yE(n,i)):a=GL(s),o&&function zL(t,e){const n=Ge(t).tokenObservers;for(const r of n)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(n,a),a})).apply(this,arguments)}function jL(t){return DE.apply(this,arguments)}function DE(){return(DE=g(function*(t){const e=t.app;dE(e);const{provider:n}=Ge(e);if(vE()){const r=yield wE(),{token:i}=yield Hf(LL(e,r),t.heartbeatServiceProvider);return{token:i}}{const{token:r}=yield n.getToken();return{token:r}}})).apply(this,arguments)}function bE(t,e){const n=Ge(t),r=n.tokenObservers.filter(i=>i.next!==e);0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function HL(t){const{app:e}=t,n=Ge(e);let r=n.tokenRefresher;r||(r=function Tne(t){const{app:e}=t;return new une(g(function*(){let r;if(r=Ge(e).token?yield Gf(t,!0):yield Gf(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const n=Ge(e);if(n.token){let r=n.token.issuedAtTimeMillis+.5*(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,n.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},OL.RETRIAL_MIN_WAIT,OL.RETRIAL_MAX_WAIT)}(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function Sa(t){return t.expireTimeMillis-Date.now()>0}function GL(t){return{token:Dne(Ene),error:t}}class bne{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=Ge(this.app);for(const n of e)bE(this.app,n.next);return Promise.resolve()}}const ZL="app-check-internal";!function Vne(){zt(new Mt("app-check",t=>function Cne(t,e){return new bne(t,e)}(t.getProvider("app").getImmediate(),t.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(ZL).initialize()})),zt(new Mt(ZL,t=>function Sne(t){return{getToken:e=>Gf(t,e),getLimitedUseToken:()=>jL(t),addTokenListener:e=>function TE(t,e,n,r){const{app:i}=t,s=Ge(i);if(s.tokenObservers=[...s.tokenObservers,{next:n,error:r,type:e}],s.token&&Sa(s.token)){const a=s.token;Promise.resolve().then(()=>{n({token:a.token}),HL(t)}).catch(()=>{})}s.cachedTokenPromise.then(()=>HL(t))}(t,"INTERNAL",e),removeTokenListener:e=>bE(t.app,e)}}(t.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),xe("@firebase/app-check","0.8.0")}();class Wf{constructor(){return Ff("app-check")}}typeof window<"u"&&window;const zne=function tF(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},nF=new xr("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Kf=new Ea("@firebase/auth");function Qf(t,...e){Kf.logLevel<=Q.ERROR&&Kf.error(`Auth (${zi}): ${t}`,...e)}function vn(t,...e){throw RE(t,...e)}function Nr(t,...e){return RE(t,...e)}function RE(t,...e){if("string"!=typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return nF.create(t,...e)}function A(t,e,...n){if(!t)throw RE(e,...n)}function kr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Qf(e),new Error(e)}function Wi(t,e){t||kr(e)}function jc(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.href)||""}function iF(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}class Hc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Wi(n>e,"Short delay should be less than long delay!"),this.isMobile=function yX(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(yt())}()||function vX(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return function qne(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function ME(){return"http:"===iF()||"https:"===iF()}()||Qv()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function NE(t,e){Wi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class sF{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void kr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void kr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void kr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Kne={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Qne=new Hc(3e4,6e4);function Ve(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function qe(t,e,n,r){return kE.apply(this,arguments)}function kE(){return(kE=g(function*(t,e,n,r,i={}){return oF(t,i,g(function*(){let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=Cf(Object.assign({key:t.config.apiKey},o)).slice(1),u=yield t._getAdditionalHeaders();return u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),sF.fetch()(aF(t,t.config.apiHost,n,a),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function oF(t,e,n){return PE.apply(this,arguments)}function PE(){return(PE=g(function*(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},Kne),e);try{const i=new Yne(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw zc(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[u,c]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===u)throw zc(t,"credential-already-in-use",o);if("EMAIL_EXISTS"===u)throw zc(t,"email-already-in-use",o);if("USER_DISABLED"===u)throw zc(t,"user-disabled",o);const l=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw function rF(t,e,n){const r=Object.assign(Object.assign({},zne()),{[e]:n});return new xr("auth","Firebase",r).create(e,{appName:t.name})}(t,l,c);vn(t,l)}}catch(i){if(i instanceof kn)throw i;vn(t,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function OE(){return(OE=g(function*(t,e,n,r,i={}){const s=yield qe(t,e,n,r,i);return"mfaPendingCredential"in s&&vn(t,"multi-factor-auth-required",{_serverResponse:s}),s})).apply(this,arguments)}function aF(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?NE(t.config,i):`${t.config.apiScheme}://${i}`}class Yne{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Nr(this.auth,"network-request-failed")),Qne.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function zc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Nr(t,e,r);return i.customData._tokenResponse=n,i}function LE(){return(LE=g(function*(t,e){return qe(t,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function UE(){return(UE=g(function*(t,e){return qe(t,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function Gc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function VE(){return(VE=g(function*(t,e=!1){const n=ar(t),r=yield n.getIdToken(e),i=Yf(r);A(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:Gc(BE(i.auth_time)),issuedAtTime:Gc(BE(i.iat)),expirationTime:Gc(BE(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})).apply(this,arguments)}function BE(t){return 1e3*Number(t)}function Yf(t){const[e,n,r]=t.split(".");if(void 0===e||void 0===n||void 0===r)return Qf("JWT malformed, contained fewer than 3 sections"),null;try{const i=If(n);return i?JSON.parse(i):(Qf("Failed to decode base64 JWT payload"),null)}catch(i){return Qf("Caught error parsing JWT payload as JSON",i?.toString()),null}}function mi(t,e){return $E.apply(this,arguments)}function $E(){return($E=g(function*(t,e,n=!1){if(n)return e;try{return yield e}catch(r){throw r instanceof kn&&function nre({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})).apply(this,arguments)}class rre{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var n=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(g(function*(){yield n.iteration()}),r)}iteration(){var e=this;return g(function*(){try{yield e.user.getIdToken(!0)}catch(n){return void("auth/network-request-failed"===n?.code&&e.schedule(!0))}e.schedule()})()}}class uF{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Gc(this.lastLoginAt),this.creationTime=Gc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function qc(t){return jE.apply(this,arguments)}function jE(){return jE=g(function*(t){var e;const n=t.auth,r=yield t.getIdToken(),i=yield mi(t,function Zne(t,e){return UE.apply(this,arguments)}(n,{idToken:r}));A(i?.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=null!==(e=s.providerUserInfo)&&void 0!==e&&e.length?function ore(t){return t.map(e=>{var{providerId:n}=e,r=Wg(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(s.providerUserInfo):[],a=function sre(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(t.providerData,o),l=!!t.isAnonymous&&!(t.email&&s.passwordHash||a?.length),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new uF(s.createdAt,s.lastLoginAt),isAnonymous:l};Object.assign(t,d)}),jE.apply(this,arguments)}function HE(){return(HE=g(function*(t){const e=ar(t);yield qc(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function zE(){return(zE=g(function*(t,e){const n=yield oF(t,{},g(function*(){const r=Cf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=aF(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",sF.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}class Wc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){A(e.idToken,"internal-error"),A(typeof e.idToken<"u","internal-error"),A(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function tre(t){const e=Yf(t);return A(e,"internal-error"),A(typeof e.exp<"u","internal-error"),A(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){var r=this;return g(function*(){return A(!r.accessToken||r.refreshToken,e,"user-token-expired"),n||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,n){var r=this;return g(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function are(t,e){return zE.apply(this,arguments)}(e,n);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Wc;return r&&(A("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(A("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(A("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Wc,this.toJSON())}_performRefresh(){return kr("not implemented")}}function Ki(t,e){A("string"==typeof t||typeof t>"u","internal-error",{appName:e})}class Ys{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Wg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new rre(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new uF(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var n=this;return g(function*(){const r=yield mi(n,n.stsTokenManager.getToken(n.auth,e));return A(r,n.auth,"internal-error"),n.accessToken!==r&&(n.accessToken=r,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),r})()}getIdTokenResult(e){return function ere(t){return VE.apply(this,arguments)}(this,e)}reload(){return function ire(t){return HE.apply(this,arguments)}(this)}_assign(e){this!==e&&(A(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ys(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){A(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){var r=this;return g(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield qc(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return g(function*(){const n=yield e.getIdToken();return yield mi(e,function Xne(t,e){return LE.apply(this,arguments)}(e.auth,{idToken:n})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,u,c,l;const d=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,f=null!==(s=n.phoneNumber)&&void 0!==s?s:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,m=null!==(a=n.tenantId)&&void 0!==a?a:void 0,y=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,v=null!==(c=n.createdAt)&&void 0!==c?c:void 0,_=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,{uid:E,emailVerified:C,isAnonymous:P,providerData:K,stsTokenManager:Oe}=n;A(E&&Oe,e,"internal-error");const un=Wc.fromJSON(this.name,Oe);A("string"==typeof E,e,"internal-error"),Ki(d,e.name),Ki(h,e.name),A("boolean"==typeof C,e,"internal-error"),A("boolean"==typeof P,e,"internal-error"),Ki(f,e.name),Ki(p,e.name),Ki(m,e.name),Ki(y,e.name),Ki(v,e.name),Ki(_,e.name);const zr=new Ys({uid:E,auth:e,email:h,emailVerified:C,displayName:d,isAnonymous:P,photoURL:p,phoneNumber:f,tenantId:m,stsTokenManager:un,createdAt:v,lastLoginAt:_});return K&&Array.isArray(K)&&(zr.providerData=K.map(The=>Object.assign({},The))),y&&(zr._redirectEventId=y),zr}static _fromIdTokenResponse(e,n,r=!1){return g(function*(){const i=new Wc;i.updateFromServerResponse(n);const s=new Ys({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield qc(s),s})()}}const cF=new Map;function yi(t){Wi(t instanceof Function,"Expected a class definition");let e=cF.get(t);return e?(Wi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,cF.set(t,e),e)}const lF=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return g(function*(){return!0})()}_set(n,r){var i=this;return g(function*(){i.storage[n]=r})()}_get(n){var r=this;return g(function*(){const i=r.storage[n];return void 0===i?null:i})()}_remove(n){var r=this;return g(function*(){delete r.storage[n]})()}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})();function Xf(t,e,n){return`firebase:${t}:${e}:${n}`}class xa{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Xf(this.userKey,i.apiKey,s),this.fullPersistenceKey=Xf("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return g(function*(){const n=yield e.persistence._get(e.fullUserKey);return n?Ys._fromJSON(e.auth,n):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var n=this;return g(function*(){if(n.persistence===e)return;const r=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=e,r?n.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return g(function*(){if(!n.length)return new xa(yi(lF),e,r);const i=(yield Promise.all(n.map(function(){var c=g(function*(l){if(yield l._isAvailable())return l});return function(l){return c.apply(this,arguments)}}()))).filter(c=>c);let s=i[0]||yi(lF);const o=Xf(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const l=yield c._get(o);if(l){const d=Ys._fromJSON(e,l);c!==s&&(a=d),s=c;break}}catch{}const u=i.filter(c=>c._shouldAllowMigration);return s._shouldAllowMigration&&u.length?(s=u[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(function(){var c=g(function*(l){if(l!==s)try{yield l._remove(o)}catch{}});return function(l){return c.apply(this,arguments)}}())),new xa(s,e,r)):new xa(s,e,r)})()}}function dF(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(pF(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(hF(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(mF(e))return"Blackberry";if(yF(e))return"Webos";if(GE(e))return"Safari";if((e.includes("chrome/")||fF(e))&&!e.includes("edge/"))return"Chrome";if(gF(e))return"Android";{const r=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function hF(t=yt()){return/firefox\//i.test(t)}function GE(t=yt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function fF(t=yt()){return/crios\//i.test(t)}function pF(t=yt()){return/iemobile/i.test(t)}function gF(t=yt()){return/android/i.test(t)}function mF(t=yt()){return/blackberry/i.test(t)}function yF(t=yt()){return/webos/i.test(t)}function Jf(t=yt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function _F(t=yt()){return Jf(t)||gF(t)||yF(t)||mF(t)||/windows phone/i.test(t)||pF(t)}function vF(t,e=[]){let n;switch(t){case"Browser":n=dF(yt());break;case"Worker":n=`${dF(yt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${zi}/${r}`}function wF(t,e){return WE.apply(this,arguments)}function WE(){return(WE=g(function*(t,e){return qe(t,"GET","/v2/recaptchaConfig",Ve(t,e))})).apply(this,arguments)}function EF(t){return void 0!==t&&void 0!==t.enterprise}class DF{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>"EMAIL_PASSWORD_PROVIDER"===n.provider&&"OFF"!==n.enforcementState)}}function KE(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Nr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",function hre(){var t,e;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)})}function TF(t){return`__${t}${Math.floor(1e6*Math.random())}`}class bF{constructor(e){this.type="recaptcha-enterprise",this.auth=vt(e)}verify(e="verify",n=!1){var r=this;return g(function*(){function s(){return s=g(function*(a){if(!n){if(null==a.tenantId&&null!=a._agentRecaptchaConfig)return a._agentRecaptchaConfig.siteKey;if(null!=a.tenantId&&void 0!==a._tenantRecaptchaConfigs[a.tenantId])return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(function(){var u=g(function*(c,l){wF(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(void 0!==d.recaptchaKey){const h=new DF(d);return null==a.tenantId?a._agentRecaptchaConfig=h:a._tenantRecaptchaConfigs[a.tenantId]=h,c(h.siteKey)}l(new Error("recaptcha Enterprise site key undefined"))}).catch(d=>{l(d)})});return function(c,l){return u.apply(this,arguments)}}())}),s.apply(this,arguments)}function o(a,u,c){const l=window.grecaptcha;EF(l)?l.enterprise.ready(()=>{l.enterprise.execute(a,{action:e}).then(d=>{u(d)}).catch(()=>{u("NO_RECAPTCHA")})}):c(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,u)=>{(function i(a){return s.apply(this,arguments)})(r.auth).then(c=>{if(!n&&EF(window.grecaptcha))o(c,a,u);else{if(typeof window>"u")return void u(new Error("RecaptchaVerifier is only supported in browser"));KE("https://www.google.com/recaptcha/enterprise.js?render="+c).then(()=>{o(c,a,u)}).catch(l=>{u(l)})}}).catch(c=>{u(c)})})})()}}class mre{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{o(e(s))}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var n=this;return g(function*(){if(n.auth.currentUser===e)return;const r=[];try{for(const i of n.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const s of r)try{s()}catch{}throw n.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}class yre{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new CF(this),this.idTokenSubscription=new CF(this),this.beforeStateQueue=new mre(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=nF,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){var r=this;return n&&(this._popupRedirectResolver=yi(n)),this._initializationPromise=this.queue(g(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield xa.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(n),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return g(function*(){if(e._deleted)return;const n=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||n){if(e.currentUser&&n&&e.currentUser.uid===n.uid)return e._currentUser._assign(n),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(n,!0)}})()}initializeCurrentUser(e){var n=this;return g(function*(){var r;const i=yield n.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const a=null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId,u=s?._redirectEventId,c=yield n.tryRedirectSignIn(e);(!a||a===u)&&c?.user&&(s=c.user,o=!0)}if(!s)return n.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{yield n.beforeStateQueue.runMiddleware(s)}catch(a){s=i,n._popupRedirectResolver._overrideRedirectResult(n,()=>Promise.reject(a))}return s?n.reloadAndSetCurrentUserOrClear(s):n.directlySetCurrentUser(null)}return A(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===s._redirectEventId?n.directlySetCurrentUser(s):n.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(e){var n=this;return g(function*(){let r=null;try{r=yield n._popupRedirectResolver._completeRedirectFn(n,e,!0)}catch{yield n._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var n=this;return g(function*(){try{yield qc(e)}catch(r){if("auth/network-request-failed"!==r?.code)return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function Wne(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var e=this;return g(function*(){e._deleted=!0})()}updateCurrentUser(e){var n=this;return g(function*(){const r=e?ar(e):null;return r&&A(r.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(r&&r._clone(n))})()}_updateCurrentUser(e,n=!1){var r=this;return g(function*(){if(!r._deleted)return e&&A(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),n||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(g(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return g(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var n=this;return this.queue(g(function*(){yield n.assertedPersistence.setPersistence(yi(e))}))}initializeRecaptchaConfig(){var e=this;return g(function*(){const n=yield wF(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new DF(n);null==e.tenantId?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.emailPasswordEnabled&&new bF(e).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new xr("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,n){var r=this;return g(function*(){const i=yield r.getOrInitRedirectPersistenceManager(n);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var n=this;return g(function*(){if(!n.redirectPersistenceManager){const r=e&&yi(e)||n._popupRedirectResolver;A(r,n,"argument-error"),n.redirectPersistenceManager=yield xa.create(n,[yi(r._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(e){var n=this;return g(function*(){var r,i;return n._isInitialized&&(yield n.queue(g(function*(){}))),(null===(r=n._currentUser)||void 0===r?void 0:r._redirectEventId)===e?n._currentUser:(null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?n.redirectUser:null})()}_persistUserIfCurrent(e){var n=this;return g(function*(){if(e===n.currentUser)return n.queue(g(function*(){return n.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(n=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s="function"==typeof n?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return A(o,this,"internal-error"),o.then(()=>s(this.currentUser)),"function"==typeof n?e.addObserver(n,r,i):e.addObserver(n)}directlySetCurrentUser(e){var n=this;return g(function*(){n.currentUser&&n.currentUser!==e&&n._currentUser._stopProactiveRefresh(),e&&n.isProactiveRefreshEnabled&&e._startProactiveRefresh(),n.currentUser=e,e?yield n.assertedPersistence.setCurrentUser(e):yield n.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return A(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=vF(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return g(function*(){var n;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(n=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const s=yield e._getAppCheckToken();return s&&(r["X-Firebase-AppCheck"]=s),r})()}_getAppCheckToken(){var e=this;return g(function*(){var n;const r=yield null===(n=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getToken();return r?.error&&function Gne(t,...e){Kf.logLevel<=Q.WARN&&Kf.warn(`Auth (${zi}): ${t}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function vt(t){return ar(t)}class CF{constructor(e){this.auth=e,this.observer=null,this.addObserver=function bX(t,e){const n=new CX(t,e);return n.subscribe.bind(n)}(n=>this.observer=n)}get next(){return A(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function SF(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function AF(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}class Dre{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return kr("not implemented")}_getIdTokenResponse(e){return kr("not implemented")}_linkToIdToken(e,n){return kr("not implemented")}_getReauthenticationResolver(e){return kr("not implemented")}}function _i(t,e){return dD.apply(this,arguments)}function dD(){return(dD=g(function*(t,e){return function gi(t,e,n,r){return OE.apply(this,arguments)}(t,"POST","/v1/accounts:signInWithIdp",Ve(t,e))})).apply(this,arguments)}class Yi{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Fre extends Yi{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Gn{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return g(function*(){const s=yield Ys._fromIdTokenResponse(e,r,i),o=NF(r);return new Gn({user:s,providerId:o,_tokenResponse:r,operationType:n})})()}static _forOperation(e,n,r){return g(function*(){yield e._updateTokensIfNecessary(r,!0);const i=NF(r);return new Gn({user:e,providerId:i,_tokenResponse:r,operationType:n})})()}}function NF(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class rp extends kn{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,rp.prototype),this.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new rp(e,n,r,i)}}function kF(t,e,n,r){return("reauthenticate"===e?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw"auth/multi-factor-auth-required"===s.code?rp._fromErrorAndOperation(t,s,e,r):s})}function ID(){return(ID=g(function*(t,e,n=!1){const r=yield mi(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return Gn._forOperation(t,"link",r)})).apply(this,arguments)}function DD(){return(DD=g(function*(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=yield mi(t,kF(r,i,e,t),n);A(s.idToken,r,"internal-error");const o=Yf(s.idToken);A(o,r,"internal-error");const{sub:a}=o;return A(t.uid===a,r,"user-mismatch"),Gn._forOperation(t,i,s)}catch(s){throw"auth/user-not-found"===s?.code&&vn(r,"user-mismatch"),s}})).apply(this,arguments)}function TD(){return(TD=g(function*(t,e,n=!1){const r="signIn",i=yield kF(t,r,e),s=yield Gn._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})).apply(this,arguments)}const sp="__sak";class UF{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(sp,"1"),this.storage.removeItem(sp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const oie=(()=>{class t extends UF{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function rie(){const t=yt();return GE(t)||Jf(t)}()&&function lre(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=_F(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key)return void this.forAllChangedKeys((a,u,c)=>{this.notifyListeners(a,c)});const i=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(i);if(n.newValue!==a)null!==n.newValue?this.storage.setItem(i,n.newValue):this.storage.removeItem(i);else if(this.localCache[i]===n.newValue&&!r)return}const s=()=>{const a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);!function cre(){return function wX(){const t=yt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}()&&10===document.documentMode}()||o===n.newValue||n.newValue===n.oldValue?s():setTimeout(s,10)}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(n,r){var i=()=>super._set,s=this;return g(function*(){yield i().call(s,n,r),s.localCache[n]=JSON.stringify(r)})()}_get(n){var r=()=>super._get,i=this;return g(function*(){const s=yield r().call(i,n);return i.localCache[n]=JSON.stringify(s),s})()}_remove(n){var r=()=>super._remove,i=this;return g(function*(){yield r().call(i,n),delete i.localCache[n]})()}}return t.type="LOCAL",t})(),VF=(()=>{class t extends UF{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})();let uie=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){const r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;const i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){var r=this;return g(function*(){const i=n,{eventId:s,eventType:o,data:a}=i.data,u=r.handlersMap[o];if(!u?.size)return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const c=Array.from(u).map(function(){var d=g(function*(h){return h(i.origin,a)});return function(h){return d.apply(this,arguments)}}()),l=yield function aie(t){return Promise.all(t.map(function(){var e=g(function*(n){try{return{fulfilled:!0,value:yield n}}catch(r){return{fulfilled:!1,reason:r}}});return function(n){return e.apply(this,arguments)}}()))}(c);i.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:l})})()}_subscribe(n,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||0===this.handlersMap[n].size)&&delete this.handlersMap[n],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return t.receivers=[],t})();function eT(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(10*Math.random());return t+n}class cie{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){var i=this;return g(function*(){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,a;return new Promise((u,c)=>{const l=eT("",20);s.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(h){const f=h;if(f.data.eventId===l)switch(f.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(f.data.response);break;default:clearTimeout(d),clearTimeout(o),c(new Error("invalid_response"))}}},i.handlers.add(a),s.port1.addEventListener("message",a.onMessage),i.target.postMessage({eventType:e,eventId:l,data:n},[s.port2])}).finally(()=>{a&&i.removeMessageHandler(a)})})()}}function st(){return window}function tT(){return typeof st().WorkerGlobalScope<"u"&&"function"==typeof st().importScripts}function nT(){return(nT=g(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const BF="firebaseLocalStorageDb",op="firebaseLocalStorage",$F="fbase_key";class Xc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ap(t,e){return t.transaction([op],e?"readwrite":"readonly").objectStore(op)}function rT(){const t=indexedDB.open(BF,1);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(op,{keyPath:$F})}catch(i){n(i)}}),t.addEventListener("success",g(function*(){const r=t.result;r.objectStoreNames.contains(op)?e(r):(r.close(),yield function gie(){const t=indexedDB.deleteDatabase(BF);return new Xc(t).toPromise()}(),e(yield rT()))}))})}function jF(t,e,n){return iT.apply(this,arguments)}function iT(){return(iT=g(function*(t,e,n){const r=ap(t,!0).put({[$F]:e,value:n});return new Xc(r).toPromise()})).apply(this,arguments)}function sT(){return(sT=g(function*(t,e){const n=ap(t,!1).get(e),r=yield new Xc(n).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function HF(t,e){const n=ap(t,!0).delete(e);return new Xc(n).toPromise()}const vie=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var n=this;return g(function*(){return n.db||(n.db=yield rT()),n.db})()}_withRetries(n){var r=this;return g(function*(){let i=0;for(;;)try{const s=yield r._openDb();return yield n(s)}catch(s){if(i++>3)throw s;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var n=this;return g(function*(){return tT()?n.initializeReceiver():n.initializeSender()})()}initializeReceiver(){var n=this;return g(function*(){n.receiver=uie._getInstance(function fie(){return tT()?self:null}()),n.receiver._subscribe("keyChanged",function(){var r=g(function*(i,s){return{keyProcessed:(yield n._poll()).includes(s.key)}});return function(i,s){return r.apply(this,arguments)}}()),n.receiver._subscribe("ping",function(){var r=g(function*(i,s){return["keyChanged"]});return function(i,s){return r.apply(this,arguments)}}())})()}initializeSender(){var n=this;return g(function*(){var r,i;if(n.activeServiceWorker=yield function die(){return nT.apply(this,arguments)}(),!n.activeServiceWorker)return;n.sender=new cie(n.activeServiceWorker);const s=yield n.sender._send("ping",{},800);s&&null!==(r=s[0])&&void 0!==r&&r.fulfilled&&null!==(i=s[0])&&void 0!==i&&i.value.includes("keyChanged")&&(n.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(n){var r=this;return g(function*(){if(r.sender&&r.activeServiceWorker&&function hie(){var t;return(null===(t=navigator?.serviceWorker)||void 0===t?void 0:t.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:n},r.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return g(function*(){try{if(!indexedDB)return!1;const n=yield rT();return yield jF(n,sp,"1"),yield HF(n,sp),!0}catch{}return!1})()}_withPendingWrite(n){var r=this;return g(function*(){r.pendingWrites++;try{yield n()}finally{r.pendingWrites--}})()}_set(n,r){var i=this;return g(function*(){return i._withPendingWrite(g(function*(){return yield i._withRetries(s=>jF(s,n,r)),i.localCache[n]=r,i.notifyServiceWorker(n)}))})()}_get(n){var r=this;return g(function*(){const i=yield r._withRetries(s=>function mie(t,e){return sT.apply(this,arguments)}(s,n));return r.localCache[n]=i,i})()}_remove(n){var r=this;return g(function*(){return r._withPendingWrite(g(function*(){return yield r._withRetries(i=>HF(i,n)),delete r.localCache[n],r.notifyServiceWorker(n)}))})()}_poll(){var n=this;return g(function*(){const r=yield n._withRetries(o=>{const a=ap(o,!1).getAll();return new Xc(a).toPromise()});if(!r)return[];if(0!==n.pendingWrites)return[];const i=[],s=new Set;for(const{fbase_key:o,value:a}of r)s.add(o),JSON.stringify(n.localCache[o])!==JSON.stringify(a)&&(n.notifyListeners(o,a),i.push(o));for(const o of Object.keys(n.localCache))n.localCache[o]&&!s.has(o)&&(n.notifyListeners(o,null),i.push(o));return i})()}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const s of Array.from(i))s(r)}startPolling(){var n=this;this.stopPolling(),this.pollTimer=setInterval(g(function*(){return n._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return t.type="LOCAL",t})();TF("rcb"),new Hc(3e4,6e4);class pT extends Dre{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return _i(e,this._buildIdpRequest())}_linkToIdToken(e,n){return _i(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return _i(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Oie(t){return function LF(t,e){return TD.apply(this,arguments)}(t.auth,new pT(t),t.bypassAuthState)}function Lie(t){const{auth:e,user:n}=t;return A(n,e,"internal-error"),function OF(t,e){return DD.apply(this,arguments)}(n,new pT(t),t.bypassAuthState)}function Fie(t){return gT.apply(this,arguments)}function gT(){return(gT=g(function*(t){const{auth:e,user:n}=t;return A(n,e,"internal-error"),function wD(t,e){return ID.apply(this,arguments)}(n,new pT(t),t.bypassAuthState)})).apply(this,arguments)}class Uie{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){var e=this;return new Promise(function(){var n=g(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(s){e.reject(s)}});return function(r,i){return n.apply(this,arguments)}}())}onAuthEvent(e){var n=this;return g(function*(){const{urlResponse:r,sessionId:i,postBody:s,tenantId:o,error:a,type:u}=e;if(a)return void n.reject(a);const c={auth:n.auth,requestUri:r,sessionId:i,tenantId:o||void 0,postBody:s||void 0,user:n.user,bypassAuthState:n.bypassAuthState};try{n.resolve(yield n.getIdpTask(u)(c))}catch(l){n.reject(l)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Oie;case"linkViaPopup":case"linkViaRedirect":return Fie;case"reauthViaPopup":case"reauthViaRedirect":return Lie;default:vn(this.auth,"internal-error")}}resolve(e){Wi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Wi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}new Hc(2e3,1e4);const Vie="pendingRedirect",Jc=new Map;class Bie extends Uie{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,n=this;return g(function*(){let r=Jc.get(n.auth._key());if(!r){try{const s=(yield function $ie(t,e){return wT.apply(this,arguments)}(n.resolver,n.auth))?yield e().call(n):null;r=()=>Promise.resolve(s)}catch(i){r=()=>Promise.reject(i)}Jc.set(n.auth._key(),r)}return n.bypassAuthState||Jc.set(n.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var n=()=>super.onAuthEvent,r=this;return g(function*(){if("signInViaRedirect"===e.type)return n().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,n().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return g(function*(){})()}cleanUp(){}}function wT(){return(wT=g(function*(t,e){const n=function qF(t){return Xf(Vie,t.config.apiKey,t.name)}(e),r=function GF(t){return yi(t._redirectPersistence)}(t);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(n));return yield r._remove(n),i})).apply(this,arguments)}function jie(t,e){Jc.set(t._key(),e)}function WF(t,e){return ST.apply(this,arguments)}function ST(){return(ST=g(function*(t,e,n=!1){const r=vt(t),i=function Js(t,e){return e?yi(e):(A(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}(r,e),o=yield new Bie(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})).apply(this,arguments)}class Wie{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function Kie(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return YF(t);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!YF(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";n.onError(Nr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=null===n.eventId||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(QF(e))}saveEventToCache(e){this.cachedEventUids.add(QF(e)),this.lastProcessedEventTime=Date.now()}}function QF(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function YF({type:t,error:e}){return"unknown"===t&&"auth/no-auth-event"===e?.code}function xT(){return(xT=g(function*(t,e={}){return qe(t,"GET","/v1/projects",e)})).apply(this,arguments)}const Yie=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Xie=/^https?/;function RT(){return RT=g(function*(t){if(t.config.emulator)return;const{authorizedDomains:e}=yield function Qie(t){return xT.apply(this,arguments)}(t);for(const n of e)try{if(Zie(n))return}catch{}vn(t,"unauthorized-domain")}),RT.apply(this,arguments)}function Zie(t){const e=jc(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return""===o.hostname&&""===r?"chrome-extension:"===n&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===n&&o.hostname===r}if(!Xie.test(n))return!1;if(Yie.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const ese=new Hc(3e4,6e4);function XF(){const t=st().___jsl;if(t?.H)for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}let cp=null;const rse=new Hc(5e3,15e3),ise="__/auth/iframe",sse="emulator/auth/iframe",ose={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ase=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function use(t){const e=t.config;A(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?NE(e,sse):`https://${t.config.authDomain}/${ise}`,r={apiKey:e.apiKey,appName:t.name,v:zi},i=ase.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Cf(r).slice(1)}`}function MT(){return MT=g(function*(t){const e=yield function nse(t){return cp=cp||function tse(t){return new Promise((e,n)=>{var r,i,s;function o(){XF(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{XF(),n(Nr(t,"network-request-failed"))},timeout:ese.get()})}if(null!==(i=null===(r=st().gapi)||void 0===r?void 0:r.iframes)&&void 0!==i&&i.Iframe)e(gapi.iframes.getContext());else{if(null===(s=st().gapi)||void 0===s||!s.load){const a=TF("iframefcb");return st()[a]=()=>{gapi.load?o():n(Nr(t,"network-request-failed"))},KE(`https://apis.google.com/js/api.js?onload=${a}`).catch(u=>n(u))}o()}}).catch(e=>{throw cp=null,e})}(t),cp}(t),n=st().gapi;return A(n,t,"internal-error"),e.open({where:document.body,url:use(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ose,dontclear:!0},r=>new Promise(function(){var i=g(function*(s,o){yield r.restyle({setHideOnLeave:!1});const a=Nr(t,"network-request-failed"),u=st().setTimeout(()=>{o(a)},rse.get());function c(){st().clearTimeout(u),s(r)}r.ping(c).then(c,()=>{o(a)})});return function(s,o){return i.apply(this,arguments)}}()))}),MT.apply(this,arguments)}const lse={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class JF{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const yse="__/auth/handler",_se="emulator/auth/handler",vse=encodeURIComponent("fac");function ZF(t,e,n,r,i,s){return NT.apply(this,arguments)}function NT(){return(NT=g(function*(t,e,n,r,i,s){A(t.config.authDomain,t,"auth-domain-config-required"),A(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:zi,eventId:i};if(e instanceof Yi){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",function TX(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[l,d]of Object.entries(s||{}))o[l]=d}if(e instanceof Fre){const l=e.getScopes().filter(d=>""!==d);l.length>0&&(o.scopes=l.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const l of Object.keys(a))void 0===a[l]&&delete a[l];const u=yield t._getAppCheckToken(),c=u?`#${vse}=${encodeURIComponent(u)}`:"";return`${function wse({config:t}){return t.emulator?NE(t,_se):`https://${t.authDomain}/${yse}`}(t)}?${Cf(a).slice(1)}${c}`})).apply(this,arguments)}const kT="webStorageSupport",Ese=class Ise{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=VF,this._completeRedirectFn=WF,this._overrideRedirectResult=jie}_openPopup(e,n,r,i){var s=this;return g(function*(){var o;Wi(null===(o=s.eventManagers[e._key()])||void 0===o?void 0:o.manager,"_initialize() not called before _openPopup()");const a=yield ZF(e,n,r,jc(),i);return function gse(t,e,n,r=500,i=600){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u=Object.assign(Object.assign({},lse),{width:r.toString(),height:i.toString(),top:s,left:o}),c=yt().toLowerCase();n&&(a=fF(c)?"_blank":n),hF(c)&&(e=e||"http://localhost",u.scrollbars="yes");const l=Object.entries(u).reduce((h,[f,p])=>`${h}${f}=${p},`,"");if(function ure(t=yt()){var e;return Jf(t)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(c)&&"_self"!==a)return function mse(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(e||"",a),new JF(null);const d=window.open(e||"",a,l);A(d,t,"popup-blocked");try{d.focus()}catch{}return new JF(d)}(e,a,eT())})()}_openRedirect(e,n,r,i){var s=this;return g(function*(){return yield s._originValidation(e),function lie(t){st().location.href=t}(yield ZF(e,n,r,jc(),i)),new Promise(()=>{})})()}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Wi(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){var n=this;return g(function*(){const r=yield function cse(t){return MT.apply(this,arguments)}(e),i=new Wie(e);return r.register("authEvent",s=>(A(s?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),n.eventManagers[e._key()]={manager:i},n.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(kT,{type:kT},i=>{var s;const o=null===(s=i?.[0])||void 0===s?void 0:s[kT];void 0!==o&&n(!!o),vn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=function Jie(t){return RT.apply(this,arguments)}(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return _F()||GE()||Jf()}};var n2="@firebase/auth";class Dse{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var n=this;return g(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){A(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Sse=uO("authIdTokenMaxAge")||300;let i2=null;const Ase=t=>function(){var e=g(function*(n){const r=n&&(yield n.getIdTokenResult()),i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3;if(i&&i>Sse)return;const s=r?.token;i2!==s&&(i2=s,yield fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))});return function(n){return e.apply(this,arguments)}}();function xse(t=xf()){const e=js(t,"auth");if(e.isInitialized())return e.getImmediate();const n=function _re(t,e){const n=js(t,"auth");if(n.isInitialized()){const i=n.getImmediate();if(bf(n.getOptions(),e??{}))return i;vn(i,"already-initialized")}return n.initialize({options:e})}(t,{popupRedirectResolver:Ese,persistence:[vie,oie,VF]}),r=uO("authTokenSyncURL");if(r){const s=Ase(r);(function Jre(t,e,n){ar(t).beforeAuthStateChanged(e,n)})(n,s,()=>s(n.currentUser)),function Xre(t,e,n,r){ar(t).onIdTokenChanged(e,n,r)}(n,o=>s(o))}const i=sO("auth");return i&&function wre(t,e,n){const r=vt(t);A(r._canInitEmulator,r,"emulator-config-failed"),A(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!n?.disableWarnings,s=SF(e),{host:o,port:a}=function Ire(t){const e=SF(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:AF(r.substr(s.length+1))}}{const[s,o]=r.split(":");return{host:s,port:AF(o)}}}(e);r.config.emulator={url:`${s}//${o}${null===a?"":`:${a}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function Ere(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",t):t())}()}(n,`http://${i}`),n}!function bse(t){zt(new Mt("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;A(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:vF(t)},c=new yre(r,i,s,u);return function vre(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(yi);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),zt(new Mt("auth-internal",e=>{const n=vt(e.getProvider("auth").getImmediate());return new Dse(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),xe(n2,"0.23.2",function Tse(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(t)),xe(n2,"0.23.2","esm2017")}("Browser");class OT{constructor(e){return e}}class LT{constructor(){return Ff("auth")}}const FT=new U("angularfire2.auth-instances");function Mse(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new OT(r)}}const Nse={provide:LT,deps:[[new dt,FT]]},kse={provide:OT,useFactory:function Rse(t,e){const n=Lf("auth",t,e);return n&&new OT(n)},deps:[[new dt,FT],Qs]};let Pse=(()=>{class t{constructor(){xe("angularfire",Vc.full,"auth")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Qn({type:t}),t.\u0275inj=Un({providers:[kse,Nse]}),t})();function Ose(t,...e){return{ngModule:Pse,providers:[{provide:FT,useFactory:Mse(t),multi:!0,deps:[ve,Rn,Uf,Vf,[new dt,Wf],...e]}]}}const Lse=Ca(xse,!0),o2="firebasestorage.googleapis.com";class Be extends kn{constructor(e,n,r=0){super(UT(e),`Firebase Storage: ${n} (${UT(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Be.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return UT(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var z=(()=>((z=z||{}).UNKNOWN="unknown",z.OBJECT_NOT_FOUND="object-not-found",z.BUCKET_NOT_FOUND="bucket-not-found",z.PROJECT_NOT_FOUND="project-not-found",z.QUOTA_EXCEEDED="quota-exceeded",z.UNAUTHENTICATED="unauthenticated",z.UNAUTHORIZED="unauthorized",z.UNAUTHORIZED_APP="unauthorized-app",z.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",z.INVALID_CHECKSUM="invalid-checksum",z.CANCELED="canceled",z.INVALID_EVENT_NAME="invalid-event-name",z.INVALID_URL="invalid-url",z.INVALID_DEFAULT_BUCKET="invalid-default-bucket",z.NO_DEFAULT_BUCKET="no-default-bucket",z.CANNOT_SLICE_BLOB="cannot-slice-blob",z.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",z.NO_DOWNLOAD_URL="no-download-url",z.INVALID_ARGUMENT="invalid-argument",z.INVALID_ARGUMENT_COUNT="invalid-argument-count",z.APP_DELETED="app-deleted",z.INVALID_ROOT_OPERATION="invalid-root-operation",z.INVALID_FORMAT="invalid-format",z.INTERNAL_ERROR="internal-error",z.UNSUPPORTED_ENVIRONMENT="unsupported-environment",z))();function UT(t){return"storage/"+t}function BT(t){return new Be(z.INVALID_ARGUMENT,t)}function d2(){return new Be(z.APP_DELETED,"The Firebase app was deleted.")}class rn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=rn.makeFromUrl(e,n)}catch{return new rn(e,"")}if(""===r.path)return r;throw function qse(t){return new Be(z.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)",a=new RegExp("^gs://"+i+"(/(.*))?$","i");function c(C){C.path_=decodeURIComponent(C.path)}const d=n.replace(/[.]/g,"\\."),E=[{regex:a,indices:{bucket:1,path:3},postModify:function s(C){"/"===C.path.charAt(C.path.length-1)&&(C.path_=C.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${d}/v[A-Za-z0-9_]+/b/${i}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:c},{regex:new RegExp(`^https?://${n===o2?"(?:storage.googleapis.com|storage.cloud.google.com)":n}/${i}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:c}];for(let C=0;C<E.length;C++){const P=E[C],K=P.regex.exec(e);if(K){let un=K[P.indices.path];un||(un=""),r=new rn(K[P.indices.bucket],un),P.postModify(r);break}}if(null==r)throw function Gse(t){return new Be(z.INVALID_URL,"Invalid URL '"+t+"'.")}(e);return r}}class Jse{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function jT(t,e,n,r){if(r<e)throw BT(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw BT(`Invalid value for '${t}'. Expected ${n} or less.`)}var wn=(()=>((wn=wn||{})[wn.NO_ERROR=0]="NO_ERROR",wn[wn.NETWORK_ERROR=1]="NETWORK_ERROR",wn[wn.ABORT=2]="ABORT",wn))();class ioe{constructor(e,n,r,i,s,o,a,u,c,l,d,h=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=u,this.timeout_=c,this.progressCallback_=l,this.connectionFactory_=d,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((f,p)=>{this.resolve_=f,this.reject_=p,this.start_()})}start_(){const n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const u=this.callback_(a,a.getResponse());!function toe(t){return void 0!==t}(u)?s():s(u)}catch(u){o(u)}else if(null!==a){const u=function VT(){return new Be(z.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}();u.serverResponse=a.getErrorText(),o(this.errorCallback_?this.errorCallback_(a,u):u)}else o(i.canceled?this.appDelete_?d2():function c2(){return new Be(z.CANCELED,"User canceled the upload/download.")}():function u2(){return new Be(z.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}())};this.canceled_?n(0,new hp(!1,null,!0)):this.backoffId_=function Zse(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function u(){return 2===a}let c=!1;function l(...y){c||(c=!0,e.apply(null,y))}function d(y){i=setTimeout(()=>{i=null,t(f,u())},y)}function h(){s&&clearTimeout(s)}function f(y,...v){if(c)return void h();if(y)return h(),void l.call(null,y,...v);if(u()||o)return h(),void l.call(null,y,...v);let E;r<64&&(r*=2),1===a?(a=2,E=0):E=1e3*(r+Math.random()),d(E)}let p=!1;function m(y){p||(p=!0,h(),!c&&(null!==i?(y||(a=2),clearTimeout(i),d(0)):y||(a=1)))}return d(0),s=setTimeout(()=>{o=!0,m(!0)},n),m}((r,i)=>{if(i)return void r(!1,new hp(!1,null,!0));const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{null!==this.progressCallback_&&this.progressCallback_(a.loaded,a.lengthComputable?a.total:-1)};null!==this.progressCallback_&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===wn.NO_ERROR,u=s.getStatus();if(!a||function p2(t,e){const n=t>=500&&t<600,i=-1!==[408,429].indexOf(t),s=-1!==e.indexOf(t);return n||i||s}(u,this.additionalRetryCodes_)&&this.retry){const l=s.getErrorCode()===wn.ABORT;return void r(!1,new hp(!1,null,l))}const c=-1!==this.successCodes_.indexOf(u);r(!0,new hp(c,s))})},n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function eoe(t){t(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class hp{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}class Zs{constructor(e,n){this._service=e,this._location=n instanceof rn?n:rn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Zs(e,n)}get root(){const e=new rn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return function v2(t){const e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}(this._location.path)}get storage(){return this._service}get parent(){const e=function _oe(t){if(0===t.length)return null;const e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this._location.path);if(null===e)return null;const n=new rn(this._location.bucket,e);return new Zs(this._service,n)}_throwIfRoot(e){if(""===this._location.path)throw function Xse(t){return new Be(z.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function P2(t,e){const n=e?.storageBucket;return null==n?null:rn.makeFromBucketSpec(n,t)}class QT{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=o2,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?rn.makeFromBucketSpec(i,this._host):P2(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?rn.makeFromBucketSpec(this._url,e):P2(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){jT("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){jT("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return g(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const n=e._authProvider.getImmediate({optional:!0});if(n){const r=yield n.getToken();if(null!==r)return r.accessToken}return null})()}_getAppCheckToken(){var e=this;return g(function*(){const n=e._appCheckProvider.getImmediate({optional:!0});return n?(yield n.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Zs(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new Jse(d2());{const o=function coe(t,e,n,r,i,s,o=!0){const a=function f2(t){const e=encodeURIComponent;let n="?";for(const r in t)t.hasOwnProperty(r)&&(n=n+(e(r)+"=")+e(t[r])+"&");return n=n.slice(0,-1),n}(t.urlParams),u=t.url+a,c=Object.assign({},t.headers);return function aoe(t,e){e&&(t["X-Firebase-GMPID"]=e)}(c,e),function soe(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(c,n),function ooe(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}(c,s),function uoe(t,e){null!==e&&(t["X-Firebase-AppCheck"]=e)}(c,r),new ioe(u,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}makeRequestWithTokens(e,n){var r=this;return g(function*(){const[i,s]=yield Promise.all([r._getAuthToken(),r._getAppCheckToken()]);return r._makeRequest(e,n,i,s).getPromise()})()}}const O2="@firebase/storage",F2="storage";function rae(t=xf(),e){const r=js(t=ar(t),F2).getImmediate({identifier:e}),i=oO("storage");return i&&function iae(t,e,n,r={}){!function nae(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken="string"==typeof i?i:cO(i,t.app.options.projectId))}(t,e,n,r)}(r,...i),r}function sae(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new QT(n,r,i,e,zi)}!function oae(){zt(new Mt(F2,sae,"PUBLIC").setMultipleInstances(!0)),xe(O2,"0.11.2",""),xe(O2,"0.11.2","esm2017")}();class YT{constructor(e){return e}}const U2="storage",XT=new U("angularfire2.storage-instances");function cae(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new YT(r)}}const lae={provide:class aae{constructor(){return Ff(U2)}},deps:[[new dt,XT]]},dae={provide:YT,useFactory:function uae(t,e){const n=Lf(U2,t,e);return n&&new YT(n)},deps:[[new dt,XT],Qs]};let hae=(()=>{class t{constructor(){xe("angularfire",Vc.full,"gcs")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Qn({type:t}),t.\u0275inj=Un({providers:[dae,lae]}),t})();function fae(t,...e){return{ngModule:hae,providers:[{provide:XT,useFactory:cae(t),multi:!0,deps:[ve,Rn,Uf,Vf,[new dt,LT],[new dt,Wf],...e]}]}}const pae=Ca(rae,!0);var M,gae=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},lr={},JT=JT||{},ee=gae||self;function mp(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function rl(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var ZT="closure_uid_"+(1e9*Math.random()>>>0),yae=0;function _ae(t,e,n){return t.call.apply(t.bind,arguments)}function vae(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Gt(t,e,n){return(Gt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?_ae:vae).apply(null,arguments)}function yp(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function wt(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function Xi(){this.s=this.s,this.o=this.o}Xi.prototype.s=!1,Xi.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function mae(t){Object.prototype.hasOwnProperty.call(t,ZT)&&t[ZT]||(t[ZT]=++yae)}(this)},Xi.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const V2=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function eb(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function B2(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(mp(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function qt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}qt.prototype.h=function(){this.defaultPrevented=!0};var Iae=function(){if(!ee.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{ee.addEventListener("test",()=>{},e),ee.removeEventListener("test",()=>{},e)}catch{}return t}();function il(t){return/^[\s\xa0]*$/.test(t)}function _p(){var t=ee.navigator;return t&&(t=t.userAgent)?t:""}function Lr(t){return-1!=_p().indexOf(t)}function tb(t){return tb[" "](t),t}tb[" "]=function(){};var rb,t,Dae=Lr("Opera"),ka=Lr("Trident")||Lr("MSIE"),$2=Lr("Edge"),nb=$2||ka,j2=Lr("Gecko")&&!(-1!=_p().toLowerCase().indexOf("webkit")&&!Lr("Edge"))&&!(Lr("Trident")||Lr("MSIE"))&&!Lr("Edge"),Tae=-1!=_p().toLowerCase().indexOf("webkit")&&!Lr("Edge");function H2(){var t=ee.document;return t?t.documentMode:void 0}e:{var ib="",sb=(t=_p(),j2?/rv:([^\);]+)(\)|;)/.exec(t):$2?/Edge\/([\d\.]+)/.exec(t):ka?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):Tae?/WebKit\/(\S+)/.exec(t):Dae?/(?:Version)[ \/]?(\S+)/.exec(t):void 0);if(sb&&(ib=sb?sb[1]:""),ka){var ob=H2();if(null!=ob&&ob>parseFloat(ib)){rb=String(ob);break e}}rb=ib}var bae=ee.document&&ka&&(H2()||parseInt(rb,10))||void 0;function sl(t,e){if(qt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(j2){e:{try{tb(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Cae[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&sl.$.h.call(this)}}wt(sl,qt);var Cae={2:"touch",3:"pen",4:"mouse"};sl.prototype.h=function(){sl.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var ol="closure_listenable_"+(1e6*Math.random()|0),Sae=0;function Aae(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++Sae,this.fa=this.ia=!1}function vp(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function ub(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function G2(t){const e={};for(const n in t)e[n]=t[n];return e}const q2="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function W2(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let s=0;s<q2.length;s++)n=q2[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function wp(t){this.src=t,this.g={},this.h=0}function cb(t,e){var n=e.type;if(n in t.g){var s,r=t.g[n],i=V2(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(vp(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function lb(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}wp.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.g[s])||(t=this.g[s]=[],this.h++);var o=lb(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):((e=new Aae(e,this.src,s,!!r,i)).ia=n,t.push(e)),e};var db="closure_lm_"+(1e6*Math.random()|0),hb={};function K2(t,e,n,r,i){if(r&&r.once)return Y2(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)K2(t,e[s],n,r,i);return null}return n=mb(n),t&&t[ol]?t.O(e,n,rl(r)?!!r.capture:!!r,i):Q2(t,e,n,!1,r,i)}function Q2(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=rl(i)?!!i.capture:!!i,a=pb(t);if(a||(t[db]=a=new wp(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function Rae(){const e=Mae;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Iae||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(J2(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function Y2(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)Y2(t,e[s],n,r,i);return null}return n=mb(n),t&&t[ol]?t.P(e,n,rl(r)?!!r.capture:!!r,i):Q2(t,e,n,!0,r,i)}function X2(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)X2(t,e[s],n,r,i);else r=rl(r)?!!r.capture:!!r,n=mb(n),t&&t[ol]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=lb(s=t.g[e],n,r,i))&&(vp(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.g[e],t.h--))):t&&(t=pb(t))&&(e=t.g[e.toString()],t=-1,e&&(t=lb(e,n,r,i)),(n=-1<t?e[t]:null)&&fb(n))}function fb(t){if("number"!=typeof t&&t&&!t.fa){var e=t.src;if(e&&e[ol])cb(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(J2(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=pb(e))?(cb(n,t),0==n.h&&(n.src=null,e[db]=null)):vp(t)}}}function J2(t){return t in hb?hb[t]:hb[t]="on"+t}function Mae(t,e){if(t.fa)t=!0;else{e=new sl(e,this);var n=t.listener,r=t.la||t.src;t.ia&&fb(t),t=n.call(r,e)}return t}function pb(t){return(t=t[db])instanceof wp?t:null}var gb="__closure_events_fn_"+(1e9*Math.random()>>>0);function mb(t){return"function"==typeof t?t:(t[gb]||(t[gb]=function(e){return t.handleEvent(e)}),t[gb])}function It(){Xi.call(this),this.i=new wp(this),this.S=this,this.J=null}function Pt(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,"string"==typeof e)e=new qt(e,t);else if(e instanceof qt)e.target=e.target||t;else{var i=e;W2(e=new qt(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=Ip(o,r,!0,e)&&i}if(i=Ip(o=e.g=t,r,!0,e)&&i,i=Ip(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=Ip(o=e.g=n[s],r,!1,e)&&i}function Ip(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,u=o.la||o.src;o.ia&&cb(t.i,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}wt(It,Xi),It.prototype[ol]=!0,It.prototype.removeEventListener=function(t,e,n,r){X2(this,t,e,n,r)},It.prototype.N=function(){if(It.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)vp(n[r]);delete t.g[e],t.h--}}this.J=null},It.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},It.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var yb=ee.JSON.stringify;function kae(){var t=_b;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var Z2=new class Nae{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new Oae,t=>t.reset());class Oae{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function Lae(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function Fae(t){ee.setTimeout(()=>{throw t},0)}let al,ul=!1,_b=new class Pae{constructor(){this.h=this.g=null}add(e,n){const r=Z2.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},eU=()=>{const t=ee.Promise.resolve(void 0);al=()=>{t.then(Uae)}};var Uae=()=>{for(var t;t=kae();){try{t.h.call(t.g)}catch(n){Fae(n)}var e=Z2;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}ul=!1};function Ep(t,e){It.call(this),this.h=t||1,this.g=e||ee,this.j=Gt(this.qb,this),this.l=Date.now()}function vb(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}function wb(t,e,n){if("function"==typeof t)n&&(t=Gt(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Gt(t.handleEvent,t)}return 2147483647<Number(e)?-1:ee.setTimeout(t,e||0)}function tU(t){t.g=wb(()=>{t.g=null,t.i&&(t.i=!1,tU(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}wt(Ep,It),(M=Ep.prototype).ga=!1,M.T=null,M.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Pt(this,"tick"),this.ga&&(vb(this),this.start()))}},M.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},M.N=function(){Ep.$.N.call(this),vb(this),delete this.g};class Vae extends Xi{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:tU(this)}N(){super.N(),this.g&&(ee.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function cl(t){Xi.call(this),this.h=t,this.g={}}wt(cl,Xi);var nU=[];function rU(t,e,n,r){Array.isArray(n)||(n&&(nU[0]=n.toString()),n=nU);for(var i=0;i<n.length;i++){var s=K2(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function iU(t){ub(t.g,function(e,n){this.g.hasOwnProperty(n)&&fb(e)},t),t.g={}}function Dp(){this.g=!0}function Pa(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Hae(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return yb(n)}catch{return e}}(t,n)+(r?" "+r:"")})}cl.prototype.N=function(){cl.$.N.call(this),iU(this)},cl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Dp.prototype.Ea=function(){this.g=!1},Dp.prototype.info=function(){};var eo={},sU=null;function Tp(){return sU=sU||new It}function oU(t){qt.call(this,eo.Ta,t)}function ll(t){const e=Tp();Pt(e,new oU(e))}function aU(t,e){qt.call(this,eo.STAT_EVENT,t),this.stat=e}function on(t){const e=Tp();Pt(e,new aU(e,t))}function uU(t,e){qt.call(this,eo.Ua,t),this.size=e}function dl(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return ee.setTimeout(function(){t()},e)}eo.Ta="serverreachability",wt(oU,qt),eo.STAT_EVENT="statevent",wt(aU,qt),eo.Ua="timingevent",wt(uU,qt);var bp={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},cU={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Ib(){}function dU(){}Ib.prototype.h=null;var Tb,hl={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Eb(){qt.call(this,"d")}function Db(){qt.call(this,"c")}function Cp(){}function fl(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new cl(this),this.P=zae,this.V=new Ep(t=nb?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new hU}function hU(){this.i=null,this.g="",this.h=!1}wt(Eb,qt),wt(Db,qt),wt(Cp,Ib),Cp.prototype.g=function(){return new XMLHttpRequest},Cp.prototype.i=function(){return{}},Tb=new Cp;var zae=45e3,bb={},Sp={};function Cb(t,e,n){t.L=1,t.v=Mp(Ii(e)),t.s=n,t.S=!0,fU(t,null)}function fU(t,e){t.G=Date.now(),pl(t),t.A=Ii(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),DU(n.i,"t",r),t.C=0,n=t.l.J,t.h=new hU,t.g=WU(t.l,n?e:null,!t.s),0<t.O&&(t.M=new Vae(Gt(t.Pa,t,t.g),t.O)),rU(t.U,t.g,"readystatechange",t.nb),e=t.I?G2(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),ll(),function Bae(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var d=l.split("_");o=2<=d.length&&"type"==d[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o})}(t.j,t.u,t.A,t.m,t.W,t.s)}function pU(t){return!!t.g&&"GET"==t.u&&2!=t.L&&t.l.Ha}function gU(t,e,n){let i,r=!0;for(;!t.J&&t.C<n.length;){if(i=Gae(t,n),i==Sp){4==e&&(t.o=4,on(14),r=!1),Pa(t.j,t.m,null,"[Incomplete Response]");break}if(i==bb){t.o=4,on(15),Pa(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}Pa(t.j,t.m,i,null),Sb(t,i)}pU(t)&&i!=Sp&&i!=bb&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,on(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,(e=t.l).g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Pb(e),e.M=!0,on(11))):(Pa(t.j,t.m,n,"[Invalid Chunked Response]"),to(t),gl(t))}function Gae(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?Sp:(n=Number(e.substring(n,r)),isNaN(n)?bb:(r+=1)+n>e.length?Sp:(e=e.slice(r,r+n),t.C=r+n,e))}function pl(t){t.Y=Date.now()+t.P,mU(t,t.P)}function mU(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=dl(Gt(t.lb,t),e)}function Ap(t){t.B&&(ee.clearTimeout(t.B),t.B=null)}function gl(t){0==t.l.H||t.J||HU(t.l,t)}function to(t){Ap(t);var e=t.M;e&&"function"==typeof e.sa&&e.sa(),t.M=null,vb(t.V),iU(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function Sb(t,e){try{var n=t.l;if(0!=n.H&&(n.g==t||Ab(n.i,t)))if(!t.K&&Ab(n.i,t)&&3==n.H){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<t.G))break e;Fp(n),Op(n)}kb(n),on(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=dl(Gt(n.ib,n),6e3));if(1>=CU(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else ro(n,11)}else if((t.K||n.g==t)&&Fp(n),!il(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(n.V=c[0],c=c[1],2==n.H)if("c"==c[0]){n.K=c[1],n.pa=c[2];const l=c[3];null!=l&&(n.ra=l,n.l.info("VER="+n.ra));const d=c[4];null!=d&&(n.Ga=d,n.l.info("SVER="+n.Ga));const h=c[5];null!=h&&"number"==typeof h&&0<h&&(n.L=r=1.5*h,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;s.g||-1==p.indexOf("spdy")&&-1==p.indexOf("quic")&&-1==p.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(xb(s,s.h),s.h=null))}if(r.F){const m=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;m&&(r.Da=m,Re(r.I,r.F,m))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms"));var o=t;if((r=n).wa=qU(r,r.J?r.pa:null,r.Y),o.K){SU(r.i,o);var a=o,u=r.L;u&&a.setTimeout(u),a.B&&(Ap(a),pl(a)),r.g=o}else $U(r);0<n.j.length&&Lp(n)}else"stop"!=c[0]&&"close"!=c[0]||ro(n,7);else 3==n.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?ro(n,7):Nb(n):"noop"!=c[0]&&n.h&&n.h.Aa(c),n.A=0)}ll()}catch{}}function yU(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(mp(t)||"string"==typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function Wae(t){if(t.ta&&"function"==typeof t.ta)return t.ta();if(!t.Z||"function"!=typeof t.Z){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(mp(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}(t),r=function qae(t){if(t.Z&&"function"==typeof t.Z)return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if("string"==typeof t)return t.split("");if(mp(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}(M=fl.prototype).setTimeout=function(t){this.P=t},M.nb=function(t){t=t.target;const e=this.M;e&&3==Fr(t)?e.l():this.Pa(t)},M.Pa=function(t){try{if(t==this.g)e:{const l=Fr(this.g);var e=this.g.Ia();if(this.g.da(),!(3>l)&&(3!=l||nb||this.g&&(this.h.h||this.g.ja()||OU(this.g)))){this.J||4!=l||7==e||ll(),Ap(this);var n=this.g.da();this.ca=n;t:if(pU(this)){var r=OU(this.g);t="";var i=r.length,s=4==Fr(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){to(this),gl(this);var o="";break t}this.h.i=new ee.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=200==n,function $ae(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.W,l,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!il(a)){var c=a;break t}}c=null}if(!(n=c)){this.i=!1,this.o=3,on(12),to(this),gl(this);break e}Pa(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Sb(this,n)}this.S?(gU(this,l,o),nb&&this.i&&3==l&&(rU(this.U,this.V,"tick",this.mb),this.V.start())):(Pa(this.j,this.m,o,null),Sb(this,o)),4==l&&to(this),this.i&&!this.J&&(4==l?HU(this.l,this):(this.i=!1,pl(this)))}else(function due(t){const e={};t=(t.g&&2<=Fr(t)&&t.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<t.length;r++){if(il(t[r]))continue;var n=Lae(t[r]);const i=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}!function xae(t,e){for(const n in t)e.call(void 0,t[n],n,t)}(e,function(r){return r.join(", ")})})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.o=3,on(12)):(this.o=0,on(13)),to(this),gl(this)}}}catch{}},M.mb=function(){if(this.g){var t=Fr(this.g),e=this.g.ja();this.C<e.length&&(Ap(this),gU(this,t,e),this.i&&4!=t&&pl(this))}},M.cancel=function(){this.J=!0,to(this)},M.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(function jae(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(ll(),on(17)),to(this),this.o=2,gl(this)):mU(this,this.Y-t)};var _U=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function no(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof no){this.h=t.h,xp(this,t.j),this.s=t.s,this.g=t.g,Rp(this,t.m),this.l=t.l;var e=t.i,n=new _l;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),vU(this,n),this.o=t.o}else t&&(e=String(t).match(_U))?(this.h=!1,xp(this,e[1]||"",!0),this.s=ml(e[2]||""),this.g=ml(e[3]||"",!0),Rp(this,e[4]),this.l=ml(e[5]||"",!0),vU(this,e[6]||"",!0),this.o=ml(e[7]||"")):(this.h=!1,this.i=new _l(null,this.h))}function Ii(t){return new no(t)}function xp(t,e,n){t.j=n?ml(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Rp(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function vU(t,e,n){e instanceof _l?(t.i=e,function eue(t,e){e&&!t.j&&(Ji(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(IU(this,r),DU(this,i,n))},t)),t.j=e}(t.i,t.h)):(n||(e=yl(e,Jae)),t.i=new _l(e,t.h))}function Re(t,e,n){t.i.set(e,n)}function Mp(t){return Re(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function ml(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function yl(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Qae),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Qae(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}no.prototype.toString=function(){var t=[],e=this.j;e&&t.push(yl(e,wU,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(yl(e,wU,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(yl(n,"/"==n.charAt(0)?Xae:Yae,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",yl(n,Zae)),t.join("")};var wU=/[#\/\?@]/g,Yae=/[#\?:]/g,Xae=/[#\?]/g,Jae=/[#\?@]/g,Zae=/#/g;function _l(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Ji(t){t.g||(t.g=new Map,t.h=0,t.i&&function Kae(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function IU(t,e){Ji(t),e=Oa(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function EU(t,e){return Ji(t),e=Oa(t,e),t.g.has(e)}function DU(t,e,n){IU(t,e),0<n.length&&(t.i=null,t.g.set(Oa(t,e),eb(n)),t.h+=n.length)}function Oa(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function TU(t){this.l=t||nue,t=ee.PerformanceNavigationTiming?0<(t=ee.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(ee.g&&ee.g.Ka&&ee.g.Ka()&&ee.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(M=_l.prototype).add=function(t,e){Ji(this),this.i=null,t=Oa(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},M.forEach=function(t,e){Ji(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)},M.ta=function(){Ji(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n},M.Z=function(t){Ji(this);let e=[];if("string"==typeof t)EU(this,t)&&(e=e.concat(this.g.get(Oa(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},M.set=function(t,e){return Ji(this),this.i=null,EU(this,t=Oa(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},M.get=function(t,e){return t&&0<(t=this.Z(t)).length?String(t[0]):e},M.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};var nue=10;function bU(t){return!!t.h||!!t.g&&t.g.size>=t.j}function CU(t){return t.h?1:t.g?t.g.size:0}function Ab(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function xb(t,e){t.g?t.g.add(e):t.h=e}function SU(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function AU(t){if(null!=t.h)return t.i.concat(t.h.F);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return eb(t.i)}TU.prototype.cancel=function(){if(this.i=AU(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}};var rue=class{stringify(t){return ee.JSON.stringify(t,void 0)}parse(t){return ee.JSON.parse(t,void 0)}};function iue(){this.g=new rue}function sue(t,e,n){const r=n||"";try{yU(t,function(i,s){let o=i;rl(i)&&(o=yb(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Np(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function vl(t){this.l=t.fc||null,this.j=t.ob||!1}function kp(t,e){It.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=Rb,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}wt(vl,Ib),vl.prototype.g=function(){return new kp(this.l,this.j)},vl.prototype.i=function(t){return function(){return t}}({}),wt(kp,It);var Rb=0;function xU(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}function wl(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Il(t)}function Il(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(M=kp.prototype).open=function(t,e){if(this.readyState!=Rb)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Il(this)},M.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||ee).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},M.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,wl(this)),this.readyState=Rb},M.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Il(this)),this.g&&(this.readyState=3,Il(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof ee.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;xU(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))},M.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?wl(this):Il(this),3==this.readyState&&xU(this)}},M.Za=function(t){this.g&&(this.response=this.responseText=t,wl(this))},M.Ya=function(t){this.g&&(this.response=t,wl(this))},M.ka=function(){this.g&&wl(this)},M.setRequestHeader=function(t,e){this.v.append(t,e)},M.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},M.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(kp.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var aue=ee.JSON.parse;function We(t){It.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=RU,this.L=this.M=!1}wt(We,It);var RU="",uue=/^https?$/i,cue=["POST","PUT"];function MU(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,NU(t),Pp(t)}function NU(t){t.F||(t.F=!0,Pt(t,"complete"),Pt(t,"error"))}function kU(t){if(t.h&&typeof JT<"u"&&(!t.C[1]||4!=Fr(t)||2!=t.da()))if(t.v&&4==Fr(t))wb(t.La,0,t);else if(Pt(t,"readystatechange"),4==Fr(t)){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=0===o){var i=String(t.I).match(_U)[1]||null;!i&&ee.self&&ee.self.location&&(i=ee.self.location.protocol.slice(0,-1)),r=!uue.test(i?i.toLowerCase():"")}n=r}if(n)Pt(t,"complete"),Pt(t,"success");else{t.m=6;try{var s=2<Fr(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",NU(t)}}finally{Pp(t)}}}function Pp(t,e){if(t.g){PU(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Pt(t,"ready");try{n.onreadystatechange=r}catch{}}}function PU(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(ee.clearTimeout(t.A),t.A=null)}function Fr(t){return t.g?t.g.readyState:0}function OU(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case RU:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function LU(t){let e="";return ub(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}function Mb(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=LU(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Re(t,e,n))}function El(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function FU(t){this.Ga=0,this.j=[],this.l=new Dp,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=El("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=El("baseRetryDelayMs",5e3,t),this.hb=El("retryDelaySeedMs",1e4,t),this.eb=El("forwardChannelMaxRetries",2,t),this.xa=El("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new TU(t&&t.concurrentRequestLimit),this.Ja=new iue,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function Nb(t){if(UU(t),3==t.H){var e=t.W++,n=Ii(t.I);if(Re(n,"SID",t.K),Re(n,"RID",e),Re(n,"TYPE","terminate"),Dl(t,n),(e=new fl(t,t.l,e)).L=2,e.v=Mp(Ii(n)),n=!1,ee.navigator&&ee.navigator.sendBeacon)try{n=ee.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&ee.Image&&((new Image).src=e.v,n=!0),n||(e.g=WU(e.l,null),e.g.ha(e.v)),e.G=Date.now(),pl(e)}GU(t)}function Op(t){t.g&&(Pb(t),t.g.cancel(),t.g=null)}function UU(t){Op(t),t.u&&(ee.clearTimeout(t.u),t.u=null),Fp(t),t.i.cancel(),t.m&&("number"==typeof t.m&&ee.clearTimeout(t.m),t.m=null)}function Lp(t){if(!bU(t.i)&&!t.m){t.m=!0;var e=t.Na;al||eU(),ul||(al(),ul=!0),_b.add(e,t),t.C=0}}function VU(t,e){var n;n=e?e.m:t.W++;const r=Ii(t.I);Re(r,"SID",t.K),Re(r,"RID",n),Re(r,"AID",t.V),Dl(t,r),t.o&&t.s&&Mb(r,t.o,t.s),n=new fl(t,t.l,n,t.C+1),null===t.o&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=BU(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),xb(t.i,n),Cb(n,r,e)}function Dl(t,e){t.na&&ub(t.na,function(n,r){Re(e,r,n)}),t.h&&yU({},function(n,r){Re(e,r,n)})}function BU(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Gt(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];-1==s?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let u=0;u<n;u++){let c=i[u].g;const l=i[u].map;if(c-=s,0>c)s=Math.max(0,i[u].g-100),a=!1;else try{sue(l,o,"req"+c+"_")}catch{r&&r(l)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function $U(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;al||eU(),ul||(al(),ul=!0),_b.add(e,t),t.A=0}}function kb(t){return!(t.g||t.u||3<=t.A||(t.ba++,t.u=dl(Gt(t.Ma,t),zU(t,t.A)),t.A++,0))}function Pb(t){null!=t.B&&(ee.clearTimeout(t.B),t.B=null)}function jU(t){t.g=new fl(t,t.l,"rpc",t.ba),null===t.o&&(t.g.I=t.s),t.g.O=0;var e=Ii(t.wa);Re(e,"RID","rpc"),Re(e,"SID",t.K),Re(e,"AID",t.V),Re(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Re(e,"TO",t.qa),Re(e,"TYPE","xmlhttp"),Dl(t,e),t.o&&t.s&&Mb(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=Mp(Ii(e)),n.s=null,n.S=!0,fU(n,t)}function Fp(t){null!=t.v&&(ee.clearTimeout(t.v),t.v=null)}function HU(t,e){var n=null;if(t.g==e){Fp(t),Pb(t),t.g=null;var r=2}else{if(!Ab(t.i,e))return;n=e.F,SU(t.i,e),r=1}if(0!=t.H)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;Pt(r=Tp(),new uU(r,n)),Lp(t)}else $U(t);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function hue(t,e){return!(CU(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.j=e.F.concat(t.j),0):1==t.H||2==t.H||t.C>=(t.cb?0:t.eb)||(t.m=dl(Gt(t.Na,t,e),zU(t,t.C)),t.C++,0)))}(t,e)||2==r&&kb(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:ro(t,5);break;case 4:ro(t,10);break;case 3:ro(t,6);break;default:ro(t,2)}}function zU(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function ro(t,e){if(t.l.info("Error code "+e),2==e){var n=null;t.h&&(n=null);var r=Gt(t.pb,t);n||(n=new no("//www.google.com/images/cleardot.gif"),ee.location&&"http"==ee.location.protocol||xp(n,"https"),Mp(n)),function oue(t,e){const n=new Dp;if(ee.Image){const r=new Image;r.onload=yp(Np,n,r,"TestLoadImage: loaded",!0,e),r.onerror=yp(Np,n,r,"TestLoadImage: error",!1,e),r.onabort=yp(Np,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=yp(Np,n,r,"TestLoadImage: timeout",!1,e),ee.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else on(2);t.H=0,t.h&&t.h.za(e),GU(t),UU(t)}function GU(t){if(t.H=0,t.ma=[],t.h){const e=AU(t.i);(0!=e.length||0!=t.j.length)&&(B2(t.ma,e),B2(t.ma,t.j),t.i.i.length=0,eb(t.j),t.j.length=0),t.h.ya()}}function qU(t,e,n){var r=n instanceof no?Ii(n):new no(n);if(""!=r.g)e&&(r.g=e+"."+r.g),Rp(r,r.m);else{var i=ee.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new no(null);r&&xp(s,r),e&&(s.g=e),i&&Rp(s,i),n&&(s.l=n),r=s}return e=t.Da,(n=t.F)&&e&&Re(r,n,e),Re(r,"VER",t.ra),Dl(t,r),r}function WU(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new We(n&&t.Ha&&!t.va?new vl({ob:!0}):t.va)).Oa(t.J),e}function KU(){}function Up(){if(ka&&!(10<=Number(bae)))throw Error("Environmental error: no available transport.")}function Pn(t,e){It.call(this),this.g=new FU(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!il(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!il(e)&&(this.g.F=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new La(this)}function QU(t){Eb.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function YU(){Db.call(this),this.status=1}function La(t){this.g=t}function dr(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Ob(t,e,n){n||(n=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var s=t.g[3],o=(e=t.g[0])+(s^(n=t.g[1])&((i=t.g[2])^s))+r[0]+3614090360&4294967295;o=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=n+(o<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=e+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=e+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=e+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(e=n+((o=e+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(e^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}function Ie(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=0|t[i];r&&s==e||(n[i]=s,r=!1)}this.g=n}(M=We.prototype).Oa=function(t){this.M=t},M.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Tb.g(),this.C=function lU(t){return t.h||(t.h=t.i())}(this.u?this.u:Tb),this.g.onreadystatechange=Gt(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){return void MU(this,s)}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())n.set(s,r.get(s))}r=Array.from(n.keys()).find(s=>"content-type"==s.toLowerCase()),i=ee.FormData&&t instanceof ee.FormData,!(0<=V2(cue,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{PU(this),0<this.B&&((this.L=function lue(t){return ka&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Gt(this.ua,this)):this.A=wb(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){MU(this,s)}},M.ua=function(){typeof JT<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Pt(this,"timeout"),this.abort(8))},M.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Pt(this,"complete"),Pt(this,"abort"),Pp(this))},M.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Pp(this,!0)),We.$.N.call(this)},M.La=function(){this.s||(this.G||this.v||this.l?kU(this):this.kb())},M.kb=function(){kU(this)},M.isActive=function(){return!!this.g},M.da=function(){try{return 2<Fr(this)?this.g.status:-1}catch{return-1}},M.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},M.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),aue(e)}},M.Ia=function(){return this.m},M.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(M=FU.prototype).ra=8,M.H=1,M.Na=function(t){if(this.m)if(this.m=null,1==this.H){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new fl(this,this.l,t);let s=this.s;if(this.U&&(s?(s=G2(s),W2(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=BU(this,i,e),Re(n=Ii(this.I),"RID",t),Re(n,"CVER",22),this.F&&Re(n,"X-HTTP-Session-Id",this.F),Dl(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(LU(s)))+"&"+e:this.o&&Mb(n,this.o,s)),xb(this.i,i),this.bb&&Re(n,"TYPE","init"),this.P?(Re(n,"$req",e),Re(n,"SID","null"),i.aa=!0,Cb(i,n,null)):Cb(i,n,e),this.H=2}}else 3==this.H&&(t?VU(this,t):0==this.j.length||bU(this.i)||VU(this))},M.Ma=function(){if(this.u=null,jU(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=dl(Gt(this.jb,this),t)}},M.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,on(10),Op(this),jU(this))},M.ib=function(){null!=this.v&&(this.v=null,Op(this),kb(this),on(19))},M.pb=function(t){t?(this.l.info("Successfully pinged google.com"),on(2)):(this.l.info("Failed to ping google.com"),on(1))},M.isActive=function(){return!!this.h&&this.h.isActive(this)},(M=KU.prototype).Ba=function(){},M.Aa=function(){},M.za=function(){},M.ya=function(){},M.isActive=function(){return!0},M.Va=function(){},Up.prototype.g=function(t,e){return new Pn(t,e)},wt(Pn,It),Pn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;on(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=qU(t,null,t.Y),Lp(t)},Pn.prototype.close=function(){Nb(this.g)},Pn.prototype.u=function(t){var e=this.g;if("string"==typeof t){var n={};n.__data__=t,t=n}else this.v&&((n={}).__data__=yb(t),t=n);e.j.push(new class{constructor(t,e){this.g=t,this.map=e}}(e.fb++,t)),3==e.H&&Lp(e)},Pn.prototype.N=function(){this.g.h=null,delete this.j,Nb(this.g),delete this.g,Pn.$.N.call(this)},wt(QU,Eb),wt(YU,Db),wt(La,KU),La.prototype.Ba=function(){Pt(this.g,"a")},La.prototype.Aa=function(t){Pt(this.g,new QU(t))},La.prototype.za=function(t){Pt(this.g,new YU)},La.prototype.ya=function(){Pt(this.g,"b")},wt(dr,function fue(){this.blockSize=-1}),dr.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},dr.prototype.j=function(t,e){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(0==i)for(;s<=n;)Ob(this,t,s),s+=this.blockSize;if("string"==typeof t){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){Ob(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){Ob(this,r),i=0;break}}this.h=i,this.i+=e},dr.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=255&n,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};var pue={};function Lb(t){return-128<=t&&128>t?function Eae(t,e){var n=pue;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,function(e){return new Ie([0|e],0>e?-1:0)}):new Ie([0|t],0>t?-1:0)}function Ur(t){if(isNaN(t)||!isFinite(t))return Fa;if(0>t)return Ot(Ur(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=Fb;return new Ie(e,0)}var Fb=4294967296,Fa=Lb(0),Ub=Lb(1),JU=Lb(16777216);function Ei(t){if(0!=t.h)return!1;for(var e=0;e<t.g.length;e++)if(0!=t.g[e])return!1;return!0}function qn(t){return-1==t.h}function Ot(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Ie(n,~t.h).add(Ub)}function Vp(t,e){return t.add(Ot(e))}function Bp(t,e){for(;(65535&t[e])!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Tl(t,e){this.g=t,this.h=e}function $p(t,e){if(Ei(e))throw Error("division by zero");if(Ei(t))return new Tl(Fa,Fa);if(qn(t))return e=$p(Ot(t),e),new Tl(Ot(e.g),Ot(e.h));if(qn(e))return e=$p(t,Ot(e)),new Tl(Ot(e.g),e.h);if(30<t.g.length){if(qn(t)||qn(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Ub,r=e;0>=r.X(t);)n=ZU(n),r=ZU(r);var i=Ua(n,1),s=Ua(r,1);for(r=Ua(r,2),n=Ua(n,2);!Ei(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=Ua(r,1),n=Ua(n,1)}return e=Vp(t,i.R(e)),new Tl(i,e)}for(i=Fa;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(s=Ur(n)).R(e);qn(o)||0<o.X(t);)o=(s=Ur(n-=r)).R(e);Ei(s)&&(s=Ub),i=i.add(s),t=Vp(t,o)}return new Tl(i,t)}function ZU(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Ie(n,t.h)}function Ua(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new Ie(i,t.h)}(M=Ie.prototype).ea=function(){if(qn(this))return-Ot(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:Fb+r)*e,e*=Fb}return t},M.toString=function(t){if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if(Ei(this))return"0";if(qn(this))return"-"+Ot(this).toString(t);for(var e=Ur(Math.pow(t,6)),n=this,r="";;){var i=$p(n,e).g,s=((0<(n=Vp(n,i.R(e))).g.length?n.g[0]:n.h)>>>0).toString(t);if(Ei(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},M.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h},M.X=function(t){return qn(t=Vp(this,t))?-1:Ei(t)?0:1},M.abs=function(){return qn(this)?Ot(this):this},M.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(65535&this.D(i))+(65535&t.D(i)),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,n[i]=(o&=65535)<<16|(s&=65535)}return new Ie(n,-2147483648&n[n.length-1]?-1:0)},M.R=function(t){if(Ei(this)||Ei(t))return Fa;if(qn(this))return qn(t)?Ot(this).R(Ot(t)):Ot(Ot(this).R(t));if(qn(t))return Ot(this.R(Ot(t)));if(0>this.X(JU)&&0>t.X(JU))return Ur(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=65535&this.D(r),a=t.D(i)>>>16,u=65535&t.D(i);n[2*r+2*i]+=o*u,Bp(n,2*r+2*i),n[2*r+2*i+1]+=s*u,Bp(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,Bp(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,Bp(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Ie(n,0)},M.gb=function(t){return $p(this,t).h},M.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Ie(n,this.h&t.h)},M.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Ie(n,this.h|t.h)},M.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Ie(n,this.h^t.h)},Up.prototype.createWebChannel=Up.prototype.g,Pn.prototype.send=Pn.prototype.u,Pn.prototype.open=Pn.prototype.m,Pn.prototype.close=Pn.prototype.close,bp.NO_ERROR=0,bp.TIMEOUT=8,bp.HTTP_ERROR=6,cU.COMPLETE="complete",dU.EventType=hl,hl.OPEN="a",hl.CLOSE="b",hl.ERROR="c",hl.MESSAGE="d",It.prototype.listen=It.prototype.O,We.prototype.listenOnce=We.prototype.P,We.prototype.getLastError=We.prototype.Sa,We.prototype.getLastErrorCode=We.prototype.Ia,We.prototype.getStatus=We.prototype.da,We.prototype.getResponseJson=We.prototype.Wa,We.prototype.getResponseText=We.prototype.ja,We.prototype.send=We.prototype.ha,We.prototype.setWithCredentials=We.prototype.Oa,dr.prototype.digest=dr.prototype.l,dr.prototype.reset=dr.prototype.reset,dr.prototype.update=dr.prototype.j,Ie.prototype.add=Ie.prototype.add,Ie.prototype.multiply=Ie.prototype.R,Ie.prototype.modulo=Ie.prototype.gb,Ie.prototype.compare=Ie.prototype.X,Ie.prototype.toNumber=Ie.prototype.ea,Ie.prototype.toString=Ie.prototype.toString,Ie.prototype.getBits=Ie.prototype.D,Ie.fromNumber=Ur,Ie.fromString=function XU(t,e){if(0==t.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==t.charAt(0))return Ot(XU(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Ur(Math.pow(e,8)),r=Fa,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=Ur(Math.pow(e,s)),r=r.R(s).add(Ur(o))):r=(r=r.R(n)).add(Ur(o))}return r};var gue=lr.createWebChannelTransport=function(){return new Up},mue=lr.getStatEventTarget=function(){return Tp()},Vb=lr.ErrorCode=bp,yue=lr.EventType=cU,_ue=lr.Event=eo,eV=lr.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},vue=lr.FetchXmlHttpFactory=vl,jp=lr.WebChannel=dU,wue=lr.XhrIo=We,Iue=lr.Md5=dr,Va=lr.Integer=Ie;const tV="@firebase/firestore";class Et{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Et.UNAUTHENTICATED=new Et(null),Et.GOOGLE_CREDENTIALS=new Et("google-credentials-uid"),Et.FIRST_PARTY=new Et("first-party-uid"),Et.MOCK_USER=new Et("mock-user");let Ba="9.22.1";const Zi=new Ea("@firebase/firestore");function Bb(){return Zi.logLevel}function b(t,...e){if(Zi.logLevel<=Q.DEBUG){const n=e.map($b);Zi.debug(`Firestore (${Ba}): ${t}`,...n)}}function Xe(t,...e){if(Zi.logLevel<=Q.ERROR){const n=e.map($b);Zi.error(`Firestore (${Ba}): ${t}`,...n)}}function hr(t,...e){if(Zi.logLevel<=Q.WARN){const n=e.map($b);Zi.warn(`Firestore (${Ba}): ${t}`,...n)}}function $b(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch{return t}}function O(t="Unexpected state"){const e=`FIRESTORE (${Ba}) INTERNAL ASSERTION FAILED: `+t;throw Xe(e),new Error(e)}function F(t,e){t||O()}function R(t,e){return t}const I={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class T extends kn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class pt{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class nV{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Eue{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Et.UNAUTHENTICATED))}shutdown(){}}class Due{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Tue{constructor(e){this.t=e,this.currentUser=Et.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let i=this.i;const s=c=>this.i!==i?(i=this.i,n(c)):Promise.resolve();let o=new pt;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new pt,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=o;e.enqueueRetryable(g(function*(){yield c.promise,yield s(r.currentUser)}))},u=c=>{b("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(b("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new pt)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(b("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(F("string"==typeof r.accessToken),new nV(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return F(null===e||"string"==typeof e),new Et(e)}}class bue{constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=Et.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class Cue{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new bue(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(Et.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class rV{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Sue{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const r=s=>{null!=s.error&&b("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.T;return this.T=s.token,b("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{b("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?i(s):b("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(F("string"==typeof n.token),this.T=n.token,new rV(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Aue(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class iV{static A(){const n=62*Math.floor(256/62);let r="";for(;r.length<20;){const i=Aue(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[s]%62))}return r}}function X(t,e){return t<e?-1:t>e?1:0}function $a(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}class $e{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new T(I.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new T(I.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new T(I.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new T(I.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return $e.fromMillis(Date.now())}static fromDate(e){return $e.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new $e(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?X(this.nanoseconds,e.nanoseconds):X(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class V{constructor(e){this.timestamp=e}static fromTimestamp(e){return new V(e)}static min(){return new V(new $e(0,0))}static max(){return new V(new $e(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class bl{constructor(e,n,r){void 0===n?n=0:n>e.length&&O(),void 0===r?r=e.length-n:r>e.length-n&&O(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===bl.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof bl?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class he extends bl{construct(e,n,r){return new he(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new T(I.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new he(n)}static emptyPath(){return new he([])}}const xue=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Je extends bl{construct(e,n,r){return new Je(e,n,r)}static isValidIdentifier(e){return xue.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Je.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Je(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(0===r.length)throw new T(I.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new T(I.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new T(I.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new T(I.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Je(n)}static emptyPath(){return new Je([])}}class x{constructor(e){this.path=e}static fromPath(e){return new x(he.fromString(e))}static fromName(e){return new x(he.fromString(e).popFirst(5))}static empty(){return new x(he.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===he.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return he.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new x(new he(e.slice()))}}function aV(t){return new On(t.readTime,t.key,-1)}class On{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new On(V.min(),x.empty(),-1)}static max(){return new On(V.max(),x.empty(),-1)}}function Hb(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=x.comparator(t.documentKey,e.documentKey),0!==n?n:X(t.largestBatchId,e.largestBatchId))}const uV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Nue{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function es(t){return zb.apply(this,arguments)}function zb(){return zb=g(function*(t){if(t.code!==I.FAILED_PRECONDITION||t.message!==uV)throw t;b("LocalStore","Unexpectedly lost primary lease")}),zb.apply(this,arguments)}class w{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&O(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new w((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof w?n:w.resolve(n)}catch(n){return w.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):w.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):w.reject(n)}static resolve(e){return new w((n,r)=>{n(e)})}static reject(e){return new w((n,r)=>{r(e)})}static waitFor(e){return new w((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=w.resolve(!1);for(const r of e)n=n.next(i=>i?w.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new w((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let u=0;u<s;u++){const c=u;n(e[c]).next(l=>{o[c]=l,++a,a===s&&r(o)},l=>i(l))}})}static doWhile(e,n){return new w((r,i)=>{const s=()=>{!0===e()?n().next(()=>{s()},i):r()};s()})}}function ts(t){return"IndexedDbTransactionError"===t.name}let Ln=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ot(i),this.ut=i=>r.writeSequenceNumber(i))}ot(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.ut&&this.ut(n),n}}return t.ct=-1,t})();function Al(t){return null==t}function xl(t){return 0===t&&1/t==-1/0}function yV(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ns(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}class Se{constructor(e,n){this.comparator=e,this.root=n||Lt.EMPTY}insert(e,n){return new Se(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Lt.BLACK,null,null))}remove(e){return new Se(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Lt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Wp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Wp(this.root,e,this.comparator,!1)}getReverseIterator(){return new Wp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Wp(this.root,e,this.comparator,!0)}}class Wp{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Lt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Lt.RED,this.left=i??Lt.EMPTY,this.right=s??Lt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Lt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===s?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Lt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return Lt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Lt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Lt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw O();const e=this.left.check();if(e!==this.right.check())throw O();return e+(this.isRed()?0:1)}}Lt.EMPTY=null,Lt.RED=!0,Lt.BLACK=!1,Lt.EMPTY=new class{constructor(){this.size=0}get key(){throw O()}get value(){throw O()}get color(){throw O()}get left(){throw O()}get right(){throw O()}copy(t,e,n,r,i){return this}insert(t,e,n){return new Lt(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Me{constructor(e){this.comparator=e,this.data=new Se(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new vV(this.data.getIterator())}getIteratorFrom(e){return new vV(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Me)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Me(this.comparator);return n.data=e,n}}class vV{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class En{constructor(e){this.fields=e,e.sort(Je.comparator)}static empty(){return new En([])}unionWith(e){let n=new Me(Je.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new En(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return $a(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class wV extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class gt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new wV("Invalid base64 string: "+i):i}}(e);return new gt(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new gt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return X(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}gt.EMPTY_BYTE_STRING=new gt("");const tce=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function rs(t){if(F(!!t),"string"==typeof t){let e=0;const n=tce.exec(t);if(F(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ke(t.seconds),nanos:Ke(t.nanos)}}function Ke(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Di(t){return"string"==typeof t?gt.fromBase64String(t):gt.fromUint8Array(t)}function Kp(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=t?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Qp(t){const e=t.mapValue.fields.__previous_value__;return Kp(e)?Qp(e):e}function Rl(t){const e=rs(t.mapValue.fields.__local_write_time__.timestampValue);return new $e(e.seconds,e.nanos)}class nce{constructor(e,n,r,i,s,o,a,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=c}}class oo{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new oo("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof oo&&e.projectId===this.projectId&&e.database===this.database}}const is={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ss(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Kp(t)?4:TV(t)?9007199254740991:10:O()}function Br(t,e){if(t===e)return!0;const n=ss(t);if(n!==ss(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Rl(t).isEqual(Rl(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=rs(r.timestampValue),o=rs(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return i=e,Di(t.bytesValue).isEqual(Di(i.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return Ke(r.geoPointValue.latitude)===Ke(i.geoPointValue.latitude)&&Ke(r.geoPointValue.longitude)===Ke(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Ke(r.integerValue)===Ke(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=Ke(r.doubleValue),o=Ke(i.doubleValue);return s===o?xl(s)===xl(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return $a(t.arrayValue.values||[],e.arrayValue.values||[],Br);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(yV(s)!==yV(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(void 0===o[a]||!Br(s[a],o[a])))return!1;return!0}(t,e);default:return O()}var i}function Ml(t,e){return void 0!==(t.values||[]).find(n=>Br(n,e))}function os(t,e){if(t===e)return 0;const n=ss(t),r=ss(e);if(n!==r)return X(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return X(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=Ke(i.integerValue||i.doubleValue),a=Ke(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return IV(t.timestampValue,e.timestampValue);case 4:return IV(Rl(t),Rl(e));case 5:return X(t.stringValue,e.stringValue);case 6:return function(i,s){const o=Di(i),a=Di(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let u=0;u<o.length&&u<a.length;u++){const c=X(o[u],a[u]);if(0!==c)return c}return X(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=X(Ke(i.latitude),Ke(s.latitude));return 0!==o?o:X(Ke(i.longitude),Ke(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let u=0;u<o.length&&u<a.length;++u){const c=os(o[u],a[u]);if(c)return c}return X(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===is.mapValue&&s===is.mapValue)return 0;if(i===is.mapValue)return 1;if(s===is.mapValue)return-1;const o=i.fields||{},a=Object.keys(o),u=s.fields||{},c=Object.keys(u);a.sort(),c.sort();for(let l=0;l<a.length&&l<c.length;++l){const d=X(a[l],c[l]);if(0!==d)return d;const h=os(o[a[l]],u[c[l]]);if(0!==h)return h}return X(a.length,c.length)}(t.mapValue,e.mapValue);default:throw O()}}function IV(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return X(t,e);const n=rs(t),r=rs(e),i=X(n.seconds,r.seconds);return 0!==i?i:X(n.nanos,r.nanos)}function Ha(t){return Wb(t)}function Wb(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=rs(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Di(t.bytesValue).toBase64():"referenceValue"in t?x.fromName(t.referenceValue).toString():"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=Wb(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${Wb(r.fields[a])}`;return s+"}"}(t.mapValue):O();var e}function Kb(t){return!!t&&"integerValue"in t}function Nl(t){return!!t&&"arrayValue"in t}function EV(t){return!!t&&"nullValue"in t}function DV(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Jp(t){return!!t&&"mapValue"in t}function kl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ns(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=kl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=kl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function TV(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}class Ft{constructor(e){this.value=e}static empty(){return new Ft({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Jp(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=kl(n)}setAll(e){let n=Je.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=kl(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Jp(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Br(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Jp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ns(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Ft(kl(this.value))}}class Ne{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Ne(e,0,V.min(),V.min(),V.min(),Ft.empty(),0)}static newFoundDocument(e,n,r,i){return new Ne(e,1,n,V.min(),r,i,0)}static newNoDocument(e,n){return new Ne(e,2,n,V.min(),V.min(),Ft.empty(),0)}static newUnknownDocument(e,n){return new Ne(e,3,n,V.min(),V.min(),Ft.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(V.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ft.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ft.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=V.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Ne&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ne(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class as{constructor(e,n){this.position=e,this.inclusive=n}}function AV(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(r=s.field.isKeyField()?x.comparator(x.fromName(o.referenceValue),n.key):os(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function xV(t,e){if(null===t)return null===e;if(null===e||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Br(t.position[n],e.position[n]))return!1;return!0}class za{constructor(e,n="asc"){this.field=e,this.dir=n}}function sce(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class RV{}class ce extends RV{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,r):new oce(e,n,r):"array-contains"===n?new cce(e,r):"in"===n?new LV(e,r):"not-in"===n?new lce(e,r):"array-contains-any"===n?new dce(e,r):new ce(e,n,r)}static createKeyFieldInFilter(e,n,r){return"in"===n?new ace(e,r):new uce(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(os(n,this.value)):null!==n&&ss(this.value)===ss(n)&&this.matchesComparison(os(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return O()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Ee extends RV{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new Ee(e,n)}matches(e){return Ga(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return null!==e?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function Ga(t){return"and"===t.op}function Yb(t){return function MV(t){for(const e of t.filters)if(e instanceof Ee)return!1;return!0}(t)&&Ga(t)}function Xb(t){if(t instanceof ce)return t.field.canonicalString()+t.op.toString()+Ha(t.value);if(Yb(t))return t.filters.map(e=>Xb(e)).join(",");{const e=t.filters.map(n=>Xb(n)).join(",");return`${t.op}(${e})`}}function NV(t,e){return t instanceof ce?(n=t,(r=e)instanceof ce&&n.op===r.op&&n.field.isEqual(r.field)&&Br(n.value,r.value)):t instanceof Ee?function(n,r){return r instanceof Ee&&n.op===r.op&&n.filters.length===r.filters.length&&n.filters.reduce((i,s,o)=>i&&NV(s,r.filters[o]),!0)}(t,e):void O();var n,r}function PV(t){return t instanceof ce?`${(e=t).field.canonicalString()} ${e.op} ${Ha(e.value)}`:t instanceof Ee?function(e){return e.op.toString()+" {"+e.getFilters().map(PV).join(" ,")+"}"}(t):"Filter";var e}class oce extends ce{constructor(e,n,r){super(e,n,r),this.key=x.fromName(r.referenceValue)}matches(e){const n=x.comparator(e.key,this.key);return this.matchesComparison(n)}}class ace extends ce{constructor(e,n){super(e,"in",n),this.keys=OV(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class uce extends ce{constructor(e,n){super(e,"not-in",n),this.keys=OV(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function OV(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>x.fromName(r.referenceValue))}class cce extends ce{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Nl(n)&&Ml(n.arrayValue,this.value)}}class LV extends ce{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&Ml(this.value.arrayValue,n)}}class lce extends ce{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ml(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!Ml(this.value.arrayValue,n)}}class dce extends ce{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Nl(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Ml(this.value.arrayValue,r))}}class hce{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.dt=null}}function Jb(t,e=null,n=[],r=[],i=null,s=null,o=null){return new hce(t,e,n,r,i,s,o)}function uo(t){const e=R(t);if(null===e.dt){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Xb(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),Al(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ha(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ha(r)).join(",")),e.dt=n}return e.dt}function Pl(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!sce(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!NV(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!xV(t.startAt,e.startAt)&&xV(t.endAt,e.endAt)}function Zp(t){return x.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class Ti{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.wt=null,this._t=null}}function qa(t){return new Ti(t)}function BV(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function co(t){const e=R(t);if(null===e.wt){e.wt=[];const n=function tg(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(null!==n)return n}return null}(e),r=function Zb(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}(e);if(null!==n&&null===r)n.isKeyField()||e.wt.push(new za(n)),e.wt.push(new za(Je.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.wt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new za(Je.keyField(),s))}}}return e.wt}function an(t){const e=R(t);if(!e._t)if("F"===e.limitType)e._t=Jb(e.path,e.collectionGroup,co(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of co(e))n.push(new za(s.field,"desc"===s.dir?"asc":"desc"));const r=e.endAt?new as(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new as(e.startAt.position,e.startAt.inclusive):null;e._t=Jb(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e._t}function ng(t,e,n){return new Ti(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ol(t,e){return Pl(an(t),an(e))&&t.limitType===e.limitType}function $V(t){return`${uo(an(t))}|lt:${t.limitType}`}function nC(t){return`Query(target=${function(e){let n=e.path.canonicalString();return null!==e.collectionGroup&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>PV(r)).join(", ")}]`),Al(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ha(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ha(r)).join(",")),`Target(${n})`}(an(t))}; limitType=${t.limitType})`}function Ll(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return null!==n.collectionGroup?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):x.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of co(n))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&(r=e,!((n=t).startAt&&!function(i,s,o){const a=AV(i,s,o);return i.inclusive?a<=0:a<0}(n.startAt,co(n),r)||n.endAt&&!function(i,s,o){const a=AV(i,s,o);return i.inclusive?a>=0:a>0}(n.endAt,co(n),r)));var n,r}function HV(t){return(e,n)=>{let r=!1;for(const i of co(t)){const s=fce(i,e,n);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function fce(t,e,n){const r=t.field.isKeyField()?x.comparator(e.key,n.key):function(i,s,o){const a=s.data.field(i),u=o.data.field(i);return null!==a&&null!==u?os(a,u):O()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return O()}}class bi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ns(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return function _V(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}(this.inner)}size(){return this.innerSize}}const pce=new Se(x.comparator);function Dn(){return pce}const zV=new Se(x.comparator);function Fl(...t){let e=zV;for(const n of t)e=e.insert(n.key,n);return e}function GV(t){let e=zV;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function $r(){return Ul()}function qV(){return Ul()}function Ul(){return new bi(t=>t.toString(),(t,e)=>t.isEqual(e))}new Se(x.comparator);const mce=new Me(x.comparator);function se(...t){let e=mce;for(const n of t)e=e.add(n);return e}const yce=new Me(X);class rg{constructor(){this._=void 0}}function _ce(t,e,n){return t instanceof Wa?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&Kp(i)&&(i=Qp(i)),i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof lo?XV(t,e):t instanceof ho?JV(t,e):function(r,i){const s=function YV(t,e){return t instanceof Ka?Kb(n=e)||(r=n)&&"doubleValue"in r?e:{integerValue:0}:null;var r,n}(r,i),o=ZV(s)+ZV(r.gt);return Kb(s)&&Kb(r.gt)?function KV(t){return{integerValue:""+t}}(o):function WV(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:xl(e)?"-0":e}}(r.serializer,o)}(t,e)}function vce(t,e,n){return t instanceof lo?XV(t,e):t instanceof ho?JV(t,e):n}class Wa extends rg{}class lo extends rg{constructor(e){super(),this.elements=e}}function XV(t,e){const n=eB(e);for(const r of t.elements)n.some(i=>Br(i,r))||n.push(r);return{arrayValue:{values:n}}}class ho extends rg{constructor(e){super(),this.elements=e}}function JV(t,e){let n=eB(e);for(const r of t.elements)n=n.filter(i=>!Br(i,r));return{arrayValue:{values:n}}}class Ka extends rg{constructor(e,n){super(),this.serializer=e,this.gt=n}}function ZV(t){return Ke(t.integerValue||t.doubleValue)}function eB(t){return Nl(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class Pe{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Pe}static exists(e){return new Pe(void 0,e)}static updateTime(e){return new Pe(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ig(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class iC{}function tB(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new Ya(t.key,Pe.none()):new Qa(t.key,t.data,Pe.none());{const n=t.data,r=Ft.empty();let i=new Me(Je.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);null===o&&s.length>1&&(s=s.popLast(),o=n.field(s)),null===o?r.delete(s):r.set(s,o),i=i.add(s)}return new Ci(t.key,r,new En(i.toArray()),Pe.none())}}function Ece(t,e,n){t instanceof Qa?function(r,i,s){const o=r.value.clone(),a=iB(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof Ci?function(r,i,s){if(!ig(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=iB(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(rB(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function Bl(t,e,n,r){return t instanceof Qa?function(i,s,o,a){if(!ig(i.precondition,s))return o;const u=i.value.clone(),c=sB(i.fieldTransforms,a,s);return u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ci?function(i,s,o,a){if(!ig(i.precondition,s))return o;const u=sB(i.fieldTransforms,a,s),c=s.data;return c.setAll(rB(i)),c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null===o?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(l=>l.field))}(t,e,n,r):(o=n,ig(t.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o);var s,o}function nB(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(n=t.fieldTransforms)&&void 0===r||n&&r&&$a(n,r,(i,s)=>function wce(t,e){return t.field.isEqual(e.field)&&(r=e.transform,(n=t.transform)instanceof lo&&r instanceof lo||n instanceof ho&&r instanceof ho?$a(n.elements,r.elements,Br):n instanceof Ka&&r instanceof Ka?Br(n.gt,r.gt):n instanceof Wa&&r instanceof Wa);var n,r}(i,s))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var n,r}class Qa extends iC{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ci extends iC{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function rB(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function iB(t,e,n){const r=new Map;F(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,vce(o,a,n[i]))}return r}function sB(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,_ce(s,o,e))}return r}class Ya extends iC{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class oC{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&Ece(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Bl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Bl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=qV();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const u=tB(o,a);null!==u&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(V.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),se())}isEqual(e){return this.batchId===e.batchId&&$a(this.mutations,e.mutations,(n,r)=>nB(n,r))&&$a(this.baseMutations,e.baseMutations,(n,r)=>nB(n,r))}}class uC{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class bce{constructor(e,n){this.count=e,this.unchangedNames=n}}var ot,fe;function aB(t){if(void 0===t)return Xe("GRPC error has no .code"),I.UNKNOWN;switch(t){case ot.OK:return I.OK;case ot.CANCELLED:return I.CANCELLED;case ot.UNKNOWN:return I.UNKNOWN;case ot.DEADLINE_EXCEEDED:return I.DEADLINE_EXCEEDED;case ot.RESOURCE_EXHAUSTED:return I.RESOURCE_EXHAUSTED;case ot.INTERNAL:return I.INTERNAL;case ot.UNAVAILABLE:return I.UNAVAILABLE;case ot.UNAUTHENTICATED:return I.UNAUTHENTICATED;case ot.INVALID_ARGUMENT:return I.INVALID_ARGUMENT;case ot.NOT_FOUND:return I.NOT_FOUND;case ot.ALREADY_EXISTS:return I.ALREADY_EXISTS;case ot.PERMISSION_DENIED:return I.PERMISSION_DENIED;case ot.FAILED_PRECONDITION:return I.FAILED_PRECONDITION;case ot.ABORTED:return I.ABORTED;case ot.OUT_OF_RANGE:return I.OUT_OF_RANGE;case ot.UNIMPLEMENTED:return I.UNIMPLEMENTED;case ot.DATA_LOSS:return I.DATA_LOSS;default:return O()}}(fe=ot||(ot={}))[fe.OK=0]="OK",fe[fe.CANCELLED=1]="CANCELLED",fe[fe.UNKNOWN=2]="UNKNOWN",fe[fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",fe[fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",fe[fe.NOT_FOUND=5]="NOT_FOUND",fe[fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",fe[fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",fe[fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",fe[fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",fe[fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",fe[fe.ABORTED=10]="ABORTED",fe[fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",fe[fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",fe[fe.INTERNAL=13]="INTERNAL",fe[fe.UNAVAILABLE=14]="UNAVAILABLE",fe[fe.DATA_LOSS=15]="DATA_LOSS";class cC{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return sg}static getOrCreateInstance(){return null===sg&&(sg=new cC),sg}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let sg=null;const Cce=new Va([4294967295,4294967295],0);function cB(t){const e=function uB(){return new TextEncoder}().encode(t),n=new Iue;return n.update(e),new Uint8Array(n.digest())}function lB(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Va([n,r],0),new Va([i,s],0)]}class lC{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new $l(`Invalid padding: ${n}`);if(r<0)throw new $l(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new $l(`Invalid hash count: ${r}`);if(0===e.length&&0!==n)throw new $l(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=Va.fromNumber(this.It)}Et(e,n,r){let i=e.add(n.multiply(Va.fromNumber(r)));return 1===i.compare(Cce)&&(i=new Va([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const n=cB(e),[r,i]=lB(n);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);if(!this.At(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new lC(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(0===this.It)return;const n=cB(e),[r,i]=lB(n);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);this.Rt(o)}}Rt(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class $l extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class jl{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Hl.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new jl(V.min(),i,new Se(X),Dn(),se())}}class Hl{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Hl(r,n,se(),se(),se())}}class og{constructor(e,n,r,i){this.Pt=e,this.removedTargetIds=n,this.key=r,this.bt=i}}class dB{constructor(e,n){this.targetId=e,this.Vt=n}}class hB{constructor(e,n,r=gt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class fB{constructor(){this.St=0,this.Dt=gB(),this.Ct=gt.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=se(),n=se(),r=se();return this.Dt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:O()}}),new Hl(this.Ct,this.xt,e,n,r)}Ft(){this.Nt=!1,this.Dt=gB()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class Sce{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Dn(),this.zt=pB(),this.Wt=new Se(X)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const r=this.Zt(n);switch(e.state){case 0:this.te(n)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(n);break;case 3:this.te(n)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),r.$t(e.resumeToken));break;default:O()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((r,i)=>{this.te(i)&&n(i)})}ne(e){var n;const r=e.targetId,i=e.Vt.count,s=this.se(r);if(s){const o=s.target;if(Zp(o))if(0===i){const a=new x(o.path);this.Yt(r,a,Ne.newNoDocument(a,V.min()))}else F(1===i);else{const a=this.ie(r);if(a!==i){const u=this.re(e,a);0!==u&&(this.ee(r),this.Wt=this.Wt.insert(r,2===u?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(n=cC.instance)||void 0===n||n.notifyOnExistenceFilterMismatch(function(c,l,d){var h,f,p,m,y,v;const _={localCacheCount:l,existenceFilterCount:d.count},E=d.unchangedNames;return E&&(_.bloomFilter={applied:0===c,hashCount:null!==(h=E?.hashCount)&&void 0!==h?h:0,bitmapLength:null!==(m=null===(p=null===(f=E?.bits)||void 0===f?void 0:f.bitmap)||void 0===p?void 0:p.length)&&void 0!==m?m:0,padding:null!==(v=null===(y=E?.bits)||void 0===y?void 0:y.padding)&&void 0!==v?v:0}),_}(u,a,e.Vt))}}}}re(e,n){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:s="",padding:o=0},hashCount:a=0}=r;let u,c;try{u=Di(s).toUint8Array()}catch(l){if(l instanceof wV)return hr("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw l}try{c=new lC(u,o,a)}catch(l){return hr(l instanceof $l?"BloomFilter error: ":"Applying bloom filter failed: ",l),1}return 0===c.It?1:i!==n-this.oe(e.targetId,c)?2:0}oe(e,n){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(s=>{const o=this.Gt.ue(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;n.vt(a)||(this.Yt(e,s,null),i++)}),i}ce(e){const n=new Map;this.Qt.forEach((s,o)=>{const a=this.se(o);if(a){if(s.current&&Zp(a.target)){const u=new x(a.target.path);null!==this.jt.get(u)||this.ae(o,u)||this.Yt(o,u,Ne.newNoDocument(u,e))}s.Mt&&(n.set(o,s.Ot()),s.Ft())}});let r=se();this.zt.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const c=this.se(u);return!c||"TargetPurposeLimboResolution"===c.purpose||(a=!1,!1)}),a&&(r=r.add(s))}),this.jt.forEach((s,o)=>o.setReadTime(e));const i=new jl(e,n,this.Wt,this.jt,r);return this.jt=Dn(),this.zt=pB(),this.Wt=new Se(X),i}Jt(e,n){if(!this.te(e))return;const r=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,r),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,n)?i.Bt(n,1):i.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),r&&(this.jt=this.jt.insert(n,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new fB,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new Me(X),this.zt=this.zt.insert(e,n)),n}te(e){const n=null!==this.se(e);return n||b("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new fB),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function pB(){return new Se(x.comparator)}function gB(){return new Se(x.comparator)}const Ace={asc:"ASCENDING",desc:"DESCENDING"},xce={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Rce={and:"AND",or:"OR"};class Mce{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function dC(t,e){return t.useProto3Json||Al(e)?e:{value:e}}function Ze(t){return F(!!t),V.fromTimestamp(function(e){const n=rs(e);return new $e(n.seconds,n.nanos)}(t))}function yB(t){const e=he.fromString(t);return F(CB(e)),e}function jr(t,e){const n=yB(e);if(n.get(1)!==t.databaseId.projectId)throw new T(I.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new T(I.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new x(vB(n))}function fC(t,e){return function hC(t,e){return(n=t,new he(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}(t.databaseId,e)}function Gl(t){return new he(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function vB(t){return F(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function EB(t,e){return{documents:[fC(t,e.path)]}}function gC(t,e){const n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=fC(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=fC(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(u){if(0!==u.length)return bB(Ee.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(u){if(0!==u.length)return u.map(c=>{return{field:us((l=c).field),direction:Fce(l.dir)};var l})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=dC(t,e.limit);var a,u;return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt={before:!(u=e.endAt).inclusive,values:u.position}),n}function DB(t){let e=function _B(t){const e=yB(t);return 4===e.length?he.emptyPath():vB(e)}(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){F(1===r);const l=n.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let s=[];n.where&&(s=function(l){const d=TB(l);return d instanceof Ee&&Yb(d)?d.getFilters():[d]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(l=>{return new za(Ja((d=l).field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction));var d}));let a=null;n.limit&&(a=function(l){let d;return d="object"==typeof l?l.value:l,Al(d)?null:d}(n.limit));let u=null;var l;n.startAt&&(u=new as((l=n.startAt).values||[],!!l.before));let c=null;return n.endAt&&(c=function(l){return new as(l.values||[],!l.before)}(n.endAt)),function VV(t,e,n,r,i,s,o,a){return new Ti(t,e,n,r,i,s,o,a)}(e,i,o,s,a,"F",u,c)}function TB(t){return void 0!==t.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=Ja(e.unaryFilter.field);return ce.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=Ja(e.unaryFilter.field);return ce.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Ja(e.unaryFilter.field);return ce.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Ja(e.unaryFilter.field);return ce.create(s,"!=",{nullValue:"NULL_VALUE"});default:return O()}}(t):void 0!==t.fieldFilter?ce.create(Ja((e=t).fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return O()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==t.compositeFilter?function(e){return Ee.create(e.compositeFilter.filters.map(n=>TB(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return O()}}(e.compositeFilter.op))}(t):O();var e}function Fce(t){return Ace[t]}function Uce(t){return xce[t]}function Vce(t){return Rce[t]}function us(t){return{fieldPath:t.canonicalString()}}function Ja(t){return Je.fromServerFormat(t.fieldPath)}function bB(t){return t instanceof ce?function(e){if("=="===e.op){if(DV(e.value))return{unaryFilter:{field:us(e.field),op:"IS_NAN"}};if(EV(e.value))return{unaryFilter:{field:us(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(DV(e.value))return{unaryFilter:{field:us(e.field),op:"IS_NOT_NAN"}};if(EV(e.value))return{unaryFilter:{field:us(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:us(e.field),op:Uce(e.op),value:e.value}}}(t):t instanceof Ee?function(e){const n=e.getFilters().map(r=>bB(r));return 1===n.length?n[0]:{compositeFilter:{op:Vce(e.op),filters:n}}}(t):O()}function CB(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class Si{constructor(e,n,r,i,s=V.min(),o=V.min(),a=gt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new Si(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Si(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Si(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Si(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class SB{constructor(e){this.fe=e}}function mC(t){const e=DB({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?ng(e,e.limit,"L"):e}class mo{constructor(){}_e(e,n){this.me(e,n),n.ge()}me(e,n){if("nullValue"in e)this.ye(n,5);else if("booleanValue"in e)this.ye(n,10),n.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(n,15),n.pe(Ke(e.integerValue));else if("doubleValue"in e){const r=Ke(e.doubleValue);isNaN(r)?this.ye(n,13):(this.ye(n,15),xl(r)?n.pe(0):n.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(n,20),"string"==typeof r?n.Ie(r):(n.Ie(`${r.seconds||""}`),n.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,n),this.Ee(n);else if("bytesValue"in e)this.ye(n,30),n.Ae(Di(e.bytesValue)),this.Ee(n);else if("referenceValue"in e)this.ve(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(n,45),n.pe(r.latitude||0),n.pe(r.longitude||0)}else"mapValue"in e?TV(e)?this.ye(n,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,n),this.Ee(n)):"arrayValue"in e?(this.Pe(e.arrayValue,n),this.Ee(n)):O()}Te(e,n){this.ye(n,25),this.be(e,n)}be(e,n){n.Ie(e)}Re(e,n){const r=e.fields||{};this.ye(n,55);for(const i of Object.keys(r))this.Te(i,n),this.me(r[i],n)}Pe(e,n){const r=e.values||[];this.ye(n,50);for(const i of r)this.me(i,n)}ve(e,n){this.ye(n,37),x.fromName(e).path.forEach(r=>{this.ye(n,60),this.be(r,n)})}ye(e,n){e.pe(n)}Ee(e){e.pe(2)}}mo.Ve=new mo;class Qce{constructor(){this.rn=new EC}addToCollectionParentIndex(e,n){return this.rn.add(n),w.resolve()}getCollectionParents(e,n){return w.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return w.resolve()}deleteFieldIndex(e,n){return w.resolve()}getDocumentsMatchingTarget(e,n){return w.resolve(null)}getIndexType(e,n){return w.resolve(0)}getFieldIndexes(e,n){return w.resolve([])}getNextCollectionGroupToUpdate(e){return w.resolve(null)}getMinOffset(e,n){return w.resolve(On.min())}getMinOffsetFromCollectionGroup(e,n){return w.resolve(On.min())}updateCollectionGroup(e,n,r){return w.resolve()}updateIndexEntries(e,n){return w.resolve()}}class EC{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Me(he.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Me(he.comparator)).toArray()}}new Uint8Array(0);class Kt{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Kt(e,Kt.DEFAULT_COLLECTION_PERCENTILE,Kt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Kt.DEFAULT_COLLECTION_PERCENTILE=10,Kt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Kt.DEFAULT=new Kt(41943040,Kt.DEFAULT_COLLECTION_PERCENTILE,Kt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Kt.DISABLED=new Kt(-1,0,0);class _o{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new _o(0)}static Mn(){return new _o(-1)}}class tle{constructor(){this.changes=new bi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ne.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?w.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class ile{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class ZB{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(null!==r&&Bl(r.mutation,i,En.empty(),$e.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,se()).next(()=>r))}getLocalViewOfDocuments(e,n,r=se()){const i=$r();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Fl();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=$r();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,se()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Dn();const o=Ul(),a=Ul();return n.forEach((u,c)=>{const l=r.get(c.key);i.has(c.key)&&(void 0===l||l.mutation instanceof Ci)?s=s.insert(c.key,c):void 0!==l?(o.set(c.key,l.mutation.getFieldMask()),Bl(l.mutation,c,l.mutation.getFieldMask(),$e.now())):o.set(c.key,En.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((c,l)=>o.set(c,l)),n.forEach((c,l)=>{var d;return a.set(c,new ile(l,null!==(d=o.get(c))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Ul();let i=new Se((o,a)=>o-a),s=se();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(u=>{const c=n.get(u);if(null===c)return;let l=r.get(u)||En.empty();l=a.applyToLocalView(c,l),r.set(u,l);const d=(i.get(a.batchId)||se()).add(u);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,l=u.value,d=qV();l.forEach(h=>{if(!s.has(h)){const f=tB(n.get(h),r.get(h));null!==f&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return w.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return x.isDocumentKey((i=n).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):function eC(t){return null!==t.collectionGroup}(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r);var i}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):w.resolve($r());let a=-1,u=s;return o.next(c=>w.forEach(c,(l,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(l)?w.resolve():this.remoteDocumentCache.getEntry(e,l).next(h=>{u=u.insert(l,h)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,u,c,se())).next(l=>({batchId:a,changes:GV(l)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new x(n)).next(r=>{let i=Fl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let s=Fl();return this.indexManager.getCollectionParents(e,i).next(o=>w.forEach(o,a=>{const u=(c=n,l=a.child(i),new Ti(l,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt));var c,l;return this.getDocumentsMatchingCollectionQuery(e,u,r).next(c=>{c.forEach((l,d)=>{s=s.insert(l,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i))).next(s=>{i.forEach((a,u)=>{const c=u.getKey();null===s.get(c)&&(s=s.insert(c,Ne.newInvalidDocument(c)))});let o=Fl();return s.forEach((a,u)=>{const c=i.get(a);void 0!==c&&Bl(c.mutation,u,En.empty(),$e.now()),Ll(n,u)&&(o=o.insert(a,u))}),o})}}class sle{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return w.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var r;return this.cs.set(n.id,{id:(r=n).id,version:r.version,createTime:Ze(r.createTime)}),w.resolve()}getNamedQuery(e,n){return w.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,{name:(r=n).name,query:mC(r.bundledQuery),readTime:Ze(r.readTime)}),w.resolve();var r}}class ole{constructor(){this.overlays=new Se(x.comparator),this.ls=new Map}getOverlay(e,n){return w.resolve(this.overlays.get(n))}getOverlays(e,n){const r=$r();return w.forEach(n,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.we(e,n,s)}),w.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.ls.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.ls.delete(r)),w.resolve()}getOverlaysForCollection(e,n,r){const i=$r(),s=n.length+1,o=new x(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return w.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Se((c,l)=>c-l);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let l=s.get(c.largestBatchId);null===l&&(l=$r(),s=s.insert(c.largestBatchId,l)),l.set(c.getKey(),c)}}const a=$r(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,l)=>a.set(c,l)),!(a.size()>=i)););return w.resolve(a)}we(e,n,r){const i=this.overlays.get(r.key);if(null!==i){const o=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new uC(n,r));let s=this.ls.get(n);void 0===s&&(s=se(),this.ls.set(n,s)),this.ls.set(n,s.add(r.key))}}class DC{constructor(){this.fs=new Me(Tt.ds),this.ws=new Me(Tt._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const r=new Tt(e,n);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.ys(new Tt(e,n))}ps(e,n){e.forEach(r=>this.removeReference(r,n))}Is(e){const n=new x(new he([])),r=new Tt(n,e),i=new Tt(n,e+1),s=[];return this.ws.forEachInRange([r,i],o=>{this.ys(o),s.push(o.key)}),s}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new x(new he([])),r=new Tt(n,e),i=new Tt(n,e+1);let s=se();return this.ws.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Tt(e,0),r=this.fs.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class Tt{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return x.comparator(e.key,n.key)||X(e.As,n.As)}static _s(e,n){return X(e.As,n.As)||x.comparator(e.key,n.key)}}class ale{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new Me(Tt.ds)}checkEmpty(e){return w.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,r,i){const s=this.vs;this.vs++;const o=new oC(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Rs=this.Rs.add(new Tt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return w.resolve(o)}lookupMutationBatch(e,n){return w.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const i=this.bs(n+1),s=i<0?0:i;return w.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return w.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return w.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Tt(n,0),i=new Tt(n,Number.POSITIVE_INFINITY),s=[];return this.Rs.forEachInRange([r,i],o=>{const a=this.Ps(o.As);s.push(a)}),w.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Me(X);return n.forEach(i=>{const s=new Tt(i,0),o=new Tt(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([s,o],a=>{r=r.add(a.As)})}),w.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;x.isDocumentKey(s)||(s=s.child(""));const o=new Tt(new x(s),0);let a=new Me(X);return this.Rs.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(u.As)),!0)},o),w.resolve(this.Vs(a))}Vs(e){const n=[];return e.forEach(r=>{const i=this.Ps(r);null!==i&&n.push(i)}),n}removeMutationBatch(e,n){F(0===this.Ss(n.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return w.forEach(n.mutations,i=>{const s=new Tt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,n){const r=new Tt(n,0),i=this.Rs.firstAfterOrEqual(r);return w.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return w.resolve()}Ss(e,n){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class ule{constructor(e){this.Ds=e,this.docs=new Se(x.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Ds(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return w.resolve(r?r.document.mutableCopy():Ne.newInvalidDocument(n))}getEntries(e,n){let r=Dn();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Ne.newInvalidDocument(i))}),w.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Dn();const o=n.path,a=new x(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:c,value:{document:l}}=u.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||Hb(aV(l),r)<=0||(i.has(l.key)||Ll(n,l))&&(s=s.insert(l.key,l.mutableCopy()))}return w.resolve(s)}getAllFromCollectionGroup(e,n,r,i){O()}Cs(e,n){return w.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new cle(this)}getSize(e){return w.resolve(this.size)}}class cle extends tle{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),w.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}class lle{constructor(e){this.persistence=e,this.xs=new bi(n=>uo(n),Pl),this.lastRemoteSnapshotVersion=V.min(),this.highestTargetId=0,this.Ns=0,this.ks=new DC,this.targetCount=0,this.Ms=_o.kn()}forEachTarget(e,n){return this.xs.forEach((r,i)=>n(i)),w.resolve()}getLastRemoteSnapshotVersion(e){return w.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return w.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),w.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Ns&&(this.Ns=n),w.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new _o(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,w.resolve()}updateTargetData(e,n){return this.Fn(n),w.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,w.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.xs.forEach((o,a)=>{a.sequenceNumber<=n&&null===r.get(a.targetId)&&(this.xs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),w.waitFor(s).next(()=>i)}getTargetCount(e){return w.resolve(this.targetCount)}getTargetData(e,n){const r=this.xs.get(n)||null;return w.resolve(r)}addMatchingKeys(e,n,r){return this.ks.gs(n,r),w.resolve()}removeMatchingKeys(e,n,r){this.ks.ps(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),w.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),w.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ks.Es(n);return w.resolve(r)}containsKey(e,n){return w.resolve(this.ks.containsKey(n))}}class TC{constructor(e,n){this.$s={},this.overlays={},this.Os=new Ln(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new lle(this),this.indexManager=new Qce,this.remoteDocumentCache=new ule(r=>this.referenceDelegate.Ls(r)),this.serializer=new SB(n),this.qs=new sle(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new ole,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.$s[e.toKey()];return r||(r=new ale(n,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,r){b("MemoryPersistence","Starting transaction:",e);const i=new dle(this.Os.next());return this.referenceDelegate.Us(),r(i).next(s=>this.referenceDelegate.Ks(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gs(e,n){return w.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,n)))}}class dle extends Nue{constructor(e){super(),this.currentSequenceNumber=e}}class gg{constructor(e){this.persistence=e,this.Qs=new DC,this.js=null}static zs(e){return new gg(e)}get Ws(){if(this.js)return this.js;throw O()}addReference(e,n,r){return this.Qs.addReference(r,n),this.Ws.delete(r.toString()),w.resolve()}removeReference(e,n,r){return this.Qs.removeReference(r,n),this.Ws.add(r.toString()),w.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),w.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Ws.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return w.forEach(this.Ws,r=>{const i=x.fromPath(r);return this.Hs(e,i).next(s=>{s||n.removeEntry(i,V.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(r=>{r?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return w.or([()=>w.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}class AC{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Fi=r,this.Bi=i}static Li(e,n){let r=se(),i=se();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new AC(e,n.fromCache,r,i)}}class t${constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,r,i){return this.Ki(e,n).next(s=>s||this.Gi(e,n,i,r)).next(s=>s||this.Qi(e,n))}Ki(e,n){if(BV(n))return w.resolve(null);let r=an(n);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==n.limit&&1===i&&(n=ng(n,null,"F"),r=an(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=se(...s);return this.Ui.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.ji(n,a);return this.zi(n,c,o,u.readTime)?this.Ki(e,ng(n,null,"F")):this.Wi(e,c,n,u)}))})))}Gi(e,n,r,i){return BV(n)||i.isEqual(V.min())?this.Qi(e,n):this.Ui.getDocuments(e,r).next(s=>{const o=this.ji(n,s);return this.zi(n,o,r,i)?this.Qi(e,n):(Bb()<=Q.DEBUG&&b("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),nC(n)),this.Wi(e,o,n,function oV(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=V.fromTimestamp(1e9===r?new $e(n+1,0):new $e(n,r));return new On(i,x.empty(),e)}(i,-1)))})}ji(e,n){let r=new Me(HV(e));return n.forEach((i,s)=>{Ll(e,s)&&(r=r.add(s))}),r}zi(e,n,r,i){if(null===e.limit)return!1;if(r.size!==n.size)return!0;const s="F"===e.limitType?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Qi(e,n){return Bb()<=Q.DEBUG&&b("QueryEngine","Using full collection scan to execute query:",nC(n)),this.Ui.getDocumentsMatchingQuery(e,n,On.min())}Wi(e,n,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}class fle{constructor(e,n,r,i){this.persistence=e,this.Hi=n,this.serializer=i,this.Ji=new Se(X),this.Yi=new bi(s=>uo(s),Pl),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ZB(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function r$(t,e){return xC.apply(this,arguments)}function xC(){return xC=g(function*(t,e){const n=R(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.tr(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let u=se();for(const c of i){o.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}for(const c of s){a.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}return n.localDocuments.getDocuments(r,u).next(c=>({er:c,removedBatchIds:o,addedBatchIds:a}))})})}),xC.apply(this,arguments)}function i$(t){const e=R(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function nu(t,e,n){return RC.apply(this,arguments)}function RC(){return RC=g(function*(t,e,n){const r=R(t),i=r.Ji.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!ts(o))throw o;b("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}),RC.apply(this,arguments)}function _g(t,e,n){const r=R(t);let i=V.min(),s=se();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,u,c){const l=R(a),d=l.Yi.get(c);return void 0!==d?w.resolve(l.Ji.get(d)):l.Bs.getTargetData(u,c)}(r,o,an(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.Hi.getDocumentsMatchingQuery(o,e,n?i:V.min(),n?s:se())).next(a=>(function u$(t,e,n){let r=t.Xi.get(e)||V.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Xi.set(e,r)}(r,function jV(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}(e),a),{documents:a,ir:s})))}class OC{constructor(){this.activeTargetIds=function rC(){return yce}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class d${constructor(){this.Hr=new OC,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,r){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new OC,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class vle{Yr(e){}shutdown(){}}class h${constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){b("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){b("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Ig=null;function FC(){return null===Ig?Ig=268435456+Math.round(2147483648*Math.random()):Ig++,"0x"+Ig.toString(16)}const wle={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Ile{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const Qt="WebChannelConnection";class Ele extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,r,i,s){const o=FC(),a=this.To(e,n);b("RestConnection",`Sending RPC '${e}' ${o}:`,a,r);const u={};return this.Eo(u,i,s),this.Ao(e,a,u,r).then(c=>(b("RestConnection",`Received RPC '${e}' ${o}: `,c),c),c=>{throw hr("RestConnection",`RPC '${e}' ${o} failed with error: `,c,"url: ",a,"request:",r),c})}vo(e,n,r,i,s,o){return this.Io(e,n,r,i,s)}Eo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Ba,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}To(e,n){return`${this.mo}/v1/${n}:${wle[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,r,i){const s=FC();return new Promise((o,a)=>{const u=new wue;u.setWithCredentials(!0),u.listenOnce(yue.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Vb.NO_ERROR:const l=u.getResponseJson();b(Qt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(l)),o(l);break;case Vb.TIMEOUT:b(Qt,`RPC '${e}' ${s} timed out`),a(new T(I.DEADLINE_EXCEEDED,"Request time out"));break;case Vb.HTTP_ERROR:const d=u.getStatus();if(b(Qt,`RPC '${e}' ${s} failed with status:`,d,"response text:",u.getResponseText()),d>0){let h=u.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=h?.error;if(f&&f.status&&f.message){const p=function(m){const y=m.toLowerCase().replace(/_/g,"-");return Object.values(I).indexOf(y)>=0?y:I.UNKNOWN}(f.status);a(new T(p,f.message))}else a(new T(I.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new T(I.UNAVAILABLE,"Connection failed."));break;default:O()}}finally{b(Qt,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);b(Qt,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",c,r,15)})}Ro(e,n,r){const i=FC(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=gue(),a=mue(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;void 0!==c&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.xmlHttpFactory=new vue({})),this.Eo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const l=s.join("");b(Qt,`Creating RPC '${e}' stream ${i}: ${l}`,u);const d=o.createWebChannel(l,u);let h=!1,f=!1;const p=new Ile({ro:y=>{f?b(Qt,`Not sending because RPC '${e}' stream ${i} is closed:`,y):(h||(b(Qt,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),b(Qt,`RPC '${e}' stream ${i} sending:`,y),d.send(y))},oo:()=>d.close()}),m=(y,v,_)=>{y.listen(v,E=>{try{_(E)}catch(C){setTimeout(()=>{throw C},0)}})};return m(d,jp.EventType.OPEN,()=>{f||b(Qt,`RPC '${e}' stream ${i} transport opened.`)}),m(d,jp.EventType.CLOSE,()=>{f||(f=!0,b(Qt,`RPC '${e}' stream ${i} transport closed`),p.wo())}),m(d,jp.EventType.ERROR,y=>{f||(f=!0,hr(Qt,`RPC '${e}' stream ${i} transport errored:`,y),p.wo(new T(I.UNAVAILABLE,"The operation could not be completed")))}),m(d,jp.EventType.MESSAGE,y=>{var v;if(!f){const _=y.data[0];F(!!_);const C=_.error||(null===(v=_[0])||void 0===v?void 0:v.error);if(C){b(Qt,`RPC '${e}' stream ${i} received error:`,C);const P=C.status;let K=function(un){const zr=ot[un];if(void 0!==zr)return aB(zr)}(P),Oe=C.message;void 0===K&&(K=I.INTERNAL,Oe="Unknown error status: "+P+" with message "+C.message),f=!0,p.wo(new T(K,Oe)),d.close()}else b(Qt,`RPC '${e}' stream ${i} received:`,_),p._o(_)}}),m(a,_ue.STAT_EVENT,y=>{y.stat===eV.PROXY?b(Qt,`RPC '${e}' stream ${i} detected buffering proxy`):y.stat===eV.NOPROXY&&b(Qt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.fo()},0),p}}function Eg(){return typeof document<"u"?document:null}function td(t){return new Mce(t,!0)}class UC{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ii=e,this.timerId=n,this.Po=r,this.bo=i,this.Vo=s,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,n-r);i>0&&b("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class Dle{constructor(e,n,r,i,s,o,a,u){this.ii=e,this.$o=r,this.Oo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new UC(e,n)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return g(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return g(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,n){var r=this;return g(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():n&&n.code===I.RESOURCE_EXHAUSTED?(Xe(n.toString()),Xe("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):n&&n.code===I.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(n)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===n&&this.Zo(r,i)},r=>{e(()=>{const i=new T(I.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,n){const r=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){var e=this;this.state=5,this.qo.No(g(function*(){e.state=0,e.start()}))}tu(e){return b("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(b("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Tle extends Dle{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=function Pce(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(u=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===u?1:"REMOVE"===u?2:"CURRENT"===u?3:"RESET"===u?4:O(),i=e.targetChange.targetIds||[],s=function(u,c){return u.useProto3Json?(F(void 0===c||"string"==typeof c),gt.fromBase64String(c||"")):(F(void 0===c||c instanceof Uint8Array),gt.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const c=void 0===u.code?I.UNKNOWN:aB(u.code);return new T(c,u.message||"")}(o);n=new hB(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=jr(t,r.document.name),s=Ze(r.document.updateTime),o=r.document.createTime?Ze(r.document.createTime):V.min(),a=new Ft({mapValue:{fields:r.document.fields}}),u=Ne.newFoundDocument(i,s,o,a);n=new og(r.targetIds||[],r.removedTargetIds||[],u.key,u)}else if("documentDelete"in e){const r=e.documentDelete,i=jr(t,r.document),s=r.readTime?Ze(r.readTime):V.min(),o=Ne.newNoDocument(i,s);n=new og([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=jr(t,r.document);n=new og([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return O();{const r=e.filter,{count:i=0,unchangedNames:s}=r,o=new bce(i,s);n=new dB(r.targetId,o)}}var u;return n}(this.serializer,e),r=function(i){if(!("targetChange"in i))return V.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?V.min():s.readTime?Ze(s.readTime):V.min()}(e);return this.listener.nu(n,r)}su(e){const n={};n.database=Gl(this.serializer),n.addTarget=function(i,s){let o;const a=s.target;if(o=Zp(a)?{documents:EB(i,a)}:{query:gC(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=function mB(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}(i,s.resumeToken);const u=dC(i,s.expectedCount);null!==u&&(o.expectedCount=u)}else if(s.snapshotVersion.compareTo(V.min())>0){o.readTime=function Xa(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}(i,s.snapshotVersion.toTimestamp());const u=dC(i,s.expectedCount);null!==u&&(o.expectedCount=u)}return o}(this.serializer,e);const r=function Lce(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return O()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.Wo(n)}iu(e){const n={};n.database=Gl(this.serializer),n.removeTarget=e,this.Wo(n)}}class Cle extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new T(I.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Io(e,n,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===I.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new T(I.UNKNOWN,i.toString())})}vo(e,n,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.vo(e,n,r,s,o,i)).catch(s=>{throw"FirebaseError"===s.name?(s.code===I.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new T(I.UNKNOWN,s.toString())})}terminate(){this.lu=!0}}class Ale{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Xe(n),this.mu=!1):b("OnlineStateTracker",n)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class xle{constructor(e,n,r,i,s){var o=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=s,this.Pu.Yr(a=>{r.enqueueAndForget(g(function*(){var u;hs(o)&&(b("RemoteStore","Restarting streams for network reachability change."),yield(u=g(function*(c){const l=R(c);l.vu.add(4),yield ru(l),l.bu.set("Unknown"),l.vu.delete(4),yield nd(l)}),function(c){return u.apply(this,arguments)})(o))}))}),this.bu=new Ale(r,i)}}function nd(t){return BC.apply(this,arguments)}function BC(){return BC=g(function*(t){if(hs(t))for(const e of t.Ru)yield e(!0)}),BC.apply(this,arguments)}function ru(t){return $C.apply(this,arguments)}function $C(){return $C=g(function*(t){for(const e of t.Ru)yield e(!1)}),$C.apply(this,arguments)}function Dg(t,e){const n=R(t);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),zC(n)?HC(n):su(n).Ko()&&jC(n,e))}function rd(t,e){const n=R(t),r=su(n);n.Au.delete(e),r.Ko()&&p$(n,e),0===n.Au.size&&(r.Ko()?r.jo():hs(n)&&n.bu.set("Unknown"))}function jC(t,e){if(t.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(V.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}su(t).su(e)}function p$(t,e){t.Vu.qt(e),su(t).iu(e)}function HC(t){t.Vu=new Sce({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),le:e=>t.Au.get(e)||null,ue:()=>t.datastore.serializer.databaseId}),su(t).start(),t.bu.gu()}function zC(t){return hs(t)&&!su(t).Uo()&&t.Au.size>0}function hs(t){return 0===R(t).vu.size}function g$(t){t.Vu=void 0}function Rle(t){return GC.apply(this,arguments)}function GC(){return GC=g(function*(t){t.Au.forEach((e,n)=>{jC(t,e)})}),GC.apply(this,arguments)}function Mle(t,e){return qC.apply(this,arguments)}function qC(){return qC=g(function*(t,e){g$(t),zC(t)?(t.bu.Iu(e),HC(t)):t.bu.set("Unknown")}),qC.apply(this,arguments)}function Nle(t,e,n){return WC.apply(this,arguments)}function WC(){return WC=g(function*(t,e,n){if(t.bu.set("Online"),e instanceof hB&&2===e.state&&e.cause)try{yield(r=g(function*(i,s){const o=s.cause;for(const a of s.targetIds)i.Au.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.Au.delete(a),i.Vu.removeTarget(a))}),function(i,s){return r.apply(this,arguments)})(t,e)}catch(r){b("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Tg(t,r)}else if(e instanceof og?t.Vu.Ht(e):e instanceof dB?t.Vu.ne(e):t.Vu.Xt(e),!n.isEqual(V.min()))try{const r=yield i$(t.localStore);n.compareTo(r)>=0&&(yield function(i,s){const o=i.Vu.ce(s);return o.targetChanges.forEach((a,u)=>{if(a.resumeToken.approximateByteSize()>0){const c=i.Au.get(u);c&&i.Au.set(u,c.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach((a,u)=>{const c=i.Au.get(a);if(!c)return;i.Au.set(a,c.withResumeToken(gt.EMPTY_BYTE_STRING,c.snapshotVersion)),p$(i,a);const l=new Si(c.target,a,u,c.sequenceNumber);jC(i,l)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n))}catch(r){b("RemoteStore","Failed to raise snapshot:",r),yield Tg(t,r)}var r}),WC.apply(this,arguments)}function Tg(t,e,n){return KC.apply(this,arguments)}function KC(){return KC=g(function*(t,e,n){if(!ts(e))throw e;t.vu.add(1),yield ru(t),t.bu.set("Offline"),n||(n=()=>i$(t.localStore)),t.asyncQueue.enqueueRetryable(g(function*(){b("RemoteStore","Retrying IndexedDB access"),yield n(),t.vu.delete(1),yield nd(t)}))}),KC.apply(this,arguments)}function v$(t,e){return e0.apply(this,arguments)}function e0(){return e0=g(function*(t,e){const n=R(t);n.asyncQueue.verifyOperationInProgress(),b("RemoteStore","RemoteStore received new credentials");const r=hs(n);n.vu.add(3),yield ru(n),r&&n.bu.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),yield nd(n)}),e0.apply(this,arguments)}function n0(){return n0=g(function*(t,e){const n=R(t);e?(n.vu.delete(2),yield nd(n)):e||(n.vu.add(2),yield ru(n),n.bu.set("Unknown"))}),n0.apply(this,arguments)}function su(t){return t.Su||(t.Su=function(e,n,r){const i=R(e);return i.fu(),new Tle(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:Rle.bind(null,t),ao:Mle.bind(null,t),nu:Nle.bind(null,t)}),t.Ru.push(function(){var e=g(function*(n){n?(t.Su.Qo(),zC(t)?HC(t):t.bu.set("Unknown")):(yield t.Su.stop(),g$(t))});return function(n){return e.apply(this,arguments)}}())),t.Su}class r0{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new pt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new r0(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new T(I.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ou(t,e){if(Xe("AsyncQueue",`${e}: ${t}`),ts(t))return new T(I.UNAVAILABLE,`${e}: ${t}`);throw t}class au{constructor(e){this.comparator=e?(n,r)=>e(n,r)||x.comparator(n.key,r.key):(n,r)=>x.comparator(n.key,r.key),this.keyedMap=Fl(),this.sortedSet=new Se(this.comparator)}static emptySet(e){return new au(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof au)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new au;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class w${constructor(){this.Cu=new Se(x.comparator)}track(e){const n=e.doc.key,r=this.Cu.get(n);r?0!==e.type&&3===r.type?this.Cu=this.Cu.insert(n,e):3===e.type&&1!==r.type?this.Cu=this.Cu.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Cu=this.Cu.remove(n):1===e.type&&2===r.type?this.Cu=this.Cu.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):O():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,r)=>{e.push(r)}),e}}class uu{constructor(e,n,r,i,s,o,a,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new uu(e,n,au.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ol(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class Vle{constructor(){this.Nu=void 0,this.listeners=[]}}class Ble{constructor(){this.queries=new bi(e=>$V(e),Ol),this.onlineState="Unknown",this.ku=new Set}}function o0(){return o0=g(function*(t,e){const n=R(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new Vle),i)try{s.Nu=yield n.onListen(r)}catch(o){const a=ou(o,`Initialization of query '${nC(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.Mu(n.onlineState),s.Nu&&e.$u(s.Nu)&&c0(n)}),o0.apply(this,arguments)}function u0(){return u0=g(function*(t,e){const n=R(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}),u0.apply(this,arguments)}function $le(t,e){const n=R(t);let r=!1;for(const i of e){const o=n.queries.get(i.query);if(o){for(const a of o.listeners)a.$u(i)&&(r=!0);o.Nu=i}}r&&c0(n)}function jle(t,e,n){const r=R(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function c0(t){t.ku.forEach(e=>{e.next()})}class l0{constructor(e,n,r){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new uu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){return!e.fromCache||(!this.options.Ku||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=uu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class D${constructor(e){this.key=e}}class T${constructor(e){this.key=e}}class b${constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=se(),this.mutatedKeys=se(),this.tc=HV(e),this.ec=new au(this.tc)}get nc(){return this.Yu}sc(e,n){const r=n?n.ic:new w$,i=n?n.ec:this.ec;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((l,d)=>{const h=i.get(l),f=Ll(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),m=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let y=!1;h&&f?h.data.isEqual(f.data)?p!==m&&(r.track({type:3,doc:f}),y=!0):this.rc(h,f)||(r.track({type:2,doc:f}),y=!0,(u&&this.tc(f,u)>0||c&&this.tc(f,c)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),y=!0):h&&!f&&(r.track({type:1,doc:h}),y=!0,(u||c)&&(a=!0)),y&&(f?(o=o.add(f),s=m?s.add(l):s.delete(l)):(o=o.delete(l),s=s.delete(l)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{ec:o,ic:r,zi:a,mutatedKeys:s}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const s=e.ic.xu();s.sort((c,l)=>function(d,h){const f=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return O()}};return f(d)-f(h)}(c.type,l.type)||this.tc(c.doc,l.doc)),this.oc(r);const o=n?this.uc():[],a=0===this.Zu.size&&this.current?1:0,u=a!==this.Xu;return this.Xu=a,0!==s.length||u?{snapshot:new uu(this.query,e.ec,i,s,e.mutatedKeys,0===a,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:o}:{cc:o}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new w$,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=se(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const n=[];return e.forEach(r=>{this.Zu.has(r)||n.push(new T$(r))}),this.Zu.forEach(r=>{e.has(r)||n.push(new D$(r))}),n}hc(e){this.Yu=e.ir,this.Zu=se();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return uu.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class Gle{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class qle{constructor(e){this.key=e,this.fc=!1}}class Wle{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new bi(a=>$V(a),Ol),this._c=new Map,this.mc=new Set,this.gc=new Se(x.comparator),this.yc=new Map,this.Ic=new DC,this.Tc={},this.Ec=new Map,this.Ac=_o.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function Kle(t,e){return d0.apply(this,arguments)}function d0(){return d0=g(function*(t,e){const n=function P0(t){const e=R(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=C$.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=rde.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Xle.bind(null,e),e.dc.nu=$le.bind(null,e.eventManager),e.dc.Pc=jle.bind(null,e.eventManager),e}(t);let r,i;const s=n.wc.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.lc();else{const o=yield function tu(t,e){const n=R(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Bs.getTargetData(r,e).next(s=>s?(i=s,w.resolve(i)):n.Bs.allocateTargetId(r).next(o=>(i=new Si(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ji.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(r.targetId,r),n.Yi.set(e,r.targetId)),r})}(n.localStore,an(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield function h0(t,e,n,r,i){return f0.apply(this,arguments)}(n,e,r,"current"===a,o.resumeToken),n.isPrimaryClient&&Dg(n.remoteStore,o)}return i}),d0.apply(this,arguments)}function f0(){return f0=g(function*(t,e,n,r,i){t.Rc=(d,h,f)=>{return(p=g(function*(m,y,v,_){let E=y.view.sc(v);E.zi&&(E=yield _g(m.localStore,y.query,!1).then(({documents:K})=>y.view.sc(K,E)));const C=_&&_.targetChanges.get(y.targetId),P=y.view.applyChanges(E,m.isPrimaryClient,C);return D0(m,y.targetId,P.cc),P.snapshot}),function(m,y,v,_){return p.apply(this,arguments)})(t,d,h,f);var p};const s=yield _g(t.localStore,e,!0),o=new b$(e,s.ir),a=o.sc(s.documents),u=Hl.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState,i),c=o.applyChanges(a,t.isPrimaryClient,u);D0(t,n,c.cc);const l=new Gle(e,n,o);return t.wc.set(e,l),t._c.has(n)?t._c.get(n).push(e):t._c.set(n,[e]),c.snapshot}),f0.apply(this,arguments)}function Qle(t,e){return p0.apply(this,arguments)}function p0(){return p0=g(function*(t,e){const n=R(t),r=n.wc.get(e),i=n._c.get(r.targetId);if(i.length>1)return n._c.set(r.targetId,i.filter(s=>!Ol(s,e))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield nu(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),rd(n.remoteStore,r.targetId),cu(n,r.targetId)}).catch(es))):(cu(n,r.targetId),yield nu(n.localStore,r.targetId,!0))}),p0.apply(this,arguments)}function C$(t,e){return m0.apply(this,arguments)}function m0(){return m0=g(function*(t,e){const n=R(t);try{const r=yield function gle(t,e){const n=R(t),r=e.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const a=[];e.targetChanges.forEach((l,d)=>{const h=i.get(d);if(!h)return;a.push(n.Bs.removeMatchingKeys(s,l.removedDocuments,d).next(()=>n.Bs.addMatchingKeys(s,l.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);var p,m,y;null!==e.targetMismatches.get(d)?f=f.withResumeToken(gt.EMPTY_BYTE_STRING,V.min()).withLastLimboFreeSnapshotVersion(V.min()):l.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(l.resumeToken,r)),i=i.insert(d,f),m=f,y=l,(0===(p=h).resumeToken.approximateByteSize()||m.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8||y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0)&&a.push(n.Bs.updateTargetData(s,f))});let u=Dn(),c=se();if(e.documentUpdates.forEach(l=>{e.resolvedLimboDocuments.has(l)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,l))}),a.push(function s$(t,e,n){let r=se(),i=se();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Dn();return n.forEach((a,u)=>{const c=s.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(V.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||0===u.version.compareTo(c.version)&&c.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):b("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{nr:o,sr:i}})}(s,o,e.documentUpdates).next(l=>{u=l.nr,c=l.sr})),!r.isEqual(V.min())){const l=n.Bs.getLastRemoteSnapshotVersion(s).next(d=>n.Bs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(l)}return w.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,c)).next(()=>u)}).then(s=>(n.Ji=i,s))}(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.yc.get(s);o&&(F(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.fc=!0:i.modifiedDocuments.size>0?F(o.fc):i.removedDocuments.size>0&&(F(o.fc),o.fc=!1))}),yield Ai(n,r,e)}catch(r){yield es(r)}}),m0.apply(this,arguments)}function S$(t,e,n){const r=R(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const i=[];r.wc.forEach((s,o)=>{const a=o.view.Mu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=R(s);a.onlineState=o;let u=!1;a.queries.forEach((c,l)=>{for(const d of l.listeners)d.Mu(o)&&(u=!0)}),u&&c0(a)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Xle(t,e,n){return y0.apply(this,arguments)}function y0(){return y0=g(function*(t,e,n){const r=R(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.yc.get(e),s=i&&i.key;if(s){let o=new Se(x.comparator);o=o.insert(s,Ne.newNoDocument(s,V.min()));const a=se().add(s),u=new jl(V.min(),new Map,new Se(X),o,a);yield C$(r,u),r.gc=r.gc.remove(s),r.yc.delete(e),T0(r)}else yield nu(r.localStore,e,!1).then(()=>cu(r,e,n)).catch(es)}),y0.apply(this,arguments)}function cu(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t._c.get(e))t.wc.delete(r),n&&t.dc.Pc(r,n);t._c.delete(e),t.isPrimaryClient&&t.Ic.Is(e).forEach(r=>{t.Ic.containsKey(r)||A$(t,r)})}function A$(t,e){t.mc.delete(e.path.canonicalString());const n=t.gc.get(e);null!==n&&(rd(t.remoteStore,n),t.gc=t.gc.remove(e),t.yc.delete(n),T0(t))}function D0(t,e,n){for(const r of n)r instanceof D$?(t.Ic.addReference(r.key,e),tde(t,r)):r instanceof T$?(b("SyncEngine","Document no longer in limbo: "+r.key),t.Ic.removeReference(r.key,e),t.Ic.containsKey(r.key)||A$(t,r.key)):O()}function tde(t,e){const n=e.key,r=n.path.canonicalString();t.gc.get(n)||t.mc.has(r)||(b("SyncEngine","New document in limbo: "+n),t.mc.add(r),T0(t))}function T0(t){for(;t.mc.size>0&&t.gc.size<t.maxConcurrentLimboResolutions;){const e=t.mc.values().next().value;t.mc.delete(e);const n=new x(he.fromString(e)),r=t.Ac.next();t.yc.set(r,new qle(n)),t.gc=t.gc.insert(n,r),Dg(t.remoteStore,new Si(an(qa(n.path)),r,"TargetPurposeLimboResolution",Ln.ct))}}function Ai(t,e,n){return b0.apply(this,arguments)}function b0(){return b0=g(function*(t,e,n){const r=R(t),i=[],s=[],o=[];var a;r.wc.isEmpty()||(r.wc.forEach((a,u)=>{o.push(r.Rc(u,e,n).then(c=>{if((c||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,c?.fromCache?"not-current":"current"),c){i.push(c);const l=AC.Li(u.targetId,c);s.push(l)}}))}),yield Promise.all(o),r.dc.nu(i),yield(a=g(function*(u,c){const l=R(u);try{yield l.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>w.forEach(c,h=>w.forEach(h.Fi,f=>l.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>w.forEach(h.Bi,f=>l.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!ts(d))throw d;b("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const h=d.targetId;if(!d.fromCache){const f=l.Ji.get(h),m=f.withLastLimboFreeSnapshotVersion(f.snapshotVersion);l.Ji=l.Ji.insert(h,m)}}}),function(u,c){return a.apply(this,arguments)})(r.localStore,s))}),b0.apply(this,arguments)}function nde(t,e){return C0.apply(this,arguments)}function C0(){return C0=g(function*(t,e){const n=R(t);if(!n.currentUser.isEqual(e)){b("SyncEngine","User change. New user:",e.toKey());const r=yield r$(n.localStore,e);n.currentUser=e,(i=n).Ec.forEach(o=>{o.forEach(a=>{a.reject(new T(I.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.Ec.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Ai(n,r.er)}var i}),C0.apply(this,arguments)}function rde(t,e){const n=R(t),r=n.yc.get(e);if(r&&r.fc)return se().add(r.key);{let i=se();const s=n._c.get(e);if(!s)return i;for(const o of s){const a=n.wc.get(o);i=i.unionWith(a.view.nc)}return i}}class bg{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return g(function*(){n.serializer=td(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return function n$(t,e,n,r){return new fle(t,e,n,r)}(this.persistence,new t$,e.initialUser,this.serializer)}createPersistence(e){return new TC(gg.zs,this.serializer)}createSharedClientState(e){return new d$}terminate(){var e=this;return g(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class lu{initialize(e,n){var r=this;return g(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(n),r.remoteStore=r.createRemoteStore(n),r.eventManager=r.createEventManager(n),r.syncEngine=r.createSyncEngine(n,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>S$(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=nde.bind(null,r.syncEngine),yield function t0(t,e){return n0.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Ble}createDatastore(e){const n=td(e.databaseInfo.databaseId),r=new Ele(e.databaseInfo);return new Cle(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>S$(this.syncEngine,a,0),o=h$.D()?new h$:new vle,new xle(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,a,u,c){const l=new Wle(r,i,s,o,a,u);return c&&(l.vc=!0),l}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=g(function*(n){const r=R(n);b("RemoteStore","RemoteStore shutting down."),r.vu.add(5),yield ru(r),r.Pu.shutdown(),r.bu.set("Unknown")}),function(n){return e.apply(this,arguments)})(this.remoteStore);var e}}class Cg{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Xe("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class mde{constructor(e,n,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Et.UNAUTHENTICATED,this.clientId=iV.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=g(function*(a){b("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(b("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return g(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new T(I.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new pt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(g(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const i=ou(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}function Sg(t,e){return L0.apply(this,arguments)}function L0(){return L0=g(function*(t,e){t.asyncQueue.verifyOperationInProgress(),b("FirestoreClient","Initializing OfflineComponentProvider");const n=yield t.getConfiguration();yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(function(){var i=g(function*(s){r.isEqual(s)||(yield r$(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}),L0.apply(this,arguments)}function F0(t,e){return U0.apply(this,arguments)}function U0(){return U0=g(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield function V0(t){return B0.apply(this,arguments)}(t);b("FirestoreClient","Initializing OnlineComponentProvider");const r=yield t.getConfiguration();yield e.initialize(n,r),t.setCredentialChangeListener(i=>v$(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>v$(e.remoteStore,s)),t._onlineComponents=e}),U0.apply(this,arguments)}function B0(){return B0=g(function*(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){b("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Sg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function P$(t){return"FirebaseError"===t.name?t.code===I.FAILED_PRECONDITION||t.code===I.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(n))throw n;hr("Error using user provided cache. Falling back to memory cache: "+n),yield Sg(t,new bg)}}else b("FirestoreClient","Using default OfflineComponentProvider"),yield Sg(t,new bg);return t._offlineComponents}),B0.apply(this,arguments)}function $0(){return $0=g(function*(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(b("FirestoreClient","Using user provided OnlineComponentProvider"),yield F0(t,t._uninitializedComponentsProvider._online)):(b("FirestoreClient","Using default OnlineComponentProvider"),yield F0(t,new lu))),t._onlineComponents}),$0.apply(this,arguments)}function du(t){return H0.apply(this,arguments)}function H0(){return H0=g(function*(t){const e=yield function Ag(t){return $0.apply(this,arguments)}(t),n=e.eventManager;return n.onListen=Kle.bind(null,e.syncEngine),n.onUnlisten=Qle.bind(null,e.syncEngine),n}),H0.apply(this,arguments)}function B$(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e}const $$=new Map;function H$(t){if(x.isDocumentKey(t))throw new T(I.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function le(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new T(I.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=function Rg(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(n=t).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof t?"a function":O()}(t);throw new T(I.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}class G${constructor(e){var n,r;if(void 0===e.host){if(void 0!==e.ssl)throw new T(I.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new T(I.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function bde(t,e,n,r){if(!0===e&&!0===r)throw new T(I.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=B$(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(i){if(void 0!==i.timeoutSeconds){if(isNaN(i.timeoutSeconds))throw new T(I.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new T(I.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new T(I.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class id{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new G$({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new T(I.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new T(I.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new G$(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new Eue;switch(n.type){case"firstParty":return new Cue(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new T(I.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=$$.get(e);n&&(b("ComponentProvider","Removing Datastore"),$$.delete(e),n.terminate())}(this),Promise.resolve()}}class et{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Hr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new et(this.firestore,e,this._key)}}class Ut{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ut(this.firestore,e,this._query)}}class Hr extends Ut{constructor(e,n,r){super(e,n,qa(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new et(this.firestore,null,new x(e))}withConverter(e){return new Hr(this.firestore,e,this._path)}}function Sde(t,e,...n){if(t=ar(t),function z0(t,e,n){if(!n)throw new T(I.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}("collection","path",e),t instanceof id){const r=he.fromString(e,...n);return H$(r),new Hr(t,null,r)}{if(!(t instanceof et||t instanceof Hr))throw new T(I.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(he.fromString(e,...n));return H$(r),new Hr(t.firestore,null,r)}}class xde{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new UC(this,"async_queue_retry"),this.Xc=()=>{const n=Eg();n&&b("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=Eg();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=Eg();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new pt;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return g(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(n){if(!ts(n))throw n;b("AsyncQueue","Operation failed with retryable error: "+n)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,Xe("INTERNAL UNHANDLED ERROR: ",function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),o}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=n,n}enqueueAfterDelay(e,n,r){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const i=r0.createAndSchedule(this,e,n,r,s=>this.na(s));return this.zc.push(i),i}Zc(){this.Wc&&O()}verifyOperationInProgress(){}sa(){var e=this;return g(function*(){let n;do{n=e.Gc,yield n}while(n!==e.Gc)})()}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}function G0(t){return function(e,n){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(t)}class ke extends id{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new xde,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||W$(this),this._firestoreClient.terminate()}}function Mde(t,e){const r="string"==typeof t?t:e||"(default)",i=js("object"==typeof t?t:xf(),"firestore").getImmediate({identifier:r});if(!i._initialized){const s=oO("firestore");s&&function Cde(t,e,n,r={}){var i;const s=(t=le(t,id))._getSettings();if("firestore.googleapis.com"!==s.host&&s.host!==e&&hr("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},s),{host:`${e}:${n}`,ssl:!1})),r.mockUserToken){let o,a;if("string"==typeof r.mockUserToken)o=r.mockUserToken,a=Et.MOCK_USER;else{o=cO(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new T(I.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new Et(u)}t._authCredentials=new Due(new nV(o,a))}}(i,...s)}return i}function W$(t){var e,n,r;const i=t._freezeSettings(),s=(a=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new nce(t._databaseId,a,t._persistenceKey,(c=i).host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,B$(c.experimentalLongPollingOptions),c.useFetchStreams));var a,c;t._firestoreClient=new mde(t._authCredentials,t._appCheckCredentials,t._queue,s),null!==(n=i.cache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=i.cache)&&void 0!==r&&r._onlineComponentProvider&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}class wo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new wo(gt.fromBase64String(e))}catch(n){throw new T(I.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new wo(gt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class hu{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new T(I.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Je(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class q0{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new T(I.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new T(I.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return X(this._lat,e._lat)||X(this._long,e._long)}}const Vde=new RegExp("[~\\*/\\[\\]]");function kg(t,e,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new T(I.INVALID_ARGUMENT,a+t+u)}class Y0{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new et(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Bde(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Pg("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class Bde extends Y0{data(){return super.data()}}function Pg(t,e){return"string"==typeof e?function Ng(t,e,n){if(e.search(Vde)>=0)throw kg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new hu(...e.split("."))._internalPath}catch{throw kg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}(t,e):e instanceof hu?e._internalPath:e._delegate._internalPath}class jde{convertValue(e,n="none"){switch(ss(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ke(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Di(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw O()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ns(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new q0(Ke(e.latitude),Ke(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Qp(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Rl(e));default:return null}}convertTimestamp(e){const n=rs(e);return new $e(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=he.fromString(e);F(CB(r));const i=new oo(r.get(1),r.get(3)),s=new x(r.popFirst(5));return i.isEqual(n)||Xe(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}class Eo{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class gu extends Y0{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Ug(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Pg("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Ug extends gu{data(e={}){return super.data(e)}}class mu{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Eo(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Ug(this._firestore,this._userDataWriter,r.key,r,new Eo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new T(I.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>({type:"added",doc:new Ug(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Eo(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||3!==o.type).map(o=>{const a=new Ug(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Eo(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let u=-1,c=-1;return 0!==o.type&&(u=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),1!==o.type&&(s=s.add(o.doc),c=s.indexOf(o.doc.key)),{type:zde(o.type),doc:a,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function zde(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return O()}}class ps extends jde{constructor(e){super(),this.firestore=e}convertBytes(e){return new wo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new et(this.firestore,null,n)}}!function(t,e=!0){Ba=zi,zt(new Mt("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new ke(new Tue(n.getProvider("auth-internal")),new Sue(n.getProvider("app-check-internal")),function(a,u){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new T(I.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new oo(a.options.projectId,u)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),xe(tV,"3.12.1",t),xe(tV,"3.12.1","esm2017")}();var rhe={includeMetadataChanges:!1};function eS(t,e){return void 0===e&&(e=rhe),new je(function(n){var r=function Gde(t,...e){var n,r,i;t=ar(t);let s={includeMetadataChanges:!1},o=0;"object"!=typeof e[o]||G0(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(G0(e[o])){const d=e[o];e[o]=null===(n=d.next)||void 0===n?void 0:n.bind(d),e[o+1]=null===(r=d.error)||void 0===r?void 0:r.bind(d),e[o+2]=null===(i=d.complete)||void 0===i?void 0:i.bind(d)}let u,c,l;if(t instanceof et)c=le(t.firestore,ke),l=qa(t._key.path),u={next:d=>{e[o]&&e[o](function Z0(t,e,n){const r=n.docs.get(e._key),i=new ps(t);return new gu(t,i,e._key,r,new Eo(n.hasPendingWrites,n.fromCache),e.converter)}(c,t,d))},error:e[o+1],complete:e[o+2]};else{const d=le(t,Ut);c=le(d.firestore,ke),l=d._query;const h=new ps(c);u={next:f=>{e[o]&&e[o](new mu(c,h,d,f))},error:e[o+1],complete:e[o+2]},function oj(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new T(I.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(t._query)}return function(d,h,f,p){const m=new Cg(p),y=new l0(h,m,f);return d.asyncQueue.enqueueAndForget(g(function*(){return function s0(t,e){return o0.apply(this,arguments)}(yield du(d),y)})),()=>{m.Dc(),d.asyncQueue.enqueueAndForget(g(function*(){return function a0(t,e){return u0.apply(this,arguments)}(yield du(d),y)}))}}(function at(t){return t._firestoreClient||W$(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}(c),l,a,u)}(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function lhe(t,e){return void 0===e&&(e={}),function che(t){return eS(t,{includeMetadataChanges:!0}).pipe(Te(function(e){return e.docs}))}(t).pipe(Te(function(n){return n.map(function(r){return function pj(t,e){void 0===e&&(e={});var n=t.data();return!t.exists()||"object"!=typeof n||null===n||e.idField&&(n[e.idField]=t.id),n}(r,e)})}))}class ld{constructor(e){return e}}const _j="firestore",rS=new U("angularfire2.firestore-instances");function fhe(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new ld(r)}}const phe={provide:class dhe{constructor(){return Ff(_j)}},deps:[[new dt,rS]]},ghe={provide:ld,useFactory:function hhe(t,e){const n=Lf(_j,t,e);return n&&new ld(n)},deps:[[new dt,rS],Qs]};let mhe=(()=>{class t{constructor(){xe("angularfire",Vc.full,"fst")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Qn({type:t}),t.\u0275inj=Un({providers:[ghe,phe]}),t})();function yhe(t,...e){return{ngModule:mhe,providers:[{provide:rS,useFactory:fhe(t),multi:!0,deps:[ve,Rn,Uf,Vf,[new dt,LT],[new dt,Wf],...e]}]}}const vj=Ca(lhe,!0),wj=Ca(Sde,!0),_he=Ca(Mde,!0);let vhe=(()=>{class t{constructor(n){this.firestore=n;const r=wj(this.firestore,"todos-los-grupos");this.item$=vj(r)}ngOnInit(){this.item$.subscribe({next:n=>{console.log(n)}})}}return t.\u0275fac=function(n){return new(n||t)(j(ld))},t.\u0275cmp=Tu({type:t,selectors:[["app-home"]],decls:21,vars:0,consts:[[1,"bg-dark"],[1,"row"],[1,"col-md-4"],[1,"espaciado"],[1,"card","p-5","bg-dark","shadow"],[1,"form-group"],["for","exampleInputEmail1",1,"text-light"],["type","email","id","exampleInputEmail1","aria-describedby","emailHelp",1,"form-control"],["for","exampleInputPassword1",1,"text-light"],["type","password","id","exampleInputPassword1",1,"form-control"],["type","submit",1,"btn","btn-primary"]],template:function(n,r){1&n&&(ri(0,"div",0)(1,"div",1),Tr(2,"div",2),ri(3,"div",2),Tr(4,"div",3),ri(5,"div",4)(6,"form")(7,"div",5)(8,"label",6),sc(9,"Email"),Jn(),Tr(10,"input",7),Jn(),ri(11,"div",5)(12,"label",8),sc(13,"Password"),Jn(),Tr(14,"input",9),Jn(),ri(15,"button",10),sc(16,"Submit"),Jn()()(),Tr(17,"div",3)(18,"div",3)(19,"div",3),Jn(),Tr(20,"div",2),Jn()())}}),t})(),whe=(()=>{class t{constructor(n){this.firestore=n}getData(n){var r=this;return g(function*(){try{const i=wj(r.firestore,n);return vj(i).subscribe({next:s=>{console.log(s,"RESPUESTA")}})}catch(i){return console.error(i),null}})()}}return t.\u0275fac=function(n){return new(n||t)(B(ld))},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Ihe=[{path:"",pathMatch:"full",redirectTo:"home"},{path:"home",component:vhe},{path:"astrosol",component:(()=>{class t{constructor(n){this.estadisticaService=n}}return t.\u0275fac=function(n){return new(n||t)(j(whe))},t.\u0275cmp=Tu({type:t,selectors:[["app-astro-sol"]],decls:2,vars:0,template:function(n,r){1&n&&(ri(0,"p"),sc(1,"astro-sol works!"),Jn())}}),t})()}],Ehe_firebase={projectId:"estadistica-e5eeb",appId:"1:64729521444:web:14775deeb53cf35772e7b1",databaseURL:"https://estadistica-e5eeb.firebaseio.com",storageBucket:"estadistica-e5eeb.appspot.com",locationId:"southamerica-east1",apiKey:"AIzaSyCSZ_jjFVuKWQV-MN1y11Jns6LKLX6vtA4",authDomain:"estadistica-e5eeb.firebaseapp.com",messagingSenderId:"64729521444"};let Dhe=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Qn({type:t,bootstrap:[oX]}),t.\u0275inj=Un({imports:[_K,qv.forRoot(Ihe),sX,ene(()=>tne(Ehe_firebase)),yhe(()=>_he()),Ose(()=>Lse()),fae(()=>pae())]}),t})();mK().bootstrapModule(Dhe).catch(t=>console.error(t))}},De=>{De(De.s=661)}]);