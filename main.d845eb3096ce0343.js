"use strict";(self.webpackChunkestadisticas=self.webpackChunkestadisticas||[]).push([[179],{613:()=>{function Ae(t){return"function"==typeof t}function zu(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const Gd=zu(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function Wo(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class $n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const s of n)s.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(Ae(r))try{r()}catch(s){e=s instanceof Gd?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{_A(s)}catch(o){e=e??[],o instanceof Gd?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Gd(e)}}add(e){var n;if(e&&e!==this)if(this.closed)_A(e);else{if(e instanceof $n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Wo(n,e)}remove(e){const{_finalizers:n}=this;n&&Wo(n,e),e instanceof $n&&e._removeParent(this)}}$n.EMPTY=(()=>{const t=new $n;return t.closed=!0,t})();const mA=$n.EMPTY;function yA(t){return t instanceof $n||t&&"closed"in t&&Ae(t.remove)&&Ae(t.add)&&Ae(t.unsubscribe)}function _A(t){Ae(t)?t():t.unsubscribe()}const Fs={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},zd={setTimeout(t,e,...n){const{delegate:r}=zd;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=zd;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function vA(t){zd.setTimeout(()=>{const{onUnhandledError:e}=Fs;if(!e)throw t;e(t)})}function wA(){}const BG=Pm("C",void 0,void 0);function Pm(t,e,n){return{kind:t,value:e,error:n}}let Ls=null;function qd(t){if(Fs.useDeprecatedSynchronousErrorHandling){const e=!Ls;if(e&&(Ls={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=Ls;if(Ls=null,n)throw r}}else t()}class Om extends $n{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,yA(e)&&e.add(this)):this.destination=WG}static create(e,n,r){return new qu(e,n,r)}next(e){this.isStopped?Lm(function jG(t){return Pm("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?Lm(function $G(t){return Pm("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Lm(BG,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const GG=Function.prototype.bind;function Fm(t,e){return GG.call(t,e)}class zG{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Wd(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Wd(r)}else Wd(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Wd(n)}}}class qu extends Om{constructor(e,n,r){let i;if(super(),Ae(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&Fs.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Fm(e.next,s),error:e.error&&Fm(e.error,s),complete:e.complete&&Fm(e.complete,s)}):i=e}this.destination=new zG(i)}}function Wd(t){Fs.useDeprecatedSynchronousErrorHandling?function HG(t){Fs.useDeprecatedSynchronousErrorHandling&&Ls&&(Ls.errorThrown=!0,Ls.error=t)}(t):vA(t)}function Lm(t,e){const{onStoppedNotification:n}=Fs;n&&zd.setTimeout(()=>n(t,e))}const WG={closed:!0,next:wA,error:function qG(t){throw t},complete:wA},Vm="function"==typeof Symbol&&Symbol.observable||"@@observable";function Vs(t){return t}function IA(t){return 0===t.length?Vs:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}let He=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const s=function YG(t){return t&&t instanceof Om||function QG(t){return t&&Ae(t.next)&&Ae(t.error)&&Ae(t.complete)}(t)&&yA(t)}(n)?n:new qu(n,r,i);return qd(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=EA(r))((i,s)=>{const o=new qu({next:a=>{try{n(a)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[Vm](){return this}pipe(...n){return IA(n)(this)}toPromise(n){return new(n=EA(n))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function EA(t){var e;return null!==(e=t??Fs.Promise)&&void 0!==e?e:Promise}const XG=zu(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let ui=(()=>{class t extends He{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new DA(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new XG}next(n){qd(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){qd(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){qd(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:s}=this;return r||i?mA:(this.currentObservers=null,s.push(n),new $n(()=>{this.currentObservers=null,Wo(s,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){const n=new He;return n.source=this,n}}return t.create=(e,n)=>new DA(e,n),t})();class DA extends ui{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:mA}}function CA(t){return Ae(t?.lift)}function Ft(t){return e=>{if(CA(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function bt(t,e,n,r,i){return new JG(t,e,n,r,i)}class JG extends Om{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function Ie(t,e){return Ft((n,r)=>{let i=0;n.subscribe(bt(r,s=>{r.next(t.call(e,s,i++))}))})}function $m(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function Wi(t){return this instanceof Wi?(this.v=t,this):new Wi(t)}function AA(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function Hm(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,u){!function i(s,o,a,u){Promise.resolve(u).then(function(c){s({value:c,done:a})},o)}(a,u,(o=t[s](o)).done,o.value)})}}}const MA=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function xA(t){return Ae(t?.then)}function RA(t){return Ae(t[Vm])}function NA(t){return Symbol.asyncIterator&&Ae(t?.[Symbol.asyncIterator])}function kA(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const PA=function m4(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function OA(t){return Ae(t?.[PA])}function FA(t){return function SA(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(p,m){s.push([h,f,p,m])>1||a(h,f)})})}function a(h,f){try{!function u(h){h.value instanceof Wi?Promise.resolve(h.value.v).then(c,l):d(s[0][2],h)}(r[h](f))}catch(p){d(s[0][3],p)}}function c(h){a("next",h)}function l(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield Wi(n.read());if(i)return yield Wi(void 0);yield yield Wi(r)}}finally{n.releaseLock()}})}function LA(t){return Ae(t?.getReader)}function tr(t){if(t instanceof He)return t;if(null!=t){if(RA(t))return function y4(t){return new He(e=>{const n=t[Vm]();if(Ae(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(MA(t))return function _4(t){return new He(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(xA(t))return function v4(t){return new He(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,vA)})}(t);if(NA(t))return VA(t);if(OA(t))return function w4(t){return new He(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(LA(t))return function I4(t){return VA(FA(t))}(t)}throw kA(t)}function VA(t){return new He(e=>{(function E4(t,e){var n,r,i,s;return function bA(t,e,n,r){return new(n||(n=Promise))(function(s,o){function a(l){try{c(r.next(l))}catch(d){o(d)}}function u(l){try{c(r.throw(l))}catch(d){o(d)}}function c(l){l.done?s(l.value):function i(s){return s instanceof n?s:new n(function(o){o(s)})}(l.value).then(a,u)}c((r=r.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=AA(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function ci(t,e,n,r=0,i=!1){const s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function Lt(t,e,n=1/0){return Ae(e)?Lt((r,i)=>Ie((s,o)=>e(r,s,i,o))(tr(t(r,i))),n):("number"==typeof e&&(n=e),Ft((r,i)=>function D4(t,e,n,r,i,s,o,a){const u=[];let c=0,l=0,d=!1;const h=()=>{d&&!u.length&&!c&&e.complete()},f=m=>c<r?p(m):u.push(m),p=m=>{s&&e.next(m),c++;let y=!1;tr(n(m,l++)).subscribe(bt(e,v=>{i?.(v),s?f(v):e.next(v)},()=>{y=!0},void 0,()=>{if(y)try{for(c--;u.length&&c<r;){const v=u.shift();o?ci(e,o,()=>p(v)):p(v)}h()}catch(v){e.error(v)}}))};return t.subscribe(bt(e,f,()=>{d=!0,h()})),()=>{a?.()}}(r,i,t,n)))}function Ko(t=1/0){return Lt(Vs,t)}const xr=new He(t=>t.complete());function Gm(t){return t[t.length-1]}function UA(t){return Ae(Gm(t))?t.pop():void 0}function Wu(t){return function b4(t){return t&&Ae(t.schedule)}(Gm(t))?t.pop():void 0}function Kd(t,e=0){return Ft((n,r)=>{n.subscribe(bt(r,i=>ci(r,t,()=>r.next(i),e),()=>ci(r,t,()=>r.complete(),e),i=>ci(r,t,()=>r.error(i),e)))})}function Qd(t,e=0){return Ft((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function BA(t,e){if(!t)throw new Error("Iterable cannot be null");return new He(n=>{ci(n,e,()=>{const r=t[Symbol.asyncIterator]();ci(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function Tt(t,e){return e?function N4(t,e){if(null!=t){if(RA(t))return function S4(t,e){return tr(t).pipe(Qd(e),Kd(e))}(t,e);if(MA(t))return function M4(t,e){return new He(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(xA(t))return function A4(t,e){return tr(t).pipe(Qd(e),Kd(e))}(t,e);if(NA(t))return BA(t,e);if(OA(t))return function x4(t,e){return new He(n=>{let r;return ci(n,e,()=>{r=t[PA](),ci(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void n.error(o)}s?n.complete():n.next(i)},0,!0)}),()=>Ae(r?.return)&&r.return()})}(t,e);if(LA(t))return function R4(t,e){return BA(FA(t),e)}(t,e)}throw kA(t)}(t,e):tr(t)}function zm(t,e,...n){if(!0===e)return void t();if(!1===e)return;const r=new qu({next:()=>{r.unsubscribe(),t()}});return tr(e(...n)).subscribe(r)}function Ee(t){for(let e in t)if(t[e]===Ee)return e;throw Error("Could not find renamed property on target object.")}function qm(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function mt(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(mt).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function Wm(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const O4=Ee({__forward_ref__:Ee});function xe(t){return t.__forward_ref__=xe,t.toString=function(){return mt(this())},t}function X(t){return Km(t)?t():t}function Km(t){return"function"==typeof t&&t.hasOwnProperty(O4)&&t.__forward_ref__===xe}function Qm(t){return t&&!!t.\u0275providers}const $A="https://g.co/ng/security#xss";class b extends Error{constructor(e,n){super(function Yd(t,e){return`NG0${Math.abs(t)}${e?": "+e:""}`}(e,n)),this.code=e}}function Z(t){return"string"==typeof t?t:null==t?"":String(t)}function Xd(t,e){throw new b(-201,!1)}function nr(t,e){null==t&&function _e(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function j(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Vt(t){return{providers:t.providers||[],imports:t.imports||[]}}function Jd(t){return jA(t,Zd)||jA(t,GA)}function jA(t,e){return t.hasOwnProperty(e)?t[e]:null}function HA(t){return t&&(t.hasOwnProperty(Ym)||t.hasOwnProperty(H4))?t[Ym]:null}const Zd=Ee({\u0275prov:Ee}),Ym=Ee({\u0275inj:Ee}),GA=Ee({ngInjectableDef:Ee}),H4=Ee({ngInjectorDef:Ee});var H=(()=>((H=H||{})[H.Default=0]="Default",H[H.Host=1]="Host",H[H.Self=2]="Self",H[H.SkipSelf=4]="SkipSelf",H[H.Optional=8]="Optional",H))();let Xm;function Cn(t){const e=Xm;return Xm=t,e}function qA(t,e,n){const r=Jd(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&H.Optional?null:void 0!==e?e:void Xd(mt(t))}const Re=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Ku={},Jm="__NG_DI_FLAG__",eh="ngTempTokenPath",z4=/\n/gm,WA="__source";let Qo;function Qi(t){const e=Qo;return Qo=t,e}function K4(t,e=H.Default){if(void 0===Qo)throw new b(-203,!1);return null===Qo?qA(t,void 0,e):Qo.get(t,e&H.Optional?null:void 0,e)}function $(t,e=H.Default){return(function zA(){return Xm}()||K4)(X(t),e)}function V(t,e=H.Default){return $(t,th(e))}function th(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Zm(t){const e=[];for(let n=0;n<t.length;n++){const r=X(t[n]);if(Array.isArray(r)){if(0===r.length)throw new b(900,!1);let i,s=H.Default;for(let o=0;o<r.length;o++){const a=r[o],u=Q4(a);"number"==typeof u?-1===u?i=a.token:s|=u:i=a}e.push($(i,s))}else e.push($(r))}return e}function Qu(t,e){return t[Jm]=e,t.prototype[Jm]=e,t}function Q4(t){return t[Jm]}function li(t){return{toString:t}.toString()}var Rr=(()=>((Rr=Rr||{})[Rr.OnPush=0]="OnPush",Rr[Rr.Default=1]="Default",Rr))(),Hn=(()=>{return(t=Hn||(Hn={}))[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",Hn;var t})();const di={},ge=[],nh=Ee({\u0275cmp:Ee}),ey=Ee({\u0275dir:Ee}),ty=Ee({\u0275pipe:Ee}),QA=Ee({\u0275mod:Ee}),hi=Ee({\u0275fac:Ee}),Yu=Ee({__NG_ELEMENT_ID__:Ee}),YA=Ee({__NG_ENV_ID__:Ee});function XA(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function ny(t,e,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{const s=i,o=n[++r];ZA(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function JA(t){return 3===t||4===t||6===t}function ZA(t){return 64===t.charCodeAt(0)}function Xu(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||eM(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function eM(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const a=t[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<t.length;){const a=t[s];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}const tM="ng-template";function J4(t,e,n){let r=0,i=!0;for(;r<t.length;){let s=t[r++];if("string"==typeof s&&i){const o=t[r++];if(n&&"class"===s&&-1!==XA(o.toLowerCase(),e,0))return!0}else{if(1===s){for(;r<t.length&&"string"==typeof(s=t[r++]);)if(s.toLowerCase()===e)return!0;return!1}"number"==typeof s&&(i=!1)}}return!1}function nM(t){return 4===t.type&&t.value!==tM}function Z4(t,e,n){return e===(4!==t.type||n?t.value:tM)}function ez(t,e,n){let r=4;const i=t.attrs||[],s=function rz(t){for(let e=0;e<t.length;e++)if(JA(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!Z4(t,u,n)||""===u&&1===e.length){if(hr(r))return!1;o=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!J4(t.attrs,c,n)){if(hr(r))return!1;o=!0}continue}const d=tz(8&r?"class":u,i,nM(t),n);if(-1===d){if(hr(r))return!1;o=!0;continue}if(""!==c){let h;h=d>s?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==XA(f,c,0)||2&r&&c!==h){if(hr(r))return!1;o=!0}}}}else{if(!o&&!hr(r)&&!hr(u))return!1;if(o&&hr(u))continue;o=!1,r=u|1&r}}return hr(r)||o}function hr(t){return 0==(1&t)}function tz(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){const o=e[i];if(o===t)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function iz(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function rM(t,e,n=!1){for(let r=0;r<e.length;r++)if(ez(t,e[r],n))return!0;return!1}function iM(t,e){return t?":not("+e.trim()+")":e}function oz(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!hr(o)&&(e+=iM(s,i),i=""),r=o,s=s||!hr(r);n++}return""!==i&&(e+=iM(s,i)),e}function Yo(t){return li(()=>{const e=oM(t),n={...e,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Rr.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,data:t.data||{},encapsulation:t.encapsulation||Hn.Emulated,styles:t.styles||ge,_:null,schemas:t.schemas||null,tView:null,id:""};aM(n);const r=t.dependencies;return n.directiveDefs=rh(r,!1),n.pipeDefs=rh(r,!0),n.id=function pz(t){let e=0;const n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(n),n})}function lz(t){return me(t)||Jt(t)}function dz(t){return null!==t}function Xt(t){return li(()=>({type:t.type,bootstrap:t.bootstrap||ge,declarations:t.declarations||ge,imports:t.imports||ge,exports:t.exports||ge,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function sM(t,e){if(null==t)return di;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}function Q(t){return li(()=>{const e=oM(t);return aM(e),e})}function me(t){return t[nh]||null}function Jt(t){return t[ey]||null}function Tn(t){return t[ty]||null}function Gn(t,e){const n=t[QA]||null;if(!n&&!0===e)throw new Error(`Type ${mt(t)} does not have '\u0275mod' property.`);return n}function oM(t){const e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,exportAs:t.exportAs||null,standalone:!0===t.standalone,selectors:t.selectors||ge,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:sM(t.inputs,e),outputs:sM(t.outputs)}}function aM(t){t.features?.forEach(e=>e(t))}function rh(t,e){if(!t)return null;const n=e?Tn:lz;return()=>("function"==typeof t?t():t).map(r=>n(r)).filter(dz)}const yt=0,k=1,ie=2,Ge=3,fr=4,Us=5,Zt=6,Jo=7,Ye=8,Zo=9,Bs=10,ne=11,Ju=12,uM=13,ea=14,ct=15,Zu=16,ta=17,Nr=18,ec=19,cM=20,Yi=21,fi=22,ih=23,sh=24,ce=25,ry=1,lM=2,kr=7,oh=8,na=9,Ut=11;function zn(t){return Array.isArray(t)&&"object"==typeof t[ry]}function Sn(t){return Array.isArray(t)&&!0===t[ry]}function iy(t){return 0!=(4&t.flags)}function $s(t){return t.componentOffset>-1}function ah(t){return 1==(1&t.flags)}function pr(t){return!!t.template}function sy(t){return 0!=(512&t[ie])}function js(t,e){return t.hasOwnProperty(hi)?t[hi]:null}let vz=Re.WeakRef??class _z{constructor(e){this.ref=e}deref(){return this.ref}},Iz=0,Pr=null,uh=!1;function St(t){const e=Pr;return Pr=t,e}class gM{constructor(){this.id=Iz++,this.ref=function wz(t){return new vz(t)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[e,n]of this.producers){const r=n.producerNode.deref();if(void 0!==r&&n.atTrackingVersion===this.trackingVersion){if(r.producerPollStatus(n.seenValueVersion))return!0}else this.producers.delete(e),r?.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const e=uh;uh=!0;try{for(const[n,r]of this.consumers){const i=r.consumerNode.deref();void 0!==i&&i.trackingVersion===r.atTrackingVersion?i.onConsumerDependencyMayHaveChanged():(this.consumers.delete(n),i?.producers.delete(this.id))}}finally{uh=e}}producerAccessed(){if(uh)throw new Error("");if(null===Pr)return;let e=Pr.producers.get(this.id);void 0===e?(e={consumerNode:Pr.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:Pr.trackingVersion},Pr.producers.set(this.id,e),this.consumers.set(Pr.id,e)):(e.seenValueVersion=this.valueVersion,e.atTrackingVersion=Pr.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){return!1!==Pr?.consumerAllowSignalWrites}producerPollStatus(e){return this.valueVersion!==e||(this.onProducerUpdateValueVersion(),this.valueVersion!==e)}}let mM=null;const yM=()=>{};class bz extends gM{constructor(e,n,r){super(),this.watch=e,this.schedule=n,this.dirty=!1,this.cleanupFn=yM,this.registerOnCleanup=i=>{this.cleanupFn=i},this.consumerAllowSignalWrites=r}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const e=St(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=yM,this.watch(this.registerOnCleanup)}finally{St(e)}}cleanup(){this.cleanupFn()}}class Tz{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function rr(){return _M}function _M(t){return t.type.prototype.ngOnChanges&&(t.setInput=Az),Sz}function Sz(){const t=wM(this),e=t?.current;if(e){const n=t.previous;if(n===di)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function Az(t,e,n,r){const i=this.declaredInputs[n],s=wM(t)||function Mz(t,e){return t[vM]=e}(t,{previous:di,current:null}),o=s.current||(s.current={}),a=s.previous,u=a[i];o[i]=new Tz(u&&u.currentValue,e,a===di),t[r]=e}rr.ngInherit=!0;const vM="__ngSimpleChanges__";function wM(t){return t[vM]||null}const Or=function(t,e,n){};function Pe(t){for(;Array.isArray(t);)t=t[yt];return t}function dh(t,e){return Pe(e[t])}function An(t,e){return Pe(e[t.index])}function DM(t,e){return t.data[e]}function Mn(t,e){const n=e[t];return zn(n)?n:n[yt]}function hh(t){return 128==(128&t[ie])}function Xi(t,e){return null==e?null:t[e]}function CM(t){t[ta]=0}function Oz(t){1024&t[ie]||(t[ie]|=1024,TM(t,1))}function bM(t){1024&t[ie]&&(t[ie]&=-1025,TM(t,-1))}function TM(t,e){let n=t[Ge];if(null===n)return;n[Us]+=e;let r=n;for(n=n[Ge];null!==n&&(1===e&&1===r[Us]||-1===e&&0===r[Us]);)n[Us]+=e,r=n,n=n[Ge]}const W={lFrame:UM(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function MM(){return W.bindingsEnabled}function D(){return W.lFrame.lView}function he(){return W.lFrame.tView}function Bt(){let t=NM();for(;null!==t&&64===t.type;)t=t.parent;return t}function NM(){return W.lFrame.currentTNode}function Fr(t,e){const n=W.lFrame;n.currentTNode=t,n.isParent=e}function dy(){return W.lFrame.isParent}function sa(){return W.lFrame.bindingIndex++}function gi(t){const e=W.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function Wz(t,e){const n=W.lFrame;n.bindingIndex=n.bindingRootIndex=t,fy(e)}function fy(t){W.lFrame.currentDirectiveIndex=t}function gy(t){W.lFrame.currentQueryIndex=t}function Qz(t){const e=t[k];return 2===e.type?e.declTNode:1===e.type?t[Zt]:null}function LM(t,e,n){if(n&H.SkipSelf){let i=e,s=t;for(;!(i=i.parent,null!==i||n&H.Host||(i=Qz(s),null===i||(s=s[ea],10&i.type))););if(null===i)return!1;e=i,t=s}const r=W.lFrame=VM();return r.currentTNode=e,r.lView=t,!0}function my(t){const e=VM(),n=t[k];W.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function VM(){const t=W.lFrame,e=null===t?null:t.child;return null===e?UM(t):e}function UM(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function BM(){const t=W.lFrame;return W.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const $M=BM;function yy(){const t=BM();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function fn(){return W.lFrame.selectedIndex}function Hs(t){W.lFrame.selectedIndex=t}function ze(){const t=W.lFrame;return DM(t.tView,t.selectedIndex)}let HM=!0;function fh(){return HM}function Ji(t){HM=t}function ph(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:c,ngOnDestroy:l}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),c&&((t.viewHooks??=[]).push(n,c),(t.viewCheckHooks??=[]).push(n,c)),null!=l&&(t.destroyHooks??=[]).push(n,l)}}function gh(t,e,n){GM(t,e,3,n)}function mh(t,e,n,r){(3&t[ie])===n&&GM(t,e,n,r)}function _y(t,e){let n=t[ie];(3&n)===e&&(n&=4095,n+=1,t[ie]=n)}function GM(t,e,n,r){const s=r??-1,o=e.length-1;let a=0;for(let u=void 0!==r?65535&t[ta]:0;u<o;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(t[ta]+=65536),(a<s||-1==s)&&(rq(t,n,e,u),t[ta]=(4294901760&t[ta])+u+2),u++}function zM(t,e){Or(4,t,e);const n=St(null);try{e.call(t)}finally{St(n),Or(5,t,e)}}function rq(t,e,n,r){const i=n[r]<0,s=n[r+1],a=t[i?-n[r]:n[r]];i?t[ie]>>12<t[ta]>>16&&(3&t[ie])===e&&(t[ie]+=4096,zM(a,s)):zM(a,s)}const oa=-1;class rc{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function qM(t){return t!==oa}function yh(t){return 32767&t}function _h(t,e){let n=function aq(t){return t>>16}(t),r=e;for(;n>0;)r=r[ea],n--;return r}let wy=!0;function vh(t){const e=wy;return wy=t,e}const WM=255,KM=5;let uq=0;const Lr={};function wh(t,e){const n=QM(t,e);if(-1!==n)return n;const r=e[k];r.firstCreatePass&&(t.injectorIndex=e.length,Iy(r.data,t),Iy(e,null),Iy(r.blueprint,null));const i=Ey(t,e),s=t.injectorIndex;if(qM(i)){const o=yh(i),a=_h(i,e),u=a[k].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|u[o+c]}return e[s+8]=i,s}function Iy(t,e){t.push(0,0,0,0,0,0,0,0,e)}function QM(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Ey(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){if(r=nx(i),null===r)return oa;if(n++,i=i[ea],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return oa}function Dy(t,e,n){!function cq(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Yu)&&(r=n[Yu]),null==r&&(r=n[Yu]=uq++);const i=r&WM;e.data[t+(i>>KM)]|=1<<i}(t,e,n)}function YM(t,e,n){if(n&H.Optional||void 0!==t)return t;Xd()}function XM(t,e,n,r){if(n&H.Optional&&void 0===r&&(r=null),!(n&(H.Self|H.Host))){const i=t[Zo],s=Cn(void 0);try{return i?i.get(e,r,n&H.Optional):qA(e,r,n&H.Optional)}finally{Cn(s)}}return YM(r,0,n)}function JM(t,e,n,r=H.Default,i){if(null!==t){if(2048&e[ie]&&!(r&H.Self)){const o=function pq(t,e,n,r,i){let s=t,o=e;for(;null!==s&&null!==o&&2048&o[ie]&&!(512&o[ie]);){const a=ZM(s,o,n,r|H.Self,Lr);if(a!==Lr)return a;let u=s.parent;if(!u){const c=o[cM];if(c){const l=c.get(n,Lr,r);if(l!==Lr)return l}u=nx(o),o=o[ea]}s=u}return i}(t,e,n,r,Lr);if(o!==Lr)return o}const s=ZM(t,e,n,r,Lr);if(s!==Lr)return s}return XM(e,n,r,i)}function ZM(t,e,n,r,i){const s=function hq(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Yu)?t[Yu]:void 0;return"number"==typeof e?e>=0?e&WM:fq:e}(n);if("function"==typeof s){if(!LM(e,t,r))return r&H.Host?YM(i,0,r):XM(e,n,r,i);try{const o=s(r);if(null!=o||r&H.Optional)return o;Xd()}finally{$M()}}else if("number"==typeof s){let o=null,a=QM(t,e),u=oa,c=r&H.Host?e[ct][Zt]:null;for((-1===a||r&H.SkipSelf)&&(u=-1===a?Ey(t,e):e[a+8],u!==oa&&tx(r,!1)?(o=e[k],a=yh(u),e=_h(u,e)):a=-1);-1!==a;){const l=e[k];if(ex(s,a,l.data)){const d=dq(a,e,n,o,r,c);if(d!==Lr)return d}u=e[a+8],u!==oa&&tx(r,e[k].data[a+8]===c)&&ex(s,a,e)?(o=l,a=yh(u),e=_h(u,e)):a=-1}}return i}function dq(t,e,n,r,i,s){const o=e[k],a=o.data[t+8],l=function Ih(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,u=t.directiveStart,l=s>>20,h=i?a+l:t.directiveEnd;for(let f=r?a:a+l;f<h;f++){const p=o[f];if(f<u&&n===p||f>=u&&p.type===n)return f}if(i){const f=o[u];if(f&&pr(f)&&f.type===n)return u}return null}(a,o,n,null==r?$s(a)&&wy:r!=o&&0!=(3&a.type),i&H.Host&&s===a);return null!==l?Gs(e,o,l,a):Lr}function Gs(t,e,n,r){let i=t[n];const s=e.data;if(function iq(t){return t instanceof rc}(i)){const o=i;o.resolving&&function F4(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new b(-200,`Circular dependency in DI detected for ${t}${n}`)}(function ye(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Z(t)}(s[n]));const a=vh(o.canSeeViewProviders);o.resolving=!0;const u=o.injectImpl?Cn(o.injectImpl):null;LM(t,r,H.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function nq(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=_M(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}(n,s[n],e)}finally{null!==u&&Cn(u),vh(a),o.resolving=!1,$M()}}return i}function ex(t,e,n){return!!(n[e+(t>>KM)]&1<<t)}function tx(t,e){return!(t&H.Self||t&H.Host&&e)}class aa{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return JM(this._tNode,this._lView,e,th(r),n)}}function fq(){return new aa(Bt(),D())}function $t(t){return li(()=>{const e=t.prototype.constructor,n=e[hi]||Cy(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const s=i[hi]||Cy(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function Cy(t){return Km(t)?()=>{const e=Cy(X(t));return e&&e()}:js(t)}function nx(t){const e=t[k],n=e.type;return 2===n?e.declTNode:1===n?t[Zt]:null}const ca="__parameters__";function da(t,e,n){return li(()=>{const r=function by(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(u,c,l){const d=u.hasOwnProperty(ca)?u[ca]:Object.defineProperty(u,ca,{value:[]})[ca];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(o),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function oc(t,e){t.forEach(n=>Array.isArray(n)?oc(n,e):e(n))}function ix(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Dh(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function qn(t,e,n){let r=ha(t,e);return r>=0?t[1|r]=n:(r=~r,function vq(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function Ty(t,e){const n=ha(t,e);if(n>=0)return t[1|n]}function ha(t,e){return function sx(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){const s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}(t,e,1)}const vt=Qu(da("Optional"),8),bh=Qu(da("SkipSelf"),4);function Mh(t){return 128==(128&t.flags)}var xn=(()=>((xn=xn||{})[xn.Important=1]="Important",xn[xn.DashCase=2]="DashCase",xn))();const Ny=new Map;let Hq=0;const Py="__ngContext__";function en(t,e){zn(e)?(t[Py]=e[ec],function zq(t){Ny.set(t[ec],t)}(e)):t[Py]=e}let Oy;function Fy(t,e){return Oy(t,e)}function lc(t){const e=t[Ge];return Sn(e)?e[Ge]:e}function Ly(t){return Cx(t[Ju])}function Vy(t){return Cx(t[fr])}function Cx(t){for(;null!==t&&!Sn(t);)t=t[fr];return t}function ga(t,e,n,r,i){if(null!=r){let s,o=!1;Sn(r)?s=r:zn(r)&&(o=!0,r=r[yt]);const a=Pe(r);0===t&&null!==n?null==i?Mx(e,n,a):zs(e,n,a,i||null,!0):1===t&&null!==n?zs(e,n,a,i||null,!0):2===t?function Oh(t,e,n){const r=kh(t,e);r&&function l3(t,e,n,r){t.removeChild(e,n,r)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function f3(t,e,n,r,i){const s=n[kr];s!==Pe(n)&&ga(e,t,r,s,i);for(let a=Ut;a<n.length;a++){const u=n[a];hc(u[k],u,t,e,r,s)}}(e,t,s,n,i)}}function Nh(t,e,n){return t.createElement(e,n)}function Tx(t,e){const n=t[na],r=n.indexOf(e);bM(e),n.splice(r,1)}function By(t,e){if(t.length<=Ut)return;const n=Ut+e,r=t[n];if(r){const i=r[Zu];null!==i&&i!==t&&Tx(i,r),e>0&&(t[n-1][fr]=r[fr]);const s=Dh(t,Ut+e);!function n3(t,e){hc(t,e,e[ne],2,null,null),e[yt]=null,e[Zt]=null}(r[k],r);const o=s[Nr];null!==o&&o.detachView(s[k]),r[Ge]=null,r[fr]=null,r[ie]&=-129}return r}function Sx(t,e){if(!(256&e[ie])){const n=e[ne];e[ih]?.destroy(),e[sh]?.destroy(),n.destroyNode&&hc(t,e,n,3,null,null),function s3(t){let e=t[Ju];if(!e)return $y(t[k],t);for(;e;){let n=null;if(zn(e))n=e[Ju];else{const r=e[Ut];r&&(n=r)}if(!n){for(;e&&!e[fr]&&e!==t;)zn(e)&&$y(e[k],e),e=e[Ge];null===e&&(e=t),zn(e)&&$y(e[k],e),n=e&&e[fr]}e=n}}(e)}}function $y(t,e){if(!(256&e[ie])){e[ie]&=-129,e[ie]|=256,function c3(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof rc)){const s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],u=s[o+1];Or(4,a,u);try{u.call(a)}finally{Or(5,a,u)}}else{Or(4,i,s);try{s.call(i)}finally{Or(5,i,s)}}}}}(t,e),function u3(t,e){const n=t.cleanup,r=e[Jo];if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else n[s].call(r[n[s+1]]);null!==r&&(e[Jo]=null);const i=e[Yi];if(null!==i){e[Yi]=null;for(let s=0;s<i.length;s++)(0,i[s])()}}(t,e),1===e[k].type&&e[ne].destroy();const n=e[Zu];if(null!==n&&Sn(e[Ge])){n!==e[Ge]&&Tx(n,e);const r=e[Nr];null!==r&&r.detachView(t)}!function qq(t){Ny.delete(t[ec])}(e)}}function jy(t,e,n){return function Ax(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[yt];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=t.data[r.directiveStart+i];if(s===Hn.None||s===Hn.Emulated)return null}return An(r,n)}}(t,e.parent,n)}function zs(t,e,n,r,i){t.insertBefore(e,n,r,i)}function Mx(t,e,n){t.appendChild(e,n)}function xx(t,e,n,r,i){null!==r?zs(t,e,n,r,i):Mx(t,e,n)}function kh(t,e){return t.parentNode(e)}let Hy,Wy,kx=function Nx(t,e,n){return 40&t.type?An(t,n):null};function Ph(t,e,n,r){const i=jy(t,r,e),s=e[ne],a=function Rx(t,e,n){return kx(t,e,n)}(r.parent||e[Zt],r,e);if(null!=i)if(Array.isArray(n))for(let u=0;u<n.length;u++)xx(s,i,n[u],a,!1);else xx(s,i,n,a,!1);void 0!==Hy&&Hy(s,r,e,n,i)}function dc(t,e){if(null!==e){const n=e.type;if(3&n)return An(e,t);if(4&n)return Gy(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return dc(t,r);{const i=t[e.index];return Sn(i)?Gy(-1,i):Pe(i)}}if(32&n)return Fy(e,t)()||Pe(t[e.index]);{const r=Ox(t,e);return null!==r?Array.isArray(r)?r[0]:dc(lc(t[ct]),r):dc(t,e.next)}}return null}function Ox(t,e){return null!==e?t[ct][Zt].projection[e.projection]:null}function Gy(t,e){const n=Ut+t+1;if(n<e.length){const r=e[n],i=r[k].firstChild;if(null!==i)return dc(r,i)}return e[kr]}function zy(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],u=n.type;if(o&&0===e&&(a&&en(Pe(a),r),n.flags|=2),32!=(32&n.flags))if(8&u)zy(t,e,n.child,r,i,s,!1),ga(e,t,i,a,s);else if(32&u){const c=Fy(n,r);let l;for(;l=c();)ga(e,t,i,l,s);ga(e,t,i,a,s)}else 16&u?Lx(t,e,r,n,i,s):ga(e,t,i,a,s);n=o?n.projectionNext:n.next}}function hc(t,e,n,r,i,s){zy(n,r,t.firstChild,e,i,s,!1)}function Lx(t,e,n,r,i,s){const o=n[ct],u=o[Zt].projection[r.projection];if(Array.isArray(u))for(let c=0;c<u.length;c++)ga(e,t,i,u[c],s);else{let c=u;const l=o[Ge];Mh(r)&&(c.flags|=128),zy(t,e,c,l,i,s,!0)}}function Vx(t,e,n){""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function Ux(t,e,n){const{mergedAttrs:r,classes:i,styles:s}=n;null!==r&&ny(t,e,r),null!==i&&Vx(t,e,i),null!==s&&function g3(t,e,n){t.setAttribute(e,"style",n)}(t,e,s)}class Hx{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${$A})`}}function Zi(t){return t instanceof Hx?t.changingThisBreaksApplicationSecurity:t}const M3=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var lt=(()=>((lt=lt||{})[lt.NONE=0]="NONE",lt[lt.HTML=1]="HTML",lt[lt.STYLE=2]="STYLE",lt[lt.SCRIPT=3]="SCRIPT",lt[lt.URL=4]="URL",lt[lt.RESOURCE_URL=5]="RESOURCE_URL",lt))();function Uh(t){const e=function mc(){const t=D();return t&&t[Bs].sanitizer}();return e?e.sanitize(lt.URL,t)||"":function pc(t,e){const n=function b3(t){return t instanceof Hx&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${$A})`)}return n===e}(t,"URL")?Zi(t):function Qy(t){return(t=String(t)).match(M3)?t:"unsafe:"+t}(Z(t))}class L{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=j({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const yc=new L("ENVIRONMENT_INITIALIZER"),Jx=new L("INJECTOR",-1),Zx=new L("INJECTOR_DEF_TYPES");class eR{get(e,n=Ku){if(n===Ku){const r=new Error(`NullInjectorError: No provider for ${mt(e)}!`);throw r.name="NullInjectorError",r}return n}}function j3(...t){return{\u0275providers:nR(0,t),\u0275fromNgModule:!0}}function nR(t,...e){const n=[],r=new Set;let i;return oc(e,s=>{const o=s;Zy(o,n,[],r)&&(i||=[],i.push(o))}),void 0!==i&&rR(i,n),n}function rR(t,e){for(let n=0;n<t.length;n++){const{providers:i}=t[n];e_(i,s=>{e.push(s)})}}function Zy(t,e,n,r){if(!(t=X(t)))return!1;let i=null,s=HA(t);const o=!s&&me(t);if(s||o){if(o&&!o.standalone)return!1;i=t}else{const u=t.ngModule;if(s=HA(u),!s)return!1;i=u}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const u="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const c of u)Zy(c,e,n,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let c;r.add(i);try{oc(s.imports,l=>{Zy(l,e,n,r)&&(c||=[],c.push(l))})}finally{}void 0!==c&&rR(c,e)}if(!a){const c=js(i)||(()=>new i);e.push({provide:i,useFactory:c,deps:ge},{provide:Zx,useValue:i,multi:!0},{provide:yc,useValue:()=>$(i),multi:!0})}const u=s.providers;null==u||a||e_(u,l=>{e.push(l)})}}return i!==t&&void 0!==t.providers}function e_(t,e){for(let n of t)Qm(n)&&(n=n.\u0275providers),Array.isArray(n)?e_(n,e):e(n)}const H3=Ee({provide:String,useValue:Ee});function t_(t){return null!==t&&"object"==typeof t&&H3 in t}function qs(t){return"function"==typeof t}const n_=new L("Set Injector scope."),Bh={},z3={};let r_;function $h(){return void 0===r_&&(r_=new eR),r_}class yi{}class i_ extends yi{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,o_(e,o=>this.processProvider(o)),this.records.set(Jx,ya(void 0,this)),i.has("environment")&&this.records.set(yi,ya(void 0,this));const s=this.records.get(n_);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(Zx.multi,ge,H.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of e)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const n=Qi(this),r=Cn(void 0);try{return e()}finally{Qi(n),Cn(r)}}get(e,n=Ku,r=H.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(YA))return e[YA](this);r=th(r);const i=Qi(this),s=Cn(void 0);try{if(!(r&H.SkipSelf)){let a=this.records.get(e);if(void 0===a){const u=function Y3(t){return"function"==typeof t||"object"==typeof t&&t instanceof L}(e)&&Jd(e);a=u&&this.injectableDefInScope(u)?ya(s_(e),Bh):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&H.Self?$h():this.parent).get(e,n=r&H.Optional&&n===Ku?null:n)}catch(o){if("NullInjectorError"===o.name){if((o[eh]=o[eh]||[]).unshift(mt(e)),i)throw o;return function Y4(t,e,n,r){const i=t[eh];throw e[WA]&&i.unshift(e[WA]),t.message=function X4(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let i=mt(e);if(Array.isArray(e))i=e.map(mt).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):mt(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(z4,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[eh]=null,t}(o,e,"R3InjectorError",this.source)}throw o}finally{Cn(s),Qi(i)}}resolveInjectorInitializers(){const e=Qi(this),n=Cn(void 0);try{const r=this.get(yc.multi,ge,H.Self);for(const i of r)i()}finally{Qi(e),Cn(n)}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push(mt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new b(205,!1)}processProvider(e){let n=qs(e=X(e))?e:X(e&&e.provide);const r=function W3(t){return t_(t)?ya(void 0,t.useValue):ya(oR(t),Bh)}(e);if(qs(e)||!0!==e.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=ya(void 0,Bh,!0),i.factory=()=>Zm(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===Bh&&(n.value=z3,n.value=n.factory()),"object"==typeof n.value&&n.value&&function Q3(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=X(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){const n=this._onDestroyHooks.indexOf(e);-1!==n&&this._onDestroyHooks.splice(n,1)}}function s_(t){const e=Jd(t),n=null!==e?e.factory:js(t);if(null!==n)return n;if(t instanceof L)throw new b(204,!1);if(t instanceof Function)return function q3(t){const e=t.length;if(e>0)throw function ac(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}(e,"?"),new b(204,!1);const n=function j4(t){return t&&(t[Zd]||t[GA])||null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new b(204,!1)}function oR(t,e,n){let r;if(qs(t)){const i=X(t);return js(i)||s_(i)}if(t_(t))r=()=>X(t.useValue);else if(function sR(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...Zm(t.deps||[]));else if(function iR(t){return!(!t||!t.useExisting)}(t))r=()=>$(X(t.useExisting));else{const i=X(t&&(t.useClass||t.provide));if(!function K3(t){return!!t.deps}(t))return js(i)||s_(i);r=()=>new i(...Zm(t.deps))}return r}function ya(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function o_(t,e){for(const n of t)Array.isArray(n)?o_(n,e):n&&Qm(n)?o_(n.\u0275providers,e):e(n)}const jh=new L("AppId",{providedIn:"root",factory:()=>X3}),X3="ng",aR=new L("Platform Initializer"),es=new L("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),uR=new L("CSP nonce",{providedIn:"root",factory:()=>function fc(){if(void 0!==Wy)return Wy;if(typeof document<"u")return document;throw new b(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let lR=(t,e)=>null;function dR(t,e){return lR(t,e)}class o6{}class pR{}class u6{resolveComponentFactory(e){throw function a6(t){const e=Error(`No component factory found for ${mt(t)}.`);return e.ngComponent=t,e}(e)}}let Wh=(()=>{class t{}return t.NULL=new u6,t})();function c6(){return _a(Bt(),D())}function _a(t,e){return new Wn(An(t,e))}let Wn=(()=>{class t{constructor(n){this.nativeElement=n}}return t.__NG_ELEMENT_ID__=c6,t})();class mR{}let _i=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>function d6(){const t=D(),n=Mn(Bt().index,t);return(zn(n)?n:t)[ne]}(),t})(),h6=(()=>{class t{}return t.\u0275prov=j({token:t,providedIn:"root",factory:()=>null}),t})();class va{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const yR=new va("16.0.3"),y_={};function Ic(t){for(;t;){t[ie]|=64;const e=lc(t);if(sy(t)&&!e)return t;t=e}return null}function __(t){return t.ngOriginalError}class Ws{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&__(e);for(;n&&__(n);)n=__(n);return n||null}}const wR=new L("",{providedIn:"root",factory:()=>!1});function vi(t){return t instanceof Function?t():t}class bR extends gM{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(e){this._lView=e}onConsumerDependencyMayHaveChanged(){Ic(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(e,n,r){const i=St(this);this.trackingVersion++;try{e(n,r)}finally{St(i)}}destroy(){this.trackingVersion++}}let Qh=null;function TR(){return Qh??=new bR,Qh}function SR(t,e){return t[e]??TR()}function AR(t,e){const n=TR();n.hasReadASignal&&(t[e]=Qh,n.lView=t,Qh=new bR)}const re={};function wt(t){MR(he(),D(),fn()+t,!1)}function MR(t,e,n,r){if(!r)if(3==(3&e[ie])){const s=t.preOrderCheckHooks;null!==s&&gh(e,s,n)}else{const s=t.preOrderHooks;null!==s&&mh(e,s,0,n)}Hs(n)}function kR(t,e=null,n=null,r){const i=PR(t,e,n,r);return i.resolveInjectorInitializers(),i}function PR(t,e=null,n=null,r,i=new Set){const s=[n||ge,j3(t)];return r=r||("object"==typeof t?void 0:mt(t)),new i_(s,e||$h(),r||null,i)}let Nn=(()=>{class t{static create(n,r){if(Array.isArray(n))return kR({name:""},r,n,"");{const i=n.name??"";return kR({name:i},n.parent,n.providers,i)}}}return t.THROW_IF_NOT_FOUND=Ku,t.NULL=new eR,t.\u0275prov=j({token:t,providedIn:"any",factory:()=>$(Jx)}),t.__NG_ELEMENT_ID__=-1,t})();function T(t,e=H.Default){const n=D();return null===n?$(t,e):JM(Bt(),n,X(t),e)}function Yh(t,e,n,r,i,s,o,a,u,c,l){const d=e.blueprint.slice();return d[yt]=i,d[ie]=140|r,(null!==c||t&&2048&t[ie])&&(d[ie]|=2048),CM(d),d[Ge]=d[ea]=t,d[Ye]=n,d[Bs]=o||t&&t[Bs],d[ne]=a||t&&t[ne],d[Zo]=u||t&&t[Zo]||null,d[Zt]=s,d[ec]=function Gq(){return Hq++}(),d[fi]=l,d[cM]=c,d[ct]=2==e.type?t[ct]:d,d}function Ia(t,e,n,r,i){let s=t.data[e];if(null===s)s=function v_(t,e,n,r,i){const s=NM(),o=dy(),u=t.data[e]=function k6(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return function ia(){return null!==W.skipHydrationRootTNode}()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=u),null!==s&&(o?null==s.child&&null!==u.parent&&(s.child=u):null===s.next&&(s.next=u,u.prev=s)),u}(t,e,n,r,i),function qz(){return W.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const o=function nc(){const t=W.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return Fr(s,!0),s}function Ec(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function FR(t,e,n,r,i){const s=SR(e,ih),o=fn(),a=2&r;try{if(Hs(-1),a&&e.length>ce&&MR(t,e,ce,!1),Or(a?2:0,i),a)s.runInContext(n,r,i);else{const c=St(null);try{n(r,i)}finally{St(c)}}}finally{a&&null===e[ih]&&AR(e,ih),Hs(o),Or(a?3:1,i)}}function w_(t,e,n){if(iy(e)){const r=St(null);try{const s=e.directiveEnd;for(let o=e.directiveStart;o<s;o++){const a=t.data[o];a.contentQueries&&a.contentQueries(1,n[o],o)}}finally{St(r)}}}function I_(t,e,n){MM()&&(function B6(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;$s(n)&&function W6(t,e,n){const r=An(e,t),o=Xh(t,Yh(t,LR(n),null,n.onPush?64:16,r,e,null,t[Bs].rendererFactory.createRenderer(r,n),null,null,null));t[e.index]=o}(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||wh(n,e),en(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const u=t.data[a],c=Gs(e,t,a,n);en(c,e),null!==o&&K6(0,a-i,c,u,0,o),pr(u)&&(Mn(n.index,e)[Ye]=Gs(e,t,a,n))}}(t,e,n,An(n,e)),64==(64&n.flags)&&jR(t,e,n))}function E_(t,e,n=An){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function LR(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=D_(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function D_(t,e,n,r,i,s,o,a,u,c,l){const d=ce+r,h=d+i,f=function S6(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:re);return n}(d,h),p="function"==typeof c?c():c;return f[k]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:p,incompleteFirstPass:!1,ssrId:l}}let VR=t=>null;function UR(t,e,n,r){for(let i in t)if(t.hasOwnProperty(i)){n=null===n?{}:n;const s=t[i];null===r?BR(n,e,i,s):r.hasOwnProperty(i)&&BR(n,e,r[i],s)}return n}function BR(t,e,n,r){t.hasOwnProperty(n)?t[n].push(e,r):t[n]=[e,r]}function Kn(t,e,n,r,i,s,o,a){const u=An(e,n);let l,c=e.inputs;!a&&null!=c&&(l=c[r])?(A_(t,n,l,r,i),$s(e)&&function F6(t,e){const n=Mn(e,t);16&n[ie]||(n[ie]|=64)}(n,e.index)):3&e.type&&(r=function O6(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=o?o(i,e.value||"",r):i,s.setProperty(u,r,i))}function C_(t,e,n,r){if(MM()){const i=null===r?null:{"":-1},s=function j6(t,e){const n=t.directiveRegistry;let r=null,i=null;if(n)for(let s=0;s<n.length;s++){const o=n[s];if(rM(e,o.selectors,!1))if(r||(r=[]),pr(o))if(null!==o.findHostDirectiveDefs){const a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o),b_(t,e,a.length)}else r.unshift(o),b_(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return null===r?null:[r,i]}(t,n);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&$R(t,e,n,o,i,a),i&&function H6(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const s=n[e[i+1]];if(null==s)throw new b(-301,!1);r.push(e[i],s)}}}(n,r,i)}n.mergedAttrs=Xu(n.mergedAttrs,n.attrs)}function $R(t,e,n,r,i,s){for(let c=0;c<r.length;c++)Dy(wh(n,e),t,r[c].type);!function z6(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}(n,t.data.length,r.length);for(let c=0;c<r.length;c++){const l=r[c];l.providersResolver&&l.providersResolver(l)}let o=!1,a=!1,u=Ec(t,e,r.length,null);for(let c=0;c<r.length;c++){const l=r[c];n.mergedAttrs=Xu(n.mergedAttrs,l.hostAttrs),q6(t,n,e,u,l),G6(u,l,i),null!==l.contentQueries&&(n.flags|=4),(null!==l.hostBindings||null!==l.hostAttrs||0!==l.hostVars)&&(n.flags|=64);const d=l.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),u++}!function P6(t,e,n){const i=e.directiveEnd,s=t.data,o=e.attrs,a=[];let u=null,c=null;for(let l=e.directiveStart;l<i;l++){const d=s[l],h=n?n.get(d):null,p=h?h.outputs:null;u=UR(d.inputs,l,u,h?h.inputs:null),c=UR(d.outputs,l,c,p);const m=null===u||null===o||nM(e)?null:Q6(u,l,o);a.push(m)}null!==u&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=c}(t,n,s)}function jR(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=function Kz(){return W.lFrame.currentDirectiveIndex}();try{Hs(s);for(let a=r;a<i;a++){const u=t.data[a],c=e[a];fy(a),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&$6(u,c)}}finally{Hs(-1),fy(o)}}function $6(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function b_(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function G6(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;pr(e)&&(n[""]=t)}}function q6(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=js(i.type)),o=new rc(s,pr(i),T);t.blueprint[r]=o,n[r]=o,function V6(t,e,n,r,i){const s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;null===o&&(o=t.hostBindingOpCodes=[]);const a=~e.index;(function U6(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(o)!=a&&o.push(a),o.push(n,r,s)}}(t,e,r,Ec(t,n,i.hostVars,re),i)}function K6(t,e,n,r,i,s){const o=s[e];if(null!==o)for(let a=0;a<o.length;)HR(r,n,o[a++],o[a++],o[a++])}function HR(t,e,n,r,i){const s=St(null);try{null!==t.setInput?t.setInput(e,i,n,r):e[r]=i}finally{St(s)}}function Q6(t,e,n){let r=null,i=0;for(;i<n.length;){const s=n[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(t.hasOwnProperty(s)){null===r&&(r=[]);const o=t[s];for(let a=0;a<o.length;a+=2)if(o[a]===e){r.push(s,o[a+1],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function GR(t,e,n,r){return[t,!0,!1,e,null,0,r,n,null,null,null]}function zR(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const s=n[r+1];if(-1!==s){const o=t.data[s];gy(n[r]),o.contentQueries(2,e[s],s)}}}function Xh(t,e){return t[Ju]?t[uM][fr]=e:t[Ju]=e,t[uM]=e,e}function S_(t,e,n){gy(0);const r=St(null);try{e(t,n)}finally{St(r)}}function QR(t,e){const n=t[Zo],r=n?n.get(Ws,null):null;r&&r.handleError(e)}function A_(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++];HR(t.data[o],e[o],r,a,i)}}function Y6(t,e){const n=Mn(e,t),r=n[k];!function X6(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n);const i=n[yt];null!==i&&null===n[fi]&&(n[fi]=dR(i,n[Zo])),M_(r,n,n[Ye])}function M_(t,e,n){my(e);try{const r=t.viewQuery;null!==r&&S_(1,r,n);const i=t.template;null!==i&&FR(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&zR(t,e),t.staticViewQueries&&S_(2,t.viewQuery,n);const s=t.components;null!==s&&function J6(t,e){for(let n=0;n<e.length;n++)Y6(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[ie]&=-5,yy()}}let YR=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(n,r,i){const s=typeof Zone>"u"?null:Zone.current,o=new bz(n,c=>{this.all.has(c)&&this.queue.set(c,s)},i);let a;this.all.add(o),o.notify();const u=()=>{o.cleanup(),a?.(),this.all.delete(o),this.queue.delete(o)};return a=r?.onDestroy(u),{destroy:u}}flush(){if(0!==this.queue.size)for(const[n,r]of this.queue)this.queue.delete(n),r?r.run(()=>n.run()):n.run()}get isQueueEmpty(){return 0===this.queue.size}}return t.\u0275prov=j({token:t,providedIn:"root",factory:()=>new t}),t})();function Jh(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=Wm(i,a):2==s&&(r=Wm(r,a+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function Dc(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];if(null!==s&&r.push(Pe(s)),Sn(s)){for(let a=Ut;a<s.length;a++){const u=s[a],c=u[k].firstChild;null!==c&&Dc(u[k],u,c,r)}s[kr]!==s[yt]&&r.push(s[kr])}const o=n.type;if(8&o)Dc(t,e,n.child,r);else if(32&o){const a=Fy(n,e);let u;for(;u=a();)r.push(u)}else if(16&o){const a=Ox(e,n);if(Array.isArray(a))r.push(...a);else{const u=lc(e[ct]);Dc(u[k],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function Zh(t,e,n,r=!0){const i=e[Bs].rendererFactory;i.begin&&i.begin();try{ef(t,e,t.template,n)}catch(o){throw r&&QR(e,o),o}finally{i.end&&i.end(),e[Bs].effectManager?.flush()}}function ef(t,e,n,r){const i=e[ie];if(256!=(256&i)){e[Bs].effectManager?.flush(),my(e);try{CM(e),function PM(t){return W.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&FR(t,e,n,2,r);const o=3==(3&i);if(o){const c=t.preOrderCheckHooks;null!==c&&gh(e,c,null)}else{const c=t.preOrderHooks;null!==c&&mh(e,c,0,null),_y(e,0)}if(function iW(t){for(let e=Ly(t);null!==e;e=Vy(e)){if(!e[lM])continue;const n=e[na];for(let r=0;r<n.length;r++){Oz(n[r])}}}(e),function rW(t){for(let e=Ly(t);null!==e;e=Vy(e))for(let n=Ut;n<e.length;n++){const r=e[n],i=r[k];hh(r)&&ef(i,r,i.template,r[Ye])}}(e),null!==t.contentQueries&&zR(t,e),o){const c=t.contentCheckHooks;null!==c&&gh(e,c)}else{const c=t.contentHooks;null!==c&&mh(e,c,1),_y(e,1)}!function T6(t,e){const n=t.hostBindingOpCodes;if(null===n)return;const r=SR(e,sh);try{for(let i=0;i<n.length;i++){const s=n[i];if(s<0)Hs(~s);else{const o=s,a=n[++i],u=n[++i];Wz(a,o),r.runInContext(u,2,e[o])}}}finally{null===e[sh]&&AR(e,sh),Hs(-1)}}(t,e);const a=t.components;null!==a&&function oW(t,e){for(let n=0;n<e.length;n++)sW(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&S_(2,u,r),o){const c=t.viewCheckHooks;null!==c&&gh(e,c)}else{const c=t.viewHooks;null!==c&&mh(e,c,2),_y(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[ie]&=-73,bM(e)}finally{yy()}}}function sW(t,e){const n=Mn(e,t);if(hh(n)){const r=n[k];80&n[ie]?ef(r,n,r.template,n[Ye]):n[Us]>0&&x_(n)}}function x_(t){for(let r=Ly(t);null!==r;r=Vy(r))for(let i=Ut;i<r.length;i++){const s=r[i];if(hh(s))if(1024&s[ie]){const o=s[k];ef(o,s,o.template,s[Ye])}else s[Us]>0&&x_(s)}const n=t[k].components;if(null!==n)for(let r=0;r<n.length;r++){const i=Mn(n[r],t);hh(i)&&i[Us]>0&&x_(i)}}class Cc{get rootNodes(){const e=this._lView,n=e[k];return Dc(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Ye]}set context(e){this._lView[Ye]=e}get destroyed(){return 256==(256&this._lView[ie])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[Ge];if(Sn(e)){const n=e[oh],r=n?n.indexOf(this):-1;r>-1&&(By(e,r),Dh(n,r))}this._attachedToViewContainer=!1}Sx(this._lView[k],this._lView)}onDestroy(e){!function SM(t,e){if(256==(256&t[ie]))throw new b(911,!1);null===t[Yi]&&(t[Yi]=[]),t[Yi].push(e)}(this._lView,e)}markForCheck(){Ic(this._cdRefInjectingView||this._lView)}detach(){this._lView[ie]&=-129}reattach(){this._lView[ie]|=128}detectChanges(){Zh(this._lView[k],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new b(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function i3(t,e){hc(t,e,e[ne],2,null,null)}(this._lView[k],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new b(902,!1);this._appRef=e}}class aW extends Cc{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;Zh(e[k],e,e[Ye],!1)}checkNoChanges(){}get context(){return null}}class XR extends Wh{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=me(e);return new bc(n,this.ngModule)}}function JR(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}class cW{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=th(r);const i=this.injector.get(e,y_,r);return i!==y_||n===y_?i:this.parentInjector.get(e,n,r)}}class bc extends pR{get inputs(){return JR(this.componentDef.inputs)}get outputs(){return JR(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function az(t){return t.map(oz).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=(i=i||this.ngModule)instanceof yi?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new cW(e,s):e,a=o.get(mR,null);if(null===a)throw new b(407,!1);const l={rendererFactory:a,sanitizer:o.get(h6,null),effectManager:o.get(YR,null)},d=a.createRenderer(null,this.componentDef),h=this.componentDef.selectors[0][0]||"div",f=r?function A6(t,e,n,r){const s=r.get(wR,!1)||n===Hn.ShadowDom,o=t.selectRootElement(e,s);return function M6(t){VR(t)}(o),o}(d,r,this.componentDef.encapsulation,o):Nh(d,h,function uW(t){const e=t.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(h)),p=this.componentDef.onPush?576:528,m=D_(0,null,null,1,0,null,null,null,null,null,null),y=Yh(null,m,null,p,null,null,l,d,o,null,null);let v,_;my(y);try{const E=this.componentDef;let A,O=null;E.findHostDirectiveDefs?(A=[],O=new Map,E.findHostDirectiveDefs(E,A,O),A.push(E)):A=[E];const K=function dW(t,e){const n=t[k],r=ce;return t[r]=e,Ia(n,r,2,"#host",null)}(y,f),je=function hW(t,e,n,r,i,s,o){const a=i[k];!function fW(t,e,n,r){for(const i of t)e.mergedAttrs=Xu(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(Jh(e,e.mergedAttrs,!0),null!==n&&Ux(r,n,e))}(r,t,e,o);let u=null;null!==e&&(u=dR(e,i[Zo]));const c=s.rendererFactory.createRenderer(e,n),l=Yh(i,LR(n),null,n.onPush?64:16,i[t.index],t,s,c,null,null,u);return a.firstCreatePass&&b_(a,t,r.length-1),Xh(i,l),i[t.index]=l}(K,f,E,A,y,l,d);_=DM(m,ce),f&&function gW(t,e,n,r){if(r)ny(t,n,["ng-version",yR.full]);else{const{attrs:i,classes:s}=function uz(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!hr(i))break;i=s}r++}return{attrs:e,classes:n}}(e.selectors[0]);i&&ny(t,n,i),s&&s.length>0&&Vx(t,n,s.join(" "))}}(d,E,f,r),void 0!==n&&function mW(t,e,n){const r=t.projection=[];for(let i=0;i<e.length;i++){const s=n[i];r.push(null!=s?Array.from(s):null)}}(_,this.ngContentSelectors,n),v=function pW(t,e,n,r,i,s){const o=Bt(),a=i[k],u=An(o,i);$R(a,i,o,n,null,r);for(let l=0;l<n.length;l++)en(Gs(i,a,o.directiveStart+l,o),i);jR(a,i,o),u&&en(u,i);const c=Gs(i,a,o.directiveStart+o.componentOffset,o);if(t[Ye]=i[Ye]=c,null!==s)for(const l of s)l(c,e);return w_(a,o,t),c}(je,E,A,O,y,[yW]),M_(m,y,null)}finally{yy()}return new lW(this.componentType,v,_a(_,y),y,_)}}class lW extends o6{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new aW(i),this.componentType=e}setInput(e,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;const s=this._rootLView;A_(s[k],s,i,e,n),this.previousInputValues.set(e,n),Ic(Mn(this._tNode.index,s))}}get injector(){return new aa(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function yW(){const t=Bt();ph(D()[k],t)}function De(t){let e=function ZR(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),n=!0;const r=[t];for(;e;){let i;if(pr(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new b(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);const o=t;o.inputs=R_(t.inputs),o.declaredInputs=R_(t.declaredInputs),o.outputs=R_(t.outputs);const a=i.hostBindings;a&&IW(t,a);const u=i.viewQuery,c=i.contentQueries;if(u&&vW(t,u),c&&wW(t,c),qm(t.inputs,i.inputs),qm(t.declaredInputs,i.declaredInputs),qm(t.outputs,i.outputs),pr(i)&&i.data.animation){const l=t.data;l.animation=(l.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(t),a===De&&(n=!1)}}e=Object.getPrototypeOf(e)}!function _W(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Xu(i.hostAttrs,n=Xu(n,i.hostAttrs))}}(r)}function R_(t){return t===di?{}:t===ge?[]:t}function vW(t,e){const n=t.viewQuery;t.viewQuery=n?(r,i)=>{e(r,i),n(r,i)}:e}function wW(t,e){const n=t.contentQueries;t.contentQueries=n?(r,i,s)=>{e(r,i,s),n(r,i,s)}:e}function IW(t,e){const n=t.hostBindings;t.hostBindings=n?(r,i)=>{e(r,i),n(r,i)}:e}function tf(t){return!!function N_(t){return null!==t&&("function"==typeof t||"object"==typeof t)}(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function tn(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Da(t,e,n,r){return tn(t,sa(),n)?e+Z(n)+r:re}function Qn(t,e,n,r,i,s,o,a){const u=D(),c=he(),l=t+ce,d=c.firstCreatePass?function qW(t,e,n,r,i,s,o,a,u){const c=e.consts,l=Ia(e,t,4,o||null,Xi(c,a));C_(e,n,l,Xi(c,u)),ph(e,l);const d=l.tView=D_(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c,null);return null!==e.queries&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,s,o):c.data[l];Fr(d,!1);const h=gN(c,u,d,t);fh()&&Ph(c,u,h,d),en(h,u),Xh(u,u[l]=GR(h,u,h,d)),ah(d)&&I_(c,u,d),null!=o&&E_(u,d,a)}let gN=function mN(t,e,n,r){return Ji(!0),e[ne].createComment("")};function nn(t,e,n){const r=D();return tn(r,sa(),e)&&Kn(he(),ze(),r,t,e,r[ne],n,!1),nn}function V_(t,e,n,r,i){const o=i?"class":"style";A_(t,n,e.inputs[o],o,r)}function ve(t,e,n,r){const i=D(),s=he(),o=ce+t,a=i[ne],u=s.firstCreatePass?function XW(t,e,n,r,i,s){const o=e.consts,u=Ia(e,t,2,r,Xi(o,i));return C_(e,n,u,Xi(o,s)),null!==u.attrs&&Jh(u,u.attrs,!1),null!==u.mergedAttrs&&Jh(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(o,s,i,e,n,r):s.data[o],c=yN(s,i,u,a,e,t);i[o]=c;const l=ah(u);return Fr(u,!0),Ux(a,c,u),32!=(32&u.flags)&&fh()&&Ph(s,i,c,u),0===function Lz(){return W.lFrame.elementDepthCount}()&&en(c,i),function Vz(){W.lFrame.elementDepthCount++}(),l&&(I_(s,i,u),w_(s,u,i)),null!==r&&E_(i,u),ve}function we(){let t=Bt();dy()?function hy(){W.lFrame.isParent=!1}():(t=t.parent,Fr(t,!1));const e=t;(function Bz(t){return W.skipHydrationRootTNode===t})(e)&&function Gz(){W.skipHydrationRootTNode=null}(),function Uz(){W.lFrame.elementDepthCount--}();const n=he();return n.firstCreatePass&&(ph(n,t),iy(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function sq(t){return 0!=(8&t.flags)}(e)&&V_(n,e,D(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function oq(t){return 0!=(16&t.flags)}(e)&&V_(n,e,D(),e.stylesWithoutHost,!1),we}function Me(t,e,n,r){return ve(t,e,n,r),we(),Me}let yN=(t,e,n,r,i,s)=>(Ji(!0),Nh(r,i,function jM(){return W.lFrame.currentNamespace}()));function xc(t){return!!t&&"function"==typeof t.then}function IN(t){return!!t&&"function"==typeof t.subscribe}function pn(t,e,n,r){const i=D(),s=he(),o=Bt();return function DN(t,e,n,r,i,s,o){const a=ah(r),c=t.firstCreatePass&&function WR(t){return t.cleanup||(t.cleanup=[])}(t),l=e[Ye],d=function qR(t){return t[Jo]||(t[Jo]=[])}(e);let h=!0;if(3&r.type||o){const m=An(r,e),y=o?o(m):m,v=d.length,_=o?A=>o(Pe(A[r.index])):r.index;let E=null;if(!o&&a&&(E=function r9(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===n&&i[s+1]===r){const a=e[Jo],u=i[s+2];return a.length>u?a[u]:null}"string"==typeof o&&(s+=2)}return null}(t,e,i,r.index)),null!==E)(E.__ngLastListenerFn__||E).__ngNextListenerFn__=s,E.__ngLastListenerFn__=s,h=!1;else{s=bN(r,e,l,s,!1);const A=n.listen(y,i,s);d.push(s,A),c&&c.push(i,_,v,v+1)}}else s=bN(r,e,l,s,!1);const f=r.outputs;let p;if(h&&null!==f&&(p=f[i])){const m=p.length;if(m)for(let y=0;y<m;y+=2){const O=e[p[y]][p[y+1]].subscribe(s),K=d.length;d.push(s,O),c&&c.push(i,r.index,K,-(K+1))}}}(s,i,i[ne],o,t,e,r),pn}function CN(t,e,n,r){try{return Or(6,e,n),!1!==n(r)}catch(i){return QR(t,i),!1}finally{Or(7,e,n)}}function bN(t,e,n,r,i){return function s(o){if(o===Function)return r;Ic(t.componentOffset>-1?Mn(t.index,e):e);let u=CN(e,n,r,o),c=s.__ngNextListenerFn__;for(;c;)u=CN(e,n,c,o)&&u,c=c.__ngNextListenerFn__;return i&&!1===u&&o.preventDefault(),u}}function Ra(t=1){return function Yz(t){return(W.lFrame.contextLView=function Xz(t,e){for(;t>0;)e=e[ea],t--;return e}(t,W.lFrame.contextLView))[Ye]}(t)}function Qs(t,e,n){return uf(t,"",e,"",n),Qs}function uf(t,e,n,r,i){const s=D(),o=Da(s,e,n,r);return o!==re&&Kn(he(),ze(),s,t,o,s[ne],i,!1),uf}function cf(t,e){return t<<17|e<<2}function ts(t){return t>>17&32767}function $_(t){return 2|t}function Ys(t){return(131068&t)>>2}function j_(t,e){return-131069&t|e<<2}function H_(t){return 1|t}function PN(t,e,n,r,i){const s=t[n+1],o=null===e;let a=r?ts(s):Ys(s),u=!1;for(;0!==a&&(!1===u||o);){const l=t[a+1];h9(t[a],e)&&(u=!0,t[a+1]=r?H_(l):$_(l)),a=r?ts(l):Ys(l)}u&&(t[n+1]=r?$_(s):H_(s))}function h9(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&ha(t,e)>=0}const It={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function ON(t){return t.substring(It.key,It.keyEnd)}function FN(t,e){const n=It.textEnd;return n===e?-1:(e=It.keyEnd=function m9(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,It.key=e,n),Na(t,e,n))}function Na(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function lf(t,e){return function gr(t,e,n,r){const i=D(),s=he(),o=gi(2);s.firstUpdatePass&&GN(s,t,o,r),e!==re&&tn(i,o,e)&&qN(s,s.data[fn()],i,i[ne],t,i[o+1]=function S9(t,e){return null==t||""===t||("string"==typeof e?t+=e:"object"==typeof t&&(t=mt(Zi(t)))),t}(e,n),r,o)}(t,e,null,!0),lf}function jN(t){!function mr(t,e,n,r){const i=he(),s=gi(2);i.firstUpdatePass&&GN(i,null,s,r);const o=D();if(n!==re&&tn(o,s,n)){const a=i.data[fn()];if(KN(a,r)&&!HN(i,s)){let u=r?a.classesWithoutHost:a.stylesWithoutHost;null!==u&&(n=Wm(u,n||"")),V_(i,a,o,n,r)}else!function T9(t,e,n,r,i,s,o,a){i===re&&(i=ge);let u=0,c=0,l=0<i.length?i[0]:null,d=0<s.length?s[0]:null;for(;null!==l||null!==d;){const h=u<i.length?i[u+1]:void 0,f=c<s.length?s[c+1]:void 0;let m,p=null;l===d?(u+=2,c+=2,h!==f&&(p=d,m=f)):null===d||null!==l&&l<d?(u+=2,p=l):(c+=2,p=d,m=f),null!==p&&qN(t,e,n,r,p,m,o,a),l=u<i.length?i[u]:null,d=c<s.length?s[c]:null}}(i,a,o,o[ne],o[s+1],o[s+1]=function C9(t,e,n){if(null==n||""===n)return ge;const r=[],i=Zi(n);if(Array.isArray(i))for(let s=0;s<i.length;s++)t(r,i[s],!0);else if("object"==typeof i)for(const s in i)i.hasOwnProperty(s)&&t(r,s,i[s]);else"string"==typeof i&&e(r,i);return r}(t,e,n),r,s)}}(b9,jr,t,!0)}function jr(t,e){for(let n=function p9(t){return function VN(t){It.key=0,It.keyEnd=0,It.value=0,It.valueEnd=0,It.textEnd=t.length}(t),FN(t,Na(t,0,It.textEnd))}(e);n>=0;n=FN(e,n))qn(t,ON(e),!0)}function HN(t,e){return e>=t.expandoStartIndex}function GN(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[fn()],o=HN(t,n);KN(s,r)&&null===e&&!o&&(e=!1),e=function w9(t,e,n,r){const i=function py(t){const e=W.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=Rc(n=G_(null,t,e,n,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==i)if(n=G_(i,t,e,n,r),null===s){let u=function I9(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==Ys(r))return t[ts(r)]}(t,e,r);void 0!==u&&Array.isArray(u)&&(u=G_(null,t,e,u[1],r),u=Rc(u,e.attrs,r),function E9(t,e,n,r){t[ts(n?e.classBindings:e.styleBindings)]=r}(t,e,r,u))}else s=function D9(t,e,n){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=Rc(r,t[s].hostAttrs,n);return Rc(r,e.attrs,n)}(t,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),n}(i,s,e,r),function l9(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=ts(o),u=Ys(o);t[r]=n;let l,c=!1;if(Array.isArray(n)?(l=n[1],(null===l||ha(n,l)>0)&&(c=!0)):l=n,i)if(0!==u){const h=ts(t[a+1]);t[r+1]=cf(h,a),0!==h&&(t[h+1]=j_(t[h+1],r)),t[a+1]=function u9(t,e){return 131071&t|e<<17}(t[a+1],r)}else t[r+1]=cf(a,0),0!==a&&(t[a+1]=j_(t[a+1],r)),a=r;else t[r+1]=cf(u,0),0===a?a=r:t[u+1]=j_(t[u+1],r),u=r;c&&(t[r+1]=$_(t[r+1])),PN(t,l,r,!0),PN(t,l,r,!1),function d9(t,e,n,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&ha(s,e)>=0&&(n[r+1]=H_(n[r+1]))}(e,l,t,r,s),o=cf(a,u),s?e.classBindings=o:e.styleBindings=o}(i,s,e,n,o,r)}}function G_(t,e,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],r=Rc(r,s.hostAttrs,i),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function Rc(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),qn(t,o,!!n||e[++s]))}return void 0===t?null:t}function b9(t,e,n){const r=String(e);""!==r&&!r.includes(" ")&&qn(t,r,n)}function qN(t,e,n,r,i,s,o,a){if(!(3&e.type))return;const u=t.data,c=u[a+1],l=function c9(t){return 1==(1&t)}(c)?WN(u,e,n,i,Ys(c),o):void 0;df(l)||(df(s)||function a9(t){return 2==(2&t)}(c)&&(s=WN(u,null,n,i,a,o)),function p3(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=-1===r.indexOf("-")?void 0:xn.DashCase;null==i?t.removeStyle(n,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=xn.Important),t.setStyle(n,r,i,s))}}(r,o,dh(fn(),n),i,s))}function WN(t,e,n,r,i,s){const o=null===e;let a;for(;i>0;){const u=t[i],c=Array.isArray(u),l=c?u[1]:u,d=null===l;let h=n[i+1];h===re&&(h=d?ge:void 0);let f=d?Ty(h,r):l===r?h:void 0;if(c&&!df(f)&&(f=Ty(u,r)),df(f)&&(a=f,o))return a;const p=t[i+1];i=o?ts(p):Ys(p)}if(null!==e){let u=s?e.residualClasses:e.residualStyles;null!=u&&(a=Ty(u,r))}return a}function df(t){return void 0!==t}function KN(t,e){return 0!=(t.flags&(e?8:16))}function Ii(t,e=""){const n=D(),r=he(),i=t+ce,s=r.firstCreatePass?Ia(r,i,1,e,null):r.data[i],o=QN(r,n,s,e,t);n[i]=o,fh()&&Ph(r,n,o,s),Fr(s,!1)}let QN=(t,e,n,r,i)=>(Ji(!0),function Rh(t,e){return t.createText(e)}(e[ne],r));function z_(t){return hf("",t,""),z_}function hf(t,e,n){const r=D(),i=Da(r,t,e,n);return i!==re&&function wi(t,e,n){const r=dh(e,t);!function bx(t,e,n){t.setValue(e,n)}(t[ne],r,n)}(r,fn(),i),hf}const Pa="en-US";let y1=Pa;function K_(t,e,n,r,i){if(t=X(t),Array.isArray(t))for(let s=0;s<t.length;s++)K_(t[s],e,n,r,i);else{const s=he(),o=D();let a=qs(t)?t:X(t.provide),u=oR(t);const c=Bt(),l=1048575&c.providerIndexes,d=c.directiveStart,h=c.providerIndexes>>20;if(qs(t)||!t.multi){const f=new rc(u,i,T),p=Y_(a,e,i?l:l+h,d);-1===p?(Dy(wh(c,o),s,a),Q_(s,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(f),o.push(f)):(n[p]=f,o[p]=f)}else{const f=Y_(a,e,l+h,d),p=Y_(a,e,l,l+h),y=p>=0&&n[p];if(i&&!y||!i&&!(f>=0&&n[f])){Dy(wh(c,o),s,a);const v=function W5(t,e,n,r,i){const s=new rc(t,n,T);return s.multi=[],s.index=e,s.componentProviders=0,j1(s,i,r&&!n),s}(i?q5:z5,n.length,i,r,u);!i&&y&&(n[p].providerFactory=v),Q_(s,t,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(v),o.push(v)}else Q_(s,t,f>-1?f:p,j1(n[i?p:f],u,!i&&r));!i&&r&&y&&n[p].componentProviders++}}}function Q_(t,e,n,r){const i=qs(e),s=function G3(t){return!!t.useClass}(e);if(i||s){const u=(s?X(e.useClass):e).prototype.ngOnDestroy;if(u){const c=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const l=c.indexOf(n);-1===l?c.push(n,[r,u]):c[l+1].push(r,u)}else c.push(n,u)}}}function j1(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Y_(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function z5(t,e,n,r){return X_(this.multi,[])}function q5(t,e,n,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=Gs(n,n[k],this.providerFactory.index,r);s=a.slice(0,o),X_(i,s);for(let u=o;u<a.length;u++)s.push(a[u])}else s=[],X_(i,s);return s}function X_(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function Be(t,e=[]){return n=>{n.providersResolver=(r,i)=>function G5(t,e,n){const r=he();if(r.firstCreatePass){const i=pr(t);K_(n,r.data,r.blueprint,i,!0),K_(e,r.data,r.blueprint,i,!1)}}(r,i?i(t):t,e)}}class Oa{}class H1{}class J_ extends Oa{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new XR(this);const i=Gn(e);this._bootstrapComponents=vi(i.bootstrap),this._r3Injector=PR(e,n,[{provide:Oa,useValue:this},{provide:Wh,useValue:this.componentFactoryResolver},...r],mt(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class Z_ extends H1{constructor(e){super(),this.moduleType=e}create(e){return new J_(this.moduleType,e,[])}}class G1 extends Oa{constructor(e){super(),this.componentFactoryResolver=new XR(this),this.instance=null;const n=new i_([...e.providers,{provide:Oa,useValue:this},{provide:Wh,useValue:this.componentFactoryResolver}],e.parent||$h(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function ev(t,e,n=null){return new G1({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}let Y5=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n.id)){const r=nR(0,n.type),i=r.length>0?ev([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n.id,i)}return this.cachedInjectors.get(n.id)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}}return t.\u0275prov=j({token:t,providedIn:"environment",factory:()=>new t($(yi))}),t})();function z1(t){t.getStandaloneInjector=e=>e.get(Y5).getOrCreateStandaloneInjector(t)}function nv(t){return e=>{setTimeout(t,void 0,e)}}const Je=class E7 extends ui{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&"object"==typeof e){const u=e;i=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=nv(s),i&&(i=nv(i)),o&&(o=nv(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof $n&&e.add(a),a}};let Ei=(()=>{class t{}return t.__NG_ELEMENT_ID__=T7,t})();const C7=Ei,b7=class extends C7{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n,null)}createEmbeddedViewImpl(e,n,r){const i=this._declarationTContainer.tView,s=Yh(this._declarationLView,i,e,16,null,i.declTNode,null,null,null,n||null,r||null);s[Zu]=this._declarationLView[this._declarationTContainer.index];const a=this._declarationLView[Nr];return null!==a&&(s[Nr]=a.createEmbeddedView(i)),M_(i,s,e),new Cc(s)}};function T7(){return function yf(t,e){return 4&t.type?new b7(e,t,_a(t,e)):null}(Bt(),D())}let yr=(()=>{class t{}return t.__NG_ELEMENT_ID__=k7,t})();function k7(){return function uk(t,e){let n;const r=e[t.index];return Sn(r)?n=r:(n=GR(r,e,null,t),e[t.index]=n,Xh(e,n)),ck(n,e,t,r),new ok(n,t,e)}(Bt(),D())}const P7=yr,ok=class extends P7{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return _a(this._hostTNode,this._hostLView)}get injector(){return new aa(this._hostTNode,this._hostLView)}get parentInjector(){const e=Ey(this._hostTNode,this._hostLView);if(qM(e)){const n=_h(e,this._hostLView),r=yh(e);return new aa(n[k].data[r+8],n)}return new aa(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=ak(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-Ut}createEmbeddedView(e,n,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const a=e.createEmbeddedViewImpl(n||{},s,null);return this.insertImpl(a,i,false),a}createComponent(e,n,r,i,s){const o=e&&!function sc(t){return"function"==typeof t}(e);let a;if(o)a=n;else{const m=n||{};a=m.index,r=m.injector,i=m.projectableNodes,s=m.environmentInjector||m.ngModuleRef}const u=o?e:new bc(me(e)),c=r||this.parentInjector;if(!s&&null==u.ngModule){const y=(o?c:this.parentInjector).get(yi,null);y&&(s=y)}me(u.componentType??{});const f=u.create(c,i,null,s);return this.insertImpl(f.hostView,a,false),f}insert(e,n){return this.insertImpl(e,n,!1)}insertImpl(e,n,r){const i=e._lView,s=i[k];if(function Pz(t){return Sn(t[Ge])}(i)){const u=this.indexOf(e);if(-1!==u)this.detach(u);else{const c=i[Ge],l=new ok(c,c[Zt],c[Ge]);l.detach(l.indexOf(e))}}const o=this._adjustIndex(n),a=this._lContainer;if(function o3(t,e,n,r){const i=Ut+r,s=n.length;r>0&&(n[i-1][fr]=e),r<s-Ut?(e[fr]=n[i],ix(n,Ut+r,e)):(n.push(e),e[fr]=null),e[Ge]=n;const o=e[Zu];null!==o&&n!==o&&function a3(t,e){const n=t[na];e[ct]!==e[Ge][Ge][ct]&&(t[lM]=!0),null===n?t[na]=[e]:n.push(e)}(o,e);const a=e[Nr];null!==a&&a.insertView(t),e[ie]|=128}(s,i,a,o),!r){const u=Gy(o,a),c=i[ne],l=kh(c,a[kr]);null!==l&&function r3(t,e,n,r,i,s){r[yt]=i,r[Zt]=e,hc(t,r,n,1,i,s)}(s,a[Zt],c,i,l,u)}return e.attachToViewContainerRef(),ix(sv(a),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=ak(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=By(this._lContainer,n);r&&(Dh(sv(this._lContainer),n),Sx(r[k],r))}detach(e){const n=this._adjustIndex(e,-1),r=By(this._lContainer,n);return r&&null!=Dh(sv(this._lContainer),n)?new Cc(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function ak(t){return t[oh]}function sv(t){return t[oh]||(t[oh]=[])}let ck=function lk(t,e,n,r){if(t[kr])return;let i;i=8&n.type?Pe(r):function O7(t,e){const n=t[ne],r=n.createComment(""),i=An(e,t);return zs(n,kh(n,i),r,function d3(t,e){return t.nextSibling(e)}(n,i),!1),r}(e,n),t[kr]=i};const mv=new L("Application Initializer");let yv=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=V(mv,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n=[];for(const i of this.appInits){const s=i();if(xc(s))n.push(s);else if(IN(s)){const o=new Promise((a,u)=>{s.subscribe({complete:a,error:u})});n.push(o)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Ok=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();const Di=new L("LocaleId",{providedIn:"root",factory:()=>V(Di,H.Optional|H.SkipSelf)||function h8(){return typeof $localize<"u"&&$localize.locale||Pa}()});class p8{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let Fk=(()=>{class t{compileModuleSync(n){return new Z_(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),s=vi(Gn(n).declarations).reduce((o,a)=>{const u=me(a);return u&&o.push(new bc(u)),o},[]);return new p8(r,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const y8=(()=>Promise.resolve(0))();function _v(t){typeof Zone>"u"?y8.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}function Uk(...t){}class Ce{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Je(!1),this.onMicrotaskEmpty=new Je(!1),this.onStable=new Je(!1),this.onError=new Je(!1),typeof Zone>"u")throw new b(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function _8(){let t=Re.requestAnimationFrame,e=Re.cancelAnimationFrame;if(typeof Zone<"u"&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function I8(t){const e=()=>{!function w8(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Re,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,wv(t),t.isCheckStableRunning=!0,vv(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),wv(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{try{return Bk(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),$k(t)}},onInvoke:(n,r,i,s,o,a,u)=>{try{return Bk(t),n.invoke(i,s,o,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),$k(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&("microTask"==s.change?(t._hasPendingMicrotasks=s.microTask,wv(t),vv(t)):"macroTask"==s.change&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ce.isInAngularZone())throw new b(909,!1)}static assertNotInAngularZone(){if(Ce.isInAngularZone())throw new b(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,v8,Uk,Uk);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const v8={};function vv(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function wv(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function Bk(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function $k(t){t._nesting--,vv(t)}class E8{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Je,this.onMicrotaskEmpty=new Je,this.onStable=new Je,this.onError=new Je}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}const jk=new L("",{providedIn:"root",factory:Hk});function Hk(){const t=V(Ce);let e=!0;return function k4(...t){const e=Wu(t),n=function T4(t,e){return"number"==typeof Gm(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?tr(r[0]):Ko(n)(Tt(r,e)):xr}(new He(i=>{e=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{i.next(e),i.complete()})}),new He(i=>{let s;t.runOutsideAngular(()=>{s=t.onStable.subscribe(()=>{Ce.assertNotInAngularZone(),_v(()=>{!e&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(e=!0,i.next(!0))})})});const o=t.onUnstable.subscribe(()=>{Ce.assertInAngularZone(),e&&(e=!1,t.runOutsideAngular(()=>{i.next(!1)}))});return()=>{s.unsubscribe(),o.unsubscribe()}}).pipe(function P4(t={}){const{connector:e=(()=>new ui),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return s=>{let o,a,u,c=0,l=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),o=u=void 0,l=d=!1},p=()=>{const m=o;f(),m?.unsubscribe()};return Ft((m,y)=>{c++,!d&&!l&&h();const v=u=u??e();y.add(()=>{c--,0===c&&!d&&!l&&(a=zm(p,i))}),v.subscribe(y),!o&&c>0&&(o=new qu({next:_=>v.next(_),error:_=>{d=!0,h(),a=zm(f,n,_),v.error(_)},complete:()=>{l=!0,h(),a=zm(f,r),v.complete()}}),tr(m).subscribe(o))})(s)}}()))}const Gk=new L(""),vf=new L("");let Dv,Iv=(()=>{class t{constructor(n,r,i){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Dv||(function D8(t){Dv=t}(i),i.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ce.assertNotInAngularZone(),_v(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())_v(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:s,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,i){return[]}}return t.\u0275fac=function(n){return new(n||t)($(Ce),$(Ev),$(vf))},t.\u0275prov=j({token:t,factory:t.\u0275fac}),t})(),Ev=(()=>{class t{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return Dv?.findTestabilityInTree(this,n,r)??null}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})(),ns=null;const zk=new L("AllowMultipleToken"),Cv=new L("PlatformDestroyListeners"),bv=new L("appBootstrapListener");class Wk{constructor(e,n){this.name=e,this.token=n}}function Qk(t,e,n=[]){const r=`Platform: ${e}`,i=new L(r);return(s=[])=>{let o=Tv();if(!o||o.injector.get(zk,!1)){const a=[...n,...s,{provide:i,useValue:!0}];t?t(a):function T8(t){if(ns&&!ns.get(zk,!1))throw new b(400,!1);(function qk(){!function Dz(t){mM=t}(()=>{throw new b(600,!1)})})(),ns=t;const e=t.get(Xk);(function Kk(t){t.get(aR,null)?.forEach(n=>n())})(t)}(function Yk(t=[],e){return Nn.create({name:e,providers:[{provide:n_,useValue:"platform"},{provide:Cv,useValue:new Set([()=>ns=null])},...t]})}(a,r))}return function A8(t){const e=Tv();if(!e)throw new b(401,!1);return e}()}}function Tv(){return ns?.get(Xk)??null}let Xk=(()=>{class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const i=function M8(t="zone.js",e){return"noop"===t?new E8:"zone.js"===t?new Ce(e):t}(r?.ngZone,function Jk(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return i.run(()=>{const s=function Q5(t,e,n){return new J_(t,e,n)}(n.moduleType,this.injector,function rP(t){return[{provide:Ce,useFactory:t},{provide:yc,multi:!0,useFactory:()=>{const e=V(R8,{optional:!0});return()=>e.initialize()}},{provide:nP,useFactory:x8},{provide:jk,useFactory:Hk}]}(()=>i)),o=s.injector.get(Ws,null);return i.runOutsideAngular(()=>{const a=i.onError.subscribe({next:u=>{o.handleError(u)}});s.onDestroy(()=>{wf(this._modules,s),a.unsubscribe()})}),function Zk(t,e,n){try{const r=n();return xc(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(o,i,()=>{const a=s.injector.get(yv);return a.runInitializers(),a.donePromise.then(()=>(function _1(t){nr(t,"Expected localeId to be defined"),"string"==typeof t&&(y1=t.toLowerCase().replace(/_/g,"-"))}(s.injector.get(Di,Pa)||Pa),this._moduleDoBootstrap(s),s))})})}bootstrapModule(n,r=[]){const i=eP({},r);return function C8(t,e,n){const r=new Z_(n);return Promise.resolve(r)}(0,0,n).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(n){const r=n.injector.get(Va);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new b(-403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new b(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(Cv,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(n){return new(n||t)($(Nn))},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();function eP(t,e){return Array.isArray(e)?e.reduce(eP,t):{...t,...e}}let Va=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=V(nP),this.componentTypes=[],this.components=[],this.isStable=V(jk),this._injector=V(yi)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){const i=n instanceof pR;if(!this._injector.get(yv).done)throw!i&&function Xo(t){const e=me(t)||Jt(t)||Tn(t);return null!==e&&e.standalone}(n),new b(405,!1);let o;o=i?n:this._injector.get(Wh).resolveComponentFactory(n),this.componentTypes.push(o.componentType);const a=function b8(t){return t.isBoundToModule}(o)?void 0:this._injector.get(Oa),c=o.create(Nn.NULL,[],r||o.selector,a),l=c.location.nativeElement,d=c.injector.get(Gk,null);return d?.registerApplication(l),c.onDestroy(()=>{this.detachView(c.hostView),wf(this.components,c),d?.unregisterApplication(l)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new b(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this.internalErrorHandler(n)}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;wf(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(bv,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>wf(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new b(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function wf(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const nP=new L("",{providedIn:"root",factory:()=>V(Ws).handleError.bind(void 0)});function x8(){const t=V(Ce),e=V(Ws);return n=>t.runOutsideAngular(()=>e.handleError(n))}let R8=(()=>{class t{constructor(){this.zone=V(Ce),this.applicationRef=V(Va)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();let If=(()=>{class t{}return t.__NG_ELEMENT_ID__=k8,t})();function k8(t){return function P8(t,e,n){if($s(t)&&!n){const r=Mn(t.index,e);return new Cc(r,r)}return 47&t.type?new Cc(e[ct],e):null}(Bt(),D(),16==(16&t))}class aP{constructor(){}supports(e){return tf(e)}create(e){return new B8(e)}}const U8=(t,e)=>e;class B8{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||U8}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){const o=!r||n&&n.currentIndex<cP(r,i,s)?n:r,a=cP(o,i,s),u=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,null==o.previousIndex)i++;else{s||(s=[]);const c=a-i,l=u-i;if(c!=l){for(let h=0;h<c;h++){const f=h<s.length?s[h]:s[h]=0,p=f+h;l<=p&&p<c&&(s[h]=f+1)}s[o.previousIndex]=l-c}}a!==u&&e(o,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!tf(e))throw new b(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)):(n=this._mismatch(n,s,o,a),r=!0),n=n._next}else i=0,function AW(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Symbol.iterator]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,o,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new $8(n,r),s,i),e}_verifyReinsertion(e,n,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const i=null===n?this._itHead:n._next;return e._next=i,e._prev=n,null===i?this._itTail=e:i._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new uP),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new uP),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class $8{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class j8{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class uP{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new j8,this.map.set(n,r)),r.add(e)}get(e,n){const i=this.map.get(e);return i?i.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function cP(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function dP(){return new Cf([new aP])}let Cf=(()=>{class t{constructor(n){this.factories=n}static create(n,r){if(null!=r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||dP()),deps:[[t,new bh,new vt]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(null!=r)return r;throw new b(901,!1)}}return t.\u0275prov=j({token:t,providedIn:"root",factory:dP}),t})();const W8=Qk(null,"core",[]);let K8=(()=>{class t{constructor(n){}}return t.\u0275fac=function(n){return new(n||t)($(Va))},t.\u0275mod=Xt({type:t}),t.\u0275inj=Vt({}),t})(),_P=(()=>{class t{get whenAllTasksComplete(){return 0===this.collection.size&&this.complete(),this.promise}constructor(){this.taskId=0,this.collection=new Set,this.ngZone=V(Ce),this.completed=!1,this.ngZone.runOutsideAngular(()=>{this.promise=new Promise(n=>{this.resolve=n})})}add(){if(this.completed)return-1;const n=this.taskId++;return this.collection.add(n),n}remove(n){this.completed||(this.collection.delete(n),0===this.collection.size&&this.complete())}ngOnDestroy(){this.complete(),this.collection.clear()}complete(){this.completed=!0,this.resolve()}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),kv=null;function rs(){return kv}class oK{}const or=new L("DocumentToken");let Pv=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:function(){return V(uK)},providedIn:"platform"}),t})();const aK=new L("Location Initialized");let uK=(()=>{class t extends Pv{constructor(){super(),this._doc=V(or),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return rs().getBaseHref(this._doc)}onPopState(n){const r=rs().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=rs().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:function(){return new t},providedIn:"platform"}),t})();function Ov(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function wP(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function Ci(t){return t&&"?"!==t[0]?"?"+t:t}let Zs=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:function(){return V(EP)},providedIn:"root"}),t})();const IP=new L("appBaseHref");let EP=(()=>{class t extends Zs{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??V(or).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Ov(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+Ci(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,s){const o=this.prepareExternalUrl(i+Ci(s));this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){const o=this.prepareExternalUrl(i+Ci(s));this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return t.\u0275fac=function(n){return new(n||t)($(Pv),$(IP,8))},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),cK=(()=>{class t extends Zs{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=Ov(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+Ci(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+Ci(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return t.\u0275fac=function(n){return new(n||t)($(Pv),$(IP,8))},t.\u0275prov=j({token:t,factory:t.\u0275fac}),t})(),Fv=(()=>{class t{constructor(n){this._subject=new Je,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._basePath=function hK(t){if(new RegExp("^(https?:)?//").test(t)){const[,n]=t.split(/\/\/[^\/]+/);return n}return t}(wP(DP(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Ci(r))}normalize(n){return t.stripTrailingSlash(function dK(t,e){if(!t||!e.startsWith(t))return e;const n=e.substring(t.length);return""===n||["/",";","?","#"].includes(n[0])?n:e}(this._basePath,DP(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Ci(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Ci(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}}return t.normalizeQueryParams=Ci,t.joinWithSlash=Ov,t.stripTrailingSlash=wP,t.\u0275fac=function(n){return new(n||t)($(Zs))},t.\u0275prov=j({token:t,factory:function(){return function lK(){return new Fv($(Zs))}()},providedIn:"root"}),t})();function DP(t){return t.replace(/\/index.html$/,"")}class JK{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Wv=(()=>{class t{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const r=this._viewContainer;n.forEachOperation((i,s,o)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new JK(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===s?void 0:s);else if(null!==s){const a=r.get(s);r.move(a,o),PP(a,i)}});for(let i=0,s=r.length;i<s;i++){const a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{PP(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(n,r){return!0}}return t.\u0275fac=function(n){return new(n||t)(T(yr),T(Ei),T(Cf))},t.\u0275dir=Q({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),t})();function PP(t,e){t.context.$implicit=e.item}let Kv=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new ZK,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){OP("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){OP("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}}return t.\u0275fac=function(n){return new(n||t)(T(yr),T(Ei))},t.\u0275dir=Q({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),t})();class ZK{constructor(){this.$implicit=null,this.ngIf=null}}function OP(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${mt(e)}'.`)}let VP=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Xt({type:t}),t.\u0275inj=Vt({}),t})();function BP(t){return"server"===t}let SQ=(()=>{class t{}return t.\u0275prov=j({token:t,providedIn:"root",factory:()=>new AQ($(or),window)}),t})();class AQ{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const n=function MQ(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&"function"==typeof t.body.attachShadow){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const n=this.window.history;n&&n.scrollRestoration&&(n.scrollRestoration=e)}}scrollToElement(e){const n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=$P(this.window.history)||$P(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function $P(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class rY extends oK{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class tw extends rY{static makeCurrent(){!function sK(t){kv||(kv=t)}(new tw)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function iY(){return Gc=Gc||document.querySelector("base"),Gc?Gc.getAttribute("href"):null}();return null==n?null:function sY(t){Vf=Vf||document.createElement("a"),Vf.setAttribute("href",t);const e=Vf.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){Gc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function QK(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,s]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let Vf,Gc=null,aY=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac}),t})();const nw=new L("EventManagerPlugins");let qP=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(s=>s.supports(n)),!r)throw new b(5101,!1);return this._eventNameToPlugin.set(n,r),r}}return t.\u0275fac=function(n){return new(n||t)($(nw),$(Ce))},t.\u0275prov=j({token:t,factory:t.\u0275fac}),t})();class WP{constructor(e){this._doc=e}}const rw="ng-app-id";let KP=(()=>{class t{constructor(n,r,i,s={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=BP(s),this.resetHostNodes()}addStyles(n){for(const r of n)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(n){for(const r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(const r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){const r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){const n=this.doc.head?.querySelectorAll(`style[${rw}="${this.appId}"]`);if(n?.length){const r=new Map;return n.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){const i=this.styleRef;if(i.has(n)){const s=i.get(n);return s.usage+=r,s.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){const i=this.styleNodesInDOM,s=i?.get(r);if(s?.parentNode===n)return i.delete(r),s.removeAttribute(rw),s;{const o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=r,this.platformIsServer&&o.setAttribute(rw,this.appId),o}}addStyleToHost(n,r){const i=this.getStyleElement(n,r);n.appendChild(i);const s=this.styleRef,o=s.get(r)?.elements;o?o.push(i):s.set(r,{elements:[i],usage:1})}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}}return t.\u0275fac=function(n){return new(n||t)($(or),$(jh),$(uR,8),$(es))},t.\u0275prov=j({token:t,factory:t.\u0275fac}),t})();const iw={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},sw=/%COMP%/g,dY=new L("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function YP(t,e){return e.map(n=>n.replace(sw,t))}let XP=(()=>{class t{constructor(n,r,i,s,o,a,u,c=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestory=s,this.doc=o,this.platformId=a,this.ngZone=u,this.nonce=c,this.rendererByCompId=new Map,this.platformIsServer=BP(a),this.defaultRenderer=new ow(n,o,u,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Hn.ShadowDom&&(r={...r,encapsulation:Hn.Emulated});const i=this.getOrCreateRenderer(n,r);return i instanceof ZP?i.applyToHost(n):i instanceof aw&&i.applyStyles(),i}getOrCreateRenderer(n,r){const i=this.rendererByCompId;let s=i.get(r.id);if(!s){const o=this.doc,a=this.ngZone,u=this.eventManager,c=this.sharedStylesHost,l=this.removeStylesOnCompDestory,d=this.platformIsServer;switch(r.encapsulation){case Hn.Emulated:s=new ZP(u,c,r,this.appId,l,o,a,d);break;case Hn.ShadowDom:return new gY(u,c,n,r,o,a,this.nonce,d);default:s=new aw(u,c,r,l,o,a,d)}s.onDestroy=()=>i.delete(r.id),i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}}return t.\u0275fac=function(n){return new(n||t)($(qP),$(KP),$(jh),$(dY),$(or),$(es),$(Ce),$(uR))},t.\u0275prov=j({token:t,factory:t.\u0275fac}),t})();class ow{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(iw[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(JP(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(JP(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new b(5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const s=iw[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=iw[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(xn.DashCase|xn.Important)?e.style.setProperty(n,r,i&xn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&xn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){if("string"==typeof e&&!(e=rs().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if("__ngUnwrap__"===n)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))&&n.preventDefault()}}}function JP(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class gY extends ow{constructor(e,n,r,i,s,o,a,u){super(e,s,o,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=YP(i.id,i.styles);for(const l of c){const d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=l,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class aw extends ow{constructor(e,n,r,i,s,o,a,u){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestory=i,this.rendererUsageCount=0,this.styles=u?YP(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class ZP extends aw{constructor(e,n,r,i,s,o,a,u){const c=i+"-"+r.id;super(e,n,r,s,o,a,u,c),this.contentAttr=function hY(t){return"_ngcontent-%COMP%".replace(sw,t)}(c),this.hostAttr=function fY(t){return"_nghost-%COMP%".replace(sw,t)}(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}let mY=(()=>{class t extends WP{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}}return t.\u0275fac=function(n){return new(n||t)($(or))},t.\u0275prov=j({token:t,factory:t.\u0275fac}),t})();const eO=["alt","control","meta","shift"],yY={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},_Y={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let vY=(()=>{class t extends WP{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,r,i){const s=t.parseEventName(r),o=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>rs().onAndCancel(n,s.domEventName,o))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=t._normalizeKey(r.pop());let o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),eO.forEach(c=>{const l=r.indexOf(c);l>-1&&(r.splice(l,1),o+=c+".")}),o+=s,0!=r.length||0===s.length)return null;const u={};return u.domEventName=i,u.fullKey=o,u}static matchEventFullKeyCode(n,r){let i=yY[n.key]||n.key,s="";return r.indexOf("code.")>-1&&(i=n.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),eO.forEach(o=>{o!==i&&(0,_Y[o])(n)&&(s+=o+".")}),s+=i,s===r)}static eventCallback(n,r,i){return s=>{t.matchEventFullKeyCode(s,n)&&i.runGuarded(()=>r(s))}}static _normalizeKey(n){return"esc"===n?"escape":n}}return t.\u0275fac=function(n){return new(n||t)($(or))},t.\u0275prov=j({token:t,factory:t.\u0275fac}),t})();const nO=[{provide:es,useValue:"browser"},{provide:aR,useValue:function wY(){tw.makeCurrent()},multi:!0},{provide:or,useFactory:function EY(){return function v3(t){Wy=t}(document),document},deps:[]}],DY=Qk(W8,"browser",nO),CY=new L(""),rO=[{provide:vf,useClass:class oY{addToWindow(e){Re.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new b(5103,!1);return s},Re.getAllAngularTestabilities=()=>e.getAllTestabilities(),Re.getAllAngularRootElements=()=>e.getAllRootElements(),Re.frameworkStabilizers||(Re.frameworkStabilizers=[]),Re.frameworkStabilizers.push(r=>{const i=Re.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(u){o=o||u,s--,0==s&&r(o)};i.forEach(function(u){u.whenStable(a)})})}findTestabilityInTree(e,n,r){return null==n?null:e.getTestability(n)??(r?rs().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},deps:[]},{provide:Gk,useClass:Iv,deps:[Ce,Ev,vf]},{provide:Iv,useClass:Iv,deps:[Ce,Ev,vf]}],iO=[{provide:n_,useValue:"root"},{provide:Ws,useFactory:function IY(){return new Ws},deps:[]},{provide:nw,useClass:mY,multi:!0,deps:[or,Ce,es]},{provide:nw,useClass:vY,multi:!0,deps:[or]},XP,KP,qP,{provide:mR,useExisting:XP},{provide:class xQ{},useClass:aY,deps:[]},[]];let bY=(()=>{class t{constructor(n){}static withServerTransition(n){return{ngModule:t,providers:[{provide:jh,useValue:n.appId}]}}}return t.\u0275fac=function(n){return new(n||t)($(CY,12))},t.\u0275mod=Xt({type:t}),t.\u0275inj=Vt({providers:[...iO,...rO],imports:[VP,K8]}),t})(),sO=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}}return t.\u0275fac=function(n){return new(n||t)($(or))},t.\u0275prov=j({token:t,factory:function(n){let r=null;return r=n?new n:function SY(){return new sO($(or))}(),r},providedIn:"root"}),t})();function ee(...t){return Tt(t,Wu(t))}typeof window<"u"&&window;class Ir extends ui{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const{isArray:kY}=Array,{getPrototypeOf:PY,prototype:OY,keys:FY}=Object;function cO(t){if(1===t.length){const e=t[0];if(kY(e))return{args:e,keys:null};if(function LY(t){return t&&"object"==typeof t&&PY(t)===OY}(e)){const n=FY(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}const{isArray:VY}=Array;function lO(t){return Ie(e=>function UY(t,e){return VY(e)?t(...e):t(e)}(t,e))}function dO(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function cw(...t){const e=Wu(t),n=UA(t),{args:r,keys:i}=cO(t);if(0===r.length)return Tt([],e);const s=new He(function BY(t,e,n=Vs){return r=>{hO(e,()=>{const{length:i}=t,s=new Array(i);let o=i,a=i;for(let u=0;u<i;u++)hO(e,()=>{const c=Tt(t[u],e);let l=!1;c.subscribe(bt(r,d=>{s[u]=d,l||(l=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>dO(i,o):Vs));return n?s.pipe(lO(n)):s}function hO(t,e,n){t?ci(n,t,e):e()}const Uf=zu(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function lw(...t){return function $Y(){return Ko(1)}()(Tt(t,Wu(t)))}function fO(t){return new He(e=>{tr(t()).subscribe(e)})}function zc(t,e){const n=Ae(t)?t:()=>t,r=i=>i.error(n());return new He(e?i=>e.schedule(r,0,i):r)}function dw(){return Ft((t,e)=>{let n=null;t._refCount++;const r=bt(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class pO extends He{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,CA(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new $n;const n=this.getSubject();e.add(this.source.subscribe(bt(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=$n.EMPTY)}return e}refCount(){return dw()(this)}}function Ti(t,e){return Ft((n,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();n.subscribe(bt(r,u=>{i?.unsubscribe();let c=0;const l=s++;tr(t(u,l)).subscribe(i=bt(r,d=>r.next(e?e(u,d,l,c++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function Ba(t){return t<=0?()=>xr:Ft((e,n)=>{let r=0;e.subscribe(bt(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function ss(t,e){return Ft((n,r)=>{let i=0;n.subscribe(bt(r,s=>t.call(e,s,i++)&&r.next(s)))})}function Bf(t){return Ft((e,n)=>{let r=!1;e.subscribe(bt(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function gO(t=HY){return Ft((e,n)=>{let r=!1;e.subscribe(bt(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function HY(){return new Uf}function eo(t,e){const n=arguments.length>=2;return r=>r.pipe(t?ss((i,s)=>t(i,s,r)):Vs,Ba(1),n?Bf(e):gO(()=>new Uf))}function qc(t,e){return Ae(e)?Lt(t,e,1):Lt(t,1)}function rn(t,e,n){const r=Ae(t)||e||n?{next:t,error:e,complete:n}:t;return r?Ft((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(bt(s,u=>{var c;null===(c=r.next)||void 0===c||c.call(r,u),s.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),s.complete()},u=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,u),s.error(u)},()=>{var u,c;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):Vs}function to(t){return Ft((e,n)=>{let s,r=null,i=!1;r=e.subscribe(bt(n,void 0,void 0,o=>{s=tr(t(o,to(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function hw(t){return t<=0?()=>xr:Ft((e,n)=>{let r=[];e.subscribe(bt(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function fw(t){return Ft((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}const se="primary",Wc=Symbol("RouteTitle");class KY{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function $a(t){return new KY(t)}function QY(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Hr(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!mO(t[i],e[i]))return!1;return!0}function mO(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}return t===e}function yO(t){return t.length>0?t[t.length-1]:null}function os(t){return function NY(t){return!!t&&(t instanceof He||Ae(t.lift)&&Ae(t.subscribe))}(t)?t:xc(t)?Tt(Promise.resolve(t)):ee(t)}const XY={exact:function wO(t,e,n){if(!no(t.segments,e.segments)||!$f(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!wO(t.children[r],e.children[r],n))return!1;return!0},subset:IO},_O={exact:function JY(t,e){return Hr(t,e)},subset:function ZY(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>mO(t[n],e[n]))},ignored:()=>!0};function vO(t,e,n){return XY[n.paths](t.root,e.root,n.matrixParams)&&_O[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function IO(t,e,n){return EO(t,e,e.segments,n)}function EO(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!no(i,n)||e.hasChildren()||!$f(i,n,r))}if(t.segments.length===n.length){if(!no(t.segments,n)||!$f(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!IO(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!!(no(t.segments,i)&&$f(t.segments,i,r)&&t.children[se])&&EO(t.children[se],e,s,r)}}function $f(t,e,n){return e.every((r,i)=>_O[n](t[i].parameters,r.parameters))}class ja{constructor(e=new be([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=$a(this.queryParams)),this._queryParamMap}toString(){return nX.serialize(this)}}class be{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return jf(this)}}class Kc{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=$a(this.parameters)),this._parameterMap}toString(){return bO(this)}}function no(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}let Qc=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:function(){return new pw},providedIn:"root"}),t})();class pw{parse(e){const n=new fX(e);return new ja(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${Yc(e.root,!0)}`,r=function sX(t){const e=Object.keys(t).map(n=>{const r=t[n];return Array.isArray(r)?r.map(i=>`${Hf(n)}=${Hf(i)}`).join("&"):`${Hf(n)}=${Hf(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${n}${r}${"string"==typeof e.fragment?`#${function rX(t){return encodeURI(t)}(e.fragment)}`:""}`}}const nX=new pw;function jf(t){return t.segments.map(e=>bO(e)).join("/")}function Yc(t,e){if(!t.hasChildren())return jf(t);if(e){const n=t.children[se]?Yc(t.children[se],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==se&&r.push(`${i}:${Yc(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function tX(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===se&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==se&&(n=n.concat(e(i,r)))}),n}(t,(r,i)=>i===se?[Yc(t.children[se],!1)]:[`${i}:${Yc(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[se]?`${jf(t)}/${n[0]}`:`${jf(t)}/(${n.join("//")})`}}function DO(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Hf(t){return DO(t).replace(/%3B/gi,";")}function gw(t){return DO(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Gf(t){return decodeURIComponent(t)}function CO(t){return Gf(t.replace(/\+/g,"%20"))}function bO(t){return`${gw(t.path)}${function iX(t){return Object.keys(t).map(e=>`;${gw(e)}=${gw(t[e])}`).join("")}(t.parameters)}`}const oX=/^[^\/()?;#]+/;function mw(t){const e=t.match(oX);return e?e[0]:""}const aX=/^[^\/()?;=#]+/,cX=/^[^=?&#]+/,dX=/^[^&#]+/;class fX{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new be([],{}):new be([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[se]=new be(e,n)),r}parseSegment(){const e=mw(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new b(4009,!1);return this.capture(e),new Kc(Gf(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=function uX(t){const e=t.match(aX);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=mw(this.remaining);i&&(r=i,this.capture(r))}e[Gf(n)]=Gf(r)}parseQueryParam(e){const n=function lX(t){const e=t.match(cX);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const o=function hX(t){const e=t.match(dX);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=CO(n),s=CO(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=mw(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new b(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=se);const o=this.parseChildren();n[s]=1===Object.keys(o).length?o[se]:new be([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new b(4011,!1)}}function TO(t){return t.segments.length>0?new be([],{[se]:t}):t}function SO(t){const e={};for(const r of Object.keys(t.children)){const s=SO(t.children[r]);if(r===se&&0===s.segments.length&&s.hasChildren())for(const[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function pX(t){if(1===t.numberOfChildren&&t.children[se]){const e=t.children[se];return new be(t.segments.concat(e.segments),e.children)}return t}(new be(t.segments,e))}function ro(t){return t instanceof ja}function AO(t){let e;const i=TO(function n(s){const o={};for(const u of s.children){const c=n(u);o[u.outlet]=c}const a=new be(s.url,o);return s===t&&(e=a),a}(t.root));return e??i}function MO(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(0===e.length)return yw(i,i,i,n,r);const s=function mX(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new RO(!0,0,t);let e=0,n=!1;const r=t.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Object.entries(s.outlets).forEach(([u,c])=>{a[u]="string"==typeof c?c.split("/"):c}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,u)=>{0==u&&"."===a||(0==u&&""===a?n=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new RO(n,e,r)}(e);if(s.toRoot())return yw(i,i,new be([],{}),n,r);const o=function yX(t,e,n){if(t.isAbsolute)return new qf(e,!0,0);if(!n)return new qf(e,!1,NaN);if(null===n.parent)return new qf(n,!0,0);const r=zf(t.commands[0])?0:1;return function _X(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new b(4005,!1);i=r.segments.length}return new qf(r,!1,i-s)}(n,n.segments.length-1+r,t.numberOfDoubleDots)}(s,i,t),a=o.processChildren?Jc(o.segmentGroup,o.index,s.commands):NO(o.segmentGroup,o.index,s.commands);return yw(i,o.segmentGroup,a,n,r)}function zf(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Xc(t){return"object"==typeof t&&null!=t&&t.outlets}function yw(t,e,n,r,i){let o,s={};r&&Object.entries(r).forEach(([u,c])=>{s[u]=Array.isArray(c)?c.map(l=>`${l}`):`${c}`}),o=t===e?n:xO(t,e,n);const a=TO(SO(o));return new ja(a,s,i)}function xO(t,e,n){const r={};return Object.entries(t.children).forEach(([i,s])=>{r[i]=s===e?n:xO(s,e,n)}),new be(t.segments,r)}class RO{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&zf(r[0]))throw new b(4003,!1);const i=r.find(Xc);if(i&&i!==yO(r))throw new b(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class qf{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function NO(t,e,n){if(t||(t=new be([],{})),0===t.segments.length&&t.hasChildren())return Jc(t,e,n);const r=function wX(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const o=t.segments[i],a=n[r];if(Xc(a))break;const u=`${a}`,c=r<n.length-1?n[r+1]:null;if(i>0&&void 0===u)break;if(u&&c&&"object"==typeof c&&void 0===c.outlets){if(!PO(u,c,o))return s;r+=2}else{if(!PO(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const s=new be(t.segments.slice(0,r.pathIndex),{});return s.children[se]=new be(t.segments.slice(r.pathIndex),t.children),Jc(s,0,i)}return r.match&&0===i.length?new be(t.segments,{}):r.match&&!t.hasChildren()?_w(t,e,n):r.match?Jc(t,0,i):_w(t,e,n)}function Jc(t,e,n){if(0===n.length)return new be(t.segments,{});{const r=function vX(t){return Xc(t[0])?t[0].outlets:{[se]:t}}(n),i={};if(!r[se]&&t.children[se]&&1===t.numberOfChildren&&0===t.children[se].segments.length){const s=Jc(t.children[se],e,n);return new be(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{"string"==typeof o&&(o=[o]),null!==o&&(i[s]=NO(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{void 0===r[s]&&(i[s]=o)}),new be(t.segments,i)}}function _w(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const s=n[i];if(Xc(s)){const u=IX(s.outlets);return new be(r,u)}if(0===i&&zf(n[0])){r.push(new Kc(t.segments[e].path,kO(n[0]))),i++;continue}const o=Xc(s)?s.outlets[se]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&zf(a)?(r.push(new Kc(o,kO(a))),i+=2):(r.push(new Kc(o,{})),i++)}return new be(r,{})}function IX(t){const e={};return Object.entries(t).forEach(([n,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[n]=_w(new be([],{}),0,r))}),e}function kO(t){const e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function PO(t,e,n){return t==n.path&&Hr(e,n.parameters)}const Zc="imperative";class Gr{constructor(e,n){this.id=e,this.url=n}}class vw extends Gr{constructor(e,n,r="imperative",i=null){super(e,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class io extends Gr{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Wf extends Gr{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class el extends Gr{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=16}}class ww extends Gr{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class EX extends Gr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class DX extends Gr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class CX extends Gr{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class bX extends Gr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class TX extends Gr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class SX{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class AX{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class MX{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class xX{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class RX{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class NX{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class OO{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class kX{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new tl,this.attachRef=null}}let tl=(()=>{class t{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){const i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new kX,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class FO{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=Iw(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=Iw(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=Ew(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Ew(e,this._root).map(n=>n.value)}}function Iw(t,e){if(t===e.value)return e;for(const n of e.children){const r=Iw(t,n);if(r)return r}return null}function Ew(t,e){if(t===e.value)return[e];for(const n of e.children){const r=Ew(t,n);if(r.length)return r.unshift(e),r}return[]}class Si{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function Ha(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class LO extends FO{constructor(e,n){super(e),this.snapshot=n,Dw(this,e)}toString(){return this.snapshot.toString()}}function VO(t,e){const n=function PX(t,e){const o=new Kf([],{},{},"",{},se,e,null,{});return new BO("",new Si(o,[]))}(0,e),r=new Ir([new Kc("",{})]),i=new Ir({}),s=new Ir({}),o=new Ir({}),a=new Ir(""),u=new Ga(r,i,o,a,s,se,e,n.root);return u.snapshot=n.root,new LO(new Si(u,[]),n)}class Ga{constructor(e,n,r,i,s,o,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(Ie(c=>c[Wc]))??ee(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Ie(e=>$a(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Ie(e=>$a(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function UO(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const i=n[r],s=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function OX(t){return t.reduce((e,n)=>({params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Kf{get title(){return this.data?.[Wc]}constructor(e,n,r,i,s,o,a,u,c){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=u,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=$a(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=$a(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class BO extends FO{constructor(e,n){super(n),this.url=e,Dw(this,n)}toString(){return $O(this._root)}}function Dw(t,e){e.value._routerState=t,e.children.forEach(n=>Dw(t,n))}function $O(t){const e=t.children.length>0?` { ${t.children.map($O).join(", ")} } `:"";return`${t.value}${e}`}function Cw(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Hr(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Hr(e.params,n.params)||t.paramsSubject.next(n.params),function YY(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Hr(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.urlSubject.next(n.url),Hr(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function bw(t,e){const n=Hr(t.params,e.params)&&function eX(t,e){return no(t,e)&&t.every((n,r)=>Hr(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||bw(t.parent,e.parent))}let Tw=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=se,this.activateEvents=new Je,this.deactivateEvents=new Je,this.attachEvents=new Je,this.detachEvents=new Je,this.parentContexts=V(tl),this.location=V(yr),this.changeDetector=V(If),this.environmentInjector=V(yi),this.inputBinder=V(Qf,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){const{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new b(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new b(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new b(4012,!1);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new b(4013,!1);this._activatedRoute=n;const i=this.location,o=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new FX(n,a,i.injector);this.activated=i.createComponent(o,{index:i.length,injector:u,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=Q({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[rr]}),t})();class FX{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Ga?this.route:e===tl?this.childContexts:this.parent.get(e,n)}}const Qf=new L("");let jO=(()=>{class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){const{activatedRoute:r}=n,i=cw([r.queryParams,r.params,r.data]).pipe(Ti(([s,o,a],u)=>(a={...s,...o,...a},0===u?ee(a):Promise.resolve(a)))).subscribe(s=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(n);const o=function iK(t){const e=me(t);if(!e)return null;const n=new bc(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone}}}(r.component);if(o)for(const{templateName:a}of o.inputs)n.activatedComponentRef.setInput(a,s[a]);else this.unsubscribeFromRouteData(n)});this.outletDataSubscriptions.set(n,i)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac}),t})();function nl(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function VX(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return nl(t,r,i);return nl(t,r)})}(t,e,n);return new Si(r,i)}{if(t.shouldAttach(e.value)){const s=t.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>nl(t,a)),o}}const r=function UX(t){return new Ga(new Ir(t.url),new Ir(t.params),new Ir(t.queryParams),new Ir(t.fragment),new Ir(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(s=>nl(t,s));return new Si(r,i)}}const Sw="ngNavigationCancelingError";function HO(t,e){const{redirectTo:n,navigationBehaviorOptions:r}=ro(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=GO(!1,0,e);return i.url=n,i.navigationBehaviorOptions=r,i}function GO(t,e,n){const r=new Error("NavigationCancelingError: "+(t||""));return r[Sw]=!0,r.cancellationCode=e,n&&(r.url=n),r}function zO(t){return qO(t)&&ro(t.url)}function qO(t){return t&&t[Sw]}let WO=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=Yo({type:t,selectors:[["ng-component"]],standalone:!0,features:[z1],decls:1,vars:0,template:function(n,r){1&n&&Me(0,"router-outlet")},dependencies:[Tw],encapsulation:2}),t})();function Aw(t){const e=t.children&&t.children.map(Aw),n=e?{...t,children:e}:{...t};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==se&&(n.component=WO),n}function Er(t){return t.outlet||se}function rl(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class qX{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Cw(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=Ha(n);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Ha(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Ha(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){const i=Ha(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new NX(s.value.snapshot))}),e.children.length&&this.forwardEvent(new xX(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(Cw(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),Cw(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=rl(i.snapshot);o.attachRef=null,o.route=i,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class KO{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Yf{constructor(e,n){this.component=e,this.route=n}}function WX(t,e,n){const r=t._root;return il(r,e?e._root:null,n,[r.value])}function za(t,e){const n=Symbol(),r=e.get(t,n);return r===n?"function"!=typeof t||function $4(t){return null!==Jd(t)}(t)?e.get(t):t:r}function il(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=Ha(e);return t.children.forEach(o=>{(function QX(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const u=function YX(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!no(t.url,e.url);case"pathParamsOrQueryParamsChange":return!no(t.url,e.url)||!Hr(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!bw(t,e)||!Hr(t.queryParams,e.queryParams);default:return!bw(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new KO(r)):(s.data=o.data,s._resolvedData=o._resolvedData),il(t,e,s.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Yf(a.outlet.component,o))}else o&&sl(e,a,i),i.canActivateChecks.push(new KO(r)),il(t,null,s.component?a?a.children:null:n,r,i)})(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>sl(a,n.getContext(o),i)),i}function sl(t,e,n){const r=Ha(t),i=t.value;Object.entries(r).forEach(([s,o])=>{sl(o,i.component?e?e.children.getContext(s):null:e,n)}),n.canDeactivateChecks.push(new Yf(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function ol(t){return"function"==typeof t}function QO(t){return t instanceof Uf||"EmptyError"===t?.name}const Xf=Symbol("INITIAL_VALUE");function qa(){return Ti(t=>cw(t.map(e=>e.pipe(Ba(1),function jY(...t){const e=Wu(t);return Ft((n,r)=>{(e?lw(t,n,e):lw(t,n)).subscribe(r)})}(Xf)))).pipe(Ie(e=>{for(const n of e)if(!0!==n){if(n===Xf)return Xf;if(!1===n||n instanceof ja)return n}return!0}),ss(e=>e!==Xf),Ba(1)))}function YO(t){return function KG(...t){return IA(t)}(rn(e=>{if(ro(e))throw HO(0,e)}),Ie(e=>!0===e))}class Jf{constructor(e){this.segmentGroup=e||null}}class XO{constructor(e){this.urlTree=e}}function Wa(t){return zc(new Jf(t))}function JO(t){return zc(new XO(t))}class mJ{constructor(e,n){this.urlSerializer=e,this.urlTree=n}noMatchError(e){return new b(4002,!1)}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return ee(r);if(i.numberOfChildren>1||!i.children[se])return zc(new b(4e3,!1));i=i.children[se]}}applyRedirectCommands(e,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r)}applyRedirectCreateUrlTree(e,n,r,i){const s=this.createSegmentGroup(e,n.root,r,i);return new ja(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return Object.entries(e).forEach(([i,s])=>{if("string"==typeof s&&s.startsWith(":")){const a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){const s=this.createSegments(e,n.segments,r,i);let o={};return Object.entries(n.children).forEach(([a,u])=>{o[a]=this.createSegmentGroup(e,u,r,i)}),new be(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new b(4001,!1);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}const Mw={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function yJ(t,e,n,r,i){const s=xw(t,e,n);return s.matched?(r=function BX(t,e){return t.providers&&!t._injector&&(t._injector=ev(t.providers,e,`Route: ${t.path}`)),t._injector??e}(e,r),function fJ(t,e,n,r){const i=e.canMatch;return i&&0!==i.length?ee(i.map(o=>{const a=za(o,t);return os(function nJ(t){return t&&ol(t.canMatch)}(a)?a.canMatch(e,n):t.runInContext(()=>a(e,n)))})).pipe(qa(),YO()):ee(!0)}(r,e,n).pipe(Ie(o=>!0===o?s:{...Mw}))):ee(s)}function xw(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{...Mw}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(e.matcher||QY)(n,t,e);if(!i)return{...Mw};const s={};Object.entries(i.posParams??{}).forEach(([a,u])=>{s[a]=u.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function ZO(t,e,n,r){return n.length>0&&function wJ(t,e,n){return n.some(r=>Zf(t,e,r)&&Er(r)!==se)}(t,n,r)?{segmentGroup:new be(e,vJ(r,new be(n,t.children))),slicedSegments:[]}:0===n.length&&function IJ(t,e,n){return n.some(r=>Zf(t,e,r))}(t,n,r)?{segmentGroup:new be(t.segments,_J(t,0,n,r,t.children)),slicedSegments:n}:{segmentGroup:new be(t.segments,t.children),slicedSegments:n}}function _J(t,e,n,r,i){const s={};for(const o of r)if(Zf(t,n,o)&&!i[Er(o)]){const a=new be([],{});s[Er(o)]=a}return{...i,...s}}function vJ(t,e){const n={};n[se]=e;for(const r of t)if(""===r.path&&Er(r)!==se){const i=new be([],{});n[Er(r)]=i}return n}function Zf(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}class bJ{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new mJ(this.urlSerializer,this.urlTree)}noMatchError(e){return new b(4002,!1)}recognize(){const e=ZO(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,se).pipe(to(n=>{if(n instanceof XO)return this.allowRedirects=!1,this.urlTree=n.urlTree,this.match(n.urlTree);throw n instanceof Jf?this.noMatchError(n):n}),Ie(n=>{const r=new Kf([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},se,this.rootComponentType,null,{}),i=new Si(r,n),s=new BO("",i),o=function gX(t,e,n=null,r=null){return MO(AO(t),e,n,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,se).pipe(to(r=>{throw r instanceof Jf?this.noMatchError(r):r}))}inheritParamsAndData(e){const n=e.value,r=UO(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0)}processChildren(e,n,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return Tt(i).pipe(qc(s=>{const o=r.children[s],a=function GX(t,e){const n=t.filter(r=>Er(r)===e);return n.push(...t.filter(r=>Er(r)!==e)),n}(n,s);return this.processSegmentGroup(e,a,o,s)}),function zY(t,e){return Ft(function GY(t,e,n,r,i){return(s,o)=>{let a=n,u=e,c=0;s.subscribe(bt(o,l=>{const d=c++;u=a?t(u,l,d):(a=!0,l),r&&o.next(u)},i&&(()=>{a&&o.next(u),o.complete()})))}}(t,e,arguments.length>=2,!0))}((s,o)=>(s.push(...o),s)),Bf(null),function qY(t,e){const n=arguments.length>=2;return r=>r.pipe(t?ss((i,s)=>t(i,s,r)):Vs,hw(1),n?Bf(e):gO(()=>new Uf))}(),Lt(s=>{if(null===s)return Wa(r);const o=eF(s);return function TJ(t){t.sort((e,n)=>e.value.outlet===se?-1:n.value.outlet===se?1:e.value.outlet.localeCompare(n.value.outlet))}(o),ee(o)}))}processSegment(e,n,r,i,s,o){return Tt(n).pipe(qc(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,s,o).pipe(to(u=>{if(u instanceof Jf)return ee(null);throw u}))),eo(a=>!!a),to(a=>{if(QO(a))return function DJ(t,e,n){return 0===e.length&&!t.children[n]}(r,i,s)?ee([]):Wa(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,s,o,a){return function EJ(t,e,n,r){return!!(Er(t)===r||r!==se&&Zf(e,n,t))&&("**"===t.path||xw(e,t,n).matched)}(r,i,s,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,s,o,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o):Wa(i):Wa(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,i){const s=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?JO(s):this.applyRedirects.lineralizeSegments(r,s).pipe(Lt(o=>{const a=new be(o,{});return this.processSegment(e,n,a,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){const{matched:a,consumedSegments:u,remainingSegments:c,positionalParamSegments:l}=xw(n,i,s);if(!a)return Wa(n);const d=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,l);return i.redirectTo.startsWith("/")?JO(d):this.applyRedirects.lineralizeSegments(i,d).pipe(Lt(h=>this.processSegment(e,r,n,h.concat(c),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s,o){let a;if("**"===r.path){const u=i.length>0?yO(i).parameters:{};a=ee({snapshot:new Kf(i,u,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,tF(r),Er(r),r.component??r._loadedComponent??null,r,nF(r)),consumedSegments:[],remainingSegments:[]}),n.children={}}else a=yJ(n,r,i,e).pipe(Ie(({matched:u,consumedSegments:c,remainingSegments:l,parameters:d})=>u?{snapshot:new Kf(c,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,tF(r),Er(r),r.component??r._loadedComponent??null,r,nF(r)),consumedSegments:c,remainingSegments:l}:null));return a.pipe(Ti(u=>null===u?Wa(n):this.getChildConfig(e=r._injector??e,r,i).pipe(Ti(({routes:c})=>{const l=r._loadedInjector??e,{snapshot:d,consumedSegments:h,remainingSegments:f}=u,{segmentGroup:p,slicedSegments:m}=ZO(n,h,f,c);if(0===m.length&&p.hasChildren())return this.processChildren(l,c,p).pipe(Ie(v=>null===v?null:[new Si(d,v)]));if(0===c.length&&0===m.length)return ee([new Si(d,[])]);const y=Er(r)===s;return this.processSegment(l,c,p,m,y?se:s,!0).pipe(Ie(v=>[new Si(d,v)]))}))))}getChildConfig(e,n,r){return n.children?ee({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?ee({routes:n._loadedRoutes,injector:n._loadedInjector}):function hJ(t,e,n,r){const i=e.canLoad;return void 0===i||0===i.length?ee(!0):ee(i.map(o=>{const a=za(o,t);return os(function JX(t){return t&&ol(t.canLoad)}(a)?a.canLoad(e,n):t.runInContext(()=>a(e,n)))})).pipe(qa(),YO())}(e,n,r).pipe(Lt(i=>i?this.configLoader.loadChildren(e,n).pipe(rn(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):function gJ(t){return zc(GO(!1,3))}())):ee({routes:[],injector:e})}}function SJ(t){const e=t.value.routeConfig;return e&&""===e.path}function eF(t){const e=[],n=new Set;for(const r of t){if(!SJ(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=eF(r.children);e.push(new Si(r.value,i))}return e.filter(r=>!n.has(r))}function tF(t){return t.data||{}}function nF(t){return t.resolve||{}}function rF(t){return"string"==typeof t.title||null===t.title}function Rw(t){return Ti(e=>{const n=t(e);return n?Tt(n).pipe(Ie(()=>e)):ee(e)})}const Ka=new L("ROUTES");let Nw=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=V(Fk)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return ee(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const r=os(n.loadComponent()).pipe(Ie(iF),rn(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),fw(()=>{this.componentLoaders.delete(n)})),i=new pO(r,()=>new ui).pipe(dw());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return ee({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(Ie(a=>{this.onLoadEndListener&&this.onLoadEndListener(r);let u,c;return Array.isArray(a)?c=a:(u=a.create(n).injector,c=u.get(Ka,[],H.Self|H.Optional).flat()),{routes:c.map(Aw),injector:u}}),fw(()=>{this.childrenLoaders.delete(r)})),o=new pO(s,()=>new ui).pipe(dw());return this.childrenLoaders.set(r,o),o}loadModuleFactoryOrRoutes(n){return os(n()).pipe(Ie(iF),Lt(r=>r instanceof H1||Array.isArray(r)?ee(r):Tt(this.compiler.compileModuleAsync(r))))}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function iF(t){return function PJ(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let ep=(()=>{class t{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new ui,this.configLoader=V(Nw),this.environmentInjector=V(yi),this.urlSerializer=V(Qc),this.rootContexts=V(tl),this.inputBindingEnabled=null!==V(Qf,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>ee(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new AX(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new SX(i))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:r})}setupNavigations(n){return this.transitions=new Ir({id:0,currentUrlTree:n.currentUrlTree,currentRawUrl:n.currentUrlTree,extractedUrl:n.urlHandlingStrategy.extract(n.currentUrlTree),urlAfterRedirects:n.urlHandlingStrategy.extract(n.currentUrlTree),rawUrl:n.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Zc,restoredState:null,currentSnapshot:n.routerState.snapshot,targetSnapshot:null,currentRouterState:n.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(ss(r=>0!==r.id),Ie(r=>({...r,extractedUrl:n.urlHandlingStrategy.extract(r.rawUrl)})),Ti(r=>{let i=!1,s=!1;return ee(r).pipe(rn(o=>{this.currentNavigation={id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Ti(o=>{const a=n.browserUrlTree.toString(),u=!n.navigated||o.extractedUrl.toString()!==a||a!==n.currentUrlTree.toString();if(!u&&"reload"!==(o.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const l="";return this.events.next(new el(o.id,n.serializeUrl(r.rawUrl),l,0)),n.rawUrlTree=o.rawUrl,o.resolve(null),xr}if(n.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return sF(o.source)&&(n.browserUrlTree=o.extractedUrl),ee(o).pipe(Ti(l=>{const d=this.transitions?.getValue();return this.events.next(new vw(l.id,this.urlSerializer.serialize(l.extractedUrl),l.source,l.restoredState)),d!==this.transitions?.getValue()?xr:Promise.resolve(l)}),function AJ(t,e,n,r,i,s){return Lt(o=>function CJ(t,e,n,r,i,s,o="emptyOnly"){return new bJ(t,e,n,r,i,o,s).recognize()}(t,e,n,r,o.extractedUrl,i,s).pipe(Ie(({state:a,tree:u})=>({...o,targetSnapshot:a,urlAfterRedirects:u}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,n.paramsInheritanceStrategy),rn(l=>{if(r.targetSnapshot=l.targetSnapshot,r.urlAfterRedirects=l.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:l.urlAfterRedirects},"eager"===n.urlUpdateStrategy){if(!l.extras.skipLocationChange){const h=n.urlHandlingStrategy.merge(l.urlAfterRedirects,l.rawUrl);n.setBrowserUrl(h,l)}n.browserUrlTree=l.urlAfterRedirects}const d=new EX(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}));if(u&&n.urlHandlingStrategy.shouldProcessUrl(n.rawUrlTree)){const{id:l,extractedUrl:d,source:h,restoredState:f,extras:p}=o,m=new vw(l,this.urlSerializer.serialize(d),h,f);this.events.next(m);const y=VO(0,this.rootComponentType).snapshot;return ee(r={...o,targetSnapshot:y,urlAfterRedirects:d,extras:{...p,skipLocationChange:!1,replaceUrl:!1}})}{const l="";return this.events.next(new el(o.id,n.serializeUrl(r.extractedUrl),l,1)),n.rawUrlTree=o.rawUrl,o.resolve(null),xr}}),rn(o=>{const a=new DX(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(a)}),Ie(o=>r={...o,guards:WX(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),function iJ(t,e){return Lt(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?ee({...n,guardsResult:!0}):function sJ(t,e,n,r){return Tt(t).pipe(Lt(i=>function dJ(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?ee(s.map(a=>{const u=rl(e)??i,c=za(a,u);return os(function tJ(t){return t&&ol(t.canDeactivate)}(c)?c.canDeactivate(t,e,n,r):u.runInContext(()=>c(t,e,n,r))).pipe(eo())})).pipe(qa()):ee(!0)}(i.component,i.route,n,e,r)),eo(i=>!0!==i,!0))}(o,r,i,t).pipe(Lt(a=>a&&function XX(t){return"boolean"==typeof t}(a)?function oJ(t,e,n,r){return Tt(e).pipe(qc(i=>lw(function uJ(t,e){return null!==t&&e&&e(new MX(t)),ee(!0)}(i.route.parent,r),function aJ(t,e){return null!==t&&e&&e(new RX(t)),ee(!0)}(i.route,r),function lJ(t,e,n){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function KX(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(o)).filter(o=>null!==o).map(o=>fO(()=>ee(o.guards.map(u=>{const c=rl(o.node)??n,l=za(u,c);return os(function eJ(t){return t&&ol(t.canActivateChild)}(l)?l.canActivateChild(r,t):c.runInContext(()=>l(r,t))).pipe(eo())})).pipe(qa())));return ee(s).pipe(qa())}(t,i.path,n),function cJ(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return ee(!0);const i=r.map(s=>fO(()=>{const o=rl(e)??n,a=za(s,o);return os(function ZX(t){return t&&ol(t.canActivate)}(a)?a.canActivate(e,t):o.runInContext(()=>a(e,t))).pipe(eo())}));return ee(i).pipe(qa())}(t,i.route,n))),eo(i=>!0!==i,!0))}(r,s,t,e):ee(a)),Ie(a=>({...n,guardsResult:a})))})}(this.environmentInjector,o=>this.events.next(o)),rn(o=>{if(r.guardsResult=o.guardsResult,ro(o.guardsResult))throw HO(0,o.guardsResult);const a=new CX(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(a)}),ss(o=>!!o.guardsResult||(n.restoreHistory(o),this.cancelNavigationTransition(o,"",3),!1)),Rw(o=>{if(o.guards.canActivateChecks.length)return ee(o).pipe(rn(a=>{const u=new bX(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}),Ti(a=>{let u=!1;return ee(a).pipe(function MJ(t,e){return Lt(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return ee(n);let s=0;return Tt(i).pipe(qc(o=>function xJ(t,e,n,r){const i=t.routeConfig,s=t._resolve;return void 0!==i?.title&&!rF(i)&&(s[Wc]=i.title),function RJ(t,e,n,r){const i=function NJ(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===i.length)return ee({});const s={};return Tt(i).pipe(Lt(o=>function kJ(t,e,n,r){const i=rl(e)??r,s=za(t,i);return os(s.resolve?s.resolve(e,n):i.runInContext(()=>s(e,n)))}(t[o],e,n,r).pipe(eo(),rn(a=>{s[o]=a}))),hw(1),function WY(t){return Ie(()=>t)}(s),to(o=>QO(o)?xr:zc(o)))}(s,t,e,r).pipe(Ie(o=>(t._resolvedData=o,t.data=UO(t,n).resolve,i&&rF(i)&&(t.data[Wc]=i.title),null)))}(o.route,r,t,e)),rn(()=>s++),hw(1),Lt(o=>s===i.length?ee(n):xr))})}(n.paramsInheritanceStrategy,this.environmentInjector),rn({next:()=>u=!0,complete:()=>{u||(n.restoreHistory(a),this.cancelNavigationTransition(a,"",2))}}))}),rn(a=>{const u=new TX(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}))}),Rw(o=>{const a=u=>{const c=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&c.push(this.configLoader.loadComponent(u.routeConfig).pipe(rn(l=>{u.component=l}),Ie(()=>{})));for(const l of u.children)c.push(...a(l));return c};return cw(a(o.targetSnapshot.root)).pipe(Bf(),Ba(1))}),Rw(()=>this.afterPreactivation()),Ie(o=>{const a=function LX(t,e,n){const r=nl(t,e._root,n?n._root:void 0);return new LO(r,e)}(n.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return r={...o,targetRouterState:a}}),rn(o=>{n.currentUrlTree=o.urlAfterRedirects,n.rawUrlTree=n.urlHandlingStrategy.merge(o.urlAfterRedirects,o.rawUrl),n.routerState=o.targetRouterState,"deferred"===n.urlUpdateStrategy&&(o.extras.skipLocationChange||n.setBrowserUrl(n.rawUrlTree,o),n.browserUrlTree=o.urlAfterRedirects)}),((t,e,n,r)=>Ie(i=>(new qX(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)))(this.rootContexts,n.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),Ba(1),rn({next:o=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,n.navigated=!0,this.events.next(new io(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(n.currentUrlTree))),n.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),fw(()=>{i||s||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),to(o=>{if(s=!0,qO(o)){zO(o)||(n.navigated=!0,n.restoreHistory(r,!0));const a=new Wf(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode);if(this.events.next(a),zO(o)){const u=n.urlHandlingStrategy.merge(o.url,n.rawUrlTree),c={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===n.urlUpdateStrategy||sF(r.source)};n.scheduleNavigation(u,Zc,null,c,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{n.restoreHistory(r,!0);const a=new ww(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);this.events.next(a);try{r.resolve(n.errorHandler(o))}catch(u){r.reject(u)}}return xr}))}))}cancelNavigationTransition(n,r,i){const s=new Wf(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(s),n.resolve(!1)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function sF(t){return t!==Zc}let oF=(()=>{class t{buildTitle(n){let r,i=n.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===se);return r}getResolvedTitleForRoute(n){return n.data[Wc]}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:function(){return V(OJ)},providedIn:"root"}),t})(),OJ=(()=>{class t extends oF{constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}}return t.\u0275fac=function(n){return new(n||t)($(sO))},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),FJ=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:function(){return V(VJ)},providedIn:"root"}),t})();class LJ{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}let VJ=(()=>{class t extends LJ{}return t.\u0275fac=function(){let e;return function(r){return(e||(e=$t(t)))(r||t)}}(),t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const tp=new L("",{providedIn:"root",factory:()=>({})});let UJ=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:function(){return V(BJ)},providedIn:"root"}),t})(),BJ=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var Yn=(()=>((Yn=Yn||{})[Yn.COMPLETE=0]="COMPLETE",Yn[Yn.FAILED=1]="FAILED",Yn[Yn.REDIRECTING=2]="REDIRECTING",Yn))();function aF(t,e){t.events.pipe(ss(n=>n instanceof io||n instanceof Wf||n instanceof ww||n instanceof el),Ie(n=>n instanceof io||n instanceof el?Yn.COMPLETE:n instanceof Wf&&(0===n.code||1===n.code)?Yn.REDIRECTING:Yn.FAILED),ss(n=>n!==Yn.REDIRECTING),Ba(1)).subscribe(()=>{e()})}function $J(t){throw t}function jJ(t,e,n){return e.parse("/")}const HJ={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},GJ={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let cr=(()=>{class t{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=V(Ok),this.isNgZoneEnabled=!1,this.options=V(tp,{optional:!0})||{},this.pendingTasks=V(_P),this.errorHandler=this.options.errorHandler||$J,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||jJ,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=V(UJ),this.routeReuseStrategy=V(FJ),this.titleStrategy=V(oF),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=V(Ka,{optional:!0})?.flat()??[],this.navigationTransitions=V(ep),this.urlSerializer=V(Qc),this.location=V(Fv),this.componentInputBindingEnabled=!!V(Qf,{optional:!0}),this.isNgZoneEnabled=V(Ce)instanceof Ce&&Ce.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new ja,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=VO(0,null),this.navigationTransitions.setupNavigations(this).subscribe(n=>{this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId??0},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)})}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const n=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Zc,n)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r="popstate"===n.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(n.url,r,n.state)},0)}))}navigateToSyncWithBrowser(n,r,i){const s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){const u={...i};delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(s.state=u)}const a=this.parseUrl(n);this.scheduleNavigation(a,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(Aw),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(n,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:u}=r,c=u?this.currentUrlTree.fragment:o;let d,l=null;switch(a){case"merge":l={...this.currentUrlTree.queryParams,...s};break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=s||null}null!==l&&(l=this.removeEmptyProps(l));try{d=AO(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof n[0]||!n[0].startsWith("/"))&&(n=[]),d=this.currentUrlTree.root}return MO(d,n,l,c??null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=ro(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,Zc,null,r)}navigate(n,r={skipLocationChange:!1}){return function zJ(t){for(let e=0;e<t.length;e++)if(null==t[e])throw new b(4008,!1)}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,n)}return r}isActive(n,r){let i;if(i=!0===r?{...HJ}:!1===r?{...GJ}:r,ro(n))return vO(this.currentUrlTree,n,i);const s=this.parseUrl(n);return vO(this.currentUrlTree,s,i)}removeEmptyProps(n){return Object.keys(n).reduce((r,i)=>{const s=n[i];return null!=s&&(r[i]=s),r},{})}scheduleNavigation(n,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,u,c;o?(a=o.resolve,u=o.reject,c=o.promise):c=new Promise((d,h)=>{a=d,u=h});const l=this.pendingTasks.add();return aF(this,()=>{Promise.resolve().then(()=>this.pendingTasks.remove(l))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:s,resolve:a,reject:u,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(d=>Promise.reject(d))}setBrowserUrl(n,r){const i=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const o={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",o)}else{const s={...r.extras.state,...this.generateNgRouterState(r.id,(this.browserPageId??0)+1)};this.location.go(i,"",s)}}restoreHistory(n,r=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-(this.browserPageId??this.currentPageId);0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class uF{}let KJ=(()=>{class t{constructor(n,r,i,s,o){this.router=n,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(ss(n=>n instanceof io),qc(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=ev(s.providers,n,`Route: ${s.path}`));const o=s._injector??n,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return Tt(i).pipe(Ko())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(n,r):ee(null);const s=i.pipe(Lt(o=>null===o?ee(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??n,o.routes))));return r.loadComponent&&!r._loadedComponent?Tt([s,this.loader.loadComponent(r)]).pipe(Ko()):s})}}return t.\u0275fac=function(n){return new(n||t)($(cr),$(Fk),$(yi),$(uF),$(Nw))},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Pw=new L("");let cF=(()=>{class t{constructor(n,r,i,s,o={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof vw?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof io?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof el&&0===n.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof OO&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new OO(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return t.\u0275fac=function(n){!function OR(){throw new Error("invalid")}()},t.\u0275prov=j({token:t,factory:t.\u0275fac}),t})();function Ai(t,e){return{\u0275kind:t,\u0275providers:e}}function dF(){const t=V(Nn);return e=>{const n=t.get(Va);if(e!==n.components[0])return;const r=t.get(cr),i=t.get(hF);1===t.get(Ow)&&r.initialNavigation(),t.get(fF,null,H.Optional)?.setUpPreloading(),t.get(Pw,null,H.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const hF=new L("",{factory:()=>new ui}),Ow=new L("",{providedIn:"root",factory:()=>1}),fF=new L("");function JJ(t){return Ai(0,[{provide:fF,useExisting:KJ},{provide:uF,useExisting:t}])}const pF=new L("ROUTER_FORROOT_GUARD"),eZ=[Fv,{provide:Qc,useClass:pw},cr,tl,{provide:Ga,useFactory:function lF(t){return t.routerState.root},deps:[cr]},Nw,[]];function tZ(){return new Wk("Router",cr)}let Fw=(()=>{class t{constructor(n){}static forRoot(n,r){return{ngModule:t,providers:[eZ,[],{provide:Ka,multi:!0,useValue:n},{provide:pF,useFactory:sZ,deps:[[cr,new vt,new bh]]},{provide:tp,useValue:r||{}},r?.useHash?{provide:Zs,useClass:cK}:{provide:Zs,useClass:EP},{provide:Pw,useFactory:()=>{const t=V(SQ),e=V(Ce),n=V(tp),r=V(ep),i=V(Qc);return n.scrollOffset&&t.setOffset(n.scrollOffset),new cF(i,r,t,e,n)}},r?.preloadingStrategy?JJ(r.preloadingStrategy).\u0275providers:[],{provide:Wk,multi:!0,useFactory:tZ},r?.initialNavigation?oZ(r):[],r?.bindToComponentInputs?Ai(8,[jO,{provide:Qf,useExisting:jO}]).\u0275providers:[],[{provide:gF,useFactory:dF},{provide:bv,multi:!0,useExisting:gF}]]}}static forChild(n){return{ngModule:t,providers:[{provide:Ka,multi:!0,useValue:n}]}}}return t.\u0275fac=function(n){return new(n||t)($(pF,8))},t.\u0275mod=Xt({type:t}),t.\u0275inj=Vt({}),t})();function sZ(t){return"guarded"}function oZ(t){return["disabled"===t.initialNavigation?Ai(3,[{provide:mv,multi:!0,useFactory:()=>{const e=V(cr);return()=>{e.setUpLocationChangeListener()}}},{provide:Ow,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?Ai(2,[{provide:Ow,useValue:0},{provide:mv,multi:!0,deps:[Nn],useFactory:e=>{const n=e.get(aK,Promise.resolve());return()=>n.then(()=>new Promise(r=>{const i=e.get(cr),s=e.get(hF);aF(i,()=>{r(!0)}),e.get(ep).afterPreactivation=()=>(r(!0),s.closed?ee(void 0):s),i.initialNavigation()}))}}]).\u0275providers:[]]}const gF=new L(""),uZ=[];let cZ=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Xt({type:t}),t.\u0275inj=Vt({imports:[Fw.forRoot(uZ),Fw]}),t})(),lZ=(()=>{class t{constructor(){this.title="estadisticas"}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=Yo({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(n,r){1&n&&Me(0,"router-outlet")},dependencies:[Tw]}),t})();function mF(t,e,n,r,i,s,o){try{var a=t[s](o),u=a.value}catch(c){return void n(c)}a.done?e(u):Promise.resolve(u).then(r,i)}function g(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var s=t.apply(e,n);function o(u){mF(s,r,i,o,a,"next",u)}function a(u){mF(s,r,i,o,a,"throw",u)}o(void 0)})}}const yF=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},Vw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0;let h=(15&a)<<2|c>>6,f=63&c;u||(f=64,o||(h=64)),r.push(n[s>>2],n[(3&s)<<4|a>>4],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(yF(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const u=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(1023&u))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,null==s||null==a||null==c||null==d)throw new pZ;r.push(s<<2|a>>4),64!==c&&(r.push(a<<4&240|c>>2),64!==d&&r.push(c<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class pZ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const np=function(t){return function(t){const e=yF(t);return Vw.encodeByteArray(e,!0)}(t).replace(/\./g,"")},rp=function(t){try{return Vw.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null},ip=()=>{try{return function yZ(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const t=process.env.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&rp(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}},vF=t=>{var e,n;return null===(n=null===(e=ip())||void 0===e?void 0:e.emulatorHosts)||void 0===n?void 0:n[t]},wF=t=>{const e=vF(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return"["===e[0]?[e.substring(1,n-1),r]:[e.substring(0,n),r]},IF=()=>{var t;return null===(t=ip())||void 0===t?void 0:t.config},EF=t=>{var e;return null===(e=ip())||void 0===e?void 0:e[`_${t}`]};class sp{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,r))}}}function DF(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[np(JSON.stringify({alg:"none",type:"JWT"})),np(JSON.stringify(o)),""].join(".")}function At(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Uw(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function so(){try{return"object"==typeof indexedDB}catch{return!1}}function al(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(n){e(n)}})}function Bw(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Xn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,Xn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,zr.prototype.create)}}class zr{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function TZ(t,e){return t.replace(SZ,(n,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new Xn(i,`${this.serviceName}: ${o} (${i}).`,r)}}const SZ=/\{\$([^}]+)}/g;function ap(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(bF(s)&&bF(o)){if(!ap(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function bF(t){return null!==t&&"object"==typeof t}function up(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}class xZ{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(void 0===e&&void 0===n&&void 0===r)throw new Error("Missing Observer.");i=function RZ(t,e){if("object"!=typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"==typeof t[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:n,complete:r},void 0===i.next&&(i.next=$w),void 0===i.error&&(i.error=$w),void 0===i.complete&&(i.complete=$w);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function $w(){}const NZ=1e3,kZ=2,PZ=144e5,OZ=.5;function Hw(t,e=NZ,n=kZ){const r=e*Math.pow(n,t),i=Math.round(OZ*r*(Math.random()-.5)*2);return Math.min(PZ,r+i)}function Dr(t){return t&&t._delegate?t._delegate:t}class jt{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const oo="[DEFAULT]";class LZ{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new sp;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(n=e?.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function UZ(t){return"EAGER"===t.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:oo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=oo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return g(function*(){const n=Array.from(e.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=oo){return this.instances.has(e)}getOptions(e=oo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(t=e,t===oo?void 0:t),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var t;return r||null}normalizeInstanceIdentifier(e=oo){return this.component?this.component.multipleInstances?e:oo:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class BZ{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new LZ(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}const Gw=[];var Y=(()=>((Y=Y||{})[Y.DEBUG=0]="DEBUG",Y[Y.VERBOSE=1]="VERBOSE",Y[Y.INFO=2]="INFO",Y[Y.WARN=3]="WARN",Y[Y.ERROR=4]="ERROR",Y[Y.SILENT=5]="SILENT",Y))();const TF={debug:Y.DEBUG,verbose:Y.VERBOSE,info:Y.INFO,warn:Y.WARN,error:Y.ERROR,silent:Y.SILENT},$Z=Y.INFO,jZ={[Y.DEBUG]:"log",[Y.VERBOSE]:"log",[Y.INFO]:"info",[Y.WARN]:"warn",[Y.ERROR]:"error"},HZ=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=jZ[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class Qa{constructor(e){this.name=e,this._logLevel=$Z,this._logHandler=HZ,this._userLogHandler=null,Gw.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Y))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?TF[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Y.DEBUG,...e),this._logHandler(this,Y.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Y.VERBOSE,...e),this._logHandler(this,Y.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Y.INFO,...e),this._logHandler(this,Y.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Y.WARN,...e),this._logHandler(this,Y.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Y.ERROR,...e),this._logHandler(this,Y.ERROR,...e)}}const GZ=(t,e)=>e.some(n=>t instanceof n);let SF,AF;const MF=new WeakMap,zw=new WeakMap,xF=new WeakMap,qw=new WeakMap,Ww=new WeakMap;let Kw={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return zw.get(t);if("objectStoreNames"===e)return t.objectStoreNames||xF.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return as(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function XZ(t){return"function"==typeof t?function YZ(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function qZ(){return AF||(AF=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(Qw(this),e),as(MF.get(this))}:function(...e){return as(t.apply(Qw(this),e))}:function(e,...n){const r=t.call(Qw(this),e,...n);return xF.set(r,e.sort?e.sort():[e]),as(r)}}(t):(t instanceof IDBTransaction&&function KZ(t){if(zw.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});zw.set(t,e)}(t),GZ(t,function zZ(){return SF||(SF=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,Kw):t)}function as(t){if(t instanceof IDBRequest)return function WZ(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(as(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&MF.set(n,t)}).catch(()=>{}),Ww.set(e,t),e}(t);if(qw.has(t))return qw.get(t);const e=XZ(t);return e!==t&&(qw.set(t,e),Ww.set(e,t)),e}const Qw=t=>Ww.get(t),ZZ=["get","getKey","getAll","getAllKeys","count"],eee=["put","add","delete","clear"],Yw=new Map;function RF(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(Yw.get(e))return Yw.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=eee.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!ZZ.includes(n))return;const s=function(){var o=g(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[n](...u),i&&c.done]))[0]});return function(u){return o.apply(this,arguments)}}();return Yw.set(e,s),s}!function QZ(t){Kw=t(Kw)}(t=>({...t,get:(e,n,r)=>RF(e,n)||t.get(e,n,r),has:(e,n)=>!!RF(e,n)||t.has(e,n)}));class tee{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function nee(t){const e=t.getComponent();return"VERSION"===e?.type}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const Xw="@firebase/app",ao=new Qa("@firebase/app"),cp="[DEFAULT]",Aee={[Xw]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},uo=new Map,lp=new Map;function Mee(t,e){try{t.container.addComponent(e)}catch(n){ao.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function sn(t){const e=t.name;if(lp.has(e))return ao.debug(`There were multiple attempts to register component ${e}.`),!1;lp.set(e,t);for(const n of uo.values())Mee(n,t);return!0}function co(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}const Mi=new zr("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Ree{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new jt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Mi.create("app-deleted",{appName:this._name})}}const us="9.22.1";function kF(t,e={}){let n=t;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:cp,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw Mi.create("bad-app-name",{appName:String(i)});if(n||(n=IF()),!n)throw Mi.create("no-options");const s=uo.get(i);if(s){if(ap(n,s.options)&&ap(r,s.config))return s;throw Mi.create("duplicate-app",{appName:i})}const o=new BZ(i);for(const u of lp.values())o.addComponent(u);const a=new Ree(n,r,o);return uo.set(i,a),a}function dp(t=cp){const e=uo.get(t);if(!e&&t===cp&&IF())return kF();if(!e)throw Mi.create("no-app",{appName:t});return e}function PF(){return Array.from(uo.values())}function Oe(t,e,n){var r;let i=null!==(r=Aee[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void ao.warn(a.join(" "))}sn(new jt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const Nee="firebase-heartbeat-database",kee=1,ul="firebase-heartbeat-store";let Zw=null;function OF(){return Zw||(Zw=function JZ(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=as(o);return r&&o.addEventListener("upgradeneeded",u=>{r(as(o.result),u.oldVersion,u.newVersion,as(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}(Nee,kee,{upgrade:(t,e)=>{0===e&&t.createObjectStore(ul)}}).catch(t=>{throw Mi.create("idb-open",{originalErrorMessage:t.message})})),Zw}function eI(){return(eI=g(function*(t){try{return yield(yield OF()).transaction(ul).objectStore(ul).get(LF(t))}catch(e){if(e instanceof Xn)ao.warn(e.message);else{const n=Mi.create("idb-get",{originalErrorMessage:e?.message});ao.warn(n.message)}}})).apply(this,arguments)}function FF(t,e){return tI.apply(this,arguments)}function tI(){return(tI=g(function*(t,e){try{const r=(yield OF()).transaction(ul,"readwrite");yield r.objectStore(ul).put(e,LF(t)),yield r.done}catch(n){if(n instanceof Xn)ao.warn(n.message);else{const r=Mi.create("idb-set",{originalErrorMessage:n?.message});ao.warn(r.message)}}})).apply(this,arguments)}function LF(t){return`${t.name}!${t.options.appId}`}class Lee{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Uee(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return g(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=VF();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(s=>s.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return g(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const n=VF(),{heartbeatsToSend:r,unsentEntries:i}=function Vee(t,e=1024){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),UF(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),UF(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=np(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function VF(){return(new Date).toISOString().substring(0,10)}class Uee{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return g(function*(){return!!so()&&al().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return g(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function Pee(t){return eI.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var n=this;return g(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return FF(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var n=this;return g(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return FF(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function UF(t){return np(JSON.stringify({version:2,heartbeats:t})).length}!function Bee(t){sn(new jt("platform-logger",e=>new tee(e),"PRIVATE")),sn(new jt("heartbeat",e=>new Lee(e),"PRIVATE")),Oe(Xw,"0.9.11",t),Oe(Xw,"0.9.11","esm2017"),Oe("fire-js","")}(""),Oe("firebase","9.22.1","app");const Hee=(t,e)=>e.some(n=>t instanceof n);let BF,$F;const jF=new WeakMap,nI=new WeakMap,HF=new WeakMap,rI=new WeakMap,iI=new WeakMap;let sI={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return nI.get(t);if("objectStoreNames"===e)return t.objectStoreNames||HF.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return cs(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function Yee(t){return"function"==typeof t?function Qee(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function zee(){return $F||($F=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(oI(this),e),cs(jF.get(this))}:function(...e){return cs(t.apply(oI(this),e))}:function(e,...n){const r=t.call(oI(this),e,...n);return HF.set(r,e.sort?e.sort():[e]),cs(r)}}(t):(t instanceof IDBTransaction&&function Wee(t){if(nI.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});nI.set(t,e)}(t),Hee(t,function Gee(){return BF||(BF=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,sI):t)}function cs(t){if(t instanceof IDBRequest)return function qee(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(cs(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&jF.set(n,t)}).catch(()=>{}),iI.set(e,t),e}(t);if(rI.has(t))return rI.get(t);const e=Yee(t);return e!==t&&(rI.set(t,e),iI.set(e,t)),e}const oI=t=>iI.get(t),Jee=["get","getKey","getAll","getAllKeys","count"],Zee=["put","add","delete","clear"],aI=new Map;function GF(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(aI.get(e))return aI.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Zee.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Jee.includes(n))return;const s=function(){var o=g(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[n](...u),i&&c.done]))[0]});return function(u){return o.apply(this,arguments)}}();return aI.set(e,s),s}!function Kee(t){sI=t(sI)}(t=>({...t,get:(e,n,r)=>GF(e,n)||t.get(e,n,r),has:(e,n)=>!!GF(e,n)||t.has(e,n)}));const zF="@firebase/installations",uI="0.6.4",qF=1e4,WF=`w:${uI}`,KF="FIS_v2",ete="https://firebaseinstallations.googleapis.com/v1",tte=36e5,xi=new zr("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function QF(t){return t instanceof Xn&&t.code.includes("request-failed")}function cI({projectId:t}){return`${ete}/projects/${t}/installations`}function YF(t){return{token:t.token,requestStatus:2,expiresIn:ste(t.expiresIn),creationTime:Date.now()}}function lI(t,e){return dI.apply(this,arguments)}function dI(){return(dI=g(function*(t,e){const r=(yield e.json()).error;return xi.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function XF({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function hI(t){return fI.apply(this,arguments)}function fI(){return(fI=g(function*(t){const e=yield t();return e.status>=500&&e.status<600?t():e})).apply(this,arguments)}function ste(t){return Number(t.replace("s","000"))}function pI(){return(pI=g(function*({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=cI(t),i=XF(t),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({fid:n,authVersion:KF,appId:t.appId,sdkVersion:WF})},u=yield hI(()=>fetch(r,a));if(u.ok){const c=yield u.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:YF(c.authToken)}}throw yield lI("Create Installation",u)})).apply(this,arguments)}function ZF(t){return new Promise(e=>{setTimeout(e,t)})}const cte=/^[cdef][\w-]{21}$/,gI="";function lte(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=function dte(t){return function ute(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}(t).substr(0,22)}(t);return cte.test(n)?n:gI}catch{return gI}}function Ya(t){return`${t.appName}!${t.appId}`}const Xa=new Map;function eL(t,e){const n=Ya(t);tL(n,e),function pte(t,e){const n=function nL(){return!lo&&"BroadcastChannel"in self&&(lo=new BroadcastChannel("[Firebase] FID Change"),lo.onmessage=t=>{tL(t.data.key,t.data.fid)}),lo}();n&&n.postMessage({key:t,fid:e}),function rL(){0===Xa.size&&lo&&(lo.close(),lo=null)}()}(n,e)}function tL(t,e){const n=Xa.get(t);if(n)for(const r of n)r(e)}let lo=null;const gte="firebase-installations-database",mte=1,ho="firebase-installations-store";let mI=null;function yI(){return mI||(mI=function Xee(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=cs(o);return r&&o.addEventListener("upgradeneeded",u=>{r(cs(o.result),u.oldVersion,u.newVersion,cs(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}(gte,mte,{upgrade:(t,e)=>{0===e&&t.createObjectStore(ho)}})),mI}function hp(t,e){return _I.apply(this,arguments)}function _I(){return(_I=g(function*(t,e){const n=Ya(t),i=(yield yI()).transaction(ho,"readwrite"),s=i.objectStore(ho),o=yield s.get(n);return yield s.put(e,n),yield i.done,(!o||o.fid!==e.fid)&&eL(t,e.fid),e})).apply(this,arguments)}function vI(t){return wI.apply(this,arguments)}function wI(){return(wI=g(function*(t){const e=Ya(t),r=(yield yI()).transaction(ho,"readwrite");yield r.objectStore(ho).delete(e),yield r.done})).apply(this,arguments)}function cl(t,e){return II.apply(this,arguments)}function II(){return(II=g(function*(t,e){const n=Ya(t),i=(yield yI()).transaction(ho,"readwrite"),s=i.objectStore(ho),o=yield s.get(n),a=e(o);return void 0===a?yield s.delete(n):yield s.put(a,n),yield i.done,a&&(!o||o.fid!==a.fid)&&eL(t,a.fid),a})).apply(this,arguments)}function EI(t){return DI.apply(this,arguments)}function DI(){return DI=g(function*(t){let e;const n=yield cl(t.appConfig,r=>{const i=function yte(t){return sL(t||{fid:lte(),registrationStatus:0})}(r),s=function _te(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(xi.create("app-offline"))};const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function vte(t,e){return CI.apply(this,arguments)}(t,n);return{installationEntry:n,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:wte(t)}:{installationEntry:e}}(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===gI?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}}),DI.apply(this,arguments)}function CI(){return CI=g(function*(t,e){try{const n=yield function ate(t,e){return pI.apply(this,arguments)}(t,e);return hp(t.appConfig,n)}catch(n){throw QF(n)&&409===n.customData.serverCode?yield vI(t.appConfig):yield hp(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}),CI.apply(this,arguments)}function wte(t){return bI.apply(this,arguments)}function bI(){return(bI=g(function*(t){let e=yield iL(t.appConfig);for(;1===e.registrationStatus;)yield ZF(100),e=yield iL(t.appConfig);if(0===e.registrationStatus){const{installationEntry:n,registrationPromise:r}=yield EI(t);return r||n}return e})).apply(this,arguments)}function iL(t){return cl(t,e=>{if(!e)throw xi.create("installation-not-found");return sL(e)})}function sL(t){return function Ite(t){return 1===t.registrationStatus&&t.registrationTime+qF<Date.now()}(t)?{fid:t.fid,registrationStatus:0}:t}function TI(){return(TI=g(function*({appConfig:t,heartbeatServiceProvider:e},n){const r=function Dte(t,{fid:e}){return`${cI(t)}/${e}/authTokens:generate`}(t,n),i=function JF(t,{refreshToken:e}){const n=XF(t);return n.append("Authorization",function ote(t){return`${KF} ${t}`}(e)),n}(t,n),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:WF,appId:t.appId}})},u=yield hI(()=>fetch(r,a));if(u.ok)return YF(yield u.json());throw yield lI("Generate Auth Token",u)})).apply(this,arguments)}function SI(t){return AI.apply(this,arguments)}function AI(){return AI=g(function*(t,e=!1){let n;const r=yield cl(t.appConfig,s=>{if(!aL(s))throw xi.create("not-registered");const o=s.authToken;if(!e&&function Tte(t){return 2===t.requestStatus&&!function Ste(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+tte}(t)}(o))return s;if(1===o.requestStatus)return n=function Cte(t,e){return MI.apply(this,arguments)}(t,e),s;{if(!navigator.onLine)throw xi.create("app-offline");const a=function Ate(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}(s);return n=function bte(t,e){return xI.apply(this,arguments)}(t,a),a}});return n?yield n:r.authToken}),AI.apply(this,arguments)}function MI(){return(MI=g(function*(t,e){let n=yield oL(t.appConfig);for(;1===n.authToken.requestStatus;)yield ZF(100),n=yield oL(t.appConfig);const r=n.authToken;return 0===r.requestStatus?SI(t,e):r})).apply(this,arguments)}function oL(t){return cl(t,e=>{if(!aL(e))throw xi.create("not-registered");return function Mte(t){return 1===t.requestStatus&&t.requestTime+qF<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function xI(){return xI=g(function*(t,e){try{const n=yield function Ete(t,e){return TI.apply(this,arguments)}(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return yield hp(t.appConfig,r),n}catch(n){if(!QF(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield hp(t.appConfig,r)}else yield vI(t.appConfig);throw n}}),xI.apply(this,arguments)}function aL(t){return void 0!==t&&2===t.registrationStatus}function RI(){return(RI=g(function*(t){const e=t,{installationEntry:n,registrationPromise:r}=yield EI(e);return r?r.catch(console.error):SI(e).catch(console.error),n.fid})).apply(this,arguments)}function NI(){return NI=g(function*(t,e=!1){const n=t;return yield function Nte(t){return kI.apply(this,arguments)}(n),(yield SI(n,e)).token}),NI.apply(this,arguments)}function kI(){return(kI=g(function*(t){const{registrationPromise:e}=yield EI(t);e&&(yield e)})).apply(this,arguments)}function FI(t){return xi.create("missing-app-config-values",{valueName:t})}const uL="installations",Lte=t=>{const e=t.getProvider("app").getImmediate(),n=function Ote(t){if(!t||!t.options)throw FI("App Configuration");if(!t.name)throw FI("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw FI(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e);return{app:e,appConfig:n,heartbeatServiceProvider:co(e,"heartbeat"),_delete:()=>Promise.resolve()}},Vte=t=>{const n=co(t.getProvider("app").getImmediate(),uL).getImmediate();return{getId:()=>function xte(t){return RI.apply(this,arguments)}(n),getToken:i=>function Rte(t){return NI.apply(this,arguments)}(n,i)}};(function Ute(){sn(new jt(uL,Lte,"PUBLIC")),sn(new jt("installations-internal",Vte,"PRIVATE"))})(),Oe(zF,uI),Oe(zF,uI,"esm2017");const LI="@firebase/remote-config",Pn=new zr("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Yte{constructor(e,n,r,i){this.client=e,this.storage=n,this.storageCache=r,this.logger=i}isCachedDataFresh(e,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-n,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var n=this;return g(function*(){const[r,i]=yield Promise.all([n.storage.getLastSuccessfulFetchTimestampMillis(),n.storage.getLastSuccessfulFetchResponse()]);if(i&&n.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const s=yield n.client.fetch(e),o=[n.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===s.status&&o.push(n.storage.setLastSuccessfulFetchResponse(s)),yield Promise.all(o),s})()}}function Xte(t=navigator){return t.languages&&t.languages[0]||t.language}class Jte{constructor(e,n,r,i,s,o){this.firebaseInstallations=e,this.sdkVersion=n,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=o}fetch(e){var n=this;return g(function*(){const[r,i]=yield Promise.all([n.firebaseInstallations.getId(),n.firebaseInstallations.getToken()]),o=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${n.projectId}/namespaces/${n.namespace}:fetch?key=${n.apiKey}`,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},u={sdk_version:n.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:n.appId,language_code:Xte()},c={method:"POST",headers:a,body:JSON.stringify(u)},l=fetch(o,c),d=new Promise((v,_)=>{e.signal.addEventListener(()=>{const E=new Error("The operation was aborted.");E.name="AbortError",_(E)})});let h;try{yield Promise.race([l,d]),h=yield l}catch(v){let _="fetch-client-network";throw"AbortError"===v?.name&&(_="fetch-timeout"),Pn.create(_,{originalErrorMessage:v?.message})}let f=h.status;const p=h.headers.get("ETag")||void 0;let m,y;if(200===h.status){let v;try{v=yield h.json()}catch(_){throw Pn.create("fetch-client-parse",{originalErrorMessage:_?.message})}m=v.entries,y=v.state}if("INSTANCE_STATE_UNSPECIFIED"===y?f=500:"NO_CHANGE"===y?f=304:("NO_TEMPLATE"===y||"EMPTY_CONFIG"===y)&&(m={}),304!==f&&200!==f)throw Pn.create("fetch-status",{httpStatus:f});return{status:f,eTag:p,config:m}})()}}class tne{constructor(e,n){this.client=e,this.storage=n}fetch(e){var n=this;return g(function*(){const r=(yield n.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return n.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:n,backoffCount:r}){var i=this;return g(function*(){yield function Zte(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(Pn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,n);try{const s=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),s}catch(s){if(!function ene(t){if(!(t instanceof Xn&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(s))throw s;const o={throttleEndTimeMillis:Date.now()+Hw(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(o),i.attemptFetch(e,o)}})()}}class ine{constructor(e,n,r,i,s){this.app=e,this._client=n,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function pp(t,e){const n=t.target.error||void 0;return Pn.create(e,{originalErrorMessage:n&&n?.message})}const fo="app_namespace_store";class une{constructor(e,n,r,i=function ane(){return new Promise((t,e)=>{try{const n=indexedDB.open("firebase_remote_config",1);n.onerror=r=>{e(pp(r,"storage-open"))},n.onsuccess=r=>{t(r.target.result)},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(fo,{keyPath:"compositeKey"})}}catch(n){e(Pn.create("storage-open",{originalErrorMessage:n?.message}))}})}()){this.appId=e,this.appName=n,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var n=this;return g(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([fo],"readonly").objectStore(fo),u=n.createCompositeKey(e);try{const c=a.get(u);c.onerror=l=>{s(pp(l,"storage-get"))},c.onsuccess=l=>{const d=l.target.result;i(d?d.value:void 0)}}catch(c){s(Pn.create("storage-get",{originalErrorMessage:c?.message}))}})})()}set(e,n){var r=this;return g(function*(){const i=yield r.openDbPromise;return new Promise((s,o)=>{const u=i.transaction([fo],"readwrite").objectStore(fo),c=r.createCompositeKey(e);try{const l=u.put({compositeKey:c,value:n});l.onerror=d=>{o(pp(d,"storage-set"))},l.onsuccess=()=>{s()}}catch(l){o(Pn.create("storage-set",{originalErrorMessage:l?.message}))}})})()}delete(e){var n=this;return g(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([fo],"readwrite").objectStore(fo),u=n.createCompositeKey(e);try{const c=a.delete(u);c.onerror=l=>{s(pp(l,"storage-delete"))},c.onsuccess=()=>{i()}}catch(c){s(Pn.create("storage-delete",{originalErrorMessage:c?.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class cne{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return g(function*(){const n=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),s=yield n;s&&(e.lastFetchStatus=s);const o=yield r;o&&(e.lastSuccessfulFetchTimestampMillis=o);const a=yield i;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function dne(){return jI.apply(this,arguments)}function jI(){return(jI=g(function*(){if(!so())return!1;try{return yield al()}catch{return!1}})).apply(this,arguments)}!function lne(){sn(new jt("remote-config",function t(e,{instanceIdentifier:n}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Pn.create("registration-window");if(!so())throw Pn.create("indexed-db-unavailable");const{projectId:s,apiKey:o,appId:a}=r.options;if(!s)throw Pn.create("registration-project-id");if(!o)throw Pn.create("registration-api-key");if(!a)throw Pn.create("registration-app-id");const u=new une(a,r.name,n=n||"firebase"),c=new cne(u),l=new Qa(LI);l.logLevel=Y.ERROR;const d=new Jte(i,us,n,s,o,a),h=new tne(d,u),f=new Yte(h,u,c,l),p=new ine(r,f,c,u,l);return function Wte(t){const e=Dr(t);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(p),p},"PUBLIC").setMultipleInstances(!0)),Oe(LI,"0.4.4"),Oe(LI,"0.4.4","esm2017")}();const hne=(t,e)=>e.some(n=>t instanceof n);let hL,fL;const pL=new WeakMap,HI=new WeakMap,gL=new WeakMap,GI=new WeakMap,zI=new WeakMap;let qI={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return HI.get(t);if("objectStoreNames"===e)return t.objectStoreNames||gL.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ri(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function vne(t){return"function"==typeof t?function _ne(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function pne(){return fL||(fL=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(WI(this),e),Ri(pL.get(this))}:function(...e){return Ri(t.apply(WI(this),e))}:function(e,...n){const r=t.call(WI(this),e,...n);return gL.set(r,e.sort?e.sort():[e]),Ri(r)}}(t):(t instanceof IDBTransaction&&function mne(t){if(HI.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});HI.set(t,e)}(t),hne(t,function fne(){return hL||(hL=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,qI):t)}function Ri(t){if(t instanceof IDBRequest)return function gne(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Ri(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&pL.set(n,t)}).catch(()=>{}),zI.set(e,t),e}(t);if(GI.has(t))return GI.get(t);const e=vne(t);return e!==t&&(GI.set(t,e),zI.set(e,t)),e}const WI=t=>zI.get(t);function mL(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Ri(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Ri(o.result),u.oldVersion,u.newVersion,Ri(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}function KI(t,{blocked:e}={}){const n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",()=>e()),Ri(n).then(()=>{})}const wne=["get","getKey","getAll","getAllKeys","count"],Ine=["put","add","delete","clear"],QI=new Map;function yL(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(QI.get(e))return QI.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Ine.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!wne.includes(n))return;const s=function(){var o=g(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[n](...u),i&&c.done]))[0]});return function(u){return o.apply(this,arguments)}}();return QI.set(e,s),s}!function yne(t){qI=t(qI)}(t=>({...t,get:(e,n,r)=>yL(e,n)||t.get(e,n,r),has:(e,n)=>!!yL(e,n)||t.has(e,n)}));const Ene="/firebase-messaging-sw.js",Dne="/firebase-cloud-messaging-push-scope",_L="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Cne="https://fcmregistrations.googleapis.com/v1",vL="google.c.a.c_id",bne="google.c.a.c_l",Tne="google.c.a.ts";var ls=(()=>((ls=ls||{}).PUSH_RECEIVED="push-received",ls.NOTIFICATION_CLICKED="notification-clicked",ls))();function Ni(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Ane(t){const n=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}const YI="fcm_token_details_db",Mne=5,wL="fcm_token_object_Store";function XI(){return XI=g(function*(t){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(s=>s.name).includes(YI))return null;let e=null;return(yield mL(YI,Mne,{upgrade:(r=g(function*(i,s,o,a){var u;if(s<2||!i.objectStoreNames.contains(wL))return;const c=a.objectStore(wL),l=yield c.index("fcmSenderId").get(t);if(yield c.clear(),l)if(2===s){const d=l;if(!d.auth||!d.p256dh||!d.endpoint)return;e={token:d.fcmToken,createTime:null!==(u=d.createTime)&&void 0!==u?u:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:"string"==typeof d.vapidKey?d.vapidKey:Ni(d.vapidKey)}}}else if(3===s){const d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Ni(d.auth),p256dh:Ni(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Ni(d.vapidKey)}}}else if(4===s){const d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Ni(d.auth),p256dh:Ni(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Ni(d.vapidKey)}}}}),function(s,o,a,u){return r.apply(this,arguments)})})).close(),yield KI(YI),yield KI("fcm_vapid_details_db"),yield KI("undefined"),function Rne(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return"number"==typeof t.createTime&&t.createTime>0&&"string"==typeof t.token&&t.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}(e)?e:null;var r}),XI.apply(this,arguments)}const Nne="firebase-messaging-database",kne=1,po="firebase-messaging-store";let JI=null;function ZI(){return JI||(JI=mL(Nne,kne,{upgrade:(t,e)=>{0===e&&t.createObjectStore(po)}})),JI}function IL(t){return eE.apply(this,arguments)}function eE(){return eE=g(function*(t){const e=iE(t),r=yield(yield ZI()).transaction(po).objectStore(po).get(e);if(r)return r;{const i=yield function xne(t){return XI.apply(this,arguments)}(t.appConfig.senderId);if(i)return yield tE(t,i),i}}),eE.apply(this,arguments)}function tE(t,e){return nE.apply(this,arguments)}function nE(){return(nE=g(function*(t,e){const n=iE(t),i=(yield ZI()).transaction(po,"readwrite");return yield i.objectStore(po).put(e,n),yield i.done,e})).apply(this,arguments)}function rE(){return(rE=g(function*(t){const e=iE(t),r=(yield ZI()).transaction(po,"readwrite");yield r.objectStore(po).delete(e),yield r.done})).apply(this,arguments)}function iE({appConfig:t}){return t.appId}const Ht=new zr("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Fne(t,e){return sE.apply(this,arguments)}function sE(){return(sE=g(function*(t,e){const n=yield cE(t),r=DL(e),i={method:"POST",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(uE(t.appConfig),i)).json()}catch(o){throw Ht.create("token-subscribe-failed",{errorInfo:o?.toString()})}if(s.error)throw Ht.create("token-subscribe-failed",{errorInfo:s.error.message});if(!s.token)throw Ht.create("token-subscribe-no-token");return s.token})).apply(this,arguments)}function oE(){return(oE=g(function*(t,e){const n=yield cE(t),r=DL(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(`${uE(t.appConfig)}/${e.token}`,i)).json()}catch(o){throw Ht.create("token-update-failed",{errorInfo:o?.toString()})}if(s.error)throw Ht.create("token-update-failed",{errorInfo:s.error.message});if(!s.token)throw Ht.create("token-update-no-token");return s.token})).apply(this,arguments)}function EL(t,e){return aE.apply(this,arguments)}function aE(){return(aE=g(function*(t,e){const r={method:"DELETE",headers:yield cE(t)};try{const s=yield(yield fetch(`${uE(t.appConfig)}/${e}`,r)).json();if(s.error)throw Ht.create("token-unsubscribe-failed",{errorInfo:s.error.message})}catch(i){throw Ht.create("token-unsubscribe-failed",{errorInfo:i?.toString()})}})).apply(this,arguments)}function uE({projectId:t}){return`${Cne}/projects/${t}/registrations`}function cE(t){return lE.apply(this,arguments)}function lE(){return(lE=g(function*({appConfig:t,installations:e}){const n=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})})).apply(this,arguments)}function DL({p256dh:t,auth:e,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:e,p256dh:t}};return r!==_L&&(i.web.applicationPubKey=r),i}const Vne=6048e5;function dE(){return dE=g(function*(t){const e=yield function $ne(t,e){return gE.apply(this,arguments)}(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:Ni(e.getKey("auth")),p256dh:Ni(e.getKey("p256dh"))},r=yield IL(t.firebaseDependencies);if(r){if(function jne(t,e){return e.vapidKey===t.vapidKey&&e.endpoint===t.endpoint&&e.auth===t.auth&&e.p256dh===t.p256dh}(r.subscriptionOptions,n))return Date.now()>=r.createTime+Vne?function Bne(t,e){return fE.apply(this,arguments)}(t,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{yield EL(t.firebaseDependencies,r.token)}catch(i){console.warn(i)}return bL(t.firebaseDependencies,n)}return bL(t.firebaseDependencies,n)}),dE.apply(this,arguments)}function hE(){return hE=g(function*(t){const e=yield IL(t.firebaseDependencies);e&&(yield EL(t.firebaseDependencies,e.token),yield function Pne(t){return rE.apply(this,arguments)}(t.firebaseDependencies));const n=yield t.swRegistration.pushManager.getSubscription();return!n||n.unsubscribe()}),hE.apply(this,arguments)}function fE(){return fE=g(function*(t,e){try{const n=yield function Lne(t,e){return oE.apply(this,arguments)}(t.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return yield tE(t.firebaseDependencies,r),n}catch(n){throw yield function CL(t){return hE.apply(this,arguments)}(t),n}}),fE.apply(this,arguments)}function bL(t,e){return pE.apply(this,arguments)}function pE(){return(pE=g(function*(t,e){const r={token:yield Fne(t,e),createTime:Date.now(),subscriptionOptions:e};return yield tE(t,r),r.token})).apply(this,arguments)}function gE(){return(gE=g(function*(t,e){return(yield t.pushManager.getSubscription())||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Ane(e)})})).apply(this,arguments)}function TL(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return function Hne(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const r=e.notification.body;r&&(t.notification.body=r);const i=e.notification.image;i&&(t.notification.image=i);const s=e.notification.icon;s&&(t.notification.icon=s)}(e,t),function Gne(t,e){e.data&&(t.data=e.data)}(e,t),function zne(t,e){var n,r,i,s,o;if(!(e.fcmOptions||null!==(n=e.notification)&&void 0!==n&&n.click_action))return;t.fcmOptions={};const a=null!==(i=null===(r=e.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(s=e.notification)||void 0===s?void 0:s.click_action;a&&(t.fcmOptions.link=a);const u=null===(o=e.fcmOptions)||void 0===o?void 0:o.analytics_label;u&&(t.fcmOptions.analyticsLabel=u)}(e,t),e}function SL(t,e){const n=[];for(let r=0;r<t.length;r++)n.push(t.charAt(r)),r<e.length&&n.push(e.charAt(r));return n.join("")}function mE(t){return Ht.create("missing-app-config-values",{valueName:t})}SL("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),SL("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Kne{constructor(e,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function Wne(t){if(!t||!t.options)throw mE("App Configuration Object");if(!t.name)throw mE("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const r of e)if(!n[r])throw mE(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}function yE(){return(yE=g(function*(t){try{t.swRegistration=yield navigator.serviceWorker.register(Ene,{scope:Dne}),t.swRegistration.update().catch(()=>{})}catch(e){throw Ht.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}})).apply(this,arguments)}function _E(){return(_E=g(function*(t,e){if(!e&&!t.swRegistration&&(yield function AL(t){return yE.apply(this,arguments)}(t)),e||!t.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw Ht.create("invalid-sw-registration");t.swRegistration=e}})).apply(this,arguments)}function vE(){return(vE=g(function*(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=_L)})).apply(this,arguments)}function wE(){return wE=g(function*(t,e){if(!navigator)throw Ht.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Ht.create("permission-blocked");return yield function Yne(t,e){return vE.apply(this,arguments)}(t,e?.vapidKey),yield function Qne(t,e){return _E.apply(this,arguments)}(t,e?.serviceWorkerRegistration),function Une(t){return dE.apply(this,arguments)}(t)}),wE.apply(this,arguments)}function IE(){return(IE=g(function*(t,e,n){const r=function Jne(t){switch(t){case ls.NOTIFICATION_CLICKED:return"notification_open";case ls.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(e);(yield t.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[vL],message_name:n[bne],message_time:n[Tne],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function EE(){return EE=g(function*(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===ls.PUSH_RECEIVED&&("function"==typeof t.onMessageHandler?t.onMessageHandler(TL(n)):t.onMessageHandler.next(TL(n)));const r=n.data;(function qne(t){return"object"==typeof t&&!!t&&vL in t})(r)&&"1"===r["google.c.a.e"]&&(yield function Xne(t,e,n){return IE.apply(this,arguments)}(t,n.messageType,r))}),EE.apply(this,arguments)}const xL="@firebase/messaging",ere=t=>{const e=new Kne(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>function Zne(t,e){return EE.apply(this,arguments)}(e,n)),e},tre=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:r=>function ML(t,e){return wE.apply(this,arguments)}(e,r)}};function NL(){return DE.apply(this,arguments)}function DE(){return(DE=g(function*(){try{yield al()}catch{return!1}return typeof window<"u"&&so()&&Bw()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function nre(){sn(new jt("messaging",ere,"PUBLIC")),sn(new jt("messaging-internal",tre,"PRIVATE")),Oe(xL,"0.12.4"),Oe(xL,"0.12.4","esm2017")}();const gp="analytics",sre="firebase_id",ore="origin",are=6e4,ure="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",TE="https://www.googletagmanager.com/gtag/js",Mt=new Qa("@firebase/analytics"),yn=new zr("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function lre(t){if(!t.startsWith(TE)){const e=yn.create("invalid-gtag-resource",{gtagURL:t});return Mt.warn(e.message),""}return t}function kL(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function SE(){return(SE=g(function*(t,e,n,r,i,s){const o=r[i];try{if(o)yield e[o];else{const u=(yield kL(n)).find(c=>c.measurementId===i);u&&(yield e[u.appId])}}catch(a){Mt.error(a)}t("config",i,s)})).apply(this,arguments)}function AE(){return(AE=g(function*(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=yield kL(n);for(const u of o){const c=a.find(d=>d.measurementId===u),l=c&&e[c.appId];if(!l){s=[];break}s.push(l)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),t("event",r,i||{})}catch(s){Mt.error(s)}})).apply(this,arguments)}const vre=30,PL=new class Ire{constructor(e={},n=1e3){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function Ere(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function ME(){return(ME=g(function*(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:Ere(r)},s=ure.replace("{app-id}",n),o=yield fetch(s,i);if(200!==o.status&&304!==o.status){let a="";try{const u=yield o.json();null!==(e=u.error)&&void 0!==e&&e.message&&(a=u.error.message)}catch{}throw yn.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()})).apply(this,arguments)}function xE(){return(xE=g(function*(t,e=PL,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw yn.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw yn.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new Sre;return setTimeout(g(function*(){a.abort()}),void 0!==n?n:are),OL({appId:r,apiKey:i,measurementId:s},o,a,e)})).apply(this,arguments)}function OL(t,e,n){return RE.apply(this,arguments)}function RE(){return RE=g(function*(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=PL){var s;const{appId:o,measurementId:a}=t;try{yield function bre(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(yn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(r,e)}catch(u){if(a)return Mt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u?.message}]`),{appId:o,measurementId:a};throw u}try{const u=yield function Dre(t){return ME.apply(this,arguments)}(t);return i.deleteThrottleMetadata(o),u}catch(u){const c=u;if(!function Tre(t){if(!(t instanceof Xn&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(c)){if(i.deleteThrottleMetadata(o),a)return Mt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c?.message}]`),{appId:o,measurementId:a};throw u}const l=503===Number(null===(s=c?.customData)||void 0===s?void 0:s.httpStatus)?Hw(n,i.intervalMillis,vre):Hw(n,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+l,backoffCount:n+1};return i.setThrottleMetadata(o,d),Mt.debug(`Calling attemptFetch again in ${l} millis`),OL(t,d,r,i)}}),RE.apply(this,arguments)}class Sre{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let NE,UE;function kE(){return(kE=g(function*(t,e,n,r,i){if(i&&i.global)t("event",n,r);else{const s=yield e;t("event",n,Object.assign(Object.assign({},r),{send_to:s}))}})).apply(this,arguments)}function BE(){return(BE=g(function*(){if(!so())return Mt.warn(yn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield al()}catch(t){return Mt.warn(yn.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}return!0})).apply(this,arguments)}function $E(){return $E=g(function*(t,e,n,r,i,s,o){var a;const u=function Cre(t){return xE.apply(this,arguments)}(t);u.then(f=>{n[f.measurementId]=f.appId,t.options.measurementId&&f.measurementId!==t.options.measurementId&&Mt.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>Mt.error(f)),e.push(u);const c=function Pre(){return BE.apply(this,arguments)}().then(f=>{if(f)return r.getId()}),[l,d]=yield Promise.all([u,c]);(function _re(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(TE)&&n.src.includes(t))return n;return null})(s)||function hre(t,e){const n=function dre(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}("firebase-js-sdk-policy",{createScriptURL:lre}),r=document.createElement("script"),i=`${TE}?l=${t}&id=${e}`;r.src=n?n?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}(s,l.measurementId),UE&&(i("consent","default",UE),function FL(t){UE=t}(void 0)),i("js",new Date);const h=null!==(a=o?.config)&&void 0!==a?a:{};return h[ore]="firebase",h.update=!0,null!=d&&(h[sre]=d),i("config",l.measurementId,h),NE&&(i("set",NE),function LL(t){NE=t}(void 0)),l.measurementId}),$E.apply(this,arguments)}class Fre{constructor(e){this.app=e}_delete(){return delete qr[this.app.options.appId],Promise.resolve()}}let qr={},VL=[];const UL={};let $L,Wr,mp="dataLayer",jE=!1;function Vre(t,e,n){!function Lre(){const t=[];if(Uw()&&t.push("This is a browser extension environment."),Bw()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=yn.create("invalid-analytics-context",{errorInfo:e});Mt.warn(n.message)}}();const r=t.options.appId;if(!r)throw yn.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw yn.create("no-api-key");Mt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=qr[r])throw yn.create("already-exists",{id:r});if(!jE){!function fre(t){let e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(mp);const{wrappedGtag:s,gtagCore:o}=function yre(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=function mre(t,e,n,r){function s(){return s=g(function*(o,...a){try{if("event"===o){const[u,c]=a;yield function gre(t,e,n,r,i){return AE.apply(this,arguments)}(t,e,n,u,c)}else if("config"===o){const[u,c]=a;yield function pre(t,e,n,r,i,s){return SE.apply(this,arguments)}(t,e,n,r,u,c)}else if("consent"===o){const[u]=a;t("consent","update",u)}else if("get"===o){const[u,c,l]=a;t("get",u,c,l)}else if("set"===o){const[u]=a;t("set",u)}else t(o,...a)}catch(u){Mt.error(u)}}),s.apply(this,arguments)}return function i(o){return s.apply(this,arguments)}}(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}(qr,VL,UL,mp,"gtag");Wr=s,$L=o,jE=!0}return qr[r]=function Ore(t,e,n,r,i,s,o){return $E.apply(this,arguments)}(t,VL,UL,e,$L,mp,n),new Fre(t)}function Bre(){return HE.apply(this,arguments)}function HE(){return(HE=g(function*(){if(Uw()||!Bw()||!so())return!1;try{return yield al()}catch{return!1}})).apply(this,arguments)}const jL="@firebase/analytics";!function jre(){sn(new jt(gp,(e,{options:n})=>Vre(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n),"PUBLIC")),sn(new jt("analytics-internal",function t(e){try{const n=e.getProvider(gp).getImmediate();return{logEvent:(r,i,s)=>function $re(t,e,n,r){t=Dr(t),function Are(t,e,n,r,i){return kE.apply(this,arguments)}(Wr,qr[t.app.options.appId],e,n,r).catch(i=>Mt.error(i))}(n,r,i,s)}}catch(n){throw yn.create("interop-component-reg-failed",{reason:n})}},"PRIVATE")),Oe(jL,"0.10.0"),Oe(jL,"0.10.0","esm2017")}();class Hre extends $n{constructor(e,n){super()}schedule(e,n=0){return this}}const yp={setInterval(t,e,...n){const{delegate:r}=yp;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=yp;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};class GL extends Hre{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return yp.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&yp.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Wo(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}const zL={now:()=>(zL.delegate||Date).now(),delegate:void 0};class ll{constructor(e,n=ll.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}ll.now=zL.now;class qL extends ll{constructor(e,n=ll.now){super(e,n),this.actions=[],this._active=!1}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}const qre=new class zre extends qL{}(class Gre extends GL{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}}),Wre=new qL(GL),dl=new va("7.6.1"),zE="__angularfire_symbol__analyticsIsSupportedValue",qE="__angularfire_symbol__analyticsIsSupported",WE="__angularfire_symbol__remoteConfigIsSupportedValue",KE="__angularfire_symbol__remoteConfigIsSupported",QE="__angularfire_symbol__messagingIsSupportedValue",YE="__angularfire_symbol__messagingIsSupported";function _p(t,e,n){if(e){if(1===e.length)return e[0];const s=e.filter(o=>o.app===n);if(1===s.length)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}globalThis[qE]||(globalThis[qE]=Bre().then(t=>globalThis[zE]=t).catch(()=>globalThis[zE]=!1)),globalThis[YE]||(globalThis[YE]=NL().then(t=>globalThis[QE]=t).catch(()=>globalThis[QE]=!1)),globalThis[KE]||(globalThis[KE]=dne().then(t=>globalThis[WE]=t).catch(()=>globalThis[WE]=!1));const vp=(t,e)=>{const n=e?[e]:PF(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r};function Ja(){}class WL{constructor(e,n=qre){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},n,r)}}class Kre{constructor(e){this.zone=e,this.task=null}call(e,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ja,{},Ja,Ja)),n.pipe(rn({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let wp=(()=>{class t{constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new WL(Zone.current)),this.insideAngular=n.run(()=>new WL(Zone.current,Wre)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return t.\u0275fac=function(n){return new(n||t)($(Ce))},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function go(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}function mo(t){return go().ngZone.run(()=>t())}function Yre(t){return go(),function Xre(t){return function(n){return(n=n.lift(new Kre(t.ngZone))).pipe(Qd(t.outsideAngular),Kd(t.insideAngular))}}(go())(t)}const Jre=(t,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),mo(()=>t.apply(void 0,r))},Za=(t,e)=>function(){let n;const r=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof r[s]&&(e&&(n||(n=mo(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ja,{},Ja,Ja)))),r[s]=Jre(r[s],n));const i=function Qre(t){return go().ngZone.runOutsideAngular(()=>t())}(()=>t.apply(this,r));if(!e){if(i instanceof He){const s=go();return i.pipe(Qd(s.outsideAngular),Kd(s.insideAngular))}return mo(()=>i)}return i instanceof He?i.pipe(Yre):i instanceof Promise?mo(()=>new Promise((s,o)=>i.then(a=>mo(()=>s(a)),a=>mo(()=>o(a))))):"function"==typeof i&&n?function(){return setTimeout(()=>{n&&"scheduled"===n.state&&n.invoke()},10),i.apply(this,arguments)}:mo(()=>i)};class yo{constructor(e){return e}}class Ip{constructor(){return PF()}}const JE=new L("angularfire2._apps"),eie={provide:yo,useFactory:function Zre(t){return t&&1===t.length?t[0]:new yo(dp())},deps:[[new vt,JE]]},tie={provide:Ip,deps:[[new vt,JE]]};function nie(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new yo(r)}}let rie=(()=>{class t{constructor(n){Oe("angularfire",dl.full,"core"),Oe("angularfire",dl.full,"app"),Oe("angular",yR.full,n.toString())}}return t.\u0275fac=function(n){return new(n||t)($(es))},t.\u0275mod=Xt({type:t}),t.\u0275inj=Vt({providers:[eie,tie]}),t})();function iie(t,...e){return{ngModule:rie,providers:[{provide:JE,useFactory:nie(t),multi:!0,deps:[Ce,Nn,wp,...e]}]}}const sie=Za(kF,!0),ZE=new Map,KL={activated:!1,tokenObservers:[]},oie={initialized:!1,enabled:!1};function Ze(t){return ZE.get(t)||Object.assign({},KL)}function Ep(){return oie}const eD="https://content-firebaseappcheck.googleapis.com/v1",lie="exchangeDebugToken",QL={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class hie{constructor(e,n,r,i,s){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var n=this;return g(function*(){n.stop();try{n.pending=new sp,yield function fie(t){return new Promise(e=>{setTimeout(e,t)})}(n.getNextRun(e)),n.pending.resolve(),yield n.pending.promise,n.pending=new sp,yield n.operation(),n.pending.resolve(),yield n.pending.promise,n.process(!0).catch(()=>{})}catch(r){n.retryPolicy(r)?n.process(!1).catch(()=>{}):n.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}const Gt=new zr("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function tD(t){if(!Ze(t).activated)throw Gt.create("use-before-activation",{appName:t.name})}function bp(t,e){return rD.apply(this,arguments)}function rD(){return(rD=g(function*({url:t,body:e},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){const d=yield i.getHeartbeatsHeader();d&&(r["X-Firebase-Client"]=d)}const s={method:"POST",body:JSON.stringify(e),headers:r};let o,a;try{o=yield fetch(t,s)}catch(d){throw Gt.create("fetch-network-error",{originalErrorMessage:d?.message})}if(200!==o.status)throw Gt.create("fetch-status-error",{httpStatus:o.status});try{a=yield o.json()}catch(d){throw Gt.create("fetch-parse-error",{originalErrorMessage:d?.message})}const u=a.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw Gt.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const c=1e3*Number(u[1]),l=Date.now();return{token:a.token,expireTimeMillis:l+c,issuedAtTimeMillis:l}})).apply(this,arguments)}function YL(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${eD}/projects/${n}/apps/${r}:${lie}?key=${i}`,body:{debug_token:e}}}const yie="firebase-app-check-database",_ie=1,hl="firebase-app-check-store";let Tp=null;function iD(){return(iD=g(function*(t,e){const r=(yield function JL(){return Tp||(Tp=new Promise((t,e)=>{try{const n=indexedDB.open(yie,_ie);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(Gt.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(hl,{keyPath:"compositeKey"})}}catch(n){e(Gt.create("storage-open",{originalErrorMessage:n?.message}))}}),Tp)}()).transaction(hl,"readwrite"),s=r.objectStore(hl).put({compositeKey:t,value:e});return new Promise((o,a)=>{s.onsuccess=u=>{o()},r.onerror=u=>{var c;a(Gt.create("storage-set",{originalErrorMessage:null===(c=u.target.error)||void 0===c?void 0:c.message}))}})})).apply(this,arguments)}const fl=new Qa("@firebase/app-check");function aD(t,e){return so()?function wie(t,e){return function ZL(t,e){return iD.apply(this,arguments)}(function tV(t){return`${t.options.appId}-${t.name}`}(t),e)}(t,e).catch(n=>{fl.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function cD(){return Ep().enabled}function lD(){return dD.apply(this,arguments)}function dD(){return(dD=g(function*(){const t=Ep();if(t.enabled&&t.token)return t.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Tie={error:"UNKNOWN_ERROR"};function Sie(t){return Vw.encodeString(JSON.stringify(t),!1)}function Sp(t){return hD.apply(this,arguments)}function hD(){return(hD=g(function*(t,e=!1){const n=t.app;tD(n);const r=Ze(n);let s,i=r.token;if(i&&!eu(i)&&(r.token=void 0,i=void 0),!i){const u=yield r.cachedTokenPromise;u&&(eu(u)?i=u:yield aD(n,void 0))}if(!e&&i&&eu(i))return{token:i.token};let a,o=!1;if(cD()){r.exchangeTokenPromise||(r.exchangeTokenPromise=bp(YL(n,yield lD()),t.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),o=!0);const u=yield r.exchangeTokenPromise;return yield aD(n,u),r.token=u,{token:u.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),o=!0),i=yield Ze(n).exchangeTokenPromise}catch(u){"appCheck/throttled"===u.code?fl.warn(u.message):fl.error(u),s=u}return i?s?a=eu(i)?{token:i.token,internalError:s}:sV(s):(a={token:i.token},r.token=i,yield aD(n,i)):a=sV(s),o&&function iV(t,e){const n=Ze(t).tokenObservers;for(const r of n)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(n,a),a})).apply(this,arguments)}function nV(t){return fD.apply(this,arguments)}function fD(){return(fD=g(function*(t){const e=t.app;tD(e);const{provider:n}=Ze(e);if(cD()){const r=yield lD(),{token:i}=yield bp(YL(e,r),t.heartbeatServiceProvider);return{token:i}}{const{token:r}=yield n.getToken();return{token:r}}})).apply(this,arguments)}function gD(t,e){const n=Ze(t),r=n.tokenObservers.filter(i=>i.next!==e);0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function rV(t){const{app:e}=t,n=Ze(e);let r=n.tokenRefresher;r||(r=function Aie(t){const{app:e}=t;return new hie(g(function*(){let r;if(r=Ze(e).token?yield Sp(t,!0):yield Sp(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const n=Ze(e);if(n.token){let r=n.token.issuedAtTimeMillis+.5*(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,n.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},QL.RETRIAL_MIN_WAIT,QL.RETRIAL_MAX_WAIT)}(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function eu(t){return t.expireTimeMillis-Date.now()>0}function sV(t){return{token:Sie(Tie),error:t}}class Mie{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=Ze(this.app);for(const n of e)gD(this.app,n.next);return Promise.resolve()}}const fV="app-check-internal";!function Hie(){sn(new jt("app-check",t=>function xie(t,e){return new Mie(t,e)}(t.getProvider("app").getImmediate(),t.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(fV).initialize()})),sn(new jt(fV,t=>function Rie(t){return{getToken:e=>Sp(t,e),getLimitedUseToken:()=>nV(t),addTokenListener:e=>function pD(t,e,n,r){const{app:i}=t,s=Ze(i);if(s.tokenObservers=[...s.tokenObservers,{next:n,error:r,type:e}],s.token&&eu(s.token)){const a=s.token;Promise.resolve().then(()=>{n({token:a.token}),rV(t)}).catch(()=>{})}s.cachedTokenPromise.then(()=>rV(t))}(t,"INTERNAL",e),removeTokenListener:e=>gD(t.app,e)}}(t.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),Oe("@firebase/app-check","0.8.0")}();class Mp{constructor(){return vp("app-check")}}typeof window<"u"&&window;const Kie=function gV(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},mV=new zr("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),xp=new Qa("@firebase/auth");function Rp(t,...e){xp.logLevel<=Y.ERROR&&xp.error(`Auth (${us}): ${t}`,...e)}function On(t,...e){throw wD(t,...e)}function Kr(t,...e){return wD(t,...e)}function wD(t,...e){if("string"!=typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return mV.create(t,...e)}function M(t,e,...n){if(!t)throw wD(e,...n)}function Qr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Rp(e),new Error(e)}function ds(t,e){t||Qr(e)}function pl(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.href)||""}function _V(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}class gl{constructor(e,n){this.shortDelay=e,this.longDelay=n,ds(n>e,"Short delay should be less than long delay!"),this.isMobile=function IZ(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(At())}()||function DZ(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return function Yie(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function ID(){return"http:"===_V()||"https:"===_V()}()||Uw()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ED(t,e){ds(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class vV{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Qr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Qr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Qr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Jie={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Zie=new gl(3e4,6e4);function We(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function et(t,e,n,r){return DD.apply(this,arguments)}function DD(){return(DD=g(function*(t,e,n,r,i={}){return wV(t,i,g(function*(){let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=up(Object.assign({key:t.config.apiKey},o)).slice(1),u=yield t._getAdditionalHeaders();return u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),vV.fetch()(IV(t,t.config.apiHost,n,a),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function wV(t,e,n){return CD.apply(this,arguments)}function CD(){return(CD=g(function*(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},Jie),e);try{const i=new ese(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw ml(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[u,c]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===u)throw ml(t,"credential-already-in-use",o);if("EMAIL_EXISTS"===u)throw ml(t,"email-already-in-use",o);if("USER_DISABLED"===u)throw ml(t,"user-disabled",o);const l=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw function yV(t,e,n){const r=Object.assign(Object.assign({},Kie()),{[e]:n});return new zr("auth","Firebase",r).create(e,{appName:t.name})}(t,l,c);On(t,l)}}catch(i){if(i instanceof Xn)throw i;On(t,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function bD(){return(bD=g(function*(t,e,n,r,i={}){const s=yield et(t,e,n,r,i);return"mfaPendingCredential"in s&&On(t,"multi-factor-auth-required",{_serverResponse:s}),s})).apply(this,arguments)}function IV(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?ED(t.config,i):`${t.config.apiScheme}://${i}`}class ese{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Kr(this.auth,"network-request-failed")),Zie.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ml(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Kr(t,e,r);return i.customData._tokenResponse=n,i}function TD(){return(TD=g(function*(t,e){return et(t,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function AD(){return(AD=g(function*(t,e){return et(t,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function yl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function MD(){return(MD=g(function*(t,e=!1){const n=Dr(t),r=yield n.getIdToken(e),i=Np(r);M(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:yl(xD(i.auth_time)),issuedAtTime:yl(xD(i.iat)),expirationTime:yl(xD(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})).apply(this,arguments)}function xD(t){return 1e3*Number(t)}function Np(t){const[e,n,r]=t.split(".");if(void 0===e||void 0===n||void 0===r)return Rp("JWT malformed, contained fewer than 3 sections"),null;try{const i=rp(n);return i?JSON.parse(i):(Rp("Failed to decode base64 JWT payload"),null)}catch(i){return Rp("Caught error parsing JWT payload as JSON",i?.toString()),null}}function Pi(t,e){return RD.apply(this,arguments)}function RD(){return(RD=g(function*(t,e,n=!1){if(n)return e;try{return yield e}catch(r){throw r instanceof Xn&&function ose({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})).apply(this,arguments)}class ase{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var n=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(g(function*(){yield n.iteration()}),r)}iteration(){var e=this;return g(function*(){try{yield e.user.getIdToken(!0)}catch(n){return void("auth/network-request-failed"===n?.code&&e.schedule(!0))}e.schedule()})()}}class EV{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=yl(this.lastLoginAt),this.creationTime=yl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function _l(t){return ND.apply(this,arguments)}function ND(){return ND=g(function*(t){var e;const n=t.auth,r=yield t.getIdToken(),i=yield Pi(t,function rse(t,e){return AD.apply(this,arguments)}(n,{idToken:r}));M(i?.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=null!==(e=s.providerUserInfo)&&void 0!==e&&e.length?function lse(t){return t.map(e=>{var{providerId:n}=e,r=$m(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(s.providerUserInfo):[],a=function cse(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(t.providerData,o),l=!!t.isAnonymous&&!(t.email&&s.passwordHash||a?.length),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new EV(s.createdAt,s.lastLoginAt),isAnonymous:l};Object.assign(t,d)}),ND.apply(this,arguments)}function kD(){return(kD=g(function*(t){const e=Dr(t);yield _l(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function PD(){return(PD=g(function*(t,e){const n=yield wV(t,{},g(function*(){const r=up({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=IV(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",vV.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}class vl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){M(e.idToken,"internal-error"),M(typeof e.idToken<"u","internal-error"),M(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function sse(t){const e=Np(t);return M(e,"internal-error"),M(typeof e.exp<"u","internal-error"),M(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){var r=this;return g(function*(){return M(!r.accessToken||r.refreshToken,e,"user-token-expired"),n||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,n){var r=this;return g(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function dse(t,e){return PD.apply(this,arguments)}(e,n);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new vl;return r&&(M("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(M("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(M("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new vl,this.toJSON())}_performRefresh(){return Qr("not implemented")}}function hs(t,e){M("string"==typeof t||typeof t>"u","internal-error",{appName:e})}class _o{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=$m(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ase(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new EV(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var n=this;return g(function*(){const r=yield Pi(n,n.stsTokenManager.getToken(n.auth,e));return M(r,n.auth,"internal-error"),n.accessToken!==r&&(n.accessToken=r,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),r})()}getIdTokenResult(e){return function ise(t){return MD.apply(this,arguments)}(this,e)}reload(){return function use(t){return kD.apply(this,arguments)}(this)}_assign(e){this!==e&&(M(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new _o(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){M(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){var r=this;return g(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield _l(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return g(function*(){const n=yield e.getIdToken();return yield Pi(e,function tse(t,e){return TD.apply(this,arguments)}(e.auth,{idToken:n})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,u,c,l;const d=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,f=null!==(s=n.phoneNumber)&&void 0!==s?s:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,m=null!==(a=n.tenantId)&&void 0!==a?a:void 0,y=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,v=null!==(c=n.createdAt)&&void 0!==c?c:void 0,_=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,{uid:E,emailVerified:A,isAnonymous:O,providerData:K,stsTokenManager:je}=n;M(E&&je,e,"internal-error");const Dn=vl.fromJSON(this.name,je);M("string"==typeof E,e,"internal-error"),hs(d,e.name),hs(h,e.name),M("boolean"==typeof A,e,"internal-error"),M("boolean"==typeof O,e,"internal-error"),hs(f,e.name),hs(p,e.name),hs(m,e.name),hs(y,e.name),hs(v,e.name),hs(_,e.name);const ai=new _o({uid:E,auth:e,email:h,emailVerified:A,displayName:d,isAnonymous:O,photoURL:p,phoneNumber:f,tenantId:m,stsTokenManager:Dn,createdAt:v,lastLoginAt:_});return K&&Array.isArray(K)&&(ai.providerData=K.map(Vge=>Object.assign({},Vge))),y&&(ai._redirectEventId=y),ai}static _fromIdTokenResponse(e,n,r=!1){return g(function*(){const i=new vl;i.updateFromServerResponse(n);const s=new _o({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield _l(s),s})()}}const DV=new Map;function Oi(t){ds(t instanceof Function,"Expected a class definition");let e=DV.get(t);return e?(ds(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,DV.set(t,e),e)}const CV=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return g(function*(){return!0})()}_set(n,r){var i=this;return g(function*(){i.storage[n]=r})()}_get(n){var r=this;return g(function*(){const i=r.storage[n];return void 0===i?null:i})()}_remove(n){var r=this;return g(function*(){delete r.storage[n]})()}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})();function kp(t,e,n){return`firebase:${t}:${e}:${n}`}class nu{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=kp(this.userKey,i.apiKey,s),this.fullPersistenceKey=kp("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return g(function*(){const n=yield e.persistence._get(e.fullUserKey);return n?_o._fromJSON(e.auth,n):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var n=this;return g(function*(){if(n.persistence===e)return;const r=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=e,r?n.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return g(function*(){if(!n.length)return new nu(Oi(CV),e,r);const i=(yield Promise.all(n.map(function(){var c=g(function*(l){if(yield l._isAvailable())return l});return function(l){return c.apply(this,arguments)}}()))).filter(c=>c);let s=i[0]||Oi(CV);const o=kp(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const l=yield c._get(o);if(l){const d=_o._fromJSON(e,l);c!==s&&(a=d),s=c;break}}catch{}const u=i.filter(c=>c._shouldAllowMigration);return s._shouldAllowMigration&&u.length?(s=u[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(function(){var c=g(function*(l){if(l!==s)try{yield l._remove(o)}catch{}});return function(l){return c.apply(this,arguments)}}())),new nu(s,e,r)):new nu(s,e,r)})()}}function bV(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(AV(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(TV(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(xV(e))return"Blackberry";if(RV(e))return"Webos";if(OD(e))return"Safari";if((e.includes("chrome/")||SV(e))&&!e.includes("edge/"))return"Chrome";if(MV(e))return"Android";{const r=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function TV(t=At()){return/firefox\//i.test(t)}function OD(t=At()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function SV(t=At()){return/crios\//i.test(t)}function AV(t=At()){return/iemobile/i.test(t)}function MV(t=At()){return/android/i.test(t)}function xV(t=At()){return/blackberry/i.test(t)}function RV(t=At()){return/webos/i.test(t)}function Pp(t=At()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function NV(t=At()){return Pp(t)||MV(t)||RV(t)||xV(t)||/windows phone/i.test(t)||AV(t)}function kV(t,e=[]){let n;switch(t){case"Browser":n=bV(At());break;case"Worker":n=`${bV(At())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${us}/${r}`}function PV(t,e){return LD.apply(this,arguments)}function LD(){return(LD=g(function*(t,e){return et(t,"GET","/v2/recaptchaConfig",We(t,e))})).apply(this,arguments)}function FV(t){return void 0!==t&&void 0!==t.enterprise}class LV{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>"EMAIL_PASSWORD_PROVIDER"===n.provider&&"OFF"!==n.enforcementState)}}function VD(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Kr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",function mse(){var t,e;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)})}function VV(t){return`__${t}${Math.floor(1e6*Math.random())}`}class UV{constructor(e){this.type="recaptcha-enterprise",this.auth=xt(e)}verify(e="verify",n=!1){var r=this;return g(function*(){function s(){return s=g(function*(a){if(!n){if(null==a.tenantId&&null!=a._agentRecaptchaConfig)return a._agentRecaptchaConfig.siteKey;if(null!=a.tenantId&&void 0!==a._tenantRecaptchaConfigs[a.tenantId])return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(function(){var u=g(function*(c,l){PV(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(void 0!==d.recaptchaKey){const h=new LV(d);return null==a.tenantId?a._agentRecaptchaConfig=h:a._tenantRecaptchaConfigs[a.tenantId]=h,c(h.siteKey)}l(new Error("recaptcha Enterprise site key undefined"))}).catch(d=>{l(d)})});return function(c,l){return u.apply(this,arguments)}}())}),s.apply(this,arguments)}function o(a,u,c){const l=window.grecaptcha;FV(l)?l.enterprise.ready(()=>{l.enterprise.execute(a,{action:e}).then(d=>{u(d)}).catch(()=>{u("NO_RECAPTCHA")})}):c(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,u)=>{(function i(a){return s.apply(this,arguments)})(r.auth).then(c=>{if(!n&&FV(window.grecaptcha))o(c,a,u);else{if(typeof window>"u")return void u(new Error("RecaptchaVerifier is only supported in browser"));VD("https://www.google.com/recaptcha/enterprise.js?render="+c).then(()=>{o(c,a,u)}).catch(l=>{u(l)})}}).catch(c=>{u(c)})})})()}}class wse{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{o(e(s))}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var n=this;return g(function*(){if(n.auth.currentUser===e)return;const r=[];try{for(const i of n.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const s of r)try{s()}catch{}throw n.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}class Ise{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new BV(this),this.idTokenSubscription=new BV(this),this.beforeStateQueue=new wse(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=mV,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){var r=this;return n&&(this._popupRedirectResolver=Oi(n)),this._initializationPromise=this.queue(g(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield nu.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(n),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return g(function*(){if(e._deleted)return;const n=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||n){if(e.currentUser&&n&&e.currentUser.uid===n.uid)return e._currentUser._assign(n),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(n,!0)}})()}initializeCurrentUser(e){var n=this;return g(function*(){var r;const i=yield n.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const a=null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId,u=s?._redirectEventId,c=yield n.tryRedirectSignIn(e);(!a||a===u)&&c?.user&&(s=c.user,o=!0)}if(!s)return n.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{yield n.beforeStateQueue.runMiddleware(s)}catch(a){s=i,n._popupRedirectResolver._overrideRedirectResult(n,()=>Promise.reject(a))}return s?n.reloadAndSetCurrentUserOrClear(s):n.directlySetCurrentUser(null)}return M(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===s._redirectEventId?n.directlySetCurrentUser(s):n.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(e){var n=this;return g(function*(){let r=null;try{r=yield n._popupRedirectResolver._completeRedirectFn(n,e,!0)}catch{yield n._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var n=this;return g(function*(){try{yield _l(e)}catch(r){if("auth/network-request-failed"!==r?.code)return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function Xie(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var e=this;return g(function*(){e._deleted=!0})()}updateCurrentUser(e){var n=this;return g(function*(){const r=e?Dr(e):null;return r&&M(r.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(r&&r._clone(n))})()}_updateCurrentUser(e,n=!1){var r=this;return g(function*(){if(!r._deleted)return e&&M(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),n||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(g(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return g(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var n=this;return this.queue(g(function*(){yield n.assertedPersistence.setPersistence(Oi(e))}))}initializeRecaptchaConfig(){var e=this;return g(function*(){const n=yield PV(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new LV(n);null==e.tenantId?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.emailPasswordEnabled&&new UV(e).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new zr("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,n){var r=this;return g(function*(){const i=yield r.getOrInitRedirectPersistenceManager(n);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var n=this;return g(function*(){if(!n.redirectPersistenceManager){const r=e&&Oi(e)||n._popupRedirectResolver;M(r,n,"argument-error"),n.redirectPersistenceManager=yield nu.create(n,[Oi(r._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(e){var n=this;return g(function*(){var r,i;return n._isInitialized&&(yield n.queue(g(function*(){}))),(null===(r=n._currentUser)||void 0===r?void 0:r._redirectEventId)===e?n._currentUser:(null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?n.redirectUser:null})()}_persistUserIfCurrent(e){var n=this;return g(function*(){if(e===n.currentUser)return n.queue(g(function*(){return n.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(n=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s="function"==typeof n?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return M(o,this,"internal-error"),o.then(()=>s(this.currentUser)),"function"==typeof n?e.addObserver(n,r,i):e.addObserver(n)}directlySetCurrentUser(e){var n=this;return g(function*(){n.currentUser&&n.currentUser!==e&&n._currentUser._stopProactiveRefresh(),e&&n.isProactiveRefreshEnabled&&e._startProactiveRefresh(),n.currentUser=e,e?yield n.assertedPersistence.setCurrentUser(e):yield n.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return M(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=kV(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return g(function*(){var n;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(n=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const s=yield e._getAppCheckToken();return s&&(r["X-Firebase-AppCheck"]=s),r})()}_getAppCheckToken(){var e=this;return g(function*(){var n;const r=yield null===(n=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getToken();return r?.error&&function Qie(t,...e){xp.logLevel<=Y.WARN&&xp.warn(`Auth (${us}): ${t}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function xt(t){return Dr(t)}class BV{constructor(e){this.auth=e,this.observer=null,this.addObserver=function MZ(t,e){const n=new xZ(t,e);return n.subscribe.bind(n)}(n=>this.observer=n)}get next(){return M(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function $V(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function jV(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}class Sse{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Qr("not implemented")}_getIdTokenResponse(e){return Qr("not implemented")}_linkToIdToken(e,n){return Qr("not implemented")}_getReauthenticationResolver(e){return Qr("not implemented")}}function Fi(t,e){return tC.apply(this,arguments)}function tC(){return(tC=g(function*(t,e){return function ki(t,e,n,r){return bD.apply(this,arguments)}(t,"POST","/v1/accounts:signInWithIdp",We(t,e))})).apply(this,arguments)}class ps{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class $se extends ps{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class lr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return g(function*(){const s=yield _o._fromIdTokenResponse(e,r,i),o=qV(r);return new lr({user:s,providerId:o,_tokenResponse:r,operationType:n})})()}static _forOperation(e,n,r){return g(function*(){yield e._updateTokensIfNecessary(r,!0);const i=qV(r);return new lr({user:e,providerId:i,_tokenResponse:r,operationType:n})})()}}function qV(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class Up extends Xn{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Up.prototype),this.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Up(e,n,r,i)}}function WV(t,e,n,r){return("reauthenticate"===e?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw"auth/multi-factor-auth-required"===s.code?Up._fromErrorAndOperation(t,s,e,r):s})}function dC(){return(dC=g(function*(t,e,n=!1){const r=yield Pi(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return lr._forOperation(t,"link",r)})).apply(this,arguments)}function fC(){return(fC=g(function*(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=yield Pi(t,WV(r,i,e,t),n);M(s.idToken,r,"internal-error");const o=Np(s.idToken);M(o,r,"internal-error");const{sub:a}=o;return M(t.uid===a,r,"user-mismatch"),lr._forOperation(t,i,s)}catch(s){throw"auth/user-not-found"===s?.code&&On(r,"user-mismatch"),s}})).apply(this,arguments)}function pC(){return(pC=g(function*(t,e,n=!1){const r="signIn",i=yield WV(t,r,e),s=yield lr._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})).apply(this,arguments)}const $p="__sak";class JV{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem($p,"1"),this.storage.removeItem($p),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const loe=(()=>{class t extends JV{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function aoe(){const t=At();return OD(t)||Pp(t)}()&&function pse(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=NV(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key)return void this.forAllChangedKeys((a,u,c)=>{this.notifyListeners(a,c)});const i=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(i);if(n.newValue!==a)null!==n.newValue?this.storage.setItem(i,n.newValue):this.storage.removeItem(i);else if(this.localCache[i]===n.newValue&&!r)return}const s=()=>{const a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);!function fse(){return function CZ(){const t=At();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}()&&10===document.documentMode}()||o===n.newValue||n.newValue===n.oldValue?s():setTimeout(s,10)}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(n,r){var i=()=>super._set,s=this;return g(function*(){yield i().call(s,n,r),s.localCache[n]=JSON.stringify(r)})()}_get(n){var r=()=>super._get,i=this;return g(function*(){const s=yield r().call(i,n);return i.localCache[n]=JSON.stringify(s),s})()}_remove(n){var r=()=>super._remove,i=this;return g(function*(){yield r().call(i,n),delete i.localCache[n]})()}}return t.type="LOCAL",t})(),ZV=(()=>{class t extends JV{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})();let hoe=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){const r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;const i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){var r=this;return g(function*(){const i=n,{eventId:s,eventType:o,data:a}=i.data,u=r.handlersMap[o];if(!u?.size)return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const c=Array.from(u).map(function(){var d=g(function*(h){return h(i.origin,a)});return function(h){return d.apply(this,arguments)}}()),l=yield function doe(t){return Promise.all(t.map(function(){var e=g(function*(n){try{return{fulfilled:!0,value:yield n}}catch(r){return{fulfilled:!1,reason:r}}});return function(n){return e.apply(this,arguments)}}()))}(c);i.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:l})})()}_subscribe(n,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||0===this.handlersMap[n].size)&&delete this.handlersMap[n],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return t.receivers=[],t})();function GC(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(10*Math.random());return t+n}class foe{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){var i=this;return g(function*(){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,a;return new Promise((u,c)=>{const l=GC("",20);s.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(h){const f=h;if(f.data.eventId===l)switch(f.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(f.data.response);break;default:clearTimeout(d),clearTimeout(o),c(new Error("invalid_response"))}}},i.handlers.add(a),s.port1.addEventListener("message",a.onMessage),i.target.postMessage({eventType:e,eventId:l,data:n},[s.port2])}).finally(()=>{a&&i.removeMessageHandler(a)})})()}}function ft(){return window}function zC(){return typeof ft().WorkerGlobalScope<"u"&&"function"==typeof ft().importScripts}function qC(){return(qC=g(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const e2="firebaseLocalStorageDb",jp="firebaseLocalStorage",t2="fbase_key";class Dl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Hp(t,e){return t.transaction([jp],e?"readwrite":"readonly").objectStore(jp)}function WC(){const t=indexedDB.open(e2,1);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(jp,{keyPath:t2})}catch(i){n(i)}}),t.addEventListener("success",g(function*(){const r=t.result;r.objectStoreNames.contains(jp)?e(r):(r.close(),yield function voe(){const t=indexedDB.deleteDatabase(e2);return new Dl(t).toPromise()}(),e(yield WC()))}))})}function n2(t,e,n){return KC.apply(this,arguments)}function KC(){return(KC=g(function*(t,e,n){const r=Hp(t,!0).put({[t2]:e,value:n});return new Dl(r).toPromise()})).apply(this,arguments)}function QC(){return(QC=g(function*(t,e){const n=Hp(t,!1).get(e),r=yield new Dl(n).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function r2(t,e){const n=Hp(t,!0).delete(e);return new Dl(n).toPromise()}const Doe=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var n=this;return g(function*(){return n.db||(n.db=yield WC()),n.db})()}_withRetries(n){var r=this;return g(function*(){let i=0;for(;;)try{const s=yield r._openDb();return yield n(s)}catch(s){if(i++>3)throw s;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var n=this;return g(function*(){return zC()?n.initializeReceiver():n.initializeSender()})()}initializeReceiver(){var n=this;return g(function*(){n.receiver=hoe._getInstance(function yoe(){return zC()?self:null}()),n.receiver._subscribe("keyChanged",function(){var r=g(function*(i,s){return{keyProcessed:(yield n._poll()).includes(s.key)}});return function(i,s){return r.apply(this,arguments)}}()),n.receiver._subscribe("ping",function(){var r=g(function*(i,s){return["keyChanged"]});return function(i,s){return r.apply(this,arguments)}}())})()}initializeSender(){var n=this;return g(function*(){var r,i;if(n.activeServiceWorker=yield function goe(){return qC.apply(this,arguments)}(),!n.activeServiceWorker)return;n.sender=new foe(n.activeServiceWorker);const s=yield n.sender._send("ping",{},800);s&&null!==(r=s[0])&&void 0!==r&&r.fulfilled&&null!==(i=s[0])&&void 0!==i&&i.value.includes("keyChanged")&&(n.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(n){var r=this;return g(function*(){if(r.sender&&r.activeServiceWorker&&function moe(){var t;return(null===(t=navigator?.serviceWorker)||void 0===t?void 0:t.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:n},r.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return g(function*(){try{if(!indexedDB)return!1;const n=yield WC();return yield n2(n,$p,"1"),yield r2(n,$p),!0}catch{}return!1})()}_withPendingWrite(n){var r=this;return g(function*(){r.pendingWrites++;try{yield n()}finally{r.pendingWrites--}})()}_set(n,r){var i=this;return g(function*(){return i._withPendingWrite(g(function*(){return yield i._withRetries(s=>n2(s,n,r)),i.localCache[n]=r,i.notifyServiceWorker(n)}))})()}_get(n){var r=this;return g(function*(){const i=yield r._withRetries(s=>function woe(t,e){return QC.apply(this,arguments)}(s,n));return r.localCache[n]=i,i})()}_remove(n){var r=this;return g(function*(){return r._withPendingWrite(g(function*(){return yield r._withRetries(i=>r2(i,n)),delete r.localCache[n],r.notifyServiceWorker(n)}))})()}_poll(){var n=this;return g(function*(){const r=yield n._withRetries(o=>{const a=Hp(o,!1).getAll();return new Dl(a).toPromise()});if(!r)return[];if(0!==n.pendingWrites)return[];const i=[],s=new Set;for(const{fbase_key:o,value:a}of r)s.add(o),JSON.stringify(n.localCache[o])!==JSON.stringify(a)&&(n.notifyListeners(o,a),i.push(o));for(const o of Object.keys(n.localCache))n.localCache[o]&&!s.has(o)&&(n.notifyListeners(o,null),i.push(o));return i})()}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const s of Array.from(i))s(r)}startPolling(){var n=this;this.stopPolling(),this.pollTimer=setInterval(g(function*(){return n._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return t.type="LOCAL",t})();VV("rcb"),new gl(3e4,6e4);class ib extends Sse{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Fi(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Fi(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Fi(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Uoe(t){return function YV(t,e){return pC.apply(this,arguments)}(t.auth,new ib(t),t.bypassAuthState)}function Boe(t){const{auth:e,user:n}=t;return M(n,e,"internal-error"),function QV(t,e){return fC.apply(this,arguments)}(n,new ib(t),t.bypassAuthState)}function $oe(t){return sb.apply(this,arguments)}function sb(){return(sb=g(function*(t){const{auth:e,user:n}=t;return M(n,e,"internal-error"),function lC(t,e){return dC.apply(this,arguments)}(n,new ib(t),t.bypassAuthState)})).apply(this,arguments)}class joe{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){var e=this;return new Promise(function(){var n=g(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(s){e.reject(s)}});return function(r,i){return n.apply(this,arguments)}}())}onAuthEvent(e){var n=this;return g(function*(){const{urlResponse:r,sessionId:i,postBody:s,tenantId:o,error:a,type:u}=e;if(a)return void n.reject(a);const c={auth:n.auth,requestUri:r,sessionId:i,tenantId:o||void 0,postBody:s||void 0,user:n.user,bypassAuthState:n.bypassAuthState};try{n.resolve(yield n.getIdpTask(u)(c))}catch(l){n.reject(l)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Uoe;case"linkViaPopup":case"linkViaRedirect":return $oe;case"reauthViaPopup":case"reauthViaRedirect":return Boe;default:On(this.auth,"internal-error")}}resolve(e){ds(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ds(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}new gl(2e3,1e4);const Hoe="pendingRedirect",Cl=new Map;class Goe extends joe{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,n=this;return g(function*(){let r=Cl.get(n.auth._key());if(!r){try{const s=(yield function zoe(t,e){return lb.apply(this,arguments)}(n.resolver,n.auth))?yield e().call(n):null;r=()=>Promise.resolve(s)}catch(i){r=()=>Promise.reject(i)}Cl.set(n.auth._key(),r)}return n.bypassAuthState||Cl.set(n.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var n=()=>super.onAuthEvent,r=this;return g(function*(){if("signInViaRedirect"===e.type)return n().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,n().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return g(function*(){})()}cleanUp(){}}function lb(){return(lb=g(function*(t,e){const n=function o2(t){return kp(Hoe,t.config.apiKey,t.name)}(e),r=function s2(t){return Oi(t._redirectPersistence)}(t);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(n));return yield r._remove(n),i})).apply(this,arguments)}function qoe(t,e){Cl.set(t._key(),e)}function a2(t,e){return yb.apply(this,arguments)}function yb(){return(yb=g(function*(t,e,n=!1){const r=xt(t),i=function wo(t,e){return e?Oi(e):(M(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}(r,e),o=yield new Goe(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})).apply(this,arguments)}class Xoe{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function Joe(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return l2(t);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!l2(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";n.onError(Kr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=null===n.eventId||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(c2(e))}saveEventToCache(e){this.cachedEventUids.add(c2(e)),this.lastProcessedEventTime=Date.now()}}function c2(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function l2({type:t,error:e}){return"unknown"===t&&"auth/no-auth-event"===e?.code}function vb(){return(vb=g(function*(t,e={}){return et(t,"GET","/v1/projects",e)})).apply(this,arguments)}const eae=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,tae=/^https?/;function wb(){return wb=g(function*(t){if(t.config.emulator)return;const{authorizedDomains:e}=yield function Zoe(t){return vb.apply(this,arguments)}(t);for(const n of e)try{if(rae(n))return}catch{}On(t,"unauthorized-domain")}),wb.apply(this,arguments)}function rae(t){const e=pl(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return""===o.hostname&&""===r?"chrome-extension:"===n&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===n&&o.hostname===r}if(!tae.test(n))return!1;if(eae.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const iae=new gl(3e4,6e4);function d2(){const t=ft().___jsl;if(t?.H)for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}let zp=null;const aae=new gl(5e3,15e3),uae="__/auth/iframe",cae="emulator/auth/iframe",lae={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},dae=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function hae(t){const e=t.config;M(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?ED(e,cae):`https://${t.config.authDomain}/${uae}`,r={apiKey:e.apiKey,appName:t.name,v:us},i=dae.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${up(r).slice(1)}`}function Ib(){return Ib=g(function*(t){const e=yield function oae(t){return zp=zp||function sae(t){return new Promise((e,n)=>{var r,i,s;function o(){d2(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{d2(),n(Kr(t,"network-request-failed"))},timeout:iae.get()})}if(null!==(i=null===(r=ft().gapi)||void 0===r?void 0:r.iframes)&&void 0!==i&&i.Iframe)e(gapi.iframes.getContext());else{if(null===(s=ft().gapi)||void 0===s||!s.load){const a=VV("iframefcb");return ft()[a]=()=>{gapi.load?o():n(Kr(t,"network-request-failed"))},VD(`https://apis.google.com/js/api.js?onload=${a}`).catch(u=>n(u))}o()}}).catch(e=>{throw zp=null,e})}(t),zp}(t),n=ft().gapi;return M(n,t,"internal-error"),e.open({where:document.body,url:hae(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:lae,dontclear:!0},r=>new Promise(function(){var i=g(function*(s,o){yield r.restyle({setHideOnLeave:!1});const a=Kr(t,"network-request-failed"),u=ft().setTimeout(()=>{o(a)},aae.get());function c(){ft().clearTimeout(u),s(r)}r.ping(c).then(c,()=>{o(a)})});return function(s,o){return i.apply(this,arguments)}}()))}),Ib.apply(this,arguments)}const pae={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class h2{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Iae="__/auth/handler",Eae="emulator/auth/handler",Dae=encodeURIComponent("fac");function f2(t,e,n,r,i,s){return Eb.apply(this,arguments)}function Eb(){return(Eb=g(function*(t,e,n,r,i,s){M(t.config.authDomain,t,"auth-domain-config-required"),M(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:us,eventId:i};if(e instanceof ps){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",function AZ(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[l,d]of Object.entries(s||{}))o[l]=d}if(e instanceof $se){const l=e.getScopes().filter(d=>""!==d);l.length>0&&(o.scopes=l.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const l of Object.keys(a))void 0===a[l]&&delete a[l];const u=yield t._getAppCheckToken(),c=u?`#${Dae}=${encodeURIComponent(u)}`:"";return`${function Cae({config:t}){return t.emulator?ED(t,Eae):`https://${t.authDomain}/${Iae}`}(t)}?${up(a).slice(1)}${c}`})).apply(this,arguments)}const Db="webStorageSupport",Tae=class bae{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ZV,this._completeRedirectFn=a2,this._overrideRedirectResult=qoe}_openPopup(e,n,r,i){var s=this;return g(function*(){var o;ds(null===(o=s.eventManagers[e._key()])||void 0===o?void 0:o.manager,"_initialize() not called before _openPopup()");const a=yield f2(e,n,r,pl(),i);return function vae(t,e,n,r=500,i=600){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u=Object.assign(Object.assign({},pae),{width:r.toString(),height:i.toString(),top:s,left:o}),c=At().toLowerCase();n&&(a=SV(c)?"_blank":n),TV(c)&&(e=e||"http://localhost",u.scrollbars="yes");const l=Object.entries(u).reduce((h,[f,p])=>`${h}${f}=${p},`,"");if(function hse(t=At()){var e;return Pp(t)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(c)&&"_self"!==a)return function wae(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(e||"",a),new h2(null);const d=window.open(e||"",a,l);M(d,t,"popup-blocked");try{d.focus()}catch{}return new h2(d)}(e,a,GC())})()}_openRedirect(e,n,r,i){var s=this;return g(function*(){return yield s._originValidation(e),function poe(t){ft().location.href=t}(yield f2(e,n,r,pl(),i)),new Promise(()=>{})})()}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(ds(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){var n=this;return g(function*(){const r=yield function fae(t){return Ib.apply(this,arguments)}(e),i=new Xoe(e);return r.register("authEvent",s=>(M(s?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),n.eventManagers[e._key()]={manager:i},n.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Db,{type:Db},i=>{var s;const o=null===(s=i?.[0])||void 0===s?void 0:s[Db];void 0!==o&&n(!!o),On(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=function nae(t){return wb.apply(this,arguments)}(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return NV()||OD()||Pp()}};var m2="@firebase/auth";class Sae{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var n=this;return g(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){M(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Rae=EF("authIdTokenMaxAge")||300;let _2=null;const Nae=t=>function(){var e=g(function*(n){const r=n&&(yield n.getIdTokenResult()),i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3;if(i&&i>Rae)return;const s=r?.token;_2!==s&&(_2=s,yield fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))});return function(n){return e.apply(this,arguments)}}();function kae(t=dp()){const e=co(t,"auth");if(e.isInitialized())return e.getImmediate();const n=function Ese(t,e){const n=co(t,"auth");if(n.isInitialized()){const i=n.getImmediate();if(ap(n.getOptions(),e??{}))return i;On(i,"already-initialized")}return n.initialize({options:e})}(t,{popupRedirectResolver:Tae,persistence:[Doe,loe,ZV]}),r=EF("authTokenSyncURL");if(r){const s=Nae(r);(function noe(t,e,n){Dr(t).beforeAuthStateChanged(e,n)})(n,s,()=>s(n.currentUser)),function toe(t,e,n,r){Dr(t).onIdTokenChanged(e,n,r)}(n,o=>s(o))}const i=vF("auth");return i&&function Cse(t,e,n){const r=xt(t);M(r._canInitEmulator,r,"emulator-config-failed"),M(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!n?.disableWarnings,s=$V(e),{host:o,port:a}=function bse(t){const e=$V(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:jV(r.substr(s.length+1))}}{const[s,o]=r.split(":");return{host:s,port:jV(o)}}}(e);r.config.emulator={url:`${s}//${o}${null===a?"":`:${a}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function Tse(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",t):t())}()}(n,`http://${i}`),n}!function Mae(t){sn(new jt("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;M(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:kV(t)},c=new Ise(r,i,s,u);return function Dse(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Oi);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),sn(new jt("auth-internal",e=>{const n=xt(e.getProvider("auth").getImmediate());return new Sae(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Oe(m2,"0.23.2",function Aae(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(t)),Oe(m2,"0.23.2","esm2017")}("Browser");class bb{constructor(e){return e}}class Tb{constructor(){return vp("auth")}}const Sb=new L("angularfire2.auth-instances");function Oae(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new bb(r)}}const Fae={provide:Tb,deps:[[new vt,Sb]]},Lae={provide:bb,useFactory:function Pae(t,e){const n=_p("auth",t,e);return n&&new bb(n)},deps:[[new vt,Sb],yo]};let Vae=(()=>{class t{constructor(){Oe("angularfire",dl.full,"auth")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Xt({type:t}),t.\u0275inj=Vt({providers:[Lae,Fae]}),t})();function Uae(t,...e){return{ngModule:Vae,providers:[{provide:Sb,useFactory:Oae(t),multi:!0,deps:[Ce,Nn,wp,Ip,[new vt,Mp],...e]}]}}const Bae=Za(kae,!0),w2="firebasestorage.googleapis.com";class Ke extends Xn{constructor(e,n,r=0){super(Ab(e),`Firebase Storage: ${n} (${Ab(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ke.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Ab(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var z=(()=>((z=z||{}).UNKNOWN="unknown",z.OBJECT_NOT_FOUND="object-not-found",z.BUCKET_NOT_FOUND="bucket-not-found",z.PROJECT_NOT_FOUND="project-not-found",z.QUOTA_EXCEEDED="quota-exceeded",z.UNAUTHENTICATED="unauthenticated",z.UNAUTHORIZED="unauthorized",z.UNAUTHORIZED_APP="unauthorized-app",z.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",z.INVALID_CHECKSUM="invalid-checksum",z.CANCELED="canceled",z.INVALID_EVENT_NAME="invalid-event-name",z.INVALID_URL="invalid-url",z.INVALID_DEFAULT_BUCKET="invalid-default-bucket",z.NO_DEFAULT_BUCKET="no-default-bucket",z.CANNOT_SLICE_BLOB="cannot-slice-blob",z.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",z.NO_DOWNLOAD_URL="no-download-url",z.INVALID_ARGUMENT="invalid-argument",z.INVALID_ARGUMENT_COUNT="invalid-argument-count",z.APP_DELETED="app-deleted",z.INVALID_ROOT_OPERATION="invalid-root-operation",z.INVALID_FORMAT="invalid-format",z.INTERNAL_ERROR="internal-error",z.UNSUPPORTED_ENVIRONMENT="unsupported-environment",z))();function Ab(t){return"storage/"+t}function xb(t){return new Ke(z.INVALID_ARGUMENT,t)}function b2(){return new Ke(z.APP_DELETED,"The Firebase app was deleted.")}class _n{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=_n.makeFromUrl(e,n)}catch{return new _n(e,"")}if(""===r.path)return r;throw function Yae(t){return new Ke(z.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)",a=new RegExp("^gs://"+i+"(/(.*))?$","i");function c(A){A.path_=decodeURIComponent(A.path)}const d=n.replace(/[.]/g,"\\."),E=[{regex:a,indices:{bucket:1,path:3},postModify:function s(A){"/"===A.path.charAt(A.path.length-1)&&(A.path_=A.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${d}/v[A-Za-z0-9_]+/b/${i}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:c},{regex:new RegExp(`^https?://${n===w2?"(?:storage.googleapis.com|storage.cloud.google.com)":n}/${i}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:c}];for(let A=0;A<E.length;A++){const O=E[A],K=O.regex.exec(e);if(K){let Dn=K[O.indices.path];Dn||(Dn=""),r=new _n(K[O.indices.bucket],Dn),O.postModify(r);break}}if(null==r)throw function Qae(t){return new Ke(z.INVALID_URL,"Invalid URL '"+t+"'.")}(e);return r}}class nue{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function Nb(t,e,n,r){if(r<e)throw xb(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw xb(`Invalid value for '${t}'. Expected ${n} or less.`)}var Fn=(()=>((Fn=Fn||{})[Fn.NO_ERROR=0]="NO_ERROR",Fn[Fn.NETWORK_ERROR=1]="NETWORK_ERROR",Fn[Fn.ABORT=2]="ABORT",Fn))();class uue{constructor(e,n,r,i,s,o,a,u,c,l,d,h=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=u,this.timeout_=c,this.progressCallback_=l,this.connectionFactory_=d,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((f,p)=>{this.resolve_=f,this.reject_=p,this.start_()})}start_(){const n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const u=this.callback_(a,a.getResponse());!function sue(t){return void 0!==t}(u)?s():s(u)}catch(u){o(u)}else if(null!==a){const u=function Mb(){return new Ke(z.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}();u.serverResponse=a.getErrorText(),o(this.errorCallback_?this.errorCallback_(a,u):u)}else o(i.canceled?this.appDelete_?b2():function D2(){return new Ke(z.CANCELED,"User canceled the upload/download.")}():function E2(){return new Ke(z.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}())};this.canceled_?n(0,new Kp(!1,null,!0)):this.backoffId_=function rue(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function u(){return 2===a}let c=!1;function l(...y){c||(c=!0,e.apply(null,y))}function d(y){i=setTimeout(()=>{i=null,t(f,u())},y)}function h(){s&&clearTimeout(s)}function f(y,...v){if(c)return void h();if(y)return h(),void l.call(null,y,...v);if(u()||o)return h(),void l.call(null,y,...v);let E;r<64&&(r*=2),1===a?(a=2,E=0):E=1e3*(r+Math.random()),d(E)}let p=!1;function m(y){p||(p=!0,h(),!c&&(null!==i?(y||(a=2),clearTimeout(i),d(0)):y||(a=1)))}return d(0),s=setTimeout(()=>{o=!0,m(!0)},n),m}((r,i)=>{if(i)return void r(!1,new Kp(!1,null,!0));const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{null!==this.progressCallback_&&this.progressCallback_(a.loaded,a.lengthComputable?a.total:-1)};null!==this.progressCallback_&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===Fn.NO_ERROR,u=s.getStatus();if(!a||function A2(t,e){const n=t>=500&&t<600,i=-1!==[408,429].indexOf(t),s=-1!==e.indexOf(t);return n||i||s}(u,this.additionalRetryCodes_)&&this.retry){const l=s.getErrorCode()===Fn.ABORT;return void r(!1,new Kp(!1,null,l))}const c=-1!==this.successCodes_.indexOf(u);r(!0,new Kp(c,s))})},n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function iue(t){t(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class Kp{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}class Io{constructor(e,n){this._service=e,this._location=n instanceof _n?n:_n.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Io(e,n)}get root(){const e=new _n(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return function k2(t){const e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}(this._location.path)}get storage(){return this._service}get parent(){const e=function Eue(t){if(0===t.length)return null;const e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this._location.path);if(null===e)return null;const n=new _n(this._location.bucket,e);return new Io(this._service,n)}_throwIfRoot(e){if(""===this._location.path)throw function tue(t){return new Ke(z.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function K2(t,e){const n=e?.storageBucket;return null==n?null:_n.makeFromBucketSpec(n,t)}class Ub{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=w2,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?_n.makeFromBucketSpec(i,this._host):K2(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?_n.makeFromBucketSpec(this._url,e):K2(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Nb("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Nb("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return g(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const n=e._authProvider.getImmediate({optional:!0});if(n){const r=yield n.getToken();if(null!==r)return r.accessToken}return null})()}_getAppCheckToken(){var e=this;return g(function*(){const n=e._appCheckProvider.getImmediate({optional:!0});return n?(yield n.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Io(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new nue(b2());{const o=function fue(t,e,n,r,i,s,o=!0){const a=function S2(t){const e=encodeURIComponent;let n="?";for(const r in t)t.hasOwnProperty(r)&&(n=n+(e(r)+"=")+e(t[r])+"&");return n=n.slice(0,-1),n}(t.urlParams),u=t.url+a,c=Object.assign({},t.headers);return function due(t,e){e&&(t["X-Firebase-GMPID"]=e)}(c,e),function cue(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(c,n),function lue(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}(c,s),function hue(t,e){null!==e&&(t["X-Firebase-AppCheck"]=e)}(c,r),new uue(u,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}makeRequestWithTokens(e,n){var r=this;return g(function*(){const[i,s]=yield Promise.all([r._getAuthToken(),r._getAppCheckToken()]);return r._makeRequest(e,n,i,s).getPromise()})()}}const Q2="@firebase/storage",X2="storage";function ace(t=dp(),e){const r=co(t=Dr(t),X2).getImmediate({identifier:e}),i=wF("storage");return i&&function uce(t,e,n,r={}){!function oce(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken="string"==typeof i?i:DF(i,t.app.options.projectId))}(t,e,n,r)}(r,...i),r}function cce(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new Ub(n,r,i,e,us)}!function lce(){sn(new jt(X2,cce,"PUBLIC").setMultipleInstances(!0)),Oe(Q2,"0.11.2",""),Oe(Q2,"0.11.2","esm2017")}();class Bb{constructor(e){return e}}const J2="storage",$b=new L("angularfire2.storage-instances");function fce(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new Bb(r)}}const pce={provide:class dce{constructor(){return vp(J2)}},deps:[[new vt,$b]]},gce={provide:Bb,useFactory:function hce(t,e){const n=_p(J2,t,e);return n&&new Bb(n)},deps:[[new vt,$b],yo]};let mce=(()=>{class t{constructor(){Oe("angularfire",dl.full,"gcs")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Xt({type:t}),t.\u0275inj=Vt({providers:[gce,pce]}),t})();function yce(t,...e){return{ngModule:mce,providers:[{provide:$b,useFactory:fce(t),multi:!0,deps:[Ce,Nn,wp,Ip,[new vt,Tb],[new vt,Mp],...e]}]}}const _ce=Za(ace,!0);var N,vce=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Tr={},jb=jb||{},te=vce||self;function Jp(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Ml(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var Hb="closure_uid_"+(1e9*Math.random()>>>0),Ice=0;function Ece(t,e,n){return t.call.apply(t.bind,arguments)}function Dce(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function on(t,e,n){return(on=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ece:Dce).apply(null,arguments)}function Zp(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Rt(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function gs(){this.s=this.s,this.o=this.o}gs.prototype.s=!1,gs.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function wce(t){Object.prototype.hasOwnProperty.call(t,Hb)&&t[Hb]||(t[Hb]=++Ice)}(this)},gs.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Z2=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Gb(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function eU(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Jp(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function an(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}an.prototype.h=function(){this.defaultPrevented=!0};var bce=function(){if(!te.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{te.addEventListener("test",()=>{},e),te.removeEventListener("test",()=>{},e)}catch{}return t}();function xl(t){return/^[\s\xa0]*$/.test(t)}function eg(){var t=te.navigator;return t&&(t=t.userAgent)?t:""}function Jr(t){return-1!=eg().indexOf(t)}function zb(t){return zb[" "](t),t}zb[" "]=function(){};var Wb,t,Sce=Jr("Opera"),ou=Jr("Trident")||Jr("MSIE"),tU=Jr("Edge"),qb=tU||ou,nU=Jr("Gecko")&&!(-1!=eg().toLowerCase().indexOf("webkit")&&!Jr("Edge"))&&!(Jr("Trident")||Jr("MSIE"))&&!Jr("Edge"),Ace=-1!=eg().toLowerCase().indexOf("webkit")&&!Jr("Edge");function rU(){var t=te.document;return t?t.documentMode:void 0}e:{var Kb="",Qb=(t=eg(),nU?/rv:([^\);]+)(\)|;)/.exec(t):tU?/Edge\/([\d\.]+)/.exec(t):ou?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):Ace?/WebKit\/(\S+)/.exec(t):Sce?/(?:Version)[ \/]?(\S+)/.exec(t):void 0);if(Qb&&(Kb=Qb?Qb[1]:""),ou){var Yb=rU();if(null!=Yb&&Yb>parseFloat(Kb)){Wb=String(Yb);break e}}Wb=Kb}var Mce=te.document&&ou&&(rU()||parseInt(Wb,10))||void 0;function Rl(t,e){if(an.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(nU){e:{try{zb(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:xce[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Rl.$.h.call(this)}}Rt(Rl,an);var xce={2:"touch",3:"pen",4:"mouse"};Rl.prototype.h=function(){Rl.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Nl="closure_listenable_"+(1e6*Math.random()|0),Rce=0;function Nce(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++Rce,this.fa=this.ia=!1}function tg(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function Jb(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function sU(t){const e={};for(const n in t)e[n]=t[n];return e}const oU="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function aU(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let s=0;s<oU.length;s++)n=oU[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function ng(t){this.src=t,this.g={},this.h=0}function Zb(t,e){var n=e.type;if(n in t.g){var s,r=t.g[n],i=Z2(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(tg(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function eT(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}ng.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.g[s])||(t=this.g[s]=[],this.h++);var o=eT(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):((e=new Nce(e,this.src,s,!!r,i)).ia=n,t.push(e)),e};var tT="closure_lm_"+(1e6*Math.random()|0),nT={};function uU(t,e,n,r,i){if(r&&r.once)return lU(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)uU(t,e[s],n,r,i);return null}return n=oT(n),t&&t[Nl]?t.O(e,n,Ml(r)?!!r.capture:!!r,i):cU(t,e,n,!1,r,i)}function cU(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Ml(i)?!!i.capture:!!i,a=iT(t);if(a||(t[tT]=a=new ng(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function Pce(){const e=Oce;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)bce||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(hU(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function lU(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)lU(t,e[s],n,r,i);return null}return n=oT(n),t&&t[Nl]?t.P(e,n,Ml(r)?!!r.capture:!!r,i):cU(t,e,n,!0,r,i)}function dU(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)dU(t,e[s],n,r,i);else r=Ml(r)?!!r.capture:!!r,n=oT(n),t&&t[Nl]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=eT(s=t.g[e],n,r,i))&&(tg(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.g[e],t.h--))):t&&(t=iT(t))&&(e=t.g[e.toString()],t=-1,e&&(t=eT(e,n,r,i)),(n=-1<t?e[t]:null)&&rT(n))}function rT(t){if("number"!=typeof t&&t&&!t.fa){var e=t.src;if(e&&e[Nl])Zb(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(hU(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=iT(e))?(Zb(n,t),0==n.h&&(n.src=null,e[tT]=null)):tg(t)}}}function hU(t){return t in nT?nT[t]:nT[t]="on"+t}function Oce(t,e){if(t.fa)t=!0;else{e=new Rl(e,this);var n=t.listener,r=t.la||t.src;t.ia&&rT(t),t=n.call(r,e)}return t}function iT(t){return(t=t[tT])instanceof ng?t:null}var sT="__closure_events_fn_"+(1e9*Math.random()>>>0);function oT(t){return"function"==typeof t?t:(t[sT]||(t[sT]=function(e){return t.handleEvent(e)}),t[sT])}function Nt(){gs.call(this),this.i=new ng(this),this.S=this,this.J=null}function zt(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,"string"==typeof e)e=new an(e,t);else if(e instanceof an)e.target=e.target||t;else{var i=e;aU(e=new an(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=rg(o,r,!0,e)&&i}if(i=rg(o=e.g=t,r,!0,e)&&i,i=rg(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=rg(o=e.g=n[s],r,!1,e)&&i}function rg(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,u=o.la||o.src;o.ia&&Zb(t.i,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}Rt(Nt,gs),Nt.prototype[Nl]=!0,Nt.prototype.removeEventListener=function(t,e,n,r){dU(this,t,e,n,r)},Nt.prototype.N=function(){if(Nt.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)tg(n[r]);delete t.g[e],t.h--}}this.J=null},Nt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},Nt.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var aT=te.JSON.stringify;function Lce(){var t=uT;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var fU=new class Fce{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new Uce,t=>t.reset());class Uce{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function Bce(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function $ce(t){te.setTimeout(()=>{throw t},0)}let kl,Pl=!1,uT=new class Vce{constructor(){this.h=this.g=null}add(e,n){const r=fU.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},pU=()=>{const t=te.Promise.resolve(void 0);kl=()=>{t.then(jce)}};var jce=()=>{for(var t;t=Lce();){try{t.h.call(t.g)}catch(n){$ce(n)}var e=fU;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Pl=!1};function ig(t,e){Nt.call(this),this.h=t||1,this.g=e||te,this.j=on(this.qb,this),this.l=Date.now()}function cT(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}function lT(t,e,n){if("function"==typeof t)n&&(t=on(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=on(t.handleEvent,t)}return 2147483647<Number(e)?-1:te.setTimeout(t,e||0)}function gU(t){t.g=lT(()=>{t.g=null,t.i&&(t.i=!1,gU(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}Rt(ig,Nt),(N=ig.prototype).ga=!1,N.T=null,N.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),zt(this,"tick"),this.ga&&(cT(this),this.start()))}},N.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},N.N=function(){ig.$.N.call(this),cT(this),delete this.g};class Hce extends gs{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:gU(this)}N(){super.N(),this.g&&(te.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ol(t){gs.call(this),this.h=t,this.g={}}Rt(Ol,gs);var mU=[];function yU(t,e,n,r){Array.isArray(n)||(n&&(mU[0]=n.toString()),n=mU);for(var i=0;i<n.length;i++){var s=uU(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function _U(t){Jb(t.g,function(e,n){this.g.hasOwnProperty(n)&&rT(e)},t),t.g={}}function sg(){this.g=!0}function au(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Wce(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return aT(n)}catch{return e}}(t,n)+(r?" "+r:"")})}Ol.prototype.N=function(){Ol.$.N.call(this),_U(this)},Ol.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},sg.prototype.Ea=function(){this.g=!1},sg.prototype.info=function(){};var Eo={},vU=null;function og(){return vU=vU||new Nt}function wU(t){an.call(this,Eo.Ta,t)}function Fl(t){const e=og();zt(e,new wU(e))}function IU(t,e){an.call(this,Eo.STAT_EVENT,t),this.stat=e}function wn(t){const e=og();zt(e,new IU(e,t))}function EU(t,e){an.call(this,Eo.Ua,t),this.size=e}function Ll(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return te.setTimeout(function(){t()},e)}Eo.Ta="serverreachability",Rt(wU,an),Eo.STAT_EVENT="statevent",Rt(IU,an),Eo.Ua="timingevent",Rt(EU,an);var ag={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},DU={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function dT(){}function bU(){}dT.prototype.h=null;var pT,Vl={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function hT(){an.call(this,"d")}function fT(){an.call(this,"c")}function ug(){}function Ul(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Ol(this),this.P=Kce,this.V=new ig(t=qb?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new TU}function TU(){this.i=null,this.g="",this.h=!1}Rt(hT,an),Rt(fT,an),Rt(ug,dT),ug.prototype.g=function(){return new XMLHttpRequest},ug.prototype.i=function(){return{}},pT=new ug;var Kce=45e3,gT={},cg={};function mT(t,e,n){t.L=1,t.v=fg(Ui(e)),t.s=n,t.S=!0,SU(t,null)}function SU(t,e){t.G=Date.now(),Bl(t),t.A=Ui(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),LU(n.i,"t",r),t.C=0,n=t.l.J,t.h=new TU,t.g=aB(t.l,n?e:null,!t.s),0<t.O&&(t.M=new Hce(on(t.Pa,t,t.g),t.O)),yU(t.U,t.g,"readystatechange",t.nb),e=t.I?sU(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),Fl(),function Gce(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var d=l.split("_");o=2<=d.length&&"type"==d[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o})}(t.j,t.u,t.A,t.m,t.W,t.s)}function AU(t){return!!t.g&&"GET"==t.u&&2!=t.L&&t.l.Ha}function MU(t,e,n){let i,r=!0;for(;!t.J&&t.C<n.length;){if(i=Qce(t,n),i==cg){4==e&&(t.o=4,wn(14),r=!1),au(t.j,t.m,null,"[Incomplete Response]");break}if(i==gT){t.o=4,wn(15),au(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}au(t.j,t.m,i,null),yT(t,i)}AU(t)&&i!=cg&&i!=gT&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,wn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,(e=t.l).g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),CT(e),e.M=!0,wn(11))):(au(t.j,t.m,n,"[Invalid Chunked Response]"),Do(t),$l(t))}function Qce(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?cg:(n=Number(e.substring(n,r)),isNaN(n)?gT:(r+=1)+n>e.length?cg:(e=e.slice(r,r+n),t.C=r+n,e))}function Bl(t){t.Y=Date.now()+t.P,xU(t,t.P)}function xU(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=Ll(on(t.lb,t),e)}function lg(t){t.B&&(te.clearTimeout(t.B),t.B=null)}function $l(t){0==t.l.H||t.J||rB(t.l,t)}function Do(t){lg(t);var e=t.M;e&&"function"==typeof e.sa&&e.sa(),t.M=null,cT(t.V),_U(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function yT(t,e){try{var n=t.l;if(0!=n.H&&(n.g==t||_T(n.i,t)))if(!t.K&&_T(n.i,t)&&3==n.H){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<t.G))break e;vg(n),yg(n)}DT(n),wn(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=Ll(on(n.ib,n),6e3));if(1>=BU(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else bo(n,11)}else if((t.K||n.g==t)&&vg(n),!xl(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(n.V=c[0],c=c[1],2==n.H)if("c"==c[0]){n.K=c[1],n.pa=c[2];const l=c[3];null!=l&&(n.ra=l,n.l.info("VER="+n.ra));const d=c[4];null!=d&&(n.Ga=d,n.l.info("SVER="+n.Ga));const h=c[5];null!=h&&"number"==typeof h&&0<h&&(n.L=r=1.5*h,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;s.g||-1==p.indexOf("spdy")&&-1==p.indexOf("quic")&&-1==p.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(vT(s,s.h),s.h=null))}if(r.F){const m=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;m&&(r.Da=m,Fe(r.I,r.F,m))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms"));var o=t;if((r=n).wa=oB(r,r.J?r.pa:null,r.Y),o.K){$U(r.i,o);var a=o,u=r.L;u&&a.setTimeout(u),a.B&&(lg(a),Bl(a)),r.g=o}else tB(r);0<n.j.length&&_g(n)}else"stop"!=c[0]&&"close"!=c[0]||bo(n,7);else 3==n.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?bo(n,7):ET(n):"noop"!=c[0]&&n.h&&n.h.Aa(c),n.A=0)}Fl()}catch{}}function RU(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Jp(t)||"string"==typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function Xce(t){if(t.ta&&"function"==typeof t.ta)return t.ta();if(!t.Z||"function"!=typeof t.Z){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Jp(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}(t),r=function Yce(t){if(t.Z&&"function"==typeof t.Z)return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if("string"==typeof t)return t.split("");if(Jp(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}(N=Ul.prototype).setTimeout=function(t){this.P=t},N.nb=function(t){t=t.target;const e=this.M;e&&3==Zr(t)?e.l():this.Pa(t)},N.Pa=function(t){try{if(t==this.g)e:{const l=Zr(this.g);var e=this.g.Ia();if(this.g.da(),!(3>l)&&(3!=l||qb||this.g&&(this.h.h||this.g.ja()||QU(this.g)))){this.J||4!=l||7==e||Fl(),lg(this);var n=this.g.da();this.ca=n;t:if(AU(this)){var r=QU(this.g);t="";var i=r.length,s=4==Zr(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Do(this),$l(this);var o="";break t}this.h.i=new te.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=200==n,function zce(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.W,l,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!xl(a)){var c=a;break t}}c=null}if(!(n=c)){this.i=!1,this.o=3,wn(12),Do(this),$l(this);break e}au(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,yT(this,n)}this.S?(MU(this,l,o),qb&&this.i&&3==l&&(yU(this.U,this.V,"tick",this.mb),this.V.start())):(au(this.j,this.m,o,null),yT(this,o)),4==l&&Do(this),this.i&&!this.J&&(4==l?rB(this.l,this):(this.i=!1,Bl(this)))}else(function gle(t){const e={};t=(t.g&&2<=Zr(t)&&t.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<t.length;r++){if(xl(t[r]))continue;var n=Bce(t[r]);const i=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}!function kce(t,e){for(const n in t)e.call(void 0,t[n],n,t)}(e,function(r){return r.join(", ")})})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.o=3,wn(12)):(this.o=0,wn(13)),Do(this),$l(this)}}}catch{}},N.mb=function(){if(this.g){var t=Zr(this.g),e=this.g.ja();this.C<e.length&&(lg(this),MU(this,t,e),this.i&&4!=t&&Bl(this))}},N.cancel=function(){this.J=!0,Do(this)},N.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(function qce(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Fl(),wn(17)),Do(this),this.o=2,$l(this)):xU(this,this.Y-t)};var NU=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Co(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Co){this.h=t.h,dg(this,t.j),this.s=t.s,this.g=t.g,hg(this,t.m),this.l=t.l;var e=t.i,n=new Gl;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),kU(this,n),this.o=t.o}else t&&(e=String(t).match(NU))?(this.h=!1,dg(this,e[1]||"",!0),this.s=jl(e[2]||""),this.g=jl(e[3]||"",!0),hg(this,e[4]),this.l=jl(e[5]||"",!0),kU(this,e[6]||"",!0),this.o=jl(e[7]||"")):(this.h=!1,this.i=new Gl(null,this.h))}function Ui(t){return new Co(t)}function dg(t,e,n){t.j=n?jl(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function hg(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function kU(t,e,n){e instanceof Gl?(t.i=e,function ile(t,e){e&&!t.j&&(ms(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(OU(this,r),LU(this,i,n))},t)),t.j=e}(t.i,t.h)):(n||(e=Hl(e,nle)),t.i=new Gl(e,t.h))}function Fe(t,e,n){t.i.set(e,n)}function fg(t){return Fe(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function jl(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Hl(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Zce),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Zce(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Co.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Hl(e,PU,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(Hl(e,PU,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(Hl(n,"/"==n.charAt(0)?tle:ele,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Hl(n,rle)),t.join("")};var PU=/[#\/\?@]/g,ele=/[#\?:]/g,tle=/[#\?]/g,nle=/[#\?@]/g,rle=/#/g;function Gl(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function ms(t){t.g||(t.g=new Map,t.h=0,t.i&&function Jce(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function OU(t,e){ms(t),e=uu(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function FU(t,e){return ms(t),e=uu(t,e),t.g.has(e)}function LU(t,e,n){OU(t,e),0<n.length&&(t.i=null,t.g.set(uu(t,e),Gb(n)),t.h+=n.length)}function uu(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function VU(t){this.l=t||ole,t=te.PerformanceNavigationTiming?0<(t=te.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(te.g&&te.g.Ka&&te.g.Ka()&&te.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(N=Gl.prototype).add=function(t,e){ms(this),this.i=null,t=uu(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},N.forEach=function(t,e){ms(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)},N.ta=function(){ms(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n},N.Z=function(t){ms(this);let e=[];if("string"==typeof t)FU(this,t)&&(e=e.concat(this.g.get(uu(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},N.set=function(t,e){return ms(this),this.i=null,FU(this,t=uu(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},N.get=function(t,e){return t&&0<(t=this.Z(t)).length?String(t[0]):e},N.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};var ole=10;function UU(t){return!!t.h||!!t.g&&t.g.size>=t.j}function BU(t){return t.h?1:t.g?t.g.size:0}function _T(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function vT(t,e){t.g?t.g.add(e):t.h=e}function $U(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function jU(t){if(null!=t.h)return t.i.concat(t.h.F);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return Gb(t.i)}VU.prototype.cancel=function(){if(this.i=jU(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}};var ale=class{stringify(t){return te.JSON.stringify(t,void 0)}parse(t){return te.JSON.parse(t,void 0)}};function ule(){this.g=new ale}function cle(t,e,n){const r=n||"";try{RU(t,function(i,s){let o=i;Ml(i)&&(o=aT(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function pg(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function zl(t){this.l=t.fc||null,this.j=t.ob||!1}function gg(t,e){Nt.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=wT,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Rt(zl,dT),zl.prototype.g=function(){return new gg(this.l,this.j)},zl.prototype.i=function(t){return function(){return t}}({}),Rt(gg,Nt);var wT=0;function HU(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}function ql(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Wl(t)}function Wl(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(N=gg.prototype).open=function(t,e){if(this.readyState!=wT)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Wl(this)},N.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||te).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},N.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ql(this)),this.readyState=wT},N.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Wl(this)),this.g&&(this.readyState=3,Wl(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof te.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;HU(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))},N.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?ql(this):Wl(this),3==this.readyState&&HU(this)}},N.Za=function(t){this.g&&(this.response=this.responseText=t,ql(this))},N.Ya=function(t){this.g&&(this.response=t,ql(this))},N.ka=function(){this.g&&ql(this)},N.setRequestHeader=function(t,e){this.v.append(t,e)},N.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},N.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(gg.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var dle=te.JSON.parse;function tt(t){Nt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=GU,this.L=this.M=!1}Rt(tt,Nt);var GU="",hle=/^https?$/i,fle=["POST","PUT"];function zU(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,qU(t),mg(t)}function qU(t){t.F||(t.F=!0,zt(t,"complete"),zt(t,"error"))}function WU(t){if(t.h&&typeof jb<"u"&&(!t.C[1]||4!=Zr(t)||2!=t.da()))if(t.v&&4==Zr(t))lT(t.La,0,t);else if(zt(t,"readystatechange"),4==Zr(t)){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=0===o){var i=String(t.I).match(NU)[1]||null;!i&&te.self&&te.self.location&&(i=te.self.location.protocol.slice(0,-1)),r=!hle.test(i?i.toLowerCase():"")}n=r}if(n)zt(t,"complete"),zt(t,"success");else{t.m=6;try{var s=2<Zr(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",qU(t)}}finally{mg(t)}}}function mg(t,e){if(t.g){KU(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||zt(t,"ready");try{n.onreadystatechange=r}catch{}}}function KU(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(te.clearTimeout(t.A),t.A=null)}function Zr(t){return t.g?t.g.readyState:0}function QU(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case GU:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function YU(t){let e="";return Jb(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}function IT(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=YU(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Fe(t,e,n))}function Kl(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function XU(t){this.Ga=0,this.j=[],this.l=new sg,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Kl("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Kl("baseRetryDelayMs",5e3,t),this.hb=Kl("retryDelaySeedMs",1e4,t),this.eb=Kl("forwardChannelMaxRetries",2,t),this.xa=Kl("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new VU(t&&t.concurrentRequestLimit),this.Ja=new ule,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function ET(t){if(JU(t),3==t.H){var e=t.W++,n=Ui(t.I);if(Fe(n,"SID",t.K),Fe(n,"RID",e),Fe(n,"TYPE","terminate"),Ql(t,n),(e=new Ul(t,t.l,e)).L=2,e.v=fg(Ui(n)),n=!1,te.navigator&&te.navigator.sendBeacon)try{n=te.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&te.Image&&((new Image).src=e.v,n=!0),n||(e.g=aB(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Bl(e)}sB(t)}function yg(t){t.g&&(CT(t),t.g.cancel(),t.g=null)}function JU(t){yg(t),t.u&&(te.clearTimeout(t.u),t.u=null),vg(t),t.i.cancel(),t.m&&("number"==typeof t.m&&te.clearTimeout(t.m),t.m=null)}function _g(t){if(!UU(t.i)&&!t.m){t.m=!0;var e=t.Na;kl||pU(),Pl||(kl(),Pl=!0),uT.add(e,t),t.C=0}}function ZU(t,e){var n;n=e?e.m:t.W++;const r=Ui(t.I);Fe(r,"SID",t.K),Fe(r,"RID",n),Fe(r,"AID",t.V),Ql(t,r),t.o&&t.s&&IT(r,t.o,t.s),n=new Ul(t,t.l,n,t.C+1),null===t.o&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=eB(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),vT(t.i,n),mT(n,r,e)}function Ql(t,e){t.na&&Jb(t.na,function(n,r){Fe(e,r,n)}),t.h&&RU({},function(n,r){Fe(e,r,n)})}function eB(t,e,n){n=Math.min(t.j.length,n);var r=t.h?on(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];-1==s?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let u=0;u<n;u++){let c=i[u].g;const l=i[u].map;if(c-=s,0>c)s=Math.max(0,i[u].g-100),a=!1;else try{cle(l,o,"req"+c+"_")}catch{r&&r(l)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function tB(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;kl||pU(),Pl||(kl(),Pl=!0),uT.add(e,t),t.A=0}}function DT(t){return!(t.g||t.u||3<=t.A||(t.ba++,t.u=Ll(on(t.Ma,t),iB(t,t.A)),t.A++,0))}function CT(t){null!=t.B&&(te.clearTimeout(t.B),t.B=null)}function nB(t){t.g=new Ul(t,t.l,"rpc",t.ba),null===t.o&&(t.g.I=t.s),t.g.O=0;var e=Ui(t.wa);Fe(e,"RID","rpc"),Fe(e,"SID",t.K),Fe(e,"AID",t.V),Fe(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Fe(e,"TO",t.qa),Fe(e,"TYPE","xmlhttp"),Ql(t,e),t.o&&t.s&&IT(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=fg(Ui(e)),n.s=null,n.S=!0,SU(n,t)}function vg(t){null!=t.v&&(te.clearTimeout(t.v),t.v=null)}function rB(t,e){var n=null;if(t.g==e){vg(t),CT(t),t.g=null;var r=2}else{if(!_T(t.i,e))return;n=e.F,$U(t.i,e),r=1}if(0!=t.H)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;zt(r=og(),new EU(r,n)),_g(t)}else tB(t);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function mle(t,e){return!(BU(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.j=e.F.concat(t.j),0):1==t.H||2==t.H||t.C>=(t.cb?0:t.eb)||(t.m=Ll(on(t.Na,t,e),iB(t,t.C)),t.C++,0)))}(t,e)||2==r&&DT(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:bo(t,5);break;case 4:bo(t,10);break;case 3:bo(t,6);break;default:bo(t,2)}}function iB(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function bo(t,e){if(t.l.info("Error code "+e),2==e){var n=null;t.h&&(n=null);var r=on(t.pb,t);n||(n=new Co("//www.google.com/images/cleardot.gif"),te.location&&"http"==te.location.protocol||dg(n,"https"),fg(n)),function lle(t,e){const n=new sg;if(te.Image){const r=new Image;r.onload=Zp(pg,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Zp(pg,n,r,"TestLoadImage: error",!1,e),r.onabort=Zp(pg,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Zp(pg,n,r,"TestLoadImage: timeout",!1,e),te.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else wn(2);t.H=0,t.h&&t.h.za(e),sB(t),JU(t)}function sB(t){if(t.H=0,t.ma=[],t.h){const e=jU(t.i);(0!=e.length||0!=t.j.length)&&(eU(t.ma,e),eU(t.ma,t.j),t.i.i.length=0,Gb(t.j),t.j.length=0),t.h.ya()}}function oB(t,e,n){var r=n instanceof Co?Ui(n):new Co(n);if(""!=r.g)e&&(r.g=e+"."+r.g),hg(r,r.m);else{var i=te.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Co(null);r&&dg(s,r),e&&(s.g=e),i&&hg(s,i),n&&(s.l=n),r=s}return e=t.Da,(n=t.F)&&e&&Fe(r,n,e),Fe(r,"VER",t.ra),Ql(t,r),r}function aB(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new tt(n&&t.Ha&&!t.va?new zl({ob:!0}):t.va)).Oa(t.J),e}function uB(){}function wg(){if(ou&&!(10<=Number(Mce)))throw Error("Environmental error: no available transport.")}function Jn(t,e){Nt.call(this),this.g=new XU(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!xl(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!xl(e)&&(this.g.F=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new cu(this)}function cB(t){hT.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function lB(){fT.call(this),this.status=1}function cu(t){this.g=t}function Sr(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function bT(t,e,n){n||(n=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var s=t.g[3],o=(e=t.g[0])+(s^(n=t.g[1])&((i=t.g[2])^s))+r[0]+3614090360&4294967295;o=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=n+(o<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=e+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=e+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=e+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(e=n+((o=e+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(e^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}function Te(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=0|t[i];r&&s==e||(n[i]=s,r=!1)}this.g=n}(N=tt.prototype).Oa=function(t){this.M=t},N.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():pT.g(),this.C=function CU(t){return t.h||(t.h=t.i())}(this.u?this.u:pT),this.g.onreadystatechange=on(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){return void zU(this,s)}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())n.set(s,r.get(s))}r=Array.from(n.keys()).find(s=>"content-type"==s.toLowerCase()),i=te.FormData&&t instanceof te.FormData,!(0<=Z2(fle,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{KU(this),0<this.B&&((this.L=function ple(t){return ou&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=on(this.ua,this)):this.A=lT(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){zU(this,s)}},N.ua=function(){typeof jb<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,zt(this,"timeout"),this.abort(8))},N.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,zt(this,"complete"),zt(this,"abort"),mg(this))},N.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),mg(this,!0)),tt.$.N.call(this)},N.La=function(){this.s||(this.G||this.v||this.l?WU(this):this.kb())},N.kb=function(){WU(this)},N.isActive=function(){return!!this.g},N.da=function(){try{return 2<Zr(this)?this.g.status:-1}catch{return-1}},N.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},N.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),dle(e)}},N.Ia=function(){return this.m},N.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(N=XU.prototype).ra=8,N.H=1,N.Na=function(t){if(this.m)if(this.m=null,1==this.H){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new Ul(this,this.l,t);let s=this.s;if(this.U&&(s?(s=sU(s),aU(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=eB(this,i,e),Fe(n=Ui(this.I),"RID",t),Fe(n,"CVER",22),this.F&&Fe(n,"X-HTTP-Session-Id",this.F),Ql(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(YU(s)))+"&"+e:this.o&&IT(n,this.o,s)),vT(this.i,i),this.bb&&Fe(n,"TYPE","init"),this.P?(Fe(n,"$req",e),Fe(n,"SID","null"),i.aa=!0,mT(i,n,null)):mT(i,n,e),this.H=2}}else 3==this.H&&(t?ZU(this,t):0==this.j.length||UU(this.i)||ZU(this))},N.Ma=function(){if(this.u=null,nB(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Ll(on(this.jb,this),t)}},N.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,wn(10),yg(this),nB(this))},N.ib=function(){null!=this.v&&(this.v=null,yg(this),DT(this),wn(19))},N.pb=function(t){t?(this.l.info("Successfully pinged google.com"),wn(2)):(this.l.info("Failed to ping google.com"),wn(1))},N.isActive=function(){return!!this.h&&this.h.isActive(this)},(N=uB.prototype).Ba=function(){},N.Aa=function(){},N.za=function(){},N.ya=function(){},N.isActive=function(){return!0},N.Va=function(){},wg.prototype.g=function(t,e){return new Jn(t,e)},Rt(Jn,Nt),Jn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;wn(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=oB(t,null,t.Y),_g(t)},Jn.prototype.close=function(){ET(this.g)},Jn.prototype.u=function(t){var e=this.g;if("string"==typeof t){var n={};n.__data__=t,t=n}else this.v&&((n={}).__data__=aT(t),t=n);e.j.push(new class{constructor(t,e){this.g=t,this.map=e}}(e.fb++,t)),3==e.H&&_g(e)},Jn.prototype.N=function(){this.g.h=null,delete this.j,ET(this.g),delete this.g,Jn.$.N.call(this)},Rt(cB,hT),Rt(lB,fT),Rt(cu,uB),cu.prototype.Ba=function(){zt(this.g,"a")},cu.prototype.Aa=function(t){zt(this.g,new cB(t))},cu.prototype.za=function(t){zt(this.g,new lB)},cu.prototype.ya=function(){zt(this.g,"b")},Rt(Sr,function yle(){this.blockSize=-1}),Sr.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Sr.prototype.j=function(t,e){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(0==i)for(;s<=n;)bT(this,t,s),s+=this.blockSize;if("string"==typeof t){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){bT(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){bT(this,r),i=0;break}}this.h=i,this.i+=e},Sr.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=255&n,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};var _le={};function TT(t){return-128<=t&&128>t?function Tce(t,e){var n=_le;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,function(e){return new Te([0|e],0>e?-1:0)}):new Te([0|t],0>t?-1:0)}function ei(t){if(isNaN(t)||!isFinite(t))return lu;if(0>t)return qt(ei(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=ST;return new Te(e,0)}var ST=4294967296,lu=TT(0),AT=TT(1),hB=TT(16777216);function Bi(t){if(0!=t.h)return!1;for(var e=0;e<t.g.length;e++)if(0!=t.g[e])return!1;return!0}function dr(t){return-1==t.h}function qt(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Te(n,~t.h).add(AT)}function Ig(t,e){return t.add(qt(e))}function Eg(t,e){for(;(65535&t[e])!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Yl(t,e){this.g=t,this.h=e}function Dg(t,e){if(Bi(e))throw Error("division by zero");if(Bi(t))return new Yl(lu,lu);if(dr(t))return e=Dg(qt(t),e),new Yl(qt(e.g),qt(e.h));if(dr(e))return e=Dg(t,qt(e)),new Yl(qt(e.g),e.h);if(30<t.g.length){if(dr(t)||dr(e))throw Error("slowDivide_ only works with positive integers.");for(var n=AT,r=e;0>=r.X(t);)n=fB(n),r=fB(r);var i=du(n,1),s=du(r,1);for(r=du(r,2),n=du(n,2);!Bi(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=du(r,1),n=du(n,1)}return e=Ig(t,i.R(e)),new Yl(i,e)}for(i=lu;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(s=ei(n)).R(e);dr(o)||0<o.X(t);)o=(s=ei(n-=r)).R(e);Bi(s)&&(s=AT),i=i.add(s),t=Ig(t,o)}return new Yl(i,t)}function fB(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Te(n,t.h)}function du(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new Te(i,t.h)}(N=Te.prototype).ea=function(){if(dr(this))return-qt(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:ST+r)*e,e*=ST}return t},N.toString=function(t){if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if(Bi(this))return"0";if(dr(this))return"-"+qt(this).toString(t);for(var e=ei(Math.pow(t,6)),n=this,r="";;){var i=Dg(n,e).g,s=((0<(n=Ig(n,i.R(e))).g.length?n.g[0]:n.h)>>>0).toString(t);if(Bi(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},N.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h},N.X=function(t){return dr(t=Ig(this,t))?-1:Bi(t)?0:1},N.abs=function(){return dr(this)?qt(this):this},N.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(65535&this.D(i))+(65535&t.D(i)),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,n[i]=(o&=65535)<<16|(s&=65535)}return new Te(n,-2147483648&n[n.length-1]?-1:0)},N.R=function(t){if(Bi(this)||Bi(t))return lu;if(dr(this))return dr(t)?qt(this).R(qt(t)):qt(qt(this).R(t));if(dr(t))return qt(this.R(qt(t)));if(0>this.X(hB)&&0>t.X(hB))return ei(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=65535&this.D(r),a=t.D(i)>>>16,u=65535&t.D(i);n[2*r+2*i]+=o*u,Eg(n,2*r+2*i),n[2*r+2*i+1]+=s*u,Eg(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,Eg(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,Eg(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Te(n,0)},N.gb=function(t){return Dg(this,t).h},N.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Te(n,this.h&t.h)},N.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Te(n,this.h|t.h)},N.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Te(n,this.h^t.h)},wg.prototype.createWebChannel=wg.prototype.g,Jn.prototype.send=Jn.prototype.u,Jn.prototype.open=Jn.prototype.m,Jn.prototype.close=Jn.prototype.close,ag.NO_ERROR=0,ag.TIMEOUT=8,ag.HTTP_ERROR=6,DU.COMPLETE="complete",bU.EventType=Vl,Vl.OPEN="a",Vl.CLOSE="b",Vl.ERROR="c",Vl.MESSAGE="d",Nt.prototype.listen=Nt.prototype.O,tt.prototype.listenOnce=tt.prototype.P,tt.prototype.getLastError=tt.prototype.Sa,tt.prototype.getLastErrorCode=tt.prototype.Ia,tt.prototype.getStatus=tt.prototype.da,tt.prototype.getResponseJson=tt.prototype.Wa,tt.prototype.getResponseText=tt.prototype.ja,tt.prototype.send=tt.prototype.ha,tt.prototype.setWithCredentials=tt.prototype.Oa,Sr.prototype.digest=Sr.prototype.l,Sr.prototype.reset=Sr.prototype.reset,Sr.prototype.update=Sr.prototype.j,Te.prototype.add=Te.prototype.add,Te.prototype.multiply=Te.prototype.R,Te.prototype.modulo=Te.prototype.gb,Te.prototype.compare=Te.prototype.X,Te.prototype.toNumber=Te.prototype.ea,Te.prototype.toString=Te.prototype.toString,Te.prototype.getBits=Te.prototype.D,Te.fromNumber=ei,Te.fromString=function dB(t,e){if(0==t.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==t.charAt(0))return qt(dB(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=ei(Math.pow(e,8)),r=lu,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=ei(Math.pow(e,s)),r=r.R(s).add(ei(o))):r=(r=r.R(n)).add(ei(o))}return r};var vle=Tr.createWebChannelTransport=function(){return new wg},wle=Tr.getStatEventTarget=function(){return og()},MT=Tr.ErrorCode=ag,Ile=Tr.EventType=DU,Ele=Tr.Event=Eo,pB=Tr.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Dle=Tr.FetchXmlHttpFactory=zl,Cg=Tr.WebChannel=bU,Cle=Tr.XhrIo=tt,ble=Tr.Md5=Sr,hu=Tr.Integer=Te;const gB="@firebase/firestore";class kt{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}kt.UNAUTHENTICATED=new kt(null),kt.GOOGLE_CREDENTIALS=new kt("google-credentials-uid"),kt.FIRST_PARTY=new kt("first-party-uid"),kt.MOCK_USER=new kt("mock-user");let fu="9.22.1";const ys=new Qa("@firebase/firestore");function xT(){return ys.logLevel}function S(t,...e){if(ys.logLevel<=Y.DEBUG){const n=e.map(RT);ys.debug(`Firestore (${fu}): ${t}`,...n)}}function st(t,...e){if(ys.logLevel<=Y.ERROR){const n=e.map(RT);ys.error(`Firestore (${fu}): ${t}`,...n)}}function Ar(t,...e){if(ys.logLevel<=Y.WARN){const n=e.map(RT);ys.warn(`Firestore (${fu}): ${t}`,...n)}}function RT(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch{return t}}function F(t="Unexpected state"){const e=`FIRESTORE (${fu}) INTERNAL ASSERTION FAILED: `+t;throw st(e),new Error(e)}function U(t,e){t||F()}function R(t,e){return t}const I={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class C extends Xn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Dt{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class mB{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Tle{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(kt.UNAUTHENTICATED))}shutdown(){}}class Sle{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Ale{constructor(e){this.t=e,this.currentUser=kt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let i=this.i;const s=c=>this.i!==i?(i=this.i,n(c)):Promise.resolve();let o=new Dt;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Dt,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=o;e.enqueueRetryable(g(function*(){yield c.promise,yield s(r.currentUser)}))},u=c=>{S("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(S("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Dt)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(S("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(U("string"==typeof r.accessToken),new mB(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return U(null===e||"string"==typeof e),new kt(e)}}class Mle{constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=kt.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class xle{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new Mle(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(kt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class yB{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Rle{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const r=s=>{null!=s.error&&S("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.T;return this.T=s.token,S("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{S("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?i(s):S("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(U("string"==typeof n.token),this.T=n.token,new yB(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Nle(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class _B{static A(){const n=62*Math.floor(256/62);let r="";for(;r.length<20;){const i=Nle(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[s]%62))}return r}}function J(t,e){return t<e?-1:t>e?1:0}function pu(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}class Qe{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new C(I.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new C(I.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new C(I.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new C(I.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Qe.fromMillis(Date.now())}static fromDate(e){return Qe.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Qe(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?J(this.nanoseconds,e.nanoseconds):J(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class B{constructor(e){this.timestamp=e}static fromTimestamp(e){return new B(e)}static min(){return new B(new Qe(0,0))}static max(){return new B(new Qe(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Xl{constructor(e,n,r){void 0===n?n=0:n>e.length&&F(),void 0===r?r=e.length-n:r>e.length-n&&F(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===Xl.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Xl?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class fe extends Xl{construct(e,n,r){return new fe(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new C(I.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new fe(n)}static emptyPath(){return new fe([])}}const kle=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ot extends Xl{construct(e,n,r){return new ot(e,n,r)}static isValidIdentifier(e){return kle.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ot.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new ot(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(0===r.length)throw new C(I.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new C(I.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new C(I.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new C(I.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ot(n)}static emptyPath(){return new ot([])}}class x{constructor(e){this.path=e}static fromPath(e){return new x(fe.fromString(e))}static fromName(e){return new x(fe.fromString(e).popFirst(5))}static empty(){return new x(fe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===fe.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return fe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new x(new fe(e.slice()))}}function IB(t){return new Zn(t.readTime,t.key,-1)}class Zn{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Zn(B.min(),x.empty(),-1)}static max(){return new Zn(B.max(),x.empty(),-1)}}function kT(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=x.comparator(t.documentKey,e.documentKey),0!==n?n:J(t.largestBatchId,e.largestBatchId))}const EB="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Fle{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function _s(t){return PT.apply(this,arguments)}function PT(){return PT=g(function*(t){if(t.code!==I.FAILED_PRECONDITION||t.message!==EB)throw t;S("LocalStore","Unexpectedly lost primary lease")}),PT.apply(this,arguments)}class w{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&F(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new w((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof w?n:w.resolve(n)}catch(n){return w.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):w.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):w.reject(n)}static resolve(e){return new w((n,r)=>{n(e)})}static reject(e){return new w((n,r)=>{r(e)})}static waitFor(e){return new w((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=w.resolve(!1);for(const r of e)n=n.next(i=>i?w.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new w((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let u=0;u<s;u++){const c=u;n(e[c]).next(l=>{o[c]=l,++a,a===s&&r(o)},l=>i(l))}})}static doWhile(e,n){return new w((r,i)=>{const s=()=>{!0===e()?n().next(()=>{s()},i):r()};s()})}}function vs(t){return"IndexedDbTransactionError"===t.name}let er=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ot(i),this.ut=i=>r.writeSequenceNumber(i))}ot(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.ut&&this.ut(n),n}}return t.ct=-1,t})();function ed(t){return null==t}function td(t){return 0===t&&1/t==-1/0}function RB(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ws(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}class ke{constructor(e,n){this.comparator=e,this.root=n||Wt.EMPTY}insert(e,n){return new ke(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Wt.BLACK,null,null))}remove(e){return new ke(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Wt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Mg(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Mg(this.root,e,this.comparator,!1)}getReverseIterator(){return new Mg(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Mg(this.root,e,this.comparator,!0)}}class Mg{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Wt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Wt.RED,this.left=i??Wt.EMPTY,this.right=s??Wt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Wt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===s?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Wt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return Wt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Wt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Wt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw F();const e=this.left.check();if(e!==this.right.check())throw F();return e+(this.isRed()?0:1)}}Wt.EMPTY=null,Wt.RED=!0,Wt.BLACK=!1,Wt.EMPTY=new class{constructor(){this.size=0}get key(){throw F()}get value(){throw F()}get color(){throw F()}get left(){throw F()}get right(){throw F()}copy(t,e,n,r,i){return this}insert(t,e,n){return new Wt(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Le{constructor(e){this.comparator=e,this.data=new ke(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new kB(this.data.getIterator())}getIteratorFrom(e){return new kB(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Le)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Le(this.comparator);return n.data=e,n}}class kB{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Vn{constructor(e){this.fields=e,e.sort(ot.comparator)}static empty(){return new Vn([])}unionWith(e){let n=new Le(ot.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Vn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return pu(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class PB extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ct{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new PB("Invalid base64 string: "+i):i}}(e);return new Ct(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new Ct(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return J(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ct.EMPTY_BYTE_STRING=new Ct("");const sde=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Is(t){if(U(!!t),"string"==typeof t){let e=0;const n=sde.exec(t);if(U(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:nt(t.seconds),nanos:nt(t.nanos)}}function nt(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function $i(t){return"string"==typeof t?Ct.fromBase64String(t):Ct.fromUint8Array(t)}function xg(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=t?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Rg(t){const e=t.mapValue.fields.__previous_value__;return xg(e)?Rg(e):e}function nd(t){const e=Is(t.mapValue.fields.__local_write_time__.timestampValue);return new Qe(e.seconds,e.nanos)}class ode{constructor(e,n,r,i,s,o,a,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=c}}class Ao{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Ao("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Ao&&e.projectId===this.projectId&&e.database===this.database}}const Es={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ds(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?xg(t)?4:VB(t)?9007199254740991:10:F()}function ni(t,e){if(t===e)return!0;const n=Ds(t);if(n!==Ds(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return nd(t).isEqual(nd(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=Is(r.timestampValue),o=Is(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return i=e,$i(t.bytesValue).isEqual($i(i.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return nt(r.geoPointValue.latitude)===nt(i.geoPointValue.latitude)&&nt(r.geoPointValue.longitude)===nt(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return nt(r.integerValue)===nt(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=nt(r.doubleValue),o=nt(i.doubleValue);return s===o?td(s)===td(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return pu(t.arrayValue.values||[],e.arrayValue.values||[],ni);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(RB(s)!==RB(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(void 0===o[a]||!ni(s[a],o[a])))return!1;return!0}(t,e);default:return F()}var i}function rd(t,e){return void 0!==(t.values||[]).find(n=>ni(n,e))}function Cs(t,e){if(t===e)return 0;const n=Ds(t),r=Ds(e);if(n!==r)return J(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return J(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=nt(i.integerValue||i.doubleValue),a=nt(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return OB(t.timestampValue,e.timestampValue);case 4:return OB(nd(t),nd(e));case 5:return J(t.stringValue,e.stringValue);case 6:return function(i,s){const o=$i(i),a=$i(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let u=0;u<o.length&&u<a.length;u++){const c=J(o[u],a[u]);if(0!==c)return c}return J(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=J(nt(i.latitude),nt(s.latitude));return 0!==o?o:J(nt(i.longitude),nt(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let u=0;u<o.length&&u<a.length;++u){const c=Cs(o[u],a[u]);if(c)return c}return J(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===Es.mapValue&&s===Es.mapValue)return 0;if(i===Es.mapValue)return 1;if(s===Es.mapValue)return-1;const o=i.fields||{},a=Object.keys(o),u=s.fields||{},c=Object.keys(u);a.sort(),c.sort();for(let l=0;l<a.length&&l<c.length;++l){const d=J(a[l],c[l]);if(0!==d)return d;const h=Cs(o[a[l]],u[c[l]]);if(0!==h)return h}return J(a.length,c.length)}(t.mapValue,e.mapValue);default:throw F()}}function OB(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return J(t,e);const n=Is(t),r=Is(e),i=J(n.seconds,r.seconds);return 0!==i?i:J(n.nanos,r.nanos)}function mu(t){return LT(t)}function LT(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=Is(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?$i(t.bytesValue).toBase64():"referenceValue"in t?x.fromName(t.referenceValue).toString():"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=LT(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${LT(r.fields[a])}`;return s+"}"}(t.mapValue):F();var e}function VT(t){return!!t&&"integerValue"in t}function id(t){return!!t&&"arrayValue"in t}function FB(t){return!!t&&"nullValue"in t}function LB(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Pg(t){return!!t&&"mapValue"in t}function sd(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ws(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=sd(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=sd(t.arrayValue.values[n]);return e}return Object.assign({},t)}function VB(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}class Kt{constructor(e){this.value=e}static empty(){return new Kt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Pg(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=sd(n)}setAll(e){let n=ot.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=sd(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Pg(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ni(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Pg(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ws(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Kt(sd(this.value))}}class Ve{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Ve(e,0,B.min(),B.min(),B.min(),Kt.empty(),0)}static newFoundDocument(e,n,r,i){return new Ve(e,1,n,B.min(),r,i,0)}static newNoDocument(e,n){return new Ve(e,2,n,B.min(),B.min(),Kt.empty(),0)}static newUnknownDocument(e,n){return new Ve(e,3,n,B.min(),B.min(),Kt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(B.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Kt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Kt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=B.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Ve&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ve(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class bs{constructor(e,n){this.position=e,this.inclusive=n}}function jB(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(r=s.field.isKeyField()?x.comparator(x.fromName(o.referenceValue),n.key):Cs(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function HB(t,e){if(null===t)return null===e;if(null===e||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ni(t.position[n],e.position[n]))return!1;return!0}class yu{constructor(e,n="asc"){this.field=e,this.dir=n}}function cde(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class GB{}class le extends GB{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,r):new lde(e,n,r):"array-contains"===n?new fde(e,r):"in"===n?new YB(e,r):"not-in"===n?new pde(e,r):"array-contains-any"===n?new gde(e,r):new le(e,n,r)}static createKeyFieldInFilter(e,n,r){return"in"===n?new dde(e,r):new hde(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(Cs(n,this.value)):null!==n&&Ds(this.value)===Ds(n)&&this.matchesComparison(Cs(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return F()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Se extends GB{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new Se(e,n)}matches(e){return _u(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return null!==e?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function _u(t){return"and"===t.op}function BT(t){return function zB(t){for(const e of t.filters)if(e instanceof Se)return!1;return!0}(t)&&_u(t)}function $T(t){if(t instanceof le)return t.field.canonicalString()+t.op.toString()+mu(t.value);if(BT(t))return t.filters.map(e=>$T(e)).join(",");{const e=t.filters.map(n=>$T(n)).join(",");return`${t.op}(${e})`}}function qB(t,e){return t instanceof le?(n=t,(r=e)instanceof le&&n.op===r.op&&n.field.isEqual(r.field)&&ni(n.value,r.value)):t instanceof Se?function(n,r){return r instanceof Se&&n.op===r.op&&n.filters.length===r.filters.length&&n.filters.reduce((i,s,o)=>i&&qB(s,r.filters[o]),!0)}(t,e):void F();var n,r}function KB(t){return t instanceof le?`${(e=t).field.canonicalString()} ${e.op} ${mu(e.value)}`:t instanceof Se?function(e){return e.op.toString()+" {"+e.getFilters().map(KB).join(" ,")+"}"}(t):"Filter";var e}class lde extends le{constructor(e,n,r){super(e,n,r),this.key=x.fromName(r.referenceValue)}matches(e){const n=x.comparator(e.key,this.key);return this.matchesComparison(n)}}class dde extends le{constructor(e,n){super(e,"in",n),this.keys=QB(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class hde extends le{constructor(e,n){super(e,"not-in",n),this.keys=QB(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function QB(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>x.fromName(r.referenceValue))}class fde extends le{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return id(n)&&rd(n.arrayValue,this.value)}}class YB extends le{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&rd(this.value.arrayValue,n)}}class pde extends le{constructor(e,n){super(e,"not-in",n)}matches(e){if(rd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!rd(this.value.arrayValue,n)}}class gde extends le{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!id(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>rd(this.value.arrayValue,r))}}class mde{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.dt=null}}function jT(t,e=null,n=[],r=[],i=null,s=null,o=null){return new mde(t,e,n,r,i,s,o)}function xo(t){const e=R(t);if(null===e.dt){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>$T(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),ed(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>mu(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>mu(r)).join(",")),e.dt=n}return e.dt}function od(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!cde(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!qB(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!HB(t.startAt,e.startAt)&&HB(t.endAt,e.endAt)}function Og(t){return x.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class ji{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.wt=null,this._t=null}}function vu(t){return new ji(t)}function e$(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function Ro(t){const e=R(t);if(null===e.wt){e.wt=[];const n=function Lg(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(null!==n)return n}return null}(e),r=function HT(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}(e);if(null!==n&&null===r)n.isKeyField()||e.wt.push(new yu(n)),e.wt.push(new yu(ot.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.wt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new yu(ot.keyField(),s))}}}return e.wt}function In(t){const e=R(t);if(!e._t)if("F"===e.limitType)e._t=jT(e.path,e.collectionGroup,Ro(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of Ro(e))n.push(new yu(s.field,"desc"===s.dir?"asc":"desc"));const r=e.endAt?new bs(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new bs(e.startAt.position,e.startAt.inclusive):null;e._t=jT(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e._t}function Vg(t,e,n){return new ji(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function ad(t,e){return od(In(t),In(e))&&t.limitType===e.limitType}function t$(t){return`${xo(In(t))}|lt:${t.limitType}`}function qT(t){return`Query(target=${function(e){let n=e.path.canonicalString();return null!==e.collectionGroup&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>KB(r)).join(", ")}]`),ed(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>mu(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>mu(r)).join(",")),`Target(${n})`}(In(t))}; limitType=${t.limitType})`}function ud(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return null!==n.collectionGroup?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):x.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of Ro(n))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&(r=e,!((n=t).startAt&&!function(i,s,o){const a=jB(i,s,o);return i.inclusive?a<=0:a<0}(n.startAt,Ro(n),r)||n.endAt&&!function(i,s,o){const a=jB(i,s,o);return i.inclusive?a>=0:a>0}(n.endAt,Ro(n),r)));var n,r}function r$(t){return(e,n)=>{let r=!1;for(const i of Ro(t)){const s=yde(i,e,n);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function yde(t,e,n){const r=t.field.isKeyField()?x.comparator(e.key,n.key):function(i,s,o){const a=s.data.field(i),u=o.data.field(i);return null!==a&&null!==u?Cs(a,u):F()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return F()}}class Hi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ws(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return function NB(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}(this.inner)}size(){return this.innerSize}}const _de=new ke(x.comparator);function Un(){return _de}const i$=new ke(x.comparator);function cd(...t){let e=i$;for(const n of t)e=e.insert(n.key,n);return e}function s$(t){let e=i$;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ri(){return ld()}function o$(){return ld()}function ld(){return new Hi(t=>t.toString(),(t,e)=>t.isEqual(e))}new ke(x.comparator);const wde=new Le(x.comparator);function oe(...t){let e=wde;for(const n of t)e=e.add(n);return e}const Ide=new Le(J);class Ug{constructor(){this._=void 0}}function Ede(t,e,n){return t instanceof wu?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&xg(i)&&(i=Rg(i)),i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof No?d$(t,e):t instanceof ko?h$(t,e):function(r,i){const s=function l$(t,e){return t instanceof Iu?VT(n=e)||(r=n)&&"doubleValue"in r?e:{integerValue:0}:null;var r,n}(r,i),o=f$(s)+f$(r.gt);return VT(s)&&VT(r.gt)?function u$(t){return{integerValue:""+t}}(o):function a$(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:td(e)?"-0":e}}(r.serializer,o)}(t,e)}function Dde(t,e,n){return t instanceof No?d$(t,e):t instanceof ko?h$(t,e):n}class wu extends Ug{}class No extends Ug{constructor(e){super(),this.elements=e}}function d$(t,e){const n=p$(e);for(const r of t.elements)n.some(i=>ni(i,r))||n.push(r);return{arrayValue:{values:n}}}class ko extends Ug{constructor(e){super(),this.elements=e}}function h$(t,e){let n=p$(e);for(const r of t.elements)n=n.filter(i=>!ni(i,r));return{arrayValue:{values:n}}}class Iu extends Ug{constructor(e,n){super(),this.serializer=e,this.gt=n}}function f$(t){return nt(t.integerValue||t.doubleValue)}function p$(t){return id(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class $e{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new $e}static exists(e){return new $e(void 0,e)}static updateTime(e){return new $e(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Bg(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class KT{}function g$(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new Du(t.key,$e.none()):new Eu(t.key,t.data,$e.none());{const n=t.data,r=Kt.empty();let i=new Le(ot.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);null===o&&s.length>1&&(s=s.popLast(),o=n.field(s)),null===o?r.delete(s):r.set(s,o),i=i.add(s)}return new Gi(t.key,r,new Vn(i.toArray()),$e.none())}}function Tde(t,e,n){t instanceof Eu?function(r,i,s){const o=r.value.clone(),a=_$(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof Gi?function(r,i,s){if(!Bg(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=_$(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(y$(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function hd(t,e,n,r){return t instanceof Eu?function(i,s,o,a){if(!Bg(i.precondition,s))return o;const u=i.value.clone(),c=v$(i.fieldTransforms,a,s);return u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Gi?function(i,s,o,a){if(!Bg(i.precondition,s))return o;const u=v$(i.fieldTransforms,a,s),c=s.data;return c.setAll(y$(i)),c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null===o?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(l=>l.field))}(t,e,n,r):(o=n,Bg(t.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o);var s,o}function m$(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(n=t.fieldTransforms)&&void 0===r||n&&r&&pu(n,r,(i,s)=>function Cde(t,e){return t.field.isEqual(e.field)&&(r=e.transform,(n=t.transform)instanceof No&&r instanceof No||n instanceof ko&&r instanceof ko?pu(n.elements,r.elements,ni):n instanceof Iu&&r instanceof Iu?ni(n.gt,r.gt):n instanceof wu&&r instanceof wu);var n,r}(i,s))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var n,r}class Eu extends KT{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Gi extends KT{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function y$(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function _$(t,e,n){const r=new Map;U(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,Dde(o,a,n[i]))}return r}function v$(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,Ede(s,o,e))}return r}class Du extends KT{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class YT{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&Tde(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=hd(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=hd(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=o$();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const u=g$(o,a);null!==u&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(B.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),oe())}isEqual(e){return this.batchId===e.batchId&&pu(this.mutations,e.mutations,(n,r)=>m$(n,r))&&pu(this.baseMutations,e.baseMutations,(n,r)=>m$(n,r))}}class JT{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Mde{constructor(e,n){this.count=e,this.unchangedNames=n}}var pt,pe;function I$(t){if(void 0===t)return st("GRPC error has no .code"),I.UNKNOWN;switch(t){case pt.OK:return I.OK;case pt.CANCELLED:return I.CANCELLED;case pt.UNKNOWN:return I.UNKNOWN;case pt.DEADLINE_EXCEEDED:return I.DEADLINE_EXCEEDED;case pt.RESOURCE_EXHAUSTED:return I.RESOURCE_EXHAUSTED;case pt.INTERNAL:return I.INTERNAL;case pt.UNAVAILABLE:return I.UNAVAILABLE;case pt.UNAUTHENTICATED:return I.UNAUTHENTICATED;case pt.INVALID_ARGUMENT:return I.INVALID_ARGUMENT;case pt.NOT_FOUND:return I.NOT_FOUND;case pt.ALREADY_EXISTS:return I.ALREADY_EXISTS;case pt.PERMISSION_DENIED:return I.PERMISSION_DENIED;case pt.FAILED_PRECONDITION:return I.FAILED_PRECONDITION;case pt.ABORTED:return I.ABORTED;case pt.OUT_OF_RANGE:return I.OUT_OF_RANGE;case pt.UNIMPLEMENTED:return I.UNIMPLEMENTED;case pt.DATA_LOSS:return I.DATA_LOSS;default:return F()}}(pe=pt||(pt={}))[pe.OK=0]="OK",pe[pe.CANCELLED=1]="CANCELLED",pe[pe.UNKNOWN=2]="UNKNOWN",pe[pe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",pe[pe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",pe[pe.NOT_FOUND=5]="NOT_FOUND",pe[pe.ALREADY_EXISTS=6]="ALREADY_EXISTS",pe[pe.PERMISSION_DENIED=7]="PERMISSION_DENIED",pe[pe.UNAUTHENTICATED=16]="UNAUTHENTICATED",pe[pe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",pe[pe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",pe[pe.ABORTED=10]="ABORTED",pe[pe.OUT_OF_RANGE=11]="OUT_OF_RANGE",pe[pe.UNIMPLEMENTED=12]="UNIMPLEMENTED",pe[pe.INTERNAL=13]="INTERNAL",pe[pe.UNAVAILABLE=14]="UNAVAILABLE",pe[pe.DATA_LOSS=15]="DATA_LOSS";class ZT{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return $g}static getOrCreateInstance(){return null===$g&&($g=new ZT),$g}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let $g=null;const xde=new hu([4294967295,4294967295],0);function D$(t){const e=function E$(){return new TextEncoder}().encode(t),n=new ble;return n.update(e),new Uint8Array(n.digest())}function C$(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new hu([n,r],0),new hu([i,s],0)]}class e0{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new fd(`Invalid padding: ${n}`);if(r<0)throw new fd(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new fd(`Invalid hash count: ${r}`);if(0===e.length&&0!==n)throw new fd(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=hu.fromNumber(this.It)}Et(e,n,r){let i=e.add(n.multiply(hu.fromNumber(r)));return 1===i.compare(xde)&&(i=new hu([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const n=D$(e),[r,i]=C$(n);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);if(!this.At(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new e0(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(0===this.It)return;const n=D$(e),[r,i]=C$(n);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);this.Rt(o)}}Rt(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class fd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class pd{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,gd.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new pd(B.min(),i,new ke(J),Un(),oe())}}class gd{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new gd(r,n,oe(),oe(),oe())}}class jg{constructor(e,n,r,i){this.Pt=e,this.removedTargetIds=n,this.key=r,this.bt=i}}class b${constructor(e,n){this.targetId=e,this.Vt=n}}class T${constructor(e,n,r=Ct.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class S${constructor(){this.St=0,this.Dt=M$(),this.Ct=Ct.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=oe(),n=oe(),r=oe();return this.Dt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:F()}}),new gd(this.Ct,this.xt,e,n,r)}Ft(){this.Nt=!1,this.Dt=M$()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class Rde{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Un(),this.zt=A$(),this.Wt=new ke(J)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const r=this.Zt(n);switch(e.state){case 0:this.te(n)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(n);break;case 3:this.te(n)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),r.$t(e.resumeToken));break;default:F()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((r,i)=>{this.te(i)&&n(i)})}ne(e){var n;const r=e.targetId,i=e.Vt.count,s=this.se(r);if(s){const o=s.target;if(Og(o))if(0===i){const a=new x(o.path);this.Yt(r,a,Ve.newNoDocument(a,B.min()))}else U(1===i);else{const a=this.ie(r);if(a!==i){const u=this.re(e,a);0!==u&&(this.ee(r),this.Wt=this.Wt.insert(r,2===u?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(n=ZT.instance)||void 0===n||n.notifyOnExistenceFilterMismatch(function(c,l,d){var h,f,p,m,y,v;const _={localCacheCount:l,existenceFilterCount:d.count},E=d.unchangedNames;return E&&(_.bloomFilter={applied:0===c,hashCount:null!==(h=E?.hashCount)&&void 0!==h?h:0,bitmapLength:null!==(m=null===(p=null===(f=E?.bits)||void 0===f?void 0:f.bitmap)||void 0===p?void 0:p.length)&&void 0!==m?m:0,padding:null!==(v=null===(y=E?.bits)||void 0===y?void 0:y.padding)&&void 0!==v?v:0}),_}(u,a,e.Vt))}}}}re(e,n){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:s="",padding:o=0},hashCount:a=0}=r;let u,c;try{u=$i(s).toUint8Array()}catch(l){if(l instanceof PB)return Ar("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw l}try{c=new e0(u,o,a)}catch(l){return Ar(l instanceof fd?"BloomFilter error: ":"Applying bloom filter failed: ",l),1}return 0===c.It?1:i!==n-this.oe(e.targetId,c)?2:0}oe(e,n){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(s=>{const o=this.Gt.ue(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;n.vt(a)||(this.Yt(e,s,null),i++)}),i}ce(e){const n=new Map;this.Qt.forEach((s,o)=>{const a=this.se(o);if(a){if(s.current&&Og(a.target)){const u=new x(a.target.path);null!==this.jt.get(u)||this.ae(o,u)||this.Yt(o,u,Ve.newNoDocument(u,e))}s.Mt&&(n.set(o,s.Ot()),s.Ft())}});let r=oe();this.zt.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const c=this.se(u);return!c||"TargetPurposeLimboResolution"===c.purpose||(a=!1,!1)}),a&&(r=r.add(s))}),this.jt.forEach((s,o)=>o.setReadTime(e));const i=new pd(e,n,this.Wt,this.jt,r);return this.jt=Un(),this.zt=A$(),this.Wt=new ke(J),i}Jt(e,n){if(!this.te(e))return;const r=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,r),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,n)?i.Bt(n,1):i.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),r&&(this.jt=this.jt.insert(n,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new S$,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new Le(J),this.zt=this.zt.insert(e,n)),n}te(e){const n=null!==this.se(e);return n||S("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new S$),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function A$(){return new ke(x.comparator)}function M$(){return new ke(x.comparator)}const Nde={asc:"ASCENDING",desc:"DESCENDING"},kde={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Pde={and:"AND",or:"OR"};class Ode{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function t0(t,e){return t.useProto3Json||ed(e)?e:{value:e}}function at(t){return U(!!t),B.fromTimestamp(function(e){const n=Is(e);return new Qe(n.seconds,n.nanos)}(t))}function R$(t){const e=fe.fromString(t);return U(B$(e)),e}function ii(t,e){const n=R$(e);if(n.get(1)!==t.databaseId.projectId)throw new C(I.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new C(I.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new x(k$(n))}function r0(t,e){return function n0(t,e){return(n=t,new fe(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}(t.databaseId,e)}function yd(t){return new fe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function k$(t){return U(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function F$(t,e){return{documents:[r0(t,e.path)]}}function o0(t,e){const n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=r0(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=r0(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(u){if(0!==u.length)return U$(Se.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(u){if(0!==u.length)return u.map(c=>{return{field:Ts((l=c).field),direction:$de(l.dir)};var l})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=t0(t,e.limit);var a,u;return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt={before:!(u=e.endAt).inclusive,values:u.position}),n}function L$(t){let e=function N$(t){const e=R$(t);return 4===e.length?fe.emptyPath():k$(e)}(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){U(1===r);const l=n.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let s=[];n.where&&(s=function(l){const d=V$(l);return d instanceof Se&&BT(d)?d.getFilters():[d]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(l=>{return new yu(bu((d=l).field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction));var d}));let a=null;n.limit&&(a=function(l){let d;return d="object"==typeof l?l.value:l,ed(d)?null:d}(n.limit));let u=null;var l;n.startAt&&(u=new bs((l=n.startAt).values||[],!!l.before));let c=null;return n.endAt&&(c=function(l){return new bs(l.values||[],!l.before)}(n.endAt)),function ZB(t,e,n,r,i,s,o,a){return new ji(t,e,n,r,i,s,o,a)}(e,i,o,s,a,"F",u,c)}function V$(t){return void 0!==t.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=bu(e.unaryFilter.field);return le.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=bu(e.unaryFilter.field);return le.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=bu(e.unaryFilter.field);return le.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=bu(e.unaryFilter.field);return le.create(s,"!=",{nullValue:"NULL_VALUE"});default:return F()}}(t):void 0!==t.fieldFilter?le.create(bu((e=t).fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return F()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==t.compositeFilter?function(e){return Se.create(e.compositeFilter.filters.map(n=>V$(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return F()}}(e.compositeFilter.op))}(t):F();var e}function $de(t){return Nde[t]}function jde(t){return kde[t]}function Hde(t){return Pde[t]}function Ts(t){return{fieldPath:t.canonicalString()}}function bu(t){return ot.fromServerFormat(t.fieldPath)}function U$(t){return t instanceof le?function(e){if("=="===e.op){if(LB(e.value))return{unaryFilter:{field:Ts(e.field),op:"IS_NAN"}};if(FB(e.value))return{unaryFilter:{field:Ts(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(LB(e.value))return{unaryFilter:{field:Ts(e.field),op:"IS_NOT_NAN"}};if(FB(e.value))return{unaryFilter:{field:Ts(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ts(e.field),op:jde(e.op),value:e.value}}}(t):t instanceof Se?function(e){const n=e.getFilters().map(r=>U$(r));return 1===n.length?n[0]:{compositeFilter:{op:Hde(e.op),filters:n}}}(t):F()}function B$(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class zi{constructor(e,n,r,i,s=B.min(),o=B.min(),a=Ct.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new zi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new zi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new zi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new zi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class $${constructor(e){this.fe=e}}function a0(t){const e=L$({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Vg(e,e.limit,"L"):e}class Lo{constructor(){}_e(e,n){this.me(e,n),n.ge()}me(e,n){if("nullValue"in e)this.ye(n,5);else if("booleanValue"in e)this.ye(n,10),n.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(n,15),n.pe(nt(e.integerValue));else if("doubleValue"in e){const r=nt(e.doubleValue);isNaN(r)?this.ye(n,13):(this.ye(n,15),td(r)?n.pe(0):n.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(n,20),"string"==typeof r?n.Ie(r):(n.Ie(`${r.seconds||""}`),n.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,n),this.Ee(n);else if("bytesValue"in e)this.ye(n,30),n.Ae($i(e.bytesValue)),this.Ee(n);else if("referenceValue"in e)this.ve(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(n,45),n.pe(r.latitude||0),n.pe(r.longitude||0)}else"mapValue"in e?VB(e)?this.ye(n,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,n),this.Ee(n)):"arrayValue"in e?(this.Pe(e.arrayValue,n),this.Ee(n)):F()}Te(e,n){this.ye(n,25),this.be(e,n)}be(e,n){n.Ie(e)}Re(e,n){const r=e.fields||{};this.ye(n,55);for(const i of Object.keys(r))this.Te(i,n),this.me(r[i],n)}Pe(e,n){const r=e.values||[];this.ye(n,50);for(const i of r)this.me(i,n)}ve(e,n){this.ye(n,37),x.fromName(e).path.forEach(r=>{this.ye(n,60),this.be(r,n)})}ye(e,n){e.pe(n)}Ee(e){e.pe(2)}}Lo.Ve=new Lo;class Zde{constructor(){this.rn=new f0}addToCollectionParentIndex(e,n){return this.rn.add(n),w.resolve()}getCollectionParents(e,n){return w.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return w.resolve()}deleteFieldIndex(e,n){return w.resolve()}getDocumentsMatchingTarget(e,n){return w.resolve(null)}getIndexType(e,n){return w.resolve(0)}getFieldIndexes(e,n){return w.resolve([])}getNextCollectionGroupToUpdate(e){return w.resolve(null)}getMinOffset(e,n){return w.resolve(Zn.min())}getMinOffsetFromCollectionGroup(e,n){return w.resolve(Zn.min())}updateCollectionGroup(e,n,r){return w.resolve()}updateIndexEntries(e,n){return w.resolve()}}class f0{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Le(fe.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Le(fe.comparator)).toArray()}}new Uint8Array(0);class cn{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new cn(e,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}cn.DEFAULT_COLLECTION_PERCENTILE=10,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cn.DEFAULT=new cn(41943040,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cn.DISABLED=new cn(-1,0,0);class Uo{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Uo(0)}static Mn(){return new Uo(-1)}}class she{constructor(){this.changes=new Hi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ve.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?w.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class uhe{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class fj{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(null!==r&&hd(r.mutation,i,Vn.empty(),Qe.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,oe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=oe()){const i=ri();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=cd();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=ri();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,oe()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Un();const o=ld(),a=ld();return n.forEach((u,c)=>{const l=r.get(c.key);i.has(c.key)&&(void 0===l||l.mutation instanceof Gi)?s=s.insert(c.key,c):void 0!==l?(o.set(c.key,l.mutation.getFieldMask()),hd(l.mutation,c,l.mutation.getFieldMask(),Qe.now())):o.set(c.key,Vn.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((c,l)=>o.set(c,l)),n.forEach((c,l)=>{var d;return a.set(c,new uhe(l,null!==(d=o.get(c))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=ld();let i=new ke((o,a)=>o-a),s=oe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(u=>{const c=n.get(u);if(null===c)return;let l=r.get(u)||Vn.empty();l=a.applyToLocalView(c,l),r.set(u,l);const d=(i.get(a.batchId)||oe()).add(u);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,l=u.value,d=o$();l.forEach(h=>{if(!s.has(h)){const f=g$(n.get(h),r.get(h));null!==f&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return w.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return x.isDocumentKey((i=n).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):function GT(t){return null!==t.collectionGroup}(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r);var i}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):w.resolve(ri());let a=-1,u=s;return o.next(c=>w.forEach(c,(l,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(l)?w.resolve():this.remoteDocumentCache.getEntry(e,l).next(h=>{u=u.insert(l,h)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,u,c,oe())).next(l=>({batchId:a,changes:s$(l)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new x(n)).next(r=>{let i=cd();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let s=cd();return this.indexManager.getCollectionParents(e,i).next(o=>w.forEach(o,a=>{const u=(c=n,l=a.child(i),new ji(l,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt));var c,l;return this.getDocumentsMatchingCollectionQuery(e,u,r).next(c=>{c.forEach((l,d)=>{s=s.insert(l,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i))).next(s=>{i.forEach((a,u)=>{const c=u.getKey();null===s.get(c)&&(s=s.insert(c,Ve.newInvalidDocument(c)))});let o=cd();return s.forEach((a,u)=>{const c=i.get(a);void 0!==c&&hd(c.mutation,u,Vn.empty(),Qe.now()),ud(n,u)&&(o=o.insert(a,u))}),o})}}class che{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return w.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var r;return this.cs.set(n.id,{id:(r=n).id,version:r.version,createTime:at(r.createTime)}),w.resolve()}getNamedQuery(e,n){return w.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,{name:(r=n).name,query:a0(r.bundledQuery),readTime:at(r.readTime)}),w.resolve();var r}}class lhe{constructor(){this.overlays=new ke(x.comparator),this.ls=new Map}getOverlay(e,n){return w.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ri();return w.forEach(n,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.we(e,n,s)}),w.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.ls.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.ls.delete(r)),w.resolve()}getOverlaysForCollection(e,n,r){const i=ri(),s=n.length+1,o=new x(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return w.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new ke((c,l)=>c-l);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let l=s.get(c.largestBatchId);null===l&&(l=ri(),s=s.insert(c.largestBatchId,l)),l.set(c.getKey(),c)}}const a=ri(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,l)=>a.set(c,l)),!(a.size()>=i)););return w.resolve(a)}we(e,n,r){const i=this.overlays.get(r.key);if(null!==i){const o=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new JT(n,r));let s=this.ls.get(n);void 0===s&&(s=oe(),this.ls.set(n,s)),this.ls.set(n,s.add(r.key))}}class p0{constructor(){this.fs=new Le(Ot.ds),this.ws=new Le(Ot._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const r=new Ot(e,n);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.ys(new Ot(e,n))}ps(e,n){e.forEach(r=>this.removeReference(r,n))}Is(e){const n=new x(new fe([])),r=new Ot(n,e),i=new Ot(n,e+1),s=[];return this.ws.forEachInRange([r,i],o=>{this.ys(o),s.push(o.key)}),s}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new x(new fe([])),r=new Ot(n,e),i=new Ot(n,e+1);let s=oe();return this.ws.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Ot(e,0),r=this.fs.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class Ot{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return x.comparator(e.key,n.key)||J(e.As,n.As)}static _s(e,n){return J(e.As,n.As)||x.comparator(e.key,n.key)}}class dhe{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new Le(Ot.ds)}checkEmpty(e){return w.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,r,i){const s=this.vs;this.vs++;const o=new YT(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Rs=this.Rs.add(new Ot(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return w.resolve(o)}lookupMutationBatch(e,n){return w.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const i=this.bs(n+1),s=i<0?0:i;return w.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return w.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return w.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ot(n,0),i=new Ot(n,Number.POSITIVE_INFINITY),s=[];return this.Rs.forEachInRange([r,i],o=>{const a=this.Ps(o.As);s.push(a)}),w.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Le(J);return n.forEach(i=>{const s=new Ot(i,0),o=new Ot(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([s,o],a=>{r=r.add(a.As)})}),w.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;x.isDocumentKey(s)||(s=s.child(""));const o=new Ot(new x(s),0);let a=new Le(J);return this.Rs.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(u.As)),!0)},o),w.resolve(this.Vs(a))}Vs(e){const n=[];return e.forEach(r=>{const i=this.Ps(r);null!==i&&n.push(i)}),n}removeMutationBatch(e,n){U(0===this.Ss(n.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return w.forEach(n.mutations,i=>{const s=new Ot(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,n){const r=new Ot(n,0),i=this.Rs.firstAfterOrEqual(r);return w.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return w.resolve()}Ss(e,n){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class hhe{constructor(e){this.Ds=e,this.docs=new ke(x.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Ds(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return w.resolve(r?r.document.mutableCopy():Ve.newInvalidDocument(n))}getEntries(e,n){let r=Un();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Ve.newInvalidDocument(i))}),w.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Un();const o=n.path,a=new x(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:c,value:{document:l}}=u.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||kT(IB(l),r)<=0||(i.has(l.key)||ud(n,l))&&(s=s.insert(l.key,l.mutableCopy()))}return w.resolve(s)}getAllFromCollectionGroup(e,n,r,i){F()}Cs(e,n){return w.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new fhe(this)}getSize(e){return w.resolve(this.size)}}class fhe extends she{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),w.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}class phe{constructor(e){this.persistence=e,this.xs=new Hi(n=>xo(n),od),this.lastRemoteSnapshotVersion=B.min(),this.highestTargetId=0,this.Ns=0,this.ks=new p0,this.targetCount=0,this.Ms=Uo.kn()}forEachTarget(e,n){return this.xs.forEach((r,i)=>n(i)),w.resolve()}getLastRemoteSnapshotVersion(e){return w.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return w.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),w.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Ns&&(this.Ns=n),w.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new Uo(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,w.resolve()}updateTargetData(e,n){return this.Fn(n),w.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,w.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.xs.forEach((o,a)=>{a.sequenceNumber<=n&&null===r.get(a.targetId)&&(this.xs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),w.waitFor(s).next(()=>i)}getTargetCount(e){return w.resolve(this.targetCount)}getTargetData(e,n){const r=this.xs.get(n)||null;return w.resolve(r)}addMatchingKeys(e,n,r){return this.ks.gs(n,r),w.resolve()}removeMatchingKeys(e,n,r){this.ks.ps(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),w.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),w.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ks.Es(n);return w.resolve(r)}containsKey(e,n){return w.resolve(this.ks.containsKey(n))}}class g0{constructor(e,n){this.$s={},this.overlays={},this.Os=new er(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new phe(this),this.indexManager=new Zde,this.remoteDocumentCache=new hhe(r=>this.referenceDelegate.Ls(r)),this.serializer=new $$(n),this.qs=new che(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new lhe,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.$s[e.toKey()];return r||(r=new dhe(n,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,r){S("MemoryPersistence","Starting transaction:",e);const i=new ghe(this.Os.next());return this.referenceDelegate.Us(),r(i).next(s=>this.referenceDelegate.Ks(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gs(e,n){return w.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,n)))}}class ghe extends Fle{constructor(e){super(),this.currentSequenceNumber=e}}class Xg{constructor(e){this.persistence=e,this.Qs=new p0,this.js=null}static zs(e){return new Xg(e)}get Ws(){if(this.js)return this.js;throw F()}addReference(e,n,r){return this.Qs.addReference(r,n),this.Ws.delete(r.toString()),w.resolve()}removeReference(e,n,r){return this.Qs.removeReference(r,n),this.Ws.add(r.toString()),w.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),w.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Ws.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return w.forEach(this.Ws,r=>{const i=x.fromPath(r);return this.Hs(e,i).next(s=>{s||n.removeEntry(i,B.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(r=>{r?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return w.or([()=>w.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}class v0{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Fi=r,this.Bi=i}static Li(e,n){let r=oe(),i=oe();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new v0(e,n.fromCache,r,i)}}class gj{constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,r,i){return this.Ki(e,n).next(s=>s||this.Gi(e,n,i,r)).next(s=>s||this.Qi(e,n))}Ki(e,n){if(e$(n))return w.resolve(null);let r=In(n);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==n.limit&&1===i&&(n=Vg(n,null,"F"),r=In(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=oe(...s);return this.Ui.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.ji(n,a);return this.zi(n,c,o,u.readTime)?this.Ki(e,Vg(n,null,"F")):this.Wi(e,c,n,u)}))})))}Gi(e,n,r,i){return e$(n)||i.isEqual(B.min())?this.Qi(e,n):this.Ui.getDocuments(e,r).next(s=>{const o=this.ji(n,s);return this.zi(n,o,r,i)?this.Qi(e,n):(xT()<=Y.DEBUG&&S("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),qT(n)),this.Wi(e,o,n,function wB(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=B.fromTimestamp(1e9===r?new Qe(n+1,0):new Qe(n,r));return new Zn(i,x.empty(),e)}(i,-1)))})}ji(e,n){let r=new Le(r$(e));return n.forEach((i,s)=>{ud(e,s)&&(r=r.add(s))}),r}zi(e,n,r,i){if(null===e.limit)return!1;if(r.size!==n.size)return!0;const s="F"===e.limitType?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Qi(e,n){return xT()<=Y.DEBUG&&S("QueryEngine","Using full collection scan to execute query:",qT(n)),this.Ui.getDocumentsMatchingQuery(e,n,Zn.min())}Wi(e,n,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}class yhe{constructor(e,n,r,i){this.persistence=e,this.Hi=n,this.serializer=i,this.Ji=new ke(J),this.Yi=new Hi(s=>xo(s),od),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new fj(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function yj(t,e){return w0.apply(this,arguments)}function w0(){return w0=g(function*(t,e){const n=R(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.tr(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let u=oe();for(const c of i){o.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}for(const c of s){a.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}return n.localDocuments.getDocuments(r,u).next(c=>({er:c,removedBatchIds:o,addedBatchIds:a}))})})}),w0.apply(this,arguments)}function _j(t){const e=R(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function Mu(t,e,n){return I0.apply(this,arguments)}function I0(){return I0=g(function*(t,e,n){const r=R(t),i=r.Ji.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!vs(o))throw o;S("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}),I0.apply(this,arguments)}function em(t,e,n){const r=R(t);let i=B.min(),s=oe();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,u,c){const l=R(a),d=l.Yi.get(c);return void 0!==d?w.resolve(l.Ji.get(d)):l.Bs.getTargetData(u,c)}(r,o,In(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.Hi.getDocumentsMatchingQuery(o,e,n?i:B.min(),n?s:oe())).next(a=>(function Ej(t,e,n){let r=t.Xi.get(e)||B.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Xi.set(e,r)}(r,function n$(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}(e),a),{documents:a,ir:s})))}class T0{constructor(){this.activeTargetIds=function WT(){return Ide}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class bj{constructor(){this.Hr=new T0,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,r){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new T0,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Dhe{Yr(e){}shutdown(){}}class Tj{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){S("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){S("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let rm=null;function A0(){return null===rm?rm=268435456+Math.round(2147483648*Math.random()):rm++,"0x"+rm.toString(16)}const Che={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class bhe{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const ln="WebChannelConnection";class The extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,r,i,s){const o=A0(),a=this.To(e,n);S("RestConnection",`Sending RPC '${e}' ${o}:`,a,r);const u={};return this.Eo(u,i,s),this.Ao(e,a,u,r).then(c=>(S("RestConnection",`Received RPC '${e}' ${o}: `,c),c),c=>{throw Ar("RestConnection",`RPC '${e}' ${o} failed with error: `,c,"url: ",a,"request:",r),c})}vo(e,n,r,i,s,o){return this.Io(e,n,r,i,s)}Eo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+fu,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}To(e,n){return`${this.mo}/v1/${n}:${Che[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,r,i){const s=A0();return new Promise((o,a)=>{const u=new Cle;u.setWithCredentials(!0),u.listenOnce(Ile.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case MT.NO_ERROR:const l=u.getResponseJson();S(ln,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(l)),o(l);break;case MT.TIMEOUT:S(ln,`RPC '${e}' ${s} timed out`),a(new C(I.DEADLINE_EXCEEDED,"Request time out"));break;case MT.HTTP_ERROR:const d=u.getStatus();if(S(ln,`RPC '${e}' ${s} failed with status:`,d,"response text:",u.getResponseText()),d>0){let h=u.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=h?.error;if(f&&f.status&&f.message){const p=function(m){const y=m.toLowerCase().replace(/_/g,"-");return Object.values(I).indexOf(y)>=0?y:I.UNKNOWN}(f.status);a(new C(p,f.message))}else a(new C(I.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new C(I.UNAVAILABLE,"Connection failed."));break;default:F()}}finally{S(ln,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);S(ln,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",c,r,15)})}Ro(e,n,r){const i=A0(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=vle(),a=wle(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;void 0!==c&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.xmlHttpFactory=new Dle({})),this.Eo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const l=s.join("");S(ln,`Creating RPC '${e}' stream ${i}: ${l}`,u);const d=o.createWebChannel(l,u);let h=!1,f=!1;const p=new bhe({ro:y=>{f?S(ln,`Not sending because RPC '${e}' stream ${i} is closed:`,y):(h||(S(ln,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),S(ln,`RPC '${e}' stream ${i} sending:`,y),d.send(y))},oo:()=>d.close()}),m=(y,v,_)=>{y.listen(v,E=>{try{_(E)}catch(A){setTimeout(()=>{throw A},0)}})};return m(d,Cg.EventType.OPEN,()=>{f||S(ln,`RPC '${e}' stream ${i} transport opened.`)}),m(d,Cg.EventType.CLOSE,()=>{f||(f=!0,S(ln,`RPC '${e}' stream ${i} transport closed`),p.wo())}),m(d,Cg.EventType.ERROR,y=>{f||(f=!0,Ar(ln,`RPC '${e}' stream ${i} transport errored:`,y),p.wo(new C(I.UNAVAILABLE,"The operation could not be completed")))}),m(d,Cg.EventType.MESSAGE,y=>{var v;if(!f){const _=y.data[0];U(!!_);const A=_.error||(null===(v=_[0])||void 0===v?void 0:v.error);if(A){S(ln,`RPC '${e}' stream ${i} received error:`,A);const O=A.status;let K=function(Dn){const ai=pt[Dn];if(void 0!==ai)return I$(ai)}(O),je=A.message;void 0===K&&(K=I.INTERNAL,je="Unknown error status: "+O+" with message "+A.message),f=!0,p.wo(new C(K,je)),d.close()}else S(ln,`RPC '${e}' stream ${i} received:`,_),p._o(_)}}),m(a,Ele.STAT_EVENT,y=>{y.stat===pB.PROXY?S(ln,`RPC '${e}' stream ${i} detected buffering proxy`):y.stat===pB.NOPROXY&&S(ln,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.fo()},0),p}}function im(){return typeof document<"u"?document:null}function Sd(t){return new Ode(t,!0)}class M0{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ii=e,this.timerId=n,this.Po=r,this.bo=i,this.Vo=s,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,n-r);i>0&&S("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class She{constructor(e,n,r,i,s,o,a,u){this.ii=e,this.$o=r,this.Oo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new M0(e,n)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return g(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return g(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,n){var r=this;return g(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():n&&n.code===I.RESOURCE_EXHAUSTED?(st(n.toString()),st("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):n&&n.code===I.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(n)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===n&&this.Zo(r,i)},r=>{e(()=>{const i=new C(I.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,n){const r=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){var e=this;this.state=5,this.qo.No(g(function*(){e.state=0,e.start()}))}tu(e){return S("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(S("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Ahe extends She{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=function Vde(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(u=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===u?1:"REMOVE"===u?2:"CURRENT"===u?3:"RESET"===u?4:F(),i=e.targetChange.targetIds||[],s=function(u,c){return u.useProto3Json?(U(void 0===c||"string"==typeof c),Ct.fromBase64String(c||"")):(U(void 0===c||c instanceof Uint8Array),Ct.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const c=void 0===u.code?I.UNKNOWN:I$(u.code);return new C(c,u.message||"")}(o);n=new T$(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=ii(t,r.document.name),s=at(r.document.updateTime),o=r.document.createTime?at(r.document.createTime):B.min(),a=new Kt({mapValue:{fields:r.document.fields}}),u=Ve.newFoundDocument(i,s,o,a);n=new jg(r.targetIds||[],r.removedTargetIds||[],u.key,u)}else if("documentDelete"in e){const r=e.documentDelete,i=ii(t,r.document),s=r.readTime?at(r.readTime):B.min(),o=Ve.newNoDocument(i,s);n=new jg([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=ii(t,r.document);n=new jg([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return F();{const r=e.filter,{count:i=0,unchangedNames:s}=r,o=new Mde(i,s);n=new b$(r.targetId,o)}}var u;return n}(this.serializer,e),r=function(i){if(!("targetChange"in i))return B.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?B.min():s.readTime?at(s.readTime):B.min()}(e);return this.listener.nu(n,r)}su(e){const n={};n.database=yd(this.serializer),n.addTarget=function(i,s){let o;const a=s.target;if(o=Og(a)?{documents:F$(i,a)}:{query:o0(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=function x$(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}(i,s.resumeToken);const u=t0(i,s.expectedCount);null!==u&&(o.expectedCount=u)}else if(s.snapshotVersion.compareTo(B.min())>0){o.readTime=function Cu(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}(i,s.snapshotVersion.toTimestamp());const u=t0(i,s.expectedCount);null!==u&&(o.expectedCount=u)}return o}(this.serializer,e);const r=function Bde(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return F()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.Wo(n)}iu(e){const n={};n.database=yd(this.serializer),n.removeTarget=e,this.Wo(n)}}class xhe extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new C(I.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Io(e,n,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===I.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new C(I.UNKNOWN,i.toString())})}vo(e,n,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.vo(e,n,r,s,o,i)).catch(s=>{throw"FirebaseError"===s.name?(s.code===I.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new C(I.UNKNOWN,s.toString())})}terminate(){this.lu=!0}}class Nhe{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(st(n),this.mu=!1):S("OnlineStateTracker",n)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class khe{constructor(e,n,r,i,s){var o=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=s,this.Pu.Yr(a=>{r.enqueueAndForget(g(function*(){var u;xs(o)&&(S("RemoteStore","Restarting streams for network reachability change."),yield(u=g(function*(c){const l=R(c);l.vu.add(4),yield xu(l),l.bu.set("Unknown"),l.vu.delete(4),yield Ad(l)}),function(c){return u.apply(this,arguments)})(o))}))}),this.bu=new Nhe(r,i)}}function Ad(t){return R0.apply(this,arguments)}function R0(){return R0=g(function*(t){if(xs(t))for(const e of t.Ru)yield e(!0)}),R0.apply(this,arguments)}function xu(t){return N0.apply(this,arguments)}function N0(){return N0=g(function*(t){for(const e of t.Ru)yield e(!1)}),N0.apply(this,arguments)}function sm(t,e){const n=R(t);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),O0(n)?P0(n):Nu(n).Ko()&&k0(n,e))}function Md(t,e){const n=R(t),r=Nu(n);n.Au.delete(e),r.Ko()&&Aj(n,e),0===n.Au.size&&(r.Ko()?r.jo():xs(n)&&n.bu.set("Unknown"))}function k0(t,e){if(t.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(B.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Nu(t).su(e)}function Aj(t,e){t.Vu.qt(e),Nu(t).iu(e)}function P0(t){t.Vu=new Rde({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),le:e=>t.Au.get(e)||null,ue:()=>t.datastore.serializer.databaseId}),Nu(t).start(),t.bu.gu()}function O0(t){return xs(t)&&!Nu(t).Uo()&&t.Au.size>0}function xs(t){return 0===R(t).vu.size}function Mj(t){t.Vu=void 0}function Phe(t){return F0.apply(this,arguments)}function F0(){return F0=g(function*(t){t.Au.forEach((e,n)=>{k0(t,e)})}),F0.apply(this,arguments)}function Ohe(t,e){return L0.apply(this,arguments)}function L0(){return L0=g(function*(t,e){Mj(t),O0(t)?(t.bu.Iu(e),P0(t)):t.bu.set("Unknown")}),L0.apply(this,arguments)}function Fhe(t,e,n){return V0.apply(this,arguments)}function V0(){return V0=g(function*(t,e,n){if(t.bu.set("Online"),e instanceof T$&&2===e.state&&e.cause)try{yield(r=g(function*(i,s){const o=s.cause;for(const a of s.targetIds)i.Au.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.Au.delete(a),i.Vu.removeTarget(a))}),function(i,s){return r.apply(this,arguments)})(t,e)}catch(r){S("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield om(t,r)}else if(e instanceof jg?t.Vu.Ht(e):e instanceof b$?t.Vu.ne(e):t.Vu.Xt(e),!n.isEqual(B.min()))try{const r=yield _j(t.localStore);n.compareTo(r)>=0&&(yield function(i,s){const o=i.Vu.ce(s);return o.targetChanges.forEach((a,u)=>{if(a.resumeToken.approximateByteSize()>0){const c=i.Au.get(u);c&&i.Au.set(u,c.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach((a,u)=>{const c=i.Au.get(a);if(!c)return;i.Au.set(a,c.withResumeToken(Ct.EMPTY_BYTE_STRING,c.snapshotVersion)),Aj(i,a);const l=new zi(c.target,a,u,c.sequenceNumber);k0(i,l)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n))}catch(r){S("RemoteStore","Failed to raise snapshot:",r),yield om(t,r)}var r}),V0.apply(this,arguments)}function om(t,e,n){return U0.apply(this,arguments)}function U0(){return U0=g(function*(t,e,n){if(!vs(e))throw e;t.vu.add(1),yield xu(t),t.bu.set("Offline"),n||(n=()=>_j(t.localStore)),t.asyncQueue.enqueueRetryable(g(function*(){S("RemoteStore","Retrying IndexedDB access"),yield n(),t.vu.delete(1),yield Ad(t)}))}),U0.apply(this,arguments)}function kj(t,e){return z0.apply(this,arguments)}function z0(){return z0=g(function*(t,e){const n=R(t);n.asyncQueue.verifyOperationInProgress(),S("RemoteStore","RemoteStore received new credentials");const r=xs(n);n.vu.add(3),yield xu(n),r&&n.bu.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),yield Ad(n)}),z0.apply(this,arguments)}function W0(){return W0=g(function*(t,e){const n=R(t);e?(n.vu.delete(2),yield Ad(n)):e||(n.vu.add(2),yield xu(n),n.bu.set("Unknown"))}),W0.apply(this,arguments)}function Nu(t){return t.Su||(t.Su=function(e,n,r){const i=R(e);return i.fu(),new Ahe(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:Phe.bind(null,t),ao:Ohe.bind(null,t),nu:Fhe.bind(null,t)}),t.Ru.push(function(){var e=g(function*(n){n?(t.Su.Qo(),O0(t)?P0(t):t.bu.set("Unknown")):(yield t.Su.stop(),Mj(t))});return function(n){return e.apply(this,arguments)}}())),t.Su}class K0{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Dt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new K0(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new C(I.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ku(t,e){if(st("AsyncQueue",`${e}: ${t}`),vs(t))return new C(I.UNAVAILABLE,`${e}: ${t}`);throw t}class Pu{constructor(e){this.comparator=e?(n,r)=>e(n,r)||x.comparator(n.key,r.key):(n,r)=>x.comparator(n.key,r.key),this.keyedMap=cd(),this.sortedSet=new ke(this.comparator)}static emptySet(e){return new Pu(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Pu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new Pu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class Pj{constructor(){this.Cu=new ke(x.comparator)}track(e){const n=e.doc.key,r=this.Cu.get(n);r?0!==e.type&&3===r.type?this.Cu=this.Cu.insert(n,e):3===e.type&&1!==r.type?this.Cu=this.Cu.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Cu=this.Cu.remove(n):1===e.type&&2===r.type?this.Cu=this.Cu.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):F():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ou{constructor(e,n,r,i,s,o,a,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Ou(e,n,Pu.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ad(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class Hhe{constructor(){this.Nu=void 0,this.listeners=[]}}class Ghe{constructor(){this.queries=new Hi(e=>t$(e),ad),this.onlineState="Unknown",this.ku=new Set}}function Y0(){return Y0=g(function*(t,e){const n=R(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new Hhe),i)try{s.Nu=yield n.onListen(r)}catch(o){const a=ku(o,`Initialization of query '${qT(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.Mu(n.onlineState),s.Nu&&e.$u(s.Nu)&&Z0(n)}),Y0.apply(this,arguments)}function J0(){return J0=g(function*(t,e){const n=R(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}),J0.apply(this,arguments)}function zhe(t,e){const n=R(t);let r=!1;for(const i of e){const o=n.queries.get(i.query);if(o){for(const a of o.listeners)a.$u(i)&&(r=!0);o.Nu=i}}r&&Z0(n)}function qhe(t,e,n){const r=R(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function Z0(t){t.ku.forEach(e=>{e.next()})}class eS{constructor(e,n,r){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Ou(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){return!e.fromCache||(!this.options.Ku||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=Ou.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class Lj{constructor(e){this.key=e}}class Vj{constructor(e){this.key=e}}class Uj{constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=oe(),this.mutatedKeys=oe(),this.tc=r$(e),this.ec=new Pu(this.tc)}get nc(){return this.Yu}sc(e,n){const r=n?n.ic:new Pj,i=n?n.ec:this.ec;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((l,d)=>{const h=i.get(l),f=ud(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),m=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let y=!1;h&&f?h.data.isEqual(f.data)?p!==m&&(r.track({type:3,doc:f}),y=!0):this.rc(h,f)||(r.track({type:2,doc:f}),y=!0,(u&&this.tc(f,u)>0||c&&this.tc(f,c)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),y=!0):h&&!f&&(r.track({type:1,doc:h}),y=!0,(u||c)&&(a=!0)),y&&(f?(o=o.add(f),s=m?s.add(l):s.delete(l)):(o=o.delete(l),s=s.delete(l)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{ec:o,ic:r,zi:a,mutatedKeys:s}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const s=e.ic.xu();s.sort((c,l)=>function(d,h){const f=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return F()}};return f(d)-f(h)}(c.type,l.type)||this.tc(c.doc,l.doc)),this.oc(r);const o=n?this.uc():[],a=0===this.Zu.size&&this.current?1:0,u=a!==this.Xu;return this.Xu=a,0!==s.length||u?{snapshot:new Ou(this.query,e.ec,i,s,e.mutatedKeys,0===a,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:o}:{cc:o}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new Pj,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=oe(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const n=[];return e.forEach(r=>{this.Zu.has(r)||n.push(new Vj(r))}),this.Zu.forEach(r=>{e.has(r)||n.push(new Lj(r))}),n}hc(e){this.Yu=e.ir,this.Zu=oe();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return Ou.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class Qhe{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Yhe{constructor(e){this.key=e,this.fc=!1}}class Xhe{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new Hi(a=>t$(a),ad),this._c=new Map,this.mc=new Set,this.gc=new ke(x.comparator),this.yc=new Map,this.Ic=new p0,this.Tc={},this.Ec=new Map,this.Ac=Uo.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function Jhe(t,e){return tS.apply(this,arguments)}function tS(){return tS=g(function*(t,e){const n=function CS(t){const e=R(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Bj.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=afe.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=tfe.bind(null,e),e.dc.nu=zhe.bind(null,e.eventManager),e.dc.Pc=qhe.bind(null,e.eventManager),e}(t);let r,i;const s=n.wc.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.lc();else{const o=yield function Au(t,e){const n=R(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Bs.getTargetData(r,e).next(s=>s?(i=s,w.resolve(i)):n.Bs.allocateTargetId(r).next(o=>(i=new zi(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ji.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(r.targetId,r),n.Yi.set(e,r.targetId)),r})}(n.localStore,In(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield function nS(t,e,n,r,i){return rS.apply(this,arguments)}(n,e,r,"current"===a,o.resumeToken),n.isPrimaryClient&&sm(n.remoteStore,o)}return i}),tS.apply(this,arguments)}function rS(){return rS=g(function*(t,e,n,r,i){t.Rc=(d,h,f)=>{return(p=g(function*(m,y,v,_){let E=y.view.sc(v);E.zi&&(E=yield em(m.localStore,y.query,!1).then(({documents:K})=>y.view.sc(K,E)));const A=_&&_.targetChanges.get(y.targetId),O=y.view.applyChanges(E,m.isPrimaryClient,A);return fS(m,y.targetId,O.cc),O.snapshot}),function(m,y,v,_){return p.apply(this,arguments)})(t,d,h,f);var p};const s=yield em(t.localStore,e,!0),o=new Uj(e,s.ir),a=o.sc(s.documents),u=gd.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState,i),c=o.applyChanges(a,t.isPrimaryClient,u);fS(t,n,c.cc);const l=new Qhe(e,n,o);return t.wc.set(e,l),t._c.has(n)?t._c.get(n).push(e):t._c.set(n,[e]),c.snapshot}),rS.apply(this,arguments)}function Zhe(t,e){return iS.apply(this,arguments)}function iS(){return iS=g(function*(t,e){const n=R(t),r=n.wc.get(e),i=n._c.get(r.targetId);if(i.length>1)return n._c.set(r.targetId,i.filter(s=>!ad(s,e))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Mu(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),Md(n.remoteStore,r.targetId),Fu(n,r.targetId)}).catch(_s))):(Fu(n,r.targetId),yield Mu(n.localStore,r.targetId,!0))}),iS.apply(this,arguments)}function Bj(t,e){return oS.apply(this,arguments)}function oS(){return oS=g(function*(t,e){const n=R(t);try{const r=yield function vhe(t,e){const n=R(t),r=e.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const a=[];e.targetChanges.forEach((l,d)=>{const h=i.get(d);if(!h)return;a.push(n.Bs.removeMatchingKeys(s,l.removedDocuments,d).next(()=>n.Bs.addMatchingKeys(s,l.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);var p,m,y;null!==e.targetMismatches.get(d)?f=f.withResumeToken(Ct.EMPTY_BYTE_STRING,B.min()).withLastLimboFreeSnapshotVersion(B.min()):l.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(l.resumeToken,r)),i=i.insert(d,f),m=f,y=l,(0===(p=h).resumeToken.approximateByteSize()||m.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8||y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0)&&a.push(n.Bs.updateTargetData(s,f))});let u=Un(),c=oe();if(e.documentUpdates.forEach(l=>{e.resolvedLimboDocuments.has(l)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,l))}),a.push(function vj(t,e,n){let r=oe(),i=oe();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Un();return n.forEach((a,u)=>{const c=s.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(B.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||0===u.version.compareTo(c.version)&&c.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):S("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{nr:o,sr:i}})}(s,o,e.documentUpdates).next(l=>{u=l.nr,c=l.sr})),!r.isEqual(B.min())){const l=n.Bs.getLastRemoteSnapshotVersion(s).next(d=>n.Bs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(l)}return w.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,c)).next(()=>u)}).then(s=>(n.Ji=i,s))}(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.yc.get(s);o&&(U(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.fc=!0:i.modifiedDocuments.size>0?U(o.fc):i.removedDocuments.size>0&&(U(o.fc),o.fc=!1))}),yield qi(n,r,e)}catch(r){yield _s(r)}}),oS.apply(this,arguments)}function $j(t,e,n){const r=R(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const i=[];r.wc.forEach((s,o)=>{const a=o.view.Mu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=R(s);a.onlineState=o;let u=!1;a.queries.forEach((c,l)=>{for(const d of l.listeners)d.Mu(o)&&(u=!0)}),u&&Z0(a)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function tfe(t,e,n){return aS.apply(this,arguments)}function aS(){return aS=g(function*(t,e,n){const r=R(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.yc.get(e),s=i&&i.key;if(s){let o=new ke(x.comparator);o=o.insert(s,Ve.newNoDocument(s,B.min()));const a=oe().add(s),u=new pd(B.min(),new Map,new ke(J),o,a);yield Bj(r,u),r.gc=r.gc.remove(s),r.yc.delete(e),pS(r)}else yield Mu(r.localStore,e,!1).then(()=>Fu(r,e,n)).catch(_s)}),aS.apply(this,arguments)}function Fu(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t._c.get(e))t.wc.delete(r),n&&t.dc.Pc(r,n);t._c.delete(e),t.isPrimaryClient&&t.Ic.Is(e).forEach(r=>{t.Ic.containsKey(r)||jj(t,r)})}function jj(t,e){t.mc.delete(e.path.canonicalString());const n=t.gc.get(e);null!==n&&(Md(t.remoteStore,n),t.gc=t.gc.remove(e),t.yc.delete(n),pS(t))}function fS(t,e,n){for(const r of n)r instanceof Lj?(t.Ic.addReference(r.key,e),sfe(t,r)):r instanceof Vj?(S("SyncEngine","Document no longer in limbo: "+r.key),t.Ic.removeReference(r.key,e),t.Ic.containsKey(r.key)||jj(t,r.key)):F()}function sfe(t,e){const n=e.key,r=n.path.canonicalString();t.gc.get(n)||t.mc.has(r)||(S("SyncEngine","New document in limbo: "+n),t.mc.add(r),pS(t))}function pS(t){for(;t.mc.size>0&&t.gc.size<t.maxConcurrentLimboResolutions;){const e=t.mc.values().next().value;t.mc.delete(e);const n=new x(fe.fromString(e)),r=t.Ac.next();t.yc.set(r,new Yhe(n)),t.gc=t.gc.insert(n,r),sm(t.remoteStore,new zi(In(vu(n.path)),r,"TargetPurposeLimboResolution",er.ct))}}function qi(t,e,n){return gS.apply(this,arguments)}function gS(){return gS=g(function*(t,e,n){const r=R(t),i=[],s=[],o=[];var a;r.wc.isEmpty()||(r.wc.forEach((a,u)=>{o.push(r.Rc(u,e,n).then(c=>{if((c||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,c?.fromCache?"not-current":"current"),c){i.push(c);const l=v0.Li(u.targetId,c);s.push(l)}}))}),yield Promise.all(o),r.dc.nu(i),yield(a=g(function*(u,c){const l=R(u);try{yield l.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>w.forEach(c,h=>w.forEach(h.Fi,f=>l.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>w.forEach(h.Bi,f=>l.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!vs(d))throw d;S("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const h=d.targetId;if(!d.fromCache){const f=l.Ji.get(h),m=f.withLastLimboFreeSnapshotVersion(f.snapshotVersion);l.Ji=l.Ji.insert(h,m)}}}),function(u,c){return a.apply(this,arguments)})(r.localStore,s))}),gS.apply(this,arguments)}function ofe(t,e){return mS.apply(this,arguments)}function mS(){return mS=g(function*(t,e){const n=R(t);if(!n.currentUser.isEqual(e)){S("SyncEngine","User change. New user:",e.toKey());const r=yield yj(n.localStore,e);n.currentUser=e,(i=n).Ec.forEach(o=>{o.forEach(a=>{a.reject(new C(I.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.Ec.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield qi(n,r.er)}var i}),mS.apply(this,arguments)}function afe(t,e){const n=R(t),r=n.yc.get(e);if(r&&r.fc)return oe().add(r.key);{let i=oe();const s=n._c.get(e);if(!s)return i;for(const o of s){const a=n.wc.get(o);i=i.unionWith(a.view.nc)}return i}}class am{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return g(function*(){n.serializer=Sd(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return function mj(t,e,n,r){return new yhe(t,e,n,r)}(this.persistence,new gj,e.initialUser,this.serializer)}createPersistence(e){return new g0(Xg.zs,this.serializer)}createSharedClientState(e){return new bj}terminate(){var e=this;return g(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Lu{initialize(e,n){var r=this;return g(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(n),r.remoteStore=r.createRemoteStore(n),r.eventManager=r.createEventManager(n),r.syncEngine=r.createSyncEngine(n,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>$j(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=ofe.bind(null,r.syncEngine),yield function q0(t,e){return W0.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Ghe}createDatastore(e){const n=Sd(e.databaseInfo.databaseId),r=new The(e.databaseInfo);return new xhe(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>$j(this.syncEngine,a,0),o=Tj.D()?new Tj:new Dhe,new khe(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,a,u,c){const l=new Xhe(r,i,s,o,a,u);return c&&(l.vc=!0),l}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=g(function*(n){const r=R(n);S("RemoteStore","RemoteStore shutting down."),r.vu.add(5),yield xu(r),r.Pu.shutdown(),r.bu.set("Unknown")}),function(n){return e.apply(this,arguments)})(this.remoteStore);var e}}class um{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):st("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class wfe{constructor(e,n,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=kt.UNAUTHENTICATED,this.clientId=_B.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=g(function*(a){S("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(S("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return g(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new C(I.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new Dt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(g(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const i=ku(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}function cm(t,e){return TS.apply(this,arguments)}function TS(){return TS=g(function*(t,e){t.asyncQueue.verifyOperationInProgress(),S("FirestoreClient","Initializing OfflineComponentProvider");const n=yield t.getConfiguration();yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(function(){var i=g(function*(s){r.isEqual(s)||(yield yj(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}),TS.apply(this,arguments)}function SS(t,e){return AS.apply(this,arguments)}function AS(){return AS=g(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield function MS(t){return xS.apply(this,arguments)}(t);S("FirestoreClient","Initializing OnlineComponentProvider");const r=yield t.getConfiguration();yield e.initialize(n,r),t.setCredentialChangeListener(i=>kj(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>kj(e.remoteStore,s)),t._onlineComponents=e}),AS.apply(this,arguments)}function xS(){return xS=g(function*(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){S("FirestoreClient","Using user provided OfflineComponentProvider");try{yield cm(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function Kj(t){return"FirebaseError"===t.name?t.code===I.FAILED_PRECONDITION||t.code===I.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(n))throw n;Ar("Error using user provided cache. Falling back to memory cache: "+n),yield cm(t,new am)}}else S("FirestoreClient","Using default OfflineComponentProvider"),yield cm(t,new am);return t._offlineComponents}),xS.apply(this,arguments)}function RS(){return RS=g(function*(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(S("FirestoreClient","Using user provided OnlineComponentProvider"),yield SS(t,t._uninitializedComponentsProvider._online)):(S("FirestoreClient","Using default OnlineComponentProvider"),yield SS(t,new Lu))),t._onlineComponents}),RS.apply(this,arguments)}function Vu(t){return kS.apply(this,arguments)}function kS(){return kS=g(function*(t){const e=yield function lm(t){return RS.apply(this,arguments)}(t),n=e.eventManager;return n.onListen=Jhe.bind(null,e.syncEngine),n.onUnlisten=Zhe.bind(null,e.syncEngine),n}),kS.apply(this,arguments)}function eH(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e}const tH=new Map;function rH(t){if(x.isDocumentKey(t))throw new C(I.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function de(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new C(I.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=function hm(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(n=t).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof t?"a function":F()}(t);throw new C(I.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}class sH{constructor(e){var n,r;if(void 0===e.host){if(void 0!==e.ssl)throw new C(I.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new C(I.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function Mfe(t,e,n,r){if(!0===e&&!0===r)throw new C(I.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=eH(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(i){if(void 0!==i.timeoutSeconds){if(isNaN(i.timeoutSeconds))throw new C(I.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new C(I.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new C(I.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class xd{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new sH({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new C(I.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new C(I.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new sH(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new Tle;switch(n.type){case"firstParty":return new xle(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new C(I.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=tH.get(e);n&&(S("ComponentProvider","Removing Datastore"),tH.delete(e),n.terminate())}(this),Promise.resolve()}}class ut{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new si(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ut(this.firestore,e,this._key)}}class Qt{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Qt(this.firestore,e,this._query)}}class si extends Qt{constructor(e,n,r){super(e,n,vu(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ut(this.firestore,null,new x(e))}withConverter(e){return new si(this.firestore,e,this._path)}}function Rfe(t,e,...n){if(t=Dr(t),function PS(t,e,n){if(!n)throw new C(I.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}("collection","path",e),t instanceof xd){const r=fe.fromString(e,...n);return rH(r),new si(t,null,r)}{if(!(t instanceof ut||t instanceof si))throw new C(I.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(fe.fromString(e,...n));return rH(r),new si(t.firestore,null,r)}}class kfe{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new M0(this,"async_queue_retry"),this.Xc=()=>{const n=im();n&&S("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=im();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=im();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new Dt;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return g(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(n){if(!vs(n))throw n;S("AsyncQueue","Operation failed with retryable error: "+n)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,st("INTERNAL UNHANDLED ERROR: ",function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),o}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=n,n}enqueueAfterDelay(e,n,r){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const i=K0.createAndSchedule(this,e,n,r,s=>this.na(s));return this.zc.push(i),i}Zc(){this.Wc&&F()}verifyOperationInProgress(){}sa(){var e=this;return g(function*(){let n;do{n=e.Gc,yield n}while(n!==e.Gc)})()}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}function OS(t){return function(e,n){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(t)}class Ue extends xd{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new kfe,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||aH(this),this._firestoreClient.terminate()}}function Ofe(t,e){const r="string"==typeof t?t:e||"(default)",i=co("object"==typeof t?t:dp(),"firestore").getImmediate({identifier:r});if(!i._initialized){const s=wF("firestore");s&&function xfe(t,e,n,r={}){var i;const s=(t=de(t,xd))._getSettings();if("firestore.googleapis.com"!==s.host&&s.host!==e&&Ar("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},s),{host:`${e}:${n}`,ssl:!1})),r.mockUserToken){let o,a;if("string"==typeof r.mockUserToken)o=r.mockUserToken,a=kt.MOCK_USER;else{o=DF(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new C(I.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new kt(u)}t._authCredentials=new Sle(new mB(o,a))}}(i,...s)}return i}function aH(t){var e,n,r;const i=t._freezeSettings(),s=(a=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new ode(t._databaseId,a,t._persistenceKey,(c=i).host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,eH(c.experimentalLongPollingOptions),c.useFetchStreams));var a,c;t._firestoreClient=new wfe(t._authCredentials,t._appCheckCredentials,t._queue,s),null!==(n=i.cache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=i.cache)&&void 0!==r&&r._onlineComponentProvider&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}class $o{constructor(e){this._byteString=e}static fromBase64String(e){try{return new $o(Ct.fromBase64String(e))}catch(n){throw new C(I.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new $o(Ct.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Uu{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new C(I.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ot(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class FS{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new C(I.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new C(I.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return J(this._lat,e._lat)||J(this._long,e._long)}}const Hfe=new RegExp("[~\\*/\\[\\]]");function gm(t,e,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new C(I.INVALID_ARGUMENT,a+t+u)}class BS{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new ut(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Gfe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(mm("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class Gfe extends BS{data(){return super.data()}}function mm(t,e){return"string"==typeof e?function pm(t,e,n){if(e.search(Hfe)>=0)throw gm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Uu(...e.split("."))._internalPath}catch{throw gm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}(t,e):e instanceof Uu?e._internalPath:e._delegate._internalPath}class qfe{convertValue(e,n="none"){switch(Ds(e)){case 0:return null;case 1:return e.booleanValue;case 2:return nt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes($i(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw F()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ws(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new FS(nt(e.latitude),nt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Rg(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(nd(e));default:return null}}convertTimestamp(e){const n=Is(e);return new Qe(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=fe.fromString(e);U(B$(r));const i=new Ao(r.get(1),r.get(3)),s=new x(r.popFirst(5));return i.isEqual(n)||st(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}class Ho{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ju extends BS{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new wm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(mm("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class wm extends ju{data(e={}){return super.data(e)}}class Hu{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ho(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new wm(this._firestore,this._userDataWriter,r.key,r,new Ho(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new C(I.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>({type:"added",doc:new wm(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Ho(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||3!==o.type).map(o=>{const a=new wm(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Ho(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let u=-1,c=-1;return 0!==o.type&&(u=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),1!==o.type&&(s=s.add(o.doc),c=s.indexOf(o.doc.key)),{type:Kfe(o.type),doc:a,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Kfe(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return F()}}class Ns extends qfe{constructor(e){super(),this.firestore=e}convertBytes(e){return new $o(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ut(this.firestore,null,n)}}!function(t,e=!0){fu=us,sn(new jt("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new Ue(new Ale(n.getProvider("auth-internal")),new Rle(n.getProvider("app-check-internal")),function(a,u){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new C(I.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ao(a.options.projectId,u)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),Oe(gB,"3.12.1",t),Oe(gB,"3.12.1","esm2017")}();var ape={includeMetadataChanges:!1};function GS(t,e){return void 0===e&&(e=ape),new He(function(n){var r=function Qfe(t,...e){var n,r,i;t=Dr(t);let s={includeMetadataChanges:!1},o=0;"object"!=typeof e[o]||OS(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(OS(e[o])){const d=e[o];e[o]=null===(n=d.next)||void 0===n?void 0:n.bind(d),e[o+1]=null===(r=d.error)||void 0===r?void 0:r.bind(d),e[o+2]=null===(i=d.complete)||void 0===i?void 0:i.bind(d)}let u,c,l;if(t instanceof ut)c=de(t.firestore,Ue),l=vu(t._key.path),u={next:d=>{e[o]&&e[o](function HS(t,e,n){const r=n.docs.get(e._key),i=new Ns(t);return new ju(t,i,e._key,r,new Ho(n.hasPendingWrites,n.fromCache),e.converter)}(c,t,d))},error:e[o+1],complete:e[o+2]};else{const d=de(t,Qt);c=de(d.firestore,Ue),l=d._query;const h=new Ns(c);u={next:f=>{e[o]&&e[o](new Hu(c,h,d,f))},error:e[o+1],complete:e[o+2]},function wH(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new C(I.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(t._query)}return function(d,h,f,p){const m=new um(p),y=new eS(h,m,f);return d.asyncQueue.enqueueAndForget(g(function*(){return function Q0(t,e){return Y0.apply(this,arguments)}(yield Vu(d),y)})),()=>{m.Dc(),d.asyncQueue.enqueueAndForget(g(function*(){return function X0(t,e){return J0.apply(this,arguments)}(yield Vu(d),y)}))}}(function gt(t){return t._firestoreClient||aH(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}(c),l,a,u)}(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function ppe(t,e){return void 0===e&&(e={}),function fpe(t){return GS(t,{includeMetadataChanges:!0}).pipe(Ie(function(e){return e.docs}))}(t).pipe(Ie(function(n){return n.map(function(r){return function AH(t,e){void 0===e&&(e={});var n=t.data();return!t.exists()||"object"!=typeof n||null===n||e.idField&&(n[e.idField]=t.id),n}(r,e)})}))}class Em{constructor(e){return e}}const NH="firestore",WS=new L("angularfire2.firestore-instances");function ype(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new Em(r)}}const _pe={provide:class gpe{constructor(){return vp(NH)}},deps:[[new vt,WS]]},vpe={provide:Em,useFactory:function mpe(t,e){const n=_p(NH,t,e);return n&&new Em(n)},deps:[[new vt,WS],yo]};let wpe=(()=>{class t{constructor(){Oe("angularfire",dl.full,"fst")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Xt({type:t}),t.\u0275inj=Vt({providers:[vpe,_pe]}),t})();function Ipe(t,...e){return{ngModule:wpe,providers:[{provide:WS,useFactory:ype(t),multi:!0,deps:[Ce,Nn,wp,Ip,[new vt,Tb],[new vt,Mp],...e]}]}}const Epe=Za(ppe,!0),Dpe=Za(Rfe,!0),Cpe=Za(Ofe,!0);let kH=(()=>{class t{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}}return t.\u0275fac=function(n){return new(n||t)(T(_i),T(Wn))},t.\u0275dir=Q({type:t}),t})(),Go=(()=>{class t extends kH{}return t.\u0275fac=function(){let e;return function(r){return(e||(e=$t(t)))(r||t)}}(),t.\u0275dir=Q({type:t,features:[De]}),t})();const oi=new L("NgValueAccessor"),Spe={provide:oi,useExisting:xe(()=>Fd),multi:!0},Mpe=new L("CompositionEventMode");let Fd=(()=>{class t extends kH{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Ape(){const t=rs()?rs().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(n){this.setProperty("value",n??"")}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}}return t.\u0275fac=function(n){return new(n||t)(T(_i),T(Wn),T(Mpe,8))},t.\u0275dir=Q({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,r){1&n&&pn("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[Be([Spe]),De]}),t})();function ks(t){return null==t||("string"==typeof t||Array.isArray(t))&&0===t.length}function OH(t){return null!=t&&"number"==typeof t.length}const dn=new L("NgValidators"),Ps=new L("NgAsyncValidators"),xpe=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class KS{static min(e){return function FH(t){return e=>{if(ks(e.value)||ks(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}(e)}static max(e){return function LH(t){return e=>{if(ks(e.value)||ks(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}(e)}static required(e){return function VH(t){return ks(t.value)?{required:!0}:null}(e)}static requiredTrue(e){return function UH(t){return!0===t.value?null:{required:!0}}(e)}static email(e){return function BH(t){return ks(t.value)||xpe.test(t.value)?null:{email:!0}}(e)}static minLength(e){return function $H(t){return e=>ks(e.value)||!OH(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function jH(t){return e=>OH(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}(e)}static pattern(e){return function HH(t){if(!t)return Dm;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(ks(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return QH(e)}static composeAsync(e){return YH(e)}}function Dm(t){return null}function GH(t){return null!=t}function zH(t){return xc(t)?Tt(t):t}function qH(t){let e={};return t.forEach(n=>{e=null!=n?{...e,...n}:e}),0===Object.keys(e).length?null:e}function WH(t,e){return e.map(n=>n(t))}function KH(t){return t.map(e=>function Rpe(t){return!t.validate}(e)?e:n=>e.validate(n))}function QH(t){if(!t)return null;const e=t.filter(GH);return 0==e.length?null:function(n){return qH(WH(n,e))}}function QS(t){return null!=t?QH(KH(t)):null}function YH(t){if(!t)return null;const e=t.filter(GH);return 0==e.length?null:function(n){return function bpe(...t){const e=UA(t),{args:n,keys:r}=cO(t),i=new He(s=>{const{length:o}=n;if(!o)return void s.complete();const a=new Array(o);let u=o,c=o;for(let l=0;l<o;l++){let d=!1;tr(n[l]).subscribe(bt(s,h=>{d||(d=!0,c--),a[l]=h},()=>u--,void 0,()=>{(!u||!d)&&(c||s.next(r?dO(r,a):a),s.complete())}))}});return e?i.pipe(lO(e)):i}(WH(n,e).map(zH)).pipe(Ie(qH))}}function YS(t){return null!=t?YH(KH(t)):null}function XH(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function JH(t){return t._rawValidators}function ZH(t){return t._rawAsyncValidators}function XS(t){return t?Array.isArray(t)?t:[t]:[]}function Cm(t,e){return Array.isArray(t)?t.includes(e):t===e}function eG(t,e){const n=XS(e);return XS(t).forEach(i=>{Cm(n,i)||n.push(i)}),n}function tG(t,e){return XS(e).filter(n=>!Cm(t,n))}class nG{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=QS(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=YS(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return!!this.control&&this.control.hasError(e,n)}getError(e,n){return this.control?this.control.getError(e,n):null}}class En extends nG{get formDirective(){return null}get path(){return null}}class Os extends nG{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class rG{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let JS=(()=>{class t extends rG{constructor(n){super(n)}}return t.\u0275fac=function(n){return new(n||t)(T(Os,2))},t.\u0275dir=Q({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,r){2&n&&lf("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[De]}),t})(),ZS=(()=>{class t extends rG{constructor(n){super(n)}}return t.\u0275fac=function(n){return new(n||t)(T(En,10))},t.\u0275dir=Q({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(n,r){2&n&&lf("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[De]}),t})();const Ld="VALID",Tm="INVALID",Gu="PENDING",Vd="DISABLED";function nA(t){return(Sm(t)?t.validators:t)||null}function rA(t,e){return(Sm(e)?e.asyncValidators:t)||null}function Sm(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}function sG(t,e,n){const r=t.controls;if(!(e?Object.keys(r):r).length)throw new b(1e3,"");if(!r[n])throw new b(1001,"")}function oG(t,e,n){t._forEachChild((r,i)=>{if(void 0===n[i])throw new b(1002,"")})}class Am{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Ld}get invalid(){return this.status===Tm}get pending(){return this.status==Gu}get disabled(){return this.status===Vd}get enabled(){return this.status!==Vd}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(eG(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(eG(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(tG(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(tG(e,this._rawAsyncValidators))}hasValidator(e){return Cm(this._rawValidators,e)}hasAsyncValidator(e){return Cm(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Gu,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=Vd,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=Ld,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ld||this.status===Gu)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Vd:Ld}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Gu,this._hasOwnPendingAsyncValidator=!0;const n=zH(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent)}get(e){let n=e;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Je,this.statusChanges=new Je}_calculateStatus(){return this._allControlsDisabled()?Vd:this.errors?Tm:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Gu)?Gu:this._anyControlsHaveStatus(Tm)?Tm:Ld}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Sm(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function Ope(t){return Array.isArray(t)?QS(t):t||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function Fpe(t){return Array.isArray(t)?YS(t):t||null}(this._rawAsyncValidators)}}class Ud extends Am{constructor(e,n,r){super(nA(n),rA(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){oG(this,0,e),Object.keys(e).forEach(r=>{sG(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>!!r._syncPendingControls()||n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{const r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class aG extends Ud{}const zo=new L("CallSetDisabledState",{providedIn:"root",factory:()=>Bd}),Bd="always";function $d(t,e,n=Bd){iA(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||"always"===n)&&e.valueAccessor.setDisabledState?.(t.disabled),function Vpe(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&uG(t,e)})}(t,e),function Bpe(t,e){const n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function Upe(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&uG(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function Lpe(t,e){if(e.valueAccessor.setDisabledState){const n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function xm(t,e,n=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Nm(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function Rm(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function iA(t,e){const n=JH(t);null!==e.validator?t.setValidators(XH(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=ZH(t);null!==e.asyncValidator?t.setAsyncValidators(XH(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();Rm(e._rawValidators,i),Rm(e._rawAsyncValidators,i)}function Nm(t,e){let n=!1;if(null!==t){if(null!==e.validator){const i=JH(t);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.validator);s.length!==i.length&&(n=!0,t.setValidators(s))}}if(null!==e.asyncValidator){const i=ZH(t);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.asyncValidator);s.length!==i.length&&(n=!0,t.setAsyncValidators(s))}}}const r=()=>{};return Rm(e._rawValidators,r),Rm(e._rawAsyncValidators,r),n}function uG(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function dG(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function hG(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const Yt=class extends Am{constructor(e=null,n,r){super(nA(n),rA(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Sm(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=hG(e)?e.value:e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){dG(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){dG(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){hG(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};let cA=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=Q({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})(),_G=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Xt({type:t}),t.\u0275inj=Vt({}),t})();const lA=new L("NgModelWithFormControlWarning"),ege={provide:En,useExisting:xe(()=>Hd)};let Hd=(()=>{class t extends En{constructor(n,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Je,this._setValidators(n),this._setAsyncValidators(r)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Nm(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){const r=this.form.get(n.path);return $d(r,n,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),r}getControl(n){return this.form.get(n.path)}removeControl(n){xm(n.control||null,n,!1),function Gpe(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,r){this.form.get(n.path).setValue(r)}onSubmit(n){return this.submitted=!0,function lG(t,e){t._syncPendingControls(),e.forEach(n=>{const r=n.control;"submit"===r.updateOn&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(n),"dialog"===n?.target?.method}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submitted=!1}_updateDomValue(){this.directives.forEach(n=>{const r=n.control,i=this.form.get(n.path);r!==i&&(xm(r||null,n),(t=>t instanceof Yt)(i)&&($d(i,n,this.callSetDisabledState),n.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){const r=this.form.get(n.path);(function cG(t,e){iA(t,e)})(r,n),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){const r=this.form.get(n.path);r&&function $pe(t,e){return Nm(t,e)}(r,n)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){iA(this.form,this),this._oldForm&&Nm(this._oldForm,this)}_checkFormPresent(){}}return t.\u0275fac=function(n){return new(n||t)(T(dn,10),T(Ps,10),T(zo,8))},t.\u0275dir=Q({type:t,selectors:[["","formGroup",""]],hostBindings:function(n,r){1&n&&pn("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Be([ege]),De,rr]}),t})();const rge={provide:Os,useExisting:xe(()=>km)};let km=(()=>{class t extends Os{set isDisabled(n){}constructor(n,r,i,s,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.name=null,this.update=new Je,this._ngModelWarningSent=!1,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function aA(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===Fd?n=s:function Hpe(t){return Object.getPrototypeOf(t.constructor)===Go}(s)?r=s:i=s}),i||r||n||null}(0,s)}ngOnChanges(n){this._added||this._setUpControl(),function oA(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return function Mm(t,e){return[...e.path,t]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return t._ngModelWarningSentOnce=!1,t.\u0275fac=function(n){return new(n||t)(T(En,13),T(dn,10),T(Ps,10),T(oi,10),T(lA,8))},t.\u0275dir=Q({type:t,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[Be([rge]),De,rr]}),t})();const ige={provide:oi,useExisting:xe(()=>fA),multi:!0};function DG(t,e){return null==t?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let fA=(()=>{class t extends Go{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;const i=DG(this._getOptionId(n),n);this.setProperty("value",i)}registerOnChange(n){this.onChange=r=>{this.value=this._getOptionValue(r),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),n))return r;return null}_getOptionValue(n){const r=function sge(t){return t.split(":")[0]}(n);return this._optionMap.has(r)?this._optionMap.get(r):n}}return t.\u0275fac=function(){let e;return function(r){return(e||(e=$t(t)))(r||t)}}(),t.\u0275dir=Q({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(n,r){1&n&&pn("change",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[Be([ige]),De]}),t})(),CG=(()=>{class t{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(n){null!=this._select&&(this._select._optionMap.set(this.id,n),this._setElementValue(DG(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._setElementValue(n),this._select&&this._select.writeValue(this._select.value)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(n){return new(n||t)(T(Wn),T(_i),T(fA,9))},t.\u0275dir=Q({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})();const oge={provide:oi,useExisting:xe(()=>pA),multi:!0};function bG(t,e){return null==t?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let pA=(()=>{class t extends Go{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){let r;if(this.value=n,Array.isArray(n)){const i=n.map(s=>this._getOptionId(s));r=(s,o)=>{s._setSelected(i.indexOf(o.toString())>-1)}}else r=(i,s)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(n){this.onChange=r=>{const i=[],s=r.selectedOptions;if(void 0!==s){const o=s;for(let a=0;a<o.length;a++){const c=this._getOptionValue(o[a].value);i.push(c)}}else{const o=r.options;for(let a=0;a<o.length;a++){const u=o[a];if(u.selected){const c=this._getOptionValue(u.value);i.push(c)}}}this.value=i,n(i)}}_registerOption(n){const r=(this._idCounter++).toString();return this._optionMap.set(r,n),r}_getOptionId(n){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,n))return r;return null}_getOptionValue(n){const r=function age(t){return t.split(":")[0]}(n);return this._optionMap.has(r)?this._optionMap.get(r)._value:n}}return t.\u0275fac=function(){let e;return function(r){return(e||(e=$t(t)))(r||t)}}(),t.\u0275dir=Q({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(n,r){1&n&&pn("change",function(s){return r.onChange(s.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[Be([oge]),De]}),t})(),TG=(()=>{class t{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){null!=this._select&&(this._value=n,this._setElementValue(bG(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(bG(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(n){return new(n||t)(T(Wn),T(_i),T(pA,9))},t.\u0275dir=Q({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})(),FG=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Xt({type:t}),t.\u0275inj=Vt({imports:[_G]}),t})();class LG extends Am{constructor(e,n,r){super(nA(n),rA(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,r={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,n={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),n&&(this.controls.splice(i,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){oG(this,0,e),e.forEach((r,i)=>{sG(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((n,r)=>!!r._syncPendingControls()||n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,r)=>{e(n,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function VG(t){return!!t&&(void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn)}let UG=(()=>{class t{constructor(){this.useNonNullable=!1}get nonNullable(){const n=new t;return n.useNonNullable=!0,n}group(n,r=null){const i=this._reduceControls(n);let s={};return VG(r)?s=r:null!==r&&(s.validators=r.validator,s.asyncValidators=r.asyncValidator),new Ud(i,s)}record(n,r=null){const i=this._reduceControls(n);return new aG(i,r)}control(n,r,i){let s={};return this.useNonNullable?(VG(r)?s=r:(s.validators=r,s.asyncValidators=i),new Yt(n,{...s,nonNullable:!0})):new Yt(n,r,i)}array(n,r,i){const s=n.map(o=>this._createControl(o));return new LG(s,r,i)}_reduceControls(n){const r={};return Object.keys(n).forEach(i=>{r[i]=this._createControl(n[i])}),r}_createControl(n){return n instanceof Yt||n instanceof Am?n:Array.isArray(n)?this.control(n[0],n.length>1?n[1]:null,n.length>2?n[2]:null):this.control(n)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),mge=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:zo,useValue:n.callSetDisabledState??Bd}]}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Xt({type:t}),t.\u0275inj=Vt({imports:[FG]}),t})(),yge=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:lA,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:zo,useValue:n.callSetDisabledState??Bd}]}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Xt({type:t}),t.\u0275inj=Vt({imports:[FG]}),t})();const _ge=[{nombre:"INGRESO",ruta:"ingreso-datos"},{nombre:"TABLA CHANCES",ruta:"tabla-chances"},{nombre:"TABLA LOTERIAS",ruta:"tabla-loterias"}];let vge=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=Yo({type:t,selectors:[["app-header"]],decls:6,vars:0,consts:[[1,"header","w-100"],[1,"row"],[1,"col-md-1"],[1,"max","max-stats-bars2","fs-35","color-oro"],[1,"col-md-10"]],template:function(n,r){1&n&&(ve(0,"div",0)(1,"div",1)(2,"div",2),Me(3,"span",3),we(),Me(4,"div",4)(5,"div",2),we()())},styles:[".header[_ngcontent-%COMP%]{background-color:#0006;position:fixed;padding:20px 60px}"]}),t})();function wge(t,e){1&t&&Me(0,"app-header")}function Ige(t,e){1&t&&(ve(0,"div",15)(1,"small"),Ii(2,"Ingrese correo"),we()())}function Ege(t,e){1&t&&(ve(0,"div",15)(1,"small"),Ii(2,"Ingrese la clave"),we()())}function Dge(t,e){1&t&&(ve(0,"div",16)(1,"small"),Ii(2,"Clave o usuario incorrecto"),we()())}function Cge(t,e){if(1&t){const n=function wN(){return D()}();ve(0,"div",4),Me(1,"div",5),ve(2,"div",5),Me(3,"div",6),ve(4,"div",7)(5,"form",8),pn("submit",function(){return function xM(t){return W.lFrame.contextLView=t,t[Ye]}(n),function RM(t){return W.lFrame.contextLView=null,t}(Ra().enviar())}),ve(6,"div",9),Me(7,"input",10),Qn(8,Ige,3,0,"div",11),we(),ve(9,"div",9),Me(10,"input",12),Qn(11,Ege,3,0,"div",11),we(),ve(12,"button",13),Ii(13,"Ingresar"),we(),Qn(14,Dge,3,0,"div",14),we()(),Me(15,"div",6)(16,"div",6)(17,"div",6),we(),Me(18,"div",5),we()}if(2&t){const n=Ra();let r,i;wt(5),nn("formGroup",n.formIngreso),wt(3),nn("ngIf",!(null!=(r=n.formIngreso.get("email"))&&r.valid)),wt(3),nn("ngIf",!(null!=(i=n.formIngreso.get("password"))&&i.valid)),wt(3),nn("ngIf",!n.errorClave)}}function bge(t,e){if(1&t&&(ve(0,"div",22)(1,"a",23)(2,"p",24),Ii(3),we()()()),2&t){const n=e.$implicit;wt(1),Qs("href",n.ruta,Uh),wt(2),hf(" ",n.nombre," ")}}function Tge(t,e){if(1&t&&(ve(0,"div",17),Me(1,"div",6),ve(2,"div",4),Me(3,"div",18),ve(4,"div",19)(5,"div",20),Qn(6,bge,4,2,"div",21),we(),Me(7,"div",6)(8,"div",6)(9,"div",6),we(),Me(10,"div",18),we()()),2&t){const n=Ra();wt(6),nn("ngForOf",n.menu)}}let Sge=(()=>{class t{constructor(n,r){this.firestore=n,this.fb=r,this.menu=_ge,this.formIngreso=this.crearFormulario(),this.formGrupos=this.crearFormularioGrupos();const i=Dpe(this.firestore,"todos-los-grupos");this.item$=Epe(i),this.mostrarLogin=!0,this.errorClave=!0}ngOnInit(){this.item$.subscribe({next:r=>{console.log(r,"HABER PUES")}}),Math.floor(9e9*Math.random())}crearFormulario(){return this.fb.group({email:["",[KS.required]],password:["",[KS.required]]})}crearFormularioGrupos(){return this.fb.group({grupos:["",[KS.required]]})}enviar(){"alexuriel.777@gmail.com"===this.formIngreso.value.email&&"Desarrollo2023$"===this.formIngreso.value.password?(this.mostrarLogin=!1,this.errorClave=!0):this.errorClave=!1}enviarGrupos(){}}return t.\u0275fac=function(n){return new(n||t)(T(Em),T(UG))},t.\u0275cmp=Yo({type:t,selectors:[["app-home"]],decls:4,vars:3,consts:[[1,"bg-dark"],[4,"ngIf"],["class","row",4,"ngIf"],["class","p-5 bg-dark",4,"ngIf"],[1,"row"],[1,"col-md-4"],[1,"espaciado"],[1,"card","p-5","bg-dark","shadow"],[1,"f-merriweather","fs-15","lh-15",3,"formGroup","submit"],[1,"form-group"],["type","email","id","exampleInputEmail1","aria-describedby","emailHelp","formControlName","email","placeholder","Email",1,"form-control"],["class","text-danger font-italic","role","alert",4,"ngIf"],["type","password","id","exampleInputPassword1","formControlName","password","placeholder","Password",1,"form-control"],["type","submit",1,"btn","btn-primary","fondo-oro","borde-oro","w-100","shadow"],["class","color-oro font-italic","role","alert",4,"ngIf"],["role","alert",1,"text-danger","font-italic"],["role","alert",1,"color-oro","font-italic"],[1,"p-5","bg-dark"],[1,"col-md-1"],[1,"col-md-10"],[1,"row","f-shadow-into-l"],["class","col l-menu bg-dark",4,"ngFor","ngForOf"],[1,"col","l-menu","bg-dark"],[3,"href"],[1,"color-oro"]],template:function(n,r){1&n&&(ve(0,"div",0),Qn(1,wge,1,0,"app-header",1),Qn(2,Cge,19,4,"div",2),Qn(3,Tge,11,1,"div",3),we()),2&n&&(wt(1),nn("ngIf",!r.mostrarLogin),wt(1),nn("ngIf",r.mostrarLogin),wt(1),nn("ngIf",!r.mostrarLogin))},dependencies:[Wv,Kv,vge,cA,Fd,JS,ZS,Hd,km]}),t})();const Bn="text-light bg-transparent w-100 border rounded border-warning pl-2",Age=[{referencia:"Astro Sol",premios:["|500:$14.112.000|*|600:$16.934.400|*|700:$19.756.800|*|800:$22.579.200|*|900:$25.401.600|*|1000:$28.224.000|*|1100:$31.046.400|*|1200:$33.868.800|*|1300:$36.691.200|*|1400:$39.513.600|*|1500:$42.369.600|*|1600:$45.192.000|*|1700:$48.014.400|*|1800:$50.836.800|*|1900:$53.659.200|*|2000:$56.481.600|*|2100:$59.304.000|*|2200:$59.304.000|*|2300:$64.948.800|*|2400:$67.771.200|*|2500:$70.593.600|*|2600:$73.416.000|*|2700:$76.238.400|*|2800:$79.060.800|*|2900:$81.883.200|*|3000:$84.705.600|*|3100:$87.528.000|*|3200:$90.350.400|*|3300:$93.172.800|*|3400:$95.995.200|*|3500:$98.817.600|*|3600:$101.640.000|*|3700:$104.462.400|*|"],grupos:[{campo:"fecha",tipo:"date",ancho:"80",maxlength:"20",minlength:"",nombreCampo:"campo1",clase:Bn},{campo:"sorteo",tipo:"text",ancho:"",maxlength:"",minlength:"",nombreCampo:"campo2",clase:Bn},{campo:"uno",tipo:"text",ancho:"",maxlength:"",minlength:"",nombreCampo:"campo3",clase:Bn},{campo:"dos",tipo:"text",ancho:"",maxlength:"",minlength:"",nombreCampo:"campo4",clase:Bn},{campo:"tres",tipo:"text",ancho:"",maxlength:"",minlength:"",nombreCampo:"campo5",clase:Bn},{campo:"cuatro",tipo:"text",ancho:"",maxlength:"",minlength:"",nombreCampo:"campo6",clase:Bn},{campo:"signo",tipo:"text",ancho:"",maxlength:"",minlength:"",nombreCampo:"campo7",clase:Bn}]},{referencia:"Astro Luna",premios:[],grupos:[{campo:"fecha",tipo:"date",ancho:"80",maxlength:"20",minlength:"",nombreCampo:"campo1",clase:Bn},{campo:"sorteo",tipo:"text",ancho:"",maxlength:"",minlength:"",nombreCampo:"campo2",clase:Bn},{campo:"uno",tipo:"text",ancho:"",maxlength:"",minlength:"",nombreCampo:"campo3",clase:Bn},{campo:"dos",tipo:"text",ancho:"",maxlength:"",minlength:"",nombreCampo:"campo4",clase:Bn},{campo:"tres",tipo:"text",ancho:"",maxlength:"",minlength:"",nombreCampo:"campo5",clase:Bn},{campo:"cuatro",tipo:"text",ancho:"",maxlength:"",minlength:"",nombreCampo:"campo6",clase:Bn},{campo:"signo",tipo:"text",ancho:"",maxlength:"",minlength:"",nombreCampo:"campo7",clase:Bn}]}];function Mge(t,e){if(1&t&&(ve(0,"option",15),Ii(1),we()),2&t){const n=e.$implicit;Qs("value",n.referencia),wt(1),z_(n.referencia)}}function xge(t,e){if(1&t&&(ve(0,"div",16),Me(1,"img",17),we()),2&t){const n=Ra();wt(1),uf("src","assets/img/logos",n.logo,"",Uh)}}function Rge(t,e){if(1&t&&Me(0,"input",21),2&t){const n=Ra().$implicit;jN(n.clase),Qs("type",n.tipo),Qs("placeholder",n.campo),Qs("formControlName",n.nombreCampo)}}function Nge(t,e){1&t&&(ve(0,"select",22),Me(1,"option",23),we())}function kge(t,e){if(1&t&&(ve(0,"div",18),Qn(1,Rge,1,6,"input",19),Qn(2,Nge,2,0,"select",20),we()),2&t){const n=e.$implicit;wt(1),nn("ngIf","text"===n.tipo||"date"===n.tipo),wt(1),nn("ngIf","lista"===n.tipo)}}const Pge=[{path:"",pathMatch:"full",redirectTo:"home"},{path:"home",component:Sge},{path:"ingreso-datos",component:(()=>{class t{constructor(n){this.fb=n,this.chances=Age,this.formularioSeleccionado=[],this.form=this.crearFormulario(),this.logo=""}grupoSeleccionado(n){console.log(n.target.value);let r=[];r=this.chances.filter(i=>(console.log(i.referencia),i.referencia.includes(n.target.value))),this.formularioSeleccionado=r[0].grupos,console.log(r,"HABER PUES")}crearFormulario(){return this.fb.group({campo1:new Yt({value:"",disabled:!1}),campo2:new Yt({value:"",disabled:!1}),campo3:new Yt({value:"",disabled:!1}),campo4:new Yt({value:"",disabled:!1}),campo5:new Yt({value:"",disabled:!1}),campo6:new Yt({value:"",disabled:!1}),campo7:new Yt({value:"",disabled:!1}),campo8:new Yt({value:"",disabled:!1}),campo9:new Yt({value:"",disabled:!1}),campo10:new Yt({value:"",disabled:!1}),campo11:new Yt({value:"",disabled:!1}),campo12:new Yt({value:"",disabled:!1})})}guardarSorteo(){console.log(this.form,"HABER PUEST")}}return t.\u0275fac=function(n){return new(n||t)(T(UG))},t.\u0275cmp=Yo({type:t,selectors:[["app-ingreso-datos"]],decls:25,vars:4,consts:[[1,"bg-dark"],[1,"espacio"],[1,"espaciado"],[1,"row"],[1,"col-md-1"],[1,"col-md-10"],[1,"col-md-4"],[1,"col-md-4","shadow","p-5","f-merriweather"],["name","","id","",1,"w-100",3,"change"],["value","default"],[3,"value",4,"ngFor","ngForOf"],["class","text-center",4,"ngIf"],["action","",3,"formGroup","submit"],["class","col",4,"ngFor","ngForOf"],["type","submit",1,"mt-5"],[3,"value"],[1,"text-center"],["alt","","height","60","width","auto",3,"src"],[1,"col"],[3,"type","placeholder","class","formControlName",4,"ngIf"],["name","","id","",4,"ngIf"],[3,"type","placeholder","formControlName"],["name","","id",""],["value",""]],template:function(n,r){1&n&&(ve(0,"div",0),Me(1,"div",1)(2,"div",2),ve(3,"div",3),Me(4,"div",4),ve(5,"div",5)(6,"div",3),Me(7,"div",6),ve(8,"div",7)(9,"select",8),pn("change",function(s){return r.grupoSeleccionado(s)}),ve(10,"option",9),Ii(11,"---"),we(),Qn(12,Mge,2,2,"option",10),we()(),Me(13,"div",6),we(),Me(14,"div",1),Qn(15,xge,2,1,"div",11),ve(16,"form",12),pn("submit",function(){return r.guardarSorteo()}),ve(17,"div",3),Qn(18,kge,3,2,"div",13),we(),ve(19,"button",14),Ii(20," Guardar "),we()()(),Me(21,"div",4),we(),Me(22,"div",2)(23,"div",2)(24,"div",2),we()),2&n&&(wt(12),nn("ngForOf",r.chances),wt(3),nn("ngIf",r.logo),wt(1),nn("formGroup",r.form),wt(2),nn("ngForOf",r.formularioSeleccionado))},dependencies:[Wv,Kv,cA,CG,TG,Fd,JS,ZS,Hd,km]}),t})()}],Oge_firebase={projectId:"estadistica-e5eeb",appId:"1:64729521444:web:14775deeb53cf35772e7b1",databaseURL:"https://estadistica-e5eeb.firebaseio.com",storageBucket:"estadistica-e5eeb.appspot.com",locationId:"southamerica-east1",apiKey:"AIzaSyCSZ_jjFVuKWQV-MN1y11Jns6LKLX6vtA4",authDomain:"estadistica-e5eeb.firebaseapp.com",messagingSenderId:"64729521444"};let Fge=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Xt({type:t}),t.\u0275inj=Vt({imports:[VP]}),t})(),Lge=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Xt({type:t,bootstrap:[lZ]}),t.\u0275inj=Vt({imports:[bY,Fw.forRoot(Pge),cZ,Fge,iie(()=>sie(Oge_firebase)),Ipe(()=>Cpe()),Uae(()=>Bae()),yce(()=>_ce()),mge,yge]}),t})();DY().bootstrapModule(Lge).catch(t=>console.error(t))}},Ae=>{Ae(Ae.s=613)}]);