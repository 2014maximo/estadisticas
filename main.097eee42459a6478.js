"use strict";(self.webpackChunkestadisticas=self.webpackChunkestadisticas||[]).push([[179],{604:()=>{function Te(t){return"function"==typeof t}function $u(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const Bd=$u(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function Ho(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class Fn{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const s of n)s.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(Te(r))try{r()}catch(s){e=s instanceof Bd?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{cA(s)}catch(o){e=e??[],o instanceof Bd?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Bd(e)}}add(e){var n;if(e&&e!==this)if(this.closed)cA(e);else{if(e instanceof Fn){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Ho(n,e)}remove(e){const{_finalizers:n}=this;n&&Ho(n,e),e instanceof Fn&&e._removeParent(this)}}Fn.EMPTY=(()=>{const t=new Fn;return t.closed=!0,t})();const aA=Fn.EMPTY;function uA(t){return t instanceof Fn||t&&"closed"in t&&Te(t.remove)&&Te(t.add)&&Te(t.unsubscribe)}function cA(t){Te(t)?t():t.unsubscribe()}const Ns={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},$d={setTimeout(t,e,...n){const{delegate:r}=$d;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=$d;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function lA(t){$d.setTimeout(()=>{const{onUnhandledError:e}=Ns;if(!e)throw t;e(t)})}function dA(){}const FG=Sm("C",void 0,void 0);function Sm(t,e,n){return{kind:t,value:e,error:n}}let ks=null;function jd(t){if(Ns.useDeprecatedSynchronousErrorHandling){const e=!ks;if(e&&(ks={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=ks;if(ks=null,n)throw r}}else t()}class Am extends Fn{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,uA(e)&&e.add(this)):this.destination=HG}static create(e,n,r){return new ju(e,n,r)}next(e){this.isStopped?xm(function VG(t){return Sm("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?xm(function LG(t){return Sm("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?xm(FG,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const BG=Function.prototype.bind;function Mm(t,e){return BG.call(t,e)}class $G{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Hd(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Hd(r)}else Hd(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Hd(n)}}}class ju extends Am{constructor(e,n,r){let i;if(super(),Te(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&Ns.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Mm(e.next,s),error:e.error&&Mm(e.error,s),complete:e.complete&&Mm(e.complete,s)}):i=e}this.destination=new $G(i)}}function Hd(t){Ns.useDeprecatedSynchronousErrorHandling?function UG(t){Ns.useDeprecatedSynchronousErrorHandling&&ks&&(ks.errorThrown=!0,ks.error=t)}(t):lA(t)}function xm(t,e){const{onStoppedNotification:n}=Ns;n&&$d.setTimeout(()=>n(t,e))}const HG={closed:!0,next:dA,error:function jG(t){throw t},complete:dA},Rm="function"==typeof Symbol&&Symbol.observable||"@@observable";function Ps(t){return t}function hA(t){return 0===t.length?Ps:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}let Be=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const s=function qG(t){return t&&t instanceof Am||function zG(t){return t&&Te(t.next)&&Te(t.error)&&Te(t.complete)}(t)&&uA(t)}(n)?n:new ju(n,r,i);return jd(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=fA(r))((i,s)=>{const o=new ju({next:a=>{try{n(a)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[Rm](){return this}pipe(...n){return hA(n)(this)}toPromise(n){return new(n=fA(n))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function fA(t){var e;return null!==(e=t??Ns.Promise)&&void 0!==e?e:Promise}const WG=$u(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let ii=(()=>{class t extends Be{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new pA(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new WG}next(n){jd(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){jd(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){jd(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:s}=this;return r||i?aA:(this.currentObservers=null,s.push(n),new Fn(()=>{this.currentObservers=null,Ho(s,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){const n=new Be;return n.source=this,n}}return t.create=(e,n)=>new pA(e,n),t})();class pA extends ii{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:aA}}function gA(t){return Te(t?.lift)}function Ot(t){return e=>{if(gA(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Dt(t,e,n,r,i){return new KG(t,e,n,r,i)}class KG extends Am{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function ve(t,e){return Ot((n,r)=>{let i=0;n.subscribe(Dt(r,s=>{r.next(t.call(e,s,i++))}))})}function Pm(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function ji(t){return this instanceof ji?(this.v=t,this):new ji(t)}function vA(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function Fm(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,u){!function i(s,o,a,u){Promise.resolve(u).then(function(c){s({value:c,done:a})},o)}(a,u,(o=t[s](o)).done,o.value)})}}}const wA=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function IA(t){return Te(t?.then)}function EA(t){return Te(t[Rm])}function DA(t){return Symbol.asyncIterator&&Te(t?.[Symbol.asyncIterator])}function CA(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const bA=function hz(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function TA(t){return Te(t?.[bA])}function SA(t){return function _A(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(p,m){s.push([h,f,p,m])>1||a(h,f)})})}function a(h,f){try{!function u(h){h.value instanceof ji?Promise.resolve(h.value.v).then(c,l):d(s[0][2],h)}(r[h](f))}catch(p){d(s[0][3],p)}}function c(h){a("next",h)}function l(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield ji(n.read());if(i)return yield ji(void 0);yield yield ji(r)}}finally{n.releaseLock()}})}function AA(t){return Te(t?.getReader)}function Yn(t){if(t instanceof Be)return t;if(null!=t){if(EA(t))return function fz(t){return new Be(e=>{const n=t[Rm]();if(Te(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(wA(t))return function pz(t){return new Be(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(IA(t))return function gz(t){return new Be(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,lA)})}(t);if(DA(t))return MA(t);if(TA(t))return function mz(t){return new Be(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(AA(t))return function yz(t){return MA(SA(t))}(t)}throw CA(t)}function MA(t){return new Be(e=>{(function _z(t,e){var n,r,i,s;return function mA(t,e,n,r){return new(n||(n=Promise))(function(s,o){function a(l){try{c(r.next(l))}catch(d){o(d)}}function u(l){try{c(r.throw(l))}catch(d){o(d)}}function c(l){l.done?s(l.value):function i(s){return s instanceof n?s:new n(function(o){o(s)})}(l.value).then(a,u)}c((r=r.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=vA(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function si(t,e,n,r=0,i=!1){const s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function Ft(t,e,n=1/0){return Te(e)?Ft((r,i)=>ve((s,o)=>e(r,s,i,o))(Yn(t(r,i))),n):("number"==typeof e&&(n=e),Ot((r,i)=>function vz(t,e,n,r,i,s,o,a){const u=[];let c=0,l=0,d=!1;const h=()=>{d&&!u.length&&!c&&e.complete()},f=m=>c<r?p(m):u.push(m),p=m=>{s&&e.next(m),c++;let y=!1;Yn(n(m,l++)).subscribe(Dt(e,v=>{i?.(v),s?f(v):e.next(v)},()=>{y=!0},void 0,()=>{if(y)try{for(c--;u.length&&c<r;){const v=u.shift();o?si(e,o,()=>p(v)):p(v)}h()}catch(v){e.error(v)}}))};return t.subscribe(Dt(e,f,()=>{d=!0,h()})),()=>{a?.()}}(r,i,t,n)))}function Go(t=1/0){return Ft(Ps,t)}const br=new Be(t=>t.complete());function Lm(t){return t[t.length-1]}function xA(t){return Te(Lm(t))?t.pop():void 0}function Hu(t){return function Iz(t){return t&&Te(t.schedule)}(Lm(t))?t.pop():void 0}function Gd(t,e=0){return Ot((n,r)=>{n.subscribe(Dt(r,i=>si(r,t,()=>r.next(i),e),()=>si(r,t,()=>r.complete(),e),i=>si(r,t,()=>r.error(i),e)))})}function zd(t,e=0){return Ot((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function RA(t,e){if(!t)throw new Error("Iterable cannot be null");return new Be(n=>{si(n,e,()=>{const r=t[Symbol.asyncIterator]();si(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function Ct(t,e){return e?function Az(t,e){if(null!=t){if(EA(t))return function Dz(t,e){return Yn(t).pipe(zd(e),Gd(e))}(t,e);if(wA(t))return function bz(t,e){return new Be(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(IA(t))return function Cz(t,e){return Yn(t).pipe(zd(e),Gd(e))}(t,e);if(DA(t))return RA(t,e);if(TA(t))return function Tz(t,e){return new Be(n=>{let r;return si(n,e,()=>{r=t[bA](),si(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void n.error(o)}s?n.complete():n.next(i)},0,!0)}),()=>Te(r?.return)&&r.return()})}(t,e);if(AA(t))return function Sz(t,e){return RA(SA(t),e)}(t,e)}throw CA(t)}(t,e):Yn(t)}function Vm(t,e,...n){if(!0===e)return void t();if(!1===e)return;const r=new ju({next:()=>{r.unsubscribe(),t()}});return Yn(e(...n)).subscribe(r)}function we(t){for(let e in t)if(t[e]===we)return e;throw Error("Could not find renamed property on target object.")}function Um(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function pt(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(pt).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function Bm(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const Rz=we({__forward_ref__:we});function Se(t){return t.__forward_ref__=Se,t.toString=function(){return pt(this())},t}function X(t){return $m(t)?t():t}function $m(t){return"function"==typeof t&&t.hasOwnProperty(Rz)&&t.__forward_ref__===Se}function jm(t){return t&&!!t.\u0275providers}class b extends Error{constructor(e,n){super(function qd(t,e){return`NG0${Math.abs(t)}${e?": "+e:""}`}(e,n)),this.code=e}}function ye(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():function Z(t){return"string"==typeof t?t:null==t?"":String(t)}(t)}function Wd(t,e){throw new b(-201,!1)}function Xn(t,e){null==t&&function _e(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function j(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Lt(t){return{providers:t.providers||[],imports:t.imports||[]}}function Kd(t){return kA(t,Qd)||kA(t,OA)}function kA(t,e){return t.hasOwnProperty(e)?t[e]:null}function PA(t){return t&&(t.hasOwnProperty(Hm)||t.hasOwnProperty(Uz))?t[Hm]:null}const Qd=we({\u0275prov:we}),Hm=we({\u0275inj:we}),OA=we({ngInjectableDef:we}),Uz=we({ngInjectorDef:we});var H=(()=>((H=H||{})[H.Default=0]="Default",H[H.Host=1]="Host",H[H.Self=2]="Self",H[H.SkipSelf=4]="SkipSelf",H[H.Optional=8]="Optional",H))();let Gm;function wn(t){const e=Gm;return Gm=t,e}function LA(t,e,n){const r=Kd(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&H.Optional?null:void 0!==e?e:void Wd(pt(t))}const Ae=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Gu={},zm="__NG_DI_FLAG__",Yd="ngTempTokenPath",$z=/\n/gm,VA="__source";let zo;function Gi(t){const e=zo;return zo=t,e}function Gz(t,e=H.Default){if(void 0===zo)throw new b(-203,!1);return null===zo?LA(t,void 0,e):zo.get(t,e&H.Optional?null:void 0,e)}function $(t,e=H.Default){return(function FA(){return Gm}()||Gz)(X(t),e)}function V(t,e=H.Default){return $(t,Xd(e))}function Xd(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function qm(t){const e=[];for(let n=0;n<t.length;n++){const r=X(t[n]);if(Array.isArray(r)){if(0===r.length)throw new b(900,!1);let i,s=H.Default;for(let o=0;o<r.length;o++){const a=r[o],u=zz(a);"number"==typeof u?-1===u?i=a.token:s|=u:i=a}e.push($(i,s))}else e.push($(r))}return e}function zu(t,e){return t[zm]=e,t.prototype[zm]=e,t}function zz(t){return t[zm]}function oi(t){return{toString:t}.toString()}var Tr=(()=>((Tr=Tr||{})[Tr.OnPush=0]="OnPush",Tr[Tr.Default=1]="Default",Tr))(),Vn=(()=>{return(t=Vn||(Vn={}))[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",Vn;var t})();const ai={},ge=[],Jd=we({\u0275cmp:we}),Wm=we({\u0275dir:we}),Km=we({\u0275pipe:we}),BA=we({\u0275mod:we}),ui=we({\u0275fac:we}),qu=we({__NG_ELEMENT_ID__:we}),$A=we({__NG_ENV_ID__:we});function jA(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function Qm(t,e,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{const s=i,o=n[++r];GA(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function HA(t){return 3===t||4===t||6===t}function GA(t){return 64===t.charCodeAt(0)}function Wu(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||zA(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function zA(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const a=t[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<t.length;){const a=t[s];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}const qA="ng-template";function Kz(t,e,n){let r=0,i=!0;for(;r<t.length;){let s=t[r++];if("string"==typeof s&&i){const o=t[r++];if(n&&"class"===s&&-1!==jA(o.toLowerCase(),e,0))return!0}else{if(1===s){for(;r<t.length&&"string"==typeof(s=t[r++]);)if(s.toLowerCase()===e)return!0;return!1}"number"==typeof s&&(i=!1)}}return!1}function WA(t){return 4===t.type&&t.value!==qA}function Qz(t,e,n){return e===(4!==t.type||n?t.value:qA)}function Yz(t,e,n){let r=4;const i=t.attrs||[],s=function Zz(t){for(let e=0;e<t.length;e++)if(HA(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!Qz(t,u,n)||""===u&&1===e.length){if(ar(r))return!1;o=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!Kz(t.attrs,c,n)){if(ar(r))return!1;o=!0}continue}const d=Xz(8&r?"class":u,i,WA(t),n);if(-1===d){if(ar(r))return!1;o=!0;continue}if(""!==c){let h;h=d>s?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==jA(f,c,0)||2&r&&c!==h){if(ar(r))return!1;o=!0}}}}else{if(!o&&!ar(r)&&!ar(u))return!1;if(o&&ar(u))continue;o=!1,r=u|1&r}}return ar(r)||o}function ar(t){return 0==(1&t)}function Xz(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){const o=e[i];if(o===t)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function e4(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function KA(t,e,n=!1){for(let r=0;r<e.length;r++)if(Yz(t,e[r],n))return!0;return!1}function QA(t,e){return t?":not("+e.trim()+")":e}function n4(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!ar(o)&&(e+=QA(s,i),i=""),r=o,s=s||!ar(r);n++}return""!==i&&(e+=QA(s,i)),e}function qo(t){return oi(()=>{const e=XA(t),n={...e,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Tr.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,data:t.data||{},encapsulation:t.encapsulation||Vn.Emulated,styles:t.styles||ge,_:null,schemas:t.schemas||null,tView:null,id:""};JA(n);const r=t.dependencies;return n.directiveDefs=Zd(r,!1),n.pipeDefs=Zd(r,!0),n.id=function l4(t){let e=0;const n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(n),n})}function o4(t){return me(t)||Yt(t)}function a4(t){return null!==t}function Qt(t){return oi(()=>({type:t.type,bootstrap:t.bootstrap||ge,declarations:t.declarations||ge,imports:t.imports||ge,exports:t.exports||ge,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function YA(t,e){if(null==t)return ai;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}function Q(t){return oi(()=>{const e=XA(t);return JA(e),e})}function me(t){return t[Jd]||null}function Yt(t){return t[Wm]||null}function En(t){return t[Km]||null}function Un(t,e){const n=t[BA]||null;if(!n&&!0===e)throw new Error(`Type ${pt(t)} does not have '\u0275mod' property.`);return n}function XA(t){const e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,exportAs:t.exportAs||null,standalone:!0===t.standalone,selectors:t.selectors||ge,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:YA(t.inputs,e),outputs:YA(t.outputs)}}function JA(t){t.features?.forEach(e=>e(t))}function Zd(t,e){if(!t)return null;const n=e?En:o4;return()=>("function"==typeof t?t():t).map(r=>n(r)).filter(a4)}const gt=0,k=1,ie=2,$e=3,ur=4,Os=5,Xt=6,Ko=7,We=8,Qo=9,Fs=10,ne=11,Ku=12,ZA=13,Yo=14,at=15,Qu=16,Xo=17,Sr=18,Yu=19,eM=20,zi=21,ci=22,eh=23,th=24,ce=25,Ym=1,tM=2,Ar=7,nh=8,Jo=9,Vt=11;function Bn(t){return Array.isArray(t)&&"object"==typeof t[Ym]}function Dn(t){return Array.isArray(t)&&!0===t[Ym]}function Xm(t){return 0!=(4&t.flags)}function Ls(t){return t.componentOffset>-1}function rh(t){return 1==(1&t.flags)}function cr(t){return!!t.template}function Jm(t){return 0!=(512&t[ie])}function Vs(t,e){return t.hasOwnProperty(ui)?t[ui]:null}let g4=Ae.WeakRef??class p4{constructor(e){this.ref=e}deref(){return this.ref}},y4=0,Mr=null,ih=!1;function bt(t){const e=Mr;return Mr=t,e}class oM{constructor(){this.id=y4++,this.ref=function m4(t){return new g4(t)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[e,n]of this.producers){const r=n.producerNode.deref();if(void 0!==r&&n.atTrackingVersion===this.trackingVersion){if(r.producerPollStatus(n.seenValueVersion))return!0}else this.producers.delete(e),r?.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const e=ih;ih=!0;try{for(const[n,r]of this.consumers){const i=r.consumerNode.deref();void 0!==i&&i.trackingVersion===r.atTrackingVersion?i.onConsumerDependencyMayHaveChanged():(this.consumers.delete(n),i?.producers.delete(this.id))}}finally{ih=e}}producerAccessed(){if(ih)throw new Error("");if(null===Mr)return;let e=Mr.producers.get(this.id);void 0===e?(e={consumerNode:Mr.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:Mr.trackingVersion},Mr.producers.set(this.id,e),this.consumers.set(Mr.id,e)):(e.seenValueVersion=this.valueVersion,e.atTrackingVersion=Mr.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){return!1!==Mr?.consumerAllowSignalWrites}producerPollStatus(e){return this.valueVersion!==e||(this.onProducerUpdateValueVersion(),this.valueVersion!==e)}}let aM=null;const uM=()=>{};class I4 extends oM{constructor(e,n,r){super(),this.watch=e,this.schedule=n,this.dirty=!1,this.cleanupFn=uM,this.registerOnCleanup=i=>{this.cleanupFn=i},this.consumerAllowSignalWrites=r}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const e=bt(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=uM,this.watch(this.registerOnCleanup)}finally{bt(e)}}cleanup(){this.cleanupFn()}}class E4{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function Jn(){return cM}function cM(t){return t.type.prototype.ngOnChanges&&(t.setInput=C4),D4}function D4(){const t=dM(this),e=t?.current;if(e){const n=t.previous;if(n===ai)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function C4(t,e,n,r){const i=this.declaredInputs[n],s=dM(t)||function b4(t,e){return t[lM]=e}(t,{previous:ai,current:null}),o=s.current||(s.current={}),a=s.previous,u=a[i];o[i]=new E4(u&&u.currentValue,e,a===ai),t[r]=e}Jn.ngInherit=!0;const lM="__ngSimpleChanges__";function dM(t){return t[lM]||null}const xr=function(t,e,n){};function Re(t){for(;Array.isArray(t);)t=t[gt];return t}function Cn(t,e){return Re(e[t.index])}function pM(t,e){return t.data[e]}function bn(t,e){const n=e[t];return Bn(n)?n:n[gt]}function uh(t){return 128==(128&t[ie])}function qi(t,e){return null==e?null:t[e]}function gM(t){t[Xo]=0}function R4(t){1024&t[ie]||(t[ie]|=1024,yM(t,1))}function mM(t){1024&t[ie]&&(t[ie]&=-1025,yM(t,-1))}function yM(t,e){let n=t[$e];if(null===n)return;n[Os]+=e;let r=n;for(n=n[$e];null!==n&&(1===e&&1===r[Os]||-1===e&&0===r[Os]);)n[Os]+=e,r=n,n=n[$e]}const W={lFrame:xM(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function wM(){return W.bindingsEnabled}function D(){return W.lFrame.lView}function he(){return W.lFrame.tView}function Ut(){let t=DM();for(;null!==t&&64===t.type;)t=t.parent;return t}function DM(){return W.lFrame.currentTNode}function Rr(t,e){const n=W.lFrame;n.currentTNode=t,n.isParent=e}function iy(){return W.lFrame.isParent}function H4(t,e){const n=W.lFrame;n.bindingIndex=n.bindingRootIndex=t,oy(e)}function oy(t){W.lFrame.currentDirectiveIndex=t}function uy(t){W.lFrame.currentQueryIndex=t}function z4(t){const e=t[k];return 2===e.type?e.declTNode:1===e.type?t[Xt]:null}function AM(t,e,n){if(n&H.SkipSelf){let i=e,s=t;for(;!(i=i.parent,null!==i||n&H.Host||(i=z4(s),null===i||(s=s[Yo],10&i.type))););if(null===i)return!1;e=i,t=s}const r=W.lFrame=MM();return r.currentTNode=e,r.lView=t,!0}function cy(t){const e=MM(),n=t[k];W.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function MM(){const t=W.lFrame,e=null===t?null:t.child;return null===e?xM(t):e}function xM(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function RM(){const t=W.lFrame;return W.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const NM=RM;function ly(){const t=RM();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function ln(){return W.lFrame.selectedIndex}function Us(t){W.lFrame.selectedIndex=t}let PM=!0;function ch(){return PM}function Wi(t){PM=t}function lh(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:c,ngOnDestroy:l}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),c&&((t.viewHooks??=[]).push(n,c),(t.viewCheckHooks??=[]).push(n,c)),null!=l&&(t.destroyHooks??=[]).push(n,l)}}function dh(t,e,n){OM(t,e,3,n)}function hh(t,e,n,r){(3&t[ie])===n&&OM(t,e,n,r)}function dy(t,e){let n=t[ie];(3&n)===e&&(n&=4095,n+=1,t[ie]=n)}function OM(t,e,n,r){const s=r??-1,o=e.length-1;let a=0;for(let u=void 0!==r?65535&t[Xo]:0;u<o;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(t[Xo]+=65536),(a<s||-1==s)&&(Z4(t,n,e,u),t[Xo]=(4294901760&t[Xo])+u+2),u++}function FM(t,e){xr(4,t,e);const n=bt(null);try{e.call(t)}finally{bt(n),xr(5,t,e)}}function Z4(t,e,n,r){const i=n[r]<0,s=n[r+1],a=t[i?-n[r]:n[r]];i?t[ie]>>12<t[Xo]>>16&&(3&t[ie])===e&&(t[ie]+=4096,FM(a,s)):FM(a,s)}const na=-1;class Zu{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function LM(t){return t!==na}function fh(t){return 32767&t}function ph(t,e){let n=function rq(t){return t>>16}(t),r=e;for(;n>0;)r=r[Yo],n--;return r}let fy=!0;function gh(t){const e=fy;return fy=t,e}const VM=255,UM=5;let iq=0;const Nr={};function mh(t,e){const n=BM(t,e);if(-1!==n)return n;const r=e[k];r.firstCreatePass&&(t.injectorIndex=e.length,py(r.data,t),py(e,null),py(r.blueprint,null));const i=gy(t,e),s=t.injectorIndex;if(LM(i)){const o=fh(i),a=ph(i,e),u=a[k].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|u[o+c]}return e[s+8]=i,s}function py(t,e){t.push(0,0,0,0,0,0,0,0,e)}function BM(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function gy(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){if(r=WM(i),null===r)return na;if(n++,i=i[Yo],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return na}function my(t,e,n){!function sq(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(qu)&&(r=n[qu]),null==r&&(r=n[qu]=iq++);const i=r&VM;e.data[t+(i>>UM)]|=1<<i}(t,e,n)}function $M(t,e,n){if(n&H.Optional||void 0!==t)return t;Wd()}function jM(t,e,n,r){if(n&H.Optional&&void 0===r&&(r=null),!(n&(H.Self|H.Host))){const i=t[Qo],s=wn(void 0);try{return i?i.get(e,r,n&H.Optional):LA(e,r,n&H.Optional)}finally{wn(s)}}return $M(r,0,n)}function HM(t,e,n,r=H.Default,i){if(null!==t){if(2048&e[ie]&&!(r&H.Self)){const o=function lq(t,e,n,r,i){let s=t,o=e;for(;null!==s&&null!==o&&2048&o[ie]&&!(512&o[ie]);){const a=GM(s,o,n,r|H.Self,Nr);if(a!==Nr)return a;let u=s.parent;if(!u){const c=o[eM];if(c){const l=c.get(n,Nr,r);if(l!==Nr)return l}u=WM(o),o=o[Yo]}s=u}return i}(t,e,n,r,Nr);if(o!==Nr)return o}const s=GM(t,e,n,r,Nr);if(s!==Nr)return s}return jM(e,n,r,i)}function GM(t,e,n,r,i){const s=function uq(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(qu)?t[qu]:void 0;return"number"==typeof e?e>=0?e&VM:cq:e}(n);if("function"==typeof s){if(!AM(e,t,r))return r&H.Host?$M(i,0,r):jM(e,n,r,i);try{const o=s(r);if(null!=o||r&H.Optional)return o;Wd()}finally{NM()}}else if("number"==typeof s){let o=null,a=BM(t,e),u=na,c=r&H.Host?e[at][Xt]:null;for((-1===a||r&H.SkipSelf)&&(u=-1===a?gy(t,e):e[a+8],u!==na&&qM(r,!1)?(o=e[k],a=fh(u),e=ph(u,e)):a=-1);-1!==a;){const l=e[k];if(zM(s,a,l.data)){const d=aq(a,e,n,o,r,c);if(d!==Nr)return d}u=e[a+8],u!==na&&qM(r,e[k].data[a+8]===c)&&zM(s,a,e)?(o=l,a=fh(u),e=ph(u,e)):a=-1}}return i}function aq(t,e,n,r,i,s){const o=e[k],a=o.data[t+8],l=function yh(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,u=t.directiveStart,l=s>>20,h=i?a+l:t.directiveEnd;for(let f=r?a:a+l;f<h;f++){const p=o[f];if(f<u&&n===p||f>=u&&p.type===n)return f}if(i){const f=o[u];if(f&&cr(f)&&f.type===n)return u}return null}(a,o,n,null==r?Ls(a)&&fy:r!=o&&0!=(3&a.type),i&H.Host&&s===a);return null!==l?Bs(e,o,l,a):Nr}function Bs(t,e,n,r){let i=t[n];const s=e.data;if(function eq(t){return t instanceof Zu}(i)){const o=i;o.resolving&&function Nz(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new b(-200,`Circular dependency in DI detected for ${t}${n}`)}(ye(s[n]));const a=gh(o.canSeeViewProviders);o.resolving=!0;const u=o.injectImpl?wn(o.injectImpl):null;AM(t,r,H.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function J4(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=cM(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}(n,s[n],e)}finally{null!==u&&wn(u),gh(a),o.resolving=!1,NM()}}return i}function zM(t,e,n){return!!(n[e+(t>>UM)]&1<<t)}function qM(t,e){return!(t&H.Self||t&H.Host&&e)}class ra{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return HM(this._tNode,this._lView,e,Xd(r),n)}}function cq(){return new ra(Ut(),D())}function Bt(t){return oi(()=>{const e=t.prototype.constructor,n=e[ui]||yy(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const s=i[ui]||yy(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function yy(t){return $m(t)?()=>{const e=yy(X(t));return e&&e()}:Vs(t)}function WM(t){const e=t[k],n=e.type;return 2===n?e.declTNode:1===n?t[Xt]:null}const sa="__parameters__";function aa(t,e,n){return oi(()=>{const r=function _y(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(u,c,l){const d=u.hasOwnProperty(sa)?u[sa]:Object.defineProperty(u,sa,{value:[]})[sa];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(o),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function nc(t,e){t.forEach(n=>Array.isArray(n)?nc(n,e):e(n))}function QM(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function vh(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function $n(t,e,n){let r=ua(t,e);return r>=0?t[1|r]=n:(r=~r,function gq(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function vy(t,e){const n=ua(t,e);if(n>=0)return t[1|n]}function ua(t,e){return function YM(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){const s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}(t,e,1)}const yt=zu(aa("Optional"),8),Ih=zu(aa("SkipSelf"),4);function bh(t){return 128==(128&t.flags)}var Tn=(()=>((Tn=Tn||{})[Tn.Important=1]="Important",Tn[Tn.DashCase=2]="DashCase",Tn))();const by=new Map;let Uq=0;const Sy="__ngContext__";function Jt(t,e){Bn(e)?(t[Sy]=e[Yu],function $q(t){by.set(t[Yu],t)}(e)):t[Sy]=e}let Ay;function My(t,e){return Ay(t,e)}function oc(t){const e=t[$e];return Dn(e)?e[$e]:e}function xy(t){return gx(t[Ku])}function Ry(t){return gx(t[ur])}function gx(t){for(;null!==t&&!Dn(t);)t=t[ur];return t}function da(t,e,n,r,i){if(null!=r){let s,o=!1;Dn(r)?s=r:Bn(r)&&(o=!0,r=r[gt]);const a=Re(r);0===t&&null!==n?null==i?wx(e,n,a):$s(e,n,a,i||null,!0):1===t&&null!==n?$s(e,n,a,i||null,!0):2===t?function Rh(t,e,n){const r=Mh(t,e);r&&function o3(t,e,n,r){t.removeChild(e,n,r)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function c3(t,e,n,r,i){const s=n[Ar];s!==Re(n)&&da(e,t,r,s,i);for(let a=Vt;a<n.length;a++){const u=n[a];uc(u[k],u,t,e,r,s)}}(e,t,s,n,i)}}function Ah(t,e,n){return t.createElement(e,n)}function yx(t,e){const n=t[Jo],r=n.indexOf(e);mM(e),n.splice(r,1)}function ky(t,e){if(t.length<=Vt)return;const n=Vt+e,r=t[n];if(r){const i=r[Qu];null!==i&&i!==t&&yx(i,r),e>0&&(t[n-1][ur]=r[ur]);const s=vh(t,Vt+e);!function Jq(t,e){uc(t,e,e[ne],2,null,null),e[gt]=null,e[Xt]=null}(r[k],r);const o=s[Sr];null!==o&&o.detachView(s[k]),r[$e]=null,r[ur]=null,r[ie]&=-129}return r}function _x(t,e){if(!(256&e[ie])){const n=e[ne];e[eh]?.destroy(),e[th]?.destroy(),n.destroyNode&&uc(t,e,n,3,null,null),function t3(t){let e=t[Ku];if(!e)return Py(t[k],t);for(;e;){let n=null;if(Bn(e))n=e[Ku];else{const r=e[Vt];r&&(n=r)}if(!n){for(;e&&!e[ur]&&e!==t;)Bn(e)&&Py(e[k],e),e=e[$e];null===e&&(e=t),Bn(e)&&Py(e[k],e),n=e&&e[ur]}e=n}}(e)}}function Py(t,e){if(!(256&e[ie])){e[ie]&=-129,e[ie]|=256,function s3(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof Zu)){const s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],u=s[o+1];xr(4,a,u);try{u.call(a)}finally{xr(5,a,u)}}else{xr(4,i,s);try{s.call(i)}finally{xr(5,i,s)}}}}}(t,e),function i3(t,e){const n=t.cleanup,r=e[Ko];if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else n[s].call(r[n[s+1]]);null!==r&&(e[Ko]=null);const i=e[zi];if(null!==i){e[zi]=null;for(let s=0;s<i.length;s++)(0,i[s])()}}(t,e),1===e[k].type&&e[ne].destroy();const n=e[Qu];if(null!==n&&Dn(e[$e])){n!==e[$e]&&yx(n,e);const r=e[Sr];null!==r&&r.detachView(t)}!function jq(t){by.delete(t[Yu])}(e)}}function Oy(t,e,n){return function vx(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[gt];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=t.data[r.directiveStart+i];if(s===Vn.None||s===Vn.Emulated)return null}return Cn(r,n)}}(t,e.parent,n)}function $s(t,e,n,r,i){t.insertBefore(e,n,r,i)}function wx(t,e,n){t.appendChild(e,n)}function Ix(t,e,n,r,i){null!==r?$s(t,e,n,r,i):wx(t,e,n)}function Mh(t,e){return t.parentNode(e)}let Fy,By,Cx=function Dx(t,e,n){return 40&t.type?Cn(t,n):null};function xh(t,e,n,r){const i=Oy(t,r,e),s=e[ne],a=function Ex(t,e,n){return Cx(t,e,n)}(r.parent||e[Xt],r,e);if(null!=i)if(Array.isArray(n))for(let u=0;u<n.length;u++)Ix(s,i,n[u],a,!1);else Ix(s,i,n,a,!1);void 0!==Fy&&Fy(s,r,e,n,i)}function ac(t,e){if(null!==e){const n=e.type;if(3&n)return Cn(e,t);if(4&n)return Ly(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return ac(t,r);{const i=t[e.index];return Dn(i)?Ly(-1,i):Re(i)}}if(32&n)return My(e,t)()||Re(t[e.index]);{const r=Tx(t,e);return null!==r?Array.isArray(r)?r[0]:ac(oc(t[at]),r):ac(t,e.next)}}return null}function Tx(t,e){return null!==e?t[at][Xt].projection[e.projection]:null}function Ly(t,e){const n=Vt+t+1;if(n<e.length){const r=e[n],i=r[k].firstChild;if(null!==i)return ac(r,i)}return e[Ar]}function Vy(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],u=n.type;if(o&&0===e&&(a&&Jt(Re(a),r),n.flags|=2),32!=(32&n.flags))if(8&u)Vy(t,e,n.child,r,i,s,!1),da(e,t,i,a,s);else if(32&u){const c=My(n,r);let l;for(;l=c();)da(e,t,i,l,s);da(e,t,i,a,s)}else 16&u?Ax(t,e,r,n,i,s):da(e,t,i,a,s);n=o?n.projectionNext:n.next}}function uc(t,e,n,r,i,s){Vy(n,r,t.firstChild,e,i,s,!1)}function Ax(t,e,n,r,i,s){const o=n[at],u=o[Xt].projection[r.projection];if(Array.isArray(u))for(let c=0;c<u.length;c++)da(e,t,i,u[c],s);else{let c=u;const l=o[$e];bh(r)&&(c.flags|=128),Vy(t,e,c,l,i,s,!0)}}function Mx(t,e,n){""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function xx(t,e,n){const{mergedAttrs:r,classes:i,styles:s}=n;null!==r&&Qm(t,e,r),null!==i&&Mx(t,e,i),null!==s&&function d3(t,e,n){t.setAttribute(e,"style",n)}(t,e,s)}class Px{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class L{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=j({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const fc=new L("ENVIRONMENT_INITIALIZER"),Gx=new L("INJECTOR",-1),zx=new L("INJECTOR_DEF_TYPES");class qx{get(e,n=Gu){if(n===Gu){const r=new Error(`NullInjectorError: No provider for ${pt(e)}!`);throw r.name="NullInjectorError",r}return n}}function V3(...t){return{\u0275providers:Kx(0,t),\u0275fromNgModule:!0}}function Kx(t,...e){const n=[],r=new Set;let i;return nc(e,s=>{const o=s;qy(o,n,[],r)&&(i||=[],i.push(o))}),void 0!==i&&Qx(i,n),n}function Qx(t,e){for(let n=0;n<t.length;n++){const{providers:i}=t[n];Wy(i,s=>{e.push(s)})}}function qy(t,e,n,r){if(!(t=X(t)))return!1;let i=null,s=PA(t);const o=!s&&me(t);if(s||o){if(o&&!o.standalone)return!1;i=t}else{const u=t.ngModule;if(s=PA(u),!s)return!1;i=u}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const u="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const c of u)qy(c,e,n,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let c;r.add(i);try{nc(s.imports,l=>{qy(l,e,n,r)&&(c||=[],c.push(l))})}finally{}void 0!==c&&Qx(c,e)}if(!a){const c=Vs(i)||(()=>new i);e.push({provide:i,useFactory:c,deps:ge},{provide:zx,useValue:i,multi:!0},{provide:fc,useValue:()=>$(i),multi:!0})}const u=s.providers;null==u||a||Wy(u,l=>{e.push(l)})}}return i!==t&&void 0!==t.providers}function Wy(t,e){for(let n of t)jm(n)&&(n=n.\u0275providers),Array.isArray(n)?Wy(n,e):e(n)}const U3=we({provide:String,useValue:we});function Ky(t){return null!==t&&"object"==typeof t&&U3 in t}function js(t){return"function"==typeof t}const Qy=new L("Set Injector scope."),Oh={},$3={};let Yy;function Fh(){return void 0===Yy&&(Yy=new qx),Yy}class fi{}class Xy extends fi{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Zy(e,o=>this.processProvider(o)),this.records.set(Gx,fa(void 0,this)),i.has("environment")&&this.records.set(fi,fa(void 0,this));const s=this.records.get(Qy);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(zx.multi,ge,H.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of e)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const n=Gi(this),r=wn(void 0);try{return e()}finally{Gi(n),wn(r)}}get(e,n=Gu,r=H.Default){if(this.assertNotDestroyed(),e.hasOwnProperty($A))return e[$A](this);r=Xd(r);const i=Gi(this),s=wn(void 0);try{if(!(r&H.SkipSelf)){let a=this.records.get(e);if(void 0===a){const u=function q3(t){return"function"==typeof t||"object"==typeof t&&t instanceof L}(e)&&Kd(e);a=u&&this.injectableDefInScope(u)?fa(Jy(e),Oh):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&H.Self?Fh():this.parent).get(e,n=r&H.Optional&&n===Gu?null:n)}catch(o){if("NullInjectorError"===o.name){if((o[Yd]=o[Yd]||[]).unshift(pt(e)),i)throw o;return function qz(t,e,n,r){const i=t[Yd];throw e[VA]&&i.unshift(e[VA]),t.message=function Wz(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let i=pt(e);if(Array.isArray(e))i=e.map(pt).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):pt(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace($z,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[Yd]=null,t}(o,e,"R3InjectorError",this.source)}throw o}finally{wn(s),Gi(i)}}resolveInjectorInitializers(){const e=Gi(this),n=wn(void 0);try{const r=this.get(fc.multi,ge,H.Self);for(const i of r)i()}finally{Gi(e),wn(n)}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push(pt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new b(205,!1)}processProvider(e){let n=js(e=X(e))?e:X(e&&e.provide);const r=function H3(t){return Ky(t)?fa(void 0,t.useValue):fa(Jx(t),Oh)}(e);if(js(e)||!0!==e.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=fa(void 0,Oh,!0),i.factory=()=>qm(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===Oh&&(n.value=$3,n.value=n.factory()),"object"==typeof n.value&&n.value&&function z3(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=X(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){const n=this._onDestroyHooks.indexOf(e);-1!==n&&this._onDestroyHooks.splice(n,1)}}function Jy(t){const e=Kd(t),n=null!==e?e.factory:Vs(t);if(null!==n)return n;if(t instanceof L)throw new b(204,!1);if(t instanceof Function)return function j3(t){const e=t.length;if(e>0)throw function rc(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}(e,"?"),new b(204,!1);const n=function Vz(t){return t&&(t[Qd]||t[OA])||null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new b(204,!1)}function Jx(t,e,n){let r;if(js(t)){const i=X(t);return Vs(i)||Jy(i)}if(Ky(t))r=()=>X(t.useValue);else if(function Xx(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...qm(t.deps||[]));else if(function Yx(t){return!(!t||!t.useExisting)}(t))r=()=>$(X(t.useExisting));else{const i=X(t&&(t.useClass||t.provide));if(!function G3(t){return!!t.deps}(t))return Vs(i)||Jy(i);r=()=>new i(...qm(t.deps))}return r}function fa(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Zy(t,e){for(const n of t)Array.isArray(n)?Zy(n,e):n&&jm(n)?Zy(n.\u0275providers,e):e(n)}const Lh=new L("AppId",{providedIn:"root",factory:()=>W3}),W3="ng",Zx=new L("Platform Initializer"),Qi=new L("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),eR=new L("CSP nonce",{providedIn:"root",factory:()=>function cc(){if(void 0!==By)return By;if(typeof document<"u")return document;throw new b(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let nR=(t,e)=>null;function rR(t,e){return nR(t,e)}class n6{}class oR{}class i6{resolveComponentFactory(e){throw function r6(t){const e=Error(`No component factory found for ${pt(t)}.`);return e.ngComponent=t,e}(e)}}let jh=(()=>{class t{}return t.NULL=new i6,t})();function s6(){return pa(Ut(),D())}function pa(t,e){return new jn(Cn(t,e))}let jn=(()=>{class t{constructor(n){this.nativeElement=n}}return t.__NG_ELEMENT_ID__=s6,t})();class uR{}let pi=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>function a6(){const t=D(),n=bn(Ut().index,t);return(Bn(n)?n:t)[ne]}(),t})(),u6=(()=>{class t{}return t.\u0275prov=j({token:t,providedIn:"root",factory:()=>null}),t})();class ga{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const cR=new ga("16.0.3"),l_={};function yc(t){for(;t;){t[ie]|=64;const e=oc(t);if(Jm(t)&&!e)return t;t=e}return null}function d_(t){return t.ngOriginalError}class Hs{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&d_(e);for(;n&&d_(n);)n=d_(n);return n||null}}const hR=new L("",{providedIn:"root",factory:()=>!1});function gi(t){return t instanceof Function?t():t}class yR extends oM{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(e){this._lView=e}onConsumerDependencyMayHaveChanged(){yc(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(e,n,r){const i=bt(this);this.trackingVersion++;try{e(n,r)}finally{bt(i)}}destroy(){this.trackingVersion++}}let Gh=null;function _R(){return Gh??=new yR,Gh}function vR(t,e){return t[e]??_R()}function wR(t,e){const n=_R();n.hasReadASignal&&(t[e]=Gh,n.lView=t,Gh=new yR)}const re={};function Gs(t){IR(he(),D(),ln()+t,!1)}function IR(t,e,n,r){if(!r)if(3==(3&e[ie])){const s=t.preOrderCheckHooks;null!==s&&dh(e,s,n)}else{const s=t.preOrderHooks;null!==s&&hh(e,s,0,n)}Us(n)}function bR(t,e=null,n=null,r){const i=TR(t,e,n,r);return i.resolveInjectorInitializers(),i}function TR(t,e=null,n=null,r,i=new Set){const s=[n||ge,V3(t)];return r=r||("object"==typeof t?void 0:pt(t)),new Xy(s,e||Fh(),r||null,i)}let An=(()=>{class t{static create(n,r){if(Array.isArray(n))return bR({name:""},r,n,"");{const i=n.name??"";return bR({name:i},n.parent,n.providers,i)}}}return t.THROW_IF_NOT_FOUND=Gu,t.NULL=new qx,t.\u0275prov=j({token:t,providedIn:"any",factory:()=>$(Gx)}),t.__NG_ELEMENT_ID__=-1,t})();function T(t,e=H.Default){const n=D();return null===n?$(t,e):HM(Ut(),n,X(t),e)}function zh(t,e,n,r,i,s,o,a,u,c,l){const d=e.blueprint.slice();return d[gt]=i,d[ie]=140|r,(null!==c||t&&2048&t[ie])&&(d[ie]|=2048),gM(d),d[$e]=d[Yo]=t,d[We]=n,d[Fs]=o||t&&t[Fs],d[ne]=a||t&&t[ne],d[Qo]=u||t&&t[Qo]||null,d[Xt]=s,d[Yu]=function Bq(){return Uq++}(),d[ci]=l,d[eM]=c,d[at]=2==e.type?t[at]:d,d}function ya(t,e,n,r,i){let s=t.data[e];if(null===s)s=function h_(t,e,n,r,i){const s=DM(),o=iy(),u=t.data[e]=function M6(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return function ea(){return null!==W.skipHydrationRootTNode}()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=u),null!==s&&(o?null==s.child&&null!==u.parent&&(s.child=u):null===s.next&&(s.next=u,u.prev=s)),u}(t,e,n,r,i),function j4(){return W.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const o=function Ju(){const t=W.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return Rr(s,!0),s}function _c(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function AR(t,e,n,r,i){const s=vR(e,eh),o=ln(),a=2&r;try{if(Us(-1),a&&e.length>ce&&IR(t,e,ce,!1),xr(a?2:0,i),a)s.runInContext(n,r,i);else{const c=bt(null);try{n(r,i)}finally{bt(c)}}}finally{a&&null===e[eh]&&wR(e,eh),Us(o),xr(a?3:1,i)}}function f_(t,e,n){if(Xm(e)){const r=bt(null);try{const s=e.directiveEnd;for(let o=e.directiveStart;o<s;o++){const a=t.data[o];a.contentQueries&&a.contentQueries(1,n[o],o)}}finally{bt(r)}}}function p_(t,e,n){wM()&&(function F6(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;Ls(n)&&function H6(t,e,n){const r=Cn(e,t),o=qh(t,zh(t,MR(n),null,n.onPush?64:16,r,e,null,t[Fs].rendererFactory.createRenderer(r,n),null,null,null));t[e.index]=o}(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||mh(n,e),Jt(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const u=t.data[a],c=Bs(e,t,a,n);Jt(c,e),null!==o&&G6(0,a-i,c,u,0,o),cr(u)&&(bn(n.index,e)[We]=Bs(e,t,a,n))}}(t,e,n,Cn(n,e)),64==(64&n.flags)&&PR(t,e,n))}function g_(t,e,n=Cn){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function MR(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=m_(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function m_(t,e,n,r,i,s,o,a,u,c,l){const d=ce+r,h=d+i,f=function D6(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:re);return n}(d,h),p="function"==typeof c?c():c;return f[k]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:p,incompleteFirstPass:!1,ssrId:l}}let xR=t=>null;function RR(t,e,n,r){for(let i in t)if(t.hasOwnProperty(i)){n=null===n?{}:n;const s=t[i];null===r?NR(n,e,i,s):r.hasOwnProperty(i)&&NR(n,e,r[i],s)}return n}function NR(t,e,n,r){t.hasOwnProperty(n)?t[n].push(e,r):t[n]=[e,r]}function y_(t,e,n,r){if(wM()){const i=null===r?null:{"":-1},s=function V6(t,e){const n=t.directiveRegistry;let r=null,i=null;if(n)for(let s=0;s<n.length;s++){const o=n[s];if(KA(e,o.selectors,!1))if(r||(r=[]),cr(o))if(null!==o.findHostDirectiveDefs){const a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o),__(t,e,a.length)}else r.unshift(o),__(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return null===r?null:[r,i]}(t,n);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&kR(t,e,n,o,i,a),i&&function U6(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const s=n[e[i+1]];if(null==s)throw new b(-301,!1);r.push(e[i],s)}}}(n,r,i)}n.mergedAttrs=Wu(n.mergedAttrs,n.attrs)}function kR(t,e,n,r,i,s){for(let c=0;c<r.length;c++)my(mh(n,e),t,r[c].type);!function $6(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}(n,t.data.length,r.length);for(let c=0;c<r.length;c++){const l=r[c];l.providersResolver&&l.providersResolver(l)}let o=!1,a=!1,u=_c(t,e,r.length,null);for(let c=0;c<r.length;c++){const l=r[c];n.mergedAttrs=Wu(n.mergedAttrs,l.hostAttrs),j6(t,n,e,u,l),B6(u,l,i),null!==l.contentQueries&&(n.flags|=4),(null!==l.hostBindings||null!==l.hostAttrs||0!==l.hostVars)&&(n.flags|=64);const d=l.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),u++}!function x6(t,e,n){const i=e.directiveEnd,s=t.data,o=e.attrs,a=[];let u=null,c=null;for(let l=e.directiveStart;l<i;l++){const d=s[l],h=n?n.get(d):null,p=h?h.outputs:null;u=RR(d.inputs,l,u,h?h.inputs:null),c=RR(d.outputs,l,c,p);const m=null===u||null===o||WA(e)?null:z6(u,l,o);a.push(m)}null!==u&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=c}(t,n,s)}function PR(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=function G4(){return W.lFrame.currentDirectiveIndex}();try{Us(s);for(let a=r;a<i;a++){const u=t.data[a],c=e[a];oy(a),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&L6(u,c)}}finally{Us(-1),oy(o)}}function L6(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function __(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function B6(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;cr(e)&&(n[""]=t)}}function j6(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=Vs(i.type)),o=new Zu(s,cr(i),T);t.blueprint[r]=o,n[r]=o,function P6(t,e,n,r,i){const s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;null===o&&(o=t.hostBindingOpCodes=[]);const a=~e.index;(function O6(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(o)!=a&&o.push(a),o.push(n,r,s)}}(t,e,r,_c(t,n,i.hostVars,re),i)}function G6(t,e,n,r,i,s){const o=s[e];if(null!==o)for(let a=0;a<o.length;)OR(r,n,o[a++],o[a++],o[a++])}function OR(t,e,n,r,i){const s=bt(null);try{null!==t.setInput?t.setInput(e,i,n,r):e[r]=i}finally{bt(s)}}function z6(t,e,n){let r=null,i=0;for(;i<n.length;){const s=n[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(t.hasOwnProperty(s)){null===r&&(r=[]);const o=t[s];for(let a=0;a<o.length;a+=2)if(o[a]===e){r.push(s,o[a+1],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function FR(t,e,n,r){return[t,!0,!1,e,null,0,r,n,null,null,null]}function LR(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const s=n[r+1];if(-1!==s){const o=t.data[s];uy(n[r]),o.contentQueries(2,e[s],s)}}}function qh(t,e){return t[Ku]?t[ZA][ur]=e:t[Ku]=e,t[ZA]=e,e}function w_(t,e,n){uy(0);const r=bt(null);try{e(t,n)}finally{bt(r)}}function $R(t,e){const n=t[Qo],r=n?n.get(Hs,null):null;r&&r.handleError(e)}function I_(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++];OR(t.data[o],e[o],r,a,i)}}function q6(t,e){const n=bn(e,t),r=n[k];!function W6(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n);const i=n[gt];null!==i&&null===n[ci]&&(n[ci]=rR(i,n[Qo])),E_(r,n,n[We])}function E_(t,e,n){cy(e);try{const r=t.viewQuery;null!==r&&w_(1,r,n);const i=t.template;null!==i&&AR(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&LR(t,e),t.staticViewQueries&&w_(2,t.viewQuery,n);const s=t.components;null!==s&&function K6(t,e){for(let n=0;n<e.length;n++)q6(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[ie]&=-5,ly()}}let jR=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(n,r,i){const s=typeof Zone>"u"?null:Zone.current,o=new I4(n,c=>{this.all.has(c)&&this.queue.set(c,s)},i);let a;this.all.add(o),o.notify();const u=()=>{o.cleanup(),a?.(),this.all.delete(o),this.queue.delete(o)};return a=r?.onDestroy(u),{destroy:u}}flush(){if(0!==this.queue.size)for(const[n,r]of this.queue)this.queue.delete(n),r?r.run(()=>n.run()):n.run()}get isQueueEmpty(){return 0===this.queue.size}}return t.\u0275prov=j({token:t,providedIn:"root",factory:()=>new t}),t})();function Wh(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=Bm(i,a):2==s&&(r=Bm(r,a+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function vc(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];if(null!==s&&r.push(Re(s)),Dn(s)){for(let a=Vt;a<s.length;a++){const u=s[a],c=u[k].firstChild;null!==c&&vc(u[k],u,c,r)}s[Ar]!==s[gt]&&r.push(s[Ar])}const o=n.type;if(8&o)vc(t,e,n.child,r);else if(32&o){const a=My(n,e);let u;for(;u=a();)r.push(u)}else if(16&o){const a=Tx(e,n);if(Array.isArray(a))r.push(...a);else{const u=oc(e[at]);vc(u[k],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function Kh(t,e,n,r=!0){const i=e[Fs].rendererFactory;i.begin&&i.begin();try{Qh(t,e,t.template,n)}catch(o){throw r&&$R(e,o),o}finally{i.end&&i.end(),e[Fs].effectManager?.flush()}}function Qh(t,e,n,r){const i=e[ie];if(256!=(256&i)){e[Fs].effectManager?.flush(),cy(e);try{gM(e),function bM(t){return W.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&AR(t,e,n,2,r);const o=3==(3&i);if(o){const c=t.preOrderCheckHooks;null!==c&&dh(e,c,null)}else{const c=t.preOrderHooks;null!==c&&hh(e,c,0,null),dy(e,0)}if(function eW(t){for(let e=xy(t);null!==e;e=Ry(e)){if(!e[tM])continue;const n=e[Jo];for(let r=0;r<n.length;r++){R4(n[r])}}}(e),function Z6(t){for(let e=xy(t);null!==e;e=Ry(e))for(let n=Vt;n<e.length;n++){const r=e[n],i=r[k];uh(r)&&Qh(i,r,i.template,r[We])}}(e),null!==t.contentQueries&&LR(t,e),o){const c=t.contentCheckHooks;null!==c&&dh(e,c)}else{const c=t.contentHooks;null!==c&&hh(e,c,1),dy(e,1)}!function E6(t,e){const n=t.hostBindingOpCodes;if(null===n)return;const r=vR(e,th);try{for(let i=0;i<n.length;i++){const s=n[i];if(s<0)Us(~s);else{const o=s,a=n[++i],u=n[++i];H4(a,o),r.runInContext(u,2,e[o])}}}finally{null===e[th]&&wR(e,th),Us(-1)}}(t,e);const a=t.components;null!==a&&function nW(t,e){for(let n=0;n<e.length;n++)tW(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&w_(2,u,r),o){const c=t.viewCheckHooks;null!==c&&dh(e,c)}else{const c=t.viewHooks;null!==c&&hh(e,c,2),dy(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[ie]&=-73,mM(e)}finally{ly()}}}function tW(t,e){const n=bn(e,t);if(uh(n)){const r=n[k];80&n[ie]?Qh(r,n,r.template,n[We]):n[Os]>0&&D_(n)}}function D_(t){for(let r=xy(t);null!==r;r=Ry(r))for(let i=Vt;i<r.length;i++){const s=r[i];if(uh(s))if(1024&s[ie]){const o=s[k];Qh(o,s,o.template,s[We])}else s[Os]>0&&D_(s)}const n=t[k].components;if(null!==n)for(let r=0;r<n.length;r++){const i=bn(n[r],t);uh(i)&&i[Os]>0&&D_(i)}}class wc{get rootNodes(){const e=this._lView,n=e[k];return vc(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[We]}set context(e){this._lView[We]=e}get destroyed(){return 256==(256&this._lView[ie])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[$e];if(Dn(e)){const n=e[nh],r=n?n.indexOf(this):-1;r>-1&&(ky(e,r),vh(n,r))}this._attachedToViewContainer=!1}_x(this._lView[k],this._lView)}onDestroy(e){!function _M(t,e){if(256==(256&t[ie]))throw new b(911,!1);null===t[zi]&&(t[zi]=[]),t[zi].push(e)}(this._lView,e)}markForCheck(){yc(this._cdRefInjectingView||this._lView)}detach(){this._lView[ie]&=-129}reattach(){this._lView[ie]|=128}detectChanges(){Kh(this._lView[k],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new b(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function e3(t,e){uc(t,e,e[ne],2,null,null)}(this._lView[k],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new b(902,!1);this._appRef=e}}class rW extends wc{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;Kh(e[k],e,e[We],!1)}checkNoChanges(){}get context(){return null}}class HR extends jh{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=me(e);return new Ic(n,this.ngModule)}}function GR(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}class sW{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Xd(r);const i=this.injector.get(e,l_,r);return i!==l_||n===l_?i:this.parentInjector.get(e,n,r)}}class Ic extends oR{get inputs(){return GR(this.componentDef.inputs)}get outputs(){return GR(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function r4(t){return t.map(n4).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=(i=i||this.ngModule)instanceof fi?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new sW(e,s):e,a=o.get(uR,null);if(null===a)throw new b(407,!1);const l={rendererFactory:a,sanitizer:o.get(u6,null),effectManager:o.get(jR,null)},d=a.createRenderer(null,this.componentDef),h=this.componentDef.selectors[0][0]||"div",f=r?function C6(t,e,n,r){const s=r.get(hR,!1)||n===Vn.ShadowDom,o=t.selectRootElement(e,s);return function b6(t){xR(t)}(o),o}(d,r,this.componentDef.encapsulation,o):Ah(d,h,function iW(t){const e=t.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(h)),p=this.componentDef.onPush?576:528,m=m_(0,null,null,1,0,null,null,null,null,null,null),y=zh(null,m,null,p,null,null,l,d,o,null,null);let v,_;cy(y);try{const E=this.componentDef;let A,O=null;E.findHostDirectiveDefs?(A=[],O=new Map,E.findHostDirectiveDefs(E,A,O),A.push(E)):A=[E];const K=function aW(t,e){const n=t[k],r=ce;return t[r]=e,ya(n,r,2,"#host",null)}(y,f),Ue=function uW(t,e,n,r,i,s,o){const a=i[k];!function cW(t,e,n,r){for(const i of t)e.mergedAttrs=Wu(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(Wh(e,e.mergedAttrs,!0),null!==n&&xx(r,n,e))}(r,t,e,o);let u=null;null!==e&&(u=rR(e,i[Qo]));const c=s.rendererFactory.createRenderer(e,n),l=zh(i,MR(n),null,n.onPush?64:16,i[t.index],t,s,c,null,null,u);return a.firstCreatePass&&__(a,t,r.length-1),qh(i,l),i[t.index]=l}(K,f,E,A,y,l,d);_=pM(m,ce),f&&function dW(t,e,n,r){if(r)Qm(t,n,["ng-version",cR.full]);else{const{attrs:i,classes:s}=function i4(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!ar(i))break;i=s}r++}return{attrs:e,classes:n}}(e.selectors[0]);i&&Qm(t,n,i),s&&s.length>0&&Mx(t,n,s.join(" "))}}(d,E,f,r),void 0!==n&&function hW(t,e,n){const r=t.projection=[];for(let i=0;i<e.length;i++){const s=n[i];r.push(null!=s?Array.from(s):null)}}(_,this.ngContentSelectors,n),v=function lW(t,e,n,r,i,s){const o=Ut(),a=i[k],u=Cn(o,i);kR(a,i,o,n,null,r);for(let l=0;l<n.length;l++)Jt(Bs(i,a,o.directiveStart+l,o),i);PR(a,i,o),u&&Jt(u,i);const c=Bs(i,a,o.directiveStart+o.componentOffset,o);if(t[We]=i[We]=c,null!==s)for(const l of s)l(c,e);return f_(a,o,t),c}(Ue,E,A,O,y,[fW]),E_(m,y,null)}finally{ly()}return new oW(this.componentType,v,pa(_,y),y,_)}}class oW extends n6{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new rW(i),this.componentType=e}setInput(e,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;const s=this._rootLView;I_(s[k],s,i,e,n),this.previousInputValues.set(e,n),yc(bn(this._tNode.index,s))}}get injector(){return new ra(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function fW(){const t=Ut();lh(D()[k],t)}function Ie(t){let e=function zR(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),n=!0;const r=[t];for(;e;){let i;if(cr(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new b(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);const o=t;o.inputs=C_(t.inputs),o.declaredInputs=C_(t.declaredInputs),o.outputs=C_(t.outputs);const a=i.hostBindings;a&&yW(t,a);const u=i.viewQuery,c=i.contentQueries;if(u&&gW(t,u),c&&mW(t,c),Um(t.inputs,i.inputs),Um(t.declaredInputs,i.declaredInputs),Um(t.outputs,i.outputs),cr(i)&&i.data.animation){const l=t.data;l.animation=(l.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(t),a===Ie&&(n=!1)}}e=Object.getPrototypeOf(e)}!function pW(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Wu(i.hostAttrs,n=Wu(n,i.hostAttrs))}}(r)}function C_(t){return t===ai?{}:t===ge?[]:t}function gW(t,e){const n=t.viewQuery;t.viewQuery=n?(r,i)=>{e(r,i),n(r,i)}:e}function mW(t,e){const n=t.contentQueries;t.contentQueries=n?(r,i,s)=>{e(r,i,s),n(r,i,s)}:e}function yW(t,e){const n=t.hostBindings;t.hostBindings=n?(r,i)=>{e(r,i),n(r,i)}:e}function Zt(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Sa(t,e,n,r,i,s,o,a){const u=D(),c=he(),l=t+ce,d=c.firstCreatePass?function jW(t,e,n,r,i,s,o,a,u){const c=e.consts,l=ya(e,t,4,o||null,qi(c,a));y_(e,n,l,qi(c,u)),lh(e,l);const d=l.tView=m_(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c,null);return null!==e.queries&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,s,o):c.data[l];Rr(d,!1);const h=aN(c,u,d,t);ch()&&xh(c,u,h,d),Jt(h,u),qh(u,u[l]=FR(h,u,h,d)),rh(d)&&p_(c,u,d),null!=o&&g_(u,d,a)}let aN=function uN(t,e,n,r){return Wi(!0),e[ne].createComment("")};function Yi(t,e,n){const r=D();return Zt(r,function ta(){return W.lFrame.bindingIndex++}(),e)&&function Hn(t,e,n,r,i,s,o,a){const u=Cn(e,n);let l,c=e.inputs;!a&&null!=c&&(l=c[r])?(I_(t,n,l,r,i),Ls(e)&&function N6(t,e){const n=bn(e,t);16&n[ie]||(n[ie]|=64)}(n,e.index)):3&e.type&&(r=function R6(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=o?o(i,e.value||"",r):i,s.setProperty(u,r,i))}(he(),function je(){const t=W.lFrame;return pM(t.tView,t.selectedIndex)}(),r,t,e,r[ne],n,!1),Yi}function R_(t,e,n,r,i){const o=i?"class":"style";I_(t,n,e.inputs[o],o,r)}function _t(t,e,n,r){const i=D(),s=he(),o=ce+t,a=i[ne],u=s.firstCreatePass?function WW(t,e,n,r,i,s){const o=e.consts,u=ya(e,t,2,r,qi(o,i));return y_(e,n,u,qi(o,s)),null!==u.attrs&&Wh(u,u.attrs,!1),null!==u.mergedAttrs&&Wh(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(o,s,i,e,n,r):s.data[o],c=cN(s,i,u,a,e,t);i[o]=c;const l=rh(u);return Rr(u,!0),xx(a,c,u),32!=(32&u.flags)&&ch()&&xh(s,i,c,u),0===function k4(){return W.lFrame.elementDepthCount}()&&Jt(c,i),function P4(){W.lFrame.elementDepthCount++}(),l&&(p_(s,i,u),f_(s,u,i)),null!==r&&g_(i,u),_t}function et(){let t=Ut();iy()?function sy(){W.lFrame.isParent=!1}():(t=t.parent,Rr(t,!1));const e=t;(function F4(t){return W.skipHydrationRootTNode===t})(e)&&function B4(){W.skipHydrationRootTNode=null}(),function O4(){W.lFrame.elementDepthCount--}();const n=he();return n.firstCreatePass&&(lh(n,t),Xm(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function tq(t){return 0!=(8&t.flags)}(e)&&R_(n,e,D(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function nq(t){return 0!=(16&t.flags)}(e)&&R_(n,e,D(),e.stylesWithoutHost,!1),et}function Tt(t,e,n,r){return _t(t,e,n,r),et(),Tt}let cN=(t,e,n,r,i,s)=>(Wi(!0),Ah(r,i,function kM(){return W.lFrame.currentNamespace}()));function Tc(t){return!!t&&"function"==typeof t.then}function fN(t){return!!t&&"function"==typeof t.subscribe}function Gn(t,e,n,r){const i=D(),s=he(),o=Ut();return function gN(t,e,n,r,i,s,o){const a=rh(r),c=t.firstCreatePass&&function UR(t){return t.cleanup||(t.cleanup=[])}(t),l=e[We],d=function VR(t){return t[Ko]||(t[Ko]=[])}(e);let h=!0;if(3&r.type||o){const m=Cn(r,e),y=o?o(m):m,v=d.length,_=o?A=>o(Re(A[r.index])):r.index;let E=null;if(!o&&a&&(E=function ZW(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===n&&i[s+1]===r){const a=e[Ko],u=i[s+2];return a.length>u?a[u]:null}"string"==typeof o&&(s+=2)}return null}(t,e,i,r.index)),null!==E)(E.__ngLastListenerFn__||E).__ngNextListenerFn__=s,E.__ngLastListenerFn__=s,h=!1;else{s=yN(r,e,l,s,!1);const A=n.listen(y,i,s);d.push(s,A),c&&c.push(i,_,v,v+1)}}else s=yN(r,e,l,s,!1);const f=r.outputs;let p;if(h&&null!==f&&(p=f[i])){const m=p.length;if(m)for(let y=0;y<m;y+=2){const O=e[p[y]][p[y+1]].subscribe(s),K=d.length;d.push(s,O),c&&c.push(i,r.index,K,-(K+1))}}}(s,i,i[ne],o,t,e,r),Gn}function mN(t,e,n,r){try{return xr(6,e,n),!1!==n(r)}catch(i){return $R(t,i),!1}finally{xr(7,e,n)}}function yN(t,e,n,r,i){return function s(o){if(o===Function)return r;yc(t.componentOffset>-1?bn(t.index,e):e);let u=mN(e,n,r,o),c=s.__ngNextListenerFn__;for(;c;)u=mN(e,n,c,o)&&u,c=c.__ngNextListenerFn__;return i&&!1===u&&o.preventDefault(),u}}function P_(t=1){return function q4(t){return(W.lFrame.contextLView=function W4(t,e){for(;t>0;)e=e[Yo],t--;return e}(t,W.lFrame.contextLView))[We]}(t)}function tf(t,e){return t<<17|e<<2}function Xi(t){return t>>17&32767}function F_(t){return 2|t}function qs(t){return(131068&t)>>2}function L_(t,e){return-131069&t|e<<2}function V_(t){return 1|t}function SN(t,e,n,r,i){const s=t[n+1],o=null===e;let a=r?Xi(s):qs(s),u=!1;for(;0!==a&&(!1===u||o);){const l=t[a+1];u9(t[a],e)&&(u=!0,t[a+1]=r?V_(l):F_(l)),a=r?Xi(l):qs(l)}u&&(t[n+1]=r?F_(s):V_(s))}function u9(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&ua(t,e)>=0}function nf(t,e){return function lr(t,e,n,r){const i=D(),s=he(),o=function di(t){const e=W.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}(2);s.firstUpdatePass&&function FN(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[ln()],o=function ON(t,e){return e>=t.expandoStartIndex}(t,n);(function BN(t,e){return 0!=(t.flags&(e?8:16))})(s,r)&&null===e&&!o&&(e=!1),e=function y9(t,e,n,r){const i=function ay(t){const e=W.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=Sc(n=U_(null,t,e,n,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==i)if(n=U_(i,t,e,n,r),null===s){let u=function _9(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==qs(r))return t[Xi(r)]}(t,e,r);void 0!==u&&Array.isArray(u)&&(u=U_(null,t,e,u[1],r),u=Sc(u,e.attrs,r),function v9(t,e,n,r){t[Xi(n?e.classBindings:e.styleBindings)]=r}(t,e,r,u))}else s=function w9(t,e,n){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=Sc(r,t[s].hostAttrs,n);return Sc(r,e.attrs,n)}(t,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),n}(i,s,e,r),function o9(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=Xi(o),u=qs(o);t[r]=n;let l,c=!1;if(Array.isArray(n)?(l=n[1],(null===l||ua(n,l)>0)&&(c=!0)):l=n,i)if(0!==u){const h=Xi(t[a+1]);t[r+1]=tf(h,a),0!==h&&(t[h+1]=L_(t[h+1],r)),t[a+1]=function i9(t,e){return 131071&t|e<<17}(t[a+1],r)}else t[r+1]=tf(a,0),0!==a&&(t[a+1]=L_(t[a+1],r)),a=r;else t[r+1]=tf(u,0),0===a?a=r:t[u+1]=L_(t[u+1],r),u=r;c&&(t[r+1]=F_(t[r+1])),SN(t,l,r,!0),SN(t,l,r,!1),function a9(t,e,n,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&ua(s,e)>=0&&(n[r+1]=V_(n[r+1]))}(e,l,t,r,s),o=tf(a,u),s?e.classBindings=o:e.styleBindings=o}(i,s,e,n,o,r)}}(s,t,o,r),e!==re&&Zt(i,o,e)&&function VN(t,e,n,r,i,s,o,a){if(!(3&e.type))return;const u=t.data,c=u[a+1],l=function s9(t){return 1==(1&t)}(c)?UN(u,e,n,i,qs(c),o):void 0;rf(l)||(rf(s)||function r9(t){return 2==(2&t)}(c)&&(s=UN(u,null,n,i,a,o)),function l3(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=-1===r.indexOf("-")?void 0:Tn.DashCase;null==i?t.removeStyle(n,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=Tn.Important),t.setStyle(n,r,i,s))}}(r,o,function ah(t,e){return Re(e[t])}(ln(),n),i,s))}(s,s.data[ln()],i,i[ne],t,i[o+1]=function C9(t,e){return null==t||""===t||("string"==typeof e?t+=e:"object"==typeof t&&(t=pt(function Ki(t){return t instanceof Px?t.changingThisBreaksApplicationSecurity:t}(t)))),t}(e,n),r,o)}(t,e,null,!0),nf}function U_(t,e,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],r=Sc(r,s.hostAttrs,i),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function Sc(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),$n(t,o,!!n||e[++s]))}return void 0===t?null:t}function UN(t,e,n,r,i,s){const o=null===e;let a;for(;i>0;){const u=t[i],c=Array.isArray(u),l=c?u[1]:u,d=null===l;let h=n[i+1];h===re&&(h=d?ge:void 0);let f=d?vy(h,r):l===r?h:void 0;if(c&&!rf(f)&&(f=vy(u,r)),rf(f)&&(a=f,o))return a;const p=t[i+1];i=o?Xi(p):qs(p)}if(null!==e){let u=s?e.residualClasses:e.residualStyles;null!=u&&(a=vy(u,r))}return a}function rf(t){return void 0!==t}function Vr(t,e=""){const n=D(),r=he(),i=t+ce,s=r.firstCreatePass?ya(r,i,1,e,null):r.data[i],o=$N(r,n,s,e,t);n[i]=o,ch()&&xh(r,n,o,s),Rr(s,!1)}let $N=(t,e,n,r,i)=>(Wi(!0),function Sh(t,e){return t.createText(e)}(e[ne],r));const xa="en-US";let lk=xa;function H_(t,e,n,r,i){if(t=X(t),Array.isArray(t))for(let s=0;s<t.length;s++)H_(t[s],e,n,r,i);else{const s=he(),o=D();let a=js(t)?t:X(t.provide),u=Jx(t);const c=Ut(),l=1048575&c.providerIndexes,d=c.directiveStart,h=c.providerIndexes>>20;if(js(t)||!t.multi){const f=new Zu(u,i,T),p=z_(a,e,i?l:l+h,d);-1===p?(my(mh(c,o),s,a),G_(s,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(f),o.push(f)):(n[p]=f,o[p]=f)}else{const f=z_(a,e,l+h,d),p=z_(a,e,l,l+h),y=p>=0&&n[p];if(i&&!y||!i&&!(f>=0&&n[f])){my(mh(c,o),s,a);const v=function G5(t,e,n,r,i){const s=new Zu(t,n,T);return s.multi=[],s.index=e,s.componentProviders=0,Ok(s,i,r&&!n),s}(i?H5:j5,n.length,i,r,u);!i&&y&&(n[p].providerFactory=v),G_(s,t,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(v),o.push(v)}else G_(s,t,f>-1?f:p,Ok(n[i?p:f],u,!i&&r));!i&&r&&y&&n[p].componentProviders++}}}function G_(t,e,n,r){const i=js(e),s=function B3(t){return!!t.useClass}(e);if(i||s){const u=(s?X(e.useClass):e).prototype.ngOnDestroy;if(u){const c=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const l=c.indexOf(n);-1===l?c.push(n,[r,u]):c[l+1].push(r,u)}else c.push(n,u)}}}function Ok(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function z_(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function j5(t,e,n,r){return q_(this.multi,[])}function H5(t,e,n,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=Bs(n,n[k],this.providerFactory.index,r);s=a.slice(0,o),q_(i,s);for(let u=o;u<a.length;u++)s.push(a[u])}else s=[],q_(i,s);return s}function q_(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function Le(t,e=[]){return n=>{n.providersResolver=(r,i)=>function $5(t,e,n){const r=he();if(r.firstCreatePass){const i=cr(t);H_(n,r.data,r.blueprint,i,!0),H_(e,r.data,r.blueprint,i,!1)}}(r,i?i(t):t,e)}}class Ra{}class Fk{}class W_ extends Ra{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new HR(this);const i=Un(e);this._bootstrapComponents=gi(i.bootstrap),this._r3Injector=TR(e,n,[{provide:Ra,useValue:this},{provide:jh,useValue:this.componentFactoryResolver},...r],pt(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class K_ extends Fk{constructor(e){super(),this.moduleType=e}create(e){return new W_(this.moduleType,e,[])}}class Lk extends Ra{constructor(e){super(),this.componentFactoryResolver=new HR(this),this.instance=null;const n=new Xy([...e.providers,{provide:Ra,useValue:this},{provide:jh,useValue:this.componentFactoryResolver}],e.parent||Fh(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function Q_(t,e,n=null){return new Lk({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}let W5=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n.id)){const r=Kx(0,n.type),i=r.length>0?Q_([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n.id,i)}return this.cachedInjectors.get(n.id)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}}return t.\u0275prov=j({token:t,providedIn:"environment",factory:()=>new t($(fi))}),t})();function Vk(t){t.getStandaloneInjector=e=>e.get(W5).getOrCreateStandaloneInjector(t)}function X_(t){return e=>{setTimeout(t,void 0,e)}}const Qe=class v7 extends ii{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&"object"==typeof e){const u=e;i=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=X_(s),i&&(i=X_(i)),o&&(o=X_(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof Fn&&e.add(a),a}};let yi=(()=>{class t{}return t.__NG_ELEMENT_ID__=D7,t})();const I7=yi,E7=class extends I7{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n,null)}createEmbeddedViewImpl(e,n,r){const i=this._declarationTContainer.tView,s=zh(this._declarationLView,i,e,16,null,i.declTNode,null,null,null,n||null,r||null);s[Qu]=this._declarationLView[this._declarationTContainer.index];const a=this._declarationLView[Sr];return null!==a&&(s[Sr]=a.createEmbeddedView(i)),E_(i,s,e),new wc(s)}};function D7(){return function lf(t,e){return 4&t.type?new E7(e,t,pa(t,e)):null}(Ut(),D())}let hr=(()=>{class t{}return t.__NG_ELEMENT_ID__=x7,t})();function x7(){return function t1(t,e){let n;const r=e[t.index];return Dn(r)?n=r:(n=FR(r,e,null,t),e[t.index]=n,qh(e,n)),n1(n,e,t,r),new Zk(n,t,e)}(Ut(),D())}const R7=hr,Zk=class extends R7{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return pa(this._hostTNode,this._hostLView)}get injector(){return new ra(this._hostTNode,this._hostLView)}get parentInjector(){const e=gy(this._hostTNode,this._hostLView);if(LM(e)){const n=ph(e,this._hostLView),r=fh(e);return new ra(n[k].data[r+8],n)}return new ra(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=e1(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-Vt}createEmbeddedView(e,n,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const a=e.createEmbeddedViewImpl(n||{},s,null);return this.insertImpl(a,i,false),a}createComponent(e,n,r,i,s){const o=e&&!function tc(t){return"function"==typeof t}(e);let a;if(o)a=n;else{const m=n||{};a=m.index,r=m.injector,i=m.projectableNodes,s=m.environmentInjector||m.ngModuleRef}const u=o?e:new Ic(me(e)),c=r||this.parentInjector;if(!s&&null==u.ngModule){const y=(o?c:this.parentInjector).get(fi,null);y&&(s=y)}me(u.componentType??{});const f=u.create(c,i,null,s);return this.insertImpl(f.hostView,a,false),f}insert(e,n){return this.insertImpl(e,n,!1)}insertImpl(e,n,r){const i=e._lView,s=i[k];if(function x4(t){return Dn(t[$e])}(i)){const u=this.indexOf(e);if(-1!==u)this.detach(u);else{const c=i[$e],l=new Zk(c,c[Xt],c[$e]);l.detach(l.indexOf(e))}}const o=this._adjustIndex(n),a=this._lContainer;if(function n3(t,e,n,r){const i=Vt+r,s=n.length;r>0&&(n[i-1][ur]=e),r<s-Vt?(e[ur]=n[i],QM(n,Vt+r,e)):(n.push(e),e[ur]=null),e[$e]=n;const o=e[Qu];null!==o&&n!==o&&function r3(t,e){const n=t[Jo];e[at]!==e[$e][$e][at]&&(t[tM]=!0),null===n?t[Jo]=[e]:n.push(e)}(o,e);const a=e[Sr];null!==a&&a.insertView(t),e[ie]|=128}(s,i,a,o),!r){const u=Ly(o,a),c=i[ne],l=Mh(c,a[Ar]);null!==l&&function Zq(t,e,n,r,i,s){r[gt]=i,r[Xt]=e,uc(t,r,n,1,i,s)}(s,a[Xt],c,i,l,u)}return e.attachToViewContainerRef(),QM(ev(a),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=e1(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=ky(this._lContainer,n);r&&(vh(ev(this._lContainer),n),_x(r[k],r))}detach(e){const n=this._adjustIndex(e,-1),r=ky(this._lContainer,n);return r&&null!=vh(ev(this._lContainer),n)?new wc(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function e1(t){return t[nh]}function ev(t){return t[nh]||(t[nh]=[])}let n1=function r1(t,e,n,r){if(t[Ar])return;let i;i=8&n.type?Re(r):function N7(t,e){const n=t[ne],r=n.createComment(""),i=Cn(e,t);return $s(n,Mh(n,i),r,function a3(t,e){return t.nextSibling(e)}(n,i),!1),r}(e,n),t[Ar]=i};const dv=new L("Application Initializer");let hv=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=V(dv,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n=[];for(const i of this.appInits){const s=i();if(Tc(s))n.push(s);else if(fN(s)){const o=new Promise((a,u)=>{s.subscribe({complete:a,error:u})});n.push(o)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),A1=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();const _i=new L("LocaleId",{providedIn:"root",factory:()=>V(_i,H.Optional|H.SkipSelf)||function c8(){return typeof $localize<"u"&&$localize.locale||xa}()});class d8{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let M1=(()=>{class t{compileModuleSync(n){return new K_(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),s=gi(Un(n).declarations).reduce((o,a)=>{const u=me(a);return u&&o.push(new Ic(u)),o},[]);return new d8(r,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const p8=(()=>Promise.resolve(0))();function fv(t){typeof Zone>"u"?p8.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}function N1(...t){}class Ee{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Qe(!1),this.onMicrotaskEmpty=new Qe(!1),this.onStable=new Qe(!1),this.onError=new Qe(!1),typeof Zone>"u")throw new b(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function g8(){let t=Ae.requestAnimationFrame,e=Ae.cancelAnimationFrame;if(typeof Zone<"u"&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function _8(t){const e=()=>{!function y8(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Ae,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,gv(t),t.isCheckStableRunning=!0,pv(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),gv(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{try{return k1(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),P1(t)}},onInvoke:(n,r,i,s,o,a,u)=>{try{return k1(t),n.invoke(i,s,o,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),P1(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&("microTask"==s.change?(t._hasPendingMicrotasks=s.microTask,gv(t),pv(t)):"macroTask"==s.change&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ee.isInAngularZone())throw new b(909,!1)}static assertNotInAngularZone(){if(Ee.isInAngularZone())throw new b(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,m8,N1,N1);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const m8={};function pv(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function gv(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function k1(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function P1(t){t._nesting--,pv(t)}class v8{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Qe,this.onMicrotaskEmpty=new Qe,this.onStable=new Qe,this.onError=new Qe}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}const O1=new L("",{providedIn:"root",factory:F1});function F1(){const t=V(Ee);let e=!0;return function Mz(...t){const e=Hu(t),n=function Ez(t,e){return"number"==typeof Lm(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?Yn(r[0]):Go(n)(Ct(r,e)):br}(new Be(i=>{e=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{i.next(e),i.complete()})}),new Be(i=>{let s;t.runOutsideAngular(()=>{s=t.onStable.subscribe(()=>{Ee.assertNotInAngularZone(),fv(()=>{!e&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(e=!0,i.next(!0))})})});const o=t.onUnstable.subscribe(()=>{Ee.assertInAngularZone(),e&&(e=!1,t.runOutsideAngular(()=>{i.next(!1)}))});return()=>{s.unsubscribe(),o.unsubscribe()}}).pipe(function xz(t={}){const{connector:e=(()=>new ii),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return s=>{let o,a,u,c=0,l=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),o=u=void 0,l=d=!1},p=()=>{const m=o;f(),m?.unsubscribe()};return Ot((m,y)=>{c++,!d&&!l&&h();const v=u=u??e();y.add(()=>{c--,0===c&&!d&&!l&&(a=Vm(p,i))}),v.subscribe(y),!o&&c>0&&(o=new ju({next:_=>v.next(_),error:_=>{d=!0,h(),a=Vm(f,n,_),v.error(_)},complete:()=>{l=!0,h(),a=Vm(f,r),v.complete()}}),Yn(m).subscribe(o))})(s)}}()))}const L1=new L(""),hf=new L("");let _v,mv=(()=>{class t{constructor(n,r,i){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,_v||(function w8(t){_v=t}(i),i.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ee.assertNotInAngularZone(),fv(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())fv(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:s,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,i){return[]}}return t.\u0275fac=function(n){return new(n||t)($(Ee),$(yv),$(hf))},t.\u0275prov=j({token:t,factory:t.\u0275fac}),t})(),yv=(()=>{class t{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return _v?.findTestabilityInTree(this,n,r)??null}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})(),Ji=null;const V1=new L("AllowMultipleToken"),vv=new L("PlatformDestroyListeners"),wv=new L("appBootstrapListener");class B1{constructor(e,n){this.name=e,this.token=n}}function j1(t,e,n=[]){const r=`Platform: ${e}`,i=new L(r);return(s=[])=>{let o=Iv();if(!o||o.injector.get(V1,!1)){const a=[...n,...s,{provide:i,useValue:!0}];t?t(a):function D8(t){if(Ji&&!Ji.get(V1,!1))throw new b(400,!1);(function U1(){!function v4(t){aM=t}(()=>{throw new b(600,!1)})})(),Ji=t;const e=t.get(G1);(function $1(t){t.get(Zx,null)?.forEach(n=>n())})(t)}(function H1(t=[],e){return An.create({name:e,providers:[{provide:Qy,useValue:"platform"},{provide:vv,useValue:new Set([()=>Ji=null])},...t]})}(a,r))}return function b8(t){const e=Iv();if(!e)throw new b(401,!1);return e}()}}function Iv(){return Ji?.get(G1)??null}let G1=(()=>{class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const i=function T8(t="zone.js",e){return"noop"===t?new v8:"zone.js"===t?new Ee(e):t}(r?.ngZone,function z1(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return i.run(()=>{const s=function q5(t,e,n){return new W_(t,e,n)}(n.moduleType,this.injector,function Y1(t){return[{provide:Ee,useFactory:t},{provide:fc,multi:!0,useFactory:()=>{const e=V(A8,{optional:!0});return()=>e.initialize()}},{provide:Q1,useFactory:S8},{provide:O1,useFactory:F1}]}(()=>i)),o=s.injector.get(Hs,null);return i.runOutsideAngular(()=>{const a=i.onError.subscribe({next:u=>{o.handleError(u)}});s.onDestroy(()=>{ff(this._modules,s),a.unsubscribe()})}),function q1(t,e,n){try{const r=n();return Tc(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(o,i,()=>{const a=s.injector.get(hv);return a.runInitializers(),a.donePromise.then(()=>(function dk(t){Xn(t,"Expected localeId to be defined"),"string"==typeof t&&(lk=t.toLowerCase().replace(/_/g,"-"))}(s.injector.get(_i,xa)||xa),this._moduleDoBootstrap(s),s))})})}bootstrapModule(n,r=[]){const i=W1({},r);return function I8(t,e,n){const r=new K_(n);return Promise.resolve(r)}(0,0,n).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(n){const r=n.injector.get(Pa);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new b(-403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new b(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(vv,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(n){return new(n||t)($(An))},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();function W1(t,e){return Array.isArray(e)?e.reduce(W1,t):{...t,...e}}let Pa=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=V(Q1),this.componentTypes=[],this.components=[],this.isStable=V(O1),this._injector=V(fi)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){const i=n instanceof oR;if(!this._injector.get(hv).done)throw!i&&function Wo(t){const e=me(t)||Yt(t)||En(t);return null!==e&&e.standalone}(n),new b(405,!1);let o;o=i?n:this._injector.get(jh).resolveComponentFactory(n),this.componentTypes.push(o.componentType);const a=function E8(t){return t.isBoundToModule}(o)?void 0:this._injector.get(Ra),c=o.create(An.NULL,[],r||o.selector,a),l=c.location.nativeElement,d=c.injector.get(L1,null);return d?.registerApplication(l),c.onDestroy(()=>{this.detachView(c.hostView),ff(this.components,c),d?.unregisterApplication(l)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new b(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this.internalErrorHandler(n)}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;ff(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(wv,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>ff(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new b(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function ff(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Q1=new L("",{providedIn:"root",factory:()=>V(Hs).handleError.bind(void 0)});function S8(){const t=V(Ee),e=V(Hs);return n=>t.runOutsideAngular(()=>e.handleError(n))}let A8=(()=>{class t{constructor(){this.zone=V(Ee),this.applicationRef=V(Pa)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();let pf=(()=>{class t{}return t.__NG_ELEMENT_ID__=x8,t})();function x8(t){return function R8(t,e,n){if(Ls(t)&&!n){const r=bn(t.index,e);return new wc(r,r)}return 47&t.type?new wc(e[at],e):null}(Ut(),D(),16==(16&t))}const G8=j1(null,"core",[]);let z8=(()=>{class t{constructor(n){}}return t.\u0275fac=function(n){return new(n||t)($(Pa))},t.\u0275mod=Qt({type:t}),t.\u0275inj=Lt({}),t})(),dP=(()=>{class t{get whenAllTasksComplete(){return 0===this.collection.size&&this.complete(),this.promise}constructor(){this.taskId=0,this.collection=new Set,this.ngZone=V(Ee),this.completed=!1,this.ngZone.runOutsideAngular(()=>{this.promise=new Promise(n=>{this.resolve=n})})}add(){if(this.completed)return-1;const n=this.taskId++;return this.collection.add(n),n}remove(n){this.completed||(this.collection.delete(n),0===this.collection.size&&this.complete())}ngOnDestroy(){this.complete(),this.collection.clear()}complete(){this.completed=!0,this.resolve()}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Av=null;function Zi(){return Av}class rK{}const tr=new L("DocumentToken");let Mv=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:function(){return V(sK)},providedIn:"platform"}),t})();const iK=new L("Location Initialized");let sK=(()=>{class t extends Mv{constructor(){super(),this._doc=V(tr),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Zi().getBaseHref(this._doc)}onPopState(n){const r=Zi().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=Zi().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:function(){return new t},providedIn:"platform"}),t})();function xv(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function fP(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function vi(t){return t&&"?"!==t[0]?"?"+t:t}let Qs=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:function(){return V(gP)},providedIn:"root"}),t})();const pP=new L("appBaseHref");let gP=(()=>{class t extends Qs{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??V(tr).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return xv(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+vi(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,s){const o=this.prepareExternalUrl(i+vi(s));this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){const o=this.prepareExternalUrl(i+vi(s));this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return t.\u0275fac=function(n){return new(n||t)($(Mv),$(pP,8))},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),oK=(()=>{class t extends Qs{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=xv(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+vi(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+vi(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return t.\u0275fac=function(n){return new(n||t)($(Mv),$(pP,8))},t.\u0275prov=j({token:t,factory:t.\u0275fac}),t})(),Rv=(()=>{class t{constructor(n){this._subject=new Qe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._basePath=function cK(t){if(new RegExp("^(https?:)?//").test(t)){const[,n]=t.split(/\/\/[^\/]+/);return n}return t}(fP(mP(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+vi(r))}normalize(n){return t.stripTrailingSlash(function uK(t,e){if(!t||!e.startsWith(t))return e;const n=e.substring(t.length);return""===n||["/",";","?","#"].includes(n[0])?n:e}(this._basePath,mP(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+vi(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+vi(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}}return t.normalizeQueryParams=vi,t.joinWithSlash=xv,t.stripTrailingSlash=fP,t.\u0275fac=function(n){return new(n||t)($(Qs))},t.\u0275prov=j({token:t,factory:function(){return function aK(){return new Rv($(Qs))}()},providedIn:"root"}),t})();function mP(t){return t.replace(/\/index.html$/,"")}let AP=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new XK,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){MP("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){MP("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}}return t.\u0275fac=function(n){return new(n||t)(T(hr),T(yi))},t.\u0275dir=Q({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),t})();class XK{constructor(){this.$implicit=null,this.ngIf=null}}function MP(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${pt(e)}'.`)}let NP=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Qt({type:t}),t.\u0275inj=Lt({}),t})();function PP(t){return"server"===t}let bQ=(()=>{class t{}return t.\u0275prov=j({token:t,providedIn:"root",factory:()=>new TQ($(tr),window)}),t})();class TQ{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const n=function SQ(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&"function"==typeof t.body.attachShadow){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const n=this.window.history;n&&n.scrollRestoration&&(n.scrollRestoration=e)}}scrollToElement(e){const n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=OP(this.window.history)||OP(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function OP(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class tY extends rK{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Kv extends tY{static makeCurrent(){!function nK(t){Av||(Av=t)}(new Kv)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function nY(){return Bc=Bc||document.querySelector("base"),Bc?Bc.getAttribute("href"):null}();return null==n?null:function rY(t){Rf=Rf||document.createElement("a"),Rf.setAttribute("href",t);const e=Rf.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){Bc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function qK(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,s]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let Rf,Bc=null,sY=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac}),t})();const Qv=new L("EventManagerPlugins");let BP=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(s=>s.supports(n)),!r)throw new b(5101,!1);return this._eventNameToPlugin.set(n,r),r}}return t.\u0275fac=function(n){return new(n||t)($(Qv),$(Ee))},t.\u0275prov=j({token:t,factory:t.\u0275fac}),t})();class $P{constructor(e){this._doc=e}}const Yv="ng-app-id";let jP=(()=>{class t{constructor(n,r,i,s={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=PP(s),this.resetHostNodes()}addStyles(n){for(const r of n)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(n){for(const r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(const r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){const r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){const n=this.doc.head?.querySelectorAll(`style[${Yv}="${this.appId}"]`);if(n?.length){const r=new Map;return n.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){const i=this.styleRef;if(i.has(n)){const s=i.get(n);return s.usage+=r,s.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){const i=this.styleNodesInDOM,s=i?.get(r);if(s?.parentNode===n)return i.delete(r),s.removeAttribute(Yv),s;{const o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=r,this.platformIsServer&&o.setAttribute(Yv,this.appId),o}}addStyleToHost(n,r){const i=this.getStyleElement(n,r);n.appendChild(i);const s=this.styleRef,o=s.get(r)?.elements;o?o.push(i):s.set(r,{elements:[i],usage:1})}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}}return t.\u0275fac=function(n){return new(n||t)($(tr),$(Lh),$(eR,8),$(Qi))},t.\u0275prov=j({token:t,factory:t.\u0275fac}),t})();const Xv={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Jv=/%COMP%/g,cY=new L("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function GP(t,e){return e.map(n=>n.replace(Jv,t))}let zP=(()=>{class t{constructor(n,r,i,s,o,a,u,c=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestory=s,this.doc=o,this.platformId=a,this.ngZone=u,this.nonce=c,this.rendererByCompId=new Map,this.platformIsServer=PP(a),this.defaultRenderer=new Zv(n,o,u,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Vn.ShadowDom&&(r={...r,encapsulation:Vn.Emulated});const i=this.getOrCreateRenderer(n,r);return i instanceof WP?i.applyToHost(n):i instanceof ew&&i.applyStyles(),i}getOrCreateRenderer(n,r){const i=this.rendererByCompId;let s=i.get(r.id);if(!s){const o=this.doc,a=this.ngZone,u=this.eventManager,c=this.sharedStylesHost,l=this.removeStylesOnCompDestory,d=this.platformIsServer;switch(r.encapsulation){case Vn.Emulated:s=new WP(u,c,r,this.appId,l,o,a,d);break;case Vn.ShadowDom:return new fY(u,c,n,r,o,a,this.nonce,d);default:s=new ew(u,c,r,l,o,a,d)}s.onDestroy=()=>i.delete(r.id),i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}}return t.\u0275fac=function(n){return new(n||t)($(BP),$(jP),$(Lh),$(cY),$(tr),$(Qi),$(Ee),$(eR))},t.\u0275prov=j({token:t,factory:t.\u0275fac}),t})();class Zv{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(Xv[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(qP(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(qP(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new b(5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const s=Xv[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=Xv[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Tn.DashCase|Tn.Important)?e.style.setProperty(n,r,i&Tn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Tn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){if("string"==typeof e&&!(e=Zi().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if("__ngUnwrap__"===n)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))&&n.preventDefault()}}}function qP(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class fY extends Zv{constructor(e,n,r,i,s,o,a,u){super(e,s,o,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=GP(i.id,i.styles);for(const l of c){const d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=l,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class ew extends Zv{constructor(e,n,r,i,s,o,a,u){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestory=i,this.rendererUsageCount=0,this.styles=u?GP(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class WP extends ew{constructor(e,n,r,i,s,o,a,u){const c=i+"-"+r.id;super(e,n,r,s,o,a,u,c),this.contentAttr=function lY(t){return"_ngcontent-%COMP%".replace(Jv,t)}(c),this.hostAttr=function dY(t){return"_nghost-%COMP%".replace(Jv,t)}(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}let pY=(()=>{class t extends $P{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}}return t.\u0275fac=function(n){return new(n||t)($(tr))},t.\u0275prov=j({token:t,factory:t.\u0275fac}),t})();const KP=["alt","control","meta","shift"],gY={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},mY={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let yY=(()=>{class t extends $P{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,r,i){const s=t.parseEventName(r),o=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Zi().onAndCancel(n,s.domEventName,o))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=t._normalizeKey(r.pop());let o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),KP.forEach(c=>{const l=r.indexOf(c);l>-1&&(r.splice(l,1),o+=c+".")}),o+=s,0!=r.length||0===s.length)return null;const u={};return u.domEventName=i,u.fullKey=o,u}static matchEventFullKeyCode(n,r){let i=gY[n.key]||n.key,s="";return r.indexOf("code.")>-1&&(i=n.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),KP.forEach(o=>{o!==i&&(0,mY[o])(n)&&(s+=o+".")}),s+=i,s===r)}static eventCallback(n,r,i){return s=>{t.matchEventFullKeyCode(s,n)&&i.runGuarded(()=>r(s))}}static _normalizeKey(n){return"esc"===n?"escape":n}}return t.\u0275fac=function(n){return new(n||t)($(tr))},t.\u0275prov=j({token:t,factory:t.\u0275fac}),t})();const YP=[{provide:Qi,useValue:"browser"},{provide:Zx,useValue:function _Y(){Kv.makeCurrent()},multi:!0},{provide:tr,useFactory:function wY(){return function g3(t){By=t}(document),document},deps:[]}],IY=j1(G8,"browser",YP),EY=new L(""),XP=[{provide:hf,useClass:class iY{addToWindow(e){Ae.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new b(5103,!1);return s},Ae.getAllAngularTestabilities=()=>e.getAllTestabilities(),Ae.getAllAngularRootElements=()=>e.getAllRootElements(),Ae.frameworkStabilizers||(Ae.frameworkStabilizers=[]),Ae.frameworkStabilizers.push(r=>{const i=Ae.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(u){o=o||u,s--,0==s&&r(o)};i.forEach(function(u){u.whenStable(a)})})}findTestabilityInTree(e,n,r){return null==n?null:e.getTestability(n)??(r?Zi().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},deps:[]},{provide:L1,useClass:mv,deps:[Ee,yv,hf]},{provide:mv,useClass:mv,deps:[Ee,yv,hf]}],JP=[{provide:Qy,useValue:"root"},{provide:Hs,useFactory:function vY(){return new Hs},deps:[]},{provide:Qv,useClass:pY,multi:!0,deps:[tr,Ee,Qi]},{provide:Qv,useClass:yY,multi:!0,deps:[tr]},zP,jP,BP,{provide:uR,useExisting:zP},{provide:class AQ{},useClass:sY,deps:[]},[]];let DY=(()=>{class t{constructor(n){}static withServerTransition(n){return{ngModule:t,providers:[{provide:Lh,useValue:n.appId}]}}}return t.\u0275fac=function(n){return new(n||t)($(EY,12))},t.\u0275mod=Qt({type:t}),t.\u0275inj=Lt({providers:[...JP,...XP],imports:[NP,z8]}),t})(),ZP=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}}return t.\u0275fac=function(n){return new(n||t)($(tr))},t.\u0275prov=j({token:t,factory:function(n){let r=null;return r=n?new n:function bY(){return new ZP($(tr))}(),r},providedIn:"root"}),t})();function ee(...t){return Ct(t,Hu(t))}typeof window<"u"&&window;class mr extends ii{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const{isArray:RY}=Array,{getPrototypeOf:NY,prototype:kY,keys:PY}=Object;function rO(t){if(1===t.length){const e=t[0];if(RY(e))return{args:e,keys:null};if(function OY(t){return t&&"object"==typeof t&&NY(t)===kY}(e)){const n=PY(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}const{isArray:FY}=Array;function iO(t){return ve(e=>function LY(t,e){return FY(e)?t(...e):t(e)}(t,e))}function sO(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function nw(...t){const e=Hu(t),n=xA(t),{args:r,keys:i}=rO(t);if(0===r.length)return Ct([],e);const s=new Be(function VY(t,e,n=Ps){return r=>{oO(e,()=>{const{length:i}=t,s=new Array(i);let o=i,a=i;for(let u=0;u<i;u++)oO(e,()=>{const c=Ct(t[u],e);let l=!1;c.subscribe(Dt(r,d=>{s[u]=d,l||(l=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>sO(i,o):Ps));return n?s.pipe(iO(n)):s}function oO(t,e,n){t?si(n,t,e):e()}const Nf=$u(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function rw(...t){return function UY(){return Go(1)}()(Ct(t,Hu(t)))}function aO(t){return new Be(e=>{Yn(t()).subscribe(e)})}function $c(t,e){const n=Te(t)?t:()=>t,r=i=>i.error(n());return new Be(e?i=>e.schedule(r,0,i):r)}function iw(){return Ot((t,e)=>{let n=null;t._refCount++;const r=Dt(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class uO extends Be{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,gA(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Fn;const n=this.getSubject();e.add(this.source.subscribe(Dt(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Fn.EMPTY)}return e}refCount(){return iw()(this)}}function Ii(t,e){return Ot((n,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();n.subscribe(Dt(r,u=>{i?.unsubscribe();let c=0;const l=s++;Yn(t(u,l)).subscribe(i=Dt(r,d=>r.next(e?e(u,d,l,c++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function Fa(t){return t<=0?()=>br:Ot((e,n)=>{let r=0;e.subscribe(Dt(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function ts(t,e){return Ot((n,r)=>{let i=0;n.subscribe(Dt(r,s=>t.call(e,s,i++)&&r.next(s)))})}function kf(t){return Ot((e,n)=>{let r=!1;e.subscribe(Dt(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function cO(t=$Y){return Ot((e,n)=>{let r=!1;e.subscribe(Dt(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function $Y(){return new Nf}function Ys(t,e){const n=arguments.length>=2;return r=>r.pipe(t?ts((i,s)=>t(i,s,r)):Ps,Fa(1),n?kf(e):cO(()=>new Nf))}function jc(t,e){return Te(e)?Ft(t,e,1):Ft(t,1)}function en(t,e,n){const r=Te(t)||e||n?{next:t,error:e,complete:n}:t;return r?Ot((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(Dt(s,u=>{var c;null===(c=r.next)||void 0===c||c.call(r,u),s.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),s.complete()},u=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,u),s.error(u)},()=>{var u,c;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):Ps}function Xs(t){return Ot((e,n)=>{let s,r=null,i=!1;r=e.subscribe(Dt(n,void 0,void 0,o=>{s=Yn(t(o,Xs(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function sw(t){return t<=0?()=>br:Ot((e,n)=>{let r=[];e.subscribe(Dt(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function ow(t){return Ot((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}const se="primary",Hc=Symbol("RouteTitle");class qY{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function La(t){return new qY(t)}function WY(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Ur(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!lO(t[i],e[i]))return!1;return!0}function lO(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}return t===e}function dO(t){return t.length>0?t[t.length-1]:null}function ns(t){return function xY(t){return!!t&&(t instanceof Be||Te(t.lift)&&Te(t.subscribe))}(t)?t:Tc(t)?Ct(Promise.resolve(t)):ee(t)}const QY={exact:function pO(t,e,n){if(!Js(t.segments,e.segments)||!Pf(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!pO(t.children[r],e.children[r],n))return!1;return!0},subset:gO},hO={exact:function YY(t,e){return Ur(t,e)},subset:function XY(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>lO(t[n],e[n]))},ignored:()=>!0};function fO(t,e,n){return QY[n.paths](t.root,e.root,n.matrixParams)&&hO[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function gO(t,e,n){return mO(t,e,e.segments,n)}function mO(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!Js(i,n)||e.hasChildren()||!Pf(i,n,r))}if(t.segments.length===n.length){if(!Js(t.segments,n)||!Pf(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!gO(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!!(Js(t.segments,i)&&Pf(t.segments,i,r)&&t.children[se])&&mO(t.children[se],e,s,r)}}function Pf(t,e,n){return e.every((r,i)=>hO[n](t[i].parameters,r.parameters))}class Va{constructor(e=new De([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=La(this.queryParams)),this._queryParamMap}toString(){return eX.serialize(this)}}class De{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Of(this)}}class Gc{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=La(this.parameters)),this._parameterMap}toString(){return vO(this)}}function Js(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}let zc=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:function(){return new aw},providedIn:"root"}),t})();class aw{parse(e){const n=new dX(e);return new Va(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${qc(e.root,!0)}`,r=function rX(t){const e=Object.keys(t).map(n=>{const r=t[n];return Array.isArray(r)?r.map(i=>`${Ff(n)}=${Ff(i)}`).join("&"):`${Ff(n)}=${Ff(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${n}${r}${"string"==typeof e.fragment?`#${function tX(t){return encodeURI(t)}(e.fragment)}`:""}`}}const eX=new aw;function Of(t){return t.segments.map(e=>vO(e)).join("/")}function qc(t,e){if(!t.hasChildren())return Of(t);if(e){const n=t.children[se]?qc(t.children[se],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==se&&r.push(`${i}:${qc(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function ZY(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===se&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==se&&(n=n.concat(e(i,r)))}),n}(t,(r,i)=>i===se?[qc(t.children[se],!1)]:[`${i}:${qc(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[se]?`${Of(t)}/${n[0]}`:`${Of(t)}/(${n.join("//")})`}}function yO(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ff(t){return yO(t).replace(/%3B/gi,";")}function uw(t){return yO(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Lf(t){return decodeURIComponent(t)}function _O(t){return Lf(t.replace(/\+/g,"%20"))}function vO(t){return`${uw(t.path)}${function nX(t){return Object.keys(t).map(e=>`;${uw(e)}=${uw(t[e])}`).join("")}(t.parameters)}`}const iX=/^[^\/()?;#]+/;function cw(t){const e=t.match(iX);return e?e[0]:""}const sX=/^[^\/()?;=#]+/,aX=/^[^=?&#]+/,cX=/^[^&#]+/;class dX{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new De([],{}):new De([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[se]=new De(e,n)),r}parseSegment(){const e=cw(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new b(4009,!1);return this.capture(e),new Gc(Lf(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=function oX(t){const e=t.match(sX);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=cw(this.remaining);i&&(r=i,this.capture(r))}e[Lf(n)]=Lf(r)}parseQueryParam(e){const n=function uX(t){const e=t.match(aX);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const o=function lX(t){const e=t.match(cX);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=_O(n),s=_O(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=cw(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new b(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=se);const o=this.parseChildren();n[s]=1===Object.keys(o).length?o[se]:new De([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new b(4011,!1)}}function wO(t){return t.segments.length>0?new De([],{[se]:t}):t}function IO(t){const e={};for(const r of Object.keys(t.children)){const s=IO(t.children[r]);if(r===se&&0===s.segments.length&&s.hasChildren())for(const[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function hX(t){if(1===t.numberOfChildren&&t.children[se]){const e=t.children[se];return new De(t.segments.concat(e.segments),e.children)}return t}(new De(t.segments,e))}function Zs(t){return t instanceof Va}function EO(t){let e;const i=wO(function n(s){const o={};for(const u of s.children){const c=n(u);o[u.outlet]=c}const a=new De(s.url,o);return s===t&&(e=a),a}(t.root));return e??i}function DO(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(0===e.length)return lw(i,i,i,n,r);const s=function pX(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new bO(!0,0,t);let e=0,n=!1;const r=t.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Object.entries(s.outlets).forEach(([u,c])=>{a[u]="string"==typeof c?c.split("/"):c}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,u)=>{0==u&&"."===a||(0==u&&""===a?n=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new bO(n,e,r)}(e);if(s.toRoot())return lw(i,i,new De([],{}),n,r);const o=function gX(t,e,n){if(t.isAbsolute)return new Uf(e,!0,0);if(!n)return new Uf(e,!1,NaN);if(null===n.parent)return new Uf(n,!0,0);const r=Vf(t.commands[0])?0:1;return function mX(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new b(4005,!1);i=r.segments.length}return new Uf(r,!1,i-s)}(n,n.segments.length-1+r,t.numberOfDoubleDots)}(s,i,t),a=o.processChildren?Kc(o.segmentGroup,o.index,s.commands):TO(o.segmentGroup,o.index,s.commands);return lw(i,o.segmentGroup,a,n,r)}function Vf(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Wc(t){return"object"==typeof t&&null!=t&&t.outlets}function lw(t,e,n,r,i){let o,s={};r&&Object.entries(r).forEach(([u,c])=>{s[u]=Array.isArray(c)?c.map(l=>`${l}`):`${c}`}),o=t===e?n:CO(t,e,n);const a=wO(IO(o));return new Va(a,s,i)}function CO(t,e,n){const r={};return Object.entries(t.children).forEach(([i,s])=>{r[i]=s===e?n:CO(s,e,n)}),new De(t.segments,r)}class bO{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Vf(r[0]))throw new b(4003,!1);const i=r.find(Wc);if(i&&i!==dO(r))throw new b(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Uf{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function TO(t,e,n){if(t||(t=new De([],{})),0===t.segments.length&&t.hasChildren())return Kc(t,e,n);const r=function _X(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const o=t.segments[i],a=n[r];if(Wc(a))break;const u=`${a}`,c=r<n.length-1?n[r+1]:null;if(i>0&&void 0===u)break;if(u&&c&&"object"==typeof c&&void 0===c.outlets){if(!AO(u,c,o))return s;r+=2}else{if(!AO(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const s=new De(t.segments.slice(0,r.pathIndex),{});return s.children[se]=new De(t.segments.slice(r.pathIndex),t.children),Kc(s,0,i)}return r.match&&0===i.length?new De(t.segments,{}):r.match&&!t.hasChildren()?dw(t,e,n):r.match?Kc(t,0,i):dw(t,e,n)}function Kc(t,e,n){if(0===n.length)return new De(t.segments,{});{const r=function yX(t){return Wc(t[0])?t[0].outlets:{[se]:t}}(n),i={};if(!r[se]&&t.children[se]&&1===t.numberOfChildren&&0===t.children[se].segments.length){const s=Kc(t.children[se],e,n);return new De(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{"string"==typeof o&&(o=[o]),null!==o&&(i[s]=TO(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{void 0===r[s]&&(i[s]=o)}),new De(t.segments,i)}}function dw(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const s=n[i];if(Wc(s)){const u=vX(s.outlets);return new De(r,u)}if(0===i&&Vf(n[0])){r.push(new Gc(t.segments[e].path,SO(n[0]))),i++;continue}const o=Wc(s)?s.outlets[se]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&Vf(a)?(r.push(new Gc(o,SO(a))),i+=2):(r.push(new Gc(o,{})),i++)}return new De(r,{})}function vX(t){const e={};return Object.entries(t).forEach(([n,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[n]=dw(new De([],{}),0,r))}),e}function SO(t){const e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function AO(t,e,n){return t==n.path&&Ur(e,n.parameters)}const Qc="imperative";class Br{constructor(e,n){this.id=e,this.url=n}}class hw extends Br{constructor(e,n,r="imperative",i=null){super(e,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class eo extends Br{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Bf extends Br{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Yc extends Br{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=16}}class fw extends Br{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class wX extends Br{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class IX extends Br{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class EX extends Br{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class DX extends Br{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class CX extends Br{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class bX{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class TX{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class SX{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class AX{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class MX{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class xX{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class MO{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class RX{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Xc,this.attachRef=null}}let Xc=(()=>{class t{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){const i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new RX,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class xO{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=pw(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=pw(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=gw(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return gw(e,this._root).map(n=>n.value)}}function pw(t,e){if(t===e.value)return e;for(const n of e.children){const r=pw(t,n);if(r)return r}return null}function gw(t,e){if(t===e.value)return[e];for(const n of e.children){const r=gw(t,n);if(r.length)return r.unshift(e),r}return[]}class Ei{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function Ua(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class RO extends xO{constructor(e,n){super(e),this.snapshot=n,mw(this,e)}toString(){return this.snapshot.toString()}}function NO(t,e){const n=function NX(t,e){const o=new $f([],{},{},"",{},se,e,null,{});return new PO("",new Ei(o,[]))}(0,e),r=new mr([new Gc("",{})]),i=new mr({}),s=new mr({}),o=new mr({}),a=new mr(""),u=new Ba(r,i,o,a,s,se,e,n.root);return u.snapshot=n.root,new RO(new Ei(u,[]),n)}class Ba{constructor(e,n,r,i,s,o,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(ve(c=>c[Hc]))??ee(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(ve(e=>La(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(ve(e=>La(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function kO(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const i=n[r],s=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function kX(t){return t.reduce((e,n)=>({params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class $f{get title(){return this.data?.[Hc]}constructor(e,n,r,i,s,o,a,u,c){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=u,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=La(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=La(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class PO extends xO{constructor(e,n){super(n),this.url=e,mw(this,n)}toString(){return OO(this._root)}}function mw(t,e){e.value._routerState=t,e.children.forEach(n=>mw(t,n))}function OO(t){const e=t.children.length>0?` { ${t.children.map(OO).join(", ")} } `:"";return`${t.value}${e}`}function yw(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Ur(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Ur(e.params,n.params)||t.paramsSubject.next(n.params),function KY(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Ur(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.urlSubject.next(n.url),Ur(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function _w(t,e){const n=Ur(t.params,e.params)&&function JY(t,e){return Js(t,e)&&t.every((n,r)=>Ur(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||_w(t.parent,e.parent))}let vw=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=se,this.activateEvents=new Qe,this.deactivateEvents=new Qe,this.attachEvents=new Qe,this.detachEvents=new Qe,this.parentContexts=V(Xc),this.location=V(hr),this.changeDetector=V(pf),this.environmentInjector=V(fi),this.inputBinder=V(jf,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){const{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new b(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new b(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new b(4012,!1);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new b(4013,!1);this._activatedRoute=n;const i=this.location,o=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new PX(n,a,i.injector);this.activated=i.createComponent(o,{index:i.length,injector:u,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=Q({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Jn]}),t})();class PX{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Ba?this.route:e===Xc?this.childContexts:this.parent.get(e,n)}}const jf=new L("");let FO=(()=>{class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){const{activatedRoute:r}=n,i=nw([r.queryParams,r.params,r.data]).pipe(Ii(([s,o,a],u)=>(a={...s,...o,...a},0===u?ee(a):Promise.resolve(a)))).subscribe(s=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(n);const o=function tK(t){const e=me(t);if(!e)return null;const n=new Ic(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone}}}(r.component);if(o)for(const{templateName:a}of o.inputs)n.activatedComponentRef.setInput(a,s[a]);else this.unsubscribeFromRouteData(n)});this.outletDataSubscriptions.set(n,i)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac}),t})();function Jc(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function FX(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Jc(t,r,i);return Jc(t,r)})}(t,e,n);return new Ei(r,i)}{if(t.shouldAttach(e.value)){const s=t.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Jc(t,a)),o}}const r=function LX(t){return new Ba(new mr(t.url),new mr(t.params),new mr(t.queryParams),new mr(t.fragment),new mr(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(s=>Jc(t,s));return new Ei(r,i)}}const ww="ngNavigationCancelingError";function LO(t,e){const{redirectTo:n,navigationBehaviorOptions:r}=Zs(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=VO(!1,0,e);return i.url=n,i.navigationBehaviorOptions=r,i}function VO(t,e,n){const r=new Error("NavigationCancelingError: "+(t||""));return r[ww]=!0,r.cancellationCode=e,n&&(r.url=n),r}function UO(t){return BO(t)&&Zs(t.url)}function BO(t){return t&&t[ww]}let $O=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=qo({type:t,selectors:[["ng-component"]],standalone:!0,features:[Vk],decls:1,vars:0,template:function(n,r){1&n&&Tt(0,"router-outlet")},dependencies:[vw],encapsulation:2}),t})();function Iw(t){const e=t.children&&t.children.map(Iw),n=e?{...t,children:e}:{...t};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==se&&(n.component=$O),n}function yr(t){return t.outlet||se}function Zc(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class GX{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),yw(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=Ua(n);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Ua(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Ua(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){const i=Ua(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new xX(s.value.snapshot))}),e.children.length&&this.forwardEvent(new AX(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(yw(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),yw(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=Zc(i.snapshot);o.attachRef=null,o.route=i,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class jO{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Hf{constructor(e,n){this.component=e,this.route=n}}function zX(t,e,n){const r=t._root;return el(r,e?e._root:null,n,[r.value])}function $a(t,e){const n=Symbol(),r=e.get(t,n);return r===n?"function"!=typeof t||function Lz(t){return null!==Kd(t)}(t)?e.get(t):t:r}function el(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=Ua(e);return t.children.forEach(o=>{(function WX(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const u=function KX(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Js(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Js(t.url,e.url)||!Ur(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!_w(t,e)||!Ur(t.queryParams,e.queryParams);default:return!_w(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new jO(r)):(s.data=o.data,s._resolvedData=o._resolvedData),el(t,e,s.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Hf(a.outlet.component,o))}else o&&tl(e,a,i),i.canActivateChecks.push(new jO(r)),el(t,null,s.component?a?a.children:null:n,r,i)})(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>tl(a,n.getContext(o),i)),i}function tl(t,e,n){const r=Ua(t),i=t.value;Object.entries(r).forEach(([s,o])=>{tl(o,i.component?e?e.children.getContext(s):null:e,n)}),n.canDeactivateChecks.push(new Hf(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function nl(t){return"function"==typeof t}function HO(t){return t instanceof Nf||"EmptyError"===t?.name}const Gf=Symbol("INITIAL_VALUE");function ja(){return Ii(t=>nw(t.map(e=>e.pipe(Fa(1),function BY(...t){const e=Hu(t);return Ot((n,r)=>{(e?rw(t,n,e):rw(t,n)).subscribe(r)})}(Gf)))).pipe(ve(e=>{for(const n of e)if(!0!==n){if(n===Gf)return Gf;if(!1===n||n instanceof Va)return n}return!0}),ts(e=>e!==Gf),Fa(1)))}function GO(t){return function GG(...t){return hA(t)}(en(e=>{if(Zs(e))throw LO(0,e)}),ve(e=>!0===e))}class zf{constructor(e){this.segmentGroup=e||null}}class zO{constructor(e){this.urlTree=e}}function Ha(t){return $c(new zf(t))}function qO(t){return $c(new zO(t))}class pJ{constructor(e,n){this.urlSerializer=e,this.urlTree=n}noMatchError(e){return new b(4002,!1)}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return ee(r);if(i.numberOfChildren>1||!i.children[se])return $c(new b(4e3,!1));i=i.children[se]}}applyRedirectCommands(e,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r)}applyRedirectCreateUrlTree(e,n,r,i){const s=this.createSegmentGroup(e,n.root,r,i);return new Va(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return Object.entries(e).forEach(([i,s])=>{if("string"==typeof s&&s.startsWith(":")){const a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){const s=this.createSegments(e,n.segments,r,i);let o={};return Object.entries(n.children).forEach(([a,u])=>{o[a]=this.createSegmentGroup(e,u,r,i)}),new De(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new b(4001,!1);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}const Ew={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function gJ(t,e,n,r,i){const s=Dw(t,e,n);return s.matched?(r=function VX(t,e){return t.providers&&!t._injector&&(t._injector=Q_(t.providers,e,`Route: ${t.path}`)),t._injector??e}(e,r),function dJ(t,e,n,r){const i=e.canMatch;return i&&0!==i.length?ee(i.map(o=>{const a=$a(o,t);return ns(function eJ(t){return t&&nl(t.canMatch)}(a)?a.canMatch(e,n):t.runInContext(()=>a(e,n)))})).pipe(ja(),GO()):ee(!0)}(r,e,n).pipe(ve(o=>!0===o?s:{...Ew}))):ee(s)}function Dw(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{...Ew}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(e.matcher||WY)(n,t,e);if(!i)return{...Ew};const s={};Object.entries(i.posParams??{}).forEach(([a,u])=>{s[a]=u.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function WO(t,e,n,r){return n.length>0&&function _J(t,e,n){return n.some(r=>qf(t,e,r)&&yr(r)!==se)}(t,n,r)?{segmentGroup:new De(e,yJ(r,new De(n,t.children))),slicedSegments:[]}:0===n.length&&function vJ(t,e,n){return n.some(r=>qf(t,e,r))}(t,n,r)?{segmentGroup:new De(t.segments,mJ(t,0,n,r,t.children)),slicedSegments:n}:{segmentGroup:new De(t.segments,t.children),slicedSegments:n}}function mJ(t,e,n,r,i){const s={};for(const o of r)if(qf(t,n,o)&&!i[yr(o)]){const a=new De([],{});s[yr(o)]=a}return{...i,...s}}function yJ(t,e){const n={};n[se]=e;for(const r of t)if(""===r.path&&yr(r)!==se){const i=new De([],{});n[yr(r)]=i}return n}function qf(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}class DJ{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new pJ(this.urlSerializer,this.urlTree)}noMatchError(e){return new b(4002,!1)}recognize(){const e=WO(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,se).pipe(Xs(n=>{if(n instanceof zO)return this.allowRedirects=!1,this.urlTree=n.urlTree,this.match(n.urlTree);throw n instanceof zf?this.noMatchError(n):n}),ve(n=>{const r=new $f([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},se,this.rootComponentType,null,{}),i=new Ei(r,n),s=new PO("",i),o=function fX(t,e,n=null,r=null){return DO(EO(t),e,n,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,se).pipe(Xs(r=>{throw r instanceof zf?this.noMatchError(r):r}))}inheritParamsAndData(e){const n=e.value,r=kO(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0)}processChildren(e,n,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return Ct(i).pipe(jc(s=>{const o=r.children[s],a=function jX(t,e){const n=t.filter(r=>yr(r)===e);return n.push(...t.filter(r=>yr(r)!==e)),n}(n,s);return this.processSegmentGroup(e,a,o,s)}),function HY(t,e){return Ot(function jY(t,e,n,r,i){return(s,o)=>{let a=n,u=e,c=0;s.subscribe(Dt(o,l=>{const d=c++;u=a?t(u,l,d):(a=!0,l),r&&o.next(u)},i&&(()=>{a&&o.next(u),o.complete()})))}}(t,e,arguments.length>=2,!0))}((s,o)=>(s.push(...o),s)),kf(null),function GY(t,e){const n=arguments.length>=2;return r=>r.pipe(t?ts((i,s)=>t(i,s,r)):Ps,sw(1),n?kf(e):cO(()=>new Nf))}(),Ft(s=>{if(null===s)return Ha(r);const o=KO(s);return function CJ(t){t.sort((e,n)=>e.value.outlet===se?-1:n.value.outlet===se?1:e.value.outlet.localeCompare(n.value.outlet))}(o),ee(o)}))}processSegment(e,n,r,i,s,o){return Ct(n).pipe(jc(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,s,o).pipe(Xs(u=>{if(u instanceof zf)return ee(null);throw u}))),Ys(a=>!!a),Xs(a=>{if(HO(a))return function IJ(t,e,n){return 0===e.length&&!t.children[n]}(r,i,s)?ee([]):Ha(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,s,o,a){return function wJ(t,e,n,r){return!!(yr(t)===r||r!==se&&qf(e,n,t))&&("**"===t.path||Dw(e,t,n).matched)}(r,i,s,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,s,o,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o):Ha(i):Ha(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,i){const s=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?qO(s):this.applyRedirects.lineralizeSegments(r,s).pipe(Ft(o=>{const a=new De(o,{});return this.processSegment(e,n,a,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){const{matched:a,consumedSegments:u,remainingSegments:c,positionalParamSegments:l}=Dw(n,i,s);if(!a)return Ha(n);const d=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,l);return i.redirectTo.startsWith("/")?qO(d):this.applyRedirects.lineralizeSegments(i,d).pipe(Ft(h=>this.processSegment(e,r,n,h.concat(c),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s,o){let a;if("**"===r.path){const u=i.length>0?dO(i).parameters:{};a=ee({snapshot:new $f(i,u,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,QO(r),yr(r),r.component??r._loadedComponent??null,r,YO(r)),consumedSegments:[],remainingSegments:[]}),n.children={}}else a=gJ(n,r,i,e).pipe(ve(({matched:u,consumedSegments:c,remainingSegments:l,parameters:d})=>u?{snapshot:new $f(c,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,QO(r),yr(r),r.component??r._loadedComponent??null,r,YO(r)),consumedSegments:c,remainingSegments:l}:null));return a.pipe(Ii(u=>null===u?Ha(n):this.getChildConfig(e=r._injector??e,r,i).pipe(Ii(({routes:c})=>{const l=r._loadedInjector??e,{snapshot:d,consumedSegments:h,remainingSegments:f}=u,{segmentGroup:p,slicedSegments:m}=WO(n,h,f,c);if(0===m.length&&p.hasChildren())return this.processChildren(l,c,p).pipe(ve(v=>null===v?null:[new Ei(d,v)]));if(0===c.length&&0===m.length)return ee([new Ei(d,[])]);const y=yr(r)===s;return this.processSegment(l,c,p,m,y?se:s,!0).pipe(ve(v=>[new Ei(d,v)]))}))))}getChildConfig(e,n,r){return n.children?ee({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?ee({routes:n._loadedRoutes,injector:n._loadedInjector}):function lJ(t,e,n,r){const i=e.canLoad;return void 0===i||0===i.length?ee(!0):ee(i.map(o=>{const a=$a(o,t);return ns(function YX(t){return t&&nl(t.canLoad)}(a)?a.canLoad(e,n):t.runInContext(()=>a(e,n)))})).pipe(ja(),GO())}(e,n,r).pipe(Ft(i=>i?this.configLoader.loadChildren(e,n).pipe(en(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):function fJ(t){return $c(VO(!1,3))}())):ee({routes:[],injector:e})}}function bJ(t){const e=t.value.routeConfig;return e&&""===e.path}function KO(t){const e=[],n=new Set;for(const r of t){if(!bJ(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=KO(r.children);e.push(new Ei(r.value,i))}return e.filter(r=>!n.has(r))}function QO(t){return t.data||{}}function YO(t){return t.resolve||{}}function XO(t){return"string"==typeof t.title||null===t.title}function Cw(t){return Ii(e=>{const n=t(e);return n?Ct(n).pipe(ve(()=>e)):ee(e)})}const Ga=new L("ROUTES");let bw=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=V(M1)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return ee(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const r=ns(n.loadComponent()).pipe(ve(JO),en(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),ow(()=>{this.componentLoaders.delete(n)})),i=new uO(r,()=>new ii).pipe(iw());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return ee({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(ve(a=>{this.onLoadEndListener&&this.onLoadEndListener(r);let u,c;return Array.isArray(a)?c=a:(u=a.create(n).injector,c=u.get(Ga,[],H.Self|H.Optional).flat()),{routes:c.map(Iw),injector:u}}),ow(()=>{this.childrenLoaders.delete(r)})),o=new uO(s,()=>new ii).pipe(iw());return this.childrenLoaders.set(r,o),o}loadModuleFactoryOrRoutes(n){return ns(n()).pipe(ve(JO),Ft(r=>r instanceof Fk||Array.isArray(r)?ee(r):Ct(this.compiler.compileModuleAsync(r))))}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function JO(t){return function NJ(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let Wf=(()=>{class t{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new ii,this.configLoader=V(bw),this.environmentInjector=V(fi),this.urlSerializer=V(zc),this.rootContexts=V(Xc),this.inputBindingEnabled=null!==V(jf,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>ee(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new TX(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new bX(i))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:r})}setupNavigations(n){return this.transitions=new mr({id:0,currentUrlTree:n.currentUrlTree,currentRawUrl:n.currentUrlTree,extractedUrl:n.urlHandlingStrategy.extract(n.currentUrlTree),urlAfterRedirects:n.urlHandlingStrategy.extract(n.currentUrlTree),rawUrl:n.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Qc,restoredState:null,currentSnapshot:n.routerState.snapshot,targetSnapshot:null,currentRouterState:n.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(ts(r=>0!==r.id),ve(r=>({...r,extractedUrl:n.urlHandlingStrategy.extract(r.rawUrl)})),Ii(r=>{let i=!1,s=!1;return ee(r).pipe(en(o=>{this.currentNavigation={id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Ii(o=>{const a=n.browserUrlTree.toString(),u=!n.navigated||o.extractedUrl.toString()!==a||a!==n.currentUrlTree.toString();if(!u&&"reload"!==(o.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const l="";return this.events.next(new Yc(o.id,n.serializeUrl(r.rawUrl),l,0)),n.rawUrlTree=o.rawUrl,o.resolve(null),br}if(n.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return ZO(o.source)&&(n.browserUrlTree=o.extractedUrl),ee(o).pipe(Ii(l=>{const d=this.transitions?.getValue();return this.events.next(new hw(l.id,this.urlSerializer.serialize(l.extractedUrl),l.source,l.restoredState)),d!==this.transitions?.getValue()?br:Promise.resolve(l)}),function TJ(t,e,n,r,i,s){return Ft(o=>function EJ(t,e,n,r,i,s,o="emptyOnly"){return new DJ(t,e,n,r,i,o,s).recognize()}(t,e,n,r,o.extractedUrl,i,s).pipe(ve(({state:a,tree:u})=>({...o,targetSnapshot:a,urlAfterRedirects:u}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,n.paramsInheritanceStrategy),en(l=>{if(r.targetSnapshot=l.targetSnapshot,r.urlAfterRedirects=l.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:l.urlAfterRedirects},"eager"===n.urlUpdateStrategy){if(!l.extras.skipLocationChange){const h=n.urlHandlingStrategy.merge(l.urlAfterRedirects,l.rawUrl);n.setBrowserUrl(h,l)}n.browserUrlTree=l.urlAfterRedirects}const d=new wX(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}));if(u&&n.urlHandlingStrategy.shouldProcessUrl(n.rawUrlTree)){const{id:l,extractedUrl:d,source:h,restoredState:f,extras:p}=o,m=new hw(l,this.urlSerializer.serialize(d),h,f);this.events.next(m);const y=NO(0,this.rootComponentType).snapshot;return ee(r={...o,targetSnapshot:y,urlAfterRedirects:d,extras:{...p,skipLocationChange:!1,replaceUrl:!1}})}{const l="";return this.events.next(new Yc(o.id,n.serializeUrl(r.extractedUrl),l,1)),n.rawUrlTree=o.rawUrl,o.resolve(null),br}}),en(o=>{const a=new IX(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(a)}),ve(o=>r={...o,guards:zX(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),function nJ(t,e){return Ft(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?ee({...n,guardsResult:!0}):function rJ(t,e,n,r){return Ct(t).pipe(Ft(i=>function cJ(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?ee(s.map(a=>{const u=Zc(e)??i,c=$a(a,u);return ns(function ZX(t){return t&&nl(t.canDeactivate)}(c)?c.canDeactivate(t,e,n,r):u.runInContext(()=>c(t,e,n,r))).pipe(Ys())})).pipe(ja()):ee(!0)}(i.component,i.route,n,e,r)),Ys(i=>!0!==i,!0))}(o,r,i,t).pipe(Ft(a=>a&&function QX(t){return"boolean"==typeof t}(a)?function iJ(t,e,n,r){return Ct(e).pipe(jc(i=>rw(function oJ(t,e){return null!==t&&e&&e(new SX(t)),ee(!0)}(i.route.parent,r),function sJ(t,e){return null!==t&&e&&e(new MX(t)),ee(!0)}(i.route,r),function uJ(t,e,n){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function qX(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(o)).filter(o=>null!==o).map(o=>aO(()=>ee(o.guards.map(u=>{const c=Zc(o.node)??n,l=$a(u,c);return ns(function JX(t){return t&&nl(t.canActivateChild)}(l)?l.canActivateChild(r,t):c.runInContext(()=>l(r,t))).pipe(Ys())})).pipe(ja())));return ee(s).pipe(ja())}(t,i.path,n),function aJ(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return ee(!0);const i=r.map(s=>aO(()=>{const o=Zc(e)??n,a=$a(s,o);return ns(function XX(t){return t&&nl(t.canActivate)}(a)?a.canActivate(e,t):o.runInContext(()=>a(e,t))).pipe(Ys())}));return ee(i).pipe(ja())}(t,i.route,n))),Ys(i=>!0!==i,!0))}(r,s,t,e):ee(a)),ve(a=>({...n,guardsResult:a})))})}(this.environmentInjector,o=>this.events.next(o)),en(o=>{if(r.guardsResult=o.guardsResult,Zs(o.guardsResult))throw LO(0,o.guardsResult);const a=new EX(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(a)}),ts(o=>!!o.guardsResult||(n.restoreHistory(o),this.cancelNavigationTransition(o,"",3),!1)),Cw(o=>{if(o.guards.canActivateChecks.length)return ee(o).pipe(en(a=>{const u=new DX(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}),Ii(a=>{let u=!1;return ee(a).pipe(function SJ(t,e){return Ft(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return ee(n);let s=0;return Ct(i).pipe(jc(o=>function AJ(t,e,n,r){const i=t.routeConfig,s=t._resolve;return void 0!==i?.title&&!XO(i)&&(s[Hc]=i.title),function MJ(t,e,n,r){const i=function xJ(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===i.length)return ee({});const s={};return Ct(i).pipe(Ft(o=>function RJ(t,e,n,r){const i=Zc(e)??r,s=$a(t,i);return ns(s.resolve?s.resolve(e,n):i.runInContext(()=>s(e,n)))}(t[o],e,n,r).pipe(Ys(),en(a=>{s[o]=a}))),sw(1),function zY(t){return ve(()=>t)}(s),Xs(o=>HO(o)?br:$c(o)))}(s,t,e,r).pipe(ve(o=>(t._resolvedData=o,t.data=kO(t,n).resolve,i&&XO(i)&&(t.data[Hc]=i.title),null)))}(o.route,r,t,e)),en(()=>s++),sw(1),Ft(o=>s===i.length?ee(n):br))})}(n.paramsInheritanceStrategy,this.environmentInjector),en({next:()=>u=!0,complete:()=>{u||(n.restoreHistory(a),this.cancelNavigationTransition(a,"",2))}}))}),en(a=>{const u=new CX(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}))}),Cw(o=>{const a=u=>{const c=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&c.push(this.configLoader.loadComponent(u.routeConfig).pipe(en(l=>{u.component=l}),ve(()=>{})));for(const l of u.children)c.push(...a(l));return c};return nw(a(o.targetSnapshot.root)).pipe(kf(),Fa(1))}),Cw(()=>this.afterPreactivation()),ve(o=>{const a=function OX(t,e,n){const r=Jc(t,e._root,n?n._root:void 0);return new RO(r,e)}(n.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return r={...o,targetRouterState:a}}),en(o=>{n.currentUrlTree=o.urlAfterRedirects,n.rawUrlTree=n.urlHandlingStrategy.merge(o.urlAfterRedirects,o.rawUrl),n.routerState=o.targetRouterState,"deferred"===n.urlUpdateStrategy&&(o.extras.skipLocationChange||n.setBrowserUrl(n.rawUrlTree,o),n.browserUrlTree=o.urlAfterRedirects)}),((t,e,n,r)=>ve(i=>(new GX(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)))(this.rootContexts,n.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),Fa(1),en({next:o=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,n.navigated=!0,this.events.next(new eo(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(n.currentUrlTree))),n.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),ow(()=>{i||s||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),Xs(o=>{if(s=!0,BO(o)){UO(o)||(n.navigated=!0,n.restoreHistory(r,!0));const a=new Bf(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode);if(this.events.next(a),UO(o)){const u=n.urlHandlingStrategy.merge(o.url,n.rawUrlTree),c={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===n.urlUpdateStrategy||ZO(r.source)};n.scheduleNavigation(u,Qc,null,c,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{n.restoreHistory(r,!0);const a=new fw(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);this.events.next(a);try{r.resolve(n.errorHandler(o))}catch(u){r.reject(u)}}return br}))}))}cancelNavigationTransition(n,r,i){const s=new Bf(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(s),n.resolve(!1)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function ZO(t){return t!==Qc}let eF=(()=>{class t{buildTitle(n){let r,i=n.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===se);return r}getResolvedTitleForRoute(n){return n.data[Hc]}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:function(){return V(kJ)},providedIn:"root"}),t})(),kJ=(()=>{class t extends eF{constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}}return t.\u0275fac=function(n){return new(n||t)($(ZP))},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),PJ=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:function(){return V(FJ)},providedIn:"root"}),t})();class OJ{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}let FJ=(()=>{class t extends OJ{}return t.\u0275fac=function(){let e;return function(r){return(e||(e=Bt(t)))(r||t)}}(),t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Kf=new L("",{providedIn:"root",factory:()=>({})});let LJ=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:function(){return V(VJ)},providedIn:"root"}),t})(),VJ=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var zn=(()=>((zn=zn||{})[zn.COMPLETE=0]="COMPLETE",zn[zn.FAILED=1]="FAILED",zn[zn.REDIRECTING=2]="REDIRECTING",zn))();function tF(t,e){t.events.pipe(ts(n=>n instanceof eo||n instanceof Bf||n instanceof fw||n instanceof Yc),ve(n=>n instanceof eo||n instanceof Yc?zn.COMPLETE:n instanceof Bf&&(0===n.code||1===n.code)?zn.REDIRECTING:zn.FAILED),ts(n=>n!==zn.REDIRECTING),Fa(1)).subscribe(()=>{e()})}function UJ(t){throw t}function BJ(t,e,n){return e.parse("/")}const $J={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},jJ={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ir=(()=>{class t{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=V(A1),this.isNgZoneEnabled=!1,this.options=V(Kf,{optional:!0})||{},this.pendingTasks=V(dP),this.errorHandler=this.options.errorHandler||UJ,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||BJ,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=V(LJ),this.routeReuseStrategy=V(PJ),this.titleStrategy=V(eF),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=V(Ga,{optional:!0})?.flat()??[],this.navigationTransitions=V(Wf),this.urlSerializer=V(zc),this.location=V(Rv),this.componentInputBindingEnabled=!!V(jf,{optional:!0}),this.isNgZoneEnabled=V(Ee)instanceof Ee&&Ee.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Va,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=NO(0,null),this.navigationTransitions.setupNavigations(this).subscribe(n=>{this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId??0},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)})}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const n=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Qc,n)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r="popstate"===n.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(n.url,r,n.state)},0)}))}navigateToSyncWithBrowser(n,r,i){const s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){const u={...i};delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(s.state=u)}const a=this.parseUrl(n);this.scheduleNavigation(a,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(Iw),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(n,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:u}=r,c=u?this.currentUrlTree.fragment:o;let d,l=null;switch(a){case"merge":l={...this.currentUrlTree.queryParams,...s};break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=s||null}null!==l&&(l=this.removeEmptyProps(l));try{d=EO(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof n[0]||!n[0].startsWith("/"))&&(n=[]),d=this.currentUrlTree.root}return DO(d,n,l,c??null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=Zs(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,Qc,null,r)}navigate(n,r={skipLocationChange:!1}){return function HJ(t){for(let e=0;e<t.length;e++)if(null==t[e])throw new b(4008,!1)}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,n)}return r}isActive(n,r){let i;if(i=!0===r?{...$J}:!1===r?{...jJ}:r,Zs(n))return fO(this.currentUrlTree,n,i);const s=this.parseUrl(n);return fO(this.currentUrlTree,s,i)}removeEmptyProps(n){return Object.keys(n).reduce((r,i)=>{const s=n[i];return null!=s&&(r[i]=s),r},{})}scheduleNavigation(n,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,u,c;o?(a=o.resolve,u=o.reject,c=o.promise):c=new Promise((d,h)=>{a=d,u=h});const l=this.pendingTasks.add();return tF(this,()=>{Promise.resolve().then(()=>this.pendingTasks.remove(l))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:s,resolve:a,reject:u,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(d=>Promise.reject(d))}setBrowserUrl(n,r){const i=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const o={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",o)}else{const s={...r.extras.state,...this.generateNgRouterState(r.id,(this.browserPageId??0)+1)};this.location.go(i,"",s)}}restoreHistory(n,r=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-(this.browserPageId??this.currentPageId);0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class nF{}let qJ=(()=>{class t{constructor(n,r,i,s,o){this.router=n,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(ts(n=>n instanceof eo),jc(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=Q_(s.providers,n,`Route: ${s.path}`));const o=s._injector??n,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return Ct(i).pipe(Go())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(n,r):ee(null);const s=i.pipe(Ft(o=>null===o?ee(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??n,o.routes))));return r.loadComponent&&!r._loadedComponent?Ct([s,this.loader.loadComponent(r)]).pipe(Go()):s})}}return t.\u0275fac=function(n){return new(n||t)($(ir),$(M1),$(fi),$(nF),$(bw))},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Sw=new L("");let rF=(()=>{class t{constructor(n,r,i,s,o={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof hw?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof eo?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof Yc&&0===n.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof MO&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new MO(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return t.\u0275fac=function(n){!function SR(){throw new Error("invalid")}()},t.\u0275prov=j({token:t,factory:t.\u0275fac}),t})();function Di(t,e){return{\u0275kind:t,\u0275providers:e}}function sF(){const t=V(An);return e=>{const n=t.get(Pa);if(e!==n.components[0])return;const r=t.get(ir),i=t.get(oF);1===t.get(Aw)&&r.initialNavigation(),t.get(aF,null,H.Optional)?.setUpPreloading(),t.get(Sw,null,H.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const oF=new L("",{factory:()=>new ii}),Aw=new L("",{providedIn:"root",factory:()=>1}),aF=new L("");function YJ(t){return Di(0,[{provide:aF,useExisting:qJ},{provide:nF,useExisting:t}])}const uF=new L("ROUTER_FORROOT_GUARD"),JJ=[Rv,{provide:zc,useClass:aw},ir,Xc,{provide:Ba,useFactory:function iF(t){return t.routerState.root},deps:[ir]},bw,[]];function ZJ(){return new B1("Router",ir)}let Mw=(()=>{class t{constructor(n){}static forRoot(n,r){return{ngModule:t,providers:[JJ,[],{provide:Ga,multi:!0,useValue:n},{provide:uF,useFactory:rZ,deps:[[ir,new yt,new Ih]]},{provide:Kf,useValue:r||{}},r?.useHash?{provide:Qs,useClass:oK}:{provide:Qs,useClass:gP},{provide:Sw,useFactory:()=>{const t=V(bQ),e=V(Ee),n=V(Kf),r=V(Wf),i=V(zc);return n.scrollOffset&&t.setOffset(n.scrollOffset),new rF(i,r,t,e,n)}},r?.preloadingStrategy?YJ(r.preloadingStrategy).\u0275providers:[],{provide:B1,multi:!0,useFactory:ZJ},r?.initialNavigation?iZ(r):[],r?.bindToComponentInputs?Di(8,[FO,{provide:jf,useExisting:FO}]).\u0275providers:[],[{provide:cF,useFactory:sF},{provide:wv,multi:!0,useExisting:cF}]]}}static forChild(n){return{ngModule:t,providers:[{provide:Ga,multi:!0,useValue:n}]}}}return t.\u0275fac=function(n){return new(n||t)($(uF,8))},t.\u0275mod=Qt({type:t}),t.\u0275inj=Lt({}),t})();function rZ(t){return"guarded"}function iZ(t){return["disabled"===t.initialNavigation?Di(3,[{provide:dv,multi:!0,useFactory:()=>{const e=V(ir);return()=>{e.setUpLocationChangeListener()}}},{provide:Aw,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?Di(2,[{provide:Aw,useValue:0},{provide:dv,multi:!0,deps:[An],useFactory:e=>{const n=e.get(iK,Promise.resolve());return()=>n.then(()=>new Promise(r=>{const i=e.get(ir),s=e.get(oF);tF(i,()=>{r(!0)}),e.get(Wf).afterPreactivation=()=>(r(!0),s.closed?ee(void 0):s),i.initialNavigation()}))}}]).\u0275providers:[]]}const cF=new L(""),oZ=[];let aZ=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Qt({type:t}),t.\u0275inj=Lt({imports:[Mw.forRoot(oZ),Mw]}),t})(),uZ=(()=>{class t{constructor(){this.title="estadisticas"}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=qo({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(n,r){1&n&&Tt(0,"router-outlet")},dependencies:[vw]}),t})();function lF(t,e,n,r,i,s,o){try{var a=t[s](o),u=a.value}catch(c){return void n(c)}a.done?e(u):Promise.resolve(u).then(r,i)}function g(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var s=t.apply(e,n);function o(u){lF(s,r,i,o,a,"next",u)}function a(u){lF(s,r,i,o,a,"throw",u)}o(void 0)})}}const dF=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},Rw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0;let h=(15&a)<<2|c>>6,f=63&c;u||(f=64,o||(h=64)),r.push(n[s>>2],n[(3&s)<<4|a>>4],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(dF(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const u=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(1023&u))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,null==s||null==a||null==c||null==d)throw new hZ;r.push(s<<2|a>>4),64!==c&&(r.push(a<<4&240|c>>2),64!==d&&r.push(c<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class hZ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Qf=function(t){return function(t){const e=dF(t);return Rw.encodeByteArray(e,!0)}(t).replace(/\./g,"")},Yf=function(t){try{return Rw.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null},Xf=()=>{try{return function gZ(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const t=process.env.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Yf(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}},fF=t=>{var e,n;return null===(n=null===(e=Xf())||void 0===e?void 0:e.emulatorHosts)||void 0===n?void 0:n[t]},pF=t=>{const e=fF(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return"["===e[0]?[e.substring(1,n-1),r]:[e.substring(0,n),r]},gF=()=>{var t;return null===(t=Xf())||void 0===t?void 0:t.config},mF=t=>{var e;return null===(e=Xf())||void 0===e?void 0:e[`_${t}`]};class Jf{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,r))}}}function yF(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Qf(JSON.stringify({alg:"none",type:"JWT"})),Qf(JSON.stringify(o)),""].join(".")}function St(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Nw(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function to(){try{return"object"==typeof indexedDB}catch{return!1}}function rl(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(n){e(n)}})}function kw(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class qn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,qn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,$r.prototype.create)}}class $r{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function CZ(t,e){return t.replace(bZ,(n,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new qn(i,`${this.serviceName}: ${o} (${i}).`,r)}}const bZ=/\{\$([^}]+)}/g;function ep(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(vF(s)&&vF(o)){if(!ep(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function vF(t){return null!==t&&"object"==typeof t}function tp(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}class AZ{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(void 0===e&&void 0===n&&void 0===r)throw new Error("Missing Observer.");i=function MZ(t,e){if("object"!=typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"==typeof t[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:n,complete:r},void 0===i.next&&(i.next=Pw),void 0===i.error&&(i.error=Pw),void 0===i.complete&&(i.complete=Pw);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Pw(){}const xZ=1e3,RZ=2,NZ=144e5,kZ=.5;function Fw(t,e=xZ,n=RZ){const r=e*Math.pow(n,t),i=Math.round(kZ*r*(Math.random()-.5)*2);return Math.min(NZ,r+i)}function _r(t){return t&&t._delegate?t._delegate:t}class $t{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const no="[DEFAULT]";class OZ{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Jf;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(n=e?.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function LZ(t){return"EAGER"===t.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:no})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=no){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return g(function*(){const n=Array.from(e.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=no){return this.instances.has(e)}getOptions(e=no){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(t=e,t===no?void 0:t),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var t;return r||null}normalizeInstanceIdentifier(e=no){return this.component?this.component.multipleInstances?e:no:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class VZ{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new OZ(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}const Lw=[];var Y=(()=>((Y=Y||{})[Y.DEBUG=0]="DEBUG",Y[Y.VERBOSE=1]="VERBOSE",Y[Y.INFO=2]="INFO",Y[Y.WARN=3]="WARN",Y[Y.ERROR=4]="ERROR",Y[Y.SILENT=5]="SILENT",Y))();const wF={debug:Y.DEBUG,verbose:Y.VERBOSE,info:Y.INFO,warn:Y.WARN,error:Y.ERROR,silent:Y.SILENT},UZ=Y.INFO,BZ={[Y.DEBUG]:"log",[Y.VERBOSE]:"log",[Y.INFO]:"info",[Y.WARN]:"warn",[Y.ERROR]:"error"},$Z=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=BZ[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class za{constructor(e){this.name=e,this._logLevel=UZ,this._logHandler=$Z,this._userLogHandler=null,Lw.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Y))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?wF[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Y.DEBUG,...e),this._logHandler(this,Y.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Y.VERBOSE,...e),this._logHandler(this,Y.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Y.INFO,...e),this._logHandler(this,Y.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Y.WARN,...e),this._logHandler(this,Y.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Y.ERROR,...e),this._logHandler(this,Y.ERROR,...e)}}const jZ=(t,e)=>e.some(n=>t instanceof n);let IF,EF;const DF=new WeakMap,Vw=new WeakMap,CF=new WeakMap,Uw=new WeakMap,Bw=new WeakMap;let $w={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return Vw.get(t);if("objectStoreNames"===e)return t.objectStoreNames||CF.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return rs(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function QZ(t){return"function"==typeof t?function KZ(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function GZ(){return EF||(EF=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(jw(this),e),rs(DF.get(this))}:function(...e){return rs(t.apply(jw(this),e))}:function(e,...n){const r=t.call(jw(this),e,...n);return CF.set(r,e.sort?e.sort():[e]),rs(r)}}(t):(t instanceof IDBTransaction&&function qZ(t){if(Vw.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Vw.set(t,e)}(t),jZ(t,function HZ(){return IF||(IF=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,$w):t)}function rs(t){if(t instanceof IDBRequest)return function zZ(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(rs(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&DF.set(n,t)}).catch(()=>{}),Bw.set(e,t),e}(t);if(Uw.has(t))return Uw.get(t);const e=QZ(t);return e!==t&&(Uw.set(t,e),Bw.set(e,t)),e}const jw=t=>Bw.get(t),XZ=["get","getKey","getAll","getAllKeys","count"],JZ=["put","add","delete","clear"],Hw=new Map;function bF(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(Hw.get(e))return Hw.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=JZ.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!XZ.includes(n))return;const s=function(){var o=g(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[n](...u),i&&c.done]))[0]});return function(u){return o.apply(this,arguments)}}();return Hw.set(e,s),s}!function WZ(t){$w=t($w)}(t=>({...t,get:(e,n,r)=>bF(e,n)||t.get(e,n,r),has:(e,n)=>!!bF(e,n)||t.has(e,n)}));class ZZ{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function eee(t){const e=t.getComponent();return"VERSION"===e?.type}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const Gw="@firebase/app",ro=new za("@firebase/app"),np="[DEFAULT]",Tee={[Gw]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},io=new Map,rp=new Map;function See(t,e){try{t.container.addComponent(e)}catch(n){ro.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function tn(t){const e=t.name;if(rp.has(e))return ro.debug(`There were multiple attempts to register component ${e}.`),!1;rp.set(e,t);for(const n of io.values())See(n,t);return!0}function so(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}const Ci=new $r("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Mee{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new $t("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ci.create("app-deleted",{appName:this._name})}}const is="9.22.1";function SF(t,e={}){let n=t;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:np,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw Ci.create("bad-app-name",{appName:String(i)});if(n||(n=gF()),!n)throw Ci.create("no-options");const s=io.get(i);if(s){if(ep(n,s.options)&&ep(r,s.config))return s;throw Ci.create("duplicate-app",{appName:i})}const o=new VZ(i);for(const u of rp.values())o.addComponent(u);const a=new Mee(n,r,o);return io.set(i,a),a}function ip(t=np){const e=io.get(t);if(!e&&t===np&&gF())return SF();if(!e)throw Ci.create("no-app",{appName:t});return e}function AF(){return Array.from(io.values())}function Ne(t,e,n){var r;let i=null!==(r=Tee[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void ro.warn(a.join(" "))}tn(new $t(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const xee="firebase-heartbeat-database",Ree=1,il="firebase-heartbeat-store";let qw=null;function MF(){return qw||(qw=function YZ(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=rs(o);return r&&o.addEventListener("upgradeneeded",u=>{r(rs(o.result),u.oldVersion,u.newVersion,rs(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}(xee,Ree,{upgrade:(t,e)=>{0===e&&t.createObjectStore(il)}}).catch(t=>{throw Ci.create("idb-open",{originalErrorMessage:t.message})})),qw}function Ww(){return(Ww=g(function*(t){try{return yield(yield MF()).transaction(il).objectStore(il).get(RF(t))}catch(e){if(e instanceof qn)ro.warn(e.message);else{const n=Ci.create("idb-get",{originalErrorMessage:e?.message});ro.warn(n.message)}}})).apply(this,arguments)}function xF(t,e){return Kw.apply(this,arguments)}function Kw(){return(Kw=g(function*(t,e){try{const r=(yield MF()).transaction(il,"readwrite");yield r.objectStore(il).put(e,RF(t)),yield r.done}catch(n){if(n instanceof qn)ro.warn(n.message);else{const r=Ci.create("idb-set",{originalErrorMessage:n?.message});ro.warn(r.message)}}})).apply(this,arguments)}function RF(t){return`${t.name}!${t.options.appId}`}class Oee{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Lee(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return g(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=NF();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(s=>s.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return g(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const n=NF(),{heartbeatsToSend:r,unsentEntries:i}=function Fee(t,e=1024){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),kF(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),kF(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=Qf(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function NF(){return(new Date).toISOString().substring(0,10)}class Lee{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return g(function*(){return!!to()&&rl().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return g(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function Nee(t){return Ww.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var n=this;return g(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return xF(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var n=this;return g(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return xF(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function kF(t){return Qf(JSON.stringify({version:2,heartbeats:t})).length}!function Vee(t){tn(new $t("platform-logger",e=>new ZZ(e),"PRIVATE")),tn(new $t("heartbeat",e=>new Oee(e),"PRIVATE")),Ne(Gw,"0.9.11",t),Ne(Gw,"0.9.11","esm2017"),Ne("fire-js","")}(""),Ne("firebase","9.22.1","app");const $ee=(t,e)=>e.some(n=>t instanceof n);let PF,OF;const FF=new WeakMap,Qw=new WeakMap,LF=new WeakMap,Yw=new WeakMap,Xw=new WeakMap;let Jw={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return Qw.get(t);if("objectStoreNames"===e)return t.objectStoreNames||LF.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ss(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function Kee(t){return"function"==typeof t?function Wee(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Hee(){return OF||(OF=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(Zw(this),e),ss(FF.get(this))}:function(...e){return ss(t.apply(Zw(this),e))}:function(e,...n){const r=t.call(Zw(this),e,...n);return LF.set(r,e.sort?e.sort():[e]),ss(r)}}(t):(t instanceof IDBTransaction&&function zee(t){if(Qw.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Qw.set(t,e)}(t),$ee(t,function jee(){return PF||(PF=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,Jw):t)}function ss(t){if(t instanceof IDBRequest)return function Gee(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(ss(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&FF.set(n,t)}).catch(()=>{}),Xw.set(e,t),e}(t);if(Yw.has(t))return Yw.get(t);const e=Kee(t);return e!==t&&(Yw.set(t,e),Xw.set(e,t)),e}const Zw=t=>Xw.get(t),Yee=["get","getKey","getAll","getAllKeys","count"],Xee=["put","add","delete","clear"],eI=new Map;function VF(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(eI.get(e))return eI.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Xee.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Yee.includes(n))return;const s=function(){var o=g(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[n](...u),i&&c.done]))[0]});return function(u){return o.apply(this,arguments)}}();return eI.set(e,s),s}!function qee(t){Jw=t(Jw)}(t=>({...t,get:(e,n,r)=>VF(e,n)||t.get(e,n,r),has:(e,n)=>!!VF(e,n)||t.has(e,n)}));const UF="@firebase/installations",tI="0.6.4",BF=1e4,$F=`w:${tI}`,jF="FIS_v2",Jee="https://firebaseinstallations.googleapis.com/v1",Zee=36e5,bi=new $r("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function HF(t){return t instanceof qn&&t.code.includes("request-failed")}function nI({projectId:t}){return`${Jee}/projects/${t}/installations`}function GF(t){return{token:t.token,requestStatus:2,expiresIn:rte(t.expiresIn),creationTime:Date.now()}}function rI(t,e){return iI.apply(this,arguments)}function iI(){return(iI=g(function*(t,e){const r=(yield e.json()).error;return bi.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function zF({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function sI(t){return oI.apply(this,arguments)}function oI(){return(oI=g(function*(t){const e=yield t();return e.status>=500&&e.status<600?t():e})).apply(this,arguments)}function rte(t){return Number(t.replace("s","000"))}function aI(){return(aI=g(function*({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=nI(t),i=zF(t),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({fid:n,authVersion:jF,appId:t.appId,sdkVersion:$F})},u=yield sI(()=>fetch(r,a));if(u.ok){const c=yield u.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:GF(c.authToken)}}throw yield rI("Create Installation",u)})).apply(this,arguments)}function WF(t){return new Promise(e=>{setTimeout(e,t)})}const ate=/^[cdef][\w-]{21}$/,uI="";function ute(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=function cte(t){return function ote(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}(t).substr(0,22)}(t);return ate.test(n)?n:uI}catch{return uI}}function qa(t){return`${t.appName}!${t.appId}`}const Wa=new Map;function KF(t,e){const n=qa(t);QF(n,e),function hte(t,e){const n=function YF(){return!oo&&"BroadcastChannel"in self&&(oo=new BroadcastChannel("[Firebase] FID Change"),oo.onmessage=t=>{QF(t.data.key,t.data.fid)}),oo}();n&&n.postMessage({key:t,fid:e}),function XF(){0===Wa.size&&oo&&(oo.close(),oo=null)}()}(n,e)}function QF(t,e){const n=Wa.get(t);if(n)for(const r of n)r(e)}let oo=null;const fte="firebase-installations-database",pte=1,ao="firebase-installations-store";let cI=null;function lI(){return cI||(cI=function Qee(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=ss(o);return r&&o.addEventListener("upgradeneeded",u=>{r(ss(o.result),u.oldVersion,u.newVersion,ss(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}(fte,pte,{upgrade:(t,e)=>{0===e&&t.createObjectStore(ao)}})),cI}function sp(t,e){return dI.apply(this,arguments)}function dI(){return(dI=g(function*(t,e){const n=qa(t),i=(yield lI()).transaction(ao,"readwrite"),s=i.objectStore(ao),o=yield s.get(n);return yield s.put(e,n),yield i.done,(!o||o.fid!==e.fid)&&KF(t,e.fid),e})).apply(this,arguments)}function hI(t){return fI.apply(this,arguments)}function fI(){return(fI=g(function*(t){const e=qa(t),r=(yield lI()).transaction(ao,"readwrite");yield r.objectStore(ao).delete(e),yield r.done})).apply(this,arguments)}function sl(t,e){return pI.apply(this,arguments)}function pI(){return(pI=g(function*(t,e){const n=qa(t),i=(yield lI()).transaction(ao,"readwrite"),s=i.objectStore(ao),o=yield s.get(n),a=e(o);return void 0===a?yield s.delete(n):yield s.put(a,n),yield i.done,a&&(!o||o.fid!==a.fid)&&KF(t,a.fid),a})).apply(this,arguments)}function gI(t){return mI.apply(this,arguments)}function mI(){return mI=g(function*(t){let e;const n=yield sl(t.appConfig,r=>{const i=function gte(t){return ZF(t||{fid:ute(),registrationStatus:0})}(r),s=function mte(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(bi.create("app-offline"))};const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function yte(t,e){return yI.apply(this,arguments)}(t,n);return{installationEntry:n,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:_te(t)}:{installationEntry:e}}(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===uI?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}}),mI.apply(this,arguments)}function yI(){return yI=g(function*(t,e){try{const n=yield function ste(t,e){return aI.apply(this,arguments)}(t,e);return sp(t.appConfig,n)}catch(n){throw HF(n)&&409===n.customData.serverCode?yield hI(t.appConfig):yield sp(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}),yI.apply(this,arguments)}function _te(t){return _I.apply(this,arguments)}function _I(){return(_I=g(function*(t){let e=yield JF(t.appConfig);for(;1===e.registrationStatus;)yield WF(100),e=yield JF(t.appConfig);if(0===e.registrationStatus){const{installationEntry:n,registrationPromise:r}=yield gI(t);return r||n}return e})).apply(this,arguments)}function JF(t){return sl(t,e=>{if(!e)throw bi.create("installation-not-found");return ZF(e)})}function ZF(t){return function vte(t){return 1===t.registrationStatus&&t.registrationTime+BF<Date.now()}(t)?{fid:t.fid,registrationStatus:0}:t}function vI(){return(vI=g(function*({appConfig:t,heartbeatServiceProvider:e},n){const r=function Ite(t,{fid:e}){return`${nI(t)}/${e}/authTokens:generate`}(t,n),i=function qF(t,{refreshToken:e}){const n=zF(t);return n.append("Authorization",function ite(t){return`${jF} ${t}`}(e)),n}(t,n),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:$F,appId:t.appId}})},u=yield sI(()=>fetch(r,a));if(u.ok)return GF(yield u.json());throw yield rI("Generate Auth Token",u)})).apply(this,arguments)}function wI(t){return II.apply(this,arguments)}function II(){return II=g(function*(t,e=!1){let n;const r=yield sl(t.appConfig,s=>{if(!tL(s))throw bi.create("not-registered");const o=s.authToken;if(!e&&function Cte(t){return 2===t.requestStatus&&!function bte(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+Zee}(t)}(o))return s;if(1===o.requestStatus)return n=function Ete(t,e){return EI.apply(this,arguments)}(t,e),s;{if(!navigator.onLine)throw bi.create("app-offline");const a=function Tte(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}(s);return n=function Dte(t,e){return DI.apply(this,arguments)}(t,a),a}});return n?yield n:r.authToken}),II.apply(this,arguments)}function EI(){return(EI=g(function*(t,e){let n=yield eL(t.appConfig);for(;1===n.authToken.requestStatus;)yield WF(100),n=yield eL(t.appConfig);const r=n.authToken;return 0===r.requestStatus?wI(t,e):r})).apply(this,arguments)}function eL(t){return sl(t,e=>{if(!tL(e))throw bi.create("not-registered");return function Ste(t){return 1===t.requestStatus&&t.requestTime+BF<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function DI(){return DI=g(function*(t,e){try{const n=yield function wte(t,e){return vI.apply(this,arguments)}(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return yield sp(t.appConfig,r),n}catch(n){if(!HF(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield sp(t.appConfig,r)}else yield hI(t.appConfig);throw n}}),DI.apply(this,arguments)}function tL(t){return void 0!==t&&2===t.registrationStatus}function CI(){return(CI=g(function*(t){const e=t,{installationEntry:n,registrationPromise:r}=yield gI(e);return r?r.catch(console.error):wI(e).catch(console.error),n.fid})).apply(this,arguments)}function bI(){return bI=g(function*(t,e=!1){const n=t;return yield function xte(t){return TI.apply(this,arguments)}(n),(yield wI(n,e)).token}),bI.apply(this,arguments)}function TI(){return(TI=g(function*(t){const{registrationPromise:e}=yield gI(t);e&&(yield e)})).apply(this,arguments)}function MI(t){return bi.create("missing-app-config-values",{valueName:t})}const nL="installations",Ote=t=>{const e=t.getProvider("app").getImmediate(),n=function kte(t){if(!t||!t.options)throw MI("App Configuration");if(!t.name)throw MI("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw MI(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e);return{app:e,appConfig:n,heartbeatServiceProvider:so(e,"heartbeat"),_delete:()=>Promise.resolve()}},Fte=t=>{const n=so(t.getProvider("app").getImmediate(),nL).getImmediate();return{getId:()=>function Ate(t){return CI.apply(this,arguments)}(n),getToken:i=>function Mte(t){return bI.apply(this,arguments)}(n,i)}};(function Lte(){tn(new $t(nL,Ote,"PUBLIC")),tn(new $t("installations-internal",Fte,"PRIVATE"))})(),Ne(UF,tI),Ne(UF,tI,"esm2017");const xI="@firebase/remote-config",xn=new $r("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Kte{constructor(e,n,r,i){this.client=e,this.storage=n,this.storageCache=r,this.logger=i}isCachedDataFresh(e,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-n,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var n=this;return g(function*(){const[r,i]=yield Promise.all([n.storage.getLastSuccessfulFetchTimestampMillis(),n.storage.getLastSuccessfulFetchResponse()]);if(i&&n.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const s=yield n.client.fetch(e),o=[n.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===s.status&&o.push(n.storage.setLastSuccessfulFetchResponse(s)),yield Promise.all(o),s})()}}function Qte(t=navigator){return t.languages&&t.languages[0]||t.language}class Yte{constructor(e,n,r,i,s,o){this.firebaseInstallations=e,this.sdkVersion=n,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=o}fetch(e){var n=this;return g(function*(){const[r,i]=yield Promise.all([n.firebaseInstallations.getId(),n.firebaseInstallations.getToken()]),o=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${n.projectId}/namespaces/${n.namespace}:fetch?key=${n.apiKey}`,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},u={sdk_version:n.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:n.appId,language_code:Qte()},c={method:"POST",headers:a,body:JSON.stringify(u)},l=fetch(o,c),d=new Promise((v,_)=>{e.signal.addEventListener(()=>{const E=new Error("The operation was aborted.");E.name="AbortError",_(E)})});let h;try{yield Promise.race([l,d]),h=yield l}catch(v){let _="fetch-client-network";throw"AbortError"===v?.name&&(_="fetch-timeout"),xn.create(_,{originalErrorMessage:v?.message})}let f=h.status;const p=h.headers.get("ETag")||void 0;let m,y;if(200===h.status){let v;try{v=yield h.json()}catch(_){throw xn.create("fetch-client-parse",{originalErrorMessage:_?.message})}m=v.entries,y=v.state}if("INSTANCE_STATE_UNSPECIFIED"===y?f=500:"NO_CHANGE"===y?f=304:("NO_TEMPLATE"===y||"EMPTY_CONFIG"===y)&&(m={}),304!==f&&200!==f)throw xn.create("fetch-status",{httpStatus:f});return{status:f,eTag:p,config:m}})()}}class Zte{constructor(e,n){this.client=e,this.storage=n}fetch(e){var n=this;return g(function*(){const r=(yield n.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return n.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:n,backoffCount:r}){var i=this;return g(function*(){yield function Xte(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(xn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,n);try{const s=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),s}catch(s){if(!function Jte(t){if(!(t instanceof qn&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(s))throw s;const o={throttleEndTimeMillis:Date.now()+Fw(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(o),i.attemptFetch(e,o)}})()}}class nne{constructor(e,n,r,i,s){this.app=e,this._client=n,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function ap(t,e){const n=t.target.error||void 0;return xn.create(e,{originalErrorMessage:n&&n?.message})}const uo="app_namespace_store";class one{constructor(e,n,r,i=function sne(){return new Promise((t,e)=>{try{const n=indexedDB.open("firebase_remote_config",1);n.onerror=r=>{e(ap(r,"storage-open"))},n.onsuccess=r=>{t(r.target.result)},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(uo,{keyPath:"compositeKey"})}}catch(n){e(xn.create("storage-open",{originalErrorMessage:n?.message}))}})}()){this.appId=e,this.appName=n,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var n=this;return g(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([uo],"readonly").objectStore(uo),u=n.createCompositeKey(e);try{const c=a.get(u);c.onerror=l=>{s(ap(l,"storage-get"))},c.onsuccess=l=>{const d=l.target.result;i(d?d.value:void 0)}}catch(c){s(xn.create("storage-get",{originalErrorMessage:c?.message}))}})})()}set(e,n){var r=this;return g(function*(){const i=yield r.openDbPromise;return new Promise((s,o)=>{const u=i.transaction([uo],"readwrite").objectStore(uo),c=r.createCompositeKey(e);try{const l=u.put({compositeKey:c,value:n});l.onerror=d=>{o(ap(d,"storage-set"))},l.onsuccess=()=>{s()}}catch(l){o(xn.create("storage-set",{originalErrorMessage:l?.message}))}})})()}delete(e){var n=this;return g(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([uo],"readwrite").objectStore(uo),u=n.createCompositeKey(e);try{const c=a.delete(u);c.onerror=l=>{s(ap(l,"storage-delete"))},c.onsuccess=()=>{i()}}catch(c){s(xn.create("storage-delete",{originalErrorMessage:c?.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class ane{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return g(function*(){const n=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),s=yield n;s&&(e.lastFetchStatus=s);const o=yield r;o&&(e.lastSuccessfulFetchTimestampMillis=o);const a=yield i;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function cne(){return OI.apply(this,arguments)}function OI(){return(OI=g(function*(){if(!to())return!1;try{return yield rl()}catch{return!1}})).apply(this,arguments)}!function une(){tn(new $t("remote-config",function t(e,{instanceIdentifier:n}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw xn.create("registration-window");if(!to())throw xn.create("indexed-db-unavailable");const{projectId:s,apiKey:o,appId:a}=r.options;if(!s)throw xn.create("registration-project-id");if(!o)throw xn.create("registration-api-key");if(!a)throw xn.create("registration-app-id");const u=new one(a,r.name,n=n||"firebase"),c=new ane(u),l=new za(xI);l.logLevel=Y.ERROR;const d=new Yte(i,is,n,s,o,a),h=new Zte(d,u),f=new Kte(h,u,c,l),p=new nne(r,f,c,u,l);return function zte(t){const e=_r(t);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(p),p},"PUBLIC").setMultipleInstances(!0)),Ne(xI,"0.4.4"),Ne(xI,"0.4.4","esm2017")}();const lne=(t,e)=>e.some(n=>t instanceof n);let oL,aL;const uL=new WeakMap,FI=new WeakMap,cL=new WeakMap,LI=new WeakMap,VI=new WeakMap;let UI={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return FI.get(t);if("objectStoreNames"===e)return t.objectStoreNames||cL.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ti(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function yne(t){return"function"==typeof t?function mne(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function hne(){return aL||(aL=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(BI(this),e),Ti(uL.get(this))}:function(...e){return Ti(t.apply(BI(this),e))}:function(e,...n){const r=t.call(BI(this),e,...n);return cL.set(r,e.sort?e.sort():[e]),Ti(r)}}(t):(t instanceof IDBTransaction&&function pne(t){if(FI.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});FI.set(t,e)}(t),lne(t,function dne(){return oL||(oL=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,UI):t)}function Ti(t){if(t instanceof IDBRequest)return function fne(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Ti(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&uL.set(n,t)}).catch(()=>{}),VI.set(e,t),e}(t);if(LI.has(t))return LI.get(t);const e=yne(t);return e!==t&&(LI.set(t,e),VI.set(e,t)),e}const BI=t=>VI.get(t);function lL(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Ti(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Ti(o.result),u.oldVersion,u.newVersion,Ti(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}function $I(t,{blocked:e}={}){const n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",()=>e()),Ti(n).then(()=>{})}const _ne=["get","getKey","getAll","getAllKeys","count"],vne=["put","add","delete","clear"],jI=new Map;function dL(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(jI.get(e))return jI.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=vne.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!_ne.includes(n))return;const s=function(){var o=g(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[n](...u),i&&c.done]))[0]});return function(u){return o.apply(this,arguments)}}();return jI.set(e,s),s}!function gne(t){UI=t(UI)}(t=>({...t,get:(e,n,r)=>dL(e,n)||t.get(e,n,r),has:(e,n)=>!!dL(e,n)||t.has(e,n)}));const wne="/firebase-messaging-sw.js",Ine="/firebase-cloud-messaging-push-scope",hL="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Ene="https://fcmregistrations.googleapis.com/v1",fL="google.c.a.c_id",Dne="google.c.a.c_l",Cne="google.c.a.ts";var os=(()=>((os=os||{}).PUSH_RECEIVED="push-received",os.NOTIFICATION_CLICKED="notification-clicked",os))();function Si(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Tne(t){const n=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}const HI="fcm_token_details_db",Sne=5,pL="fcm_token_object_Store";function GI(){return GI=g(function*(t){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(s=>s.name).includes(HI))return null;let e=null;return(yield lL(HI,Sne,{upgrade:(r=g(function*(i,s,o,a){var u;if(s<2||!i.objectStoreNames.contains(pL))return;const c=a.objectStore(pL),l=yield c.index("fcmSenderId").get(t);if(yield c.clear(),l)if(2===s){const d=l;if(!d.auth||!d.p256dh||!d.endpoint)return;e={token:d.fcmToken,createTime:null!==(u=d.createTime)&&void 0!==u?u:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:"string"==typeof d.vapidKey?d.vapidKey:Si(d.vapidKey)}}}else if(3===s){const d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Si(d.auth),p256dh:Si(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Si(d.vapidKey)}}}else if(4===s){const d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Si(d.auth),p256dh:Si(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Si(d.vapidKey)}}}}),function(s,o,a,u){return r.apply(this,arguments)})})).close(),yield $I(HI),yield $I("fcm_vapid_details_db"),yield $I("undefined"),function Mne(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return"number"==typeof t.createTime&&t.createTime>0&&"string"==typeof t.token&&t.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}(e)?e:null;var r}),GI.apply(this,arguments)}const xne="firebase-messaging-database",Rne=1,co="firebase-messaging-store";let zI=null;function qI(){return zI||(zI=lL(xne,Rne,{upgrade:(t,e)=>{0===e&&t.createObjectStore(co)}})),zI}function gL(t){return WI.apply(this,arguments)}function WI(){return WI=g(function*(t){const e=XI(t),r=yield(yield qI()).transaction(co).objectStore(co).get(e);if(r)return r;{const i=yield function Ane(t){return GI.apply(this,arguments)}(t.appConfig.senderId);if(i)return yield KI(t,i),i}}),WI.apply(this,arguments)}function KI(t,e){return QI.apply(this,arguments)}function QI(){return(QI=g(function*(t,e){const n=XI(t),i=(yield qI()).transaction(co,"readwrite");return yield i.objectStore(co).put(e,n),yield i.done,e})).apply(this,arguments)}function YI(){return(YI=g(function*(t){const e=XI(t),r=(yield qI()).transaction(co,"readwrite");yield r.objectStore(co).delete(e),yield r.done})).apply(this,arguments)}function XI({appConfig:t}){return t.appId}const jt=new $r("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Pne(t,e){return JI.apply(this,arguments)}function JI(){return(JI=g(function*(t,e){const n=yield nE(t),r=yL(e),i={method:"POST",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(tE(t.appConfig),i)).json()}catch(o){throw jt.create("token-subscribe-failed",{errorInfo:o?.toString()})}if(s.error)throw jt.create("token-subscribe-failed",{errorInfo:s.error.message});if(!s.token)throw jt.create("token-subscribe-no-token");return s.token})).apply(this,arguments)}function ZI(){return(ZI=g(function*(t,e){const n=yield nE(t),r=yL(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(`${tE(t.appConfig)}/${e.token}`,i)).json()}catch(o){throw jt.create("token-update-failed",{errorInfo:o?.toString()})}if(s.error)throw jt.create("token-update-failed",{errorInfo:s.error.message});if(!s.token)throw jt.create("token-update-no-token");return s.token})).apply(this,arguments)}function mL(t,e){return eE.apply(this,arguments)}function eE(){return(eE=g(function*(t,e){const r={method:"DELETE",headers:yield nE(t)};try{const s=yield(yield fetch(`${tE(t.appConfig)}/${e}`,r)).json();if(s.error)throw jt.create("token-unsubscribe-failed",{errorInfo:s.error.message})}catch(i){throw jt.create("token-unsubscribe-failed",{errorInfo:i?.toString()})}})).apply(this,arguments)}function tE({projectId:t}){return`${Ene}/projects/${t}/registrations`}function nE(t){return rE.apply(this,arguments)}function rE(){return(rE=g(function*({appConfig:t,installations:e}){const n=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})})).apply(this,arguments)}function yL({p256dh:t,auth:e,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:e,p256dh:t}};return r!==hL&&(i.web.applicationPubKey=r),i}const Fne=6048e5;function iE(){return iE=g(function*(t){const e=yield function Une(t,e){return uE.apply(this,arguments)}(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:Si(e.getKey("auth")),p256dh:Si(e.getKey("p256dh"))},r=yield gL(t.firebaseDependencies);if(r){if(function Bne(t,e){return e.vapidKey===t.vapidKey&&e.endpoint===t.endpoint&&e.auth===t.auth&&e.p256dh===t.p256dh}(r.subscriptionOptions,n))return Date.now()>=r.createTime+Fne?function Vne(t,e){return oE.apply(this,arguments)}(t,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{yield mL(t.firebaseDependencies,r.token)}catch(i){console.warn(i)}return vL(t.firebaseDependencies,n)}return vL(t.firebaseDependencies,n)}),iE.apply(this,arguments)}function sE(){return sE=g(function*(t){const e=yield gL(t.firebaseDependencies);e&&(yield mL(t.firebaseDependencies,e.token),yield function Nne(t){return YI.apply(this,arguments)}(t.firebaseDependencies));const n=yield t.swRegistration.pushManager.getSubscription();return!n||n.unsubscribe()}),sE.apply(this,arguments)}function oE(){return oE=g(function*(t,e){try{const n=yield function One(t,e){return ZI.apply(this,arguments)}(t.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return yield KI(t.firebaseDependencies,r),n}catch(n){throw yield function _L(t){return sE.apply(this,arguments)}(t),n}}),oE.apply(this,arguments)}function vL(t,e){return aE.apply(this,arguments)}function aE(){return(aE=g(function*(t,e){const r={token:yield Pne(t,e),createTime:Date.now(),subscriptionOptions:e};return yield KI(t,r),r.token})).apply(this,arguments)}function uE(){return(uE=g(function*(t,e){return(yield t.pushManager.getSubscription())||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Tne(e)})})).apply(this,arguments)}function wL(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return function $ne(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const r=e.notification.body;r&&(t.notification.body=r);const i=e.notification.image;i&&(t.notification.image=i);const s=e.notification.icon;s&&(t.notification.icon=s)}(e,t),function jne(t,e){e.data&&(t.data=e.data)}(e,t),function Hne(t,e){var n,r,i,s,o;if(!(e.fcmOptions||null!==(n=e.notification)&&void 0!==n&&n.click_action))return;t.fcmOptions={};const a=null!==(i=null===(r=e.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(s=e.notification)||void 0===s?void 0:s.click_action;a&&(t.fcmOptions.link=a);const u=null===(o=e.fcmOptions)||void 0===o?void 0:o.analytics_label;u&&(t.fcmOptions.analyticsLabel=u)}(e,t),e}function IL(t,e){const n=[];for(let r=0;r<t.length;r++)n.push(t.charAt(r)),r<e.length&&n.push(e.charAt(r));return n.join("")}function cE(t){return jt.create("missing-app-config-values",{valueName:t})}IL("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),IL("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class qne{constructor(e,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function zne(t){if(!t||!t.options)throw cE("App Configuration Object");if(!t.name)throw cE("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const r of e)if(!n[r])throw cE(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}function lE(){return(lE=g(function*(t){try{t.swRegistration=yield navigator.serviceWorker.register(wne,{scope:Ine}),t.swRegistration.update().catch(()=>{})}catch(e){throw jt.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}})).apply(this,arguments)}function dE(){return(dE=g(function*(t,e){if(!e&&!t.swRegistration&&(yield function EL(t){return lE.apply(this,arguments)}(t)),e||!t.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw jt.create("invalid-sw-registration");t.swRegistration=e}})).apply(this,arguments)}function hE(){return(hE=g(function*(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=hL)})).apply(this,arguments)}function fE(){return fE=g(function*(t,e){if(!navigator)throw jt.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw jt.create("permission-blocked");return yield function Kne(t,e){return hE.apply(this,arguments)}(t,e?.vapidKey),yield function Wne(t,e){return dE.apply(this,arguments)}(t,e?.serviceWorkerRegistration),function Lne(t){return iE.apply(this,arguments)}(t)}),fE.apply(this,arguments)}function pE(){return(pE=g(function*(t,e,n){const r=function Yne(t){switch(t){case os.NOTIFICATION_CLICKED:return"notification_open";case os.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(e);(yield t.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[fL],message_name:n[Dne],message_time:n[Cne],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function gE(){return gE=g(function*(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===os.PUSH_RECEIVED&&("function"==typeof t.onMessageHandler?t.onMessageHandler(wL(n)):t.onMessageHandler.next(wL(n)));const r=n.data;(function Gne(t){return"object"==typeof t&&!!t&&fL in t})(r)&&"1"===r["google.c.a.e"]&&(yield function Qne(t,e,n){return pE.apply(this,arguments)}(t,n.messageType,r))}),gE.apply(this,arguments)}const CL="@firebase/messaging",Jne=t=>{const e=new qne(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>function Xne(t,e){return gE.apply(this,arguments)}(e,n)),e},Zne=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:r=>function DL(t,e){return fE.apply(this,arguments)}(e,r)}};function TL(){return mE.apply(this,arguments)}function mE(){return(mE=g(function*(){try{yield rl()}catch{return!1}return typeof window<"u"&&to()&&kw()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function ere(){tn(new $t("messaging",Jne,"PUBLIC")),tn(new $t("messaging-internal",Zne,"PRIVATE")),Ne(CL,"0.12.4"),Ne(CL,"0.12.4","esm2017")}();const up="analytics",rre="firebase_id",ire="origin",sre=6e4,ore="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",vE="https://www.googletagmanager.com/gtag/js",At=new za("@firebase/analytics"),fn=new $r("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function ure(t){if(!t.startsWith(vE)){const e=fn.create("invalid-gtag-resource",{gtagURL:t});return At.warn(e.message),""}return t}function SL(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function wE(){return(wE=g(function*(t,e,n,r,i,s){const o=r[i];try{if(o)yield e[o];else{const u=(yield SL(n)).find(c=>c.measurementId===i);u&&(yield e[u.appId])}}catch(a){At.error(a)}t("config",i,s)})).apply(this,arguments)}function IE(){return(IE=g(function*(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=yield SL(n);for(const u of o){const c=a.find(d=>d.measurementId===u),l=c&&e[c.appId];if(!l){s=[];break}s.push(l)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),t("event",r,i||{})}catch(s){At.error(s)}})).apply(this,arguments)}const yre=30,AL=new class vre{constructor(e={},n=1e3){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function wre(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function EE(){return(EE=g(function*(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:wre(r)},s=ore.replace("{app-id}",n),o=yield fetch(s,i);if(200!==o.status&&304!==o.status){let a="";try{const u=yield o.json();null!==(e=u.error)&&void 0!==e&&e.message&&(a=u.error.message)}catch{}throw fn.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()})).apply(this,arguments)}function DE(){return(DE=g(function*(t,e=AL,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw fn.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw fn.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new bre;return setTimeout(g(function*(){a.abort()}),void 0!==n?n:sre),ML({appId:r,apiKey:i,measurementId:s},o,a,e)})).apply(this,arguments)}function ML(t,e,n){return CE.apply(this,arguments)}function CE(){return CE=g(function*(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=AL){var s;const{appId:o,measurementId:a}=t;try{yield function Dre(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(fn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(r,e)}catch(u){if(a)return At.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u?.message}]`),{appId:o,measurementId:a};throw u}try{const u=yield function Ire(t){return EE.apply(this,arguments)}(t);return i.deleteThrottleMetadata(o),u}catch(u){const c=u;if(!function Cre(t){if(!(t instanceof qn&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(c)){if(i.deleteThrottleMetadata(o),a)return At.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c?.message}]`),{appId:o,measurementId:a};throw u}const l=503===Number(null===(s=c?.customData)||void 0===s?void 0:s.httpStatus)?Fw(n,i.intervalMillis,yre):Fw(n,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+l,backoffCount:n+1};return i.setThrottleMetadata(o,d),At.debug(`Calling attemptFetch again in ${l} millis`),ML(t,d,r,i)}}),CE.apply(this,arguments)}class bre{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let bE,NE;function TE(){return(TE=g(function*(t,e,n,r,i){if(i&&i.global)t("event",n,r);else{const s=yield e;t("event",n,Object.assign(Object.assign({},r),{send_to:s}))}})).apply(this,arguments)}function kE(){return(kE=g(function*(){if(!to())return At.warn(fn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield rl()}catch(t){return At.warn(fn.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}return!0})).apply(this,arguments)}function PE(){return PE=g(function*(t,e,n,r,i,s,o){var a;const u=function Ere(t){return DE.apply(this,arguments)}(t);u.then(f=>{n[f.measurementId]=f.appId,t.options.measurementId&&f.measurementId!==t.options.measurementId&&At.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>At.error(f)),e.push(u);const c=function Nre(){return kE.apply(this,arguments)}().then(f=>{if(f)return r.getId()}),[l,d]=yield Promise.all([u,c]);(function mre(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(vE)&&n.src.includes(t))return n;return null})(s)||function lre(t,e){const n=function cre(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}("firebase-js-sdk-policy",{createScriptURL:ure}),r=document.createElement("script"),i=`${vE}?l=${t}&id=${e}`;r.src=n?n?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}(s,l.measurementId),NE&&(i("consent","default",NE),function xL(t){NE=t}(void 0)),i("js",new Date);const h=null!==(a=o?.config)&&void 0!==a?a:{};return h[ire]="firebase",h.update=!0,null!=d&&(h[rre]=d),i("config",l.measurementId,h),bE&&(i("set",bE),function RL(t){bE=t}(void 0)),l.measurementId}),PE.apply(this,arguments)}class Pre{constructor(e){this.app=e}_delete(){return delete jr[this.app.options.appId],Promise.resolve()}}let jr={},NL=[];const kL={};let OL,Hr,cp="dataLayer",OE=!1;function Fre(t,e,n){!function Ore(){const t=[];if(Nw()&&t.push("This is a browser extension environment."),kw()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=fn.create("invalid-analytics-context",{errorInfo:e});At.warn(n.message)}}();const r=t.options.appId;if(!r)throw fn.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw fn.create("no-api-key");At.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=jr[r])throw fn.create("already-exists",{id:r});if(!OE){!function dre(t){let e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(cp);const{wrappedGtag:s,gtagCore:o}=function gre(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=function pre(t,e,n,r){function s(){return s=g(function*(o,...a){try{if("event"===o){const[u,c]=a;yield function fre(t,e,n,r,i){return IE.apply(this,arguments)}(t,e,n,u,c)}else if("config"===o){const[u,c]=a;yield function hre(t,e,n,r,i,s){return wE.apply(this,arguments)}(t,e,n,r,u,c)}else if("consent"===o){const[u]=a;t("consent","update",u)}else if("get"===o){const[u,c,l]=a;t("get",u,c,l)}else if("set"===o){const[u]=a;t("set",u)}else t(o,...a)}catch(u){At.error(u)}}),s.apply(this,arguments)}return function i(o){return s.apply(this,arguments)}}(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}(jr,NL,kL,cp,"gtag");Hr=s,OL=o,OE=!0}return jr[r]=function kre(t,e,n,r,i,s,o){return PE.apply(this,arguments)}(t,NL,kL,e,OL,cp,n),new Pre(t)}function Vre(){return FE.apply(this,arguments)}function FE(){return(FE=g(function*(){if(Nw()||!kw()||!to())return!1;try{return yield rl()}catch{return!1}})).apply(this,arguments)}const FL="@firebase/analytics";!function Bre(){tn(new $t(up,(e,{options:n})=>Fre(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n),"PUBLIC")),tn(new $t("analytics-internal",function t(e){try{const n=e.getProvider(up).getImmediate();return{logEvent:(r,i,s)=>function Ure(t,e,n,r){t=_r(t),function Tre(t,e,n,r,i){return TE.apply(this,arguments)}(Hr,jr[t.app.options.appId],e,n,r).catch(i=>At.error(i))}(n,r,i,s)}}catch(n){throw fn.create("interop-component-reg-failed",{reason:n})}},"PRIVATE")),Ne(FL,"0.10.0"),Ne(FL,"0.10.0","esm2017")}();class $re extends Fn{constructor(e,n){super()}schedule(e,n=0){return this}}const lp={setInterval(t,e,...n){const{delegate:r}=lp;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=lp;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};class VL extends $re{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return lp.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&lp.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Ho(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}const UL={now:()=>(UL.delegate||Date).now(),delegate:void 0};class ol{constructor(e,n=ol.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}ol.now=UL.now;class BL extends ol{constructor(e,n=ol.now){super(e,n),this.actions=[],this._active=!1}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}const Gre=new class Hre extends BL{}(class jre extends VL{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}}),zre=new BL(VL),al=new ga("7.6.1"),VE="__angularfire_symbol__analyticsIsSupportedValue",UE="__angularfire_symbol__analyticsIsSupported",BE="__angularfire_symbol__remoteConfigIsSupportedValue",$E="__angularfire_symbol__remoteConfigIsSupported",jE="__angularfire_symbol__messagingIsSupportedValue",HE="__angularfire_symbol__messagingIsSupported";function dp(t,e,n){if(e){if(1===e.length)return e[0];const s=e.filter(o=>o.app===n);if(1===s.length)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}globalThis[UE]||(globalThis[UE]=Vre().then(t=>globalThis[VE]=t).catch(()=>globalThis[VE]=!1)),globalThis[HE]||(globalThis[HE]=TL().then(t=>globalThis[jE]=t).catch(()=>globalThis[jE]=!1)),globalThis[$E]||(globalThis[$E]=cne().then(t=>globalThis[BE]=t).catch(()=>globalThis[BE]=!1));const hp=(t,e)=>{const n=e?[e]:AF(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r};function Ka(){}class $L{constructor(e,n=Gre){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},n,r)}}class qre{constructor(e){this.zone=e,this.task=null}call(e,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ka,{},Ka,Ka)),n.pipe(en({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let fp=(()=>{class t{constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new $L(Zone.current)),this.insideAngular=n.run(()=>new $L(Zone.current,zre)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return t.\u0275fac=function(n){return new(n||t)($(Ee))},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function lo(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}function ho(t){return lo().ngZone.run(()=>t())}function Kre(t){return lo(),function Qre(t){return function(n){return(n=n.lift(new qre(t.ngZone))).pipe(zd(t.outsideAngular),Gd(t.insideAngular))}}(lo())(t)}const Yre=(t,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),ho(()=>t.apply(void 0,r))},Qa=(t,e)=>function(){let n;const r=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof r[s]&&(e&&(n||(n=ho(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ka,{},Ka,Ka)))),r[s]=Yre(r[s],n));const i=function Wre(t){return lo().ngZone.runOutsideAngular(()=>t())}(()=>t.apply(this,r));if(!e){if(i instanceof Be){const s=lo();return i.pipe(zd(s.outsideAngular),Gd(s.insideAngular))}return ho(()=>i)}return i instanceof Be?i.pipe(Kre):i instanceof Promise?ho(()=>new Promise((s,o)=>i.then(a=>ho(()=>s(a)),a=>ho(()=>o(a))))):"function"==typeof i&&n?function(){return setTimeout(()=>{n&&"scheduled"===n.state&&n.invoke()},10),i.apply(this,arguments)}:ho(()=>i)};class fo{constructor(e){return e}}class pp{constructor(){return AF()}}const zE=new L("angularfire2._apps"),Jre={provide:fo,useFactory:function Xre(t){return t&&1===t.length?t[0]:new fo(ip())},deps:[[new yt,zE]]},Zre={provide:pp,deps:[[new yt,zE]]};function eie(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new fo(r)}}let tie=(()=>{class t{constructor(n){Ne("angularfire",al.full,"core"),Ne("angularfire",al.full,"app"),Ne("angular",cR.full,n.toString())}}return t.\u0275fac=function(n){return new(n||t)($(Qi))},t.\u0275mod=Qt({type:t}),t.\u0275inj=Lt({providers:[Jre,Zre]}),t})();function nie(t,...e){return{ngModule:tie,providers:[{provide:zE,useFactory:eie(t),multi:!0,deps:[Ee,An,fp,...e]}]}}const rie=Qa(SF,!0),qE=new Map,jL={activated:!1,tokenObservers:[]},iie={initialized:!1,enabled:!1};function Ye(t){return qE.get(t)||Object.assign({},jL)}function gp(){return iie}const WE="https://content-firebaseappcheck.googleapis.com/v1",uie="exchangeDebugToken",HL={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class lie{constructor(e,n,r,i,s){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var n=this;return g(function*(){n.stop();try{n.pending=new Jf,yield function die(t){return new Promise(e=>{setTimeout(e,t)})}(n.getNextRun(e)),n.pending.resolve(),yield n.pending.promise,n.pending=new Jf,yield n.operation(),n.pending.resolve(),yield n.pending.promise,n.process(!0).catch(()=>{})}catch(r){n.retryPolicy(r)?n.process(!1).catch(()=>{}):n.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}const Ht=new $r("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function KE(t){if(!Ye(t).activated)throw Ht.create("use-before-activation",{appName:t.name})}function _p(t,e){return YE.apply(this,arguments)}function YE(){return(YE=g(function*({url:t,body:e},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){const d=yield i.getHeartbeatsHeader();d&&(r["X-Firebase-Client"]=d)}const s={method:"POST",body:JSON.stringify(e),headers:r};let o,a;try{o=yield fetch(t,s)}catch(d){throw Ht.create("fetch-network-error",{originalErrorMessage:d?.message})}if(200!==o.status)throw Ht.create("fetch-status-error",{httpStatus:o.status});try{a=yield o.json()}catch(d){throw Ht.create("fetch-parse-error",{originalErrorMessage:d?.message})}const u=a.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw Ht.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const c=1e3*Number(u[1]),l=Date.now();return{token:a.token,expireTimeMillis:l+c,issuedAtTimeMillis:l}})).apply(this,arguments)}function GL(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${WE}/projects/${n}/apps/${r}:${uie}?key=${i}`,body:{debug_token:e}}}const gie="firebase-app-check-database",mie=1,ul="firebase-app-check-store";let vp=null;function XE(){return(XE=g(function*(t,e){const r=(yield function qL(){return vp||(vp=new Promise((t,e)=>{try{const n=indexedDB.open(gie,mie);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(Ht.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(ul,{keyPath:"compositeKey"})}}catch(n){e(Ht.create("storage-open",{originalErrorMessage:n?.message}))}}),vp)}()).transaction(ul,"readwrite"),s=r.objectStore(ul).put({compositeKey:t,value:e});return new Promise((o,a)=>{s.onsuccess=u=>{o()},r.onerror=u=>{var c;a(Ht.create("storage-set",{originalErrorMessage:null===(c=u.target.error)||void 0===c?void 0:c.message}))}})})).apply(this,arguments)}const cl=new za("@firebase/app-check");function eD(t,e){return to()?function _ie(t,e){return function WL(t,e){return XE.apply(this,arguments)}(function QL(t){return`${t.options.appId}-${t.name}`}(t),e)}(t,e).catch(n=>{cl.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function nD(){return gp().enabled}function rD(){return iD.apply(this,arguments)}function iD(){return(iD=g(function*(){const t=gp();if(t.enabled&&t.token)return t.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Cie={error:"UNKNOWN_ERROR"};function bie(t){return Rw.encodeString(JSON.stringify(t),!1)}function wp(t){return sD.apply(this,arguments)}function sD(){return(sD=g(function*(t,e=!1){const n=t.app;KE(n);const r=Ye(n);let s,i=r.token;if(i&&!Ya(i)&&(r.token=void 0,i=void 0),!i){const u=yield r.cachedTokenPromise;u&&(Ya(u)?i=u:yield eD(n,void 0))}if(!e&&i&&Ya(i))return{token:i.token};let a,o=!1;if(nD()){r.exchangeTokenPromise||(r.exchangeTokenPromise=_p(GL(n,yield rD()),t.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),o=!0);const u=yield r.exchangeTokenPromise;return yield eD(n,u),r.token=u,{token:u.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),o=!0),i=yield Ye(n).exchangeTokenPromise}catch(u){"appCheck/throttled"===u.code?cl.warn(u.message):cl.error(u),s=u}return i?s?a=Ya(i)?{token:i.token,internalError:s}:ZL(s):(a={token:i.token},r.token=i,yield eD(n,i)):a=ZL(s),o&&function JL(t,e){const n=Ye(t).tokenObservers;for(const r of n)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(n,a),a})).apply(this,arguments)}function YL(t){return oD.apply(this,arguments)}function oD(){return(oD=g(function*(t){const e=t.app;KE(e);const{provider:n}=Ye(e);if(nD()){const r=yield rD(),{token:i}=yield _p(GL(e,r),t.heartbeatServiceProvider);return{token:i}}{const{token:r}=yield n.getToken();return{token:r}}})).apply(this,arguments)}function uD(t,e){const n=Ye(t),r=n.tokenObservers.filter(i=>i.next!==e);0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function XL(t){const{app:e}=t,n=Ye(e);let r=n.tokenRefresher;r||(r=function Tie(t){const{app:e}=t;return new lie(g(function*(){let r;if(r=Ye(e).token?yield wp(t,!0):yield wp(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const n=Ye(e);if(n.token){let r=n.token.issuedAtTimeMillis+.5*(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,n.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},HL.RETRIAL_MIN_WAIT,HL.RETRIAL_MAX_WAIT)}(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function Ya(t){return t.expireTimeMillis-Date.now()>0}function ZL(t){return{token:bie(Cie),error:t}}class Sie{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=Ye(this.app);for(const n of e)uD(this.app,n.next);return Promise.resolve()}}const aV="app-check-internal";!function $ie(){tn(new $t("app-check",t=>function Aie(t,e){return new Sie(t,e)}(t.getProvider("app").getImmediate(),t.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(aV).initialize()})),tn(new $t(aV,t=>function Mie(t){return{getToken:e=>wp(t,e),getLimitedUseToken:()=>YL(t),addTokenListener:e=>function aD(t,e,n,r){const{app:i}=t,s=Ye(i);if(s.tokenObservers=[...s.tokenObservers,{next:n,error:r,type:e}],s.token&&Ya(s.token)){const a=s.token;Promise.resolve().then(()=>{n({token:a.token}),XL(t)}).catch(()=>{})}s.cachedTokenPromise.then(()=>XL(t))}(t,"INTERNAL",e),removeTokenListener:e=>uD(t.app,e)}}(t.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),Ne("@firebase/app-check","0.8.0")}();class Ep{constructor(){return hp("app-check")}}typeof window<"u"&&window;const qie=function cV(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},lV=new $r("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Dp=new za("@firebase/auth");function Cp(t,...e){Dp.logLevel<=Y.ERROR&&Dp.error(`Auth (${is}): ${t}`,...e)}function Rn(t,...e){throw fD(t,...e)}function Gr(t,...e){return fD(t,...e)}function fD(t,...e){if("string"!=typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return lV.create(t,...e)}function M(t,e,...n){if(!t)throw fD(e,...n)}function zr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Cp(e),new Error(e)}function as(t,e){t||zr(e)}function ll(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.href)||""}function hV(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}class dl{constructor(e,n){this.shortDelay=e,this.longDelay=n,as(n>e,"Short delay should be less than long delay!"),this.isMobile=function vZ(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(St())}()||function IZ(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return function Kie(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function pD(){return"http:"===hV()||"https:"===hV()}()||Nw()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function gD(t,e){as(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class fV{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void zr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void zr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void zr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Yie={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Xie=new dl(3e4,6e4);function Ge(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Xe(t,e,n,r){return mD.apply(this,arguments)}function mD(){return(mD=g(function*(t,e,n,r,i={}){return pV(t,i,g(function*(){let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=tp(Object.assign({key:t.config.apiKey},o)).slice(1),u=yield t._getAdditionalHeaders();return u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),fV.fetch()(gV(t,t.config.apiHost,n,a),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function pV(t,e,n){return yD.apply(this,arguments)}function yD(){return(yD=g(function*(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},Yie),e);try{const i=new Jie(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw hl(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[u,c]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===u)throw hl(t,"credential-already-in-use",o);if("EMAIL_EXISTS"===u)throw hl(t,"email-already-in-use",o);if("USER_DISABLED"===u)throw hl(t,"user-disabled",o);const l=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw function dV(t,e,n){const r=Object.assign(Object.assign({},qie()),{[e]:n});return new $r("auth","Firebase",r).create(e,{appName:t.name})}(t,l,c);Rn(t,l)}}catch(i){if(i instanceof qn)throw i;Rn(t,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function _D(){return(_D=g(function*(t,e,n,r,i={}){const s=yield Xe(t,e,n,r,i);return"mfaPendingCredential"in s&&Rn(t,"multi-factor-auth-required",{_serverResponse:s}),s})).apply(this,arguments)}function gV(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?gD(t.config,i):`${t.config.apiScheme}://${i}`}class Jie{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Gr(this.auth,"network-request-failed")),Xie.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function hl(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Gr(t,e,r);return i.customData._tokenResponse=n,i}function vD(){return(vD=g(function*(t,e){return Xe(t,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function ID(){return(ID=g(function*(t,e){return Xe(t,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function fl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function ED(){return(ED=g(function*(t,e=!1){const n=_r(t),r=yield n.getIdToken(e),i=bp(r);M(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:fl(DD(i.auth_time)),issuedAtTime:fl(DD(i.iat)),expirationTime:fl(DD(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})).apply(this,arguments)}function DD(t){return 1e3*Number(t)}function bp(t){const[e,n,r]=t.split(".");if(void 0===e||void 0===n||void 0===r)return Cp("JWT malformed, contained fewer than 3 sections"),null;try{const i=Yf(n);return i?JSON.parse(i):(Cp("Failed to decode base64 JWT payload"),null)}catch(i){return Cp("Caught error parsing JWT payload as JSON",i?.toString()),null}}function Mi(t,e){return CD.apply(this,arguments)}function CD(){return(CD=g(function*(t,e,n=!1){if(n)return e;try{return yield e}catch(r){throw r instanceof qn&&function ise({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})).apply(this,arguments)}class sse{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var n=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(g(function*(){yield n.iteration()}),r)}iteration(){var e=this;return g(function*(){try{yield e.user.getIdToken(!0)}catch(n){return void("auth/network-request-failed"===n?.code&&e.schedule(!0))}e.schedule()})()}}class mV{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=fl(this.lastLoginAt),this.creationTime=fl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function pl(t){return bD.apply(this,arguments)}function bD(){return bD=g(function*(t){var e;const n=t.auth,r=yield t.getIdToken(),i=yield Mi(t,function tse(t,e){return ID.apply(this,arguments)}(n,{idToken:r}));M(i?.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=null!==(e=s.providerUserInfo)&&void 0!==e&&e.length?function use(t){return t.map(e=>{var{providerId:n}=e,r=Pm(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(s.providerUserInfo):[],a=function ase(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(t.providerData,o),l=!!t.isAnonymous&&!(t.email&&s.passwordHash||a?.length),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new mV(s.createdAt,s.lastLoginAt),isAnonymous:l};Object.assign(t,d)}),bD.apply(this,arguments)}function TD(){return(TD=g(function*(t){const e=_r(t);yield pl(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function SD(){return(SD=g(function*(t,e){const n=yield pV(t,{},g(function*(){const r=tp({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=gV(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",fV.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}class gl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){M(e.idToken,"internal-error"),M(typeof e.idToken<"u","internal-error"),M(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function rse(t){const e=bp(t);return M(e,"internal-error"),M(typeof e.exp<"u","internal-error"),M(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){var r=this;return g(function*(){return M(!r.accessToken||r.refreshToken,e,"user-token-expired"),n||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,n){var r=this;return g(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function cse(t,e){return SD.apply(this,arguments)}(e,n);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new gl;return r&&(M("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(M("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(M("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new gl,this.toJSON())}_performRefresh(){return zr("not implemented")}}function us(t,e){M("string"==typeof t||typeof t>"u","internal-error",{appName:e})}class po{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Pm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new sse(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new mV(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var n=this;return g(function*(){const r=yield Mi(n,n.stsTokenManager.getToken(n.auth,e));return M(r,n.auth,"internal-error"),n.accessToken!==r&&(n.accessToken=r,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),r})()}getIdTokenResult(e){return function nse(t){return ED.apply(this,arguments)}(this,e)}reload(){return function ose(t){return TD.apply(this,arguments)}(this)}_assign(e){this!==e&&(M(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new po(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){M(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){var r=this;return g(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield pl(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return g(function*(){const n=yield e.getIdToken();return yield Mi(e,function Zie(t,e){return vD.apply(this,arguments)}(e.auth,{idToken:n})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,u,c,l;const d=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,f=null!==(s=n.phoneNumber)&&void 0!==s?s:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,m=null!==(a=n.tenantId)&&void 0!==a?a:void 0,y=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,v=null!==(c=n.createdAt)&&void 0!==c?c:void 0,_=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,{uid:E,emailVerified:A,isAnonymous:O,providerData:K,stsTokenManager:Ue}=n;M(E&&Ue,e,"internal-error");const vn=gl.fromJSON(this.name,Ue);M("string"==typeof E,e,"internal-error"),us(d,e.name),us(h,e.name),M("boolean"==typeof A,e,"internal-error"),M("boolean"==typeof O,e,"internal-error"),us(f,e.name),us(p,e.name),us(m,e.name),us(y,e.name),us(v,e.name),us(_,e.name);const ri=new po({uid:E,auth:e,email:h,emailVerified:A,displayName:d,isAnonymous:O,photoURL:p,phoneNumber:f,tenantId:m,stsTokenManager:vn,createdAt:v,lastLoginAt:_});return K&&Array.isArray(K)&&(ri.providerData=K.map(Mge=>Object.assign({},Mge))),y&&(ri._redirectEventId=y),ri}static _fromIdTokenResponse(e,n,r=!1){return g(function*(){const i=new gl;i.updateFromServerResponse(n);const s=new po({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield pl(s),s})()}}const yV=new Map;function xi(t){as(t instanceof Function,"Expected a class definition");let e=yV.get(t);return e?(as(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,yV.set(t,e),e)}const _V=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return g(function*(){return!0})()}_set(n,r){var i=this;return g(function*(){i.storage[n]=r})()}_get(n){var r=this;return g(function*(){const i=r.storage[n];return void 0===i?null:i})()}_remove(n){var r=this;return g(function*(){delete r.storage[n]})()}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})();function Tp(t,e,n){return`firebase:${t}:${e}:${n}`}class Ja{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Tp(this.userKey,i.apiKey,s),this.fullPersistenceKey=Tp("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return g(function*(){const n=yield e.persistence._get(e.fullUserKey);return n?po._fromJSON(e.auth,n):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var n=this;return g(function*(){if(n.persistence===e)return;const r=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=e,r?n.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return g(function*(){if(!n.length)return new Ja(xi(_V),e,r);const i=(yield Promise.all(n.map(function(){var c=g(function*(l){if(yield l._isAvailable())return l});return function(l){return c.apply(this,arguments)}}()))).filter(c=>c);let s=i[0]||xi(_V);const o=Tp(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const l=yield c._get(o);if(l){const d=po._fromJSON(e,l);c!==s&&(a=d),s=c;break}}catch{}const u=i.filter(c=>c._shouldAllowMigration);return s._shouldAllowMigration&&u.length?(s=u[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(function(){var c=g(function*(l){if(l!==s)try{yield l._remove(o)}catch{}});return function(l){return c.apply(this,arguments)}}())),new Ja(s,e,r)):new Ja(s,e,r)})()}}function vV(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(EV(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(wV(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(CV(e))return"Blackberry";if(bV(e))return"Webos";if(AD(e))return"Safari";if((e.includes("chrome/")||IV(e))&&!e.includes("edge/"))return"Chrome";if(DV(e))return"Android";{const r=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function wV(t=St()){return/firefox\//i.test(t)}function AD(t=St()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function IV(t=St()){return/crios\//i.test(t)}function EV(t=St()){return/iemobile/i.test(t)}function DV(t=St()){return/android/i.test(t)}function CV(t=St()){return/blackberry/i.test(t)}function bV(t=St()){return/webos/i.test(t)}function Sp(t=St()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function TV(t=St()){return Sp(t)||DV(t)||bV(t)||CV(t)||/windows phone/i.test(t)||EV(t)}function SV(t,e=[]){let n;switch(t){case"Browser":n=vV(St());break;case"Worker":n=`${vV(St())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${is}/${r}`}function AV(t,e){return xD.apply(this,arguments)}function xD(){return(xD=g(function*(t,e){return Xe(t,"GET","/v2/recaptchaConfig",Ge(t,e))})).apply(this,arguments)}function xV(t){return void 0!==t&&void 0!==t.enterprise}class RV{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>"EMAIL_PASSWORD_PROVIDER"===n.provider&&"OFF"!==n.enforcementState)}}function RD(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Gr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",function pse(){var t,e;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)})}function NV(t){return`__${t}${Math.floor(1e6*Math.random())}`}class kV{constructor(e){this.type="recaptcha-enterprise",this.auth=Mt(e)}verify(e="verify",n=!1){var r=this;return g(function*(){function s(){return s=g(function*(a){if(!n){if(null==a.tenantId&&null!=a._agentRecaptchaConfig)return a._agentRecaptchaConfig.siteKey;if(null!=a.tenantId&&void 0!==a._tenantRecaptchaConfigs[a.tenantId])return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(function(){var u=g(function*(c,l){AV(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(void 0!==d.recaptchaKey){const h=new RV(d);return null==a.tenantId?a._agentRecaptchaConfig=h:a._tenantRecaptchaConfigs[a.tenantId]=h,c(h.siteKey)}l(new Error("recaptcha Enterprise site key undefined"))}).catch(d=>{l(d)})});return function(c,l){return u.apply(this,arguments)}}())}),s.apply(this,arguments)}function o(a,u,c){const l=window.grecaptcha;xV(l)?l.enterprise.ready(()=>{l.enterprise.execute(a,{action:e}).then(d=>{u(d)}).catch(()=>{u("NO_RECAPTCHA")})}):c(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,u)=>{(function i(a){return s.apply(this,arguments)})(r.auth).then(c=>{if(!n&&xV(window.grecaptcha))o(c,a,u);else{if(typeof window>"u")return void u(new Error("RecaptchaVerifier is only supported in browser"));RD("https://www.google.com/recaptcha/enterprise.js?render="+c).then(()=>{o(c,a,u)}).catch(l=>{u(l)})}}).catch(c=>{u(c)})})})()}}class _se{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{o(e(s))}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var n=this;return g(function*(){if(n.auth.currentUser===e)return;const r=[];try{for(const i of n.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const s of r)try{s()}catch{}throw n.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}class vse{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new PV(this),this.idTokenSubscription=new PV(this),this.beforeStateQueue=new _se(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=lV,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){var r=this;return n&&(this._popupRedirectResolver=xi(n)),this._initializationPromise=this.queue(g(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield Ja.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(n),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return g(function*(){if(e._deleted)return;const n=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||n){if(e.currentUser&&n&&e.currentUser.uid===n.uid)return e._currentUser._assign(n),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(n,!0)}})()}initializeCurrentUser(e){var n=this;return g(function*(){var r;const i=yield n.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const a=null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId,u=s?._redirectEventId,c=yield n.tryRedirectSignIn(e);(!a||a===u)&&c?.user&&(s=c.user,o=!0)}if(!s)return n.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{yield n.beforeStateQueue.runMiddleware(s)}catch(a){s=i,n._popupRedirectResolver._overrideRedirectResult(n,()=>Promise.reject(a))}return s?n.reloadAndSetCurrentUserOrClear(s):n.directlySetCurrentUser(null)}return M(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===s._redirectEventId?n.directlySetCurrentUser(s):n.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(e){var n=this;return g(function*(){let r=null;try{r=yield n._popupRedirectResolver._completeRedirectFn(n,e,!0)}catch{yield n._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var n=this;return g(function*(){try{yield pl(e)}catch(r){if("auth/network-request-failed"!==r?.code)return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function Qie(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var e=this;return g(function*(){e._deleted=!0})()}updateCurrentUser(e){var n=this;return g(function*(){const r=e?_r(e):null;return r&&M(r.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(r&&r._clone(n))})()}_updateCurrentUser(e,n=!1){var r=this;return g(function*(){if(!r._deleted)return e&&M(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),n||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(g(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return g(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var n=this;return this.queue(g(function*(){yield n.assertedPersistence.setPersistence(xi(e))}))}initializeRecaptchaConfig(){var e=this;return g(function*(){const n=yield AV(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new RV(n);null==e.tenantId?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.emailPasswordEnabled&&new kV(e).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new $r("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,n){var r=this;return g(function*(){const i=yield r.getOrInitRedirectPersistenceManager(n);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var n=this;return g(function*(){if(!n.redirectPersistenceManager){const r=e&&xi(e)||n._popupRedirectResolver;M(r,n,"argument-error"),n.redirectPersistenceManager=yield Ja.create(n,[xi(r._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(e){var n=this;return g(function*(){var r,i;return n._isInitialized&&(yield n.queue(g(function*(){}))),(null===(r=n._currentUser)||void 0===r?void 0:r._redirectEventId)===e?n._currentUser:(null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?n.redirectUser:null})()}_persistUserIfCurrent(e){var n=this;return g(function*(){if(e===n.currentUser)return n.queue(g(function*(){return n.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(n=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s="function"==typeof n?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return M(o,this,"internal-error"),o.then(()=>s(this.currentUser)),"function"==typeof n?e.addObserver(n,r,i):e.addObserver(n)}directlySetCurrentUser(e){var n=this;return g(function*(){n.currentUser&&n.currentUser!==e&&n._currentUser._stopProactiveRefresh(),e&&n.isProactiveRefreshEnabled&&e._startProactiveRefresh(),n.currentUser=e,e?yield n.assertedPersistence.setCurrentUser(e):yield n.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return M(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=SV(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return g(function*(){var n;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(n=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const s=yield e._getAppCheckToken();return s&&(r["X-Firebase-AppCheck"]=s),r})()}_getAppCheckToken(){var e=this;return g(function*(){var n;const r=yield null===(n=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getToken();return r?.error&&function Wie(t,...e){Dp.logLevel<=Y.WARN&&Dp.warn(`Auth (${is}): ${t}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function Mt(t){return _r(t)}class PV{constructor(e){this.auth=e,this.observer=null,this.addObserver=function SZ(t,e){const n=new AZ(t,e);return n.subscribe.bind(n)}(n=>this.observer=n)}get next(){return M(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function OV(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function FV(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}class bse{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return zr("not implemented")}_getIdTokenResponse(e){return zr("not implemented")}_linkToIdToken(e,n){return zr("not implemented")}_getReauthenticationResolver(e){return zr("not implemented")}}function Ri(t,e){return KD.apply(this,arguments)}function KD(){return(KD=g(function*(t,e){return function Ai(t,e,n,r){return _D.apply(this,arguments)}(t,"POST","/v1/accounts:signInWithIdp",Ge(t,e))})).apply(this,arguments)}class ls{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Use extends ls{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class sr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return g(function*(){const s=yield po._fromIdTokenResponse(e,r,i),o=BV(r);return new sr({user:s,providerId:o,_tokenResponse:r,operationType:n})})()}static _forOperation(e,n,r){return g(function*(){yield e._updateTokensIfNecessary(r,!0);const i=BV(r);return new sr({user:e,providerId:i,_tokenResponse:r,operationType:n})})()}}function BV(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class Np extends qn{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Np.prototype),this.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Np(e,n,r,i)}}function $V(t,e,n,r){return("reauthenticate"===e?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw"auth/multi-factor-auth-required"===s.code?Np._fromErrorAndOperation(t,s,e,r):s})}function iC(){return(iC=g(function*(t,e,n=!1){const r=yield Mi(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return sr._forOperation(t,"link",r)})).apply(this,arguments)}function oC(){return(oC=g(function*(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=yield Mi(t,$V(r,i,e,t),n);M(s.idToken,r,"internal-error");const o=bp(s.idToken);M(o,r,"internal-error");const{sub:a}=o;return M(t.uid===a,r,"user-mismatch"),sr._forOperation(t,i,s)}catch(s){throw"auth/user-not-found"===s?.code&&Rn(r,"user-mismatch"),s}})).apply(this,arguments)}function aC(){return(aC=g(function*(t,e,n=!1){const r="signIn",i=yield $V(t,r,e),s=yield sr._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})).apply(this,arguments)}const Pp="__sak";class qV{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Pp,"1"),this.storage.removeItem(Pp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const uoe=(()=>{class t extends qV{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function soe(){const t=St();return AD(t)||Sp(t)}()&&function hse(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=TV(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key)return void this.forAllChangedKeys((a,u,c)=>{this.notifyListeners(a,c)});const i=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(i);if(n.newValue!==a)null!==n.newValue?this.storage.setItem(i,n.newValue):this.storage.removeItem(i);else if(this.localCache[i]===n.newValue&&!r)return}const s=()=>{const a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);!function dse(){return function EZ(){const t=St();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}()&&10===document.documentMode}()||o===n.newValue||n.newValue===n.oldValue?s():setTimeout(s,10)}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(n,r){var i=()=>super._set,s=this;return g(function*(){yield i().call(s,n,r),s.localCache[n]=JSON.stringify(r)})()}_get(n){var r=()=>super._get,i=this;return g(function*(){const s=yield r().call(i,n);return i.localCache[n]=JSON.stringify(s),s})()}_remove(n){var r=()=>super._remove,i=this;return g(function*(){yield r().call(i,n),delete i.localCache[n]})()}}return t.type="LOCAL",t})(),WV=(()=>{class t extends qV{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})();let loe=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){const r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;const i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){var r=this;return g(function*(){const i=n,{eventId:s,eventType:o,data:a}=i.data,u=r.handlersMap[o];if(!u?.size)return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const c=Array.from(u).map(function(){var d=g(function*(h){return h(i.origin,a)});return function(h){return d.apply(this,arguments)}}()),l=yield function coe(t){return Promise.all(t.map(function(){var e=g(function*(n){try{return{fulfilled:!0,value:yield n}}catch(r){return{fulfilled:!1,reason:r}}});return function(n){return e.apply(this,arguments)}}()))}(c);i.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:l})})()}_subscribe(n,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||0===this.handlersMap[n].size)&&delete this.handlersMap[n],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return t.receivers=[],t})();function LC(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(10*Math.random());return t+n}class doe{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){var i=this;return g(function*(){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,a;return new Promise((u,c)=>{const l=LC("",20);s.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(h){const f=h;if(f.data.eventId===l)switch(f.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(f.data.response);break;default:clearTimeout(d),clearTimeout(o),c(new Error("invalid_response"))}}},i.handlers.add(a),s.port1.addEventListener("message",a.onMessage),i.target.postMessage({eventType:e,eventId:l,data:n},[s.port2])}).finally(()=>{a&&i.removeMessageHandler(a)})})()}}function dt(){return window}function VC(){return typeof dt().WorkerGlobalScope<"u"&&"function"==typeof dt().importScripts}function UC(){return(UC=g(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const KV="firebaseLocalStorageDb",Op="firebaseLocalStorage",QV="fbase_key";class vl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Fp(t,e){return t.transaction([Op],e?"readwrite":"readonly").objectStore(Op)}function BC(){const t=indexedDB.open(KV,1);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Op,{keyPath:QV})}catch(i){n(i)}}),t.addEventListener("success",g(function*(){const r=t.result;r.objectStoreNames.contains(Op)?e(r):(r.close(),yield function yoe(){const t=indexedDB.deleteDatabase(KV);return new vl(t).toPromise()}(),e(yield BC()))}))})}function YV(t,e,n){return $C.apply(this,arguments)}function $C(){return($C=g(function*(t,e,n){const r=Fp(t,!0).put({[QV]:e,value:n});return new vl(r).toPromise()})).apply(this,arguments)}function jC(){return(jC=g(function*(t,e){const n=Fp(t,!1).get(e),r=yield new vl(n).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function XV(t,e){const n=Fp(t,!0).delete(e);return new vl(n).toPromise()}const Ioe=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var n=this;return g(function*(){return n.db||(n.db=yield BC()),n.db})()}_withRetries(n){var r=this;return g(function*(){let i=0;for(;;)try{const s=yield r._openDb();return yield n(s)}catch(s){if(i++>3)throw s;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var n=this;return g(function*(){return VC()?n.initializeReceiver():n.initializeSender()})()}initializeReceiver(){var n=this;return g(function*(){n.receiver=loe._getInstance(function goe(){return VC()?self:null}()),n.receiver._subscribe("keyChanged",function(){var r=g(function*(i,s){return{keyProcessed:(yield n._poll()).includes(s.key)}});return function(i,s){return r.apply(this,arguments)}}()),n.receiver._subscribe("ping",function(){var r=g(function*(i,s){return["keyChanged"]});return function(i,s){return r.apply(this,arguments)}}())})()}initializeSender(){var n=this;return g(function*(){var r,i;if(n.activeServiceWorker=yield function foe(){return UC.apply(this,arguments)}(),!n.activeServiceWorker)return;n.sender=new doe(n.activeServiceWorker);const s=yield n.sender._send("ping",{},800);s&&null!==(r=s[0])&&void 0!==r&&r.fulfilled&&null!==(i=s[0])&&void 0!==i&&i.value.includes("keyChanged")&&(n.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(n){var r=this;return g(function*(){if(r.sender&&r.activeServiceWorker&&function poe(){var t;return(null===(t=navigator?.serviceWorker)||void 0===t?void 0:t.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:n},r.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return g(function*(){try{if(!indexedDB)return!1;const n=yield BC();return yield YV(n,Pp,"1"),yield XV(n,Pp),!0}catch{}return!1})()}_withPendingWrite(n){var r=this;return g(function*(){r.pendingWrites++;try{yield n()}finally{r.pendingWrites--}})()}_set(n,r){var i=this;return g(function*(){return i._withPendingWrite(g(function*(){return yield i._withRetries(s=>YV(s,n,r)),i.localCache[n]=r,i.notifyServiceWorker(n)}))})()}_get(n){var r=this;return g(function*(){const i=yield r._withRetries(s=>function _oe(t,e){return jC.apply(this,arguments)}(s,n));return r.localCache[n]=i,i})()}_remove(n){var r=this;return g(function*(){return r._withPendingWrite(g(function*(){return yield r._withRetries(i=>XV(i,n)),delete r.localCache[n],r.notifyServiceWorker(n)}))})()}_poll(){var n=this;return g(function*(){const r=yield n._withRetries(o=>{const a=Fp(o,!1).getAll();return new vl(a).toPromise()});if(!r)return[];if(0!==n.pendingWrites)return[];const i=[],s=new Set;for(const{fbase_key:o,value:a}of r)s.add(o),JSON.stringify(n.localCache[o])!==JSON.stringify(a)&&(n.notifyListeners(o,a),i.push(o));for(const o of Object.keys(n.localCache))n.localCache[o]&&!s.has(o)&&(n.notifyListeners(o,null),i.push(o));return i})()}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const s of Array.from(i))s(r)}startPolling(){var n=this;this.stopPolling(),this.pollTimer=setInterval(g(function*(){return n._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return t.type="LOCAL",t})();NV("rcb"),new dl(3e4,6e4);class XC extends bse{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ri(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ri(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ri(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Loe(t){return function GV(t,e){return aC.apply(this,arguments)}(t.auth,new XC(t),t.bypassAuthState)}function Voe(t){const{auth:e,user:n}=t;return M(n,e,"internal-error"),function HV(t,e){return oC.apply(this,arguments)}(n,new XC(t),t.bypassAuthState)}function Uoe(t){return JC.apply(this,arguments)}function JC(){return(JC=g(function*(t){const{auth:e,user:n}=t;return M(n,e,"internal-error"),function rC(t,e){return iC.apply(this,arguments)}(n,new XC(t),t.bypassAuthState)})).apply(this,arguments)}class Boe{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){var e=this;return new Promise(function(){var n=g(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(s){e.reject(s)}});return function(r,i){return n.apply(this,arguments)}}())}onAuthEvent(e){var n=this;return g(function*(){const{urlResponse:r,sessionId:i,postBody:s,tenantId:o,error:a,type:u}=e;if(a)return void n.reject(a);const c={auth:n.auth,requestUri:r,sessionId:i,tenantId:o||void 0,postBody:s||void 0,user:n.user,bypassAuthState:n.bypassAuthState};try{n.resolve(yield n.getIdpTask(u)(c))}catch(l){n.reject(l)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Loe;case"linkViaPopup":case"linkViaRedirect":return Uoe;case"reauthViaPopup":case"reauthViaRedirect":return Voe;default:Rn(this.auth,"internal-error")}}resolve(e){as(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){as(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}new dl(2e3,1e4);const $oe="pendingRedirect",wl=new Map;class joe extends Boe{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,n=this;return g(function*(){let r=wl.get(n.auth._key());if(!r){try{const s=(yield function Hoe(t,e){return rb.apply(this,arguments)}(n.resolver,n.auth))?yield e().call(n):null;r=()=>Promise.resolve(s)}catch(i){r=()=>Promise.reject(i)}wl.set(n.auth._key(),r)}return n.bypassAuthState||wl.set(n.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var n=()=>super.onAuthEvent,r=this;return g(function*(){if("signInViaRedirect"===e.type)return n().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,n().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return g(function*(){})()}cleanUp(){}}function rb(){return(rb=g(function*(t,e){const n=function e2(t){return Tp($oe,t.config.apiKey,t.name)}(e),r=function ZV(t){return xi(t._redirectPersistence)}(t);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(n));return yield r._remove(n),i})).apply(this,arguments)}function Goe(t,e){wl.set(t._key(),e)}function t2(t,e){return lb.apply(this,arguments)}function lb(){return(lb=g(function*(t,e,n=!1){const r=Mt(t),i=function mo(t,e){return e?xi(e):(M(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}(r,e),o=yield new joe(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})).apply(this,arguments)}class Qoe{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function Yoe(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return i2(t);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!i2(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";n.onError(Gr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=null===n.eventId||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(r2(e))}saveEventToCache(e){this.cachedEventUids.add(r2(e)),this.lastProcessedEventTime=Date.now()}}function r2(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function i2({type:t,error:e}){return"unknown"===t&&"auth/no-auth-event"===e?.code}function hb(){return(hb=g(function*(t,e={}){return Xe(t,"GET","/v1/projects",e)})).apply(this,arguments)}const Joe=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Zoe=/^https?/;function fb(){return fb=g(function*(t){if(t.config.emulator)return;const{authorizedDomains:e}=yield function Xoe(t){return hb.apply(this,arguments)}(t);for(const n of e)try{if(tae(n))return}catch{}Rn(t,"unauthorized-domain")}),fb.apply(this,arguments)}function tae(t){const e=ll(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return""===o.hostname&&""===r?"chrome-extension:"===n&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===n&&o.hostname===r}if(!Zoe.test(n))return!1;if(Joe.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const nae=new dl(3e4,6e4);function s2(){const t=dt().___jsl;if(t?.H)for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}let Vp=null;const sae=new dl(5e3,15e3),oae="__/auth/iframe",aae="emulator/auth/iframe",uae={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},cae=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function lae(t){const e=t.config;M(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?gD(e,aae):`https://${t.config.authDomain}/${oae}`,r={apiKey:e.apiKey,appName:t.name,v:is},i=cae.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${tp(r).slice(1)}`}function pb(){return pb=g(function*(t){const e=yield function iae(t){return Vp=Vp||function rae(t){return new Promise((e,n)=>{var r,i,s;function o(){s2(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{s2(),n(Gr(t,"network-request-failed"))},timeout:nae.get()})}if(null!==(i=null===(r=dt().gapi)||void 0===r?void 0:r.iframes)&&void 0!==i&&i.Iframe)e(gapi.iframes.getContext());else{if(null===(s=dt().gapi)||void 0===s||!s.load){const a=NV("iframefcb");return dt()[a]=()=>{gapi.load?o():n(Gr(t,"network-request-failed"))},RD(`https://apis.google.com/js/api.js?onload=${a}`).catch(u=>n(u))}o()}}).catch(e=>{throw Vp=null,e})}(t),Vp}(t),n=dt().gapi;return M(n,t,"internal-error"),e.open({where:document.body,url:lae(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:uae,dontclear:!0},r=>new Promise(function(){var i=g(function*(s,o){yield r.restyle({setHideOnLeave:!1});const a=Gr(t,"network-request-failed"),u=dt().setTimeout(()=>{o(a)},sae.get());function c(){dt().clearTimeout(u),s(r)}r.ping(c).then(c,()=>{o(a)})});return function(s,o){return i.apply(this,arguments)}}()))}),pb.apply(this,arguments)}const hae={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class o2{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const vae="__/auth/handler",wae="emulator/auth/handler",Iae=encodeURIComponent("fac");function a2(t,e,n,r,i,s){return gb.apply(this,arguments)}function gb(){return(gb=g(function*(t,e,n,r,i,s){M(t.config.authDomain,t,"auth-domain-config-required"),M(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:is,eventId:i};if(e instanceof ls){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",function TZ(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[l,d]of Object.entries(s||{}))o[l]=d}if(e instanceof Use){const l=e.getScopes().filter(d=>""!==d);l.length>0&&(o.scopes=l.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const l of Object.keys(a))void 0===a[l]&&delete a[l];const u=yield t._getAppCheckToken(),c=u?`#${Iae}=${encodeURIComponent(u)}`:"";return`${function Eae({config:t}){return t.emulator?gD(t,wae):`https://${t.authDomain}/${vae}`}(t)}?${tp(a).slice(1)}${c}`})).apply(this,arguments)}const mb="webStorageSupport",Cae=class Dae{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=WV,this._completeRedirectFn=t2,this._overrideRedirectResult=Goe}_openPopup(e,n,r,i){var s=this;return g(function*(){var o;as(null===(o=s.eventManagers[e._key()])||void 0===o?void 0:o.manager,"_initialize() not called before _openPopup()");const a=yield a2(e,n,r,ll(),i);return function yae(t,e,n,r=500,i=600){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u=Object.assign(Object.assign({},hae),{width:r.toString(),height:i.toString(),top:s,left:o}),c=St().toLowerCase();n&&(a=IV(c)?"_blank":n),wV(c)&&(e=e||"http://localhost",u.scrollbars="yes");const l=Object.entries(u).reduce((h,[f,p])=>`${h}${f}=${p},`,"");if(function lse(t=St()){var e;return Sp(t)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(c)&&"_self"!==a)return function _ae(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(e||"",a),new o2(null);const d=window.open(e||"",a,l);M(d,t,"popup-blocked");try{d.focus()}catch{}return new o2(d)}(e,a,LC())})()}_openRedirect(e,n,r,i){var s=this;return g(function*(){return yield s._originValidation(e),function hoe(t){dt().location.href=t}(yield a2(e,n,r,ll(),i)),new Promise(()=>{})})()}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(as(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){var n=this;return g(function*(){const r=yield function dae(t){return pb.apply(this,arguments)}(e),i=new Qoe(e);return r.register("authEvent",s=>(M(s?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),n.eventManagers[e._key()]={manager:i},n.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(mb,{type:mb},i=>{var s;const o=null===(s=i?.[0])||void 0===s?void 0:s[mb];void 0!==o&&n(!!o),Rn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=function eae(t){return fb.apply(this,arguments)}(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return TV()||AD()||Sp()}};var l2="@firebase/auth";class bae{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var n=this;return g(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){M(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Mae=mF("authIdTokenMaxAge")||300;let h2=null;const xae=t=>function(){var e=g(function*(n){const r=n&&(yield n.getIdTokenResult()),i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3;if(i&&i>Mae)return;const s=r?.token;h2!==s&&(h2=s,yield fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))});return function(n){return e.apply(this,arguments)}}();function Rae(t=ip()){const e=so(t,"auth");if(e.isInitialized())return e.getImmediate();const n=function wse(t,e){const n=so(t,"auth");if(n.isInitialized()){const i=n.getImmediate();if(ep(n.getOptions(),e??{}))return i;Rn(i,"already-initialized")}return n.initialize({options:e})}(t,{popupRedirectResolver:Cae,persistence:[Ioe,uoe,WV]}),r=mF("authTokenSyncURL");if(r){const s=xae(r);(function eoe(t,e,n){_r(t).beforeAuthStateChanged(e,n)})(n,s,()=>s(n.currentUser)),function Zse(t,e,n,r){_r(t).onIdTokenChanged(e,n,r)}(n,o=>s(o))}const i=fF("auth");return i&&function Ese(t,e,n){const r=Mt(t);M(r._canInitEmulator,r,"emulator-config-failed"),M(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!n?.disableWarnings,s=OV(e),{host:o,port:a}=function Dse(t){const e=OV(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:FV(r.substr(s.length+1))}}{const[s,o]=r.split(":");return{host:s,port:FV(o)}}}(e);r.config.emulator={url:`${s}//${o}${null===a?"":`:${a}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function Cse(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",t):t())}()}(n,`http://${i}`),n}!function Sae(t){tn(new $t("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;M(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:SV(t)},c=new vse(r,i,s,u);return function Ise(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(xi);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),tn(new $t("auth-internal",e=>{const n=Mt(e.getProvider("auth").getImmediate());return new bae(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ne(l2,"0.23.2",function Tae(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(t)),Ne(l2,"0.23.2","esm2017")}("Browser");class _b{constructor(e){return e}}class vb{constructor(){return hp("auth")}}const wb=new L("angularfire2.auth-instances");function kae(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new _b(r)}}const Pae={provide:vb,deps:[[new yt,wb]]},Oae={provide:_b,useFactory:function Nae(t,e){const n=dp("auth",t,e);return n&&new _b(n)},deps:[[new yt,wb],fo]};let Fae=(()=>{class t{constructor(){Ne("angularfire",al.full,"auth")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Qt({type:t}),t.\u0275inj=Lt({providers:[Oae,Pae]}),t})();function Lae(t,...e){return{ngModule:Fae,providers:[{provide:wb,useFactory:kae(t),multi:!0,deps:[Ee,An,fp,pp,[new yt,Ep],...e]}]}}const Vae=Qa(Rae,!0),p2="firebasestorage.googleapis.com";class ze extends qn{constructor(e,n,r=0){super(Ib(e),`Firebase Storage: ${n} (${Ib(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ze.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Ib(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var z=(()=>((z=z||{}).UNKNOWN="unknown",z.OBJECT_NOT_FOUND="object-not-found",z.BUCKET_NOT_FOUND="bucket-not-found",z.PROJECT_NOT_FOUND="project-not-found",z.QUOTA_EXCEEDED="quota-exceeded",z.UNAUTHENTICATED="unauthenticated",z.UNAUTHORIZED="unauthorized",z.UNAUTHORIZED_APP="unauthorized-app",z.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",z.INVALID_CHECKSUM="invalid-checksum",z.CANCELED="canceled",z.INVALID_EVENT_NAME="invalid-event-name",z.INVALID_URL="invalid-url",z.INVALID_DEFAULT_BUCKET="invalid-default-bucket",z.NO_DEFAULT_BUCKET="no-default-bucket",z.CANNOT_SLICE_BLOB="cannot-slice-blob",z.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",z.NO_DOWNLOAD_URL="no-download-url",z.INVALID_ARGUMENT="invalid-argument",z.INVALID_ARGUMENT_COUNT="invalid-argument-count",z.APP_DELETED="app-deleted",z.INVALID_ROOT_OPERATION="invalid-root-operation",z.INVALID_FORMAT="invalid-format",z.INTERNAL_ERROR="internal-error",z.UNSUPPORTED_ENVIRONMENT="unsupported-environment",z))();function Ib(t){return"storage/"+t}function Db(t){return new ze(z.INVALID_ARGUMENT,t)}function v2(){return new ze(z.APP_DELETED,"The Firebase app was deleted.")}class pn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=pn.makeFromUrl(e,n)}catch{return new pn(e,"")}if(""===r.path)return r;throw function Kae(t){return new ze(z.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)",a=new RegExp("^gs://"+i+"(/(.*))?$","i");function c(A){A.path_=decodeURIComponent(A.path)}const d=n.replace(/[.]/g,"\\."),E=[{regex:a,indices:{bucket:1,path:3},postModify:function s(A){"/"===A.path.charAt(A.path.length-1)&&(A.path_=A.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${d}/v[A-Za-z0-9_]+/b/${i}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:c},{regex:new RegExp(`^https?://${n===p2?"(?:storage.googleapis.com|storage.cloud.google.com)":n}/${i}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:c}];for(let A=0;A<E.length;A++){const O=E[A],K=O.regex.exec(e);if(K){let vn=K[O.indices.path];vn||(vn=""),r=new pn(K[O.indices.bucket],vn),O.postModify(r);break}}if(null==r)throw function Wae(t){return new ze(z.INVALID_URL,"Invalid URL '"+t+"'.")}(e);return r}}class eue{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function bb(t,e,n,r){if(r<e)throw Db(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Db(`Invalid value for '${t}'. Expected ${n} or less.`)}var Nn=(()=>((Nn=Nn||{})[Nn.NO_ERROR=0]="NO_ERROR",Nn[Nn.NETWORK_ERROR=1]="NETWORK_ERROR",Nn[Nn.ABORT=2]="ABORT",Nn))();class oue{constructor(e,n,r,i,s,o,a,u,c,l,d,h=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=u,this.timeout_=c,this.progressCallback_=l,this.connectionFactory_=d,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((f,p)=>{this.resolve_=f,this.reject_=p,this.start_()})}start_(){const n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const u=this.callback_(a,a.getResponse());!function rue(t){return void 0!==t}(u)?s():s(u)}catch(u){o(u)}else if(null!==a){const u=function Eb(){return new ze(z.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}();u.serverResponse=a.getErrorText(),o(this.errorCallback_?this.errorCallback_(a,u):u)}else o(i.canceled?this.appDelete_?v2():function y2(){return new ze(z.CANCELED,"User canceled the upload/download.")}():function m2(){return new ze(z.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}())};this.canceled_?n(0,new $p(!1,null,!0)):this.backoffId_=function tue(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function u(){return 2===a}let c=!1;function l(...y){c||(c=!0,e.apply(null,y))}function d(y){i=setTimeout(()=>{i=null,t(f,u())},y)}function h(){s&&clearTimeout(s)}function f(y,...v){if(c)return void h();if(y)return h(),void l.call(null,y,...v);if(u()||o)return h(),void l.call(null,y,...v);let E;r<64&&(r*=2),1===a?(a=2,E=0):E=1e3*(r+Math.random()),d(E)}let p=!1;function m(y){p||(p=!0,h(),!c&&(null!==i?(y||(a=2),clearTimeout(i),d(0)):y||(a=1)))}return d(0),s=setTimeout(()=>{o=!0,m(!0)},n),m}((r,i)=>{if(i)return void r(!1,new $p(!1,null,!0));const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{null!==this.progressCallback_&&this.progressCallback_(a.loaded,a.lengthComputable?a.total:-1)};null!==this.progressCallback_&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===Nn.NO_ERROR,u=s.getStatus();if(!a||function E2(t,e){const n=t>=500&&t<600,i=-1!==[408,429].indexOf(t),s=-1!==e.indexOf(t);return n||i||s}(u,this.additionalRetryCodes_)&&this.retry){const l=s.getErrorCode()===Nn.ABORT;return void r(!1,new $p(!1,null,l))}const c=-1!==this.successCodes_.indexOf(u);r(!0,new $p(c,s))})},n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function nue(t){t(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class $p{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}class yo{constructor(e,n){this._service=e,this._location=n instanceof pn?n:pn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new yo(e,n)}get root(){const e=new pn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return function S2(t){const e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}(this._location.path)}get storage(){return this._service}get parent(){const e=function wue(t){if(0===t.length)return null;const e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this._location.path);if(null===e)return null;const n=new pn(this._location.bucket,e);return new yo(this._service,n)}_throwIfRoot(e){if(""===this._location.path)throw function Zae(t){return new ze(z.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function j2(t,e){const n=e?.storageBucket;return null==n?null:pn.makeFromBucketSpec(n,t)}class Nb{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=p2,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?pn.makeFromBucketSpec(i,this._host):j2(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?pn.makeFromBucketSpec(this._url,e):j2(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){bb("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){bb("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return g(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const n=e._authProvider.getImmediate({optional:!0});if(n){const r=yield n.getToken();if(null!==r)return r.accessToken}return null})()}_getAppCheckToken(){var e=this;return g(function*(){const n=e._appCheckProvider.getImmediate({optional:!0});return n?(yield n.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new yo(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new eue(v2());{const o=function due(t,e,n,r,i,s,o=!0){const a=function I2(t){const e=encodeURIComponent;let n="?";for(const r in t)t.hasOwnProperty(r)&&(n=n+(e(r)+"=")+e(t[r])+"&");return n=n.slice(0,-1),n}(t.urlParams),u=t.url+a,c=Object.assign({},t.headers);return function cue(t,e){e&&(t["X-Firebase-GMPID"]=e)}(c,e),function aue(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(c,n),function uue(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}(c,s),function lue(t,e){null!==e&&(t["X-Firebase-AppCheck"]=e)}(c,r),new oue(u,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}makeRequestWithTokens(e,n){var r=this;return g(function*(){const[i,s]=yield Promise.all([r._getAuthToken(),r._getAppCheckToken()]);return r._makeRequest(e,n,i,s).getPromise()})()}}const H2="@firebase/storage",z2="storage";function sce(t=ip(),e){const r=so(t=_r(t),z2).getImmediate({identifier:e}),i=pF("storage");return i&&function oce(t,e,n,r={}){!function ice(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken="string"==typeof i?i:yF(i,t.app.options.projectId))}(t,e,n,r)}(r,...i),r}function ace(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new Nb(n,r,i,e,is)}!function uce(){tn(new $t(z2,ace,"PUBLIC").setMultipleInstances(!0)),Ne(H2,"0.11.2",""),Ne(H2,"0.11.2","esm2017")}();class kb{constructor(e){return e}}const q2="storage",Pb=new L("angularfire2.storage-instances");function dce(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new kb(r)}}const hce={provide:class cce{constructor(){return hp(q2)}},deps:[[new yt,Pb]]},fce={provide:kb,useFactory:function lce(t,e){const n=dp(q2,t,e);return n&&new kb(n)},deps:[[new yt,Pb],fo]};let pce=(()=>{class t{constructor(){Ne("angularfire",al.full,"gcs")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Qt({type:t}),t.\u0275inj=Lt({providers:[fce,hce]}),t})();function gce(t,...e){return{ngModule:pce,providers:[{provide:Pb,useFactory:dce(t),multi:!0,deps:[Ee,An,fp,pp,[new yt,vb],[new yt,Ep],...e]}]}}const mce=Qa(sce,!0);var N,yce=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ir={},Ob=Ob||{},te=yce||self;function zp(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function bl(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var Fb="closure_uid_"+(1e9*Math.random()>>>0),vce=0;function wce(t,e,n){return t.call.apply(t.bind,arguments)}function Ice(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function nn(t,e,n){return(nn=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?wce:Ice).apply(null,arguments)}function qp(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function xt(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function ds(){this.s=this.s,this.o=this.o}ds.prototype.s=!1,ds.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function _ce(t){Object.prototype.hasOwnProperty.call(t,Fb)&&t[Fb]||(t[Fb]=++vce)}(this)},ds.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const W2=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Lb(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function K2(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(zp(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function rn(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}rn.prototype.h=function(){this.defaultPrevented=!0};var Dce=function(){if(!te.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{te.addEventListener("test",()=>{},e),te.removeEventListener("test",()=>{},e)}catch{}return t}();function Tl(t){return/^[\s\xa0]*$/.test(t)}function Wp(){var t=te.navigator;return t&&(t=t.userAgent)?t:""}function Kr(t){return-1!=Wp().indexOf(t)}function Vb(t){return Vb[" "](t),t}Vb[" "]=function(){};var Bb,t,bce=Kr("Opera"),nu=Kr("Trident")||Kr("MSIE"),Q2=Kr("Edge"),Ub=Q2||nu,Y2=Kr("Gecko")&&!(-1!=Wp().toLowerCase().indexOf("webkit")&&!Kr("Edge"))&&!(Kr("Trident")||Kr("MSIE"))&&!Kr("Edge"),Tce=-1!=Wp().toLowerCase().indexOf("webkit")&&!Kr("Edge");function X2(){var t=te.document;return t?t.documentMode:void 0}e:{var $b="",jb=(t=Wp(),Y2?/rv:([^\);]+)(\)|;)/.exec(t):Q2?/Edge\/([\d\.]+)/.exec(t):nu?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):Tce?/WebKit\/(\S+)/.exec(t):bce?/(?:Version)[ \/]?(\S+)/.exec(t):void 0);if(jb&&($b=jb?jb[1]:""),nu){var Hb=X2();if(null!=Hb&&Hb>parseFloat($b)){Bb=String(Hb);break e}}Bb=$b}var Sce=te.document&&nu&&(X2()||parseInt(Bb,10))||void 0;function Sl(t,e){if(rn.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(Y2){e:{try{Vb(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Ace[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Sl.$.h.call(this)}}xt(Sl,rn);var Ace={2:"touch",3:"pen",4:"mouse"};Sl.prototype.h=function(){Sl.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Al="closure_listenable_"+(1e6*Math.random()|0),Mce=0;function xce(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++Mce,this.fa=this.ia=!1}function Kp(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function zb(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function Z2(t){const e={};for(const n in t)e[n]=t[n];return e}const eU="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function tU(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let s=0;s<eU.length;s++)n=eU[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Qp(t){this.src=t,this.g={},this.h=0}function qb(t,e){var n=e.type;if(n in t.g){var s,r=t.g[n],i=W2(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Kp(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function Wb(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}Qp.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.g[s])||(t=this.g[s]=[],this.h++);var o=Wb(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):((e=new xce(e,this.src,s,!!r,i)).ia=n,t.push(e)),e};var Kb="closure_lm_"+(1e6*Math.random()|0),Qb={};function nU(t,e,n,r,i){if(r&&r.once)return iU(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)nU(t,e[s],n,r,i);return null}return n=Zb(n),t&&t[Al]?t.O(e,n,bl(r)?!!r.capture:!!r,i):rU(t,e,n,!1,r,i)}function rU(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=bl(i)?!!i.capture:!!i,a=Xb(t);if(a||(t[Kb]=a=new Qp(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function Nce(){const e=kce;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Dce||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(oU(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function iU(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)iU(t,e[s],n,r,i);return null}return n=Zb(n),t&&t[Al]?t.P(e,n,bl(r)?!!r.capture:!!r,i):rU(t,e,n,!0,r,i)}function sU(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)sU(t,e[s],n,r,i);else r=bl(r)?!!r.capture:!!r,n=Zb(n),t&&t[Al]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=Wb(s=t.g[e],n,r,i))&&(Kp(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.g[e],t.h--))):t&&(t=Xb(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Wb(e,n,r,i)),(n=-1<t?e[t]:null)&&Yb(n))}function Yb(t){if("number"!=typeof t&&t&&!t.fa){var e=t.src;if(e&&e[Al])qb(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(oU(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Xb(e))?(qb(n,t),0==n.h&&(n.src=null,e[Kb]=null)):Kp(t)}}}function oU(t){return t in Qb?Qb[t]:Qb[t]="on"+t}function kce(t,e){if(t.fa)t=!0;else{e=new Sl(e,this);var n=t.listener,r=t.la||t.src;t.ia&&Yb(t),t=n.call(r,e)}return t}function Xb(t){return(t=t[Kb])instanceof Qp?t:null}var Jb="__closure_events_fn_"+(1e9*Math.random()>>>0);function Zb(t){return"function"==typeof t?t:(t[Jb]||(t[Jb]=function(e){return t.handleEvent(e)}),t[Jb])}function Rt(){ds.call(this),this.i=new Qp(this),this.S=this,this.J=null}function Gt(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,"string"==typeof e)e=new rn(e,t);else if(e instanceof rn)e.target=e.target||t;else{var i=e;tU(e=new rn(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=Yp(o,r,!0,e)&&i}if(i=Yp(o=e.g=t,r,!0,e)&&i,i=Yp(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=Yp(o=e.g=n[s],r,!1,e)&&i}function Yp(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,u=o.la||o.src;o.ia&&qb(t.i,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}xt(Rt,ds),Rt.prototype[Al]=!0,Rt.prototype.removeEventListener=function(t,e,n,r){sU(this,t,e,n,r)},Rt.prototype.N=function(){if(Rt.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Kp(n[r]);delete t.g[e],t.h--}}this.J=null},Rt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},Rt.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var eT=te.JSON.stringify;function Oce(){var t=tT;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var aU=new class Pce{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new Lce,t=>t.reset());class Lce{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function Vce(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function Uce(t){te.setTimeout(()=>{throw t},0)}let Ml,xl=!1,tT=new class Fce{constructor(){this.h=this.g=null}add(e,n){const r=aU.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},uU=()=>{const t=te.Promise.resolve(void 0);Ml=()=>{t.then(Bce)}};var Bce=()=>{for(var t;t=Oce();){try{t.h.call(t.g)}catch(n){Uce(n)}var e=aU;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}xl=!1};function Xp(t,e){Rt.call(this),this.h=t||1,this.g=e||te,this.j=nn(this.qb,this),this.l=Date.now()}function nT(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}function rT(t,e,n){if("function"==typeof t)n&&(t=nn(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=nn(t.handleEvent,t)}return 2147483647<Number(e)?-1:te.setTimeout(t,e||0)}function cU(t){t.g=rT(()=>{t.g=null,t.i&&(t.i=!1,cU(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}xt(Xp,Rt),(N=Xp.prototype).ga=!1,N.T=null,N.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Gt(this,"tick"),this.ga&&(nT(this),this.start()))}},N.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},N.N=function(){Xp.$.N.call(this),nT(this),delete this.g};class $ce extends ds{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:cU(this)}N(){super.N(),this.g&&(te.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Rl(t){ds.call(this),this.h=t,this.g={}}xt(Rl,ds);var lU=[];function dU(t,e,n,r){Array.isArray(n)||(n&&(lU[0]=n.toString()),n=lU);for(var i=0;i<n.length;i++){var s=nU(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function hU(t){zb(t.g,function(e,n){this.g.hasOwnProperty(n)&&Yb(e)},t),t.g={}}function Jp(){this.g=!0}function ru(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function zce(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return eT(n)}catch{return e}}(t,n)+(r?" "+r:"")})}Rl.prototype.N=function(){Rl.$.N.call(this),hU(this)},Rl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Jp.prototype.Ea=function(){this.g=!1},Jp.prototype.info=function(){};var _o={},fU=null;function Zp(){return fU=fU||new Rt}function pU(t){rn.call(this,_o.Ta,t)}function Nl(t){const e=Zp();Gt(e,new pU(e))}function gU(t,e){rn.call(this,_o.STAT_EVENT,t),this.stat=e}function mn(t){const e=Zp();Gt(e,new gU(e,t))}function mU(t,e){rn.call(this,_o.Ua,t),this.size=e}function kl(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return te.setTimeout(function(){t()},e)}_o.Ta="serverreachability",xt(pU,rn),_o.STAT_EVENT="statevent",xt(gU,rn),_o.Ua="timingevent",xt(mU,rn);var eg={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},yU={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function iT(){}function vU(){}iT.prototype.h=null;var aT,Pl={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function sT(){rn.call(this,"d")}function oT(){rn.call(this,"c")}function tg(){}function Ol(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Rl(this),this.P=qce,this.V=new Xp(t=Ub?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new wU}function wU(){this.i=null,this.g="",this.h=!1}xt(sT,rn),xt(oT,rn),xt(tg,iT),tg.prototype.g=function(){return new XMLHttpRequest},tg.prototype.i=function(){return{}},aT=new tg;var qce=45e3,uT={},ng={};function cT(t,e,n){t.L=1,t.v=og(Pi(e)),t.s=n,t.S=!0,IU(t,null)}function IU(t,e){t.G=Date.now(),Fl(t),t.A=Pi(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),RU(n.i,"t",r),t.C=0,n=t.l.J,t.h=new wU,t.g=tB(t.l,n?e:null,!t.s),0<t.O&&(t.M=new $ce(nn(t.Pa,t,t.g),t.O)),dU(t.U,t.g,"readystatechange",t.nb),e=t.I?Z2(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),Nl(),function jce(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var d=l.split("_");o=2<=d.length&&"type"==d[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o})}(t.j,t.u,t.A,t.m,t.W,t.s)}function EU(t){return!!t.g&&"GET"==t.u&&2!=t.L&&t.l.Ha}function DU(t,e,n){let i,r=!0;for(;!t.J&&t.C<n.length;){if(i=Wce(t,n),i==ng){4==e&&(t.o=4,mn(14),r=!1),ru(t.j,t.m,null,"[Incomplete Response]");break}if(i==uT){t.o=4,mn(15),ru(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}ru(t.j,t.m,i,null),lT(t,i)}EU(t)&&i!=ng&&i!=uT&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,mn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,(e=t.l).g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),yT(e),e.M=!0,mn(11))):(ru(t.j,t.m,n,"[Invalid Chunked Response]"),vo(t),Ll(t))}function Wce(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?ng:(n=Number(e.substring(n,r)),isNaN(n)?uT:(r+=1)+n>e.length?ng:(e=e.slice(r,r+n),t.C=r+n,e))}function Fl(t){t.Y=Date.now()+t.P,CU(t,t.P)}function CU(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=kl(nn(t.lb,t),e)}function rg(t){t.B&&(te.clearTimeout(t.B),t.B=null)}function Ll(t){0==t.l.H||t.J||XU(t.l,t)}function vo(t){rg(t);var e=t.M;e&&"function"==typeof e.sa&&e.sa(),t.M=null,nT(t.V),hU(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function lT(t,e){try{var n=t.l;if(0!=n.H&&(n.g==t||dT(n.i,t)))if(!t.K&&dT(n.i,t)&&3==n.H){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<t.G))break e;hg(n),lg(n)}mT(n),mn(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=kl(nn(n.ib,n),6e3));if(1>=PU(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Io(n,11)}else if((t.K||n.g==t)&&hg(n),!Tl(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(n.V=c[0],c=c[1],2==n.H)if("c"==c[0]){n.K=c[1],n.pa=c[2];const l=c[3];null!=l&&(n.ra=l,n.l.info("VER="+n.ra));const d=c[4];null!=d&&(n.Ga=d,n.l.info("SVER="+n.Ga));const h=c[5];null!=h&&"number"==typeof h&&0<h&&(n.L=r=1.5*h,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;s.g||-1==p.indexOf("spdy")&&-1==p.indexOf("quic")&&-1==p.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(hT(s,s.h),s.h=null))}if(r.F){const m=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;m&&(r.Da=m,ke(r.I,r.F,m))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms"));var o=t;if((r=n).wa=eB(r,r.J?r.pa:null,r.Y),o.K){OU(r.i,o);var a=o,u=r.L;u&&a.setTimeout(u),a.B&&(rg(a),Fl(a)),r.g=o}else QU(r);0<n.j.length&&dg(n)}else"stop"!=c[0]&&"close"!=c[0]||Io(n,7);else 3==n.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?Io(n,7):gT(n):"noop"!=c[0]&&n.h&&n.h.Aa(c),n.A=0)}Nl()}catch{}}function bU(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(zp(t)||"string"==typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function Qce(t){if(t.ta&&"function"==typeof t.ta)return t.ta();if(!t.Z||"function"!=typeof t.Z){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(zp(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}(t),r=function Kce(t){if(t.Z&&"function"==typeof t.Z)return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if("string"==typeof t)return t.split("");if(zp(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}(N=Ol.prototype).setTimeout=function(t){this.P=t},N.nb=function(t){t=t.target;const e=this.M;e&&3==Qr(t)?e.l():this.Pa(t)},N.Pa=function(t){try{if(t==this.g)e:{const l=Qr(this.g);var e=this.g.Ia();if(this.g.da(),!(3>l)&&(3!=l||Ub||this.g&&(this.h.h||this.g.ja()||HU(this.g)))){this.J||4!=l||7==e||Nl(),rg(this);var n=this.g.da();this.ca=n;t:if(EU(this)){var r=HU(this.g);t="";var i=r.length,s=4==Qr(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){vo(this),Ll(this);var o="";break t}this.h.i=new te.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=200==n,function Hce(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.W,l,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Tl(a)){var c=a;break t}}c=null}if(!(n=c)){this.i=!1,this.o=3,mn(12),vo(this),Ll(this);break e}ru(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,lT(this,n)}this.S?(DU(this,l,o),Ub&&this.i&&3==l&&(dU(this.U,this.V,"tick",this.mb),this.V.start())):(ru(this.j,this.m,o,null),lT(this,o)),4==l&&vo(this),this.i&&!this.J&&(4==l?XU(this.l,this):(this.i=!1,Fl(this)))}else(function fle(t){const e={};t=(t.g&&2<=Qr(t)&&t.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<t.length;r++){if(Tl(t[r]))continue;var n=Vce(t[r]);const i=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}!function Rce(t,e){for(const n in t)e.call(void 0,t[n],n,t)}(e,function(r){return r.join(", ")})})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.o=3,mn(12)):(this.o=0,mn(13)),vo(this),Ll(this)}}}catch{}},N.mb=function(){if(this.g){var t=Qr(this.g),e=this.g.ja();this.C<e.length&&(rg(this),DU(this,t,e),this.i&&4!=t&&Fl(this))}},N.cancel=function(){this.J=!0,vo(this)},N.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(function Gce(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Nl(),mn(17)),vo(this),this.o=2,Ll(this)):CU(this,this.Y-t)};var TU=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function wo(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof wo){this.h=t.h,ig(this,t.j),this.s=t.s,this.g=t.g,sg(this,t.m),this.l=t.l;var e=t.i,n=new Bl;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),SU(this,n),this.o=t.o}else t&&(e=String(t).match(TU))?(this.h=!1,ig(this,e[1]||"",!0),this.s=Vl(e[2]||""),this.g=Vl(e[3]||"",!0),sg(this,e[4]),this.l=Vl(e[5]||"",!0),SU(this,e[6]||"",!0),this.o=Vl(e[7]||"")):(this.h=!1,this.i=new Bl(null,this.h))}function Pi(t){return new wo(t)}function ig(t,e,n){t.j=n?Vl(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function sg(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function SU(t,e,n){e instanceof Bl?(t.i=e,function nle(t,e){e&&!t.j&&(hs(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(MU(this,r),RU(this,i,n))},t)),t.j=e}(t.i,t.h)):(n||(e=Ul(e,ele)),t.i=new Bl(e,t.h))}function ke(t,e,n){t.i.set(e,n)}function og(t){return ke(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Vl(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Ul(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Xce),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Xce(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}wo.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Ul(e,AU,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(Ul(e,AU,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(Ul(n,"/"==n.charAt(0)?Zce:Jce,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Ul(n,tle)),t.join("")};var AU=/[#\/\?@]/g,Jce=/[#\?:]/g,Zce=/[#\?]/g,ele=/[#\?@]/g,tle=/#/g;function Bl(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function hs(t){t.g||(t.g=new Map,t.h=0,t.i&&function Yce(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function MU(t,e){hs(t),e=iu(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function xU(t,e){return hs(t),e=iu(t,e),t.g.has(e)}function RU(t,e,n){MU(t,e),0<n.length&&(t.i=null,t.g.set(iu(t,e),Lb(n)),t.h+=n.length)}function iu(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function NU(t){this.l=t||ile,t=te.PerformanceNavigationTiming?0<(t=te.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(te.g&&te.g.Ka&&te.g.Ka()&&te.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(N=Bl.prototype).add=function(t,e){hs(this),this.i=null,t=iu(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},N.forEach=function(t,e){hs(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)},N.ta=function(){hs(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n},N.Z=function(t){hs(this);let e=[];if("string"==typeof t)xU(this,t)&&(e=e.concat(this.g.get(iu(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},N.set=function(t,e){return hs(this),this.i=null,xU(this,t=iu(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},N.get=function(t,e){return t&&0<(t=this.Z(t)).length?String(t[0]):e},N.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};var ile=10;function kU(t){return!!t.h||!!t.g&&t.g.size>=t.j}function PU(t){return t.h?1:t.g?t.g.size:0}function dT(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function hT(t,e){t.g?t.g.add(e):t.h=e}function OU(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function FU(t){if(null!=t.h)return t.i.concat(t.h.F);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return Lb(t.i)}NU.prototype.cancel=function(){if(this.i=FU(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}};var sle=class{stringify(t){return te.JSON.stringify(t,void 0)}parse(t){return te.JSON.parse(t,void 0)}};function ole(){this.g=new sle}function ale(t,e,n){const r=n||"";try{bU(t,function(i,s){let o=i;bl(i)&&(o=eT(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function ag(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function $l(t){this.l=t.fc||null,this.j=t.ob||!1}function ug(t,e){Rt.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=fT,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}xt($l,iT),$l.prototype.g=function(){return new ug(this.l,this.j)},$l.prototype.i=function(t){return function(){return t}}({}),xt(ug,Rt);var fT=0;function LU(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}function jl(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Hl(t)}function Hl(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(N=ug.prototype).open=function(t,e){if(this.readyState!=fT)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Hl(this)},N.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||te).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},N.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,jl(this)),this.readyState=fT},N.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Hl(this)),this.g&&(this.readyState=3,Hl(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof te.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;LU(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))},N.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?jl(this):Hl(this),3==this.readyState&&LU(this)}},N.Za=function(t){this.g&&(this.response=this.responseText=t,jl(this))},N.Ya=function(t){this.g&&(this.response=t,jl(this))},N.ka=function(){this.g&&jl(this)},N.setRequestHeader=function(t,e){this.v.append(t,e)},N.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},N.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(ug.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var cle=te.JSON.parse;function Je(t){Rt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=VU,this.L=this.M=!1}xt(Je,Rt);var VU="",lle=/^https?$/i,dle=["POST","PUT"];function UU(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,BU(t),cg(t)}function BU(t){t.F||(t.F=!0,Gt(t,"complete"),Gt(t,"error"))}function $U(t){if(t.h&&typeof Ob<"u"&&(!t.C[1]||4!=Qr(t)||2!=t.da()))if(t.v&&4==Qr(t))rT(t.La,0,t);else if(Gt(t,"readystatechange"),4==Qr(t)){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=0===o){var i=String(t.I).match(TU)[1]||null;!i&&te.self&&te.self.location&&(i=te.self.location.protocol.slice(0,-1)),r=!lle.test(i?i.toLowerCase():"")}n=r}if(n)Gt(t,"complete"),Gt(t,"success");else{t.m=6;try{var s=2<Qr(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",BU(t)}}finally{cg(t)}}}function cg(t,e){if(t.g){jU(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Gt(t,"ready");try{n.onreadystatechange=r}catch{}}}function jU(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(te.clearTimeout(t.A),t.A=null)}function Qr(t){return t.g?t.g.readyState:0}function HU(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case VU:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function GU(t){let e="";return zb(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}function pT(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=GU(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):ke(t,e,n))}function Gl(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function zU(t){this.Ga=0,this.j=[],this.l=new Jp,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Gl("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Gl("baseRetryDelayMs",5e3,t),this.hb=Gl("retryDelaySeedMs",1e4,t),this.eb=Gl("forwardChannelMaxRetries",2,t),this.xa=Gl("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new NU(t&&t.concurrentRequestLimit),this.Ja=new ole,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function gT(t){if(qU(t),3==t.H){var e=t.W++,n=Pi(t.I);if(ke(n,"SID",t.K),ke(n,"RID",e),ke(n,"TYPE","terminate"),zl(t,n),(e=new Ol(t,t.l,e)).L=2,e.v=og(Pi(n)),n=!1,te.navigator&&te.navigator.sendBeacon)try{n=te.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&te.Image&&((new Image).src=e.v,n=!0),n||(e.g=tB(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Fl(e)}ZU(t)}function lg(t){t.g&&(yT(t),t.g.cancel(),t.g=null)}function qU(t){lg(t),t.u&&(te.clearTimeout(t.u),t.u=null),hg(t),t.i.cancel(),t.m&&("number"==typeof t.m&&te.clearTimeout(t.m),t.m=null)}function dg(t){if(!kU(t.i)&&!t.m){t.m=!0;var e=t.Na;Ml||uU(),xl||(Ml(),xl=!0),tT.add(e,t),t.C=0}}function WU(t,e){var n;n=e?e.m:t.W++;const r=Pi(t.I);ke(r,"SID",t.K),ke(r,"RID",n),ke(r,"AID",t.V),zl(t,r),t.o&&t.s&&pT(r,t.o,t.s),n=new Ol(t,t.l,n,t.C+1),null===t.o&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=KU(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),hT(t.i,n),cT(n,r,e)}function zl(t,e){t.na&&zb(t.na,function(n,r){ke(e,r,n)}),t.h&&bU({},function(n,r){ke(e,r,n)})}function KU(t,e,n){n=Math.min(t.j.length,n);var r=t.h?nn(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];-1==s?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let u=0;u<n;u++){let c=i[u].g;const l=i[u].map;if(c-=s,0>c)s=Math.max(0,i[u].g-100),a=!1;else try{ale(l,o,"req"+c+"_")}catch{r&&r(l)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function QU(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Ml||uU(),xl||(Ml(),xl=!0),tT.add(e,t),t.A=0}}function mT(t){return!(t.g||t.u||3<=t.A||(t.ba++,t.u=kl(nn(t.Ma,t),JU(t,t.A)),t.A++,0))}function yT(t){null!=t.B&&(te.clearTimeout(t.B),t.B=null)}function YU(t){t.g=new Ol(t,t.l,"rpc",t.ba),null===t.o&&(t.g.I=t.s),t.g.O=0;var e=Pi(t.wa);ke(e,"RID","rpc"),ke(e,"SID",t.K),ke(e,"AID",t.V),ke(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&ke(e,"TO",t.qa),ke(e,"TYPE","xmlhttp"),zl(t,e),t.o&&t.s&&pT(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=og(Pi(e)),n.s=null,n.S=!0,IU(n,t)}function hg(t){null!=t.v&&(te.clearTimeout(t.v),t.v=null)}function XU(t,e){var n=null;if(t.g==e){hg(t),yT(t),t.g=null;var r=2}else{if(!dT(t.i,e))return;n=e.F,OU(t.i,e),r=1}if(0!=t.H)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;Gt(r=Zp(),new mU(r,n)),dg(t)}else QU(t);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function ple(t,e){return!(PU(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.j=e.F.concat(t.j),0):1==t.H||2==t.H||t.C>=(t.cb?0:t.eb)||(t.m=kl(nn(t.Na,t,e),JU(t,t.C)),t.C++,0)))}(t,e)||2==r&&mT(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Io(t,5);break;case 4:Io(t,10);break;case 3:Io(t,6);break;default:Io(t,2)}}function JU(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Io(t,e){if(t.l.info("Error code "+e),2==e){var n=null;t.h&&(n=null);var r=nn(t.pb,t);n||(n=new wo("//www.google.com/images/cleardot.gif"),te.location&&"http"==te.location.protocol||ig(n,"https"),og(n)),function ule(t,e){const n=new Jp;if(te.Image){const r=new Image;r.onload=qp(ag,n,r,"TestLoadImage: loaded",!0,e),r.onerror=qp(ag,n,r,"TestLoadImage: error",!1,e),r.onabort=qp(ag,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=qp(ag,n,r,"TestLoadImage: timeout",!1,e),te.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else mn(2);t.H=0,t.h&&t.h.za(e),ZU(t),qU(t)}function ZU(t){if(t.H=0,t.ma=[],t.h){const e=FU(t.i);(0!=e.length||0!=t.j.length)&&(K2(t.ma,e),K2(t.ma,t.j),t.i.i.length=0,Lb(t.j),t.j.length=0),t.h.ya()}}function eB(t,e,n){var r=n instanceof wo?Pi(n):new wo(n);if(""!=r.g)e&&(r.g=e+"."+r.g),sg(r,r.m);else{var i=te.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new wo(null);r&&ig(s,r),e&&(s.g=e),i&&sg(s,i),n&&(s.l=n),r=s}return e=t.Da,(n=t.F)&&e&&ke(r,n,e),ke(r,"VER",t.ra),zl(t,r),r}function tB(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Je(n&&t.Ha&&!t.va?new $l({ob:!0}):t.va)).Oa(t.J),e}function nB(){}function fg(){if(nu&&!(10<=Number(Sce)))throw Error("Environmental error: no available transport.")}function Wn(t,e){Rt.call(this),this.g=new zU(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Tl(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Tl(e)&&(this.g.F=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new su(this)}function rB(t){sT.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function iB(){oT.call(this),this.status=1}function su(t){this.g=t}function Er(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function _T(t,e,n){n||(n=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var s=t.g[3],o=(e=t.g[0])+(s^(n=t.g[1])&((i=t.g[2])^s))+r[0]+3614090360&4294967295;o=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=n+(o<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=e+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=e+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=e+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(e=n+((o=e+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(e^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}function Ce(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=0|t[i];r&&s==e||(n[i]=s,r=!1)}this.g=n}(N=Je.prototype).Oa=function(t){this.M=t},N.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():aT.g(),this.C=function _U(t){return t.h||(t.h=t.i())}(this.u?this.u:aT),this.g.onreadystatechange=nn(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){return void UU(this,s)}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())n.set(s,r.get(s))}r=Array.from(n.keys()).find(s=>"content-type"==s.toLowerCase()),i=te.FormData&&t instanceof te.FormData,!(0<=W2(dle,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{jU(this),0<this.B&&((this.L=function hle(t){return nu&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=nn(this.ua,this)):this.A=rT(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){UU(this,s)}},N.ua=function(){typeof Ob<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Gt(this,"timeout"),this.abort(8))},N.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Gt(this,"complete"),Gt(this,"abort"),cg(this))},N.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),cg(this,!0)),Je.$.N.call(this)},N.La=function(){this.s||(this.G||this.v||this.l?$U(this):this.kb())},N.kb=function(){$U(this)},N.isActive=function(){return!!this.g},N.da=function(){try{return 2<Qr(this)?this.g.status:-1}catch{return-1}},N.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},N.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),cle(e)}},N.Ia=function(){return this.m},N.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(N=zU.prototype).ra=8,N.H=1,N.Na=function(t){if(this.m)if(this.m=null,1==this.H){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new Ol(this,this.l,t);let s=this.s;if(this.U&&(s?(s=Z2(s),tU(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=KU(this,i,e),ke(n=Pi(this.I),"RID",t),ke(n,"CVER",22),this.F&&ke(n,"X-HTTP-Session-Id",this.F),zl(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(GU(s)))+"&"+e:this.o&&pT(n,this.o,s)),hT(this.i,i),this.bb&&ke(n,"TYPE","init"),this.P?(ke(n,"$req",e),ke(n,"SID","null"),i.aa=!0,cT(i,n,null)):cT(i,n,e),this.H=2}}else 3==this.H&&(t?WU(this,t):0==this.j.length||kU(this.i)||WU(this))},N.Ma=function(){if(this.u=null,YU(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=kl(nn(this.jb,this),t)}},N.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,mn(10),lg(this),YU(this))},N.ib=function(){null!=this.v&&(this.v=null,lg(this),mT(this),mn(19))},N.pb=function(t){t?(this.l.info("Successfully pinged google.com"),mn(2)):(this.l.info("Failed to ping google.com"),mn(1))},N.isActive=function(){return!!this.h&&this.h.isActive(this)},(N=nB.prototype).Ba=function(){},N.Aa=function(){},N.za=function(){},N.ya=function(){},N.isActive=function(){return!0},N.Va=function(){},fg.prototype.g=function(t,e){return new Wn(t,e)},xt(Wn,Rt),Wn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;mn(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=eB(t,null,t.Y),dg(t)},Wn.prototype.close=function(){gT(this.g)},Wn.prototype.u=function(t){var e=this.g;if("string"==typeof t){var n={};n.__data__=t,t=n}else this.v&&((n={}).__data__=eT(t),t=n);e.j.push(new class{constructor(t,e){this.g=t,this.map=e}}(e.fb++,t)),3==e.H&&dg(e)},Wn.prototype.N=function(){this.g.h=null,delete this.j,gT(this.g),delete this.g,Wn.$.N.call(this)},xt(rB,sT),xt(iB,oT),xt(su,nB),su.prototype.Ba=function(){Gt(this.g,"a")},su.prototype.Aa=function(t){Gt(this.g,new rB(t))},su.prototype.za=function(t){Gt(this.g,new iB)},su.prototype.ya=function(){Gt(this.g,"b")},xt(Er,function gle(){this.blockSize=-1}),Er.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Er.prototype.j=function(t,e){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(0==i)for(;s<=n;)_T(this,t,s),s+=this.blockSize;if("string"==typeof t){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){_T(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){_T(this,r),i=0;break}}this.h=i,this.i+=e},Er.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=255&n,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};var mle={};function vT(t){return-128<=t&&128>t?function Cce(t,e){var n=mle;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,function(e){return new Ce([0|e],0>e?-1:0)}):new Ce([0|t],0>t?-1:0)}function Yr(t){if(isNaN(t)||!isFinite(t))return ou;if(0>t)return zt(Yr(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=wT;return new Ce(e,0)}var wT=4294967296,ou=vT(0),IT=vT(1),oB=vT(16777216);function Oi(t){if(0!=t.h)return!1;for(var e=0;e<t.g.length;e++)if(0!=t.g[e])return!1;return!0}function or(t){return-1==t.h}function zt(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Ce(n,~t.h).add(IT)}function pg(t,e){return t.add(zt(e))}function gg(t,e){for(;(65535&t[e])!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function ql(t,e){this.g=t,this.h=e}function mg(t,e){if(Oi(e))throw Error("division by zero");if(Oi(t))return new ql(ou,ou);if(or(t))return e=mg(zt(t),e),new ql(zt(e.g),zt(e.h));if(or(e))return e=mg(t,zt(e)),new ql(zt(e.g),e.h);if(30<t.g.length){if(or(t)||or(e))throw Error("slowDivide_ only works with positive integers.");for(var n=IT,r=e;0>=r.X(t);)n=aB(n),r=aB(r);var i=au(n,1),s=au(r,1);for(r=au(r,2),n=au(n,2);!Oi(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=au(r,1),n=au(n,1)}return e=pg(t,i.R(e)),new ql(i,e)}for(i=ou;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(s=Yr(n)).R(e);or(o)||0<o.X(t);)o=(s=Yr(n-=r)).R(e);Oi(s)&&(s=IT),i=i.add(s),t=pg(t,o)}return new ql(i,t)}function aB(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Ce(n,t.h)}function au(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new Ce(i,t.h)}(N=Ce.prototype).ea=function(){if(or(this))return-zt(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:wT+r)*e,e*=wT}return t},N.toString=function(t){if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if(Oi(this))return"0";if(or(this))return"-"+zt(this).toString(t);for(var e=Yr(Math.pow(t,6)),n=this,r="";;){var i=mg(n,e).g,s=((0<(n=pg(n,i.R(e))).g.length?n.g[0]:n.h)>>>0).toString(t);if(Oi(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},N.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h},N.X=function(t){return or(t=pg(this,t))?-1:Oi(t)?0:1},N.abs=function(){return or(this)?zt(this):this},N.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(65535&this.D(i))+(65535&t.D(i)),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,n[i]=(o&=65535)<<16|(s&=65535)}return new Ce(n,-2147483648&n[n.length-1]?-1:0)},N.R=function(t){if(Oi(this)||Oi(t))return ou;if(or(this))return or(t)?zt(this).R(zt(t)):zt(zt(this).R(t));if(or(t))return zt(this.R(zt(t)));if(0>this.X(oB)&&0>t.X(oB))return Yr(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=65535&this.D(r),a=t.D(i)>>>16,u=65535&t.D(i);n[2*r+2*i]+=o*u,gg(n,2*r+2*i),n[2*r+2*i+1]+=s*u,gg(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,gg(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,gg(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Ce(n,0)},N.gb=function(t){return mg(this,t).h},N.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Ce(n,this.h&t.h)},N.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Ce(n,this.h|t.h)},N.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Ce(n,this.h^t.h)},fg.prototype.createWebChannel=fg.prototype.g,Wn.prototype.send=Wn.prototype.u,Wn.prototype.open=Wn.prototype.m,Wn.prototype.close=Wn.prototype.close,eg.NO_ERROR=0,eg.TIMEOUT=8,eg.HTTP_ERROR=6,yU.COMPLETE="complete",vU.EventType=Pl,Pl.OPEN="a",Pl.CLOSE="b",Pl.ERROR="c",Pl.MESSAGE="d",Rt.prototype.listen=Rt.prototype.O,Je.prototype.listenOnce=Je.prototype.P,Je.prototype.getLastError=Je.prototype.Sa,Je.prototype.getLastErrorCode=Je.prototype.Ia,Je.prototype.getStatus=Je.prototype.da,Je.prototype.getResponseJson=Je.prototype.Wa,Je.prototype.getResponseText=Je.prototype.ja,Je.prototype.send=Je.prototype.ha,Je.prototype.setWithCredentials=Je.prototype.Oa,Er.prototype.digest=Er.prototype.l,Er.prototype.reset=Er.prototype.reset,Er.prototype.update=Er.prototype.j,Ce.prototype.add=Ce.prototype.add,Ce.prototype.multiply=Ce.prototype.R,Ce.prototype.modulo=Ce.prototype.gb,Ce.prototype.compare=Ce.prototype.X,Ce.prototype.toNumber=Ce.prototype.ea,Ce.prototype.toString=Ce.prototype.toString,Ce.prototype.getBits=Ce.prototype.D,Ce.fromNumber=Yr,Ce.fromString=function sB(t,e){if(0==t.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==t.charAt(0))return zt(sB(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Yr(Math.pow(e,8)),r=ou,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=Yr(Math.pow(e,s)),r=r.R(s).add(Yr(o))):r=(r=r.R(n)).add(Yr(o))}return r};var yle=Ir.createWebChannelTransport=function(){return new fg},_le=Ir.getStatEventTarget=function(){return Zp()},ET=Ir.ErrorCode=eg,vle=Ir.EventType=yU,wle=Ir.Event=_o,uB=Ir.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Ile=Ir.FetchXmlHttpFactory=$l,yg=Ir.WebChannel=vU,Ele=Ir.XhrIo=Je,Dle=Ir.Md5=Er,uu=Ir.Integer=Ce;const cB="@firebase/firestore";class Nt{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Nt.UNAUTHENTICATED=new Nt(null),Nt.GOOGLE_CREDENTIALS=new Nt("google-credentials-uid"),Nt.FIRST_PARTY=new Nt("first-party-uid"),Nt.MOCK_USER=new Nt("mock-user");let cu="9.22.1";const fs=new za("@firebase/firestore");function DT(){return fs.logLevel}function S(t,...e){if(fs.logLevel<=Y.DEBUG){const n=e.map(CT);fs.debug(`Firestore (${cu}): ${t}`,...n)}}function rt(t,...e){if(fs.logLevel<=Y.ERROR){const n=e.map(CT);fs.error(`Firestore (${cu}): ${t}`,...n)}}function Dr(t,...e){if(fs.logLevel<=Y.WARN){const n=e.map(CT);fs.warn(`Firestore (${cu}): ${t}`,...n)}}function CT(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch{return t}}function F(t="Unexpected state"){const e=`FIRESTORE (${cu}) INTERNAL ASSERTION FAILED: `+t;throw rt(e),new Error(e)}function U(t,e){t||F()}function R(t,e){return t}const I={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class C extends qn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class It{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class lB{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Cle{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Nt.UNAUTHENTICATED))}shutdown(){}}class ble{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Tle{constructor(e){this.t=e,this.currentUser=Nt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let i=this.i;const s=c=>this.i!==i?(i=this.i,n(c)):Promise.resolve();let o=new It;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new It,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=o;e.enqueueRetryable(g(function*(){yield c.promise,yield s(r.currentUser)}))},u=c=>{S("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(S("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new It)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(S("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(U("string"==typeof r.accessToken),new lB(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return U(null===e||"string"==typeof e),new Nt(e)}}class Sle{constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=Nt.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class Ale{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new Sle(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(Nt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class dB{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Mle{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const r=s=>{null!=s.error&&S("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.T;return this.T=s.token,S("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{S("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?i(s):S("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(U("string"==typeof n.token),this.T=n.token,new dB(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function xle(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class hB{static A(){const n=62*Math.floor(256/62);let r="";for(;r.length<20;){const i=xle(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[s]%62))}return r}}function J(t,e){return t<e?-1:t>e?1:0}function lu(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}class qe{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new C(I.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new C(I.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new C(I.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new C(I.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return qe.fromMillis(Date.now())}static fromDate(e){return qe.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new qe(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?J(this.nanoseconds,e.nanoseconds):J(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class B{constructor(e){this.timestamp=e}static fromTimestamp(e){return new B(e)}static min(){return new B(new qe(0,0))}static max(){return new B(new qe(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Wl{constructor(e,n,r){void 0===n?n=0:n>e.length&&F(),void 0===r?r=e.length-n:r>e.length-n&&F(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===Wl.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Wl?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class fe extends Wl{construct(e,n,r){return new fe(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new C(I.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new fe(n)}static emptyPath(){return new fe([])}}const Rle=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class it extends Wl{construct(e,n,r){return new it(e,n,r)}static isValidIdentifier(e){return Rle.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),it.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new it(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(0===r.length)throw new C(I.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new C(I.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new C(I.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new C(I.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new it(n)}static emptyPath(){return new it([])}}class x{constructor(e){this.path=e}static fromPath(e){return new x(fe.fromString(e))}static fromName(e){return new x(fe.fromString(e).popFirst(5))}static empty(){return new x(fe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===fe.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return fe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new x(new fe(e.slice()))}}function gB(t){return new Kn(t.readTime,t.key,-1)}class Kn{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Kn(B.min(),x.empty(),-1)}static max(){return new Kn(B.max(),x.empty(),-1)}}function TT(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=x.comparator(t.documentKey,e.documentKey),0!==n?n:J(t.largestBatchId,e.largestBatchId))}const mB="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Ple{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function ps(t){return ST.apply(this,arguments)}function ST(){return ST=g(function*(t){if(t.code!==I.FAILED_PRECONDITION||t.message!==mB)throw t;S("LocalStore","Unexpectedly lost primary lease")}),ST.apply(this,arguments)}class w{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&F(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new w((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof w?n:w.resolve(n)}catch(n){return w.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):w.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):w.reject(n)}static resolve(e){return new w((n,r)=>{n(e)})}static reject(e){return new w((n,r)=>{r(e)})}static waitFor(e){return new w((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=w.resolve(!1);for(const r of e)n=n.next(i=>i?w.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new w((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let u=0;u<s;u++){const c=u;n(e[c]).next(l=>{o[c]=l,++a,a===s&&r(o)},l=>i(l))}})}static doWhile(e,n){return new w((r,i)=>{const s=()=>{!0===e()?n().next(()=>{s()},i):r()};s()})}}function gs(t){return"IndexedDbTransactionError"===t.name}let Qn=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ot(i),this.ut=i=>r.writeSequenceNumber(i))}ot(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.ut&&this.ut(n),n}}return t.ct=-1,t})();function Yl(t){return null==t}function Xl(t){return 0===t&&1/t==-1/0}function bB(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ms(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}class xe{constructor(e,n){this.comparator=e,this.root=n||qt.EMPTY}insert(e,n){return new xe(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,qt.BLACK,null,null))}remove(e){return new xe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,qt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Eg(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Eg(this.root,e,this.comparator,!1)}getReverseIterator(){return new Eg(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Eg(this.root,e,this.comparator,!0)}}class Eg{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class qt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??qt.RED,this.left=i??qt.EMPTY,this.right=s??qt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new qt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===s?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return qt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return qt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,qt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,qt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw F();const e=this.left.check();if(e!==this.right.check())throw F();return e+(this.isRed()?0:1)}}qt.EMPTY=null,qt.RED=!0,qt.BLACK=!1,qt.EMPTY=new class{constructor(){this.size=0}get key(){throw F()}get value(){throw F()}get color(){throw F()}get left(){throw F()}get right(){throw F()}copy(t,e,n,r,i){return this}insert(t,e,n){return new qt(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Pe{constructor(e){this.comparator=e,this.data=new xe(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new SB(this.data.getIterator())}getIteratorFrom(e){return new SB(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Pe)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Pe(this.comparator);return n.data=e,n}}class SB{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Pn{constructor(e){this.fields=e,e.sort(it.comparator)}static empty(){return new Pn([])}unionWith(e){let n=new Pe(it.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Pn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return lu(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class AB extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Et{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new AB("Invalid base64 string: "+i):i}}(e);return new Et(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new Et(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return J(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Et.EMPTY_BYTE_STRING=new Et("");const rde=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ys(t){if(U(!!t),"string"==typeof t){let e=0;const n=rde.exec(t);if(U(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ze(t.seconds),nanos:Ze(t.nanos)}}function Ze(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Fi(t){return"string"==typeof t?Et.fromBase64String(t):Et.fromUint8Array(t)}function Dg(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=t?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Cg(t){const e=t.mapValue.fields.__previous_value__;return Dg(e)?Cg(e):e}function Jl(t){const e=ys(t.mapValue.fields.__local_write_time__.timestampValue);return new qe(e.seconds,e.nanos)}class ide{constructor(e,n,r,i,s,o,a,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=c}}class Co{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Co("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Co&&e.projectId===this.projectId&&e.database===this.database}}const _s={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function vs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Dg(t)?4:NB(t)?9007199254740991:10:F()}function Jr(t,e){if(t===e)return!0;const n=vs(t);if(n!==vs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Jl(t).isEqual(Jl(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=ys(r.timestampValue),o=ys(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return i=e,Fi(t.bytesValue).isEqual(Fi(i.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return Ze(r.geoPointValue.latitude)===Ze(i.geoPointValue.latitude)&&Ze(r.geoPointValue.longitude)===Ze(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Ze(r.integerValue)===Ze(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=Ze(r.doubleValue),o=Ze(i.doubleValue);return s===o?Xl(s)===Xl(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return lu(t.arrayValue.values||[],e.arrayValue.values||[],Jr);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(bB(s)!==bB(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(void 0===o[a]||!Jr(s[a],o[a])))return!1;return!0}(t,e);default:return F()}var i}function Zl(t,e){return void 0!==(t.values||[]).find(n=>Jr(n,e))}function ws(t,e){if(t===e)return 0;const n=vs(t),r=vs(e);if(n!==r)return J(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return J(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=Ze(i.integerValue||i.doubleValue),a=Ze(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return MB(t.timestampValue,e.timestampValue);case 4:return MB(Jl(t),Jl(e));case 5:return J(t.stringValue,e.stringValue);case 6:return function(i,s){const o=Fi(i),a=Fi(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let u=0;u<o.length&&u<a.length;u++){const c=J(o[u],a[u]);if(0!==c)return c}return J(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=J(Ze(i.latitude),Ze(s.latitude));return 0!==o?o:J(Ze(i.longitude),Ze(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let u=0;u<o.length&&u<a.length;++u){const c=ws(o[u],a[u]);if(c)return c}return J(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===_s.mapValue&&s===_s.mapValue)return 0;if(i===_s.mapValue)return 1;if(s===_s.mapValue)return-1;const o=i.fields||{},a=Object.keys(o),u=s.fields||{},c=Object.keys(u);a.sort(),c.sort();for(let l=0;l<a.length&&l<c.length;++l){const d=J(a[l],c[l]);if(0!==d)return d;const h=ws(o[a[l]],u[c[l]]);if(0!==h)return h}return J(a.length,c.length)}(t.mapValue,e.mapValue);default:throw F()}}function MB(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return J(t,e);const n=ys(t),r=ys(e),i=J(n.seconds,r.seconds);return 0!==i?i:J(n.nanos,r.nanos)}function hu(t){return xT(t)}function xT(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=ys(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Fi(t.bytesValue).toBase64():"referenceValue"in t?x.fromName(t.referenceValue).toString():"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=xT(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${xT(r.fields[a])}`;return s+"}"}(t.mapValue):F();var e}function RT(t){return!!t&&"integerValue"in t}function ed(t){return!!t&&"arrayValue"in t}function xB(t){return!!t&&"nullValue"in t}function RB(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Sg(t){return!!t&&"mapValue"in t}function td(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ms(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=td(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=td(t.arrayValue.values[n]);return e}return Object.assign({},t)}function NB(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}class Wt{constructor(e){this.value=e}static empty(){return new Wt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Sg(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=td(n)}setAll(e){let n=it.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=td(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Sg(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Jr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Sg(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ms(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Wt(td(this.value))}}class Oe{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Oe(e,0,B.min(),B.min(),B.min(),Wt.empty(),0)}static newFoundDocument(e,n,r,i){return new Oe(e,1,n,B.min(),r,i,0)}static newNoDocument(e,n){return new Oe(e,2,n,B.min(),B.min(),Wt.empty(),0)}static newUnknownDocument(e,n){return new Oe(e,3,n,B.min(),B.min(),Wt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(B.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Wt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Wt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=B.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Oe&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Oe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Is{constructor(e,n){this.position=e,this.inclusive=n}}function FB(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(r=s.field.isKeyField()?x.comparator(x.fromName(o.referenceValue),n.key):ws(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function LB(t,e){if(null===t)return null===e;if(null===e||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Jr(t.position[n],e.position[n]))return!1;return!0}class fu{constructor(e,n="asc"){this.field=e,this.dir=n}}function ade(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class VB{}class le extends VB{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,r):new ude(e,n,r):"array-contains"===n?new dde(e,r):"in"===n?new GB(e,r):"not-in"===n?new hde(e,r):"array-contains-any"===n?new fde(e,r):new le(e,n,r)}static createKeyFieldInFilter(e,n,r){return"in"===n?new cde(e,r):new lde(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(ws(n,this.value)):null!==n&&vs(this.value)===vs(n)&&this.matchesComparison(ws(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return F()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class be extends VB{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new be(e,n)}matches(e){return pu(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return null!==e?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function pu(t){return"and"===t.op}function kT(t){return function UB(t){for(const e of t.filters)if(e instanceof be)return!1;return!0}(t)&&pu(t)}function PT(t){if(t instanceof le)return t.field.canonicalString()+t.op.toString()+hu(t.value);if(kT(t))return t.filters.map(e=>PT(e)).join(",");{const e=t.filters.map(n=>PT(n)).join(",");return`${t.op}(${e})`}}function BB(t,e){return t instanceof le?(n=t,(r=e)instanceof le&&n.op===r.op&&n.field.isEqual(r.field)&&Jr(n.value,r.value)):t instanceof be?function(n,r){return r instanceof be&&n.op===r.op&&n.filters.length===r.filters.length&&n.filters.reduce((i,s,o)=>i&&BB(s,r.filters[o]),!0)}(t,e):void F();var n,r}function jB(t){return t instanceof le?`${(e=t).field.canonicalString()} ${e.op} ${hu(e.value)}`:t instanceof be?function(e){return e.op.toString()+" {"+e.getFilters().map(jB).join(" ,")+"}"}(t):"Filter";var e}class ude extends le{constructor(e,n,r){super(e,n,r),this.key=x.fromName(r.referenceValue)}matches(e){const n=x.comparator(e.key,this.key);return this.matchesComparison(n)}}class cde extends le{constructor(e,n){super(e,"in",n),this.keys=HB(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class lde extends le{constructor(e,n){super(e,"not-in",n),this.keys=HB(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function HB(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>x.fromName(r.referenceValue))}class dde extends le{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return ed(n)&&Zl(n.arrayValue,this.value)}}class GB extends le{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&Zl(this.value.arrayValue,n)}}class hde extends le{constructor(e,n){super(e,"not-in",n)}matches(e){if(Zl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!Zl(this.value.arrayValue,n)}}class fde extends le{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!ed(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Zl(this.value.arrayValue,r))}}class pde{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.dt=null}}function OT(t,e=null,n=[],r=[],i=null,s=null,o=null){return new pde(t,e,n,r,i,s,o)}function To(t){const e=R(t);if(null===e.dt){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>PT(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),Yl(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>hu(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>hu(r)).join(",")),e.dt=n}return e.dt}function nd(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!ade(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!BB(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!LB(t.startAt,e.startAt)&&LB(t.endAt,e.endAt)}function Ag(t){return x.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class Li{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.wt=null,this._t=null}}function gu(t){return new Li(t)}function KB(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function So(t){const e=R(t);if(null===e.wt){e.wt=[];const n=function xg(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(null!==n)return n}return null}(e),r=function FT(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}(e);if(null!==n&&null===r)n.isKeyField()||e.wt.push(new fu(n)),e.wt.push(new fu(it.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.wt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new fu(it.keyField(),s))}}}return e.wt}function yn(t){const e=R(t);if(!e._t)if("F"===e.limitType)e._t=OT(e.path,e.collectionGroup,So(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of So(e))n.push(new fu(s.field,"desc"===s.dir?"asc":"desc"));const r=e.endAt?new Is(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Is(e.startAt.position,e.startAt.inclusive):null;e._t=OT(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e._t}function Rg(t,e,n){return new Li(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function rd(t,e){return nd(yn(t),yn(e))&&t.limitType===e.limitType}function QB(t){return`${To(yn(t))}|lt:${t.limitType}`}function UT(t){return`Query(target=${function(e){let n=e.path.canonicalString();return null!==e.collectionGroup&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>jB(r)).join(", ")}]`),Yl(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>hu(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>hu(r)).join(",")),`Target(${n})`}(yn(t))}; limitType=${t.limitType})`}function id(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return null!==n.collectionGroup?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):x.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of So(n))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&(r=e,!((n=t).startAt&&!function(i,s,o){const a=FB(i,s,o);return i.inclusive?a<=0:a<0}(n.startAt,So(n),r)||n.endAt&&!function(i,s,o){const a=FB(i,s,o);return i.inclusive?a>=0:a>0}(n.endAt,So(n),r)));var n,r}function XB(t){return(e,n)=>{let r=!1;for(const i of So(t)){const s=gde(i,e,n);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function gde(t,e,n){const r=t.field.isKeyField()?x.comparator(e.key,n.key):function(i,s,o){const a=s.data.field(i),u=o.data.field(i);return null!==a&&null!==u?ws(a,u):F()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return F()}}class Vi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ms(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return function TB(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}(this.inner)}size(){return this.innerSize}}const mde=new xe(x.comparator);function On(){return mde}const JB=new xe(x.comparator);function sd(...t){let e=JB;for(const n of t)e=e.insert(n.key,n);return e}function ZB(t){let e=JB;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Zr(){return od()}function e$(){return od()}function od(){return new Vi(t=>t.toString(),(t,e)=>t.isEqual(e))}new xe(x.comparator);const _de=new Pe(x.comparator);function oe(...t){let e=_de;for(const n of t)e=e.add(n);return e}const vde=new Pe(J);class Ng{constructor(){this._=void 0}}function wde(t,e,n){return t instanceof mu?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&Dg(i)&&(i=Cg(i)),i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof Ao?s$(t,e):t instanceof Mo?o$(t,e):function(r,i){const s=function i$(t,e){return t instanceof yu?RT(n=e)||(r=n)&&"doubleValue"in r?e:{integerValue:0}:null;var r,n}(r,i),o=a$(s)+a$(r.gt);return RT(s)&&RT(r.gt)?function n$(t){return{integerValue:""+t}}(o):function t$(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Xl(e)?"-0":e}}(r.serializer,o)}(t,e)}function Ide(t,e,n){return t instanceof Ao?s$(t,e):t instanceof Mo?o$(t,e):n}class mu extends Ng{}class Ao extends Ng{constructor(e){super(),this.elements=e}}function s$(t,e){const n=u$(e);for(const r of t.elements)n.some(i=>Jr(i,r))||n.push(r);return{arrayValue:{values:n}}}class Mo extends Ng{constructor(e){super(),this.elements=e}}function o$(t,e){let n=u$(e);for(const r of t.elements)n=n.filter(i=>!Jr(i,r));return{arrayValue:{values:n}}}class yu extends Ng{constructor(e,n){super(),this.serializer=e,this.gt=n}}function a$(t){return Ze(t.integerValue||t.doubleValue)}function u$(t){return ed(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class Ve{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ve}static exists(e){return new Ve(void 0,e)}static updateTime(e){return new Ve(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function kg(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class $T{}function c$(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new vu(t.key,Ve.none()):new _u(t.key,t.data,Ve.none());{const n=t.data,r=Wt.empty();let i=new Pe(it.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);null===o&&s.length>1&&(s=s.popLast(),o=n.field(s)),null===o?r.delete(s):r.set(s,o),i=i.add(s)}return new Ui(t.key,r,new Pn(i.toArray()),Ve.none())}}function Cde(t,e,n){t instanceof _u?function(r,i,s){const o=r.value.clone(),a=h$(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof Ui?function(r,i,s){if(!kg(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=h$(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(d$(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function ud(t,e,n,r){return t instanceof _u?function(i,s,o,a){if(!kg(i.precondition,s))return o;const u=i.value.clone(),c=f$(i.fieldTransforms,a,s);return u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ui?function(i,s,o,a){if(!kg(i.precondition,s))return o;const u=f$(i.fieldTransforms,a,s),c=s.data;return c.setAll(d$(i)),c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null===o?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(l=>l.field))}(t,e,n,r):(o=n,kg(t.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o);var s,o}function l$(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(n=t.fieldTransforms)&&void 0===r||n&&r&&lu(n,r,(i,s)=>function Ede(t,e){return t.field.isEqual(e.field)&&(r=e.transform,(n=t.transform)instanceof Ao&&r instanceof Ao||n instanceof Mo&&r instanceof Mo?lu(n.elements,r.elements,Jr):n instanceof yu&&r instanceof yu?Jr(n.gt,r.gt):n instanceof mu&&r instanceof mu);var n,r}(i,s))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var n,r}class _u extends $T{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ui extends $T{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function d$(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function h$(t,e,n){const r=new Map;U(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,Ide(o,a,n[i]))}return r}function f$(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,wde(s,o,e))}return r}class vu extends $T{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class HT{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&Cde(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=ud(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=ud(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=e$();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const u=c$(o,a);null!==u&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(B.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),oe())}isEqual(e){return this.batchId===e.batchId&&lu(this.mutations,e.mutations,(n,r)=>l$(n,r))&&lu(this.baseMutations,e.baseMutations,(n,r)=>l$(n,r))}}class zT{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Sde{constructor(e,n){this.count=e,this.unchangedNames=n}}var ht,pe;function g$(t){if(void 0===t)return rt("GRPC error has no .code"),I.UNKNOWN;switch(t){case ht.OK:return I.OK;case ht.CANCELLED:return I.CANCELLED;case ht.UNKNOWN:return I.UNKNOWN;case ht.DEADLINE_EXCEEDED:return I.DEADLINE_EXCEEDED;case ht.RESOURCE_EXHAUSTED:return I.RESOURCE_EXHAUSTED;case ht.INTERNAL:return I.INTERNAL;case ht.UNAVAILABLE:return I.UNAVAILABLE;case ht.UNAUTHENTICATED:return I.UNAUTHENTICATED;case ht.INVALID_ARGUMENT:return I.INVALID_ARGUMENT;case ht.NOT_FOUND:return I.NOT_FOUND;case ht.ALREADY_EXISTS:return I.ALREADY_EXISTS;case ht.PERMISSION_DENIED:return I.PERMISSION_DENIED;case ht.FAILED_PRECONDITION:return I.FAILED_PRECONDITION;case ht.ABORTED:return I.ABORTED;case ht.OUT_OF_RANGE:return I.OUT_OF_RANGE;case ht.UNIMPLEMENTED:return I.UNIMPLEMENTED;case ht.DATA_LOSS:return I.DATA_LOSS;default:return F()}}(pe=ht||(ht={}))[pe.OK=0]="OK",pe[pe.CANCELLED=1]="CANCELLED",pe[pe.UNKNOWN=2]="UNKNOWN",pe[pe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",pe[pe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",pe[pe.NOT_FOUND=5]="NOT_FOUND",pe[pe.ALREADY_EXISTS=6]="ALREADY_EXISTS",pe[pe.PERMISSION_DENIED=7]="PERMISSION_DENIED",pe[pe.UNAUTHENTICATED=16]="UNAUTHENTICATED",pe[pe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",pe[pe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",pe[pe.ABORTED=10]="ABORTED",pe[pe.OUT_OF_RANGE=11]="OUT_OF_RANGE",pe[pe.UNIMPLEMENTED=12]="UNIMPLEMENTED",pe[pe.INTERNAL=13]="INTERNAL",pe[pe.UNAVAILABLE=14]="UNAVAILABLE",pe[pe.DATA_LOSS=15]="DATA_LOSS";class qT{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Pg}static getOrCreateInstance(){return null===Pg&&(Pg=new qT),Pg}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let Pg=null;const Ade=new uu([4294967295,4294967295],0);function y$(t){const e=function m$(){return new TextEncoder}().encode(t),n=new Dle;return n.update(e),new Uint8Array(n.digest())}function _$(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new uu([n,r],0),new uu([i,s],0)]}class WT{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new cd(`Invalid padding: ${n}`);if(r<0)throw new cd(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new cd(`Invalid hash count: ${r}`);if(0===e.length&&0!==n)throw new cd(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=uu.fromNumber(this.It)}Et(e,n,r){let i=e.add(n.multiply(uu.fromNumber(r)));return 1===i.compare(Ade)&&(i=new uu([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const n=y$(e),[r,i]=_$(n);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);if(!this.At(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new WT(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(0===this.It)return;const n=y$(e),[r,i]=_$(n);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);this.Rt(o)}}Rt(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class cd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class ld{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,dd.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new ld(B.min(),i,new xe(J),On(),oe())}}class dd{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new dd(r,n,oe(),oe(),oe())}}class Og{constructor(e,n,r,i){this.Pt=e,this.removedTargetIds=n,this.key=r,this.bt=i}}class v${constructor(e,n){this.targetId=e,this.Vt=n}}class w${constructor(e,n,r=Et.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class I${constructor(){this.St=0,this.Dt=D$(),this.Ct=Et.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=oe(),n=oe(),r=oe();return this.Dt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:F()}}),new dd(this.Ct,this.xt,e,n,r)}Ft(){this.Nt=!1,this.Dt=D$()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class Mde{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=On(),this.zt=E$(),this.Wt=new xe(J)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const r=this.Zt(n);switch(e.state){case 0:this.te(n)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(n);break;case 3:this.te(n)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),r.$t(e.resumeToken));break;default:F()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((r,i)=>{this.te(i)&&n(i)})}ne(e){var n;const r=e.targetId,i=e.Vt.count,s=this.se(r);if(s){const o=s.target;if(Ag(o))if(0===i){const a=new x(o.path);this.Yt(r,a,Oe.newNoDocument(a,B.min()))}else U(1===i);else{const a=this.ie(r);if(a!==i){const u=this.re(e,a);0!==u&&(this.ee(r),this.Wt=this.Wt.insert(r,2===u?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(n=qT.instance)||void 0===n||n.notifyOnExistenceFilterMismatch(function(c,l,d){var h,f,p,m,y,v;const _={localCacheCount:l,existenceFilterCount:d.count},E=d.unchangedNames;return E&&(_.bloomFilter={applied:0===c,hashCount:null!==(h=E?.hashCount)&&void 0!==h?h:0,bitmapLength:null!==(m=null===(p=null===(f=E?.bits)||void 0===f?void 0:f.bitmap)||void 0===p?void 0:p.length)&&void 0!==m?m:0,padding:null!==(v=null===(y=E?.bits)||void 0===y?void 0:y.padding)&&void 0!==v?v:0}),_}(u,a,e.Vt))}}}}re(e,n){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:s="",padding:o=0},hashCount:a=0}=r;let u,c;try{u=Fi(s).toUint8Array()}catch(l){if(l instanceof AB)return Dr("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw l}try{c=new WT(u,o,a)}catch(l){return Dr(l instanceof cd?"BloomFilter error: ":"Applying bloom filter failed: ",l),1}return 0===c.It?1:i!==n-this.oe(e.targetId,c)?2:0}oe(e,n){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(s=>{const o=this.Gt.ue(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;n.vt(a)||(this.Yt(e,s,null),i++)}),i}ce(e){const n=new Map;this.Qt.forEach((s,o)=>{const a=this.se(o);if(a){if(s.current&&Ag(a.target)){const u=new x(a.target.path);null!==this.jt.get(u)||this.ae(o,u)||this.Yt(o,u,Oe.newNoDocument(u,e))}s.Mt&&(n.set(o,s.Ot()),s.Ft())}});let r=oe();this.zt.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const c=this.se(u);return!c||"TargetPurposeLimboResolution"===c.purpose||(a=!1,!1)}),a&&(r=r.add(s))}),this.jt.forEach((s,o)=>o.setReadTime(e));const i=new ld(e,n,this.Wt,this.jt,r);return this.jt=On(),this.zt=E$(),this.Wt=new xe(J),i}Jt(e,n){if(!this.te(e))return;const r=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,r),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,n)?i.Bt(n,1):i.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),r&&(this.jt=this.jt.insert(n,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new I$,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new Pe(J),this.zt=this.zt.insert(e,n)),n}te(e){const n=null!==this.se(e);return n||S("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new I$),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function E$(){return new xe(x.comparator)}function D$(){return new xe(x.comparator)}const xde={asc:"ASCENDING",desc:"DESCENDING"},Rde={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Nde={and:"AND",or:"OR"};class kde{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function KT(t,e){return t.useProto3Json||Yl(e)?e:{value:e}}function st(t){return U(!!t),B.fromTimestamp(function(e){const n=ys(e);return new qe(n.seconds,n.nanos)}(t))}function b$(t){const e=fe.fromString(t);return U(P$(e)),e}function ei(t,e){const n=b$(e);if(n.get(1)!==t.databaseId.projectId)throw new C(I.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new C(I.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new x(S$(n))}function YT(t,e){return function QT(t,e){return(n=t,new fe(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}(t.databaseId,e)}function fd(t){return new fe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function S$(t){return U(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function x$(t,e){return{documents:[YT(t,e.path)]}}function JT(t,e){const n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=YT(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=YT(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(u){if(0!==u.length)return k$(be.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(u){if(0!==u.length)return u.map(c=>{return{field:Es((l=c).field),direction:Ude(l.dir)};var l})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=KT(t,e.limit);var a,u;return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt={before:!(u=e.endAt).inclusive,values:u.position}),n}function R$(t){let e=function T$(t){const e=b$(t);return 4===e.length?fe.emptyPath():S$(e)}(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){U(1===r);const l=n.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let s=[];n.where&&(s=function(l){const d=N$(l);return d instanceof be&&kT(d)?d.getFilters():[d]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(l=>{return new fu(Iu((d=l).field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction));var d}));let a=null;n.limit&&(a=function(l){let d;return d="object"==typeof l?l.value:l,Yl(d)?null:d}(n.limit));let u=null;var l;n.startAt&&(u=new Is((l=n.startAt).values||[],!!l.before));let c=null;return n.endAt&&(c=function(l){return new Is(l.values||[],!l.before)}(n.endAt)),function WB(t,e,n,r,i,s,o,a){return new Li(t,e,n,r,i,s,o,a)}(e,i,o,s,a,"F",u,c)}function N$(t){return void 0!==t.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=Iu(e.unaryFilter.field);return le.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=Iu(e.unaryFilter.field);return le.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Iu(e.unaryFilter.field);return le.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Iu(e.unaryFilter.field);return le.create(s,"!=",{nullValue:"NULL_VALUE"});default:return F()}}(t):void 0!==t.fieldFilter?le.create(Iu((e=t).fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return F()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==t.compositeFilter?function(e){return be.create(e.compositeFilter.filters.map(n=>N$(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return F()}}(e.compositeFilter.op))}(t):F();var e}function Ude(t){return xde[t]}function Bde(t){return Rde[t]}function $de(t){return Nde[t]}function Es(t){return{fieldPath:t.canonicalString()}}function Iu(t){return it.fromServerFormat(t.fieldPath)}function k$(t){return t instanceof le?function(e){if("=="===e.op){if(RB(e.value))return{unaryFilter:{field:Es(e.field),op:"IS_NAN"}};if(xB(e.value))return{unaryFilter:{field:Es(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(RB(e.value))return{unaryFilter:{field:Es(e.field),op:"IS_NOT_NAN"}};if(xB(e.value))return{unaryFilter:{field:Es(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Es(e.field),op:Bde(e.op),value:e.value}}}(t):t instanceof be?function(e){const n=e.getFilters().map(r=>k$(r));return 1===n.length?n[0]:{compositeFilter:{op:$de(e.op),filters:n}}}(t):F()}function P$(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class Bi{constructor(e,n,r,i,s=B.min(),o=B.min(),a=Et.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new Bi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Bi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Bi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Bi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class O${constructor(e){this.fe=e}}function ZT(t){const e=R$({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Rg(e,e.limit,"L"):e}class ko{constructor(){}_e(e,n){this.me(e,n),n.ge()}me(e,n){if("nullValue"in e)this.ye(n,5);else if("booleanValue"in e)this.ye(n,10),n.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(n,15),n.pe(Ze(e.integerValue));else if("doubleValue"in e){const r=Ze(e.doubleValue);isNaN(r)?this.ye(n,13):(this.ye(n,15),Xl(r)?n.pe(0):n.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(n,20),"string"==typeof r?n.Ie(r):(n.Ie(`${r.seconds||""}`),n.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,n),this.Ee(n);else if("bytesValue"in e)this.ye(n,30),n.Ae(Fi(e.bytesValue)),this.Ee(n);else if("referenceValue"in e)this.ve(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(n,45),n.pe(r.latitude||0),n.pe(r.longitude||0)}else"mapValue"in e?NB(e)?this.ye(n,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,n),this.Ee(n)):"arrayValue"in e?(this.Pe(e.arrayValue,n),this.Ee(n)):F()}Te(e,n){this.ye(n,25),this.be(e,n)}be(e,n){n.Ie(e)}Re(e,n){const r=e.fields||{};this.ye(n,55);for(const i of Object.keys(r))this.Te(i,n),this.me(r[i],n)}Pe(e,n){const r=e.values||[];this.ye(n,50);for(const i of r)this.me(i,n)}ve(e,n){this.ye(n,37),x.fromName(e).path.forEach(r=>{this.ye(n,60),this.be(r,n)})}ye(e,n){e.pe(n)}Ee(e){e.pe(2)}}ko.Ve=new ko;class Xde{constructor(){this.rn=new o0}addToCollectionParentIndex(e,n){return this.rn.add(n),w.resolve()}getCollectionParents(e,n){return w.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return w.resolve()}deleteFieldIndex(e,n){return w.resolve()}getDocumentsMatchingTarget(e,n){return w.resolve(null)}getIndexType(e,n){return w.resolve(0)}getFieldIndexes(e,n){return w.resolve([])}getNextCollectionGroupToUpdate(e){return w.resolve(null)}getMinOffset(e,n){return w.resolve(Kn.min())}getMinOffsetFromCollectionGroup(e,n){return w.resolve(Kn.min())}updateCollectionGroup(e,n,r){return w.resolve()}updateIndexEntries(e,n){return w.resolve()}}class o0{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Pe(fe.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Pe(fe.comparator)).toArray()}}new Uint8Array(0);class on{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new on(e,on.DEFAULT_COLLECTION_PERCENTILE,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}on.DEFAULT_COLLECTION_PERCENTILE=10,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,on.DEFAULT=new on(41943040,on.DEFAULT_COLLECTION_PERCENTILE,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),on.DISABLED=new on(-1,0,0);class Oo{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Oo(0)}static Mn(){return new Oo(-1)}}class rhe{constructor(){this.changes=new Vi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Oe.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?w.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class ohe{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class aj{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(null!==r&&ud(r.mutation,i,Pn.empty(),qe.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,oe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=oe()){const i=Zr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=sd();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Zr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,oe()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=On();const o=od(),a=od();return n.forEach((u,c)=>{const l=r.get(c.key);i.has(c.key)&&(void 0===l||l.mutation instanceof Ui)?s=s.insert(c.key,c):void 0!==l?(o.set(c.key,l.mutation.getFieldMask()),ud(l.mutation,c,l.mutation.getFieldMask(),qe.now())):o.set(c.key,Pn.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((c,l)=>o.set(c,l)),n.forEach((c,l)=>{var d;return a.set(c,new ohe(l,null!==(d=o.get(c))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=od();let i=new xe((o,a)=>o-a),s=oe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(u=>{const c=n.get(u);if(null===c)return;let l=r.get(u)||Pn.empty();l=a.applyToLocalView(c,l),r.set(u,l);const d=(i.get(a.batchId)||oe()).add(u);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,l=u.value,d=e$();l.forEach(h=>{if(!s.has(h)){const f=c$(n.get(h),r.get(h));null!==f&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return w.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return x.isDocumentKey((i=n).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):function LT(t){return null!==t.collectionGroup}(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r);var i}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):w.resolve(Zr());let a=-1,u=s;return o.next(c=>w.forEach(c,(l,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(l)?w.resolve():this.remoteDocumentCache.getEntry(e,l).next(h=>{u=u.insert(l,h)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,u,c,oe())).next(l=>({batchId:a,changes:ZB(l)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new x(n)).next(r=>{let i=sd();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let s=sd();return this.indexManager.getCollectionParents(e,i).next(o=>w.forEach(o,a=>{const u=(c=n,l=a.child(i),new Li(l,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt));var c,l;return this.getDocumentsMatchingCollectionQuery(e,u,r).next(c=>{c.forEach((l,d)=>{s=s.insert(l,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i))).next(s=>{i.forEach((a,u)=>{const c=u.getKey();null===s.get(c)&&(s=s.insert(c,Oe.newInvalidDocument(c)))});let o=sd();return s.forEach((a,u)=>{const c=i.get(a);void 0!==c&&ud(c.mutation,u,Pn.empty(),qe.now()),id(n,u)&&(o=o.insert(a,u))}),o})}}class ahe{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return w.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var r;return this.cs.set(n.id,{id:(r=n).id,version:r.version,createTime:st(r.createTime)}),w.resolve()}getNamedQuery(e,n){return w.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,{name:(r=n).name,query:ZT(r.bundledQuery),readTime:st(r.readTime)}),w.resolve();var r}}class uhe{constructor(){this.overlays=new xe(x.comparator),this.ls=new Map}getOverlay(e,n){return w.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Zr();return w.forEach(n,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.we(e,n,s)}),w.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.ls.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.ls.delete(r)),w.resolve()}getOverlaysForCollection(e,n,r){const i=Zr(),s=n.length+1,o=new x(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return w.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new xe((c,l)=>c-l);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let l=s.get(c.largestBatchId);null===l&&(l=Zr(),s=s.insert(c.largestBatchId,l)),l.set(c.getKey(),c)}}const a=Zr(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,l)=>a.set(c,l)),!(a.size()>=i)););return w.resolve(a)}we(e,n,r){const i=this.overlays.get(r.key);if(null!==i){const o=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new zT(n,r));let s=this.ls.get(n);void 0===s&&(s=oe(),this.ls.set(n,s)),this.ls.set(n,s.add(r.key))}}class a0{constructor(){this.fs=new Pe(Pt.ds),this.ws=new Pe(Pt._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const r=new Pt(e,n);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.ys(new Pt(e,n))}ps(e,n){e.forEach(r=>this.removeReference(r,n))}Is(e){const n=new x(new fe([])),r=new Pt(n,e),i=new Pt(n,e+1),s=[];return this.ws.forEachInRange([r,i],o=>{this.ys(o),s.push(o.key)}),s}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new x(new fe([])),r=new Pt(n,e),i=new Pt(n,e+1);let s=oe();return this.ws.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Pt(e,0),r=this.fs.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class Pt{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return x.comparator(e.key,n.key)||J(e.As,n.As)}static _s(e,n){return J(e.As,n.As)||x.comparator(e.key,n.key)}}class che{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new Pe(Pt.ds)}checkEmpty(e){return w.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,r,i){const s=this.vs;this.vs++;const o=new HT(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Rs=this.Rs.add(new Pt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return w.resolve(o)}lookupMutationBatch(e,n){return w.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const i=this.bs(n+1),s=i<0?0:i;return w.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return w.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return w.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Pt(n,0),i=new Pt(n,Number.POSITIVE_INFINITY),s=[];return this.Rs.forEachInRange([r,i],o=>{const a=this.Ps(o.As);s.push(a)}),w.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Pe(J);return n.forEach(i=>{const s=new Pt(i,0),o=new Pt(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([s,o],a=>{r=r.add(a.As)})}),w.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;x.isDocumentKey(s)||(s=s.child(""));const o=new Pt(new x(s),0);let a=new Pe(J);return this.Rs.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(u.As)),!0)},o),w.resolve(this.Vs(a))}Vs(e){const n=[];return e.forEach(r=>{const i=this.Ps(r);null!==i&&n.push(i)}),n}removeMutationBatch(e,n){U(0===this.Ss(n.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return w.forEach(n.mutations,i=>{const s=new Pt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,n){const r=new Pt(n,0),i=this.Rs.firstAfterOrEqual(r);return w.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return w.resolve()}Ss(e,n){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class lhe{constructor(e){this.Ds=e,this.docs=new xe(x.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Ds(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return w.resolve(r?r.document.mutableCopy():Oe.newInvalidDocument(n))}getEntries(e,n){let r=On();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Oe.newInvalidDocument(i))}),w.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=On();const o=n.path,a=new x(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:c,value:{document:l}}=u.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||TT(gB(l),r)<=0||(i.has(l.key)||id(n,l))&&(s=s.insert(l.key,l.mutableCopy()))}return w.resolve(s)}getAllFromCollectionGroup(e,n,r,i){F()}Cs(e,n){return w.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new dhe(this)}getSize(e){return w.resolve(this.size)}}class dhe extends rhe{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),w.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}class hhe{constructor(e){this.persistence=e,this.xs=new Vi(n=>To(n),nd),this.lastRemoteSnapshotVersion=B.min(),this.highestTargetId=0,this.Ns=0,this.ks=new a0,this.targetCount=0,this.Ms=Oo.kn()}forEachTarget(e,n){return this.xs.forEach((r,i)=>n(i)),w.resolve()}getLastRemoteSnapshotVersion(e){return w.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return w.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),w.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Ns&&(this.Ns=n),w.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new Oo(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,w.resolve()}updateTargetData(e,n){return this.Fn(n),w.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,w.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.xs.forEach((o,a)=>{a.sequenceNumber<=n&&null===r.get(a.targetId)&&(this.xs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),w.waitFor(s).next(()=>i)}getTargetCount(e){return w.resolve(this.targetCount)}getTargetData(e,n){const r=this.xs.get(n)||null;return w.resolve(r)}addMatchingKeys(e,n,r){return this.ks.gs(n,r),w.resolve()}removeMatchingKeys(e,n,r){this.ks.ps(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),w.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),w.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ks.Es(n);return w.resolve(r)}containsKey(e,n){return w.resolve(this.ks.containsKey(n))}}class u0{constructor(e,n){this.$s={},this.overlays={},this.Os=new Qn(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new hhe(this),this.indexManager=new Xde,this.remoteDocumentCache=new lhe(r=>this.referenceDelegate.Ls(r)),this.serializer=new O$(n),this.qs=new ahe(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new uhe,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.$s[e.toKey()];return r||(r=new che(n,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,r){S("MemoryPersistence","Starting transaction:",e);const i=new fhe(this.Os.next());return this.referenceDelegate.Us(),r(i).next(s=>this.referenceDelegate.Ks(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gs(e,n){return w.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,n)))}}class fhe extends Ple{constructor(e){super(),this.currentSequenceNumber=e}}class Gg{constructor(e){this.persistence=e,this.Qs=new a0,this.js=null}static zs(e){return new Gg(e)}get Ws(){if(this.js)return this.js;throw F()}addReference(e,n,r){return this.Qs.addReference(r,n),this.Ws.delete(r.toString()),w.resolve()}removeReference(e,n,r){return this.Qs.removeReference(r,n),this.Ws.add(r.toString()),w.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),w.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Ws.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return w.forEach(this.Ws,r=>{const i=x.fromPath(r);return this.Hs(e,i).next(s=>{s||n.removeEntry(i,B.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(r=>{r?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return w.or([()=>w.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}class h0{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Fi=r,this.Bi=i}static Li(e,n){let r=oe(),i=oe();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new h0(e,n.fromCache,r,i)}}class cj{constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,r,i){return this.Ki(e,n).next(s=>s||this.Gi(e,n,i,r)).next(s=>s||this.Qi(e,n))}Ki(e,n){if(KB(n))return w.resolve(null);let r=yn(n);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==n.limit&&1===i&&(n=Rg(n,null,"F"),r=yn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=oe(...s);return this.Ui.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.ji(n,a);return this.zi(n,c,o,u.readTime)?this.Ki(e,Rg(n,null,"F")):this.Wi(e,c,n,u)}))})))}Gi(e,n,r,i){return KB(n)||i.isEqual(B.min())?this.Qi(e,n):this.Ui.getDocuments(e,r).next(s=>{const o=this.ji(n,s);return this.zi(n,o,r,i)?this.Qi(e,n):(DT()<=Y.DEBUG&&S("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),UT(n)),this.Wi(e,o,n,function pB(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=B.fromTimestamp(1e9===r?new qe(n+1,0):new qe(n,r));return new Kn(i,x.empty(),e)}(i,-1)))})}ji(e,n){let r=new Pe(XB(e));return n.forEach((i,s)=>{id(e,s)&&(r=r.add(s))}),r}zi(e,n,r,i){if(null===e.limit)return!1;if(r.size!==n.size)return!0;const s="F"===e.limitType?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Qi(e,n){return DT()<=Y.DEBUG&&S("QueryEngine","Using full collection scan to execute query:",UT(n)),this.Ui.getDocumentsMatchingQuery(e,n,Kn.min())}Wi(e,n,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}class ghe{constructor(e,n,r,i){this.persistence=e,this.Hi=n,this.serializer=i,this.Ji=new xe(J),this.Yi=new Vi(s=>To(s),nd),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new aj(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function dj(t,e){return f0.apply(this,arguments)}function f0(){return f0=g(function*(t,e){const n=R(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.tr(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let u=oe();for(const c of i){o.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}for(const c of s){a.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}return n.localDocuments.getDocuments(r,u).next(c=>({er:c,removedBatchIds:o,addedBatchIds:a}))})})}),f0.apply(this,arguments)}function hj(t){const e=R(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function bu(t,e,n){return p0.apply(this,arguments)}function p0(){return p0=g(function*(t,e,n){const r=R(t),i=r.Ji.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!gs(o))throw o;S("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}),p0.apply(this,arguments)}function Wg(t,e,n){const r=R(t);let i=B.min(),s=oe();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,u,c){const l=R(a),d=l.Yi.get(c);return void 0!==d?w.resolve(l.Ji.get(d)):l.Bs.getTargetData(u,c)}(r,o,yn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.Hi.getDocumentsMatchingQuery(o,e,n?i:B.min(),n?s:oe())).next(a=>(function mj(t,e,n){let r=t.Xi.get(e)||B.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Xi.set(e,r)}(r,function YB(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}(e),a),{documents:a,ir:s})))}class v0{constructor(){this.activeTargetIds=function BT(){return vde}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class vj{constructor(){this.Hr=new v0,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,r){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new v0,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Ihe{Yr(e){}shutdown(){}}class wj{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){S("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){S("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Yg=null;function I0(){return null===Yg?Yg=268435456+Math.round(2147483648*Math.random()):Yg++,"0x"+Yg.toString(16)}const Ehe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Dhe{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const an="WebChannelConnection";class Che extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,r,i,s){const o=I0(),a=this.To(e,n);S("RestConnection",`Sending RPC '${e}' ${o}:`,a,r);const u={};return this.Eo(u,i,s),this.Ao(e,a,u,r).then(c=>(S("RestConnection",`Received RPC '${e}' ${o}: `,c),c),c=>{throw Dr("RestConnection",`RPC '${e}' ${o} failed with error: `,c,"url: ",a,"request:",r),c})}vo(e,n,r,i,s,o){return this.Io(e,n,r,i,s)}Eo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+cu,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}To(e,n){return`${this.mo}/v1/${n}:${Ehe[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,r,i){const s=I0();return new Promise((o,a)=>{const u=new Ele;u.setWithCredentials(!0),u.listenOnce(vle.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case ET.NO_ERROR:const l=u.getResponseJson();S(an,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(l)),o(l);break;case ET.TIMEOUT:S(an,`RPC '${e}' ${s} timed out`),a(new C(I.DEADLINE_EXCEEDED,"Request time out"));break;case ET.HTTP_ERROR:const d=u.getStatus();if(S(an,`RPC '${e}' ${s} failed with status:`,d,"response text:",u.getResponseText()),d>0){let h=u.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=h?.error;if(f&&f.status&&f.message){const p=function(m){const y=m.toLowerCase().replace(/_/g,"-");return Object.values(I).indexOf(y)>=0?y:I.UNKNOWN}(f.status);a(new C(p,f.message))}else a(new C(I.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new C(I.UNAVAILABLE,"Connection failed."));break;default:F()}}finally{S(an,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);S(an,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",c,r,15)})}Ro(e,n,r){const i=I0(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=yle(),a=_le(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;void 0!==c&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.xmlHttpFactory=new Ile({})),this.Eo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const l=s.join("");S(an,`Creating RPC '${e}' stream ${i}: ${l}`,u);const d=o.createWebChannel(l,u);let h=!1,f=!1;const p=new Dhe({ro:y=>{f?S(an,`Not sending because RPC '${e}' stream ${i} is closed:`,y):(h||(S(an,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),S(an,`RPC '${e}' stream ${i} sending:`,y),d.send(y))},oo:()=>d.close()}),m=(y,v,_)=>{y.listen(v,E=>{try{_(E)}catch(A){setTimeout(()=>{throw A},0)}})};return m(d,yg.EventType.OPEN,()=>{f||S(an,`RPC '${e}' stream ${i} transport opened.`)}),m(d,yg.EventType.CLOSE,()=>{f||(f=!0,S(an,`RPC '${e}' stream ${i} transport closed`),p.wo())}),m(d,yg.EventType.ERROR,y=>{f||(f=!0,Dr(an,`RPC '${e}' stream ${i} transport errored:`,y),p.wo(new C(I.UNAVAILABLE,"The operation could not be completed")))}),m(d,yg.EventType.MESSAGE,y=>{var v;if(!f){const _=y.data[0];U(!!_);const A=_.error||(null===(v=_[0])||void 0===v?void 0:v.error);if(A){S(an,`RPC '${e}' stream ${i} received error:`,A);const O=A.status;let K=function(vn){const ri=ht[vn];if(void 0!==ri)return g$(ri)}(O),Ue=A.message;void 0===K&&(K=I.INTERNAL,Ue="Unknown error status: "+O+" with message "+A.message),f=!0,p.wo(new C(K,Ue)),d.close()}else S(an,`RPC '${e}' stream ${i} received:`,_),p._o(_)}}),m(a,wle.STAT_EVENT,y=>{y.stat===uB.PROXY?S(an,`RPC '${e}' stream ${i} detected buffering proxy`):y.stat===uB.NOPROXY&&S(an,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.fo()},0),p}}function Xg(){return typeof document<"u"?document:null}function Dd(t){return new kde(t,!0)}class E0{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ii=e,this.timerId=n,this.Po=r,this.bo=i,this.Vo=s,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,n-r);i>0&&S("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class bhe{constructor(e,n,r,i,s,o,a,u){this.ii=e,this.$o=r,this.Oo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new E0(e,n)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return g(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return g(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,n){var r=this;return g(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():n&&n.code===I.RESOURCE_EXHAUSTED?(rt(n.toString()),rt("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):n&&n.code===I.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(n)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===n&&this.Zo(r,i)},r=>{e(()=>{const i=new C(I.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,n){const r=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){var e=this;this.state=5,this.qo.No(g(function*(){e.state=0,e.start()}))}tu(e){return S("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(S("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class The extends bhe{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=function Fde(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(u=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===u?1:"REMOVE"===u?2:"CURRENT"===u?3:"RESET"===u?4:F(),i=e.targetChange.targetIds||[],s=function(u,c){return u.useProto3Json?(U(void 0===c||"string"==typeof c),Et.fromBase64String(c||"")):(U(void 0===c||c instanceof Uint8Array),Et.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const c=void 0===u.code?I.UNKNOWN:g$(u.code);return new C(c,u.message||"")}(o);n=new w$(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=ei(t,r.document.name),s=st(r.document.updateTime),o=r.document.createTime?st(r.document.createTime):B.min(),a=new Wt({mapValue:{fields:r.document.fields}}),u=Oe.newFoundDocument(i,s,o,a);n=new Og(r.targetIds||[],r.removedTargetIds||[],u.key,u)}else if("documentDelete"in e){const r=e.documentDelete,i=ei(t,r.document),s=r.readTime?st(r.readTime):B.min(),o=Oe.newNoDocument(i,s);n=new Og([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=ei(t,r.document);n=new Og([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return F();{const r=e.filter,{count:i=0,unchangedNames:s}=r,o=new Sde(i,s);n=new v$(r.targetId,o)}}var u;return n}(this.serializer,e),r=function(i){if(!("targetChange"in i))return B.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?B.min():s.readTime?st(s.readTime):B.min()}(e);return this.listener.nu(n,r)}su(e){const n={};n.database=fd(this.serializer),n.addTarget=function(i,s){let o;const a=s.target;if(o=Ag(a)?{documents:x$(i,a)}:{query:JT(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=function C$(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}(i,s.resumeToken);const u=KT(i,s.expectedCount);null!==u&&(o.expectedCount=u)}else if(s.snapshotVersion.compareTo(B.min())>0){o.readTime=function wu(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}(i,s.snapshotVersion.toTimestamp());const u=KT(i,s.expectedCount);null!==u&&(o.expectedCount=u)}return o}(this.serializer,e);const r=function Vde(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return F()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.Wo(n)}iu(e){const n={};n.database=fd(this.serializer),n.removeTarget=e,this.Wo(n)}}class Ahe extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new C(I.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Io(e,n,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===I.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new C(I.UNKNOWN,i.toString())})}vo(e,n,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.vo(e,n,r,s,o,i)).catch(s=>{throw"FirebaseError"===s.name?(s.code===I.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new C(I.UNKNOWN,s.toString())})}terminate(){this.lu=!0}}class xhe{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(rt(n),this.mu=!1):S("OnlineStateTracker",n)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class Rhe{constructor(e,n,r,i,s){var o=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=s,this.Pu.Yr(a=>{r.enqueueAndForget(g(function*(){var u;Ts(o)&&(S("RemoteStore","Restarting streams for network reachability change."),yield(u=g(function*(c){const l=R(c);l.vu.add(4),yield Tu(l),l.bu.set("Unknown"),l.vu.delete(4),yield Cd(l)}),function(c){return u.apply(this,arguments)})(o))}))}),this.bu=new xhe(r,i)}}function Cd(t){return C0.apply(this,arguments)}function C0(){return C0=g(function*(t){if(Ts(t))for(const e of t.Ru)yield e(!0)}),C0.apply(this,arguments)}function Tu(t){return b0.apply(this,arguments)}function b0(){return b0=g(function*(t){for(const e of t.Ru)yield e(!1)}),b0.apply(this,arguments)}function Jg(t,e){const n=R(t);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),A0(n)?S0(n):Au(n).Ko()&&T0(n,e))}function bd(t,e){const n=R(t),r=Au(n);n.Au.delete(e),r.Ko()&&Ej(n,e),0===n.Au.size&&(r.Ko()?r.jo():Ts(n)&&n.bu.set("Unknown"))}function T0(t,e){if(t.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(B.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Au(t).su(e)}function Ej(t,e){t.Vu.qt(e),Au(t).iu(e)}function S0(t){t.Vu=new Mde({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),le:e=>t.Au.get(e)||null,ue:()=>t.datastore.serializer.databaseId}),Au(t).start(),t.bu.gu()}function A0(t){return Ts(t)&&!Au(t).Uo()&&t.Au.size>0}function Ts(t){return 0===R(t).vu.size}function Dj(t){t.Vu=void 0}function Nhe(t){return M0.apply(this,arguments)}function M0(){return M0=g(function*(t){t.Au.forEach((e,n)=>{T0(t,e)})}),M0.apply(this,arguments)}function khe(t,e){return x0.apply(this,arguments)}function x0(){return x0=g(function*(t,e){Dj(t),A0(t)?(t.bu.Iu(e),S0(t)):t.bu.set("Unknown")}),x0.apply(this,arguments)}function Phe(t,e,n){return R0.apply(this,arguments)}function R0(){return R0=g(function*(t,e,n){if(t.bu.set("Online"),e instanceof w$&&2===e.state&&e.cause)try{yield(r=g(function*(i,s){const o=s.cause;for(const a of s.targetIds)i.Au.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.Au.delete(a),i.Vu.removeTarget(a))}),function(i,s){return r.apply(this,arguments)})(t,e)}catch(r){S("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Zg(t,r)}else if(e instanceof Og?t.Vu.Ht(e):e instanceof v$?t.Vu.ne(e):t.Vu.Xt(e),!n.isEqual(B.min()))try{const r=yield hj(t.localStore);n.compareTo(r)>=0&&(yield function(i,s){const o=i.Vu.ce(s);return o.targetChanges.forEach((a,u)=>{if(a.resumeToken.approximateByteSize()>0){const c=i.Au.get(u);c&&i.Au.set(u,c.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach((a,u)=>{const c=i.Au.get(a);if(!c)return;i.Au.set(a,c.withResumeToken(Et.EMPTY_BYTE_STRING,c.snapshotVersion)),Ej(i,a);const l=new Bi(c.target,a,u,c.sequenceNumber);T0(i,l)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n))}catch(r){S("RemoteStore","Failed to raise snapshot:",r),yield Zg(t,r)}var r}),R0.apply(this,arguments)}function Zg(t,e,n){return N0.apply(this,arguments)}function N0(){return N0=g(function*(t,e,n){if(!gs(e))throw e;t.vu.add(1),yield Tu(t),t.bu.set("Offline"),n||(n=()=>hj(t.localStore)),t.asyncQueue.enqueueRetryable(g(function*(){S("RemoteStore","Retrying IndexedDB access"),yield n(),t.vu.delete(1),yield Cd(t)}))}),N0.apply(this,arguments)}function Sj(t,e){return V0.apply(this,arguments)}function V0(){return V0=g(function*(t,e){const n=R(t);n.asyncQueue.verifyOperationInProgress(),S("RemoteStore","RemoteStore received new credentials");const r=Ts(n);n.vu.add(3),yield Tu(n),r&&n.bu.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),yield Cd(n)}),V0.apply(this,arguments)}function B0(){return B0=g(function*(t,e){const n=R(t);e?(n.vu.delete(2),yield Cd(n)):e||(n.vu.add(2),yield Tu(n),n.bu.set("Unknown"))}),B0.apply(this,arguments)}function Au(t){return t.Su||(t.Su=function(e,n,r){const i=R(e);return i.fu(),new The(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:Nhe.bind(null,t),ao:khe.bind(null,t),nu:Phe.bind(null,t)}),t.Ru.push(function(){var e=g(function*(n){n?(t.Su.Qo(),A0(t)?S0(t):t.bu.set("Unknown")):(yield t.Su.stop(),Dj(t))});return function(n){return e.apply(this,arguments)}}())),t.Su}class $0{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new It,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new $0(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new C(I.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Mu(t,e){if(rt("AsyncQueue",`${e}: ${t}`),gs(t))return new C(I.UNAVAILABLE,`${e}: ${t}`);throw t}class xu{constructor(e){this.comparator=e?(n,r)=>e(n,r)||x.comparator(n.key,r.key):(n,r)=>x.comparator(n.key,r.key),this.keyedMap=sd(),this.sortedSet=new xe(this.comparator)}static emptySet(e){return new xu(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof xu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new xu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class Aj{constructor(){this.Cu=new xe(x.comparator)}track(e){const n=e.doc.key,r=this.Cu.get(n);r?0!==e.type&&3===r.type?this.Cu=this.Cu.insert(n,e):3===e.type&&1!==r.type?this.Cu=this.Cu.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Cu=this.Cu.remove(n):1===e.type&&2===r.type?this.Cu=this.Cu.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):F():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ru{constructor(e,n,r,i,s,o,a,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Ru(e,n,xu.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&rd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class $he{constructor(){this.Nu=void 0,this.listeners=[]}}class jhe{constructor(){this.queries=new Vi(e=>QB(e),rd),this.onlineState="Unknown",this.ku=new Set}}function H0(){return H0=g(function*(t,e){const n=R(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new $he),i)try{s.Nu=yield n.onListen(r)}catch(o){const a=Mu(o,`Initialization of query '${UT(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.Mu(n.onlineState),s.Nu&&e.$u(s.Nu)&&q0(n)}),H0.apply(this,arguments)}function z0(){return z0=g(function*(t,e){const n=R(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}),z0.apply(this,arguments)}function Hhe(t,e){const n=R(t);let r=!1;for(const i of e){const o=n.queries.get(i.query);if(o){for(const a of o.listeners)a.$u(i)&&(r=!0);o.Nu=i}}r&&q0(n)}function Ghe(t,e,n){const r=R(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function q0(t){t.ku.forEach(e=>{e.next()})}class W0{constructor(e,n,r){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Ru(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){return!e.fromCache||(!this.options.Ku||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=Ru.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class Rj{constructor(e){this.key=e}}class Nj{constructor(e){this.key=e}}class kj{constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=oe(),this.mutatedKeys=oe(),this.tc=XB(e),this.ec=new xu(this.tc)}get nc(){return this.Yu}sc(e,n){const r=n?n.ic:new Aj,i=n?n.ec:this.ec;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((l,d)=>{const h=i.get(l),f=id(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),m=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let y=!1;h&&f?h.data.isEqual(f.data)?p!==m&&(r.track({type:3,doc:f}),y=!0):this.rc(h,f)||(r.track({type:2,doc:f}),y=!0,(u&&this.tc(f,u)>0||c&&this.tc(f,c)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),y=!0):h&&!f&&(r.track({type:1,doc:h}),y=!0,(u||c)&&(a=!0)),y&&(f?(o=o.add(f),s=m?s.add(l):s.delete(l)):(o=o.delete(l),s=s.delete(l)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{ec:o,ic:r,zi:a,mutatedKeys:s}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const s=e.ic.xu();s.sort((c,l)=>function(d,h){const f=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return F()}};return f(d)-f(h)}(c.type,l.type)||this.tc(c.doc,l.doc)),this.oc(r);const o=n?this.uc():[],a=0===this.Zu.size&&this.current?1:0,u=a!==this.Xu;return this.Xu=a,0!==s.length||u?{snapshot:new Ru(this.query,e.ec,i,s,e.mutatedKeys,0===a,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:o}:{cc:o}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new Aj,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=oe(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const n=[];return e.forEach(r=>{this.Zu.has(r)||n.push(new Nj(r))}),this.Zu.forEach(r=>{e.has(r)||n.push(new Rj(r))}),n}hc(e){this.Yu=e.ir,this.Zu=oe();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return Ru.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class Whe{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Khe{constructor(e){this.key=e,this.fc=!1}}class Qhe{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new Vi(a=>QB(a),rd),this._c=new Map,this.mc=new Set,this.gc=new xe(x.comparator),this.yc=new Map,this.Ic=new a0,this.Tc={},this.Ec=new Map,this.Ac=Oo.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function Yhe(t,e){return K0.apply(this,arguments)}function K0(){return K0=g(function*(t,e){const n=function yS(t){const e=R(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Pj.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=sfe.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Zhe.bind(null,e),e.dc.nu=Hhe.bind(null,e.eventManager),e.dc.Pc=Ghe.bind(null,e.eventManager),e}(t);let r,i;const s=n.wc.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.lc();else{const o=yield function Cu(t,e){const n=R(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Bs.getTargetData(r,e).next(s=>s?(i=s,w.resolve(i)):n.Bs.allocateTargetId(r).next(o=>(i=new Bi(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ji.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(r.targetId,r),n.Yi.set(e,r.targetId)),r})}(n.localStore,yn(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield function Q0(t,e,n,r,i){return Y0.apply(this,arguments)}(n,e,r,"current"===a,o.resumeToken),n.isPrimaryClient&&Jg(n.remoteStore,o)}return i}),K0.apply(this,arguments)}function Y0(){return Y0=g(function*(t,e,n,r,i){t.Rc=(d,h,f)=>{return(p=g(function*(m,y,v,_){let E=y.view.sc(v);E.zi&&(E=yield Wg(m.localStore,y.query,!1).then(({documents:K})=>y.view.sc(K,E)));const A=_&&_.targetChanges.get(y.targetId),O=y.view.applyChanges(E,m.isPrimaryClient,A);return oS(m,y.targetId,O.cc),O.snapshot}),function(m,y,v,_){return p.apply(this,arguments)})(t,d,h,f);var p};const s=yield Wg(t.localStore,e,!0),o=new kj(e,s.ir),a=o.sc(s.documents),u=dd.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState,i),c=o.applyChanges(a,t.isPrimaryClient,u);oS(t,n,c.cc);const l=new Whe(e,n,o);return t.wc.set(e,l),t._c.has(n)?t._c.get(n).push(e):t._c.set(n,[e]),c.snapshot}),Y0.apply(this,arguments)}function Xhe(t,e){return X0.apply(this,arguments)}function X0(){return X0=g(function*(t,e){const n=R(t),r=n.wc.get(e),i=n._c.get(r.targetId);if(i.length>1)return n._c.set(r.targetId,i.filter(s=>!rd(s,e))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield bu(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),bd(n.remoteStore,r.targetId),Nu(n,r.targetId)}).catch(ps))):(Nu(n,r.targetId),yield bu(n.localStore,r.targetId,!0))}),X0.apply(this,arguments)}function Pj(t,e){return Z0.apply(this,arguments)}function Z0(){return Z0=g(function*(t,e){const n=R(t);try{const r=yield function yhe(t,e){const n=R(t),r=e.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const a=[];e.targetChanges.forEach((l,d)=>{const h=i.get(d);if(!h)return;a.push(n.Bs.removeMatchingKeys(s,l.removedDocuments,d).next(()=>n.Bs.addMatchingKeys(s,l.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);var p,m,y;null!==e.targetMismatches.get(d)?f=f.withResumeToken(Et.EMPTY_BYTE_STRING,B.min()).withLastLimboFreeSnapshotVersion(B.min()):l.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(l.resumeToken,r)),i=i.insert(d,f),m=f,y=l,(0===(p=h).resumeToken.approximateByteSize()||m.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8||y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0)&&a.push(n.Bs.updateTargetData(s,f))});let u=On(),c=oe();if(e.documentUpdates.forEach(l=>{e.resolvedLimboDocuments.has(l)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,l))}),a.push(function fj(t,e,n){let r=oe(),i=oe();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=On();return n.forEach((a,u)=>{const c=s.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(B.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||0===u.version.compareTo(c.version)&&c.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):S("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{nr:o,sr:i}})}(s,o,e.documentUpdates).next(l=>{u=l.nr,c=l.sr})),!r.isEqual(B.min())){const l=n.Bs.getLastRemoteSnapshotVersion(s).next(d=>n.Bs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(l)}return w.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,c)).next(()=>u)}).then(s=>(n.Ji=i,s))}(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.yc.get(s);o&&(U(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.fc=!0:i.modifiedDocuments.size>0?U(o.fc):i.removedDocuments.size>0&&(U(o.fc),o.fc=!1))}),yield $i(n,r,e)}catch(r){yield ps(r)}}),Z0.apply(this,arguments)}function Oj(t,e,n){const r=R(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const i=[];r.wc.forEach((s,o)=>{const a=o.view.Mu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=R(s);a.onlineState=o;let u=!1;a.queries.forEach((c,l)=>{for(const d of l.listeners)d.Mu(o)&&(u=!0)}),u&&q0(a)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Zhe(t,e,n){return eS.apply(this,arguments)}function eS(){return eS=g(function*(t,e,n){const r=R(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.yc.get(e),s=i&&i.key;if(s){let o=new xe(x.comparator);o=o.insert(s,Oe.newNoDocument(s,B.min()));const a=oe().add(s),u=new ld(B.min(),new Map,new xe(J),o,a);yield Pj(r,u),r.gc=r.gc.remove(s),r.yc.delete(e),aS(r)}else yield bu(r.localStore,e,!1).then(()=>Nu(r,e,n)).catch(ps)}),eS.apply(this,arguments)}function Nu(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t._c.get(e))t.wc.delete(r),n&&t.dc.Pc(r,n);t._c.delete(e),t.isPrimaryClient&&t.Ic.Is(e).forEach(r=>{t.Ic.containsKey(r)||Fj(t,r)})}function Fj(t,e){t.mc.delete(e.path.canonicalString());const n=t.gc.get(e);null!==n&&(bd(t.remoteStore,n),t.gc=t.gc.remove(e),t.yc.delete(n),aS(t))}function oS(t,e,n){for(const r of n)r instanceof Rj?(t.Ic.addReference(r.key,e),rfe(t,r)):r instanceof Nj?(S("SyncEngine","Document no longer in limbo: "+r.key),t.Ic.removeReference(r.key,e),t.Ic.containsKey(r.key)||Fj(t,r.key)):F()}function rfe(t,e){const n=e.key,r=n.path.canonicalString();t.gc.get(n)||t.mc.has(r)||(S("SyncEngine","New document in limbo: "+n),t.mc.add(r),aS(t))}function aS(t){for(;t.mc.size>0&&t.gc.size<t.maxConcurrentLimboResolutions;){const e=t.mc.values().next().value;t.mc.delete(e);const n=new x(fe.fromString(e)),r=t.Ac.next();t.yc.set(r,new Khe(n)),t.gc=t.gc.insert(n,r),Jg(t.remoteStore,new Bi(yn(gu(n.path)),r,"TargetPurposeLimboResolution",Qn.ct))}}function $i(t,e,n){return uS.apply(this,arguments)}function uS(){return uS=g(function*(t,e,n){const r=R(t),i=[],s=[],o=[];var a;r.wc.isEmpty()||(r.wc.forEach((a,u)=>{o.push(r.Rc(u,e,n).then(c=>{if((c||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,c?.fromCache?"not-current":"current"),c){i.push(c);const l=h0.Li(u.targetId,c);s.push(l)}}))}),yield Promise.all(o),r.dc.nu(i),yield(a=g(function*(u,c){const l=R(u);try{yield l.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>w.forEach(c,h=>w.forEach(h.Fi,f=>l.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>w.forEach(h.Bi,f=>l.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!gs(d))throw d;S("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const h=d.targetId;if(!d.fromCache){const f=l.Ji.get(h),m=f.withLastLimboFreeSnapshotVersion(f.snapshotVersion);l.Ji=l.Ji.insert(h,m)}}}),function(u,c){return a.apply(this,arguments)})(r.localStore,s))}),uS.apply(this,arguments)}function ife(t,e){return cS.apply(this,arguments)}function cS(){return cS=g(function*(t,e){const n=R(t);if(!n.currentUser.isEqual(e)){S("SyncEngine","User change. New user:",e.toKey());const r=yield dj(n.localStore,e);n.currentUser=e,(i=n).Ec.forEach(o=>{o.forEach(a=>{a.reject(new C(I.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.Ec.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield $i(n,r.er)}var i}),cS.apply(this,arguments)}function sfe(t,e){const n=R(t),r=n.yc.get(e);if(r&&r.fc)return oe().add(r.key);{let i=oe();const s=n._c.get(e);if(!s)return i;for(const o of s){const a=n.wc.get(o);i=i.unionWith(a.view.nc)}return i}}class em{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return g(function*(){n.serializer=Dd(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return function lj(t,e,n,r){return new ghe(t,e,n,r)}(this.persistence,new cj,e.initialUser,this.serializer)}createPersistence(e){return new u0(Gg.zs,this.serializer)}createSharedClientState(e){return new vj}terminate(){var e=this;return g(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class ku{initialize(e,n){var r=this;return g(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(n),r.remoteStore=r.createRemoteStore(n),r.eventManager=r.createEventManager(n),r.syncEngine=r.createSyncEngine(n,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>Oj(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=ife.bind(null,r.syncEngine),yield function U0(t,e){return B0.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new jhe}createDatastore(e){const n=Dd(e.databaseInfo.databaseId),r=new Che(e.databaseInfo);return new Ahe(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>Oj(this.syncEngine,a,0),o=wj.D()?new wj:new Ihe,new Rhe(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,a,u,c){const l=new Qhe(r,i,s,o,a,u);return c&&(l.vc=!0),l}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=g(function*(n){const r=R(n);S("RemoteStore","RemoteStore shutting down."),r.vu.add(5),yield Tu(r),r.Pu.shutdown(),r.bu.set("Unknown")}),function(n){return e.apply(this,arguments)})(this.remoteStore);var e}}class tm{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):rt("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class _fe{constructor(e,n,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Nt.UNAUTHENTICATED,this.clientId=hB.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=g(function*(a){S("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(S("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return g(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new C(I.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new It;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(g(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const i=Mu(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}function nm(t,e){return vS.apply(this,arguments)}function vS(){return vS=g(function*(t,e){t.asyncQueue.verifyOperationInProgress(),S("FirestoreClient","Initializing OfflineComponentProvider");const n=yield t.getConfiguration();yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(function(){var i=g(function*(s){r.isEqual(s)||(yield dj(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}),vS.apply(this,arguments)}function wS(t,e){return IS.apply(this,arguments)}function IS(){return IS=g(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield function ES(t){return DS.apply(this,arguments)}(t);S("FirestoreClient","Initializing OnlineComponentProvider");const r=yield t.getConfiguration();yield e.initialize(n,r),t.setCredentialChangeListener(i=>Sj(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>Sj(e.remoteStore,s)),t._onlineComponents=e}),IS.apply(this,arguments)}function DS(){return DS=g(function*(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){S("FirestoreClient","Using user provided OfflineComponentProvider");try{yield nm(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function jj(t){return"FirebaseError"===t.name?t.code===I.FAILED_PRECONDITION||t.code===I.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(n))throw n;Dr("Error using user provided cache. Falling back to memory cache: "+n),yield nm(t,new em)}}else S("FirestoreClient","Using default OfflineComponentProvider"),yield nm(t,new em);return t._offlineComponents}),DS.apply(this,arguments)}function CS(){return CS=g(function*(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(S("FirestoreClient","Using user provided OnlineComponentProvider"),yield wS(t,t._uninitializedComponentsProvider._online)):(S("FirestoreClient","Using default OnlineComponentProvider"),yield wS(t,new ku))),t._onlineComponents}),CS.apply(this,arguments)}function Pu(t){return TS.apply(this,arguments)}function TS(){return TS=g(function*(t){const e=yield function rm(t){return CS.apply(this,arguments)}(t),n=e.eventManager;return n.onListen=Yhe.bind(null,e.syncEngine),n.onUnlisten=Xhe.bind(null,e.syncEngine),n}),TS.apply(this,arguments)}function Kj(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e}const Qj=new Map;function Xj(t){if(x.isDocumentKey(t))throw new C(I.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function de(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new C(I.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=function sm(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(n=t).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof t?"a function":F()}(t);throw new C(I.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}class Zj{constructor(e){var n,r;if(void 0===e.host){if(void 0!==e.ssl)throw new C(I.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new C(I.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function Sfe(t,e,n,r){if(!0===e&&!0===r)throw new C(I.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=Kj(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(i){if(void 0!==i.timeoutSeconds){if(isNaN(i.timeoutSeconds))throw new C(I.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new C(I.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new C(I.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Td{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Zj({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new C(I.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new C(I.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Zj(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new Cle;switch(n.type){case"firstParty":return new Ale(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new C(I.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=Qj.get(e);n&&(S("ComponentProvider","Removing Datastore"),Qj.delete(e),n.terminate())}(this),Promise.resolve()}}class ot{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ti(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ot(this.firestore,e,this._key)}}class Kt{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Kt(this.firestore,e,this._query)}}class ti extends Kt{constructor(e,n,r){super(e,n,gu(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ot(this.firestore,null,new x(e))}withConverter(e){return new ti(this.firestore,e,this._path)}}function Mfe(t,e,...n){if(t=_r(t),function SS(t,e,n){if(!n)throw new C(I.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}("collection","path",e),t instanceof Td){const r=fe.fromString(e,...n);return Xj(r),new ti(t,null,r)}{if(!(t instanceof ot||t instanceof ti))throw new C(I.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(fe.fromString(e,...n));return Xj(r),new ti(t.firestore,null,r)}}class Rfe{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new E0(this,"async_queue_retry"),this.Xc=()=>{const n=Xg();n&&S("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=Xg();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=Xg();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new It;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return g(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(n){if(!gs(n))throw n;S("AsyncQueue","Operation failed with retryable error: "+n)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,rt("INTERNAL UNHANDLED ERROR: ",function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),o}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=n,n}enqueueAfterDelay(e,n,r){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const i=$0.createAndSchedule(this,e,n,r,s=>this.na(s));return this.zc.push(i),i}Zc(){this.Wc&&F()}verifyOperationInProgress(){}sa(){var e=this;return g(function*(){let n;do{n=e.Gc,yield n}while(n!==e.Gc)})()}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}function AS(t){return function(e,n){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(t)}class Fe extends Td{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Rfe,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||tH(this),this._firestoreClient.terminate()}}function kfe(t,e){const r="string"==typeof t?t:e||"(default)",i=so("object"==typeof t?t:ip(),"firestore").getImmediate({identifier:r});if(!i._initialized){const s=pF("firestore");s&&function Afe(t,e,n,r={}){var i;const s=(t=de(t,Td))._getSettings();if("firestore.googleapis.com"!==s.host&&s.host!==e&&Dr("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},s),{host:`${e}:${n}`,ssl:!1})),r.mockUserToken){let o,a;if("string"==typeof r.mockUserToken)o=r.mockUserToken,a=Nt.MOCK_USER;else{o=yF(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new C(I.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new Nt(u)}t._authCredentials=new ble(new lB(o,a))}}(i,...s)}return i}function tH(t){var e,n,r;const i=t._freezeSettings(),s=(a=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new ide(t._databaseId,a,t._persistenceKey,(c=i).host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,Kj(c.experimentalLongPollingOptions),c.useFetchStreams));var a,c;t._firestoreClient=new _fe(t._authCredentials,t._appCheckCredentials,t._queue,s),null!==(n=i.cache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=i.cache)&&void 0!==r&&r._onlineComponentProvider&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}class Lo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Lo(Et.fromBase64String(e))}catch(n){throw new C(I.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Lo(Et.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Ou{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new C(I.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new it(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class MS{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new C(I.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new C(I.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return J(this._lat,e._lat)||J(this._long,e._long)}}const $fe=new RegExp("[~\\*/\\[\\]]");function um(t,e,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new C(I.INVALID_ARGUMENT,a+t+u)}class kS{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new ot(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new jfe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(cm("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class jfe extends kS{data(){return super.data()}}function cm(t,e){return"string"==typeof e?function am(t,e,n){if(e.search($fe)>=0)throw um(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ou(...e.split("."))._internalPath}catch{throw um(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}(t,e):e instanceof Ou?e._internalPath:e._delegate._internalPath}class Gfe{convertValue(e,n="none"){switch(vs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ze(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Fi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw F()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ms(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new MS(Ze(e.latitude),Ze(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Cg(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Jl(e));default:return null}}convertTimestamp(e){const n=ys(e);return new qe(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=fe.fromString(e);U(P$(r));const i=new Co(r.get(1),r.get(3)),s=new x(r.popFirst(5));return i.isEqual(n)||rt(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}class Uo{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Vu extends kS{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new fm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(cm("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class fm extends Vu{data(e={}){return super.data(e)}}class Uu{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Uo(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new fm(this._firestore,this._userDataWriter,r.key,r,new Uo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new C(I.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>({type:"added",doc:new fm(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Uo(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||3!==o.type).map(o=>{const a=new fm(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Uo(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let u=-1,c=-1;return 0!==o.type&&(u=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),1!==o.type&&(s=s.add(o.doc),c=s.indexOf(o.doc.key)),{type:qfe(o.type),doc:a,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function qfe(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return F()}}class As extends Gfe{constructor(e){super(),this.firestore=e}convertBytes(e){return new Lo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ot(this.firestore,null,n)}}!function(t,e=!0){cu=is,tn(new $t("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new Fe(new Tle(n.getProvider("auth-internal")),new Mle(n.getProvider("app-check-internal")),function(a,u){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new C(I.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Co(a.options.projectId,u)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),Ne(cB,"3.12.1",t),Ne(cB,"3.12.1","esm2017")}();var spe={includeMetadataChanges:!1};function LS(t,e){return void 0===e&&(e=spe),new Be(function(n){var r=function Wfe(t,...e){var n,r,i;t=_r(t);let s={includeMetadataChanges:!1},o=0;"object"!=typeof e[o]||AS(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(AS(e[o])){const d=e[o];e[o]=null===(n=d.next)||void 0===n?void 0:n.bind(d),e[o+1]=null===(r=d.error)||void 0===r?void 0:r.bind(d),e[o+2]=null===(i=d.complete)||void 0===i?void 0:i.bind(d)}let u,c,l;if(t instanceof ot)c=de(t.firestore,Fe),l=gu(t._key.path),u={next:d=>{e[o]&&e[o](function FS(t,e,n){const r=n.docs.get(e._key),i=new As(t);return new Vu(t,i,e._key,r,new Uo(n.hasPendingWrites,n.fromCache),e.converter)}(c,t,d))},error:e[o+1],complete:e[o+2]};else{const d=de(t,Kt);c=de(d.firestore,Fe),l=d._query;const h=new As(c);u={next:f=>{e[o]&&e[o](new Uu(c,h,d,f))},error:e[o+1],complete:e[o+2]},function pH(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new C(I.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(t._query)}return function(d,h,f,p){const m=new tm(p),y=new W0(h,m,f);return d.asyncQueue.enqueueAndForget(g(function*(){return function j0(t,e){return H0.apply(this,arguments)}(yield Pu(d),y)})),()=>{m.Dc(),d.asyncQueue.enqueueAndForget(g(function*(){return function G0(t,e){return z0.apply(this,arguments)}(yield Pu(d),y)}))}}(function ft(t){return t._firestoreClient||tH(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}(c),l,a,u)}(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function hpe(t,e){return void 0===e&&(e={}),function dpe(t){return LS(t,{includeMetadataChanges:!0}).pipe(ve(function(e){return e.docs}))}(t).pipe(ve(function(n){return n.map(function(r){return function EH(t,e){void 0===e&&(e={});var n=t.data();return!t.exists()||"object"!=typeof n||null===n||e.idField&&(n[e.idField]=t.id),n}(r,e)})}))}class Nd{constructor(e){return e}}const TH="firestore",BS=new L("angularfire2.firestore-instances");function gpe(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new Nd(r)}}const mpe={provide:class fpe{constructor(){return hp(TH)}},deps:[[new yt,BS]]},ype={provide:Nd,useFactory:function ppe(t,e){const n=dp(TH,t,e);return n&&new Nd(n)},deps:[[new yt,BS],fo]};let _pe=(()=>{class t{constructor(){Ne("angularfire",al.full,"fst")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Qt({type:t}),t.\u0275inj=Lt({providers:[ype,mpe]}),t})();function vpe(t,...e){return{ngModule:_pe,providers:[{provide:BS,useFactory:gpe(t),multi:!0,deps:[Ee,An,fp,pp,[new yt,vb],[new yt,Ep],...e]}]}}const SH=Qa(hpe,!0),AH=Qa(Mfe,!0),wpe=Qa(kfe,!0);let MH=(()=>{class t{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}}return t.\u0275fac=function(n){return new(n||t)(T(pi),T(jn))},t.\u0275dir=Q({type:t}),t})(),Bo=(()=>{class t extends MH{}return t.\u0275fac=function(){let e;return function(r){return(e||(e=Bt(t)))(r||t)}}(),t.\u0275dir=Q({type:t,features:[Ie]}),t})();const ni=new L("NgValueAccessor"),Dpe={provide:ni,useExisting:Se(()=>gm),multi:!0},bpe=new L("CompositionEventMode");let gm=(()=>{class t extends MH{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Cpe(){const t=Zi()?Zi().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(n){this.setProperty("value",n??"")}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}}return t.\u0275fac=function(n){return new(n||t)(T(pi),T(jn),T(bpe,8))},t.\u0275dir=Q({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,r){1&n&&Gn("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[Le([Dpe]),Ie]}),t})();function Ms(t){return null==t||("string"==typeof t||Array.isArray(t))&&0===t.length}function RH(t){return null!=t&&"number"==typeof t.length}const un=new L("NgValidators"),xs=new L("NgAsyncValidators"),Tpe=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class $S{static min(e){return function NH(t){return e=>{if(Ms(e.value)||Ms(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}(e)}static max(e){return function kH(t){return e=>{if(Ms(e.value)||Ms(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}(e)}static required(e){return function PH(t){return Ms(t.value)?{required:!0}:null}(e)}static requiredTrue(e){return function OH(t){return!0===t.value?null:{required:!0}}(e)}static email(e){return function FH(t){return Ms(t.value)||Tpe.test(t.value)?null:{email:!0}}(e)}static minLength(e){return function LH(t){return e=>Ms(e.value)||!RH(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function VH(t){return e=>RH(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}(e)}static pattern(e){return function UH(t){if(!t)return mm;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(Ms(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return zH(e)}static composeAsync(e){return qH(e)}}function mm(t){return null}function BH(t){return null!=t}function $H(t){return Tc(t)?Ct(t):t}function jH(t){let e={};return t.forEach(n=>{e=null!=n?{...e,...n}:e}),0===Object.keys(e).length?null:e}function HH(t,e){return e.map(n=>n(t))}function GH(t){return t.map(e=>function Spe(t){return!t.validate}(e)?e:n=>e.validate(n))}function zH(t){if(!t)return null;const e=t.filter(BH);return 0==e.length?null:function(n){return jH(HH(n,e))}}function jS(t){return null!=t?zH(GH(t)):null}function qH(t){if(!t)return null;const e=t.filter(BH);return 0==e.length?null:function(n){return function Ipe(...t){const e=xA(t),{args:n,keys:r}=rO(t),i=new Be(s=>{const{length:o}=n;if(!o)return void s.complete();const a=new Array(o);let u=o,c=o;for(let l=0;l<o;l++){let d=!1;Yn(n[l]).subscribe(Dt(s,h=>{d||(d=!0,c--),a[l]=h},()=>u--,void 0,()=>{(!u||!d)&&(c||s.next(r?sO(r,a):a),s.complete())}))}});return e?i.pipe(iO(e)):i}(HH(n,e).map($H)).pipe(ve(jH))}}function HS(t){return null!=t?qH(GH(t)):null}function WH(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function KH(t){return t._rawValidators}function QH(t){return t._rawAsyncValidators}function GS(t){return t?Array.isArray(t)?t:[t]:[]}function ym(t,e){return Array.isArray(t)?t.includes(e):t===e}function YH(t,e){const n=GS(e);return GS(t).forEach(i=>{ym(n,i)||n.push(i)}),n}function XH(t,e){return GS(e).filter(n=>!ym(t,n))}class JH{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=jS(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=HS(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return!!this.control&&this.control.hasError(e,n)}getError(e,n){return this.control?this.control.getError(e,n):null}}class _n extends JH{get formDirective(){return null}get path(){return null}}class Rs extends JH{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class ZH{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let eG=(()=>{class t extends ZH{constructor(n){super(n)}}return t.\u0275fac=function(n){return new(n||t)(T(Rs,2))},t.\u0275dir=Q({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,r){2&n&&nf("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[Ie]}),t})(),tG=(()=>{class t extends ZH{constructor(n){super(n)}}return t.\u0275fac=function(n){return new(n||t)(T(_n,10))},t.\u0275dir=Q({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(n,r){2&n&&nf("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[Ie]}),t})();const kd="VALID",vm="INVALID",Bu="PENDING",Pd="DISABLED";function WS(t){return(wm(t)?t.validators:t)||null}function KS(t,e){return(wm(e)?e.asyncValidators:t)||null}function wm(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}function rG(t,e,n){const r=t.controls;if(!(e?Object.keys(r):r).length)throw new b(1e3,"");if(!r[n])throw new b(1001,"")}function iG(t,e,n){t._forEachChild((r,i)=>{if(void 0===n[i])throw new b(1002,"")})}class Im{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===kd}get invalid(){return this.status===vm}get pending(){return this.status==Bu}get disabled(){return this.status===Pd}get enabled(){return this.status!==Pd}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(YH(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(YH(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(XH(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(XH(e,this._rawAsyncValidators))}hasValidator(e){return ym(this._rawValidators,e)}hasAsyncValidator(e){return ym(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Bu,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=Pd,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=kd,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===kd||this.status===Bu)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Pd:kd}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Bu,this._hasOwnPendingAsyncValidator=!0;const n=$H(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent)}get(e){let n=e;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Qe,this.statusChanges=new Qe}_calculateStatus(){return this._allControlsDisabled()?Pd:this.errors?vm:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Bu)?Bu:this._anyControlsHaveStatus(vm)?vm:kd}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){wm(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function Rpe(t){return Array.isArray(t)?jS(t):t||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function Npe(t){return Array.isArray(t)?HS(t):t||null}(this._rawAsyncValidators)}}class Od extends Im{constructor(e,n,r){super(WS(n),KS(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){iG(this,0,e),Object.keys(e).forEach(r=>{rG(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>!!r._syncPendingControls()||n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{const r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class sG extends Od{}const $o=new L("CallSetDisabledState",{providedIn:"root",factory:()=>Fd}),Fd="always";function Ld(t,e,n=Fd){QS(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||"always"===n)&&e.valueAccessor.setDisabledState?.(t.disabled),function Ppe(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&oG(t,e)})}(t,e),function Fpe(t,e){const n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function Ope(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&oG(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function kpe(t,e){if(e.valueAccessor.setDisabledState){const n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function Dm(t,e,n=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),bm(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function Cm(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function QS(t,e){const n=KH(t);null!==e.validator?t.setValidators(WH(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=QH(t);null!==e.asyncValidator?t.setAsyncValidators(WH(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();Cm(e._rawValidators,i),Cm(e._rawAsyncValidators,i)}function bm(t,e){let n=!1;if(null!==t){if(null!==e.validator){const i=KH(t);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.validator);s.length!==i.length&&(n=!0,t.setValidators(s))}}if(null!==e.asyncValidator){const i=QH(t);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.asyncValidator);s.length!==i.length&&(n=!0,t.setAsyncValidators(s))}}}const r=()=>{};return Cm(e._rawValidators,r),Cm(e._rawAsyncValidators,r),n}function oG(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function cG(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function lG(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const Ud=class extends Im{constructor(e=null,n,r){super(WS(n),KS(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),wm(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=lG(e)?e.value:e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){cG(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){cG(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){lG(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};let gG=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=Q({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})(),yG=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Qt({type:t}),t.\u0275inj=Lt({}),t})();const eA=new L("NgModelWithFormControlWarning"),Ype={provide:_n,useExisting:Se(()=>Tm)};let Tm=(()=>{class t extends _n{constructor(n,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Qe,this._setValidators(n),this._setAsyncValidators(r)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(bm(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){const r=this.form.get(n.path);return Ld(r,n,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),r}getControl(n){return this.form.get(n.path)}removeControl(n){Dm(n.control||null,n,!1),function Bpe(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,r){this.form.get(n.path).setValue(r)}onSubmit(n){return this.submitted=!0,function uG(t,e){t._syncPendingControls(),e.forEach(n=>{const r=n.control;"submit"===r.updateOn&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(n),"dialog"===n?.target?.method}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submitted=!1}_updateDomValue(){this.directives.forEach(n=>{const r=n.control,i=this.form.get(n.path);r!==i&&(Dm(r||null,n),(t=>t instanceof Ud)(i)&&(Ld(i,n,this.callSetDisabledState),n.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){const r=this.form.get(n.path);(function aG(t,e){QS(t,e)})(r,n),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){const r=this.form.get(n.path);r&&function Lpe(t,e){return bm(t,e)}(r,n)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){QS(this.form,this),this._oldForm&&bm(this._oldForm,this)}_checkFormPresent(){}}return t.\u0275fac=function(n){return new(n||t)(T(un,10),T(xs,10),T($o,8))},t.\u0275dir=Q({type:t,selectors:[["","formGroup",""]],hostBindings:function(n,r){1&n&&Gn("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Le([Ype]),Ie,Jn]}),t})();const Zpe={provide:Rs,useExisting:Se(()=>rA)};let rA=(()=>{class t extends Rs{set isDisabled(n){}constructor(n,r,i,s,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.name=null,this.update=new Qe,this._ngModelWarningSent=!1,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function JS(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===gm?n=s:function Upe(t){return Object.getPrototypeOf(t.constructor)===Bo}(s)?r=s:i=s}),i||r||n||null}(0,s)}ngOnChanges(n){this._added||this._setUpControl(),function XS(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return function Em(t,e){return[...e.path,t]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return t._ngModelWarningSentOnce=!1,t.\u0275fac=function(n){return new(n||t)(T(_n,13),T(un,10),T(xs,10),T(ni,10),T(eA,8))},t.\u0275dir=Q({type:t,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[Le([Zpe]),Ie,Jn]}),t})(),kG=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Qt({type:t}),t.\u0275inj=Lt({imports:[yG]}),t})();class PG extends Im{constructor(e,n,r){super(WS(n),KS(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,r={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,n={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),n&&(this.controls.splice(i,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){iG(this,0,e),e.forEach((r,i)=>{rG(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((n,r)=>!!r._syncPendingControls()||n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,r)=>{e(n,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function OG(t){return!!t&&(void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn)}let pge=(()=>{class t{constructor(){this.useNonNullable=!1}get nonNullable(){const n=new t;return n.useNonNullable=!0,n}group(n,r=null){const i=this._reduceControls(n);let s={};return OG(r)?s=r:null!==r&&(s.validators=r.validator,s.asyncValidators=r.asyncValidator),new Od(i,s)}record(n,r=null){const i=this._reduceControls(n);return new sG(i,r)}control(n,r,i){let s={};return this.useNonNullable?(OG(r)?s=r:(s.validators=r,s.asyncValidators=i),new Ud(n,{...s,nonNullable:!0})):new Ud(n,r,i)}array(n,r,i){const s=n.map(o=>this._createControl(o));return new PG(s,r,i)}_reduceControls(n){const r={};return Object.keys(n).forEach(i=>{r[i]=this._createControl(n[i])}),r}_createControl(n){return n instanceof Ud||n instanceof Im?n:Array.isArray(n)?this.control(n[0],n.length>1?n[1]:null,n.length>2?n[2]:null):this.control(n)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),gge=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:$o,useValue:n.callSetDisabledState??Fd}]}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Qt({type:t}),t.\u0275inj=Lt({imports:[kG]}),t})(),mge=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:eA,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:$o,useValue:n.callSetDisabledState??Fd}]}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Qt({type:t}),t.\u0275inj=Lt({imports:[kG]}),t})(),yge=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=qo({type:t,selectors:[["app-header"]],decls:8,vars:0,consts:[[1,"row"],[1,"col-md-1"],[1,"max","max-stats-bars2","fs-30","text-light"],[1,"col-md-10"],[1,"max-walking","text-light"]],template:function(n,r){1&n&&(_t(0,"div")(1,"div",0)(2,"div",1),Tt(3,"span",2),et(),_t(4,"div",3),Tt(5,"i",4),Vr(6," Lorem ipsum dolor sit amet, consectetur adipisicing elit. Incidunt possimus dolore quis quas ratione qui, ad unde id, natus molestiae, rem iusto nulla ipsam magni minima commodi soluta delectus in! "),et(),Tt(7,"div",1),et()())}}),t})();function _ge(t,e){1&t&&Tt(0,"app-header")}function vge(t,e){1&t&&(_t(0,"div",16),Vr(1," Ingrese correo "),et())}function wge(t,e){1&t&&(_t(0,"div",16),Vr(1," Ingrese la clave "),et())}function Ige(t,e){if(1&t){const n=function hN(){return D()}();_t(0,"div",4),Tt(1,"div",5),_t(2,"div",5),Tt(3,"div",6),_t(4,"div",7)(5,"form",8),Gn("submit",function(){return function IM(t){return W.lFrame.contextLView=t,t[We]}(n),function EM(t){return W.lFrame.contextLView=null,t}(P_().enviar())}),_t(6,"div",9)(7,"label",10),Vr(8,"Email"),et(),Tt(9,"input",11),Sa(10,vge,2,0,"div",12),et(),_t(11,"div",9)(12,"label",13),Vr(13,"Password"),et(),Tt(14,"input",14),Sa(15,wge,2,0,"div",12),et(),_t(16,"button",15),Vr(17,"Ingresar"),et()()(),Tt(18,"div",6)(19,"div",6)(20,"div",6),et(),Tt(21,"div",5),et()}if(2&t){const n=P_();let r,i;Gs(5),Yi("formGroup",n.formIngreso),Gs(5),Yi("ngIf",!(null!=(r=n.formIngreso.get("email"))&&r.valid)),Gs(5),Yi("ngIf",!(null!=(i=n.formIngreso.get("password"))&&i.valid))}}function Ege(t,e){1&t&&(_t(0,"div",17),Tt(1,"div",6)(2,"div",6),_t(3,"div",4),Tt(4,"div",18),_t(5,"div",19)(6,"div",20)(7,"div",21)(8,"a",22)(9,"p"),Vr(10," INGRESAR SORTEOS "),et()()(),_t(11,"div",21)(12,"a",22)(13,"p"),Vr(14," VER ESTADISTICAS "),et()()()(),Tt(15,"div",6)(16,"div",6)(17,"div",6),et(),Tt(18,"div",18),et()())}let Dge=(()=>{class t{constructor(n,r){this.firestore=n,this.fb=r,this.formIngreso=this.crearFormulario(),this.formGrupos=this.crearFormularioGrupos();const i=AH(this.firestore,"todos-los-grupos");this.item$=SH(i),this.mostrarLogin=!0}ngOnInit(){this.item$.subscribe({next:n=>{console.log(n)}})}crearFormulario(){return this.fb.group({email:["",[$S.required]],password:["",[$S.required]]})}crearFormularioGrupos(){return this.fb.group({grupos:["",[$S.required]]})}enviar(){"alexuriel.777@gmail.com"===this.formIngreso.value.email&&"Desarrollo2023$"===this.formIngreso.value.password&&(this.mostrarLogin=!1)}enviarGrupos(){}}return t.\u0275fac=function(n){return new(n||t)(T(Nd),T(pge))},t.\u0275cmp=qo({type:t,selectors:[["app-home"]],decls:4,vars:3,consts:[[1,"bg-dark"],[4,"ngIf"],["class","row",4,"ngIf"],["class","p-5 bg-dark",4,"ngIf"],[1,"row"],[1,"col-md-4"],[1,"espaciado"],[1,"card","p-5","bg-dark","shadow"],[1,"f-merriweather","fs-15","lh-15",3,"formGroup","submit"],[1,"form-group"],["for","exampleInputEmail1",1,"text-light"],["type","email","id","exampleInputEmail1","aria-describedby","emailHelp","formControlName","email",1,"form-control"],["class","alert alert-danger","role","alert",4,"ngIf"],["for","exampleInputPassword1",1,"text-light"],["type","password","id","exampleInputPassword1","formControlName","password",1,"form-control"],["type","submit",1,"btn","btn-primary"],["role","alert",1,"alert","alert-danger"],[1,"p-5","bg-dark"],[1,"col-md-1"],[1,"col-md-10"],[1,"row","f-shadow-into-l"],[1,"col","l-menu","bg-white"],["href",""]],template:function(n,r){1&n&&(_t(0,"div",0),Sa(1,_ge,1,0,"app-header",1),Sa(2,Ige,22,3,"div",2),Sa(3,Ege,19,0,"div",3),et()),2&n&&(Gs(1),Yi("ngIf",!r.mostrarLogin),Gs(1),Yi("ngIf",r.mostrarLogin),Gs(1),Yi("ngIf",!r.mostrarLogin))},dependencies:[AP,yge,gG,gm,eG,tG,Tm,rA]}),t})(),Cge=(()=>{class t{constructor(n){this.firestore=n}getData(n){var r=this;return g(function*(){try{const i=AH(r.firestore,n);return SH(i).subscribe({next:s=>{console.log(s,"RESPUESTA")}})}catch(i){return console.error(i),null}})()}}return t.\u0275fac=function(n){return new(n||t)($(Nd))},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const bge=[{path:"",pathMatch:"full",redirectTo:"home"},{path:"home",component:Dge},{path:"astro-sol",component:(()=>{class t{constructor(n){this.estadisticaService=n}}return t.\u0275fac=function(n){return new(n||t)(T(Cge))},t.\u0275cmp=qo({type:t,selectors:[["app-astro-sol"]],decls:2,vars:0,template:function(n,r){1&n&&(_t(0,"p"),Vr(1,"astro-sol works!"),et())}}),t})()}],Tge_firebase={projectId:"estadistica-e5eeb",appId:"1:64729521444:web:14775deeb53cf35772e7b1",databaseURL:"https://estadistica-e5eeb.firebaseio.com",storageBucket:"estadistica-e5eeb.appspot.com",locationId:"southamerica-east1",apiKey:"AIzaSyCSZ_jjFVuKWQV-MN1y11Jns6LKLX6vtA4",authDomain:"estadistica-e5eeb.firebaseapp.com",messagingSenderId:"64729521444"};let Sge=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Qt({type:t}),t.\u0275inj=Lt({imports:[NP]}),t})(),Age=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Qt({type:t,bootstrap:[uZ]}),t.\u0275inj=Lt({imports:[DY,Mw.forRoot(bge),aZ,Sge,nie(()=>rie(Tge_firebase)),vpe(()=>wpe()),Lae(()=>Vae()),gce(()=>mce()),gge,mge]}),t})();IY().bootstrapModule(Age).catch(t=>console.error(t))}},Te=>{Te(Te.s=604)}]);