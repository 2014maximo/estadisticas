"use strict";(self.webpackChunkestadisticas=self.webpackChunkestadisticas||[]).push([[179],{802:()=>{function Te(t){return"function"==typeof t}function Lu(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const Vd=Lu(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function $o(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class kn{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const s of n)s.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(Te(r))try{r()}catch(s){e=s instanceof Vd?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{aA(s)}catch(o){e=e??[],o instanceof Vd?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Vd(e)}}add(e){var n;if(e&&e!==this)if(this.closed)aA(e);else{if(e instanceof kn){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&$o(n,e)}remove(e){const{_finalizers:n}=this;n&&$o(n,e),e instanceof kn&&e._removeParent(this)}}kn.EMPTY=(()=>{const t=new kn;return t.closed=!0,t})();const sA=kn.EMPTY;function oA(t){return t instanceof kn||t&&"closed"in t&&Te(t.remove)&&Te(t.add)&&Te(t.unsubscribe)}function aA(t){Te(t)?t():t.unsubscribe()}const xs={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Ud={setTimeout(t,e,...n){const{delegate:r}=Ud;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=Ud;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function uA(t){Ud.setTimeout(()=>{const{onUnhandledError:e}=xs;if(!e)throw t;e(t)})}function cA(){}const RG=Tm("C",void 0,void 0);function Tm(t,e,n){return{kind:t,value:e,error:n}}let Rs=null;function Bd(t){if(xs.useDeprecatedSynchronousErrorHandling){const e=!Rs;if(e&&(Rs={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=Rs;if(Rs=null,n)throw r}}else t()}class Sm extends kn{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,oA(e)&&e.add(this)):this.destination=VG}static create(e,n,r){return new Vu(e,n,r)}next(e){this.isStopped?Mm(function kG(t){return Tm("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?Mm(function NG(t){return Tm("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Mm(RG,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const OG=Function.prototype.bind;function Am(t,e){return OG.call(t,e)}class FG{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){$d(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){$d(r)}else $d(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){$d(n)}}}class Vu extends Sm{constructor(e,n,r){let i;if(super(),Te(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&xs.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Am(e.next,s),error:e.error&&Am(e.error,s),complete:e.complete&&Am(e.complete,s)}):i=e}this.destination=new FG(i)}}function $d(t){xs.useDeprecatedSynchronousErrorHandling?function PG(t){xs.useDeprecatedSynchronousErrorHandling&&Rs&&(Rs.errorThrown=!0,Rs.error=t)}(t):uA(t)}function Mm(t,e){const{onStoppedNotification:n}=xs;n&&Ud.setTimeout(()=>n(t,e))}const VG={closed:!0,next:cA,error:function LG(t){throw t},complete:cA},xm="function"==typeof Symbol&&Symbol.observable||"@@observable";function Ns(t){return t}function lA(t){return 0===t.length?Ns:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}let Be=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const s=function $G(t){return t&&t instanceof Sm||function BG(t){return t&&Te(t.next)&&Te(t.error)&&Te(t.complete)}(t)&&oA(t)}(n)?n:new Vu(n,r,i);return Bd(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=dA(r))((i,s)=>{const o=new Vu({next:a=>{try{n(a)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[xm](){return this}pipe(...n){return lA(n)(this)}toPromise(n){return new(n=dA(n))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function dA(t){var e;return null!==(e=t??xs.Promise)&&void 0!==e?e:Promise}const jG=Lu(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let ri=(()=>{class t extends Be{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new hA(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new jG}next(n){Bd(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){Bd(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Bd(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:s}=this;return r||i?sA:(this.currentObservers=null,s.push(n),new kn(()=>{this.currentObservers=null,$o(s,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){const n=new Be;return n.source=this,n}}return t.create=(e,n)=>new hA(e,n),t})();class hA extends ri{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:sA}}function fA(t){return Te(t?.lift)}function Nt(t){return e=>{if(fA(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function It(t,e,n,r,i){return new HG(t,e,n,r,i)}class HG extends Sm{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function ve(t,e){return Nt((n,r)=>{let i=0;n.subscribe(It(r,s=>{r.next(t.call(e,s,i++))}))})}function km(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function $i(t){return this instanceof $i?(this.v=t,this):new $i(t)}function yA(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function Om(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,u){!function i(s,o,a,u){Promise.resolve(u).then(function(c){s({value:c,done:a})},o)}(a,u,(o=t[s](o)).done,o.value)})}}}const _A=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function vA(t){return Te(t?.then)}function wA(t){return Te(t[xm])}function IA(t){return Symbol.asyncIterator&&Te(t?.[Symbol.asyncIterator])}function EA(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const DA=function az(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function CA(t){return Te(t?.[DA])}function bA(t){return function mA(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(p,m){s.push([h,f,p,m])>1||a(h,f)})})}function a(h,f){try{!function u(h){h.value instanceof $i?Promise.resolve(h.value.v).then(c,l):d(s[0][2],h)}(r[h](f))}catch(p){d(s[0][3],p)}}function c(h){a("next",h)}function l(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield $i(n.read());if(i)return yield $i(void 0);yield yield $i(r)}}finally{n.releaseLock()}})}function TA(t){return Te(t?.getReader)}function Kn(t){if(t instanceof Be)return t;if(null!=t){if(wA(t))return function uz(t){return new Be(e=>{const n=t[xm]();if(Te(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(_A(t))return function cz(t){return new Be(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(vA(t))return function lz(t){return new Be(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,uA)})}(t);if(IA(t))return SA(t);if(CA(t))return function dz(t){return new Be(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(TA(t))return function hz(t){return SA(bA(t))}(t)}throw EA(t)}function SA(t){return new Be(e=>{(function fz(t,e){var n,r,i,s;return function pA(t,e,n,r){return new(n||(n=Promise))(function(s,o){function a(l){try{c(r.next(l))}catch(d){o(d)}}function u(l){try{c(r.throw(l))}catch(d){o(d)}}function c(l){l.done?s(l.value):function i(s){return s instanceof n?s:new n(function(o){o(s)})}(l.value).then(a,u)}c((r=r.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=yA(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function ii(t,e,n,r=0,i=!1){const s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function kt(t,e,n=1/0){return Te(e)?kt((r,i)=>ve((s,o)=>e(r,s,i,o))(Kn(t(r,i))),n):("number"==typeof e&&(n=e),Nt((r,i)=>function pz(t,e,n,r,i,s,o,a){const u=[];let c=0,l=0,d=!1;const h=()=>{d&&!u.length&&!c&&e.complete()},f=m=>c<r?p(m):u.push(m),p=m=>{s&&e.next(m),c++;let y=!1;Kn(n(m,l++)).subscribe(It(e,v=>{i?.(v),s?f(v):e.next(v)},()=>{y=!0},void 0,()=>{if(y)try{for(c--;u.length&&c<r;){const v=u.shift();o?ii(e,o,()=>p(v)):p(v)}h()}catch(v){e.error(v)}}))};return t.subscribe(It(e,f,()=>{d=!0,h()})),()=>{a?.()}}(r,i,t,n)))}function jo(t=1/0){return kt(Ns,t)}const Cr=new Be(t=>t.complete());function Fm(t){return t[t.length-1]}function AA(t){return Te(Fm(t))?t.pop():void 0}function Uu(t){return function mz(t){return t&&Te(t.schedule)}(Fm(t))?t.pop():void 0}function jd(t,e=0){return Nt((n,r)=>{n.subscribe(It(r,i=>ii(r,t,()=>r.next(i),e),()=>ii(r,t,()=>r.complete(),e),i=>ii(r,t,()=>r.error(i),e)))})}function Hd(t,e=0){return Nt((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function MA(t,e){if(!t)throw new Error("Iterable cannot be null");return new Be(n=>{ii(n,e,()=>{const r=t[Symbol.asyncIterator]();ii(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function Et(t,e){return e?function Dz(t,e){if(null!=t){if(wA(t))return function _z(t,e){return Kn(t).pipe(Hd(e),jd(e))}(t,e);if(_A(t))return function wz(t,e){return new Be(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(vA(t))return function vz(t,e){return Kn(t).pipe(Hd(e),jd(e))}(t,e);if(IA(t))return MA(t,e);if(CA(t))return function Iz(t,e){return new Be(n=>{let r;return ii(n,e,()=>{r=t[DA](),ii(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void n.error(o)}s?n.complete():n.next(i)},0,!0)}),()=>Te(r?.return)&&r.return()})}(t,e);if(TA(t))return function Ez(t,e){return MA(bA(t),e)}(t,e)}throw EA(t)}(t,e):Kn(t)}function Lm(t,e,...n){if(!0===e)return void t();if(!1===e)return;const r=new Vu({next:()=>{r.unsubscribe(),t()}});return Kn(e(...n)).subscribe(r)}function we(t){for(let e in t)if(t[e]===we)return e;throw Error("Could not find renamed property on target object.")}function Vm(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function ft(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(ft).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function Um(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const Tz=we({__forward_ref__:we});function Se(t){return t.__forward_ref__=Se,t.toString=function(){return ft(this())},t}function X(t){return Bm(t)?t():t}function Bm(t){return"function"==typeof t&&t.hasOwnProperty(Tz)&&t.__forward_ref__===Se}function $m(t){return t&&!!t.\u0275providers}class b extends Error{constructor(e,n){super(function Gd(t,e){return`NG0${Math.abs(t)}${e?": "+e:""}`}(e,n)),this.code=e}}function ye(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():function Z(t){return"string"==typeof t?t:null==t?"":String(t)}(t)}function zd(t,e){throw new b(-201,!1)}function Qn(t,e){null==t&&function _e(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function j(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function zt(t){return{providers:t.providers||[],imports:t.imports||[]}}function qd(t){return RA(t,Wd)||RA(t,kA)}function RA(t,e){return t.hasOwnProperty(e)?t[e]:null}function NA(t){return t&&(t.hasOwnProperty(jm)||t.hasOwnProperty(Pz))?t[jm]:null}const Wd=we({\u0275prov:we}),jm=we({\u0275inj:we}),kA=we({ngInjectableDef:we}),Pz=we({ngInjectorDef:we});var H=(()=>((H=H||{})[H.Default=0]="Default",H[H.Host=1]="Host",H[H.Self=2]="Self",H[H.SkipSelf=4]="SkipSelf",H[H.Optional=8]="Optional",H))();let Hm;function yn(t){const e=Hm;return Hm=t,e}function OA(t,e,n){const r=qd(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&H.Optional?null:void 0!==e?e:void zd(ft(t))}const Ae=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Bu={},Gm="__NG_DI_FLAG__",Kd="ngTempTokenPath",Fz=/\n/gm,FA="__source";let Ho;function Hi(t){const e=Ho;return Ho=t,e}function Uz(t,e=H.Default){if(void 0===Ho)throw new b(-203,!1);return null===Ho?OA(t,void 0,e):Ho.get(t,e&H.Optional?null:void 0,e)}function $(t,e=H.Default){return(function PA(){return Hm}()||Uz)(X(t),e)}function V(t,e=H.Default){return $(t,Qd(e))}function Qd(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function zm(t){const e=[];for(let n=0;n<t.length;n++){const r=X(t[n]);if(Array.isArray(r)){if(0===r.length)throw new b(900,!1);let i,s=H.Default;for(let o=0;o<r.length;o++){const a=r[o],u=Bz(a);"number"==typeof u?-1===u?i=a.token:s|=u:i=a}e.push($(i,s))}else e.push($(r))}return e}function $u(t,e){return t[Gm]=e,t.prototype[Gm]=e,t}function Bz(t){return t[Gm]}function si(t){return{toString:t}.toString()}var br=(()=>((br=br||{})[br.OnPush=0]="OnPush",br[br.Default=1]="Default",br))(),On=(()=>{return(t=On||(On={}))[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",On;var t})();const oi={},ge=[],Yd=we({\u0275cmp:we}),qm=we({\u0275dir:we}),Wm=we({\u0275pipe:we}),VA=we({\u0275mod:we}),ai=we({\u0275fac:we}),ju=we({__NG_ELEMENT_ID__:we}),UA=we({__NG_ENV_ID__:we});function BA(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function Km(t,e,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{const s=i,o=n[++r];jA(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function $A(t){return 3===t||4===t||6===t}function jA(t){return 64===t.charCodeAt(0)}function Hu(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||HA(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function HA(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const a=t[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<t.length;){const a=t[s];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}const GA="ng-template";function Hz(t,e,n){let r=0,i=!0;for(;r<t.length;){let s=t[r++];if("string"==typeof s&&i){const o=t[r++];if(n&&"class"===s&&-1!==BA(o.toLowerCase(),e,0))return!0}else{if(1===s){for(;r<t.length&&"string"==typeof(s=t[r++]);)if(s.toLowerCase()===e)return!0;return!1}"number"==typeof s&&(i=!1)}}return!1}function zA(t){return 4===t.type&&t.value!==GA}function Gz(t,e,n){return e===(4!==t.type||n?t.value:GA)}function zz(t,e,n){let r=4;const i=t.attrs||[],s=function Kz(t){for(let e=0;e<t.length;e++)if($A(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!Gz(t,u,n)||""===u&&1===e.length){if(or(r))return!1;o=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!Hz(t.attrs,c,n)){if(or(r))return!1;o=!0}continue}const d=qz(8&r?"class":u,i,zA(t),n);if(-1===d){if(or(r))return!1;o=!0;continue}if(""!==c){let h;h=d>s?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==BA(f,c,0)||2&r&&c!==h){if(or(r))return!1;o=!0}}}}else{if(!o&&!or(r)&&!or(u))return!1;if(o&&or(u))continue;o=!1,r=u|1&r}}return or(r)||o}function or(t){return 0==(1&t)}function qz(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){const o=e[i];if(o===t)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function Qz(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function qA(t,e,n=!1){for(let r=0;r<e.length;r++)if(zz(t,e[r],n))return!0;return!1}function WA(t,e){return t?":not("+e.trim()+")":e}function Xz(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!or(o)&&(e+=WA(s,i),i=""),r=o,s=s||!or(r);n++}return""!==i&&(e+=WA(s,i)),e}function Gu(t){return si(()=>{const e=QA(t),n={...e,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===br.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,data:t.data||{},encapsulation:t.encapsulation||On.Emulated,styles:t.styles||ge,_:null,schemas:t.schemas||null,tView:null,id:""};YA(n);const r=t.dependencies;return n.directiveDefs=Xd(r,!1),n.pipeDefs=Xd(r,!0),n.id=function s4(t){let e=0;const n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(n),n})}function t4(t){return me(t)||qt(t)}function n4(t){return null!==t}function sn(t){return si(()=>({type:t.type,bootstrap:t.bootstrap||ge,declarations:t.declarations||ge,imports:t.imports||ge,exports:t.exports||ge,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function KA(t,e){if(null==t)return oi;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}function Q(t){return si(()=>{const e=QA(t);return YA(e),e})}function me(t){return t[Yd]||null}function qt(t){return t[qm]||null}function vn(t){return t[Wm]||null}function Fn(t,e){const n=t[VA]||null;if(!n&&!0===e)throw new Error(`Type ${ft(t)} does not have '\u0275mod' property.`);return n}function QA(t){const e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,exportAs:t.exportAs||null,standalone:!0===t.standalone,selectors:t.selectors||ge,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:KA(t.inputs,e),outputs:KA(t.outputs)}}function YA(t){t.features?.forEach(e=>e(t))}function Xd(t,e){if(!t)return null;const n=e?vn:t4;return()=>("function"==typeof t?t():t).map(r=>n(r)).filter(n4)}const pt=0,k=1,ie=2,$e=3,ar=4,ks=5,Wt=6,zo=7,We=8,qo=9,Ps=10,ne=11,zu=12,XA=13,Wo=14,ot=15,qu=16,Ko=17,Tr=18,Wu=19,JA=20,Gi=21,ui=22,Jd=23,Zd=24,ce=25,Qm=1,ZA=2,Sr=7,eh=8,Qo=9,Pt=11;function Ln(t){return Array.isArray(t)&&"object"==typeof t[Qm]}function wn(t){return Array.isArray(t)&&!0===t[Qm]}function Ym(t){return 0!=(4&t.flags)}function Os(t){return t.componentOffset>-1}function th(t){return 1==(1&t.flags)}function ur(t){return!!t.template}function Xm(t){return 0!=(512&t[ie])}function Fs(t,e){return t.hasOwnProperty(ai)?t[ai]:null}let l4=Ae.WeakRef??class c4{constructor(e){this.ref=e}deref(){return this.ref}},h4=0,Ar=null,nh=!1;function Dt(t){const e=Ar;return Ar=t,e}class iM{constructor(){this.id=h4++,this.ref=function d4(t){return new l4(t)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[e,n]of this.producers){const r=n.producerNode.deref();if(void 0!==r&&n.atTrackingVersion===this.trackingVersion){if(r.producerPollStatus(n.seenValueVersion))return!0}else this.producers.delete(e),r?.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const e=nh;nh=!0;try{for(const[n,r]of this.consumers){const i=r.consumerNode.deref();void 0!==i&&i.trackingVersion===r.atTrackingVersion?i.onConsumerDependencyMayHaveChanged():(this.consumers.delete(n),i?.producers.delete(this.id))}}finally{nh=e}}producerAccessed(){if(nh)throw new Error("");if(null===Ar)return;let e=Ar.producers.get(this.id);void 0===e?(e={consumerNode:Ar.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:Ar.trackingVersion},Ar.producers.set(this.id,e),this.consumers.set(Ar.id,e)):(e.seenValueVersion=this.valueVersion,e.atTrackingVersion=Ar.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){return!1!==Ar?.consumerAllowSignalWrites}producerPollStatus(e){return this.valueVersion!==e||(this.onProducerUpdateValueVersion(),this.valueVersion!==e)}}let sM=null;const oM=()=>{};class m4 extends iM{constructor(e,n,r){super(),this.watch=e,this.schedule=n,this.dirty=!1,this.cleanupFn=oM,this.registerOnCleanup=i=>{this.cleanupFn=i},this.consumerAllowSignalWrites=r}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const e=Dt(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=oM,this.watch(this.registerOnCleanup)}finally{Dt(e)}}cleanup(){this.cleanupFn()}}class y4{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function Yn(){return aM}function aM(t){return t.type.prototype.ngOnChanges&&(t.setInput=v4),_4}function _4(){const t=cM(this),e=t?.current;if(e){const n=t.previous;if(n===oi)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function v4(t,e,n,r){const i=this.declaredInputs[n],s=cM(t)||function w4(t,e){return t[uM]=e}(t,{previous:oi,current:null}),o=s.current||(s.current={}),a=s.previous,u=a[i];o[i]=new y4(u&&u.currentValue,e,a===oi),t[r]=e}Yn.ngInherit=!0;const uM="__ngSimpleChanges__";function cM(t){return t[uM]||null}const Mr=function(t,e,n){};function Re(t){for(;Array.isArray(t);)t=t[pt];return t}function In(t,e){return Re(e[t.index])}function hM(t,e){return t.data[e]}function En(t,e){const n=e[t];return Ln(n)?n:n[pt]}function oh(t){return 128==(128&t[ie])}function zi(t,e){return null==e?null:t[e]}function fM(t){t[Ko]=0}function T4(t){1024&t[ie]||(t[ie]|=1024,gM(t,1))}function pM(t){1024&t[ie]&&(t[ie]&=-1025,gM(t,-1))}function gM(t,e){let n=t[$e];if(null===n)return;n[ks]+=e;let r=n;for(n=n[$e];null!==n&&(1===e&&1===r[ks]||-1===e&&0===r[ks]);)n[ks]+=e,r=n,n=n[$e]}const W={lFrame:TM(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function _M(){return W.bindingsEnabled}function D(){return W.lFrame.lView}function he(){return W.lFrame.tView}function Ot(){let t=vM();for(;null!==t&&64===t.type;)t=t.parent;return t}function vM(){return W.lFrame.currentTNode}function xr(t,e){const n=W.lFrame;n.currentTNode=t,n.isParent=e}function ry(){return W.lFrame.isParent}function B4(t,e){const n=W.lFrame;n.bindingIndex=n.bindingRootIndex=t,sy(e)}function sy(t){W.lFrame.currentDirectiveIndex=t}function ay(t){W.lFrame.currentQueryIndex=t}function j4(t){const e=t[k];return 2===e.type?e.declTNode:1===e.type?t[Wt]:null}function CM(t,e,n){if(n&H.SkipSelf){let i=e,s=t;for(;!(i=i.parent,null!==i||n&H.Host||(i=j4(s),null===i||(s=s[Wo],10&i.type))););if(null===i)return!1;e=i,t=s}const r=W.lFrame=bM();return r.currentTNode=e,r.lView=t,!0}function uy(t){const e=bM(),n=t[k];W.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function bM(){const t=W.lFrame,e=null===t?null:t.child;return null===e?TM(t):e}function TM(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function SM(){const t=W.lFrame;return W.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const AM=SM;function cy(){const t=SM();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function an(){return W.lFrame.selectedIndex}function Ls(t){W.lFrame.selectedIndex=t}let xM=!0;function ah(){return xM}function qi(t){xM=t}function uh(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:c,ngOnDestroy:l}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),c&&((t.viewHooks??=[]).push(n,c),(t.viewCheckHooks??=[]).push(n,c)),null!=l&&(t.destroyHooks??=[]).push(n,l)}}function ch(t,e,n){RM(t,e,3,n)}function lh(t,e,n,r){(3&t[ie])===n&&RM(t,e,n,r)}function ly(t,e){let n=t[ie];(3&n)===e&&(n&=4095,n+=1,t[ie]=n)}function RM(t,e,n,r){const s=r??-1,o=e.length-1;let a=0;for(let u=void 0!==r?65535&t[Ko]:0;u<o;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(t[Ko]+=65536),(a<s||-1==s)&&(Y4(t,n,e,u),t[Ko]=(4294901760&t[Ko])+u+2),u++}function NM(t,e){Mr(4,t,e);const n=Dt(null);try{e.call(t)}finally{Dt(n),Mr(5,t,e)}}function Y4(t,e,n,r){const i=n[r]<0,s=n[r+1],a=t[i?-n[r]:n[r]];i?t[ie]>>12<t[Ko]>>16&&(3&t[ie])===e&&(t[ie]+=4096,NM(a,s)):NM(a,s)}const Zo=-1;class Yu{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function kM(t){return t!==Zo}function dh(t){return 32767&t}function hh(t,e){let n=function eq(t){return t>>16}(t),r=e;for(;n>0;)r=r[Wo],n--;return r}let hy=!0;function fh(t){const e=hy;return hy=t,e}const PM=255,OM=5;let tq=0;const Rr={};function ph(t,e){const n=FM(t,e);if(-1!==n)return n;const r=e[k];r.firstCreatePass&&(t.injectorIndex=e.length,fy(r.data,t),fy(e,null),fy(r.blueprint,null));const i=py(t,e),s=t.injectorIndex;if(kM(i)){const o=dh(i),a=hh(i,e),u=a[k].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|u[o+c]}return e[s+8]=i,s}function fy(t,e){t.push(0,0,0,0,0,0,0,0,e)}function FM(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function py(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){if(r=HM(i),null===r)return Zo;if(n++,i=i[Wo],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Zo}function gy(t,e,n){!function nq(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(ju)&&(r=n[ju]),null==r&&(r=n[ju]=tq++);const i=r&PM;e.data[t+(i>>OM)]|=1<<i}(t,e,n)}function LM(t,e,n){if(n&H.Optional||void 0!==t)return t;zd()}function VM(t,e,n,r){if(n&H.Optional&&void 0===r&&(r=null),!(n&(H.Self|H.Host))){const i=t[qo],s=yn(void 0);try{return i?i.get(e,r,n&H.Optional):OA(e,r,n&H.Optional)}finally{yn(s)}}return LM(r,0,n)}function UM(t,e,n,r=H.Default,i){if(null!==t){if(2048&e[ie]&&!(r&H.Self)){const o=function aq(t,e,n,r,i){let s=t,o=e;for(;null!==s&&null!==o&&2048&o[ie]&&!(512&o[ie]);){const a=BM(s,o,n,r|H.Self,Rr);if(a!==Rr)return a;let u=s.parent;if(!u){const c=o[JA];if(c){const l=c.get(n,Rr,r);if(l!==Rr)return l}u=HM(o),o=o[Wo]}s=u}return i}(t,e,n,r,Rr);if(o!==Rr)return o}const s=BM(t,e,n,r,Rr);if(s!==Rr)return s}return VM(e,n,r,i)}function BM(t,e,n,r,i){const s=function sq(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(ju)?t[ju]:void 0;return"number"==typeof e?e>=0?e&PM:oq:e}(n);if("function"==typeof s){if(!CM(e,t,r))return r&H.Host?LM(i,0,r):VM(e,n,r,i);try{const o=s(r);if(null!=o||r&H.Optional)return o;zd()}finally{AM()}}else if("number"==typeof s){let o=null,a=FM(t,e),u=Zo,c=r&H.Host?e[ot][Wt]:null;for((-1===a||r&H.SkipSelf)&&(u=-1===a?py(t,e):e[a+8],u!==Zo&&jM(r,!1)?(o=e[k],a=dh(u),e=hh(u,e)):a=-1);-1!==a;){const l=e[k];if($M(s,a,l.data)){const d=iq(a,e,n,o,r,c);if(d!==Rr)return d}u=e[a+8],u!==Zo&&jM(r,e[k].data[a+8]===c)&&$M(s,a,e)?(o=l,a=dh(u),e=hh(u,e)):a=-1}}return i}function iq(t,e,n,r,i,s){const o=e[k],a=o.data[t+8],l=function gh(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,u=t.directiveStart,l=s>>20,h=i?a+l:t.directiveEnd;for(let f=r?a:a+l;f<h;f++){const p=o[f];if(f<u&&n===p||f>=u&&p.type===n)return f}if(i){const f=o[u];if(f&&ur(f)&&f.type===n)return u}return null}(a,o,n,null==r?Os(a)&&hy:r!=o&&0!=(3&a.type),i&H.Host&&s===a);return null!==l?Vs(e,o,l,a):Rr}function Vs(t,e,n,r){let i=t[n];const s=e.data;if(function X4(t){return t instanceof Yu}(i)){const o=i;o.resolving&&function Sz(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new b(-200,`Circular dependency in DI detected for ${t}${n}`)}(ye(s[n]));const a=fh(o.canSeeViewProviders);o.resolving=!0;const u=o.injectImpl?yn(o.injectImpl):null;CM(t,r,H.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function Q4(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=aM(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}(n,s[n],e)}finally{null!==u&&yn(u),fh(a),o.resolving=!1,AM()}}return i}function $M(t,e,n){return!!(n[e+(t>>OM)]&1<<t)}function jM(t,e){return!(t&H.Self||t&H.Host&&e)}class ea{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return UM(this._tNode,this._lView,e,Qd(r),n)}}function oq(){return new ea(Ot(),D())}function Ft(t){return si(()=>{const e=t.prototype.constructor,n=e[ai]||my(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const s=i[ai]||my(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function my(t){return Bm(t)?()=>{const e=my(X(t));return e&&e()}:Fs(t)}function HM(t){const e=t[k],n=e.type;return 2===n?e.declTNode:1===n?t[Wt]:null}const na="__parameters__";function ia(t,e,n){return si(()=>{const r=function yy(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(u,c,l){const d=u.hasOwnProperty(na)?u[na]:Object.defineProperty(u,na,{value:[]})[na];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(o),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function Zu(t,e){t.forEach(n=>Array.isArray(n)?Zu(n,e):e(n))}function zM(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function yh(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Vn(t,e,n){let r=sa(t,e);return r>=0?t[1|r]=n:(r=~r,function hq(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function _y(t,e){const n=sa(t,e);if(n>=0)return t[1|n]}function sa(t,e){return function qM(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){const s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}(t,e,1)}const mt=$u(ia("Optional"),8),vh=$u(ia("SkipSelf"),4);function Dh(t){return 128==(128&t.flags)}var Dn=(()=>((Dn=Dn||{})[Dn.Important=1]="Important",Dn[Dn.DashCase=2]="DashCase",Dn))();const Cy=new Map;let Fq=0;const Ty="__ngContext__";function Kt(t,e){Ln(e)?(t[Ty]=e[Wu],function Vq(t){Cy.set(t[Wu],t)}(e)):t[Ty]=e}let Sy;function Ay(t,e){return Sy(t,e)}function rc(t){const e=t[$e];return wn(e)?e[$e]:e}function My(t){return dx(t[zu])}function xy(t){return dx(t[ar])}function dx(t){for(;null!==t&&!wn(t);)t=t[ar];return t}function ua(t,e,n,r,i){if(null!=r){let s,o=!1;wn(r)?s=r:Ln(r)&&(o=!0,r=r[pt]);const a=Re(r);0===t&&null!==n?null==i?mx(e,n,a):Us(e,n,a,i||null,!0):1===t&&null!==n?Us(e,n,a,i||null,!0):2===t?function Mh(t,e,n){const r=Sh(t,e);r&&function r3(t,e,n,r){t.removeChild(e,n,r)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function o3(t,e,n,r,i){const s=n[Sr];s!==Re(n)&&ua(e,t,r,s,i);for(let a=Pt;a<n.length;a++){const u=n[a];sc(u[k],u,t,e,r,s)}}(e,t,s,n,i)}}function Th(t,e,n){return t.createElement(e,n)}function fx(t,e){const n=t[Qo],r=n.indexOf(e);pM(e),n.splice(r,1)}function Ny(t,e){if(t.length<=Pt)return;const n=Pt+e,r=t[n];if(r){const i=r[qu];null!==i&&i!==t&&fx(i,r),e>0&&(t[n-1][ar]=r[ar]);const s=yh(t,Pt+e);!function Qq(t,e){sc(t,e,e[ne],2,null,null),e[pt]=null,e[Wt]=null}(r[k],r);const o=s[Tr];null!==o&&o.detachView(s[k]),r[$e]=null,r[ar]=null,r[ie]&=-129}return r}function px(t,e){if(!(256&e[ie])){const n=e[ne];e[Jd]?.destroy(),e[Zd]?.destroy(),n.destroyNode&&sc(t,e,n,3,null,null),function Jq(t){let e=t[zu];if(!e)return ky(t[k],t);for(;e;){let n=null;if(Ln(e))n=e[zu];else{const r=e[Pt];r&&(n=r)}if(!n){for(;e&&!e[ar]&&e!==t;)Ln(e)&&ky(e[k],e),e=e[$e];null===e&&(e=t),Ln(e)&&ky(e[k],e),n=e&&e[ar]}e=n}}(e)}}function ky(t,e){if(!(256&e[ie])){e[ie]&=-129,e[ie]|=256,function n3(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof Yu)){const s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],u=s[o+1];Mr(4,a,u);try{u.call(a)}finally{Mr(5,a,u)}}else{Mr(4,i,s);try{s.call(i)}finally{Mr(5,i,s)}}}}}(t,e),function t3(t,e){const n=t.cleanup,r=e[zo];if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else n[s].call(r[n[s+1]]);null!==r&&(e[zo]=null);const i=e[Gi];if(null!==i){e[Gi]=null;for(let s=0;s<i.length;s++)(0,i[s])()}}(t,e),1===e[k].type&&e[ne].destroy();const n=e[qu];if(null!==n&&wn(e[$e])){n!==e[$e]&&fx(n,e);const r=e[Tr];null!==r&&r.detachView(t)}!function Uq(t){Cy.delete(t[Wu])}(e)}}function Py(t,e,n){return function gx(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[pt];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=t.data[r.directiveStart+i];if(s===On.None||s===On.Emulated)return null}return In(r,n)}}(t,e.parent,n)}function Us(t,e,n,r,i){t.insertBefore(e,n,r,i)}function mx(t,e,n){t.appendChild(e,n)}function yx(t,e,n,r,i){null!==r?Us(t,e,n,r,i):mx(t,e,n)}function Sh(t,e){return t.parentNode(e)}let Oy,Uy,wx=function vx(t,e,n){return 40&t.type?In(t,n):null};function Ah(t,e,n,r){const i=Py(t,r,e),s=e[ne],a=function _x(t,e,n){return wx(t,e,n)}(r.parent||e[Wt],r,e);if(null!=i)if(Array.isArray(n))for(let u=0;u<n.length;u++)yx(s,i,n[u],a,!1);else yx(s,i,n,a,!1);void 0!==Oy&&Oy(s,r,e,n,i)}function ic(t,e){if(null!==e){const n=e.type;if(3&n)return In(e,t);if(4&n)return Fy(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return ic(t,r);{const i=t[e.index];return wn(i)?Fy(-1,i):Re(i)}}if(32&n)return Ay(e,t)()||Re(t[e.index]);{const r=Ex(t,e);return null!==r?Array.isArray(r)?r[0]:ic(rc(t[ot]),r):ic(t,e.next)}}return null}function Ex(t,e){return null!==e?t[ot][Wt].projection[e.projection]:null}function Fy(t,e){const n=Pt+t+1;if(n<e.length){const r=e[n],i=r[k].firstChild;if(null!==i)return ic(r,i)}return e[Sr]}function Ly(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],u=n.type;if(o&&0===e&&(a&&Kt(Re(a),r),n.flags|=2),32!=(32&n.flags))if(8&u)Ly(t,e,n.child,r,i,s,!1),ua(e,t,i,a,s);else if(32&u){const c=Ay(n,r);let l;for(;l=c();)ua(e,t,i,l,s);ua(e,t,i,a,s)}else 16&u?Cx(t,e,r,n,i,s):ua(e,t,i,a,s);n=o?n.projectionNext:n.next}}function sc(t,e,n,r,i,s){Ly(n,r,t.firstChild,e,i,s,!1)}function Cx(t,e,n,r,i,s){const o=n[ot],u=o[Wt].projection[r.projection];if(Array.isArray(u))for(let c=0;c<u.length;c++)ua(e,t,i,u[c],s);else{let c=u;const l=o[$e];Dh(r)&&(c.flags|=128),Ly(t,e,c,l,i,s,!0)}}function bx(t,e,n){""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function Tx(t,e,n){const{mergedAttrs:r,classes:i,styles:s}=n;null!==r&&Km(t,e,r),null!==i&&bx(t,e,i),null!==s&&function u3(t,e,n){t.setAttribute(e,"style",n)}(t,e,s)}class xx{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class L{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=j({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const lc=new L("ENVIRONMENT_INITIALIZER"),Bx=new L("INJECTOR",-1),$x=new L("INJECTOR_DEF_TYPES");class jx{get(e,n=Bu){if(n===Bu){const r=new Error(`NullInjectorError: No provider for ${ft(e)}!`);throw r.name="NullInjectorError",r}return n}}function O3(...t){return{\u0275providers:Gx(0,t),\u0275fromNgModule:!0}}function Gx(t,...e){const n=[],r=new Set;let i;return Zu(e,s=>{const o=s;zy(o,n,[],r)&&(i||=[],i.push(o))}),void 0!==i&&zx(i,n),n}function zx(t,e){for(let n=0;n<t.length;n++){const{providers:i}=t[n];qy(i,s=>{e.push(s)})}}function zy(t,e,n,r){if(!(t=X(t)))return!1;let i=null,s=NA(t);const o=!s&&me(t);if(s||o){if(o&&!o.standalone)return!1;i=t}else{const u=t.ngModule;if(s=NA(u),!s)return!1;i=u}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const u="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const c of u)zy(c,e,n,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let c;r.add(i);try{Zu(s.imports,l=>{zy(l,e,n,r)&&(c||=[],c.push(l))})}finally{}void 0!==c&&zx(c,e)}if(!a){const c=Fs(i)||(()=>new i);e.push({provide:i,useFactory:c,deps:ge},{provide:$x,useValue:i,multi:!0},{provide:lc,useValue:()=>$(i),multi:!0})}const u=s.providers;null==u||a||qy(u,l=>{e.push(l)})}}return i!==t&&void 0!==t.providers}function qy(t,e){for(let n of t)$m(n)&&(n=n.\u0275providers),Array.isArray(n)?qy(n,e):e(n)}const F3=we({provide:String,useValue:we});function Wy(t){return null!==t&&"object"==typeof t&&F3 in t}function Bs(t){return"function"==typeof t}const Ky=new L("Set Injector scope."),kh={},V3={};let Qy;function Ph(){return void 0===Qy&&(Qy=new jx),Qy}class hi{}class Yy extends hi{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Jy(e,o=>this.processProvider(o)),this.records.set(Bx,la(void 0,this)),i.has("environment")&&this.records.set(hi,la(void 0,this));const s=this.records.get(Ky);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get($x.multi,ge,H.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of e)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const n=Hi(this),r=yn(void 0);try{return e()}finally{Hi(n),yn(r)}}get(e,n=Bu,r=H.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(UA))return e[UA](this);r=Qd(r);const i=Hi(this),s=yn(void 0);try{if(!(r&H.SkipSelf)){let a=this.records.get(e);if(void 0===a){const u=function H3(t){return"function"==typeof t||"object"==typeof t&&t instanceof L}(e)&&qd(e);a=u&&this.injectableDefInScope(u)?la(Xy(e),kh):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&H.Self?Ph():this.parent).get(e,n=r&H.Optional&&n===Bu?null:n)}catch(o){if("NullInjectorError"===o.name){if((o[Kd]=o[Kd]||[]).unshift(ft(e)),i)throw o;return function $z(t,e,n,r){const i=t[Kd];throw e[FA]&&i.unshift(e[FA]),t.message=function jz(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let i=ft(e);if(Array.isArray(e))i=e.map(ft).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):ft(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(Fz,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[Kd]=null,t}(o,e,"R3InjectorError",this.source)}throw o}finally{yn(s),Hi(i)}}resolveInjectorInitializers(){const e=Hi(this),n=yn(void 0);try{const r=this.get(lc.multi,ge,H.Self);for(const i of r)i()}finally{Hi(e),yn(n)}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push(ft(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new b(205,!1)}processProvider(e){let n=Bs(e=X(e))?e:X(e&&e.provide);const r=function B3(t){return Wy(t)?la(void 0,t.useValue):la(Kx(t),kh)}(e);if(Bs(e)||!0!==e.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=la(void 0,kh,!0),i.factory=()=>zm(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===kh&&(n.value=V3,n.value=n.factory()),"object"==typeof n.value&&n.value&&function j3(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=X(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){const n=this._onDestroyHooks.indexOf(e);-1!==n&&this._onDestroyHooks.splice(n,1)}}function Xy(t){const e=qd(t),n=null!==e?e.factory:Fs(t);if(null!==n)return n;if(t instanceof L)throw new b(204,!1);if(t instanceof Function)return function U3(t){const e=t.length;if(e>0)throw function ec(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}(e,"?"),new b(204,!1);const n=function kz(t){return t&&(t[Wd]||t[kA])||null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new b(204,!1)}function Kx(t,e,n){let r;if(Bs(t)){const i=X(t);return Fs(i)||Xy(i)}if(Wy(t))r=()=>X(t.useValue);else if(function Wx(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...zm(t.deps||[]));else if(function qx(t){return!(!t||!t.useExisting)}(t))r=()=>$(X(t.useExisting));else{const i=X(t&&(t.useClass||t.provide));if(!function $3(t){return!!t.deps}(t))return Fs(i)||Xy(i);r=()=>new i(...zm(t.deps))}return r}function la(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Jy(t,e){for(const n of t)Array.isArray(n)?Jy(n,e):n&&$m(n)?Jy(n.\u0275providers,e):e(n)}const Oh=new L("AppId",{providedIn:"root",factory:()=>G3}),G3="ng",Qx=new L("Platform Initializer"),Ki=new L("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Yx=new L("CSP nonce",{providedIn:"root",factory:()=>function oc(){if(void 0!==Uy)return Uy;if(typeof document<"u")return document;throw new b(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Jx=(t,e)=>null;function Zx(t,e){return Jx(t,e)}class Z3{}class nR{}class tW{resolveComponentFactory(e){throw function eW(t){const e=Error(`No component factory found for ${ft(t)}.`);return e.ngComponent=t,e}(e)}}let Bh=(()=>{class t{}return t.NULL=new tW,t})();function nW(){return da(Ot(),D())}function da(t,e){return new Un(In(t,e))}let Un=(()=>{class t{constructor(n){this.nativeElement=n}}return t.__NG_ELEMENT_ID__=nW,t})();class iR{}let fi=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>function iW(){const t=D(),n=En(Ot().index,t);return(Ln(n)?n:t)[ne]}(),t})(),sW=(()=>{class t{}return t.\u0275prov=j({token:t,providedIn:"root",factory:()=>null}),t})();class ha{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const sR=new ha("16.0.3"),c_={};function pc(t){for(;t;){t[ie]|=64;const e=rc(t);if(Xm(t)&&!e)return t;t=e}return null}function l_(t){return t.ngOriginalError}class $s{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&l_(e);for(;n&&l_(n);)n=l_(n);return n||null}}const uR=new L("",{providedIn:"root",factory:()=>!1});function pi(t){return t instanceof Function?t():t}class fR extends iM{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(e){this._lView=e}onConsumerDependencyMayHaveChanged(){pc(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(e,n,r){const i=Dt(this);this.trackingVersion++;try{e(n,r)}finally{Dt(i)}}destroy(){this.trackingVersion++}}let jh=null;function pR(){return jh??=new fR,jh}function gR(t,e){return t[e]??pR()}function mR(t,e){const n=pR();n.hasReadASignal&&(t[e]=jh,n.lView=t,jh=new fR)}const re={};function Hh(t){yR(he(),D(),an()+t,!1)}function yR(t,e,n,r){if(!r)if(3==(3&e[ie])){const s=t.preOrderCheckHooks;null!==s&&ch(e,s,n)}else{const s=t.preOrderHooks;null!==s&&lh(e,s,0,n)}Ls(n)}function IR(t,e=null,n=null,r){const i=ER(t,e,n,r);return i.resolveInjectorInitializers(),i}function ER(t,e=null,n=null,r,i=new Set){const s=[n||ge,O3(t)];return r=r||("object"==typeof t?void 0:ft(t)),new Yy(s,e||Ph(),r||null,i)}let bn=(()=>{class t{static create(n,r){if(Array.isArray(n))return IR({name:""},r,n,"");{const i=n.name??"";return IR({name:i},n.parent,n.providers,i)}}}return t.THROW_IF_NOT_FOUND=Bu,t.NULL=new jx,t.\u0275prov=j({token:t,providedIn:"any",factory:()=>$(Bx)}),t.__NG_ELEMENT_ID__=-1,t})();function T(t,e=H.Default){const n=D();return null===n?$(t,e):UM(Ot(),n,X(t),e)}function Gh(t,e,n,r,i,s,o,a,u,c,l){const d=e.blueprint.slice();return d[pt]=i,d[ie]=140|r,(null!==c||t&&2048&t[ie])&&(d[ie]|=2048),fM(d),d[$e]=d[Wo]=t,d[We]=n,d[Ps]=o||t&&t[Ps],d[ne]=a||t&&t[ne],d[qo]=u||t&&t[qo]||null,d[Wt]=s,d[Wu]=function Lq(){return Fq++}(),d[ui]=l,d[JA]=c,d[ot]=2==e.type?t[ot]:d,d}function pa(t,e,n,r,i){let s=t.data[e];if(null===s)s=function d_(t,e,n,r,i){const s=vM(),o=ry(),u=t.data[e]=function TW(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return function Xo(){return null!==W.skipHydrationRootTNode}()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=u),null!==s&&(o?null==s.child&&null!==u.parent&&(s.child=u):null===s.next&&(s.next=u,u.prev=s)),u}(t,e,n,r,i),function U4(){return W.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const o=function Qu(){const t=W.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return xr(s,!0),s}function gc(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function CR(t,e,n,r,i){const s=gR(e,Jd),o=an(),a=2&r;try{if(Ls(-1),a&&e.length>ce&&yR(t,e,ce,!1),Mr(a?2:0,i),a)s.runInContext(n,r,i);else{const c=Dt(null);try{n(r,i)}finally{Dt(c)}}}finally{a&&null===e[Jd]&&mR(e,Jd),Ls(o),Mr(a?3:1,i)}}function h_(t,e,n){if(Ym(e)){const r=Dt(null);try{const s=e.directiveEnd;for(let o=e.directiveStart;o<s;o++){const a=t.data[o];a.contentQueries&&a.contentQueries(1,n[o],o)}}finally{Dt(r)}}}function f_(t,e,n){_M()&&(function kW(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;Os(n)&&function BW(t,e,n){const r=In(e,t),o=zh(t,Gh(t,bR(n),null,n.onPush?64:16,r,e,null,t[Ps].rendererFactory.createRenderer(r,n),null,null,null));t[e.index]=o}(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||ph(n,e),Kt(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const u=t.data[a],c=Vs(e,t,a,n);Kt(c,e),null!==o&&$W(0,a-i,c,u,0,o),ur(u)&&(En(n.index,e)[We]=Vs(e,t,a,n))}}(t,e,n,In(n,e)),64==(64&n.flags)&&xR(t,e,n))}function p_(t,e,n=In){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function bR(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=g_(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function g_(t,e,n,r,i,s,o,a,u,c,l){const d=ce+r,h=d+i,f=function wW(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:re);return n}(d,h),p="function"==typeof c?c():c;return f[k]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:p,incompleteFirstPass:!1,ssrId:l}}let TR=t=>null;function SR(t,e,n,r){for(let i in t)if(t.hasOwnProperty(i)){n=null===n?{}:n;const s=t[i];null===r?AR(n,e,i,s):r.hasOwnProperty(i)&&AR(n,e,r[i],s)}return n}function AR(t,e,n,r){t.hasOwnProperty(n)?t[n].push(e,r):t[n]=[e,r]}function m_(t,e,n,r){if(_M()){const i=null===r?null:{"":-1},s=function OW(t,e){const n=t.directiveRegistry;let r=null,i=null;if(n)for(let s=0;s<n.length;s++){const o=n[s];if(qA(e,o.selectors,!1))if(r||(r=[]),ur(o))if(null!==o.findHostDirectiveDefs){const a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o),y_(t,e,a.length)}else r.unshift(o),y_(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return null===r?null:[r,i]}(t,n);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&MR(t,e,n,o,i,a),i&&function FW(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const s=n[e[i+1]];if(null==s)throw new b(-301,!1);r.push(e[i],s)}}}(n,r,i)}n.mergedAttrs=Hu(n.mergedAttrs,n.attrs)}function MR(t,e,n,r,i,s){for(let c=0;c<r.length;c++)gy(ph(n,e),t,r[c].type);!function VW(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}(n,t.data.length,r.length);for(let c=0;c<r.length;c++){const l=r[c];l.providersResolver&&l.providersResolver(l)}let o=!1,a=!1,u=gc(t,e,r.length,null);for(let c=0;c<r.length;c++){const l=r[c];n.mergedAttrs=Hu(n.mergedAttrs,l.hostAttrs),UW(t,n,e,u,l),LW(u,l,i),null!==l.contentQueries&&(n.flags|=4),(null!==l.hostBindings||null!==l.hostAttrs||0!==l.hostVars)&&(n.flags|=64);const d=l.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),u++}!function SW(t,e,n){const i=e.directiveEnd,s=t.data,o=e.attrs,a=[];let u=null,c=null;for(let l=e.directiveStart;l<i;l++){const d=s[l],h=n?n.get(d):null,p=h?h.outputs:null;u=SR(d.inputs,l,u,h?h.inputs:null),c=SR(d.outputs,l,c,p);const m=null===u||null===o||zA(e)?null:jW(u,l,o);a.push(m)}null!==u&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=c}(t,n,s)}function xR(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=function $4(){return W.lFrame.currentDirectiveIndex}();try{Ls(s);for(let a=r;a<i;a++){const u=t.data[a],c=e[a];sy(a),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&PW(u,c)}}finally{Ls(-1),sy(o)}}function PW(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function y_(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function LW(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;ur(e)&&(n[""]=t)}}function UW(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=Fs(i.type)),o=new Yu(s,ur(i),T);t.blueprint[r]=o,n[r]=o,function RW(t,e,n,r,i){const s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;null===o&&(o=t.hostBindingOpCodes=[]);const a=~e.index;(function NW(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(o)!=a&&o.push(a),o.push(n,r,s)}}(t,e,r,gc(t,n,i.hostVars,re),i)}function $W(t,e,n,r,i,s){const o=s[e];if(null!==o)for(let a=0;a<o.length;)RR(r,n,o[a++],o[a++],o[a++])}function RR(t,e,n,r,i){const s=Dt(null);try{null!==t.setInput?t.setInput(e,i,n,r):e[r]=i}finally{Dt(s)}}function jW(t,e,n){let r=null,i=0;for(;i<n.length;){const s=n[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(t.hasOwnProperty(s)){null===r&&(r=[]);const o=t[s];for(let a=0;a<o.length;a+=2)if(o[a]===e){r.push(s,o[a+1],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function NR(t,e,n,r){return[t,!0,!1,e,null,0,r,n,null,null,null]}function kR(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const s=n[r+1];if(-1!==s){const o=t.data[s];ay(n[r]),o.contentQueries(2,e[s],s)}}}function zh(t,e){return t[zu]?t[XA][ar]=e:t[zu]=e,t[XA]=e,e}function v_(t,e,n){ay(0);const r=Dt(null);try{e(t,n)}finally{Dt(r)}}function LR(t,e){const n=t[qo],r=n?n.get($s,null):null;r&&r.handleError(e)}function w_(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++];RR(t.data[o],e[o],r,a,i)}}function HW(t,e){const n=En(e,t),r=n[k];!function GW(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n);const i=n[pt];null!==i&&null===n[ui]&&(n[ui]=Zx(i,n[qo])),I_(r,n,n[We])}function I_(t,e,n){uy(e);try{const r=t.viewQuery;null!==r&&v_(1,r,n);const i=t.template;null!==i&&CR(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&kR(t,e),t.staticViewQueries&&v_(2,t.viewQuery,n);const s=t.components;null!==s&&function zW(t,e){for(let n=0;n<e.length;n++)HW(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[ie]&=-5,cy()}}let VR=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(n,r,i){const s=typeof Zone>"u"?null:Zone.current,o=new m4(n,c=>{this.all.has(c)&&this.queue.set(c,s)},i);let a;this.all.add(o),o.notify();const u=()=>{o.cleanup(),a?.(),this.all.delete(o),this.queue.delete(o)};return a=r?.onDestroy(u),{destroy:u}}flush(){if(0!==this.queue.size)for(const[n,r]of this.queue)this.queue.delete(n),r?r.run(()=>n.run()):n.run()}get isQueueEmpty(){return 0===this.queue.size}}return t.\u0275prov=j({token:t,providedIn:"root",factory:()=>new t}),t})();function qh(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=Um(i,a):2==s&&(r=Um(r,a+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function mc(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];if(null!==s&&r.push(Re(s)),wn(s)){for(let a=Pt;a<s.length;a++){const u=s[a],c=u[k].firstChild;null!==c&&mc(u[k],u,c,r)}s[Sr]!==s[pt]&&r.push(s[Sr])}const o=n.type;if(8&o)mc(t,e,n.child,r);else if(32&o){const a=Ay(n,e);let u;for(;u=a();)r.push(u)}else if(16&o){const a=Ex(e,n);if(Array.isArray(a))r.push(...a);else{const u=rc(e[ot]);mc(u[k],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function Wh(t,e,n,r=!0){const i=e[Ps].rendererFactory;i.begin&&i.begin();try{Kh(t,e,t.template,n)}catch(o){throw r&&LR(e,o),o}finally{i.end&&i.end(),e[Ps].effectManager?.flush()}}function Kh(t,e,n,r){const i=e[ie];if(256!=(256&i)){e[Ps].effectManager?.flush(),uy(e);try{fM(e),function IM(t){return W.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&CR(t,e,n,2,r);const o=3==(3&i);if(o){const c=t.preOrderCheckHooks;null!==c&&ch(e,c,null)}else{const c=t.preOrderHooks;null!==c&&lh(e,c,0,null),ly(e,0)}if(function XW(t){for(let e=My(t);null!==e;e=xy(e)){if(!e[ZA])continue;const n=e[Qo];for(let r=0;r<n.length;r++){T4(n[r])}}}(e),function YW(t){for(let e=My(t);null!==e;e=xy(e))for(let n=Pt;n<e.length;n++){const r=e[n],i=r[k];oh(r)&&Kh(i,r,i.template,r[We])}}(e),null!==t.contentQueries&&kR(t,e),o){const c=t.contentCheckHooks;null!==c&&ch(e,c)}else{const c=t.contentHooks;null!==c&&lh(e,c,1),ly(e,1)}!function vW(t,e){const n=t.hostBindingOpCodes;if(null===n)return;const r=gR(e,Zd);try{for(let i=0;i<n.length;i++){const s=n[i];if(s<0)Ls(~s);else{const o=s,a=n[++i],u=n[++i];B4(a,o),r.runInContext(u,2,e[o])}}}finally{null===e[Zd]&&mR(e,Zd),Ls(-1)}}(t,e);const a=t.components;null!==a&&function ZW(t,e){for(let n=0;n<e.length;n++)JW(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&v_(2,u,r),o){const c=t.viewCheckHooks;null!==c&&ch(e,c)}else{const c=t.viewHooks;null!==c&&lh(e,c,2),ly(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[ie]&=-73,pM(e)}finally{cy()}}}function JW(t,e){const n=En(e,t);if(oh(n)){const r=n[k];80&n[ie]?Kh(r,n,r.template,n[We]):n[ks]>0&&E_(n)}}function E_(t){for(let r=My(t);null!==r;r=xy(r))for(let i=Pt;i<r.length;i++){const s=r[i];if(oh(s))if(1024&s[ie]){const o=s[k];Kh(o,s,o.template,s[We])}else s[ks]>0&&E_(s)}const n=t[k].components;if(null!==n)for(let r=0;r<n.length;r++){const i=En(n[r],t);oh(i)&&i[ks]>0&&E_(i)}}class yc{get rootNodes(){const e=this._lView,n=e[k];return mc(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[We]}set context(e){this._lView[We]=e}get destroyed(){return 256==(256&this._lView[ie])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[$e];if(wn(e)){const n=e[eh],r=n?n.indexOf(this):-1;r>-1&&(Ny(e,r),yh(n,r))}this._attachedToViewContainer=!1}px(this._lView[k],this._lView)}onDestroy(e){!function mM(t,e){if(256==(256&t[ie]))throw new b(911,!1);null===t[Gi]&&(t[Gi]=[]),t[Gi].push(e)}(this._lView,e)}markForCheck(){pc(this._cdRefInjectingView||this._lView)}detach(){this._lView[ie]&=-129}reattach(){this._lView[ie]|=128}detectChanges(){Wh(this._lView[k],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new b(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Xq(t,e){sc(t,e,e[ne],2,null,null)}(this._lView[k],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new b(902,!1);this._appRef=e}}class e6 extends yc{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;Wh(e[k],e,e[We],!1)}checkNoChanges(){}get context(){return null}}class UR extends Bh{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=me(e);return new _c(n,this.ngModule)}}function BR(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}class n6{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Qd(r);const i=this.injector.get(e,c_,r);return i!==c_||n===c_?i:this.parentInjector.get(e,n,r)}}class _c extends nR{get inputs(){return BR(this.componentDef.inputs)}get outputs(){return BR(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function Jz(t){return t.map(Xz).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=(i=i||this.ngModule)instanceof hi?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new n6(e,s):e,a=o.get(iR,null);if(null===a)throw new b(407,!1);const l={rendererFactory:a,sanitizer:o.get(sW,null),effectManager:o.get(VR,null)},d=a.createRenderer(null,this.componentDef),h=this.componentDef.selectors[0][0]||"div",f=r?function IW(t,e,n,r){const s=r.get(uR,!1)||n===On.ShadowDom,o=t.selectRootElement(e,s);return function EW(t){TR(t)}(o),o}(d,r,this.componentDef.encapsulation,o):Th(d,h,function t6(t){const e=t.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(h)),p=this.componentDef.onPush?576:528,m=g_(0,null,null,1,0,null,null,null,null,null,null),y=Gh(null,m,null,p,null,null,l,d,o,null,null);let v,_;uy(y);try{const E=this.componentDef;let A,O=null;E.findHostDirectiveDefs?(A=[],O=new Map,E.findHostDirectiveDefs(E,A,O),A.push(E)):A=[E];const K=function i6(t,e){const n=t[k],r=ce;return t[r]=e,pa(n,r,2,"#host",null)}(y,f),Ue=function s6(t,e,n,r,i,s,o){const a=i[k];!function o6(t,e,n,r){for(const i of t)e.mergedAttrs=Hu(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(qh(e,e.mergedAttrs,!0),null!==n&&Tx(r,n,e))}(r,t,e,o);let u=null;null!==e&&(u=Zx(e,i[qo]));const c=s.rendererFactory.createRenderer(e,n),l=Gh(i,bR(n),null,n.onPush?64:16,i[t.index],t,s,c,null,null,u);return a.firstCreatePass&&y_(a,t,r.length-1),zh(i,l),i[t.index]=l}(K,f,E,A,y,l,d);_=hM(m,ce),f&&function u6(t,e,n,r){if(r)Km(t,n,["ng-version",sR.full]);else{const{attrs:i,classes:s}=function Zz(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!or(i))break;i=s}r++}return{attrs:e,classes:n}}(e.selectors[0]);i&&Km(t,n,i),s&&s.length>0&&bx(t,n,s.join(" "))}}(d,E,f,r),void 0!==n&&function c6(t,e,n){const r=t.projection=[];for(let i=0;i<e.length;i++){const s=n[i];r.push(null!=s?Array.from(s):null)}}(_,this.ngContentSelectors,n),v=function a6(t,e,n,r,i,s){const o=Ot(),a=i[k],u=In(o,i);MR(a,i,o,n,null,r);for(let l=0;l<n.length;l++)Kt(Vs(i,a,o.directiveStart+l,o),i);xR(a,i,o),u&&Kt(u,i);const c=Vs(i,a,o.directiveStart+o.componentOffset,o);if(t[We]=i[We]=c,null!==s)for(const l of s)l(c,e);return h_(a,o,t),c}(Ue,E,A,O,y,[l6]),I_(m,y,null)}finally{cy()}return new r6(this.componentType,v,da(_,y),y,_)}}class r6 extends Z3{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new e6(i),this.componentType=e}setInput(e,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;const s=this._rootLView;w_(s[k],s,i,e,n),this.previousInputValues.set(e,n),pc(En(this._tNode.index,s))}}get injector(){return new ea(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function l6(){const t=Ot();uh(D()[k],t)}function Ie(t){let e=function $R(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),n=!0;const r=[t];for(;e;){let i;if(ur(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new b(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);const o=t;o.inputs=D_(t.inputs),o.declaredInputs=D_(t.declaredInputs),o.outputs=D_(t.outputs);const a=i.hostBindings;a&&p6(t,a);const u=i.viewQuery,c=i.contentQueries;if(u&&h6(t,u),c&&f6(t,c),Vm(t.inputs,i.inputs),Vm(t.declaredInputs,i.declaredInputs),Vm(t.outputs,i.outputs),ur(i)&&i.data.animation){const l=t.data;l.animation=(l.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(t),a===Ie&&(n=!1)}}e=Object.getPrototypeOf(e)}!function d6(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Hu(i.hostAttrs,n=Hu(n,i.hostAttrs))}}(r)}function D_(t){return t===oi?{}:t===ge?[]:t}function h6(t,e){const n=t.viewQuery;t.viewQuery=n?(r,i)=>{e(r,i),n(r,i)}:e}function f6(t,e){const n=t.contentQueries;t.contentQueries=n?(r,i,s)=>{e(r,i,s),n(r,i,s)}:e}function p6(t,e){const n=t.hostBindings;t.hostBindings=n?(r,i)=>{e(r,i),n(r,i)}:e}function Qt(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function x_(t,e,n,r,i,s,o,a){const u=D(),c=he(),l=t+ce,d=c.firstCreatePass?function U6(t,e,n,r,i,s,o,a,u){const c=e.consts,l=pa(e,t,4,o||null,zi(c,a));m_(e,n,l,zi(c,u)),uh(e,l);const d=l.tView=g_(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c,null);return null!==e.queries&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,s,o):c.data[l];xr(d,!1);const h=rN(c,u,d,t);ah()&&Ah(c,u,h,d),Kt(h,u),zh(u,u[l]=NR(h,u,h,d)),th(d)&&f_(c,u,d),null!=o&&p_(u,d,a)}let rN=function iN(t,e,n,r){return qi(!0),e[ne].createComment("")};function Dc(t,e,n){const r=D();return Qt(r,function Jo(){return W.lFrame.bindingIndex++}(),e)&&function Bn(t,e,n,r,i,s,o,a){const u=In(e,n);let l,c=e.inputs;!a&&null!=c&&(l=c[r])?(w_(t,n,l,r,i),Os(e)&&function MW(t,e){const n=En(e,t);16&n[ie]||(n[ie]|=64)}(n,e.index)):3&e.type&&(r=function AW(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=o?o(i,e.value||"",r):i,s.setProperty(u,r,i))}(he(),function je(){const t=W.lFrame;return hM(t.tView,t.selectedIndex)}(),r,t,e,r[ne],n,!1),Dc}function R_(t,e,n,r,i){const o=i?"class":"style";w_(t,n,e.inputs[o],o,r)}function Zn(t,e,n,r){const i=D(),s=he(),o=ce+t,a=i[ne],u=s.firstCreatePass?function G6(t,e,n,r,i,s){const o=e.consts,u=pa(e,t,2,r,zi(o,i));return m_(e,n,u,zi(o,s)),null!==u.attrs&&qh(u,u.attrs,!1),null!==u.mergedAttrs&&qh(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(o,s,i,e,n,r):s.data[o],c=sN(s,i,u,a,e,t);i[o]=c;const l=th(u);return xr(u,!0),Tx(a,c,u),32!=(32&u.flags)&&ah()&&Ah(s,i,c,u),0===function A4(){return W.lFrame.elementDepthCount}()&&Kt(c,i),function M4(){W.lFrame.elementDepthCount++}(),l&&(f_(s,i,u),h_(s,u,i)),null!==r&&p_(i,u),Zn}function $n(){let t=Ot();ry()?function iy(){W.lFrame.isParent=!1}():(t=t.parent,xr(t,!1));const e=t;(function R4(t){return W.skipHydrationRootTNode===t})(e)&&function O4(){W.skipHydrationRootTNode=null}(),function x4(){W.lFrame.elementDepthCount--}();const n=he();return n.firstCreatePass&&(uh(n,t),Ym(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function J4(t){return 0!=(8&t.flags)}(e)&&R_(n,e,D(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function Z4(t){return 0!=(16&t.flags)}(e)&&R_(n,e,D(),e.stylesWithoutHost,!1),$n}function Or(t,e,n,r){return Zn(t,e,n,r),$n(),Or}let sN=(t,e,n,r,i,s)=>(qi(!0),Th(r,i,function MM(){return W.lFrame.currentNamespace}()));function Cc(t){return!!t&&"function"==typeof t.then}function uN(t){return!!t&&"function"==typeof t.subscribe}function jn(t,e,n,r){const i=D(),s=he(),o=Ot();return function lN(t,e,n,r,i,s,o){const a=th(r),c=t.firstCreatePass&&function OR(t){return t.cleanup||(t.cleanup=[])}(t),l=e[We],d=function PR(t){return t[zo]||(t[zo]=[])}(e);let h=!0;if(3&r.type||o){const m=In(r,e),y=o?o(m):m,v=d.length,_=o?A=>o(Re(A[r.index])):r.index;let E=null;if(!o&&a&&(E=function X6(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===n&&i[s+1]===r){const a=e[zo],u=i[s+2];return a.length>u?a[u]:null}"string"==typeof o&&(s+=2)}return null}(t,e,i,r.index)),null!==E)(E.__ngLastListenerFn__||E).__ngNextListenerFn__=s,E.__ngLastListenerFn__=s,h=!1;else{s=hN(r,e,l,s,!1);const A=n.listen(y,i,s);d.push(s,A),c&&c.push(i,_,v,v+1)}}else s=hN(r,e,l,s,!1);const f=r.outputs;let p;if(h&&null!==f&&(p=f[i])){const m=p.length;if(m)for(let y=0;y<m;y+=2){const O=e[p[y]][p[y+1]].subscribe(s),K=d.length;d.push(s,O),c&&c.push(i,r.index,K,-(K+1))}}}(s,i,i[ne],o,t,e,r),jn}function dN(t,e,n,r){try{return Mr(6,e,n),!1!==n(r)}catch(i){return LR(t,i),!1}finally{Mr(7,e,n)}}function hN(t,e,n,r,i){return function s(o){if(o===Function)return r;pc(t.componentOffset>-1?En(t.index,e):e);let u=dN(e,n,r,o),c=s.__ngNextListenerFn__;for(;c;)u=dN(e,n,c,o)&&u,c=c.__ngNextListenerFn__;return i&&!1===u&&o.preventDefault(),u}}function ef(t,e){return t<<17|e<<2}function Qi(t){return t>>17&32767}function O_(t){return 2|t}function Hs(t){return(131068&t)>>2}function F_(t,e){return-131069&t|e<<2}function L_(t){return 1|t}function EN(t,e,n,r,i){const s=t[n+1],o=null===e;let a=r?Qi(s):Hs(s),u=!1;for(;0!==a&&(!1===u||o);){const l=t[a+1];a9(t[a],e)&&(u=!0,t[a+1]=r?L_(l):O_(l)),a=r?Qi(l):Hs(l)}u&&(t[n+1]=r?O_(s):L_(s))}function a9(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&sa(t,e)>=0}function tf(t,e){return function cr(t,e,n,r){const i=D(),s=he(),o=function li(t){const e=W.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}(2);s.firstUpdatePass&&function RN(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[an()],o=function xN(t,e){return e>=t.expandoStartIndex}(t,n);(function ON(t,e){return 0!=(t.flags&(e?8:16))})(s,r)&&null===e&&!o&&(e=!1),e=function m9(t,e,n,r){const i=function oy(t){const e=W.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=bc(n=V_(null,t,e,n,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==i)if(n=V_(i,t,e,n,r),null===s){let u=function y9(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==Hs(r))return t[Qi(r)]}(t,e,r);void 0!==u&&Array.isArray(u)&&(u=V_(null,t,e,u[1],r),u=bc(u,e.attrs,r),function _9(t,e,n,r){t[Qi(n?e.classBindings:e.styleBindings)]=r}(t,e,r,u))}else s=function v9(t,e,n){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=bc(r,t[s].hostAttrs,n);return bc(r,e.attrs,n)}(t,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),n}(i,s,e,r),function s9(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=Qi(o),u=Hs(o);t[r]=n;let l,c=!1;if(Array.isArray(n)?(l=n[1],(null===l||sa(n,l)>0)&&(c=!0)):l=n,i)if(0!==u){const h=Qi(t[a+1]);t[r+1]=ef(h,a),0!==h&&(t[h+1]=F_(t[h+1],r)),t[a+1]=function r9(t,e){return 131071&t|e<<17}(t[a+1],r)}else t[r+1]=ef(a,0),0!==a&&(t[a+1]=F_(t[a+1],r)),a=r;else t[r+1]=ef(u,0),0===a?a=r:t[u+1]=F_(t[u+1],r),u=r;c&&(t[r+1]=O_(t[r+1])),EN(t,l,r,!0),EN(t,l,r,!1),function o9(t,e,n,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&sa(s,e)>=0&&(n[r+1]=L_(n[r+1]))}(e,l,t,r,s),o=ef(a,u),s?e.classBindings=o:e.styleBindings=o}(i,s,e,n,o,r)}}(s,t,o,r),e!==re&&Qt(i,o,e)&&function kN(t,e,n,r,i,s,o,a){if(!(3&e.type))return;const u=t.data,c=u[a+1],l=function i9(t){return 1==(1&t)}(c)?PN(u,e,n,i,Hs(c),o):void 0;nf(l)||(nf(s)||function n9(t){return 2==(2&t)}(c)&&(s=PN(u,null,n,i,a,o)),function a3(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=-1===r.indexOf("-")?void 0:Dn.DashCase;null==i?t.removeStyle(n,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=Dn.Important),t.setStyle(n,r,i,s))}}(r,o,function sh(t,e){return Re(e[t])}(an(),n),i,s))}(s,s.data[an()],i,i[ne],t,i[o+1]=function D9(t,e){return null==t||""===t||("string"==typeof e?t+=e:"object"==typeof t&&(t=ft(function Wi(t){return t instanceof xx?t.changingThisBreaksApplicationSecurity:t}(t)))),t}(e,n),r,o)}(t,e,null,!0),tf}function V_(t,e,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],r=bc(r,s.hostAttrs,i),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function bc(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Vn(t,o,!!n||e[++s]))}return void 0===t?null:t}function PN(t,e,n,r,i,s){const o=null===e;let a;for(;i>0;){const u=t[i],c=Array.isArray(u),l=c?u[1]:u,d=null===l;let h=n[i+1];h===re&&(h=d?ge:void 0);let f=d?_y(h,r):l===r?h:void 0;if(c&&!nf(f)&&(f=_y(u,r)),nf(f)&&(a=f,o))return a;const p=t[i+1];i=o?Qi(p):Hs(p)}if(null!==e){let u=s?e.residualClasses:e.residualStyles;null!=u&&(a=_y(u,r))}return a}function nf(t){return void 0!==t}function Gs(t,e=""){const n=D(),r=he(),i=t+ce,s=r.firstCreatePass?pa(r,i,1,e,null):r.data[i],o=FN(r,n,s,e,t);n[i]=o,ah()&&Ah(r,n,o,s),xr(s,!1)}let FN=(t,e,n,r,i)=>(qi(!0),function bh(t,e){return t.createText(e)}(e[ne],r));const Ta="en-US";let sk=Ta;function j_(t,e,n,r,i){if(t=X(t),Array.isArray(t))for(let s=0;s<t.length;s++)j_(t[s],e,n,r,i);else{const s=he(),o=D();let a=Bs(t)?t:X(t.provide),u=Kx(t);const c=Ot(),l=1048575&c.providerIndexes,d=c.directiveStart,h=c.providerIndexes>>20;if(Bs(t)||!t.multi){const f=new Yu(u,i,T),p=G_(a,e,i?l:l+h,d);-1===p?(gy(ph(c,o),s,a),H_(s,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(f),o.push(f)):(n[p]=f,o[p]=f)}else{const f=G_(a,e,l+h,d),p=G_(a,e,l,l+h),y=p>=0&&n[p];if(i&&!y||!i&&!(f>=0&&n[f])){gy(ph(c,o),s,a);const v=function H5(t,e,n,r,i){const s=new Yu(t,n,T);return s.multi=[],s.index=e,s.componentProviders=0,xk(s,i,r&&!n),s}(i?j5:$5,n.length,i,r,u);!i&&y&&(n[p].providerFactory=v),H_(s,t,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(v),o.push(v)}else H_(s,t,f>-1?f:p,xk(n[i?p:f],u,!i&&r));!i&&r&&y&&n[p].componentProviders++}}}function H_(t,e,n,r){const i=Bs(e),s=function L3(t){return!!t.useClass}(e);if(i||s){const u=(s?X(e.useClass):e).prototype.ngOnDestroy;if(u){const c=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const l=c.indexOf(n);-1===l?c.push(n,[r,u]):c[l+1].push(r,u)}else c.push(n,u)}}}function xk(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function G_(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function $5(t,e,n,r){return z_(this.multi,[])}function j5(t,e,n,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=Vs(n,n[k],this.providerFactory.index,r);s=a.slice(0,o),z_(i,s);for(let u=o;u<a.length;u++)s.push(a[u])}else s=[],z_(i,s);return s}function z_(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function Le(t,e=[]){return n=>{n.providersResolver=(r,i)=>function B5(t,e,n){const r=he();if(r.firstCreatePass){const i=ur(t);j_(n,r.data,r.blueprint,i,!0),j_(e,r.data,r.blueprint,i,!1)}}(r,i?i(t):t,e)}}class Sa{}class Rk{}class q_ extends Sa{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new UR(this);const i=Fn(e);this._bootstrapComponents=pi(i.bootstrap),this._r3Injector=ER(e,n,[{provide:Sa,useValue:this},{provide:Bh,useValue:this.componentFactoryResolver},...r],ft(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class W_ extends Rk{constructor(e){super(),this.moduleType=e}create(e){return new q_(this.moduleType,e,[])}}class Nk extends Sa{constructor(e){super(),this.componentFactoryResolver=new UR(this),this.instance=null;const n=new Yy([...e.providers,{provide:Sa,useValue:this},{provide:Bh,useValue:this.componentFactoryResolver}],e.parent||Ph(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function K_(t,e,n=null){return new Nk({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}let q5=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n.id)){const r=Gx(0,n.type),i=r.length>0?K_([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n.id,i)}return this.cachedInjectors.get(n.id)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}}return t.\u0275prov=j({token:t,providedIn:"environment",factory:()=>new t($(hi))}),t})();function kk(t){t.getStandaloneInjector=e=>e.get(q5).getOrCreateStandaloneInjector(t)}function Y_(t){return e=>{setTimeout(t,void 0,e)}}const Qe=class _7 extends ri{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&"object"==typeof e){const u=e;i=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=Y_(s),i&&(i=Y_(i)),o&&(o=Y_(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof kn&&e.add(a),a}};let mi=(()=>{class t{}return t.__NG_ELEMENT_ID__=E7,t})();const w7=mi,I7=class extends w7{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n,null)}createEmbeddedViewImpl(e,n,r){const i=this._declarationTContainer.tView,s=Gh(this._declarationLView,i,e,16,null,i.declTNode,null,null,null,n||null,r||null);s[qu]=this._declarationLView[this._declarationTContainer.index];const a=this._declarationLView[Tr];return null!==a&&(s[Tr]=a.createEmbeddedView(i)),I_(i,s,e),new yc(s)}};function E7(){return function cf(t,e){return 4&t.type?new I7(e,t,da(t,e)):null}(Ot(),D())}let dr=(()=>{class t{}return t.__NG_ELEMENT_ID__=M7,t})();function M7(){return function Yk(t,e){let n;const r=e[t.index];return wn(r)?n=r:(n=NR(r,e,null,t),e[t.index]=n,zh(e,n)),Xk(n,e,t,r),new Kk(n,t,e)}(Ot(),D())}const x7=dr,Kk=class extends x7{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return da(this._hostTNode,this._hostLView)}get injector(){return new ea(this._hostTNode,this._hostLView)}get parentInjector(){const e=py(this._hostTNode,this._hostLView);if(kM(e)){const n=hh(e,this._hostLView),r=dh(e);return new ea(n[k].data[r+8],n)}return new ea(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=Qk(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-Pt}createEmbeddedView(e,n,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const a=e.createEmbeddedViewImpl(n||{},s,null);return this.insertImpl(a,i,false),a}createComponent(e,n,r,i,s){const o=e&&!function Ju(t){return"function"==typeof t}(e);let a;if(o)a=n;else{const m=n||{};a=m.index,r=m.injector,i=m.projectableNodes,s=m.environmentInjector||m.ngModuleRef}const u=o?e:new _c(me(e)),c=r||this.parentInjector;if(!s&&null==u.ngModule){const y=(o?c:this.parentInjector).get(hi,null);y&&(s=y)}me(u.componentType??{});const f=u.create(c,i,null,s);return this.insertImpl(f.hostView,a,false),f}insert(e,n){return this.insertImpl(e,n,!1)}insertImpl(e,n,r){const i=e._lView,s=i[k];if(function b4(t){return wn(t[$e])}(i)){const u=this.indexOf(e);if(-1!==u)this.detach(u);else{const c=i[$e],l=new Kk(c,c[Wt],c[$e]);l.detach(l.indexOf(e))}}const o=this._adjustIndex(n),a=this._lContainer;if(function Zq(t,e,n,r){const i=Pt+r,s=n.length;r>0&&(n[i-1][ar]=e),r<s-Pt?(e[ar]=n[i],zM(n,Pt+r,e)):(n.push(e),e[ar]=null),e[$e]=n;const o=e[qu];null!==o&&n!==o&&function e3(t,e){const n=t[Qo];e[ot]!==e[$e][$e][ot]&&(t[ZA]=!0),null===n?t[Qo]=[e]:n.push(e)}(o,e);const a=e[Tr];null!==a&&a.insertView(t),e[ie]|=128}(s,i,a,o),!r){const u=Fy(o,a),c=i[ne],l=Sh(c,a[Sr]);null!==l&&function Yq(t,e,n,r,i,s){r[pt]=i,r[Wt]=e,sc(t,r,n,1,i,s)}(s,a[Wt],c,i,l,u)}return e.attachToViewContainerRef(),zM(Z_(a),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=Qk(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=Ny(this._lContainer,n);r&&(yh(Z_(this._lContainer),n),px(r[k],r))}detach(e){const n=this._adjustIndex(e,-1),r=Ny(this._lContainer,n);return r&&null!=yh(Z_(this._lContainer),n)?new yc(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function Qk(t){return t[eh]}function Z_(t){return t[eh]||(t[eh]=[])}let Xk=function Jk(t,e,n,r){if(t[Sr])return;let i;i=8&n.type?Re(r):function R7(t,e){const n=t[ne],r=n.createComment(""),i=In(e,t);return Us(n,Sh(n,i),r,function i3(t,e){return t.nextSibling(e)}(n,i),!1),r}(e,n),t[Sr]=i};const lv=new L("Application Initializer");let dv=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=V(lv,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n=[];for(const i of this.appInits){const s=i();if(Cc(s))n.push(s);else if(uN(s)){const o=new Promise((a,u)=>{s.subscribe({complete:a,error:u})});n.push(o)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),D1=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();const yi=new L("LocaleId",{providedIn:"root",factory:()=>V(yi,H.Optional|H.SkipSelf)||function u8(){return typeof $localize<"u"&&$localize.locale||Ta}()});class l8{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let C1=(()=>{class t{compileModuleSync(n){return new W_(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),s=pi(Fn(n).declarations).reduce((o,a)=>{const u=me(a);return u&&o.push(new _c(u)),o},[]);return new l8(r,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const f8=(()=>Promise.resolve(0))();function hv(t){typeof Zone>"u"?f8.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}function S1(...t){}class Ee{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Qe(!1),this.onMicrotaskEmpty=new Qe(!1),this.onStable=new Qe(!1),this.onError=new Qe(!1),typeof Zone>"u")throw new b(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function p8(){let t=Ae.requestAnimationFrame,e=Ae.cancelAnimationFrame;if(typeof Zone<"u"&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function y8(t){const e=()=>{!function m8(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Ae,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,pv(t),t.isCheckStableRunning=!0,fv(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),pv(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{try{return A1(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),M1(t)}},onInvoke:(n,r,i,s,o,a,u)=>{try{return A1(t),n.invoke(i,s,o,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),M1(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&("microTask"==s.change?(t._hasPendingMicrotasks=s.microTask,pv(t),fv(t)):"macroTask"==s.change&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ee.isInAngularZone())throw new b(909,!1)}static assertNotInAngularZone(){if(Ee.isInAngularZone())throw new b(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,g8,S1,S1);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const g8={};function fv(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function pv(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function A1(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function M1(t){t._nesting--,fv(t)}class _8{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Qe,this.onMicrotaskEmpty=new Qe,this.onStable=new Qe,this.onError=new Qe}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}const x1=new L("",{providedIn:"root",factory:R1});function R1(){const t=V(Ee);let e=!0;return function Cz(...t){const e=Uu(t),n=function yz(t,e){return"number"==typeof Fm(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?Kn(r[0]):jo(n)(Et(r,e)):Cr}(new Be(i=>{e=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{i.next(e),i.complete()})}),new Be(i=>{let s;t.runOutsideAngular(()=>{s=t.onStable.subscribe(()=>{Ee.assertNotInAngularZone(),hv(()=>{!e&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(e=!0,i.next(!0))})})});const o=t.onUnstable.subscribe(()=>{Ee.assertInAngularZone(),e&&(e=!1,t.runOutsideAngular(()=>{i.next(!1)}))});return()=>{s.unsubscribe(),o.unsubscribe()}}).pipe(function bz(t={}){const{connector:e=(()=>new ri),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return s=>{let o,a,u,c=0,l=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),o=u=void 0,l=d=!1},p=()=>{const m=o;f(),m?.unsubscribe()};return Nt((m,y)=>{c++,!d&&!l&&h();const v=u=u??e();y.add(()=>{c--,0===c&&!d&&!l&&(a=Lm(p,i))}),v.subscribe(y),!o&&c>0&&(o=new Vu({next:_=>v.next(_),error:_=>{d=!0,h(),a=Lm(f,n,_),v.error(_)},complete:()=>{l=!0,h(),a=Lm(f,r),v.complete()}}),Kn(m).subscribe(o))})(s)}}()))}const N1=new L(""),df=new L("");let yv,gv=(()=>{class t{constructor(n,r,i){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,yv||(function v8(t){yv=t}(i),i.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ee.assertNotInAngularZone(),hv(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())hv(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:s,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,i){return[]}}return t.\u0275fac=function(n){return new(n||t)($(Ee),$(mv),$(df))},t.\u0275prov=j({token:t,factory:t.\u0275fac}),t})(),mv=(()=>{class t{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return yv?.findTestabilityInTree(this,n,r)??null}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})(),Yi=null;const k1=new L("AllowMultipleToken"),_v=new L("PlatformDestroyListeners"),vv=new L("appBootstrapListener");class O1{constructor(e,n){this.name=e,this.token=n}}function L1(t,e,n=[]){const r=`Platform: ${e}`,i=new L(r);return(s=[])=>{let o=wv();if(!o||o.injector.get(k1,!1)){const a=[...n,...s,{provide:i,useValue:!0}];t?t(a):function E8(t){if(Yi&&!Yi.get(k1,!1))throw new b(400,!1);(function P1(){!function p4(t){sM=t}(()=>{throw new b(600,!1)})})(),Yi=t;const e=t.get(U1);(function F1(t){t.get(Qx,null)?.forEach(n=>n())})(t)}(function V1(t=[],e){return bn.create({name:e,providers:[{provide:Ky,useValue:"platform"},{provide:_v,useValue:new Set([()=>Yi=null])},...t]})}(a,r))}return function C8(t){const e=wv();if(!e)throw new b(401,!1);return e}()}}function wv(){return Yi?.get(U1)??null}let U1=(()=>{class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const i=function b8(t="zone.js",e){return"noop"===t?new _8:"zone.js"===t?new Ee(e):t}(r?.ngZone,function B1(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return i.run(()=>{const s=function z5(t,e,n){return new q_(t,e,n)}(n.moduleType,this.injector,function z1(t){return[{provide:Ee,useFactory:t},{provide:lc,multi:!0,useFactory:()=>{const e=V(S8,{optional:!0});return()=>e.initialize()}},{provide:G1,useFactory:T8},{provide:x1,useFactory:R1}]}(()=>i)),o=s.injector.get($s,null);return i.runOutsideAngular(()=>{const a=i.onError.subscribe({next:u=>{o.handleError(u)}});s.onDestroy(()=>{hf(this._modules,s),a.unsubscribe()})}),function $1(t,e,n){try{const r=n();return Cc(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(o,i,()=>{const a=s.injector.get(dv);return a.runInitializers(),a.donePromise.then(()=>(function ok(t){Qn(t,"Expected localeId to be defined"),"string"==typeof t&&(sk=t.toLowerCase().replace(/_/g,"-"))}(s.injector.get(yi,Ta)||Ta),this._moduleDoBootstrap(s),s))})})}bootstrapModule(n,r=[]){const i=j1({},r);return function w8(t,e,n){const r=new W_(n);return Promise.resolve(r)}(0,0,n).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(n){const r=n.injector.get(xa);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new b(-403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new b(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(_v,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(n){return new(n||t)($(bn))},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();function j1(t,e){return Array.isArray(e)?e.reduce(j1,t):{...t,...e}}let xa=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=V(G1),this.componentTypes=[],this.components=[],this.isStable=V(x1),this._injector=V(hi)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){const i=n instanceof nR;if(!this._injector.get(dv).done)throw!i&&function Go(t){const e=me(t)||qt(t)||vn(t);return null!==e&&e.standalone}(n),new b(405,!1);let o;o=i?n:this._injector.get(Bh).resolveComponentFactory(n),this.componentTypes.push(o.componentType);const a=function I8(t){return t.isBoundToModule}(o)?void 0:this._injector.get(Sa),c=o.create(bn.NULL,[],r||o.selector,a),l=c.location.nativeElement,d=c.injector.get(N1,null);return d?.registerApplication(l),c.onDestroy(()=>{this.detachView(c.hostView),hf(this.components,c),d?.unregisterApplication(l)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new b(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this.internalErrorHandler(n)}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;hf(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(vv,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>hf(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new b(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function hf(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const G1=new L("",{providedIn:"root",factory:()=>V($s).handleError.bind(void 0)});function T8(){const t=V(Ee),e=V($s);return n=>t.runOutsideAngular(()=>e.handleError(n))}let S8=(()=>{class t{constructor(){this.zone=V(Ee),this.applicationRef=V(xa)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();let ff=(()=>{class t{}return t.__NG_ELEMENT_ID__=M8,t})();function M8(t){return function x8(t,e,n){if(Os(t)&&!n){const r=En(t.index,e);return new yc(r,r)}return 47&t.type?new yc(e[ot],e):null}(Ot(),D(),16==(16&t))}const H8=L1(null,"core",[]);let G8=(()=>{class t{constructor(n){}}return t.\u0275fac=function(n){return new(n||t)($(xa))},t.\u0275mod=sn({type:t}),t.\u0275inj=zt({}),t})(),oP=(()=>{class t{get whenAllTasksComplete(){return 0===this.collection.size&&this.complete(),this.promise}constructor(){this.taskId=0,this.collection=new Set,this.ngZone=V(Ee),this.completed=!1,this.ngZone.runOutsideAngular(()=>{this.promise=new Promise(n=>{this.resolve=n})})}add(){if(this.completed)return-1;const n=this.taskId++;return this.collection.add(n),n}remove(n){this.completed||(this.collection.delete(n),0===this.collection.size&&this.complete())}ngOnDestroy(){this.complete(),this.collection.clear()}complete(){this.completed=!0,this.resolve()}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Sv=null;function Xi(){return Sv}class nK{}const er=new L("DocumentToken");let Av=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:function(){return V(iK)},providedIn:"platform"}),t})();const rK=new L("Location Initialized");let iK=(()=>{class t extends Av{constructor(){super(),this._doc=V(er),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Xi().getBaseHref(this._doc)}onPopState(n){const r=Xi().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=Xi().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:function(){return new t},providedIn:"platform"}),t})();function Mv(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function uP(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function _i(t){return t&&"?"!==t[0]?"?"+t:t}let Ws=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:function(){return V(lP)},providedIn:"root"}),t})();const cP=new L("appBaseHref");let lP=(()=>{class t extends Ws{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??V(er).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Mv(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+_i(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,s){const o=this.prepareExternalUrl(i+_i(s));this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){const o=this.prepareExternalUrl(i+_i(s));this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return t.\u0275fac=function(n){return new(n||t)($(Av),$(cP,8))},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),sK=(()=>{class t extends Ws{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=Mv(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+_i(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+_i(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return t.\u0275fac=function(n){return new(n||t)($(Av),$(cP,8))},t.\u0275prov=j({token:t,factory:t.\u0275fac}),t})(),xv=(()=>{class t{constructor(n){this._subject=new Qe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._basePath=function uK(t){if(new RegExp("^(https?:)?//").test(t)){const[,n]=t.split(/\/\/[^\/]+/);return n}return t}(uP(dP(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+_i(r))}normalize(n){return t.stripTrailingSlash(function aK(t,e){if(!t||!e.startsWith(t))return e;const n=e.substring(t.length);return""===n||["/",";","?","#"].includes(n[0])?n:e}(this._basePath,dP(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+_i(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+_i(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}}return t.normalizeQueryParams=_i,t.joinWithSlash=Mv,t.stripTrailingSlash=uP,t.\u0275fac=function(n){return new(n||t)($(Ws))},t.\u0275prov=j({token:t,factory:function(){return function oK(){return new xv($(Ws))}()},providedIn:"root"}),t})();function dP(t){return t.replace(/\/index.html$/,"")}let DP=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new YK,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){CP("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){CP("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}}return t.\u0275fac=function(n){return new(n||t)(T(dr),T(mi))},t.\u0275dir=Q({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),t})();class YK{constructor(){this.$implicit=null,this.ngIf=null}}function CP(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${ft(e)}'.`)}let IQ=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=sn({type:t}),t.\u0275inj=zt({}),t})();function AP(t){return"server"===t}let bQ=(()=>{class t{}return t.\u0275prov=j({token:t,providedIn:"root",factory:()=>new TQ($(er),window)}),t})();class TQ{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const n=function SQ(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&"function"==typeof t.body.attachShadow){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const n=this.window.history;n&&n.scrollRestoration&&(n.scrollRestoration=e)}}scrollToElement(e){const n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=MP(this.window.history)||MP(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function MP(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class tY extends nK{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Wv extends tY{static makeCurrent(){!function tK(t){Sv||(Sv=t)}(new Wv)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function nY(){return Vc=Vc||document.querySelector("base"),Vc?Vc.getAttribute("href"):null}();return null==n?null:function rY(t){xf=xf||document.createElement("a"),xf.setAttribute("href",t);const e=xf.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){Vc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function zK(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,s]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let xf,Vc=null,sY=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac}),t})();const Kv=new L("EventManagerPlugins");let PP=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(s=>s.supports(n)),!r)throw new b(5101,!1);return this._eventNameToPlugin.set(n,r),r}}return t.\u0275fac=function(n){return new(n||t)($(Kv),$(Ee))},t.\u0275prov=j({token:t,factory:t.\u0275fac}),t})();class OP{constructor(e){this._doc=e}}const Qv="ng-app-id";let FP=(()=>{class t{constructor(n,r,i,s={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=AP(s),this.resetHostNodes()}addStyles(n){for(const r of n)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(n){for(const r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(const r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){const r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){const n=this.doc.head?.querySelectorAll(`style[${Qv}="${this.appId}"]`);if(n?.length){const r=new Map;return n.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){const i=this.styleRef;if(i.has(n)){const s=i.get(n);return s.usage+=r,s.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){const i=this.styleNodesInDOM,s=i?.get(r);if(s?.parentNode===n)return i.delete(r),s.removeAttribute(Qv),s;{const o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=r,this.platformIsServer&&o.setAttribute(Qv,this.appId),o}}addStyleToHost(n,r){const i=this.getStyleElement(n,r);n.appendChild(i);const s=this.styleRef,o=s.get(r)?.elements;o?o.push(i):s.set(r,{elements:[i],usage:1})}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}}return t.\u0275fac=function(n){return new(n||t)($(er),$(Oh),$(Yx,8),$(Ki))},t.\u0275prov=j({token:t,factory:t.\u0275fac}),t})();const Yv={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Xv=/%COMP%/g,cY=new L("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function VP(t,e){return e.map(n=>n.replace(Xv,t))}let UP=(()=>{class t{constructor(n,r,i,s,o,a,u,c=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestory=s,this.doc=o,this.platformId=a,this.ngZone=u,this.nonce=c,this.rendererByCompId=new Map,this.platformIsServer=AP(a),this.defaultRenderer=new Jv(n,o,u,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===On.ShadowDom&&(r={...r,encapsulation:On.Emulated});const i=this.getOrCreateRenderer(n,r);return i instanceof $P?i.applyToHost(n):i instanceof Zv&&i.applyStyles(),i}getOrCreateRenderer(n,r){const i=this.rendererByCompId;let s=i.get(r.id);if(!s){const o=this.doc,a=this.ngZone,u=this.eventManager,c=this.sharedStylesHost,l=this.removeStylesOnCompDestory,d=this.platformIsServer;switch(r.encapsulation){case On.Emulated:s=new $P(u,c,r,this.appId,l,o,a,d);break;case On.ShadowDom:return new fY(u,c,n,r,o,a,this.nonce,d);default:s=new Zv(u,c,r,l,o,a,d)}s.onDestroy=()=>i.delete(r.id),i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}}return t.\u0275fac=function(n){return new(n||t)($(PP),$(FP),$(Oh),$(cY),$(er),$(Ki),$(Ee),$(Yx))},t.\u0275prov=j({token:t,factory:t.\u0275fac}),t})();class Jv{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(Yv[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(BP(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(BP(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new b(5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const s=Yv[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=Yv[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Dn.DashCase|Dn.Important)?e.style.setProperty(n,r,i&Dn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Dn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){if("string"==typeof e&&!(e=Xi().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if("__ngUnwrap__"===n)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))&&n.preventDefault()}}}function BP(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class fY extends Jv{constructor(e,n,r,i,s,o,a,u){super(e,s,o,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=VP(i.id,i.styles);for(const l of c){const d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=l,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Zv extends Jv{constructor(e,n,r,i,s,o,a,u){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestory=i,this.rendererUsageCount=0,this.styles=u?VP(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class $P extends Zv{constructor(e,n,r,i,s,o,a,u){const c=i+"-"+r.id;super(e,n,r,s,o,a,u,c),this.contentAttr=function lY(t){return"_ngcontent-%COMP%".replace(Xv,t)}(c),this.hostAttr=function dY(t){return"_nghost-%COMP%".replace(Xv,t)}(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}let pY=(()=>{class t extends OP{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}}return t.\u0275fac=function(n){return new(n||t)($(er))},t.\u0275prov=j({token:t,factory:t.\u0275fac}),t})();const jP=["alt","control","meta","shift"],gY={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},mY={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let yY=(()=>{class t extends OP{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,r,i){const s=t.parseEventName(r),o=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Xi().onAndCancel(n,s.domEventName,o))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=t._normalizeKey(r.pop());let o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),jP.forEach(c=>{const l=r.indexOf(c);l>-1&&(r.splice(l,1),o+=c+".")}),o+=s,0!=r.length||0===s.length)return null;const u={};return u.domEventName=i,u.fullKey=o,u}static matchEventFullKeyCode(n,r){let i=gY[n.key]||n.key,s="";return r.indexOf("code.")>-1&&(i=n.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),jP.forEach(o=>{o!==i&&(0,mY[o])(n)&&(s+=o+".")}),s+=i,s===r)}static eventCallback(n,r,i){return s=>{t.matchEventFullKeyCode(s,n)&&i.runGuarded(()=>r(s))}}static _normalizeKey(n){return"esc"===n?"escape":n}}return t.\u0275fac=function(n){return new(n||t)($(er))},t.\u0275prov=j({token:t,factory:t.\u0275fac}),t})();const GP=[{provide:Ki,useValue:"browser"},{provide:Qx,useValue:function _Y(){Wv.makeCurrent()},multi:!0},{provide:er,useFactory:function wY(){return function h3(t){Uy=t}(document),document},deps:[]}],IY=L1(H8,"browser",GP),EY=new L(""),zP=[{provide:df,useClass:class iY{addToWindow(e){Ae.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new b(5103,!1);return s},Ae.getAllAngularTestabilities=()=>e.getAllTestabilities(),Ae.getAllAngularRootElements=()=>e.getAllRootElements(),Ae.frameworkStabilizers||(Ae.frameworkStabilizers=[]),Ae.frameworkStabilizers.push(r=>{const i=Ae.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(u){o=o||u,s--,0==s&&r(o)};i.forEach(function(u){u.whenStable(a)})})}findTestabilityInTree(e,n,r){return null==n?null:e.getTestability(n)??(r?Xi().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},deps:[]},{provide:N1,useClass:gv,deps:[Ee,mv,df]},{provide:gv,useClass:gv,deps:[Ee,mv,df]}],qP=[{provide:Ky,useValue:"root"},{provide:$s,useFactory:function vY(){return new $s},deps:[]},{provide:Kv,useClass:pY,multi:!0,deps:[er,Ee,Ki]},{provide:Kv,useClass:yY,multi:!0,deps:[er]},UP,FP,PP,{provide:iR,useExisting:UP},{provide:class AQ{},useClass:sY,deps:[]},[]];let DY=(()=>{class t{constructor(n){}static withServerTransition(n){return{ngModule:t,providers:[{provide:Oh,useValue:n.appId}]}}}return t.\u0275fac=function(n){return new(n||t)($(EY,12))},t.\u0275mod=sn({type:t}),t.\u0275inj=zt({providers:[...qP,...zP],imports:[IQ,G8]}),t})(),WP=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}}return t.\u0275fac=function(n){return new(n||t)($(er))},t.\u0275prov=j({token:t,factory:function(n){let r=null;return r=n?new n:function bY(){return new WP($(er))}(),r},providedIn:"root"}),t})();function ee(...t){return Et(t,Uu(t))}typeof window<"u"&&window;class gr extends ri{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const{isArray:RY}=Array,{getPrototypeOf:NY,prototype:kY,keys:PY}=Object;function XP(t){if(1===t.length){const e=t[0];if(RY(e))return{args:e,keys:null};if(function OY(t){return t&&"object"==typeof t&&NY(t)===kY}(e)){const n=PY(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}const{isArray:FY}=Array;function JP(t){return ve(e=>function LY(t,e){return FY(e)?t(...e):t(e)}(t,e))}function ZP(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function tw(...t){const e=Uu(t),n=AA(t),{args:r,keys:i}=XP(t);if(0===r.length)return Et([],e);const s=new Be(function VY(t,e,n=Ns){return r=>{eO(e,()=>{const{length:i}=t,s=new Array(i);let o=i,a=i;for(let u=0;u<i;u++)eO(e,()=>{const c=Et(t[u],e);let l=!1;c.subscribe(It(r,d=>{s[u]=d,l||(l=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>ZP(i,o):Ns));return n?s.pipe(JP(n)):s}function eO(t,e,n){t?ii(n,t,e):e()}const Rf=Lu(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function nw(...t){return function UY(){return jo(1)}()(Et(t,Uu(t)))}function tO(t){return new Be(e=>{Kn(t()).subscribe(e)})}function Uc(t,e){const n=Te(t)?t:()=>t,r=i=>i.error(n());return new Be(e?i=>e.schedule(r,0,i):r)}function rw(){return Nt((t,e)=>{let n=null;t._refCount++;const r=It(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class nO extends Be{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,fA(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new kn;const n=this.getSubject();e.add(this.source.subscribe(It(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=kn.EMPTY)}return e}refCount(){return rw()(this)}}function wi(t,e){return Nt((n,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();n.subscribe(It(r,u=>{i?.unsubscribe();let c=0;const l=s++;Kn(t(u,l)).subscribe(i=It(r,d=>r.next(e?e(u,d,l,c++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function Na(t){return t<=0?()=>Cr:Nt((e,n)=>{let r=0;e.subscribe(It(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Zi(t,e){return Nt((n,r)=>{let i=0;n.subscribe(It(r,s=>t.call(e,s,i++)&&r.next(s)))})}function Nf(t){return Nt((e,n)=>{let r=!1;e.subscribe(It(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function rO(t=$Y){return Nt((e,n)=>{let r=!1;e.subscribe(It(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function $Y(){return new Rf}function Ks(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Zi((i,s)=>t(i,s,r)):Ns,Na(1),n?Nf(e):rO(()=>new Rf))}function Bc(t,e){return Te(e)?kt(t,e,1):kt(t,1)}function Yt(t,e,n){const r=Te(t)||e||n?{next:t,error:e,complete:n}:t;return r?Nt((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(It(s,u=>{var c;null===(c=r.next)||void 0===c||c.call(r,u),s.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),s.complete()},u=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,u),s.error(u)},()=>{var u,c;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):Ns}function Qs(t){return Nt((e,n)=>{let s,r=null,i=!1;r=e.subscribe(It(n,void 0,void 0,o=>{s=Kn(t(o,Qs(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function iw(t){return t<=0?()=>Cr:Nt((e,n)=>{let r=[];e.subscribe(It(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function sw(t){return Nt((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}const se="primary",$c=Symbol("RouteTitle");class qY{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function ka(t){return new qY(t)}function WY(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Vr(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!iO(t[i],e[i]))return!1;return!0}function iO(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}return t===e}function sO(t){return t.length>0?t[t.length-1]:null}function es(t){return function xY(t){return!!t&&(t instanceof Be||Te(t.lift)&&Te(t.subscribe))}(t)?t:Cc(t)?Et(Promise.resolve(t)):ee(t)}const QY={exact:function uO(t,e,n){if(!Ys(t.segments,e.segments)||!kf(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!uO(t.children[r],e.children[r],n))return!1;return!0},subset:cO},oO={exact:function YY(t,e){return Vr(t,e)},subset:function XY(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>iO(t[n],e[n]))},ignored:()=>!0};function aO(t,e,n){return QY[n.paths](t.root,e.root,n.matrixParams)&&oO[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function cO(t,e,n){return lO(t,e,e.segments,n)}function lO(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!Ys(i,n)||e.hasChildren()||!kf(i,n,r))}if(t.segments.length===n.length){if(!Ys(t.segments,n)||!kf(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!cO(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!!(Ys(t.segments,i)&&kf(t.segments,i,r)&&t.children[se])&&lO(t.children[se],e,s,r)}}function kf(t,e,n){return e.every((r,i)=>oO[n](t[i].parameters,r.parameters))}class Pa{constructor(e=new De([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ka(this.queryParams)),this._queryParamMap}toString(){return eX.serialize(this)}}class De{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Pf(this)}}class jc{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=ka(this.parameters)),this._parameterMap}toString(){return fO(this)}}function Ys(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}let Hc=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:function(){return new ow},providedIn:"root"}),t})();class ow{parse(e){const n=new dX(e);return new Pa(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${Gc(e.root,!0)}`,r=function rX(t){const e=Object.keys(t).map(n=>{const r=t[n];return Array.isArray(r)?r.map(i=>`${Of(n)}=${Of(i)}`).join("&"):`${Of(n)}=${Of(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${n}${r}${"string"==typeof e.fragment?`#${function tX(t){return encodeURI(t)}(e.fragment)}`:""}`}}const eX=new ow;function Pf(t){return t.segments.map(e=>fO(e)).join("/")}function Gc(t,e){if(!t.hasChildren())return Pf(t);if(e){const n=t.children[se]?Gc(t.children[se],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==se&&r.push(`${i}:${Gc(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function ZY(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===se&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==se&&(n=n.concat(e(i,r)))}),n}(t,(r,i)=>i===se?[Gc(t.children[se],!1)]:[`${i}:${Gc(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[se]?`${Pf(t)}/${n[0]}`:`${Pf(t)}/(${n.join("//")})`}}function dO(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Of(t){return dO(t).replace(/%3B/gi,";")}function aw(t){return dO(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ff(t){return decodeURIComponent(t)}function hO(t){return Ff(t.replace(/\+/g,"%20"))}function fO(t){return`${aw(t.path)}${function nX(t){return Object.keys(t).map(e=>`;${aw(e)}=${aw(t[e])}`).join("")}(t.parameters)}`}const iX=/^[^\/()?;#]+/;function uw(t){const e=t.match(iX);return e?e[0]:""}const sX=/^[^\/()?;=#]+/,aX=/^[^=?&#]+/,cX=/^[^&#]+/;class dX{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new De([],{}):new De([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[se]=new De(e,n)),r}parseSegment(){const e=uw(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new b(4009,!1);return this.capture(e),new jc(Ff(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=function oX(t){const e=t.match(sX);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=uw(this.remaining);i&&(r=i,this.capture(r))}e[Ff(n)]=Ff(r)}parseQueryParam(e){const n=function uX(t){const e=t.match(aX);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const o=function lX(t){const e=t.match(cX);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=hO(n),s=hO(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=uw(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new b(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=se);const o=this.parseChildren();n[s]=1===Object.keys(o).length?o[se]:new De([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new b(4011,!1)}}function pO(t){return t.segments.length>0?new De([],{[se]:t}):t}function gO(t){const e={};for(const r of Object.keys(t.children)){const s=gO(t.children[r]);if(r===se&&0===s.segments.length&&s.hasChildren())for(const[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function hX(t){if(1===t.numberOfChildren&&t.children[se]){const e=t.children[se];return new De(t.segments.concat(e.segments),e.children)}return t}(new De(t.segments,e))}function Xs(t){return t instanceof Pa}function mO(t){let e;const i=pO(function n(s){const o={};for(const u of s.children){const c=n(u);o[u.outlet]=c}const a=new De(s.url,o);return s===t&&(e=a),a}(t.root));return e??i}function yO(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(0===e.length)return cw(i,i,i,n,r);const s=function pX(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new vO(!0,0,t);let e=0,n=!1;const r=t.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Object.entries(s.outlets).forEach(([u,c])=>{a[u]="string"==typeof c?c.split("/"):c}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,u)=>{0==u&&"."===a||(0==u&&""===a?n=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new vO(n,e,r)}(e);if(s.toRoot())return cw(i,i,new De([],{}),n,r);const o=function gX(t,e,n){if(t.isAbsolute)return new Vf(e,!0,0);if(!n)return new Vf(e,!1,NaN);if(null===n.parent)return new Vf(n,!0,0);const r=Lf(t.commands[0])?0:1;return function mX(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new b(4005,!1);i=r.segments.length}return new Vf(r,!1,i-s)}(n,n.segments.length-1+r,t.numberOfDoubleDots)}(s,i,t),a=o.processChildren?qc(o.segmentGroup,o.index,s.commands):wO(o.segmentGroup,o.index,s.commands);return cw(i,o.segmentGroup,a,n,r)}function Lf(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function zc(t){return"object"==typeof t&&null!=t&&t.outlets}function cw(t,e,n,r,i){let o,s={};r&&Object.entries(r).forEach(([u,c])=>{s[u]=Array.isArray(c)?c.map(l=>`${l}`):`${c}`}),o=t===e?n:_O(t,e,n);const a=pO(gO(o));return new Pa(a,s,i)}function _O(t,e,n){const r={};return Object.entries(t.children).forEach(([i,s])=>{r[i]=s===e?n:_O(s,e,n)}),new De(t.segments,r)}class vO{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Lf(r[0]))throw new b(4003,!1);const i=r.find(zc);if(i&&i!==sO(r))throw new b(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Vf{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function wO(t,e,n){if(t||(t=new De([],{})),0===t.segments.length&&t.hasChildren())return qc(t,e,n);const r=function _X(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const o=t.segments[i],a=n[r];if(zc(a))break;const u=`${a}`,c=r<n.length-1?n[r+1]:null;if(i>0&&void 0===u)break;if(u&&c&&"object"==typeof c&&void 0===c.outlets){if(!EO(u,c,o))return s;r+=2}else{if(!EO(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const s=new De(t.segments.slice(0,r.pathIndex),{});return s.children[se]=new De(t.segments.slice(r.pathIndex),t.children),qc(s,0,i)}return r.match&&0===i.length?new De(t.segments,{}):r.match&&!t.hasChildren()?lw(t,e,n):r.match?qc(t,0,i):lw(t,e,n)}function qc(t,e,n){if(0===n.length)return new De(t.segments,{});{const r=function yX(t){return zc(t[0])?t[0].outlets:{[se]:t}}(n),i={};if(!r[se]&&t.children[se]&&1===t.numberOfChildren&&0===t.children[se].segments.length){const s=qc(t.children[se],e,n);return new De(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{"string"==typeof o&&(o=[o]),null!==o&&(i[s]=wO(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{void 0===r[s]&&(i[s]=o)}),new De(t.segments,i)}}function lw(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const s=n[i];if(zc(s)){const u=vX(s.outlets);return new De(r,u)}if(0===i&&Lf(n[0])){r.push(new jc(t.segments[e].path,IO(n[0]))),i++;continue}const o=zc(s)?s.outlets[se]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&Lf(a)?(r.push(new jc(o,IO(a))),i+=2):(r.push(new jc(o,{})),i++)}return new De(r,{})}function vX(t){const e={};return Object.entries(t).forEach(([n,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[n]=lw(new De([],{}),0,r))}),e}function IO(t){const e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function EO(t,e,n){return t==n.path&&Vr(e,n.parameters)}const Wc="imperative";class Ur{constructor(e,n){this.id=e,this.url=n}}class dw extends Ur{constructor(e,n,r="imperative",i=null){super(e,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Js extends Ur{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Uf extends Ur{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Kc extends Ur{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=16}}class hw extends Ur{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class wX extends Ur{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class IX extends Ur{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class EX extends Ur{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class DX extends Ur{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class CX extends Ur{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class bX{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class TX{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class SX{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class AX{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class MX{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class xX{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class DO{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class RX{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Qc,this.attachRef=null}}let Qc=(()=>{class t{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){const i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new RX,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class CO{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=fw(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=fw(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=pw(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return pw(e,this._root).map(n=>n.value)}}function fw(t,e){if(t===e.value)return e;for(const n of e.children){const r=fw(t,n);if(r)return r}return null}function pw(t,e){if(t===e.value)return[e];for(const n of e.children){const r=pw(t,n);if(r.length)return r.unshift(e),r}return[]}class Ii{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function Oa(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class bO extends CO{constructor(e,n){super(e),this.snapshot=n,gw(this,e)}toString(){return this.snapshot.toString()}}function TO(t,e){const n=function NX(t,e){const o=new Bf([],{},{},"",{},se,e,null,{});return new AO("",new Ii(o,[]))}(0,e),r=new gr([new jc("",{})]),i=new gr({}),s=new gr({}),o=new gr({}),a=new gr(""),u=new Fa(r,i,o,a,s,se,e,n.root);return u.snapshot=n.root,new bO(new Ii(u,[]),n)}class Fa{constructor(e,n,r,i,s,o,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(ve(c=>c[$c]))??ee(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(ve(e=>ka(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(ve(e=>ka(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function SO(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const i=n[r],s=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function kX(t){return t.reduce((e,n)=>({params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Bf{get title(){return this.data?.[$c]}constructor(e,n,r,i,s,o,a,u,c){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=u,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ka(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ka(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class AO extends CO{constructor(e,n){super(n),this.url=e,gw(this,n)}toString(){return MO(this._root)}}function gw(t,e){e.value._routerState=t,e.children.forEach(n=>gw(t,n))}function MO(t){const e=t.children.length>0?` { ${t.children.map(MO).join(", ")} } `:"";return`${t.value}${e}`}function mw(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Vr(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Vr(e.params,n.params)||t.paramsSubject.next(n.params),function KY(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Vr(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.urlSubject.next(n.url),Vr(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function yw(t,e){const n=Vr(t.params,e.params)&&function JY(t,e){return Ys(t,e)&&t.every((n,r)=>Vr(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||yw(t.parent,e.parent))}let _w=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=se,this.activateEvents=new Qe,this.deactivateEvents=new Qe,this.attachEvents=new Qe,this.detachEvents=new Qe,this.parentContexts=V(Qc),this.location=V(dr),this.changeDetector=V(ff),this.environmentInjector=V(hi),this.inputBinder=V($f,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){const{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new b(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new b(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new b(4012,!1);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new b(4013,!1);this._activatedRoute=n;const i=this.location,o=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new PX(n,a,i.injector);this.activated=i.createComponent(o,{index:i.length,injector:u,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=Q({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Yn]}),t})();class PX{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Fa?this.route:e===Qc?this.childContexts:this.parent.get(e,n)}}const $f=new L("");let xO=(()=>{class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){const{activatedRoute:r}=n,i=tw([r.queryParams,r.params,r.data]).pipe(wi(([s,o,a],u)=>(a={...s,...o,...a},0===u?ee(a):Promise.resolve(a)))).subscribe(s=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(n);const o=function eK(t){const e=me(t);if(!e)return null;const n=new _c(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone}}}(r.component);if(o)for(const{templateName:a}of o.inputs)n.activatedComponentRef.setInput(a,s[a]);else this.unsubscribeFromRouteData(n)});this.outletDataSubscriptions.set(n,i)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac}),t})();function Yc(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function FX(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Yc(t,r,i);return Yc(t,r)})}(t,e,n);return new Ii(r,i)}{if(t.shouldAttach(e.value)){const s=t.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Yc(t,a)),o}}const r=function LX(t){return new Fa(new gr(t.url),new gr(t.params),new gr(t.queryParams),new gr(t.fragment),new gr(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(s=>Yc(t,s));return new Ii(r,i)}}const vw="ngNavigationCancelingError";function RO(t,e){const{redirectTo:n,navigationBehaviorOptions:r}=Xs(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=NO(!1,0,e);return i.url=n,i.navigationBehaviorOptions=r,i}function NO(t,e,n){const r=new Error("NavigationCancelingError: "+(t||""));return r[vw]=!0,r.cancellationCode=e,n&&(r.url=n),r}function kO(t){return PO(t)&&Xs(t.url)}function PO(t){return t&&t[vw]}let OO=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=Gu({type:t,selectors:[["ng-component"]],standalone:!0,features:[kk],decls:1,vars:0,template:function(n,r){1&n&&Or(0,"router-outlet")},dependencies:[_w],encapsulation:2}),t})();function ww(t){const e=t.children&&t.children.map(ww),n=e?{...t,children:e}:{...t};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==se&&(n.component=OO),n}function mr(t){return t.outlet||se}function Xc(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class GX{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),mw(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=Oa(n);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Oa(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Oa(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){const i=Oa(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new xX(s.value.snapshot))}),e.children.length&&this.forwardEvent(new AX(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(mw(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),mw(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=Xc(i.snapshot);o.attachRef=null,o.route=i,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class FO{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class jf{constructor(e,n){this.component=e,this.route=n}}function zX(t,e,n){const r=t._root;return Jc(r,e?e._root:null,n,[r.value])}function La(t,e){const n=Symbol(),r=e.get(t,n);return r===n?"function"!=typeof t||function Nz(t){return null!==qd(t)}(t)?e.get(t):t:r}function Jc(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=Oa(e);return t.children.forEach(o=>{(function WX(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const u=function KX(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Ys(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Ys(t.url,e.url)||!Vr(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!yw(t,e)||!Vr(t.queryParams,e.queryParams);default:return!yw(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new FO(r)):(s.data=o.data,s._resolvedData=o._resolvedData),Jc(t,e,s.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new jf(a.outlet.component,o))}else o&&Zc(e,a,i),i.canActivateChecks.push(new FO(r)),Jc(t,null,s.component?a?a.children:null:n,r,i)})(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>Zc(a,n.getContext(o),i)),i}function Zc(t,e,n){const r=Oa(t),i=t.value;Object.entries(r).forEach(([s,o])=>{Zc(o,i.component?e?e.children.getContext(s):null:e,n)}),n.canDeactivateChecks.push(new jf(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function el(t){return"function"==typeof t}function LO(t){return t instanceof Rf||"EmptyError"===t?.name}const Hf=Symbol("INITIAL_VALUE");function Va(){return wi(t=>tw(t.map(e=>e.pipe(Na(1),function BY(...t){const e=Uu(t);return Nt((n,r)=>{(e?nw(t,n,e):nw(t,n)).subscribe(r)})}(Hf)))).pipe(ve(e=>{for(const n of e)if(!0!==n){if(n===Hf)return Hf;if(!1===n||n instanceof Pa)return n}return!0}),Zi(e=>e!==Hf),Na(1)))}function VO(t){return function UG(...t){return lA(t)}(Yt(e=>{if(Xs(e))throw RO(0,e)}),ve(e=>!0===e))}class Gf{constructor(e){this.segmentGroup=e||null}}class UO{constructor(e){this.urlTree=e}}function Ua(t){return Uc(new Gf(t))}function BO(t){return Uc(new UO(t))}class pJ{constructor(e,n){this.urlSerializer=e,this.urlTree=n}noMatchError(e){return new b(4002,!1)}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return ee(r);if(i.numberOfChildren>1||!i.children[se])return Uc(new b(4e3,!1));i=i.children[se]}}applyRedirectCommands(e,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r)}applyRedirectCreateUrlTree(e,n,r,i){const s=this.createSegmentGroup(e,n.root,r,i);return new Pa(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return Object.entries(e).forEach(([i,s])=>{if("string"==typeof s&&s.startsWith(":")){const a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){const s=this.createSegments(e,n.segments,r,i);let o={};return Object.entries(n.children).forEach(([a,u])=>{o[a]=this.createSegmentGroup(e,u,r,i)}),new De(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new b(4001,!1);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}const Iw={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function gJ(t,e,n,r,i){const s=Ew(t,e,n);return s.matched?(r=function VX(t,e){return t.providers&&!t._injector&&(t._injector=K_(t.providers,e,`Route: ${t.path}`)),t._injector??e}(e,r),function dJ(t,e,n,r){const i=e.canMatch;return i&&0!==i.length?ee(i.map(o=>{const a=La(o,t);return es(function eJ(t){return t&&el(t.canMatch)}(a)?a.canMatch(e,n):t.runInContext(()=>a(e,n)))})).pipe(Va(),VO()):ee(!0)}(r,e,n).pipe(ve(o=>!0===o?s:{...Iw}))):ee(s)}function Ew(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{...Iw}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(e.matcher||WY)(n,t,e);if(!i)return{...Iw};const s={};Object.entries(i.posParams??{}).forEach(([a,u])=>{s[a]=u.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function $O(t,e,n,r){return n.length>0&&function _J(t,e,n){return n.some(r=>zf(t,e,r)&&mr(r)!==se)}(t,n,r)?{segmentGroup:new De(e,yJ(r,new De(n,t.children))),slicedSegments:[]}:0===n.length&&function vJ(t,e,n){return n.some(r=>zf(t,e,r))}(t,n,r)?{segmentGroup:new De(t.segments,mJ(t,0,n,r,t.children)),slicedSegments:n}:{segmentGroup:new De(t.segments,t.children),slicedSegments:n}}function mJ(t,e,n,r,i){const s={};for(const o of r)if(zf(t,n,o)&&!i[mr(o)]){const a=new De([],{});s[mr(o)]=a}return{...i,...s}}function yJ(t,e){const n={};n[se]=e;for(const r of t)if(""===r.path&&mr(r)!==se){const i=new De([],{});n[mr(r)]=i}return n}function zf(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}class DJ{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new pJ(this.urlSerializer,this.urlTree)}noMatchError(e){return new b(4002,!1)}recognize(){const e=$O(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,se).pipe(Qs(n=>{if(n instanceof UO)return this.allowRedirects=!1,this.urlTree=n.urlTree,this.match(n.urlTree);throw n instanceof Gf?this.noMatchError(n):n}),ve(n=>{const r=new Bf([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},se,this.rootComponentType,null,{}),i=new Ii(r,n),s=new AO("",i),o=function fX(t,e,n=null,r=null){return yO(mO(t),e,n,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,se).pipe(Qs(r=>{throw r instanceof Gf?this.noMatchError(r):r}))}inheritParamsAndData(e){const n=e.value,r=SO(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0)}processChildren(e,n,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return Et(i).pipe(Bc(s=>{const o=r.children[s],a=function jX(t,e){const n=t.filter(r=>mr(r)===e);return n.push(...t.filter(r=>mr(r)!==e)),n}(n,s);return this.processSegmentGroup(e,a,o,s)}),function HY(t,e){return Nt(function jY(t,e,n,r,i){return(s,o)=>{let a=n,u=e,c=0;s.subscribe(It(o,l=>{const d=c++;u=a?t(u,l,d):(a=!0,l),r&&o.next(u)},i&&(()=>{a&&o.next(u),o.complete()})))}}(t,e,arguments.length>=2,!0))}((s,o)=>(s.push(...o),s)),Nf(null),function GY(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Zi((i,s)=>t(i,s,r)):Ns,iw(1),n?Nf(e):rO(()=>new Rf))}(),kt(s=>{if(null===s)return Ua(r);const o=jO(s);return function CJ(t){t.sort((e,n)=>e.value.outlet===se?-1:n.value.outlet===se?1:e.value.outlet.localeCompare(n.value.outlet))}(o),ee(o)}))}processSegment(e,n,r,i,s,o){return Et(n).pipe(Bc(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,s,o).pipe(Qs(u=>{if(u instanceof Gf)return ee(null);throw u}))),Ks(a=>!!a),Qs(a=>{if(LO(a))return function IJ(t,e,n){return 0===e.length&&!t.children[n]}(r,i,s)?ee([]):Ua(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,s,o,a){return function wJ(t,e,n,r){return!!(mr(t)===r||r!==se&&zf(e,n,t))&&("**"===t.path||Ew(e,t,n).matched)}(r,i,s,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,s,o,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o):Ua(i):Ua(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,i){const s=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?BO(s):this.applyRedirects.lineralizeSegments(r,s).pipe(kt(o=>{const a=new De(o,{});return this.processSegment(e,n,a,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){const{matched:a,consumedSegments:u,remainingSegments:c,positionalParamSegments:l}=Ew(n,i,s);if(!a)return Ua(n);const d=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,l);return i.redirectTo.startsWith("/")?BO(d):this.applyRedirects.lineralizeSegments(i,d).pipe(kt(h=>this.processSegment(e,r,n,h.concat(c),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s,o){let a;if("**"===r.path){const u=i.length>0?sO(i).parameters:{};a=ee({snapshot:new Bf(i,u,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,HO(r),mr(r),r.component??r._loadedComponent??null,r,GO(r)),consumedSegments:[],remainingSegments:[]}),n.children={}}else a=gJ(n,r,i,e).pipe(ve(({matched:u,consumedSegments:c,remainingSegments:l,parameters:d})=>u?{snapshot:new Bf(c,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,HO(r),mr(r),r.component??r._loadedComponent??null,r,GO(r)),consumedSegments:c,remainingSegments:l}:null));return a.pipe(wi(u=>null===u?Ua(n):this.getChildConfig(e=r._injector??e,r,i).pipe(wi(({routes:c})=>{const l=r._loadedInjector??e,{snapshot:d,consumedSegments:h,remainingSegments:f}=u,{segmentGroup:p,slicedSegments:m}=$O(n,h,f,c);if(0===m.length&&p.hasChildren())return this.processChildren(l,c,p).pipe(ve(v=>null===v?null:[new Ii(d,v)]));if(0===c.length&&0===m.length)return ee([new Ii(d,[])]);const y=mr(r)===s;return this.processSegment(l,c,p,m,y?se:s,!0).pipe(ve(v=>[new Ii(d,v)]))}))))}getChildConfig(e,n,r){return n.children?ee({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?ee({routes:n._loadedRoutes,injector:n._loadedInjector}):function lJ(t,e,n,r){const i=e.canLoad;return void 0===i||0===i.length?ee(!0):ee(i.map(o=>{const a=La(o,t);return es(function YX(t){return t&&el(t.canLoad)}(a)?a.canLoad(e,n):t.runInContext(()=>a(e,n)))})).pipe(Va(),VO())}(e,n,r).pipe(kt(i=>i?this.configLoader.loadChildren(e,n).pipe(Yt(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):function fJ(t){return Uc(NO(!1,3))}())):ee({routes:[],injector:e})}}function bJ(t){const e=t.value.routeConfig;return e&&""===e.path}function jO(t){const e=[],n=new Set;for(const r of t){if(!bJ(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=jO(r.children);e.push(new Ii(r.value,i))}return e.filter(r=>!n.has(r))}function HO(t){return t.data||{}}function GO(t){return t.resolve||{}}function zO(t){return"string"==typeof t.title||null===t.title}function Dw(t){return wi(e=>{const n=t(e);return n?Et(n).pipe(ve(()=>e)):ee(e)})}const Ba=new L("ROUTES");let Cw=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=V(C1)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return ee(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const r=es(n.loadComponent()).pipe(ve(qO),Yt(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),sw(()=>{this.componentLoaders.delete(n)})),i=new nO(r,()=>new ri).pipe(rw());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return ee({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(ve(a=>{this.onLoadEndListener&&this.onLoadEndListener(r);let u,c;return Array.isArray(a)?c=a:(u=a.create(n).injector,c=u.get(Ba,[],H.Self|H.Optional).flat()),{routes:c.map(ww),injector:u}}),sw(()=>{this.childrenLoaders.delete(r)})),o=new nO(s,()=>new ri).pipe(rw());return this.childrenLoaders.set(r,o),o}loadModuleFactoryOrRoutes(n){return es(n()).pipe(ve(qO),kt(r=>r instanceof Rk||Array.isArray(r)?ee(r):Et(this.compiler.compileModuleAsync(r))))}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function qO(t){return function NJ(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let qf=(()=>{class t{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new ri,this.configLoader=V(Cw),this.environmentInjector=V(hi),this.urlSerializer=V(Hc),this.rootContexts=V(Qc),this.inputBindingEnabled=null!==V($f,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>ee(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new TX(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new bX(i))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:r})}setupNavigations(n){return this.transitions=new gr({id:0,currentUrlTree:n.currentUrlTree,currentRawUrl:n.currentUrlTree,extractedUrl:n.urlHandlingStrategy.extract(n.currentUrlTree),urlAfterRedirects:n.urlHandlingStrategy.extract(n.currentUrlTree),rawUrl:n.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Wc,restoredState:null,currentSnapshot:n.routerState.snapshot,targetSnapshot:null,currentRouterState:n.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Zi(r=>0!==r.id),ve(r=>({...r,extractedUrl:n.urlHandlingStrategy.extract(r.rawUrl)})),wi(r=>{let i=!1,s=!1;return ee(r).pipe(Yt(o=>{this.currentNavigation={id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),wi(o=>{const a=n.browserUrlTree.toString(),u=!n.navigated||o.extractedUrl.toString()!==a||a!==n.currentUrlTree.toString();if(!u&&"reload"!==(o.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const l="";return this.events.next(new Kc(o.id,n.serializeUrl(r.rawUrl),l,0)),n.rawUrlTree=o.rawUrl,o.resolve(null),Cr}if(n.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return WO(o.source)&&(n.browserUrlTree=o.extractedUrl),ee(o).pipe(wi(l=>{const d=this.transitions?.getValue();return this.events.next(new dw(l.id,this.urlSerializer.serialize(l.extractedUrl),l.source,l.restoredState)),d!==this.transitions?.getValue()?Cr:Promise.resolve(l)}),function TJ(t,e,n,r,i,s){return kt(o=>function EJ(t,e,n,r,i,s,o="emptyOnly"){return new DJ(t,e,n,r,i,o,s).recognize()}(t,e,n,r,o.extractedUrl,i,s).pipe(ve(({state:a,tree:u})=>({...o,targetSnapshot:a,urlAfterRedirects:u}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,n.paramsInheritanceStrategy),Yt(l=>{if(r.targetSnapshot=l.targetSnapshot,r.urlAfterRedirects=l.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:l.urlAfterRedirects},"eager"===n.urlUpdateStrategy){if(!l.extras.skipLocationChange){const h=n.urlHandlingStrategy.merge(l.urlAfterRedirects,l.rawUrl);n.setBrowserUrl(h,l)}n.browserUrlTree=l.urlAfterRedirects}const d=new wX(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}));if(u&&n.urlHandlingStrategy.shouldProcessUrl(n.rawUrlTree)){const{id:l,extractedUrl:d,source:h,restoredState:f,extras:p}=o,m=new dw(l,this.urlSerializer.serialize(d),h,f);this.events.next(m);const y=TO(0,this.rootComponentType).snapshot;return ee(r={...o,targetSnapshot:y,urlAfterRedirects:d,extras:{...p,skipLocationChange:!1,replaceUrl:!1}})}{const l="";return this.events.next(new Kc(o.id,n.serializeUrl(r.extractedUrl),l,1)),n.rawUrlTree=o.rawUrl,o.resolve(null),Cr}}),Yt(o=>{const a=new IX(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(a)}),ve(o=>r={...o,guards:zX(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),function nJ(t,e){return kt(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?ee({...n,guardsResult:!0}):function rJ(t,e,n,r){return Et(t).pipe(kt(i=>function cJ(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?ee(s.map(a=>{const u=Xc(e)??i,c=La(a,u);return es(function ZX(t){return t&&el(t.canDeactivate)}(c)?c.canDeactivate(t,e,n,r):u.runInContext(()=>c(t,e,n,r))).pipe(Ks())})).pipe(Va()):ee(!0)}(i.component,i.route,n,e,r)),Ks(i=>!0!==i,!0))}(o,r,i,t).pipe(kt(a=>a&&function QX(t){return"boolean"==typeof t}(a)?function iJ(t,e,n,r){return Et(e).pipe(Bc(i=>nw(function oJ(t,e){return null!==t&&e&&e(new SX(t)),ee(!0)}(i.route.parent,r),function sJ(t,e){return null!==t&&e&&e(new MX(t)),ee(!0)}(i.route,r),function uJ(t,e,n){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function qX(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(o)).filter(o=>null!==o).map(o=>tO(()=>ee(o.guards.map(u=>{const c=Xc(o.node)??n,l=La(u,c);return es(function JX(t){return t&&el(t.canActivateChild)}(l)?l.canActivateChild(r,t):c.runInContext(()=>l(r,t))).pipe(Ks())})).pipe(Va())));return ee(s).pipe(Va())}(t,i.path,n),function aJ(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return ee(!0);const i=r.map(s=>tO(()=>{const o=Xc(e)??n,a=La(s,o);return es(function XX(t){return t&&el(t.canActivate)}(a)?a.canActivate(e,t):o.runInContext(()=>a(e,t))).pipe(Ks())}));return ee(i).pipe(Va())}(t,i.route,n))),Ks(i=>!0!==i,!0))}(r,s,t,e):ee(a)),ve(a=>({...n,guardsResult:a})))})}(this.environmentInjector,o=>this.events.next(o)),Yt(o=>{if(r.guardsResult=o.guardsResult,Xs(o.guardsResult))throw RO(0,o.guardsResult);const a=new EX(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(a)}),Zi(o=>!!o.guardsResult||(n.restoreHistory(o),this.cancelNavigationTransition(o,"",3),!1)),Dw(o=>{if(o.guards.canActivateChecks.length)return ee(o).pipe(Yt(a=>{const u=new DX(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}),wi(a=>{let u=!1;return ee(a).pipe(function SJ(t,e){return kt(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return ee(n);let s=0;return Et(i).pipe(Bc(o=>function AJ(t,e,n,r){const i=t.routeConfig,s=t._resolve;return void 0!==i?.title&&!zO(i)&&(s[$c]=i.title),function MJ(t,e,n,r){const i=function xJ(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===i.length)return ee({});const s={};return Et(i).pipe(kt(o=>function RJ(t,e,n,r){const i=Xc(e)??r,s=La(t,i);return es(s.resolve?s.resolve(e,n):i.runInContext(()=>s(e,n)))}(t[o],e,n,r).pipe(Ks(),Yt(a=>{s[o]=a}))),iw(1),function zY(t){return ve(()=>t)}(s),Qs(o=>LO(o)?Cr:Uc(o)))}(s,t,e,r).pipe(ve(o=>(t._resolvedData=o,t.data=SO(t,n).resolve,i&&zO(i)&&(t.data[$c]=i.title),null)))}(o.route,r,t,e)),Yt(()=>s++),iw(1),kt(o=>s===i.length?ee(n):Cr))})}(n.paramsInheritanceStrategy,this.environmentInjector),Yt({next:()=>u=!0,complete:()=>{u||(n.restoreHistory(a),this.cancelNavigationTransition(a,"",2))}}))}),Yt(a=>{const u=new CX(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}))}),Dw(o=>{const a=u=>{const c=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&c.push(this.configLoader.loadComponent(u.routeConfig).pipe(Yt(l=>{u.component=l}),ve(()=>{})));for(const l of u.children)c.push(...a(l));return c};return tw(a(o.targetSnapshot.root)).pipe(Nf(),Na(1))}),Dw(()=>this.afterPreactivation()),ve(o=>{const a=function OX(t,e,n){const r=Yc(t,e._root,n?n._root:void 0);return new bO(r,e)}(n.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return r={...o,targetRouterState:a}}),Yt(o=>{n.currentUrlTree=o.urlAfterRedirects,n.rawUrlTree=n.urlHandlingStrategy.merge(o.urlAfterRedirects,o.rawUrl),n.routerState=o.targetRouterState,"deferred"===n.urlUpdateStrategy&&(o.extras.skipLocationChange||n.setBrowserUrl(n.rawUrlTree,o),n.browserUrlTree=o.urlAfterRedirects)}),((t,e,n,r)=>ve(i=>(new GX(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)))(this.rootContexts,n.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),Na(1),Yt({next:o=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,n.navigated=!0,this.events.next(new Js(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(n.currentUrlTree))),n.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),sw(()=>{i||s||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),Qs(o=>{if(s=!0,PO(o)){kO(o)||(n.navigated=!0,n.restoreHistory(r,!0));const a=new Uf(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode);if(this.events.next(a),kO(o)){const u=n.urlHandlingStrategy.merge(o.url,n.rawUrlTree),c={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===n.urlUpdateStrategy||WO(r.source)};n.scheduleNavigation(u,Wc,null,c,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{n.restoreHistory(r,!0);const a=new hw(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);this.events.next(a);try{r.resolve(n.errorHandler(o))}catch(u){r.reject(u)}}return Cr}))}))}cancelNavigationTransition(n,r,i){const s=new Uf(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(s),n.resolve(!1)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function WO(t){return t!==Wc}let KO=(()=>{class t{buildTitle(n){let r,i=n.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===se);return r}getResolvedTitleForRoute(n){return n.data[$c]}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:function(){return V(kJ)},providedIn:"root"}),t})(),kJ=(()=>{class t extends KO{constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}}return t.\u0275fac=function(n){return new(n||t)($(WP))},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),PJ=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:function(){return V(FJ)},providedIn:"root"}),t})();class OJ{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}let FJ=(()=>{class t extends OJ{}return t.\u0275fac=function(){let e;return function(r){return(e||(e=Ft(t)))(r||t)}}(),t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Wf=new L("",{providedIn:"root",factory:()=>({})});let LJ=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:function(){return V(VJ)},providedIn:"root"}),t})(),VJ=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var Hn=(()=>((Hn=Hn||{})[Hn.COMPLETE=0]="COMPLETE",Hn[Hn.FAILED=1]="FAILED",Hn[Hn.REDIRECTING=2]="REDIRECTING",Hn))();function QO(t,e){t.events.pipe(Zi(n=>n instanceof Js||n instanceof Uf||n instanceof hw||n instanceof Kc),ve(n=>n instanceof Js||n instanceof Kc?Hn.COMPLETE:n instanceof Uf&&(0===n.code||1===n.code)?Hn.REDIRECTING:Hn.FAILED),Zi(n=>n!==Hn.REDIRECTING),Na(1)).subscribe(()=>{e()})}function UJ(t){throw t}function BJ(t,e,n){return e.parse("/")}const $J={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},jJ={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let rr=(()=>{class t{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=V(D1),this.isNgZoneEnabled=!1,this.options=V(Wf,{optional:!0})||{},this.pendingTasks=V(oP),this.errorHandler=this.options.errorHandler||UJ,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||BJ,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=V(LJ),this.routeReuseStrategy=V(PJ),this.titleStrategy=V(KO),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=V(Ba,{optional:!0})?.flat()??[],this.navigationTransitions=V(qf),this.urlSerializer=V(Hc),this.location=V(xv),this.componentInputBindingEnabled=!!V($f,{optional:!0}),this.isNgZoneEnabled=V(Ee)instanceof Ee&&Ee.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Pa,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=TO(0,null),this.navigationTransitions.setupNavigations(this).subscribe(n=>{this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId??0},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)})}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const n=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Wc,n)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r="popstate"===n.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(n.url,r,n.state)},0)}))}navigateToSyncWithBrowser(n,r,i){const s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){const u={...i};delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(s.state=u)}const a=this.parseUrl(n);this.scheduleNavigation(a,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(ww),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(n,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:u}=r,c=u?this.currentUrlTree.fragment:o;let d,l=null;switch(a){case"merge":l={...this.currentUrlTree.queryParams,...s};break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=s||null}null!==l&&(l=this.removeEmptyProps(l));try{d=mO(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof n[0]||!n[0].startsWith("/"))&&(n=[]),d=this.currentUrlTree.root}return yO(d,n,l,c??null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=Xs(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,Wc,null,r)}navigate(n,r={skipLocationChange:!1}){return function HJ(t){for(let e=0;e<t.length;e++)if(null==t[e])throw new b(4008,!1)}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,n)}return r}isActive(n,r){let i;if(i=!0===r?{...$J}:!1===r?{...jJ}:r,Xs(n))return aO(this.currentUrlTree,n,i);const s=this.parseUrl(n);return aO(this.currentUrlTree,s,i)}removeEmptyProps(n){return Object.keys(n).reduce((r,i)=>{const s=n[i];return null!=s&&(r[i]=s),r},{})}scheduleNavigation(n,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,u,c;o?(a=o.resolve,u=o.reject,c=o.promise):c=new Promise((d,h)=>{a=d,u=h});const l=this.pendingTasks.add();return QO(this,()=>{Promise.resolve().then(()=>this.pendingTasks.remove(l))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:s,resolve:a,reject:u,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(d=>Promise.reject(d))}setBrowserUrl(n,r){const i=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const o={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",o)}else{const s={...r.extras.state,...this.generateNgRouterState(r.id,(this.browserPageId??0)+1)};this.location.go(i,"",s)}}restoreHistory(n,r=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-(this.browserPageId??this.currentPageId);0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class YO{}let qJ=(()=>{class t{constructor(n,r,i,s,o){this.router=n,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(Zi(n=>n instanceof Js),Bc(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=K_(s.providers,n,`Route: ${s.path}`));const o=s._injector??n,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return Et(i).pipe(jo())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(n,r):ee(null);const s=i.pipe(kt(o=>null===o?ee(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??n,o.routes))));return r.loadComponent&&!r._loadedComponent?Et([s,this.loader.loadComponent(r)]).pipe(jo()):s})}}return t.\u0275fac=function(n){return new(n||t)($(rr),$(C1),$(hi),$(YO),$(Cw))},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Tw=new L("");let XO=(()=>{class t{constructor(n,r,i,s,o={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof dw?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof Js?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof Kc&&0===n.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof DO&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new DO(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return t.\u0275fac=function(n){!function DR(){throw new Error("invalid")}()},t.\u0275prov=j({token:t,factory:t.\u0275fac}),t})();function Ei(t,e){return{\u0275kind:t,\u0275providers:e}}function ZO(){const t=V(bn);return e=>{const n=t.get(xa);if(e!==n.components[0])return;const r=t.get(rr),i=t.get(eF);1===t.get(Sw)&&r.initialNavigation(),t.get(tF,null,H.Optional)?.setUpPreloading(),t.get(Tw,null,H.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const eF=new L("",{factory:()=>new ri}),Sw=new L("",{providedIn:"root",factory:()=>1}),tF=new L("");function YJ(t){return Ei(0,[{provide:tF,useExisting:qJ},{provide:YO,useExisting:t}])}const nF=new L("ROUTER_FORROOT_GUARD"),JJ=[xv,{provide:Hc,useClass:ow},rr,Qc,{provide:Fa,useFactory:function JO(t){return t.routerState.root},deps:[rr]},Cw,[]];function ZJ(){return new O1("Router",rr)}let Aw=(()=>{class t{constructor(n){}static forRoot(n,r){return{ngModule:t,providers:[JJ,[],{provide:Ba,multi:!0,useValue:n},{provide:nF,useFactory:rZ,deps:[[rr,new mt,new vh]]},{provide:Wf,useValue:r||{}},r?.useHash?{provide:Ws,useClass:sK}:{provide:Ws,useClass:lP},{provide:Tw,useFactory:()=>{const t=V(bQ),e=V(Ee),n=V(Wf),r=V(qf),i=V(Hc);return n.scrollOffset&&t.setOffset(n.scrollOffset),new XO(i,r,t,e,n)}},r?.preloadingStrategy?YJ(r.preloadingStrategy).\u0275providers:[],{provide:O1,multi:!0,useFactory:ZJ},r?.initialNavigation?iZ(r):[],r?.bindToComponentInputs?Ei(8,[xO,{provide:$f,useExisting:xO}]).\u0275providers:[],[{provide:rF,useFactory:ZO},{provide:vv,multi:!0,useExisting:rF}]]}}static forChild(n){return{ngModule:t,providers:[{provide:Ba,multi:!0,useValue:n}]}}}return t.\u0275fac=function(n){return new(n||t)($(nF,8))},t.\u0275mod=sn({type:t}),t.\u0275inj=zt({}),t})();function rZ(t){return"guarded"}function iZ(t){return["disabled"===t.initialNavigation?Ei(3,[{provide:lv,multi:!0,useFactory:()=>{const e=V(rr);return()=>{e.setUpLocationChangeListener()}}},{provide:Sw,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?Ei(2,[{provide:Sw,useValue:0},{provide:lv,multi:!0,deps:[bn],useFactory:e=>{const n=e.get(rK,Promise.resolve());return()=>n.then(()=>new Promise(r=>{const i=e.get(rr),s=e.get(eF);QO(i,()=>{r(!0)}),e.get(qf).afterPreactivation=()=>(r(!0),s.closed?ee(void 0):s),i.initialNavigation()}))}}]).\u0275providers:[]]}const rF=new L(""),oZ=[];let aZ=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=sn({type:t}),t.\u0275inj=zt({imports:[Aw.forRoot(oZ),Aw]}),t})(),uZ=(()=>{class t{constructor(){this.title="estadisticas"}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=Gu({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(n,r){1&n&&Or(0,"router-outlet")},dependencies:[_w]}),t})();function iF(t,e,n,r,i,s,o){try{var a=t[s](o),u=a.value}catch(c){return void n(c)}a.done?e(u):Promise.resolve(u).then(r,i)}function g(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var s=t.apply(e,n);function o(u){iF(s,r,i,o,a,"next",u)}function a(u){iF(s,r,i,o,a,"throw",u)}o(void 0)})}}const sF=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},xw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0;let h=(15&a)<<2|c>>6,f=63&c;u||(f=64,o||(h=64)),r.push(n[s>>2],n[(3&s)<<4|a>>4],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(sF(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const u=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(1023&u))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,null==s||null==a||null==c||null==d)throw new hZ;r.push(s<<2|a>>4),64!==c&&(r.push(a<<4&240|c>>2),64!==d&&r.push(c<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class hZ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Kf=function(t){return function(t){const e=sF(t);return xw.encodeByteArray(e,!0)}(t).replace(/\./g,"")},Qf=function(t){try{return xw.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null},Yf=()=>{try{return function gZ(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const t=process.env.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Qf(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}},aF=t=>{var e,n;return null===(n=null===(e=Yf())||void 0===e?void 0:e.emulatorHosts)||void 0===n?void 0:n[t]},uF=t=>{const e=aF(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return"["===e[0]?[e.substring(1,n-1),r]:[e.substring(0,n),r]},cF=()=>{var t;return null===(t=Yf())||void 0===t?void 0:t.config},lF=t=>{var e;return null===(e=Yf())||void 0===e?void 0:e[`_${t}`]};class Xf{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,r))}}}function dF(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Kf(JSON.stringify({alg:"none",type:"JWT"})),Kf(JSON.stringify(o)),""].join(".")}function Ct(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Rw(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function Zs(){try{return"object"==typeof indexedDB}catch{return!1}}function tl(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(n){e(n)}})}function Nw(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Gn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,Gn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Br.prototype.create)}}class Br{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function CZ(t,e){return t.replace(bZ,(n,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new Gn(i,`${this.serviceName}: ${o} (${i}).`,r)}}const bZ=/\{\$([^}]+)}/g;function Zf(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(fF(s)&&fF(o)){if(!Zf(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function fF(t){return null!==t&&"object"==typeof t}function ep(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}class AZ{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(void 0===e&&void 0===n&&void 0===r)throw new Error("Missing Observer.");i=function MZ(t,e){if("object"!=typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"==typeof t[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:n,complete:r},void 0===i.next&&(i.next=kw),void 0===i.error&&(i.error=kw),void 0===i.complete&&(i.complete=kw);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function kw(){}const xZ=1e3,RZ=2,NZ=144e5,kZ=.5;function Ow(t,e=xZ,n=RZ){const r=e*Math.pow(n,t),i=Math.round(kZ*r*(Math.random()-.5)*2);return Math.min(NZ,r+i)}function yr(t){return t&&t._delegate?t._delegate:t}class Lt{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const eo="[DEFAULT]";class OZ{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Xf;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(n=e?.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function LZ(t){return"EAGER"===t.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:eo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=eo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return g(function*(){const n=Array.from(e.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=eo){return this.instances.has(e)}getOptions(e=eo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(t=e,t===eo?void 0:t),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var t;return r||null}normalizeInstanceIdentifier(e=eo){return this.component?this.component.multipleInstances?e:eo:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class VZ{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new OZ(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}const Fw=[];var Y=(()=>((Y=Y||{})[Y.DEBUG=0]="DEBUG",Y[Y.VERBOSE=1]="VERBOSE",Y[Y.INFO=2]="INFO",Y[Y.WARN=3]="WARN",Y[Y.ERROR=4]="ERROR",Y[Y.SILENT=5]="SILENT",Y))();const pF={debug:Y.DEBUG,verbose:Y.VERBOSE,info:Y.INFO,warn:Y.WARN,error:Y.ERROR,silent:Y.SILENT},UZ=Y.INFO,BZ={[Y.DEBUG]:"log",[Y.VERBOSE]:"log",[Y.INFO]:"info",[Y.WARN]:"warn",[Y.ERROR]:"error"},$Z=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=BZ[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class $a{constructor(e){this.name=e,this._logLevel=UZ,this._logHandler=$Z,this._userLogHandler=null,Fw.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Y))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?pF[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Y.DEBUG,...e),this._logHandler(this,Y.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Y.VERBOSE,...e),this._logHandler(this,Y.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Y.INFO,...e),this._logHandler(this,Y.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Y.WARN,...e),this._logHandler(this,Y.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Y.ERROR,...e),this._logHandler(this,Y.ERROR,...e)}}const jZ=(t,e)=>e.some(n=>t instanceof n);let gF,mF;const yF=new WeakMap,Lw=new WeakMap,_F=new WeakMap,Vw=new WeakMap,Uw=new WeakMap;let Bw={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return Lw.get(t);if("objectStoreNames"===e)return t.objectStoreNames||_F.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ts(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function QZ(t){return"function"==typeof t?function KZ(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function GZ(){return mF||(mF=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply($w(this),e),ts(yF.get(this))}:function(...e){return ts(t.apply($w(this),e))}:function(e,...n){const r=t.call($w(this),e,...n);return _F.set(r,e.sort?e.sort():[e]),ts(r)}}(t):(t instanceof IDBTransaction&&function qZ(t){if(Lw.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Lw.set(t,e)}(t),jZ(t,function HZ(){return gF||(gF=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,Bw):t)}function ts(t){if(t instanceof IDBRequest)return function zZ(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(ts(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&yF.set(n,t)}).catch(()=>{}),Uw.set(e,t),e}(t);if(Vw.has(t))return Vw.get(t);const e=QZ(t);return e!==t&&(Vw.set(t,e),Uw.set(e,t)),e}const $w=t=>Uw.get(t),XZ=["get","getKey","getAll","getAllKeys","count"],JZ=["put","add","delete","clear"],jw=new Map;function vF(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(jw.get(e))return jw.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=JZ.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!XZ.includes(n))return;const s=function(){var o=g(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[n](...u),i&&c.done]))[0]});return function(u){return o.apply(this,arguments)}}();return jw.set(e,s),s}!function WZ(t){Bw=t(Bw)}(t=>({...t,get:(e,n,r)=>vF(e,n)||t.get(e,n,r),has:(e,n)=>!!vF(e,n)||t.has(e,n)}));class ZZ{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function eee(t){const e=t.getComponent();return"VERSION"===e?.type}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const Hw="@firebase/app",to=new $a("@firebase/app"),tp="[DEFAULT]",Tee={[Hw]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},no=new Map,np=new Map;function See(t,e){try{t.container.addComponent(e)}catch(n){to.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Xt(t){const e=t.name;if(np.has(e))return to.debug(`There were multiple attempts to register component ${e}.`),!1;np.set(e,t);for(const n of no.values())See(n,t);return!0}function ro(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}const Di=new Br("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Mee{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Lt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Di.create("app-deleted",{appName:this._name})}}const ns="9.22.1";function IF(t,e={}){let n=t;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:tp,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw Di.create("bad-app-name",{appName:String(i)});if(n||(n=cF()),!n)throw Di.create("no-options");const s=no.get(i);if(s){if(Zf(n,s.options)&&Zf(r,s.config))return s;throw Di.create("duplicate-app",{appName:i})}const o=new VZ(i);for(const u of np.values())o.addComponent(u);const a=new Mee(n,r,o);return no.set(i,a),a}function rp(t=tp){const e=no.get(t);if(!e&&t===tp&&cF())return IF();if(!e)throw Di.create("no-app",{appName:t});return e}function EF(){return Array.from(no.values())}function Ne(t,e,n){var r;let i=null!==(r=Tee[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void to.warn(a.join(" "))}Xt(new Lt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const xee="firebase-heartbeat-database",Ree=1,nl="firebase-heartbeat-store";let zw=null;function DF(){return zw||(zw=function YZ(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=ts(o);return r&&o.addEventListener("upgradeneeded",u=>{r(ts(o.result),u.oldVersion,u.newVersion,ts(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}(xee,Ree,{upgrade:(t,e)=>{0===e&&t.createObjectStore(nl)}}).catch(t=>{throw Di.create("idb-open",{originalErrorMessage:t.message})})),zw}function qw(){return(qw=g(function*(t){try{return yield(yield DF()).transaction(nl).objectStore(nl).get(bF(t))}catch(e){if(e instanceof Gn)to.warn(e.message);else{const n=Di.create("idb-get",{originalErrorMessage:e?.message});to.warn(n.message)}}})).apply(this,arguments)}function CF(t,e){return Ww.apply(this,arguments)}function Ww(){return(Ww=g(function*(t,e){try{const r=(yield DF()).transaction(nl,"readwrite");yield r.objectStore(nl).put(e,bF(t)),yield r.done}catch(n){if(n instanceof Gn)to.warn(n.message);else{const r=Di.create("idb-set",{originalErrorMessage:n?.message});to.warn(r.message)}}})).apply(this,arguments)}function bF(t){return`${t.name}!${t.options.appId}`}class Oee{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Lee(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return g(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=TF();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(s=>s.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return g(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const n=TF(),{heartbeatsToSend:r,unsentEntries:i}=function Fee(t,e=1024){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),SF(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),SF(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=Kf(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function TF(){return(new Date).toISOString().substring(0,10)}class Lee{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return g(function*(){return!!Zs()&&tl().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return g(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function Nee(t){return qw.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var n=this;return g(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return CF(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var n=this;return g(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return CF(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function SF(t){return Kf(JSON.stringify({version:2,heartbeats:t})).length}!function Vee(t){Xt(new Lt("platform-logger",e=>new ZZ(e),"PRIVATE")),Xt(new Lt("heartbeat",e=>new Oee(e),"PRIVATE")),Ne(Hw,"0.9.11",t),Ne(Hw,"0.9.11","esm2017"),Ne("fire-js","")}(""),Ne("firebase","9.22.1","app");const $ee=(t,e)=>e.some(n=>t instanceof n);let AF,MF;const xF=new WeakMap,Kw=new WeakMap,RF=new WeakMap,Qw=new WeakMap,Yw=new WeakMap;let Xw={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return Kw.get(t);if("objectStoreNames"===e)return t.objectStoreNames||RF.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return rs(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function Kee(t){return"function"==typeof t?function Wee(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Hee(){return MF||(MF=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(Jw(this),e),rs(xF.get(this))}:function(...e){return rs(t.apply(Jw(this),e))}:function(e,...n){const r=t.call(Jw(this),e,...n);return RF.set(r,e.sort?e.sort():[e]),rs(r)}}(t):(t instanceof IDBTransaction&&function zee(t){if(Kw.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Kw.set(t,e)}(t),$ee(t,function jee(){return AF||(AF=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,Xw):t)}function rs(t){if(t instanceof IDBRequest)return function Gee(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(rs(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&xF.set(n,t)}).catch(()=>{}),Yw.set(e,t),e}(t);if(Qw.has(t))return Qw.get(t);const e=Kee(t);return e!==t&&(Qw.set(t,e),Yw.set(e,t)),e}const Jw=t=>Yw.get(t),Yee=["get","getKey","getAll","getAllKeys","count"],Xee=["put","add","delete","clear"],Zw=new Map;function NF(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(Zw.get(e))return Zw.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Xee.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Yee.includes(n))return;const s=function(){var o=g(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[n](...u),i&&c.done]))[0]});return function(u){return o.apply(this,arguments)}}();return Zw.set(e,s),s}!function qee(t){Xw=t(Xw)}(t=>({...t,get:(e,n,r)=>NF(e,n)||t.get(e,n,r),has:(e,n)=>!!NF(e,n)||t.has(e,n)}));const kF="@firebase/installations",eI="0.6.4",PF=1e4,OF=`w:${eI}`,FF="FIS_v2",Jee="https://firebaseinstallations.googleapis.com/v1",Zee=36e5,Ci=new Br("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function LF(t){return t instanceof Gn&&t.code.includes("request-failed")}function tI({projectId:t}){return`${Jee}/projects/${t}/installations`}function VF(t){return{token:t.token,requestStatus:2,expiresIn:rte(t.expiresIn),creationTime:Date.now()}}function nI(t,e){return rI.apply(this,arguments)}function rI(){return(rI=g(function*(t,e){const r=(yield e.json()).error;return Ci.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function UF({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function iI(t){return sI.apply(this,arguments)}function sI(){return(sI=g(function*(t){const e=yield t();return e.status>=500&&e.status<600?t():e})).apply(this,arguments)}function rte(t){return Number(t.replace("s","000"))}function oI(){return(oI=g(function*({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=tI(t),i=UF(t),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({fid:n,authVersion:FF,appId:t.appId,sdkVersion:OF})},u=yield iI(()=>fetch(r,a));if(u.ok){const c=yield u.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:VF(c.authToken)}}throw yield nI("Create Installation",u)})).apply(this,arguments)}function $F(t){return new Promise(e=>{setTimeout(e,t)})}const ate=/^[cdef][\w-]{21}$/,aI="";function ute(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=function cte(t){return function ote(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}(t).substr(0,22)}(t);return ate.test(n)?n:aI}catch{return aI}}function ja(t){return`${t.appName}!${t.appId}`}const Ha=new Map;function jF(t,e){const n=ja(t);HF(n,e),function hte(t,e){const n=function GF(){return!io&&"BroadcastChannel"in self&&(io=new BroadcastChannel("[Firebase] FID Change"),io.onmessage=t=>{HF(t.data.key,t.data.fid)}),io}();n&&n.postMessage({key:t,fid:e}),function zF(){0===Ha.size&&io&&(io.close(),io=null)}()}(n,e)}function HF(t,e){const n=Ha.get(t);if(n)for(const r of n)r(e)}let io=null;const fte="firebase-installations-database",pte=1,so="firebase-installations-store";let uI=null;function cI(){return uI||(uI=function Qee(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=rs(o);return r&&o.addEventListener("upgradeneeded",u=>{r(rs(o.result),u.oldVersion,u.newVersion,rs(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}(fte,pte,{upgrade:(t,e)=>{0===e&&t.createObjectStore(so)}})),uI}function ip(t,e){return lI.apply(this,arguments)}function lI(){return(lI=g(function*(t,e){const n=ja(t),i=(yield cI()).transaction(so,"readwrite"),s=i.objectStore(so),o=yield s.get(n);return yield s.put(e,n),yield i.done,(!o||o.fid!==e.fid)&&jF(t,e.fid),e})).apply(this,arguments)}function dI(t){return hI.apply(this,arguments)}function hI(){return(hI=g(function*(t){const e=ja(t),r=(yield cI()).transaction(so,"readwrite");yield r.objectStore(so).delete(e),yield r.done})).apply(this,arguments)}function rl(t,e){return fI.apply(this,arguments)}function fI(){return(fI=g(function*(t,e){const n=ja(t),i=(yield cI()).transaction(so,"readwrite"),s=i.objectStore(so),o=yield s.get(n),a=e(o);return void 0===a?yield s.delete(n):yield s.put(a,n),yield i.done,a&&(!o||o.fid!==a.fid)&&jF(t,a.fid),a})).apply(this,arguments)}function pI(t){return gI.apply(this,arguments)}function gI(){return gI=g(function*(t){let e;const n=yield rl(t.appConfig,r=>{const i=function gte(t){return WF(t||{fid:ute(),registrationStatus:0})}(r),s=function mte(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(Ci.create("app-offline"))};const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function yte(t,e){return mI.apply(this,arguments)}(t,n);return{installationEntry:n,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:_te(t)}:{installationEntry:e}}(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===aI?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}}),gI.apply(this,arguments)}function mI(){return mI=g(function*(t,e){try{const n=yield function ste(t,e){return oI.apply(this,arguments)}(t,e);return ip(t.appConfig,n)}catch(n){throw LF(n)&&409===n.customData.serverCode?yield dI(t.appConfig):yield ip(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}),mI.apply(this,arguments)}function _te(t){return yI.apply(this,arguments)}function yI(){return(yI=g(function*(t){let e=yield qF(t.appConfig);for(;1===e.registrationStatus;)yield $F(100),e=yield qF(t.appConfig);if(0===e.registrationStatus){const{installationEntry:n,registrationPromise:r}=yield pI(t);return r||n}return e})).apply(this,arguments)}function qF(t){return rl(t,e=>{if(!e)throw Ci.create("installation-not-found");return WF(e)})}function WF(t){return function vte(t){return 1===t.registrationStatus&&t.registrationTime+PF<Date.now()}(t)?{fid:t.fid,registrationStatus:0}:t}function _I(){return(_I=g(function*({appConfig:t,heartbeatServiceProvider:e},n){const r=function Ite(t,{fid:e}){return`${tI(t)}/${e}/authTokens:generate`}(t,n),i=function BF(t,{refreshToken:e}){const n=UF(t);return n.append("Authorization",function ite(t){return`${FF} ${t}`}(e)),n}(t,n),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:OF,appId:t.appId}})},u=yield iI(()=>fetch(r,a));if(u.ok)return VF(yield u.json());throw yield nI("Generate Auth Token",u)})).apply(this,arguments)}function vI(t){return wI.apply(this,arguments)}function wI(){return wI=g(function*(t,e=!1){let n;const r=yield rl(t.appConfig,s=>{if(!QF(s))throw Ci.create("not-registered");const o=s.authToken;if(!e&&function Cte(t){return 2===t.requestStatus&&!function bte(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+Zee}(t)}(o))return s;if(1===o.requestStatus)return n=function Ete(t,e){return II.apply(this,arguments)}(t,e),s;{if(!navigator.onLine)throw Ci.create("app-offline");const a=function Tte(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}(s);return n=function Dte(t,e){return EI.apply(this,arguments)}(t,a),a}});return n?yield n:r.authToken}),wI.apply(this,arguments)}function II(){return(II=g(function*(t,e){let n=yield KF(t.appConfig);for(;1===n.authToken.requestStatus;)yield $F(100),n=yield KF(t.appConfig);const r=n.authToken;return 0===r.requestStatus?vI(t,e):r})).apply(this,arguments)}function KF(t){return rl(t,e=>{if(!QF(e))throw Ci.create("not-registered");return function Ste(t){return 1===t.requestStatus&&t.requestTime+PF<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function EI(){return EI=g(function*(t,e){try{const n=yield function wte(t,e){return _I.apply(this,arguments)}(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return yield ip(t.appConfig,r),n}catch(n){if(!LF(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield ip(t.appConfig,r)}else yield dI(t.appConfig);throw n}}),EI.apply(this,arguments)}function QF(t){return void 0!==t&&2===t.registrationStatus}function DI(){return(DI=g(function*(t){const e=t,{installationEntry:n,registrationPromise:r}=yield pI(e);return r?r.catch(console.error):vI(e).catch(console.error),n.fid})).apply(this,arguments)}function CI(){return CI=g(function*(t,e=!1){const n=t;return yield function xte(t){return bI.apply(this,arguments)}(n),(yield vI(n,e)).token}),CI.apply(this,arguments)}function bI(){return(bI=g(function*(t){const{registrationPromise:e}=yield pI(t);e&&(yield e)})).apply(this,arguments)}function AI(t){return Ci.create("missing-app-config-values",{valueName:t})}const YF="installations",Ote=t=>{const e=t.getProvider("app").getImmediate(),n=function kte(t){if(!t||!t.options)throw AI("App Configuration");if(!t.name)throw AI("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw AI(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e);return{app:e,appConfig:n,heartbeatServiceProvider:ro(e,"heartbeat"),_delete:()=>Promise.resolve()}},Fte=t=>{const n=ro(t.getProvider("app").getImmediate(),YF).getImmediate();return{getId:()=>function Ate(t){return DI.apply(this,arguments)}(n),getToken:i=>function Mte(t){return CI.apply(this,arguments)}(n,i)}};(function Lte(){Xt(new Lt(YF,Ote,"PUBLIC")),Xt(new Lt("installations-internal",Fte,"PRIVATE"))})(),Ne(kF,eI),Ne(kF,eI,"esm2017");const MI="@firebase/remote-config",Sn=new Br("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Kte{constructor(e,n,r,i){this.client=e,this.storage=n,this.storageCache=r,this.logger=i}isCachedDataFresh(e,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-n,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var n=this;return g(function*(){const[r,i]=yield Promise.all([n.storage.getLastSuccessfulFetchTimestampMillis(),n.storage.getLastSuccessfulFetchResponse()]);if(i&&n.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const s=yield n.client.fetch(e),o=[n.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===s.status&&o.push(n.storage.setLastSuccessfulFetchResponse(s)),yield Promise.all(o),s})()}}function Qte(t=navigator){return t.languages&&t.languages[0]||t.language}class Yte{constructor(e,n,r,i,s,o){this.firebaseInstallations=e,this.sdkVersion=n,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=o}fetch(e){var n=this;return g(function*(){const[r,i]=yield Promise.all([n.firebaseInstallations.getId(),n.firebaseInstallations.getToken()]),o=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${n.projectId}/namespaces/${n.namespace}:fetch?key=${n.apiKey}`,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},u={sdk_version:n.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:n.appId,language_code:Qte()},c={method:"POST",headers:a,body:JSON.stringify(u)},l=fetch(o,c),d=new Promise((v,_)=>{e.signal.addEventListener(()=>{const E=new Error("The operation was aborted.");E.name="AbortError",_(E)})});let h;try{yield Promise.race([l,d]),h=yield l}catch(v){let _="fetch-client-network";throw"AbortError"===v?.name&&(_="fetch-timeout"),Sn.create(_,{originalErrorMessage:v?.message})}let f=h.status;const p=h.headers.get("ETag")||void 0;let m,y;if(200===h.status){let v;try{v=yield h.json()}catch(_){throw Sn.create("fetch-client-parse",{originalErrorMessage:_?.message})}m=v.entries,y=v.state}if("INSTANCE_STATE_UNSPECIFIED"===y?f=500:"NO_CHANGE"===y?f=304:("NO_TEMPLATE"===y||"EMPTY_CONFIG"===y)&&(m={}),304!==f&&200!==f)throw Sn.create("fetch-status",{httpStatus:f});return{status:f,eTag:p,config:m}})()}}class Zte{constructor(e,n){this.client=e,this.storage=n}fetch(e){var n=this;return g(function*(){const r=(yield n.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return n.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:n,backoffCount:r}){var i=this;return g(function*(){yield function Xte(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(Sn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,n);try{const s=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),s}catch(s){if(!function Jte(t){if(!(t instanceof Gn&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(s))throw s;const o={throttleEndTimeMillis:Date.now()+Ow(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(o),i.attemptFetch(e,o)}})()}}class nne{constructor(e,n,r,i,s){this.app=e,this._client=n,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function op(t,e){const n=t.target.error||void 0;return Sn.create(e,{originalErrorMessage:n&&n?.message})}const oo="app_namespace_store";class one{constructor(e,n,r,i=function sne(){return new Promise((t,e)=>{try{const n=indexedDB.open("firebase_remote_config",1);n.onerror=r=>{e(op(r,"storage-open"))},n.onsuccess=r=>{t(r.target.result)},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(oo,{keyPath:"compositeKey"})}}catch(n){e(Sn.create("storage-open",{originalErrorMessage:n?.message}))}})}()){this.appId=e,this.appName=n,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var n=this;return g(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([oo],"readonly").objectStore(oo),u=n.createCompositeKey(e);try{const c=a.get(u);c.onerror=l=>{s(op(l,"storage-get"))},c.onsuccess=l=>{const d=l.target.result;i(d?d.value:void 0)}}catch(c){s(Sn.create("storage-get",{originalErrorMessage:c?.message}))}})})()}set(e,n){var r=this;return g(function*(){const i=yield r.openDbPromise;return new Promise((s,o)=>{const u=i.transaction([oo],"readwrite").objectStore(oo),c=r.createCompositeKey(e);try{const l=u.put({compositeKey:c,value:n});l.onerror=d=>{o(op(d,"storage-set"))},l.onsuccess=()=>{s()}}catch(l){o(Sn.create("storage-set",{originalErrorMessage:l?.message}))}})})()}delete(e){var n=this;return g(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([oo],"readwrite").objectStore(oo),u=n.createCompositeKey(e);try{const c=a.delete(u);c.onerror=l=>{s(op(l,"storage-delete"))},c.onsuccess=()=>{i()}}catch(c){s(Sn.create("storage-delete",{originalErrorMessage:c?.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class ane{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return g(function*(){const n=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),s=yield n;s&&(e.lastFetchStatus=s);const o=yield r;o&&(e.lastSuccessfulFetchTimestampMillis=o);const a=yield i;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function cne(){return PI.apply(this,arguments)}function PI(){return(PI=g(function*(){if(!Zs())return!1;try{return yield tl()}catch{return!1}})).apply(this,arguments)}!function une(){Xt(new Lt("remote-config",function t(e,{instanceIdentifier:n}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Sn.create("registration-window");if(!Zs())throw Sn.create("indexed-db-unavailable");const{projectId:s,apiKey:o,appId:a}=r.options;if(!s)throw Sn.create("registration-project-id");if(!o)throw Sn.create("registration-api-key");if(!a)throw Sn.create("registration-app-id");const u=new one(a,r.name,n=n||"firebase"),c=new ane(u),l=new $a(MI);l.logLevel=Y.ERROR;const d=new Yte(i,ns,n,s,o,a),h=new Zte(d,u),f=new Kte(h,u,c,l),p=new nne(r,f,c,u,l);return function zte(t){const e=yr(t);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(p),p},"PUBLIC").setMultipleInstances(!0)),Ne(MI,"0.4.4"),Ne(MI,"0.4.4","esm2017")}();const lne=(t,e)=>e.some(n=>t instanceof n);let eL,tL;const nL=new WeakMap,OI=new WeakMap,rL=new WeakMap,FI=new WeakMap,LI=new WeakMap;let VI={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return OI.get(t);if("objectStoreNames"===e)return t.objectStoreNames||rL.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return bi(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function yne(t){return"function"==typeof t?function mne(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function hne(){return tL||(tL=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(UI(this),e),bi(nL.get(this))}:function(...e){return bi(t.apply(UI(this),e))}:function(e,...n){const r=t.call(UI(this),e,...n);return rL.set(r,e.sort?e.sort():[e]),bi(r)}}(t):(t instanceof IDBTransaction&&function pne(t){if(OI.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});OI.set(t,e)}(t),lne(t,function dne(){return eL||(eL=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,VI):t)}function bi(t){if(t instanceof IDBRequest)return function fne(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(bi(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&nL.set(n,t)}).catch(()=>{}),LI.set(e,t),e}(t);if(FI.has(t))return FI.get(t);const e=yne(t);return e!==t&&(FI.set(t,e),LI.set(e,t)),e}const UI=t=>LI.get(t);function iL(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=bi(o);return r&&o.addEventListener("upgradeneeded",u=>{r(bi(o.result),u.oldVersion,u.newVersion,bi(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}function BI(t,{blocked:e}={}){const n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",()=>e()),bi(n).then(()=>{})}const _ne=["get","getKey","getAll","getAllKeys","count"],vne=["put","add","delete","clear"],$I=new Map;function sL(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if($I.get(e))return $I.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=vne.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!_ne.includes(n))return;const s=function(){var o=g(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[n](...u),i&&c.done]))[0]});return function(u){return o.apply(this,arguments)}}();return $I.set(e,s),s}!function gne(t){VI=t(VI)}(t=>({...t,get:(e,n,r)=>sL(e,n)||t.get(e,n,r),has:(e,n)=>!!sL(e,n)||t.has(e,n)}));const wne="/firebase-messaging-sw.js",Ine="/firebase-cloud-messaging-push-scope",oL="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Ene="https://fcmregistrations.googleapis.com/v1",aL="google.c.a.c_id",Dne="google.c.a.c_l",Cne="google.c.a.ts";var is=(()=>((is=is||{}).PUSH_RECEIVED="push-received",is.NOTIFICATION_CLICKED="notification-clicked",is))();function Ti(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Tne(t){const n=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}const jI="fcm_token_details_db",Sne=5,uL="fcm_token_object_Store";function HI(){return HI=g(function*(t){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(s=>s.name).includes(jI))return null;let e=null;return(yield iL(jI,Sne,{upgrade:(r=g(function*(i,s,o,a){var u;if(s<2||!i.objectStoreNames.contains(uL))return;const c=a.objectStore(uL),l=yield c.index("fcmSenderId").get(t);if(yield c.clear(),l)if(2===s){const d=l;if(!d.auth||!d.p256dh||!d.endpoint)return;e={token:d.fcmToken,createTime:null!==(u=d.createTime)&&void 0!==u?u:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:"string"==typeof d.vapidKey?d.vapidKey:Ti(d.vapidKey)}}}else if(3===s){const d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Ti(d.auth),p256dh:Ti(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Ti(d.vapidKey)}}}else if(4===s){const d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Ti(d.auth),p256dh:Ti(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Ti(d.vapidKey)}}}}),function(s,o,a,u){return r.apply(this,arguments)})})).close(),yield BI(jI),yield BI("fcm_vapid_details_db"),yield BI("undefined"),function Mne(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return"number"==typeof t.createTime&&t.createTime>0&&"string"==typeof t.token&&t.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}(e)?e:null;var r}),HI.apply(this,arguments)}const xne="firebase-messaging-database",Rne=1,ao="firebase-messaging-store";let GI=null;function zI(){return GI||(GI=iL(xne,Rne,{upgrade:(t,e)=>{0===e&&t.createObjectStore(ao)}})),GI}function cL(t){return qI.apply(this,arguments)}function qI(){return qI=g(function*(t){const e=YI(t),r=yield(yield zI()).transaction(ao).objectStore(ao).get(e);if(r)return r;{const i=yield function Ane(t){return HI.apply(this,arguments)}(t.appConfig.senderId);if(i)return yield WI(t,i),i}}),qI.apply(this,arguments)}function WI(t,e){return KI.apply(this,arguments)}function KI(){return(KI=g(function*(t,e){const n=YI(t),i=(yield zI()).transaction(ao,"readwrite");return yield i.objectStore(ao).put(e,n),yield i.done,e})).apply(this,arguments)}function QI(){return(QI=g(function*(t){const e=YI(t),r=(yield zI()).transaction(ao,"readwrite");yield r.objectStore(ao).delete(e),yield r.done})).apply(this,arguments)}function YI({appConfig:t}){return t.appId}const Vt=new Br("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Pne(t,e){return XI.apply(this,arguments)}function XI(){return(XI=g(function*(t,e){const n=yield tE(t),r=dL(e),i={method:"POST",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(eE(t.appConfig),i)).json()}catch(o){throw Vt.create("token-subscribe-failed",{errorInfo:o?.toString()})}if(s.error)throw Vt.create("token-subscribe-failed",{errorInfo:s.error.message});if(!s.token)throw Vt.create("token-subscribe-no-token");return s.token})).apply(this,arguments)}function JI(){return(JI=g(function*(t,e){const n=yield tE(t),r=dL(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(`${eE(t.appConfig)}/${e.token}`,i)).json()}catch(o){throw Vt.create("token-update-failed",{errorInfo:o?.toString()})}if(s.error)throw Vt.create("token-update-failed",{errorInfo:s.error.message});if(!s.token)throw Vt.create("token-update-no-token");return s.token})).apply(this,arguments)}function lL(t,e){return ZI.apply(this,arguments)}function ZI(){return(ZI=g(function*(t,e){const r={method:"DELETE",headers:yield tE(t)};try{const s=yield(yield fetch(`${eE(t.appConfig)}/${e}`,r)).json();if(s.error)throw Vt.create("token-unsubscribe-failed",{errorInfo:s.error.message})}catch(i){throw Vt.create("token-unsubscribe-failed",{errorInfo:i?.toString()})}})).apply(this,arguments)}function eE({projectId:t}){return`${Ene}/projects/${t}/registrations`}function tE(t){return nE.apply(this,arguments)}function nE(){return(nE=g(function*({appConfig:t,installations:e}){const n=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})})).apply(this,arguments)}function dL({p256dh:t,auth:e,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:e,p256dh:t}};return r!==oL&&(i.web.applicationPubKey=r),i}const Fne=6048e5;function rE(){return rE=g(function*(t){const e=yield function Une(t,e){return aE.apply(this,arguments)}(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:Ti(e.getKey("auth")),p256dh:Ti(e.getKey("p256dh"))},r=yield cL(t.firebaseDependencies);if(r){if(function Bne(t,e){return e.vapidKey===t.vapidKey&&e.endpoint===t.endpoint&&e.auth===t.auth&&e.p256dh===t.p256dh}(r.subscriptionOptions,n))return Date.now()>=r.createTime+Fne?function Vne(t,e){return sE.apply(this,arguments)}(t,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{yield lL(t.firebaseDependencies,r.token)}catch(i){console.warn(i)}return fL(t.firebaseDependencies,n)}return fL(t.firebaseDependencies,n)}),rE.apply(this,arguments)}function iE(){return iE=g(function*(t){const e=yield cL(t.firebaseDependencies);e&&(yield lL(t.firebaseDependencies,e.token),yield function Nne(t){return QI.apply(this,arguments)}(t.firebaseDependencies));const n=yield t.swRegistration.pushManager.getSubscription();return!n||n.unsubscribe()}),iE.apply(this,arguments)}function sE(){return sE=g(function*(t,e){try{const n=yield function One(t,e){return JI.apply(this,arguments)}(t.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return yield WI(t.firebaseDependencies,r),n}catch(n){throw yield function hL(t){return iE.apply(this,arguments)}(t),n}}),sE.apply(this,arguments)}function fL(t,e){return oE.apply(this,arguments)}function oE(){return(oE=g(function*(t,e){const r={token:yield Pne(t,e),createTime:Date.now(),subscriptionOptions:e};return yield WI(t,r),r.token})).apply(this,arguments)}function aE(){return(aE=g(function*(t,e){return(yield t.pushManager.getSubscription())||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Tne(e)})})).apply(this,arguments)}function pL(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return function $ne(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const r=e.notification.body;r&&(t.notification.body=r);const i=e.notification.image;i&&(t.notification.image=i);const s=e.notification.icon;s&&(t.notification.icon=s)}(e,t),function jne(t,e){e.data&&(t.data=e.data)}(e,t),function Hne(t,e){var n,r,i,s,o;if(!(e.fcmOptions||null!==(n=e.notification)&&void 0!==n&&n.click_action))return;t.fcmOptions={};const a=null!==(i=null===(r=e.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(s=e.notification)||void 0===s?void 0:s.click_action;a&&(t.fcmOptions.link=a);const u=null===(o=e.fcmOptions)||void 0===o?void 0:o.analytics_label;u&&(t.fcmOptions.analyticsLabel=u)}(e,t),e}function gL(t,e){const n=[];for(let r=0;r<t.length;r++)n.push(t.charAt(r)),r<e.length&&n.push(e.charAt(r));return n.join("")}function uE(t){return Vt.create("missing-app-config-values",{valueName:t})}gL("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),gL("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class qne{constructor(e,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function zne(t){if(!t||!t.options)throw uE("App Configuration Object");if(!t.name)throw uE("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const r of e)if(!n[r])throw uE(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}function cE(){return(cE=g(function*(t){try{t.swRegistration=yield navigator.serviceWorker.register(wne,{scope:Ine}),t.swRegistration.update().catch(()=>{})}catch(e){throw Vt.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}})).apply(this,arguments)}function lE(){return(lE=g(function*(t,e){if(!e&&!t.swRegistration&&(yield function mL(t){return cE.apply(this,arguments)}(t)),e||!t.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw Vt.create("invalid-sw-registration");t.swRegistration=e}})).apply(this,arguments)}function dE(){return(dE=g(function*(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=oL)})).apply(this,arguments)}function hE(){return hE=g(function*(t,e){if(!navigator)throw Vt.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Vt.create("permission-blocked");return yield function Kne(t,e){return dE.apply(this,arguments)}(t,e?.vapidKey),yield function Wne(t,e){return lE.apply(this,arguments)}(t,e?.serviceWorkerRegistration),function Lne(t){return rE.apply(this,arguments)}(t)}),hE.apply(this,arguments)}function fE(){return(fE=g(function*(t,e,n){const r=function Yne(t){switch(t){case is.NOTIFICATION_CLICKED:return"notification_open";case is.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(e);(yield t.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[aL],message_name:n[Dne],message_time:n[Cne],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function pE(){return pE=g(function*(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===is.PUSH_RECEIVED&&("function"==typeof t.onMessageHandler?t.onMessageHandler(pL(n)):t.onMessageHandler.next(pL(n)));const r=n.data;(function Gne(t){return"object"==typeof t&&!!t&&aL in t})(r)&&"1"===r["google.c.a.e"]&&(yield function Qne(t,e,n){return fE.apply(this,arguments)}(t,n.messageType,r))}),pE.apply(this,arguments)}const _L="@firebase/messaging",Jne=t=>{const e=new qne(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>function Xne(t,e){return pE.apply(this,arguments)}(e,n)),e},Zne=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:r=>function yL(t,e){return hE.apply(this,arguments)}(e,r)}};function wL(){return gE.apply(this,arguments)}function gE(){return(gE=g(function*(){try{yield tl()}catch{return!1}return typeof window<"u"&&Zs()&&Nw()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function ere(){Xt(new Lt("messaging",Jne,"PUBLIC")),Xt(new Lt("messaging-internal",Zne,"PRIVATE")),Ne(_L,"0.12.4"),Ne(_L,"0.12.4","esm2017")}();const ap="analytics",rre="firebase_id",ire="origin",sre=6e4,ore="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",_E="https://www.googletagmanager.com/gtag/js",bt=new $a("@firebase/analytics"),ln=new Br("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function ure(t){if(!t.startsWith(_E)){const e=ln.create("invalid-gtag-resource",{gtagURL:t});return bt.warn(e.message),""}return t}function IL(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function vE(){return(vE=g(function*(t,e,n,r,i,s){const o=r[i];try{if(o)yield e[o];else{const u=(yield IL(n)).find(c=>c.measurementId===i);u&&(yield e[u.appId])}}catch(a){bt.error(a)}t("config",i,s)})).apply(this,arguments)}function wE(){return(wE=g(function*(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=yield IL(n);for(const u of o){const c=a.find(d=>d.measurementId===u),l=c&&e[c.appId];if(!l){s=[];break}s.push(l)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),t("event",r,i||{})}catch(s){bt.error(s)}})).apply(this,arguments)}const yre=30,EL=new class vre{constructor(e={},n=1e3){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function wre(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function IE(){return(IE=g(function*(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:wre(r)},s=ore.replace("{app-id}",n),o=yield fetch(s,i);if(200!==o.status&&304!==o.status){let a="";try{const u=yield o.json();null!==(e=u.error)&&void 0!==e&&e.message&&(a=u.error.message)}catch{}throw ln.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()})).apply(this,arguments)}function EE(){return(EE=g(function*(t,e=EL,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw ln.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw ln.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new bre;return setTimeout(g(function*(){a.abort()}),void 0!==n?n:sre),DL({appId:r,apiKey:i,measurementId:s},o,a,e)})).apply(this,arguments)}function DL(t,e,n){return DE.apply(this,arguments)}function DE(){return DE=g(function*(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=EL){var s;const{appId:o,measurementId:a}=t;try{yield function Dre(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(ln.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(r,e)}catch(u){if(a)return bt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u?.message}]`),{appId:o,measurementId:a};throw u}try{const u=yield function Ire(t){return IE.apply(this,arguments)}(t);return i.deleteThrottleMetadata(o),u}catch(u){const c=u;if(!function Cre(t){if(!(t instanceof Gn&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(c)){if(i.deleteThrottleMetadata(o),a)return bt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c?.message}]`),{appId:o,measurementId:a};throw u}const l=503===Number(null===(s=c?.customData)||void 0===s?void 0:s.httpStatus)?Ow(n,i.intervalMillis,yre):Ow(n,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+l,backoffCount:n+1};return i.setThrottleMetadata(o,d),bt.debug(`Calling attemptFetch again in ${l} millis`),DL(t,d,r,i)}}),DE.apply(this,arguments)}class bre{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let CE,RE;function bE(){return(bE=g(function*(t,e,n,r,i){if(i&&i.global)t("event",n,r);else{const s=yield e;t("event",n,Object.assign(Object.assign({},r),{send_to:s}))}})).apply(this,arguments)}function NE(){return(NE=g(function*(){if(!Zs())return bt.warn(ln.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield tl()}catch(t){return bt.warn(ln.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}return!0})).apply(this,arguments)}function kE(){return kE=g(function*(t,e,n,r,i,s,o){var a;const u=function Ere(t){return EE.apply(this,arguments)}(t);u.then(f=>{n[f.measurementId]=f.appId,t.options.measurementId&&f.measurementId!==t.options.measurementId&&bt.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>bt.error(f)),e.push(u);const c=function Nre(){return NE.apply(this,arguments)}().then(f=>{if(f)return r.getId()}),[l,d]=yield Promise.all([u,c]);(function mre(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(_E)&&n.src.includes(t))return n;return null})(s)||function lre(t,e){const n=function cre(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}("firebase-js-sdk-policy",{createScriptURL:ure}),r=document.createElement("script"),i=`${_E}?l=${t}&id=${e}`;r.src=n?n?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}(s,l.measurementId),RE&&(i("consent","default",RE),function CL(t){RE=t}(void 0)),i("js",new Date);const h=null!==(a=o?.config)&&void 0!==a?a:{};return h[ire]="firebase",h.update=!0,null!=d&&(h[rre]=d),i("config",l.measurementId,h),CE&&(i("set",CE),function bL(t){CE=t}(void 0)),l.measurementId}),kE.apply(this,arguments)}class Pre{constructor(e){this.app=e}_delete(){return delete $r[this.app.options.appId],Promise.resolve()}}let $r={},TL=[];const SL={};let ML,jr,up="dataLayer",PE=!1;function Fre(t,e,n){!function Ore(){const t=[];if(Rw()&&t.push("This is a browser extension environment."),Nw()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=ln.create("invalid-analytics-context",{errorInfo:e});bt.warn(n.message)}}();const r=t.options.appId;if(!r)throw ln.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw ln.create("no-api-key");bt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=$r[r])throw ln.create("already-exists",{id:r});if(!PE){!function dre(t){let e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(up);const{wrappedGtag:s,gtagCore:o}=function gre(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=function pre(t,e,n,r){function s(){return s=g(function*(o,...a){try{if("event"===o){const[u,c]=a;yield function fre(t,e,n,r,i){return wE.apply(this,arguments)}(t,e,n,u,c)}else if("config"===o){const[u,c]=a;yield function hre(t,e,n,r,i,s){return vE.apply(this,arguments)}(t,e,n,r,u,c)}else if("consent"===o){const[u]=a;t("consent","update",u)}else if("get"===o){const[u,c,l]=a;t("get",u,c,l)}else if("set"===o){const[u]=a;t("set",u)}else t(o,...a)}catch(u){bt.error(u)}}),s.apply(this,arguments)}return function i(o){return s.apply(this,arguments)}}(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}($r,TL,SL,up,"gtag");jr=s,ML=o,PE=!0}return $r[r]=function kre(t,e,n,r,i,s,o){return kE.apply(this,arguments)}(t,TL,SL,e,ML,up,n),new Pre(t)}function Vre(){return OE.apply(this,arguments)}function OE(){return(OE=g(function*(){if(Rw()||!Nw()||!Zs())return!1;try{return yield tl()}catch{return!1}})).apply(this,arguments)}const xL="@firebase/analytics";!function Bre(){Xt(new Lt(ap,(e,{options:n})=>Fre(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n),"PUBLIC")),Xt(new Lt("analytics-internal",function t(e){try{const n=e.getProvider(ap).getImmediate();return{logEvent:(r,i,s)=>function Ure(t,e,n,r){t=yr(t),function Tre(t,e,n,r,i){return bE.apply(this,arguments)}(jr,$r[t.app.options.appId],e,n,r).catch(i=>bt.error(i))}(n,r,i,s)}}catch(n){throw ln.create("interop-component-reg-failed",{reason:n})}},"PRIVATE")),Ne(xL,"0.10.0"),Ne(xL,"0.10.0","esm2017")}();class $re extends kn{constructor(e,n){super()}schedule(e,n=0){return this}}const cp={setInterval(t,e,...n){const{delegate:r}=cp;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=cp;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};class NL extends $re{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return cp.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&cp.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,$o(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}const kL={now:()=>(kL.delegate||Date).now(),delegate:void 0};class il{constructor(e,n=il.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}il.now=kL.now;class PL extends il{constructor(e,n=il.now){super(e,n),this.actions=[],this._active=!1}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}const Gre=new class Hre extends PL{}(class jre extends NL{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}}),zre=new PL(NL),sl=new ha("7.6.1"),LE="__angularfire_symbol__analyticsIsSupportedValue",VE="__angularfire_symbol__analyticsIsSupported",UE="__angularfire_symbol__remoteConfigIsSupportedValue",BE="__angularfire_symbol__remoteConfigIsSupported",$E="__angularfire_symbol__messagingIsSupportedValue",jE="__angularfire_symbol__messagingIsSupported";function lp(t,e,n){if(e){if(1===e.length)return e[0];const s=e.filter(o=>o.app===n);if(1===s.length)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}globalThis[VE]||(globalThis[VE]=Vre().then(t=>globalThis[LE]=t).catch(()=>globalThis[LE]=!1)),globalThis[jE]||(globalThis[jE]=wL().then(t=>globalThis[$E]=t).catch(()=>globalThis[$E]=!1)),globalThis[BE]||(globalThis[BE]=cne().then(t=>globalThis[UE]=t).catch(()=>globalThis[UE]=!1));const dp=(t,e)=>{const n=e?[e]:EF(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r};function Ga(){}class OL{constructor(e,n=Gre){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},n,r)}}class qre{constructor(e){this.zone=e,this.task=null}call(e,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ga,{},Ga,Ga)),n.pipe(Yt({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let hp=(()=>{class t{constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new OL(Zone.current)),this.insideAngular=n.run(()=>new OL(Zone.current,zre)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return t.\u0275fac=function(n){return new(n||t)($(Ee))},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function uo(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}function co(t){return uo().ngZone.run(()=>t())}function Kre(t){return uo(),function Qre(t){return function(n){return(n=n.lift(new qre(t.ngZone))).pipe(Hd(t.outsideAngular),jd(t.insideAngular))}}(uo())(t)}const Yre=(t,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),co(()=>t.apply(void 0,r))},za=(t,e)=>function(){let n;const r=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof r[s]&&(e&&(n||(n=co(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ga,{},Ga,Ga)))),r[s]=Yre(r[s],n));const i=function Wre(t){return uo().ngZone.runOutsideAngular(()=>t())}(()=>t.apply(this,r));if(!e){if(i instanceof Be){const s=uo();return i.pipe(Hd(s.outsideAngular),jd(s.insideAngular))}return co(()=>i)}return i instanceof Be?i.pipe(Kre):i instanceof Promise?co(()=>new Promise((s,o)=>i.then(a=>co(()=>s(a)),a=>co(()=>o(a))))):"function"==typeof i&&n?function(){return setTimeout(()=>{n&&"scheduled"===n.state&&n.invoke()},10),i.apply(this,arguments)}:co(()=>i)};class lo{constructor(e){return e}}class fp{constructor(){return EF()}}const GE=new L("angularfire2._apps"),Jre={provide:lo,useFactory:function Xre(t){return t&&1===t.length?t[0]:new lo(rp())},deps:[[new mt,GE]]},Zre={provide:fp,deps:[[new mt,GE]]};function eie(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new lo(r)}}let tie=(()=>{class t{constructor(n){Ne("angularfire",sl.full,"core"),Ne("angularfire",sl.full,"app"),Ne("angular",sR.full,n.toString())}}return t.\u0275fac=function(n){return new(n||t)($(Ki))},t.\u0275mod=sn({type:t}),t.\u0275inj=zt({providers:[Jre,Zre]}),t})();function nie(t,...e){return{ngModule:tie,providers:[{provide:GE,useFactory:eie(t),multi:!0,deps:[Ee,bn,hp,...e]}]}}const rie=za(IF,!0),zE=new Map,FL={activated:!1,tokenObservers:[]},iie={initialized:!1,enabled:!1};function Ye(t){return zE.get(t)||Object.assign({},FL)}function pp(){return iie}const qE="https://content-firebaseappcheck.googleapis.com/v1",uie="exchangeDebugToken",LL={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class lie{constructor(e,n,r,i,s){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var n=this;return g(function*(){n.stop();try{n.pending=new Xf,yield function die(t){return new Promise(e=>{setTimeout(e,t)})}(n.getNextRun(e)),n.pending.resolve(),yield n.pending.promise,n.pending=new Xf,yield n.operation(),n.pending.resolve(),yield n.pending.promise,n.process(!0).catch(()=>{})}catch(r){n.retryPolicy(r)?n.process(!1).catch(()=>{}):n.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}const Ut=new Br("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function WE(t){if(!Ye(t).activated)throw Ut.create("use-before-activation",{appName:t.name})}function yp(t,e){return QE.apply(this,arguments)}function QE(){return(QE=g(function*({url:t,body:e},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){const d=yield i.getHeartbeatsHeader();d&&(r["X-Firebase-Client"]=d)}const s={method:"POST",body:JSON.stringify(e),headers:r};let o,a;try{o=yield fetch(t,s)}catch(d){throw Ut.create("fetch-network-error",{originalErrorMessage:d?.message})}if(200!==o.status)throw Ut.create("fetch-status-error",{httpStatus:o.status});try{a=yield o.json()}catch(d){throw Ut.create("fetch-parse-error",{originalErrorMessage:d?.message})}const u=a.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw Ut.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const c=1e3*Number(u[1]),l=Date.now();return{token:a.token,expireTimeMillis:l+c,issuedAtTimeMillis:l}})).apply(this,arguments)}function VL(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${qE}/projects/${n}/apps/${r}:${uie}?key=${i}`,body:{debug_token:e}}}const gie="firebase-app-check-database",mie=1,ol="firebase-app-check-store";let _p=null;function YE(){return(YE=g(function*(t,e){const r=(yield function BL(){return _p||(_p=new Promise((t,e)=>{try{const n=indexedDB.open(gie,mie);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(Ut.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(ol,{keyPath:"compositeKey"})}}catch(n){e(Ut.create("storage-open",{originalErrorMessage:n?.message}))}}),_p)}()).transaction(ol,"readwrite"),s=r.objectStore(ol).put({compositeKey:t,value:e});return new Promise((o,a)=>{s.onsuccess=u=>{o()},r.onerror=u=>{var c;a(Ut.create("storage-set",{originalErrorMessage:null===(c=u.target.error)||void 0===c?void 0:c.message}))}})})).apply(this,arguments)}const al=new $a("@firebase/app-check");function ZE(t,e){return Zs()?function _ie(t,e){return function $L(t,e){return YE.apply(this,arguments)}(function HL(t){return`${t.options.appId}-${t.name}`}(t),e)}(t,e).catch(n=>{al.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function tD(){return pp().enabled}function nD(){return rD.apply(this,arguments)}function rD(){return(rD=g(function*(){const t=pp();if(t.enabled&&t.token)return t.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Cie={error:"UNKNOWN_ERROR"};function bie(t){return xw.encodeString(JSON.stringify(t),!1)}function vp(t){return iD.apply(this,arguments)}function iD(){return(iD=g(function*(t,e=!1){const n=t.app;WE(n);const r=Ye(n);let s,i=r.token;if(i&&!qa(i)&&(r.token=void 0,i=void 0),!i){const u=yield r.cachedTokenPromise;u&&(qa(u)?i=u:yield ZE(n,void 0))}if(!e&&i&&qa(i))return{token:i.token};let a,o=!1;if(tD()){r.exchangeTokenPromise||(r.exchangeTokenPromise=yp(VL(n,yield nD()),t.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),o=!0);const u=yield r.exchangeTokenPromise;return yield ZE(n,u),r.token=u,{token:u.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),o=!0),i=yield Ye(n).exchangeTokenPromise}catch(u){"appCheck/throttled"===u.code?al.warn(u.message):al.error(u),s=u}return i?s?a=qa(i)?{token:i.token,internalError:s}:WL(s):(a={token:i.token},r.token=i,yield ZE(n,i)):a=WL(s),o&&function qL(t,e){const n=Ye(t).tokenObservers;for(const r of n)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(n,a),a})).apply(this,arguments)}function GL(t){return sD.apply(this,arguments)}function sD(){return(sD=g(function*(t){const e=t.app;WE(e);const{provider:n}=Ye(e);if(tD()){const r=yield nD(),{token:i}=yield yp(VL(e,r),t.heartbeatServiceProvider);return{token:i}}{const{token:r}=yield n.getToken();return{token:r}}})).apply(this,arguments)}function aD(t,e){const n=Ye(t),r=n.tokenObservers.filter(i=>i.next!==e);0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function zL(t){const{app:e}=t,n=Ye(e);let r=n.tokenRefresher;r||(r=function Tie(t){const{app:e}=t;return new lie(g(function*(){let r;if(r=Ye(e).token?yield vp(t,!0):yield vp(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const n=Ye(e);if(n.token){let r=n.token.issuedAtTimeMillis+.5*(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,n.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},LL.RETRIAL_MIN_WAIT,LL.RETRIAL_MAX_WAIT)}(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function qa(t){return t.expireTimeMillis-Date.now()>0}function WL(t){return{token:bie(Cie),error:t}}class Sie{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=Ye(this.app);for(const n of e)aD(this.app,n.next);return Promise.resolve()}}const tV="app-check-internal";!function $ie(){Xt(new Lt("app-check",t=>function Aie(t,e){return new Sie(t,e)}(t.getProvider("app").getImmediate(),t.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(tV).initialize()})),Xt(new Lt(tV,t=>function Mie(t){return{getToken:e=>vp(t,e),getLimitedUseToken:()=>GL(t),addTokenListener:e=>function oD(t,e,n,r){const{app:i}=t,s=Ye(i);if(s.tokenObservers=[...s.tokenObservers,{next:n,error:r,type:e}],s.token&&qa(s.token)){const a=s.token;Promise.resolve().then(()=>{n({token:a.token}),zL(t)}).catch(()=>{})}s.cachedTokenPromise.then(()=>zL(t))}(t,"INTERNAL",e),removeTokenListener:e=>aD(t.app,e)}}(t.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),Ne("@firebase/app-check","0.8.0")}();class Ip{constructor(){return dp("app-check")}}typeof window<"u"&&window;const qie=function rV(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},iV=new Br("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ep=new $a("@firebase/auth");function Dp(t,...e){Ep.logLevel<=Y.ERROR&&Ep.error(`Auth (${ns}): ${t}`,...e)}function An(t,...e){throw hD(t,...e)}function Hr(t,...e){return hD(t,...e)}function hD(t,...e){if("string"!=typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return iV.create(t,...e)}function M(t,e,...n){if(!t)throw hD(e,...n)}function Gr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Dp(e),new Error(e)}function ss(t,e){t||Gr(e)}function ul(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.href)||""}function oV(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}class cl{constructor(e,n){this.shortDelay=e,this.longDelay=n,ss(n>e,"Short delay should be less than long delay!"),this.isMobile=function vZ(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ct())}()||function IZ(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return function Kie(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function fD(){return"http:"===oV()||"https:"===oV()}()||Rw()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function pD(t,e){ss(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class aV{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Gr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Gr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Gr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Yie={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Xie=new cl(3e4,6e4);function Ge(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Xe(t,e,n,r){return gD.apply(this,arguments)}function gD(){return(gD=g(function*(t,e,n,r,i={}){return uV(t,i,g(function*(){let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=ep(Object.assign({key:t.config.apiKey},o)).slice(1),u=yield t._getAdditionalHeaders();return u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),aV.fetch()(cV(t,t.config.apiHost,n,a),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function uV(t,e,n){return mD.apply(this,arguments)}function mD(){return(mD=g(function*(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},Yie),e);try{const i=new Jie(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw ll(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[u,c]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===u)throw ll(t,"credential-already-in-use",o);if("EMAIL_EXISTS"===u)throw ll(t,"email-already-in-use",o);if("USER_DISABLED"===u)throw ll(t,"user-disabled",o);const l=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw function sV(t,e,n){const r=Object.assign(Object.assign({},qie()),{[e]:n});return new Br("auth","Firebase",r).create(e,{appName:t.name})}(t,l,c);An(t,l)}}catch(i){if(i instanceof Gn)throw i;An(t,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function yD(){return(yD=g(function*(t,e,n,r,i={}){const s=yield Xe(t,e,n,r,i);return"mfaPendingCredential"in s&&An(t,"multi-factor-auth-required",{_serverResponse:s}),s})).apply(this,arguments)}function cV(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?pD(t.config,i):`${t.config.apiScheme}://${i}`}class Jie{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Hr(this.auth,"network-request-failed")),Xie.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ll(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Hr(t,e,r);return i.customData._tokenResponse=n,i}function _D(){return(_D=g(function*(t,e){return Xe(t,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function wD(){return(wD=g(function*(t,e){return Xe(t,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function dl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function ID(){return(ID=g(function*(t,e=!1){const n=yr(t),r=yield n.getIdToken(e),i=Cp(r);M(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:dl(ED(i.auth_time)),issuedAtTime:dl(ED(i.iat)),expirationTime:dl(ED(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})).apply(this,arguments)}function ED(t){return 1e3*Number(t)}function Cp(t){const[e,n,r]=t.split(".");if(void 0===e||void 0===n||void 0===r)return Dp("JWT malformed, contained fewer than 3 sections"),null;try{const i=Qf(n);return i?JSON.parse(i):(Dp("Failed to decode base64 JWT payload"),null)}catch(i){return Dp("Caught error parsing JWT payload as JSON",i?.toString()),null}}function Ai(t,e){return DD.apply(this,arguments)}function DD(){return(DD=g(function*(t,e,n=!1){if(n)return e;try{return yield e}catch(r){throw r instanceof Gn&&function ise({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})).apply(this,arguments)}class sse{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var n=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(g(function*(){yield n.iteration()}),r)}iteration(){var e=this;return g(function*(){try{yield e.user.getIdToken(!0)}catch(n){return void("auth/network-request-failed"===n?.code&&e.schedule(!0))}e.schedule()})()}}class lV{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=dl(this.lastLoginAt),this.creationTime=dl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function hl(t){return CD.apply(this,arguments)}function CD(){return CD=g(function*(t){var e;const n=t.auth,r=yield t.getIdToken(),i=yield Ai(t,function tse(t,e){return wD.apply(this,arguments)}(n,{idToken:r}));M(i?.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=null!==(e=s.providerUserInfo)&&void 0!==e&&e.length?function use(t){return t.map(e=>{var{providerId:n}=e,r=km(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(s.providerUserInfo):[],a=function ase(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(t.providerData,o),l=!!t.isAnonymous&&!(t.email&&s.passwordHash||a?.length),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new lV(s.createdAt,s.lastLoginAt),isAnonymous:l};Object.assign(t,d)}),CD.apply(this,arguments)}function bD(){return(bD=g(function*(t){const e=yr(t);yield hl(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function TD(){return(TD=g(function*(t,e){const n=yield uV(t,{},g(function*(){const r=ep({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=cV(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",aV.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}class fl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){M(e.idToken,"internal-error"),M(typeof e.idToken<"u","internal-error"),M(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function rse(t){const e=Cp(t);return M(e,"internal-error"),M(typeof e.exp<"u","internal-error"),M(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){var r=this;return g(function*(){return M(!r.accessToken||r.refreshToken,e,"user-token-expired"),n||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,n){var r=this;return g(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function cse(t,e){return TD.apply(this,arguments)}(e,n);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new fl;return r&&(M("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(M("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(M("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new fl,this.toJSON())}_performRefresh(){return Gr("not implemented")}}function os(t,e){M("string"==typeof t||typeof t>"u","internal-error",{appName:e})}class ho{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=km(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new sse(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new lV(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var n=this;return g(function*(){const r=yield Ai(n,n.stsTokenManager.getToken(n.auth,e));return M(r,n.auth,"internal-error"),n.accessToken!==r&&(n.accessToken=r,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),r})()}getIdTokenResult(e){return function nse(t){return ID.apply(this,arguments)}(this,e)}reload(){return function ose(t){return bD.apply(this,arguments)}(this)}_assign(e){this!==e&&(M(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ho(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){M(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){var r=this;return g(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield hl(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return g(function*(){const n=yield e.getIdToken();return yield Ai(e,function Zie(t,e){return _D.apply(this,arguments)}(e.auth,{idToken:n})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,u,c,l;const d=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,f=null!==(s=n.phoneNumber)&&void 0!==s?s:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,m=null!==(a=n.tenantId)&&void 0!==a?a:void 0,y=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,v=null!==(c=n.createdAt)&&void 0!==c?c:void 0,_=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,{uid:E,emailVerified:A,isAnonymous:O,providerData:K,stsTokenManager:Ue}=n;M(E&&Ue,e,"internal-error");const mn=fl.fromJSON(this.name,Ue);M("string"==typeof E,e,"internal-error"),os(d,e.name),os(h,e.name),M("boolean"==typeof A,e,"internal-error"),M("boolean"==typeof O,e,"internal-error"),os(f,e.name),os(p,e.name),os(m,e.name),os(y,e.name),os(v,e.name),os(_,e.name);const ni=new ho({uid:E,auth:e,email:h,emailVerified:A,displayName:d,isAnonymous:O,photoURL:p,phoneNumber:f,tenantId:m,stsTokenManager:mn,createdAt:v,lastLoginAt:_});return K&&Array.isArray(K)&&(ni.providerData=K.map(Cge=>Object.assign({},Cge))),y&&(ni._redirectEventId=y),ni}static _fromIdTokenResponse(e,n,r=!1){return g(function*(){const i=new fl;i.updateFromServerResponse(n);const s=new ho({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield hl(s),s})()}}const dV=new Map;function Mi(t){ss(t instanceof Function,"Expected a class definition");let e=dV.get(t);return e?(ss(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,dV.set(t,e),e)}const hV=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return g(function*(){return!0})()}_set(n,r){var i=this;return g(function*(){i.storage[n]=r})()}_get(n){var r=this;return g(function*(){const i=r.storage[n];return void 0===i?null:i})()}_remove(n){var r=this;return g(function*(){delete r.storage[n]})()}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})();function bp(t,e,n){return`firebase:${t}:${e}:${n}`}class Ka{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=bp(this.userKey,i.apiKey,s),this.fullPersistenceKey=bp("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return g(function*(){const n=yield e.persistence._get(e.fullUserKey);return n?ho._fromJSON(e.auth,n):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var n=this;return g(function*(){if(n.persistence===e)return;const r=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=e,r?n.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return g(function*(){if(!n.length)return new Ka(Mi(hV),e,r);const i=(yield Promise.all(n.map(function(){var c=g(function*(l){if(yield l._isAvailable())return l});return function(l){return c.apply(this,arguments)}}()))).filter(c=>c);let s=i[0]||Mi(hV);const o=bp(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const l=yield c._get(o);if(l){const d=ho._fromJSON(e,l);c!==s&&(a=d),s=c;break}}catch{}const u=i.filter(c=>c._shouldAllowMigration);return s._shouldAllowMigration&&u.length?(s=u[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(function(){var c=g(function*(l){if(l!==s)try{yield l._remove(o)}catch{}});return function(l){return c.apply(this,arguments)}}())),new Ka(s,e,r)):new Ka(s,e,r)})()}}function fV(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(mV(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(pV(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(_V(e))return"Blackberry";if(vV(e))return"Webos";if(SD(e))return"Safari";if((e.includes("chrome/")||gV(e))&&!e.includes("edge/"))return"Chrome";if(yV(e))return"Android";{const r=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function pV(t=Ct()){return/firefox\//i.test(t)}function SD(t=Ct()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function gV(t=Ct()){return/crios\//i.test(t)}function mV(t=Ct()){return/iemobile/i.test(t)}function yV(t=Ct()){return/android/i.test(t)}function _V(t=Ct()){return/blackberry/i.test(t)}function vV(t=Ct()){return/webos/i.test(t)}function Tp(t=Ct()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function wV(t=Ct()){return Tp(t)||yV(t)||vV(t)||_V(t)||/windows phone/i.test(t)||mV(t)}function IV(t,e=[]){let n;switch(t){case"Browser":n=fV(Ct());break;case"Worker":n=`${fV(Ct())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ns}/${r}`}function EV(t,e){return MD.apply(this,arguments)}function MD(){return(MD=g(function*(t,e){return Xe(t,"GET","/v2/recaptchaConfig",Ge(t,e))})).apply(this,arguments)}function CV(t){return void 0!==t&&void 0!==t.enterprise}class bV{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>"EMAIL_PASSWORD_PROVIDER"===n.provider&&"OFF"!==n.enforcementState)}}function xD(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Hr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",function pse(){var t,e;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)})}function TV(t){return`__${t}${Math.floor(1e6*Math.random())}`}class SV{constructor(e){this.type="recaptcha-enterprise",this.auth=Tt(e)}verify(e="verify",n=!1){var r=this;return g(function*(){function s(){return s=g(function*(a){if(!n){if(null==a.tenantId&&null!=a._agentRecaptchaConfig)return a._agentRecaptchaConfig.siteKey;if(null!=a.tenantId&&void 0!==a._tenantRecaptchaConfigs[a.tenantId])return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(function(){var u=g(function*(c,l){EV(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(void 0!==d.recaptchaKey){const h=new bV(d);return null==a.tenantId?a._agentRecaptchaConfig=h:a._tenantRecaptchaConfigs[a.tenantId]=h,c(h.siteKey)}l(new Error("recaptcha Enterprise site key undefined"))}).catch(d=>{l(d)})});return function(c,l){return u.apply(this,arguments)}}())}),s.apply(this,arguments)}function o(a,u,c){const l=window.grecaptcha;CV(l)?l.enterprise.ready(()=>{l.enterprise.execute(a,{action:e}).then(d=>{u(d)}).catch(()=>{u("NO_RECAPTCHA")})}):c(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,u)=>{(function i(a){return s.apply(this,arguments)})(r.auth).then(c=>{if(!n&&CV(window.grecaptcha))o(c,a,u);else{if(typeof window>"u")return void u(new Error("RecaptchaVerifier is only supported in browser"));xD("https://www.google.com/recaptcha/enterprise.js?render="+c).then(()=>{o(c,a,u)}).catch(l=>{u(l)})}}).catch(c=>{u(c)})})})()}}class _se{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{o(e(s))}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var n=this;return g(function*(){if(n.auth.currentUser===e)return;const r=[];try{for(const i of n.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const s of r)try{s()}catch{}throw n.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}class vse{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new AV(this),this.idTokenSubscription=new AV(this),this.beforeStateQueue=new _se(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=iV,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){var r=this;return n&&(this._popupRedirectResolver=Mi(n)),this._initializationPromise=this.queue(g(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield Ka.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(n),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return g(function*(){if(e._deleted)return;const n=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||n){if(e.currentUser&&n&&e.currentUser.uid===n.uid)return e._currentUser._assign(n),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(n,!0)}})()}initializeCurrentUser(e){var n=this;return g(function*(){var r;const i=yield n.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const a=null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId,u=s?._redirectEventId,c=yield n.tryRedirectSignIn(e);(!a||a===u)&&c?.user&&(s=c.user,o=!0)}if(!s)return n.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{yield n.beforeStateQueue.runMiddleware(s)}catch(a){s=i,n._popupRedirectResolver._overrideRedirectResult(n,()=>Promise.reject(a))}return s?n.reloadAndSetCurrentUserOrClear(s):n.directlySetCurrentUser(null)}return M(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===s._redirectEventId?n.directlySetCurrentUser(s):n.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(e){var n=this;return g(function*(){let r=null;try{r=yield n._popupRedirectResolver._completeRedirectFn(n,e,!0)}catch{yield n._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var n=this;return g(function*(){try{yield hl(e)}catch(r){if("auth/network-request-failed"!==r?.code)return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function Qie(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var e=this;return g(function*(){e._deleted=!0})()}updateCurrentUser(e){var n=this;return g(function*(){const r=e?yr(e):null;return r&&M(r.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(r&&r._clone(n))})()}_updateCurrentUser(e,n=!1){var r=this;return g(function*(){if(!r._deleted)return e&&M(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),n||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(g(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return g(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var n=this;return this.queue(g(function*(){yield n.assertedPersistence.setPersistence(Mi(e))}))}initializeRecaptchaConfig(){var e=this;return g(function*(){const n=yield EV(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new bV(n);null==e.tenantId?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.emailPasswordEnabled&&new SV(e).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Br("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,n){var r=this;return g(function*(){const i=yield r.getOrInitRedirectPersistenceManager(n);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var n=this;return g(function*(){if(!n.redirectPersistenceManager){const r=e&&Mi(e)||n._popupRedirectResolver;M(r,n,"argument-error"),n.redirectPersistenceManager=yield Ka.create(n,[Mi(r._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(e){var n=this;return g(function*(){var r,i;return n._isInitialized&&(yield n.queue(g(function*(){}))),(null===(r=n._currentUser)||void 0===r?void 0:r._redirectEventId)===e?n._currentUser:(null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?n.redirectUser:null})()}_persistUserIfCurrent(e){var n=this;return g(function*(){if(e===n.currentUser)return n.queue(g(function*(){return n.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(n=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s="function"==typeof n?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return M(o,this,"internal-error"),o.then(()=>s(this.currentUser)),"function"==typeof n?e.addObserver(n,r,i):e.addObserver(n)}directlySetCurrentUser(e){var n=this;return g(function*(){n.currentUser&&n.currentUser!==e&&n._currentUser._stopProactiveRefresh(),e&&n.isProactiveRefreshEnabled&&e._startProactiveRefresh(),n.currentUser=e,e?yield n.assertedPersistence.setCurrentUser(e):yield n.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return M(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=IV(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return g(function*(){var n;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(n=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const s=yield e._getAppCheckToken();return s&&(r["X-Firebase-AppCheck"]=s),r})()}_getAppCheckToken(){var e=this;return g(function*(){var n;const r=yield null===(n=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getToken();return r?.error&&function Wie(t,...e){Ep.logLevel<=Y.WARN&&Ep.warn(`Auth (${ns}): ${t}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function Tt(t){return yr(t)}class AV{constructor(e){this.auth=e,this.observer=null,this.addObserver=function SZ(t,e){const n=new AZ(t,e);return n.subscribe.bind(n)}(n=>this.observer=n)}get next(){return M(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function MV(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function xV(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}class bse{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Gr("not implemented")}_getIdTokenResponse(e){return Gr("not implemented")}_linkToIdToken(e,n){return Gr("not implemented")}_getReauthenticationResolver(e){return Gr("not implemented")}}function xi(t,e){return WD.apply(this,arguments)}function WD(){return(WD=g(function*(t,e){return function Si(t,e,n,r){return yD.apply(this,arguments)}(t,"POST","/v1/accounts:signInWithIdp",Ge(t,e))})).apply(this,arguments)}class us{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Use extends us{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ir{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return g(function*(){const s=yield ho._fromIdTokenResponse(e,r,i),o=PV(r);return new ir({user:s,providerId:o,_tokenResponse:r,operationType:n})})()}static _forOperation(e,n,r){return g(function*(){yield e._updateTokensIfNecessary(r,!0);const i=PV(r);return new ir({user:e,providerId:i,_tokenResponse:r,operationType:n})})()}}function PV(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class Rp extends Gn{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Rp.prototype),this.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Rp(e,n,r,i)}}function OV(t,e,n,r){return("reauthenticate"===e?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw"auth/multi-factor-auth-required"===s.code?Rp._fromErrorAndOperation(t,s,e,r):s})}function rC(){return(rC=g(function*(t,e,n=!1){const r=yield Ai(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return ir._forOperation(t,"link",r)})).apply(this,arguments)}function sC(){return(sC=g(function*(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=yield Ai(t,OV(r,i,e,t),n);M(s.idToken,r,"internal-error");const o=Cp(s.idToken);M(o,r,"internal-error");const{sub:a}=o;return M(t.uid===a,r,"user-mismatch"),ir._forOperation(t,i,s)}catch(s){throw"auth/user-not-found"===s?.code&&An(r,"user-mismatch"),s}})).apply(this,arguments)}function oC(){return(oC=g(function*(t,e,n=!1){const r="signIn",i=yield OV(t,r,e),s=yield ir._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})).apply(this,arguments)}const kp="__sak";class BV{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(kp,"1"),this.storage.removeItem(kp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const uoe=(()=>{class t extends BV{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function soe(){const t=Ct();return SD(t)||Tp(t)}()&&function hse(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=wV(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key)return void this.forAllChangedKeys((a,u,c)=>{this.notifyListeners(a,c)});const i=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(i);if(n.newValue!==a)null!==n.newValue?this.storage.setItem(i,n.newValue):this.storage.removeItem(i);else if(this.localCache[i]===n.newValue&&!r)return}const s=()=>{const a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);!function dse(){return function EZ(){const t=Ct();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}()&&10===document.documentMode}()||o===n.newValue||n.newValue===n.oldValue?s():setTimeout(s,10)}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(n,r){var i=()=>super._set,s=this;return g(function*(){yield i().call(s,n,r),s.localCache[n]=JSON.stringify(r)})()}_get(n){var r=()=>super._get,i=this;return g(function*(){const s=yield r().call(i,n);return i.localCache[n]=JSON.stringify(s),s})()}_remove(n){var r=()=>super._remove,i=this;return g(function*(){yield r().call(i,n),delete i.localCache[n]})()}}return t.type="LOCAL",t})(),$V=(()=>{class t extends BV{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})();let loe=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){const r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;const i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){var r=this;return g(function*(){const i=n,{eventId:s,eventType:o,data:a}=i.data,u=r.handlersMap[o];if(!u?.size)return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const c=Array.from(u).map(function(){var d=g(function*(h){return h(i.origin,a)});return function(h){return d.apply(this,arguments)}}()),l=yield function coe(t){return Promise.all(t.map(function(){var e=g(function*(n){try{return{fulfilled:!0,value:yield n}}catch(r){return{fulfilled:!1,reason:r}}});return function(n){return e.apply(this,arguments)}}()))}(c);i.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:l})})()}_subscribe(n,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||0===this.handlersMap[n].size)&&delete this.handlersMap[n],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return t.receivers=[],t})();function FC(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(10*Math.random());return t+n}class doe{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){var i=this;return g(function*(){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,a;return new Promise((u,c)=>{const l=FC("",20);s.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(h){const f=h;if(f.data.eventId===l)switch(f.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(f.data.response);break;default:clearTimeout(d),clearTimeout(o),c(new Error("invalid_response"))}}},i.handlers.add(a),s.port1.addEventListener("message",a.onMessage),i.target.postMessage({eventType:e,eventId:l,data:n},[s.port2])}).finally(()=>{a&&i.removeMessageHandler(a)})})()}}function lt(){return window}function LC(){return typeof lt().WorkerGlobalScope<"u"&&"function"==typeof lt().importScripts}function VC(){return(VC=g(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const jV="firebaseLocalStorageDb",Pp="firebaseLocalStorage",HV="fbase_key";class yl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Op(t,e){return t.transaction([Pp],e?"readwrite":"readonly").objectStore(Pp)}function UC(){const t=indexedDB.open(jV,1);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Pp,{keyPath:HV})}catch(i){n(i)}}),t.addEventListener("success",g(function*(){const r=t.result;r.objectStoreNames.contains(Pp)?e(r):(r.close(),yield function yoe(){const t=indexedDB.deleteDatabase(jV);return new yl(t).toPromise()}(),e(yield UC()))}))})}function GV(t,e,n){return BC.apply(this,arguments)}function BC(){return(BC=g(function*(t,e,n){const r=Op(t,!0).put({[HV]:e,value:n});return new yl(r).toPromise()})).apply(this,arguments)}function $C(){return($C=g(function*(t,e){const n=Op(t,!1).get(e),r=yield new yl(n).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function zV(t,e){const n=Op(t,!0).delete(e);return new yl(n).toPromise()}const Ioe=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var n=this;return g(function*(){return n.db||(n.db=yield UC()),n.db})()}_withRetries(n){var r=this;return g(function*(){let i=0;for(;;)try{const s=yield r._openDb();return yield n(s)}catch(s){if(i++>3)throw s;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var n=this;return g(function*(){return LC()?n.initializeReceiver():n.initializeSender()})()}initializeReceiver(){var n=this;return g(function*(){n.receiver=loe._getInstance(function goe(){return LC()?self:null}()),n.receiver._subscribe("keyChanged",function(){var r=g(function*(i,s){return{keyProcessed:(yield n._poll()).includes(s.key)}});return function(i,s){return r.apply(this,arguments)}}()),n.receiver._subscribe("ping",function(){var r=g(function*(i,s){return["keyChanged"]});return function(i,s){return r.apply(this,arguments)}}())})()}initializeSender(){var n=this;return g(function*(){var r,i;if(n.activeServiceWorker=yield function foe(){return VC.apply(this,arguments)}(),!n.activeServiceWorker)return;n.sender=new doe(n.activeServiceWorker);const s=yield n.sender._send("ping",{},800);s&&null!==(r=s[0])&&void 0!==r&&r.fulfilled&&null!==(i=s[0])&&void 0!==i&&i.value.includes("keyChanged")&&(n.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(n){var r=this;return g(function*(){if(r.sender&&r.activeServiceWorker&&function poe(){var t;return(null===(t=navigator?.serviceWorker)||void 0===t?void 0:t.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:n},r.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return g(function*(){try{if(!indexedDB)return!1;const n=yield UC();return yield GV(n,kp,"1"),yield zV(n,kp),!0}catch{}return!1})()}_withPendingWrite(n){var r=this;return g(function*(){r.pendingWrites++;try{yield n()}finally{r.pendingWrites--}})()}_set(n,r){var i=this;return g(function*(){return i._withPendingWrite(g(function*(){return yield i._withRetries(s=>GV(s,n,r)),i.localCache[n]=r,i.notifyServiceWorker(n)}))})()}_get(n){var r=this;return g(function*(){const i=yield r._withRetries(s=>function _oe(t,e){return $C.apply(this,arguments)}(s,n));return r.localCache[n]=i,i})()}_remove(n){var r=this;return g(function*(){return r._withPendingWrite(g(function*(){return yield r._withRetries(i=>zV(i,n)),delete r.localCache[n],r.notifyServiceWorker(n)}))})()}_poll(){var n=this;return g(function*(){const r=yield n._withRetries(o=>{const a=Op(o,!1).getAll();return new yl(a).toPromise()});if(!r)return[];if(0!==n.pendingWrites)return[];const i=[],s=new Set;for(const{fbase_key:o,value:a}of r)s.add(o),JSON.stringify(n.localCache[o])!==JSON.stringify(a)&&(n.notifyListeners(o,a),i.push(o));for(const o of Object.keys(n.localCache))n.localCache[o]&&!s.has(o)&&(n.notifyListeners(o,null),i.push(o));return i})()}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const s of Array.from(i))s(r)}startPolling(){var n=this;this.stopPolling(),this.pollTimer=setInterval(g(function*(){return n._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return t.type="LOCAL",t})();TV("rcb"),new cl(3e4,6e4);class YC extends bse{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return xi(e,this._buildIdpRequest())}_linkToIdToken(e,n){return xi(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return xi(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Loe(t){return function VV(t,e){return oC.apply(this,arguments)}(t.auth,new YC(t),t.bypassAuthState)}function Voe(t){const{auth:e,user:n}=t;return M(n,e,"internal-error"),function LV(t,e){return sC.apply(this,arguments)}(n,new YC(t),t.bypassAuthState)}function Uoe(t){return XC.apply(this,arguments)}function XC(){return(XC=g(function*(t){const{auth:e,user:n}=t;return M(n,e,"internal-error"),function nC(t,e){return rC.apply(this,arguments)}(n,new YC(t),t.bypassAuthState)})).apply(this,arguments)}class Boe{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){var e=this;return new Promise(function(){var n=g(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(s){e.reject(s)}});return function(r,i){return n.apply(this,arguments)}}())}onAuthEvent(e){var n=this;return g(function*(){const{urlResponse:r,sessionId:i,postBody:s,tenantId:o,error:a,type:u}=e;if(a)return void n.reject(a);const c={auth:n.auth,requestUri:r,sessionId:i,tenantId:o||void 0,postBody:s||void 0,user:n.user,bypassAuthState:n.bypassAuthState};try{n.resolve(yield n.getIdpTask(u)(c))}catch(l){n.reject(l)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Loe;case"linkViaPopup":case"linkViaRedirect":return Uoe;case"reauthViaPopup":case"reauthViaRedirect":return Voe;default:An(this.auth,"internal-error")}}resolve(e){ss(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ss(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}new cl(2e3,1e4);const $oe="pendingRedirect",_l=new Map;class joe extends Boe{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,n=this;return g(function*(){let r=_l.get(n.auth._key());if(!r){try{const s=(yield function Hoe(t,e){return nb.apply(this,arguments)}(n.resolver,n.auth))?yield e().call(n):null;r=()=>Promise.resolve(s)}catch(i){r=()=>Promise.reject(i)}_l.set(n.auth._key(),r)}return n.bypassAuthState||_l.set(n.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var n=()=>super.onAuthEvent,r=this;return g(function*(){if("signInViaRedirect"===e.type)return n().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,n().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return g(function*(){})()}cleanUp(){}}function nb(){return(nb=g(function*(t,e){const n=function KV(t){return bp($oe,t.config.apiKey,t.name)}(e),r=function WV(t){return Mi(t._redirectPersistence)}(t);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(n));return yield r._remove(n),i})).apply(this,arguments)}function Goe(t,e){_l.set(t._key(),e)}function QV(t,e){return cb.apply(this,arguments)}function cb(){return(cb=g(function*(t,e,n=!1){const r=Tt(t),i=function po(t,e){return e?Mi(e):(M(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}(r,e),o=yield new joe(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})).apply(this,arguments)}class Qoe{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function Yoe(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return JV(t);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!JV(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";n.onError(Hr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=null===n.eventId||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(XV(e))}saveEventToCache(e){this.cachedEventUids.add(XV(e)),this.lastProcessedEventTime=Date.now()}}function XV(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function JV({type:t,error:e}){return"unknown"===t&&"auth/no-auth-event"===e?.code}function db(){return(db=g(function*(t,e={}){return Xe(t,"GET","/v1/projects",e)})).apply(this,arguments)}const Joe=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Zoe=/^https?/;function hb(){return hb=g(function*(t){if(t.config.emulator)return;const{authorizedDomains:e}=yield function Xoe(t){return db.apply(this,arguments)}(t);for(const n of e)try{if(tae(n))return}catch{}An(t,"unauthorized-domain")}),hb.apply(this,arguments)}function tae(t){const e=ul(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return""===o.hostname&&""===r?"chrome-extension:"===n&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===n&&o.hostname===r}if(!Zoe.test(n))return!1;if(Joe.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const nae=new cl(3e4,6e4);function ZV(){const t=lt().___jsl;if(t?.H)for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}let Lp=null;const sae=new cl(5e3,15e3),oae="__/auth/iframe",aae="emulator/auth/iframe",uae={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},cae=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function lae(t){const e=t.config;M(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?pD(e,aae):`https://${t.config.authDomain}/${oae}`,r={apiKey:e.apiKey,appName:t.name,v:ns},i=cae.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${ep(r).slice(1)}`}function fb(){return fb=g(function*(t){const e=yield function iae(t){return Lp=Lp||function rae(t){return new Promise((e,n)=>{var r,i,s;function o(){ZV(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{ZV(),n(Hr(t,"network-request-failed"))},timeout:nae.get()})}if(null!==(i=null===(r=lt().gapi)||void 0===r?void 0:r.iframes)&&void 0!==i&&i.Iframe)e(gapi.iframes.getContext());else{if(null===(s=lt().gapi)||void 0===s||!s.load){const a=TV("iframefcb");return lt()[a]=()=>{gapi.load?o():n(Hr(t,"network-request-failed"))},xD(`https://apis.google.com/js/api.js?onload=${a}`).catch(u=>n(u))}o()}}).catch(e=>{throw Lp=null,e})}(t),Lp}(t),n=lt().gapi;return M(n,t,"internal-error"),e.open({where:document.body,url:lae(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:uae,dontclear:!0},r=>new Promise(function(){var i=g(function*(s,o){yield r.restyle({setHideOnLeave:!1});const a=Hr(t,"network-request-failed"),u=lt().setTimeout(()=>{o(a)},sae.get());function c(){lt().clearTimeout(u),s(r)}r.ping(c).then(c,()=>{o(a)})});return function(s,o){return i.apply(this,arguments)}}()))}),fb.apply(this,arguments)}const hae={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class e2{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const vae="__/auth/handler",wae="emulator/auth/handler",Iae=encodeURIComponent("fac");function t2(t,e,n,r,i,s){return pb.apply(this,arguments)}function pb(){return(pb=g(function*(t,e,n,r,i,s){M(t.config.authDomain,t,"auth-domain-config-required"),M(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ns,eventId:i};if(e instanceof us){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",function TZ(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[l,d]of Object.entries(s||{}))o[l]=d}if(e instanceof Use){const l=e.getScopes().filter(d=>""!==d);l.length>0&&(o.scopes=l.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const l of Object.keys(a))void 0===a[l]&&delete a[l];const u=yield t._getAppCheckToken(),c=u?`#${Iae}=${encodeURIComponent(u)}`:"";return`${function Eae({config:t}){return t.emulator?pD(t,wae):`https://${t.authDomain}/${vae}`}(t)}?${ep(a).slice(1)}${c}`})).apply(this,arguments)}const gb="webStorageSupport",Cae=class Dae{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=$V,this._completeRedirectFn=QV,this._overrideRedirectResult=Goe}_openPopup(e,n,r,i){var s=this;return g(function*(){var o;ss(null===(o=s.eventManagers[e._key()])||void 0===o?void 0:o.manager,"_initialize() not called before _openPopup()");const a=yield t2(e,n,r,ul(),i);return function yae(t,e,n,r=500,i=600){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u=Object.assign(Object.assign({},hae),{width:r.toString(),height:i.toString(),top:s,left:o}),c=Ct().toLowerCase();n&&(a=gV(c)?"_blank":n),pV(c)&&(e=e||"http://localhost",u.scrollbars="yes");const l=Object.entries(u).reduce((h,[f,p])=>`${h}${f}=${p},`,"");if(function lse(t=Ct()){var e;return Tp(t)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(c)&&"_self"!==a)return function _ae(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(e||"",a),new e2(null);const d=window.open(e||"",a,l);M(d,t,"popup-blocked");try{d.focus()}catch{}return new e2(d)}(e,a,FC())})()}_openRedirect(e,n,r,i){var s=this;return g(function*(){return yield s._originValidation(e),function hoe(t){lt().location.href=t}(yield t2(e,n,r,ul(),i)),new Promise(()=>{})})()}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(ss(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){var n=this;return g(function*(){const r=yield function dae(t){return fb.apply(this,arguments)}(e),i=new Qoe(e);return r.register("authEvent",s=>(M(s?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),n.eventManagers[e._key()]={manager:i},n.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(gb,{type:gb},i=>{var s;const o=null===(s=i?.[0])||void 0===s?void 0:s[gb];void 0!==o&&n(!!o),An(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=function eae(t){return hb.apply(this,arguments)}(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return wV()||SD()||Tp()}};var i2="@firebase/auth";class bae{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var n=this;return g(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){M(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Mae=lF("authIdTokenMaxAge")||300;let o2=null;const xae=t=>function(){var e=g(function*(n){const r=n&&(yield n.getIdTokenResult()),i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3;if(i&&i>Mae)return;const s=r?.token;o2!==s&&(o2=s,yield fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))});return function(n){return e.apply(this,arguments)}}();function Rae(t=rp()){const e=ro(t,"auth");if(e.isInitialized())return e.getImmediate();const n=function wse(t,e){const n=ro(t,"auth");if(n.isInitialized()){const i=n.getImmediate();if(Zf(n.getOptions(),e??{}))return i;An(i,"already-initialized")}return n.initialize({options:e})}(t,{popupRedirectResolver:Cae,persistence:[Ioe,uoe,$V]}),r=lF("authTokenSyncURL");if(r){const s=xae(r);(function eoe(t,e,n){yr(t).beforeAuthStateChanged(e,n)})(n,s,()=>s(n.currentUser)),function Zse(t,e,n,r){yr(t).onIdTokenChanged(e,n,r)}(n,o=>s(o))}const i=aF("auth");return i&&function Ese(t,e,n){const r=Tt(t);M(r._canInitEmulator,r,"emulator-config-failed"),M(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!n?.disableWarnings,s=MV(e),{host:o,port:a}=function Dse(t){const e=MV(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:xV(r.substr(s.length+1))}}{const[s,o]=r.split(":");return{host:s,port:xV(o)}}}(e);r.config.emulator={url:`${s}//${o}${null===a?"":`:${a}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function Cse(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",t):t())}()}(n,`http://${i}`),n}!function Sae(t){Xt(new Lt("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;M(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:IV(t)},c=new vse(r,i,s,u);return function Ise(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Mi);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Xt(new Lt("auth-internal",e=>{const n=Tt(e.getProvider("auth").getImmediate());return new bae(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ne(i2,"0.23.2",function Tae(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(t)),Ne(i2,"0.23.2","esm2017")}("Browser");class yb{constructor(e){return e}}class _b{constructor(){return dp("auth")}}const vb=new L("angularfire2.auth-instances");function kae(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new yb(r)}}const Pae={provide:_b,deps:[[new mt,vb]]},Oae={provide:yb,useFactory:function Nae(t,e){const n=lp("auth",t,e);return n&&new yb(n)},deps:[[new mt,vb],lo]};let Fae=(()=>{class t{constructor(){Ne("angularfire",sl.full,"auth")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=sn({type:t}),t.\u0275inj=zt({providers:[Oae,Pae]}),t})();function Lae(t,...e){return{ngModule:Fae,providers:[{provide:vb,useFactory:kae(t),multi:!0,deps:[Ee,bn,hp,fp,[new mt,Ip],...e]}]}}const Vae=za(Rae,!0),u2="firebasestorage.googleapis.com";class ze extends Gn{constructor(e,n,r=0){super(wb(e),`Firebase Storage: ${n} (${wb(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ze.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return wb(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var z=(()=>((z=z||{}).UNKNOWN="unknown",z.OBJECT_NOT_FOUND="object-not-found",z.BUCKET_NOT_FOUND="bucket-not-found",z.PROJECT_NOT_FOUND="project-not-found",z.QUOTA_EXCEEDED="quota-exceeded",z.UNAUTHENTICATED="unauthenticated",z.UNAUTHORIZED="unauthorized",z.UNAUTHORIZED_APP="unauthorized-app",z.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",z.INVALID_CHECKSUM="invalid-checksum",z.CANCELED="canceled",z.INVALID_EVENT_NAME="invalid-event-name",z.INVALID_URL="invalid-url",z.INVALID_DEFAULT_BUCKET="invalid-default-bucket",z.NO_DEFAULT_BUCKET="no-default-bucket",z.CANNOT_SLICE_BLOB="cannot-slice-blob",z.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",z.NO_DOWNLOAD_URL="no-download-url",z.INVALID_ARGUMENT="invalid-argument",z.INVALID_ARGUMENT_COUNT="invalid-argument-count",z.APP_DELETED="app-deleted",z.INVALID_ROOT_OPERATION="invalid-root-operation",z.INVALID_FORMAT="invalid-format",z.INTERNAL_ERROR="internal-error",z.UNSUPPORTED_ENVIRONMENT="unsupported-environment",z))();function wb(t){return"storage/"+t}function Eb(t){return new ze(z.INVALID_ARGUMENT,t)}function f2(){return new ze(z.APP_DELETED,"The Firebase app was deleted.")}class dn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=dn.makeFromUrl(e,n)}catch{return new dn(e,"")}if(""===r.path)return r;throw function Kae(t){return new ze(z.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)",a=new RegExp("^gs://"+i+"(/(.*))?$","i");function c(A){A.path_=decodeURIComponent(A.path)}const d=n.replace(/[.]/g,"\\."),E=[{regex:a,indices:{bucket:1,path:3},postModify:function s(A){"/"===A.path.charAt(A.path.length-1)&&(A.path_=A.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${d}/v[A-Za-z0-9_]+/b/${i}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:c},{regex:new RegExp(`^https?://${n===u2?"(?:storage.googleapis.com|storage.cloud.google.com)":n}/${i}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:c}];for(let A=0;A<E.length;A++){const O=E[A],K=O.regex.exec(e);if(K){let mn=K[O.indices.path];mn||(mn=""),r=new dn(K[O.indices.bucket],mn),O.postModify(r);break}}if(null==r)throw function Wae(t){return new ze(z.INVALID_URL,"Invalid URL '"+t+"'.")}(e);return r}}class eue{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function Cb(t,e,n,r){if(r<e)throw Eb(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Eb(`Invalid value for '${t}'. Expected ${n} or less.`)}var Mn=(()=>((Mn=Mn||{})[Mn.NO_ERROR=0]="NO_ERROR",Mn[Mn.NETWORK_ERROR=1]="NETWORK_ERROR",Mn[Mn.ABORT=2]="ABORT",Mn))();class oue{constructor(e,n,r,i,s,o,a,u,c,l,d,h=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=u,this.timeout_=c,this.progressCallback_=l,this.connectionFactory_=d,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((f,p)=>{this.resolve_=f,this.reject_=p,this.start_()})}start_(){const n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const u=this.callback_(a,a.getResponse());!function rue(t){return void 0!==t}(u)?s():s(u)}catch(u){o(u)}else if(null!==a){const u=function Ib(){return new ze(z.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}();u.serverResponse=a.getErrorText(),o(this.errorCallback_?this.errorCallback_(a,u):u)}else o(i.canceled?this.appDelete_?f2():function d2(){return new ze(z.CANCELED,"User canceled the upload/download.")}():function l2(){return new ze(z.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}())};this.canceled_?n(0,new Bp(!1,null,!0)):this.backoffId_=function tue(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function u(){return 2===a}let c=!1;function l(...y){c||(c=!0,e.apply(null,y))}function d(y){i=setTimeout(()=>{i=null,t(f,u())},y)}function h(){s&&clearTimeout(s)}function f(y,...v){if(c)return void h();if(y)return h(),void l.call(null,y,...v);if(u()||o)return h(),void l.call(null,y,...v);let E;r<64&&(r*=2),1===a?(a=2,E=0):E=1e3*(r+Math.random()),d(E)}let p=!1;function m(y){p||(p=!0,h(),!c&&(null!==i?(y||(a=2),clearTimeout(i),d(0)):y||(a=1)))}return d(0),s=setTimeout(()=>{o=!0,m(!0)},n),m}((r,i)=>{if(i)return void r(!1,new Bp(!1,null,!0));const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{null!==this.progressCallback_&&this.progressCallback_(a.loaded,a.lengthComputable?a.total:-1)};null!==this.progressCallback_&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===Mn.NO_ERROR,u=s.getStatus();if(!a||function m2(t,e){const n=t>=500&&t<600,i=-1!==[408,429].indexOf(t),s=-1!==e.indexOf(t);return n||i||s}(u,this.additionalRetryCodes_)&&this.retry){const l=s.getErrorCode()===Mn.ABORT;return void r(!1,new Bp(!1,null,l))}const c=-1!==this.successCodes_.indexOf(u);r(!0,new Bp(c,s))})},n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function nue(t){t(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class Bp{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}class go{constructor(e,n){this._service=e,this._location=n instanceof dn?n:dn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new go(e,n)}get root(){const e=new dn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return function I2(t){const e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}(this._location.path)}get storage(){return this._service}get parent(){const e=function wue(t){if(0===t.length)return null;const e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this._location.path);if(null===e)return null;const n=new dn(this._location.bucket,e);return new go(this._service,n)}_throwIfRoot(e){if(""===this._location.path)throw function Zae(t){return new ze(z.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function F2(t,e){const n=e?.storageBucket;return null==n?null:dn.makeFromBucketSpec(n,t)}class Rb{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=u2,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?dn.makeFromBucketSpec(i,this._host):F2(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?dn.makeFromBucketSpec(this._url,e):F2(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Cb("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Cb("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return g(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const n=e._authProvider.getImmediate({optional:!0});if(n){const r=yield n.getToken();if(null!==r)return r.accessToken}return null})()}_getAppCheckToken(){var e=this;return g(function*(){const n=e._appCheckProvider.getImmediate({optional:!0});return n?(yield n.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new go(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new eue(f2());{const o=function due(t,e,n,r,i,s,o=!0){const a=function g2(t){const e=encodeURIComponent;let n="?";for(const r in t)t.hasOwnProperty(r)&&(n=n+(e(r)+"=")+e(t[r])+"&");return n=n.slice(0,-1),n}(t.urlParams),u=t.url+a,c=Object.assign({},t.headers);return function cue(t,e){e&&(t["X-Firebase-GMPID"]=e)}(c,e),function aue(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(c,n),function uue(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}(c,s),function lue(t,e){null!==e&&(t["X-Firebase-AppCheck"]=e)}(c,r),new oue(u,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}makeRequestWithTokens(e,n){var r=this;return g(function*(){const[i,s]=yield Promise.all([r._getAuthToken(),r._getAppCheckToken()]);return r._makeRequest(e,n,i,s).getPromise()})()}}const L2="@firebase/storage",U2="storage";function sce(t=rp(),e){const r=ro(t=yr(t),U2).getImmediate({identifier:e}),i=uF("storage");return i&&function oce(t,e,n,r={}){!function ice(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken="string"==typeof i?i:dF(i,t.app.options.projectId))}(t,e,n,r)}(r,...i),r}function ace(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new Rb(n,r,i,e,ns)}!function uce(){Xt(new Lt(U2,ace,"PUBLIC").setMultipleInstances(!0)),Ne(L2,"0.11.2",""),Ne(L2,"0.11.2","esm2017")}();class Nb{constructor(e){return e}}const B2="storage",kb=new L("angularfire2.storage-instances");function dce(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new Nb(r)}}const hce={provide:class cce{constructor(){return dp(B2)}},deps:[[new mt,kb]]},fce={provide:Nb,useFactory:function lce(t,e){const n=lp(B2,t,e);return n&&new Nb(n)},deps:[[new mt,kb],lo]};let pce=(()=>{class t{constructor(){Ne("angularfire",sl.full,"gcs")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=sn({type:t}),t.\u0275inj=zt({providers:[fce,hce]}),t})();function gce(t,...e){return{ngModule:pce,providers:[{provide:kb,useFactory:dce(t),multi:!0,deps:[Ee,bn,hp,fp,[new mt,_b],[new mt,Ip],...e]}]}}const mce=za(sce,!0);var N,yce=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},wr={},Pb=Pb||{},te=yce||self;function Gp(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Dl(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var Ob="closure_uid_"+(1e9*Math.random()>>>0),vce=0;function wce(t,e,n){return t.call.apply(t.bind,arguments)}function Ice(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Jt(t,e,n){return(Jt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?wce:Ice).apply(null,arguments)}function zp(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function St(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function cs(){this.s=this.s,this.o=this.o}cs.prototype.s=!1,cs.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function _ce(t){Object.prototype.hasOwnProperty.call(t,Ob)&&t[Ob]||(t[Ob]=++vce)}(this)},cs.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const $2=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Fb(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function j2(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Gp(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function Zt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Zt.prototype.h=function(){this.defaultPrevented=!0};var Dce=function(){if(!te.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{te.addEventListener("test",()=>{},e),te.removeEventListener("test",()=>{},e)}catch{}return t}();function Cl(t){return/^[\s\xa0]*$/.test(t)}function qp(){var t=te.navigator;return t&&(t=t.userAgent)?t:""}function Wr(t){return-1!=qp().indexOf(t)}function Lb(t){return Lb[" "](t),t}Lb[" "]=function(){};var Ub,t,bce=Wr("Opera"),Ja=Wr("Trident")||Wr("MSIE"),H2=Wr("Edge"),Vb=H2||Ja,G2=Wr("Gecko")&&!(-1!=qp().toLowerCase().indexOf("webkit")&&!Wr("Edge"))&&!(Wr("Trident")||Wr("MSIE"))&&!Wr("Edge"),Tce=-1!=qp().toLowerCase().indexOf("webkit")&&!Wr("Edge");function z2(){var t=te.document;return t?t.documentMode:void 0}e:{var Bb="",$b=(t=qp(),G2?/rv:([^\);]+)(\)|;)/.exec(t):H2?/Edge\/([\d\.]+)/.exec(t):Ja?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):Tce?/WebKit\/(\S+)/.exec(t):bce?/(?:Version)[ \/]?(\S+)/.exec(t):void 0);if($b&&(Bb=$b?$b[1]:""),Ja){var jb=z2();if(null!=jb&&jb>parseFloat(Bb)){Ub=String(jb);break e}}Ub=Bb}var Sce=te.document&&Ja&&(z2()||parseInt(Ub,10))||void 0;function bl(t,e){if(Zt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(G2){e:{try{Lb(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Ace[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&bl.$.h.call(this)}}St(bl,Zt);var Ace={2:"touch",3:"pen",4:"mouse"};bl.prototype.h=function(){bl.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Tl="closure_listenable_"+(1e6*Math.random()|0),Mce=0;function xce(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++Mce,this.fa=this.ia=!1}function Wp(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function Gb(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function W2(t){const e={};for(const n in t)e[n]=t[n];return e}const K2="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Q2(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let s=0;s<K2.length;s++)n=K2[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Kp(t){this.src=t,this.g={},this.h=0}function zb(t,e){var n=e.type;if(n in t.g){var s,r=t.g[n],i=$2(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Wp(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function qb(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}Kp.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.g[s])||(t=this.g[s]=[],this.h++);var o=qb(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):((e=new xce(e,this.src,s,!!r,i)).ia=n,t.push(e)),e};var Wb="closure_lm_"+(1e6*Math.random()|0),Kb={};function Y2(t,e,n,r,i){if(r&&r.once)return J2(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)Y2(t,e[s],n,r,i);return null}return n=Jb(n),t&&t[Tl]?t.O(e,n,Dl(r)?!!r.capture:!!r,i):X2(t,e,n,!1,r,i)}function X2(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Dl(i)?!!i.capture:!!i,a=Yb(t);if(a||(t[Wb]=a=new Kp(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function Nce(){const e=kce;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Dce||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(eU(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function J2(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)J2(t,e[s],n,r,i);return null}return n=Jb(n),t&&t[Tl]?t.P(e,n,Dl(r)?!!r.capture:!!r,i):X2(t,e,n,!0,r,i)}function Z2(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)Z2(t,e[s],n,r,i);else r=Dl(r)?!!r.capture:!!r,n=Jb(n),t&&t[Tl]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=qb(s=t.g[e],n,r,i))&&(Wp(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.g[e],t.h--))):t&&(t=Yb(t))&&(e=t.g[e.toString()],t=-1,e&&(t=qb(e,n,r,i)),(n=-1<t?e[t]:null)&&Qb(n))}function Qb(t){if("number"!=typeof t&&t&&!t.fa){var e=t.src;if(e&&e[Tl])zb(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(eU(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Yb(e))?(zb(n,t),0==n.h&&(n.src=null,e[Wb]=null)):Wp(t)}}}function eU(t){return t in Kb?Kb[t]:Kb[t]="on"+t}function kce(t,e){if(t.fa)t=!0;else{e=new bl(e,this);var n=t.listener,r=t.la||t.src;t.ia&&Qb(t),t=n.call(r,e)}return t}function Yb(t){return(t=t[Wb])instanceof Kp?t:null}var Xb="__closure_events_fn_"+(1e9*Math.random()>>>0);function Jb(t){return"function"==typeof t?t:(t[Xb]||(t[Xb]=function(e){return t.handleEvent(e)}),t[Xb])}function At(){cs.call(this),this.i=new Kp(this),this.S=this,this.J=null}function Bt(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,"string"==typeof e)e=new Zt(e,t);else if(e instanceof Zt)e.target=e.target||t;else{var i=e;Q2(e=new Zt(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=Qp(o,r,!0,e)&&i}if(i=Qp(o=e.g=t,r,!0,e)&&i,i=Qp(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=Qp(o=e.g=n[s],r,!1,e)&&i}function Qp(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,u=o.la||o.src;o.ia&&zb(t.i,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}St(At,cs),At.prototype[Tl]=!0,At.prototype.removeEventListener=function(t,e,n,r){Z2(this,t,e,n,r)},At.prototype.N=function(){if(At.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Wp(n[r]);delete t.g[e],t.h--}}this.J=null},At.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},At.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var Zb=te.JSON.stringify;function Oce(){var t=eT;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var tU=new class Pce{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new Lce,t=>t.reset());class Lce{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function Vce(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function Uce(t){te.setTimeout(()=>{throw t},0)}let Sl,Al=!1,eT=new class Fce{constructor(){this.h=this.g=null}add(e,n){const r=tU.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},nU=()=>{const t=te.Promise.resolve(void 0);Sl=()=>{t.then(Bce)}};var Bce=()=>{for(var t;t=Oce();){try{t.h.call(t.g)}catch(n){Uce(n)}var e=tU;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Al=!1};function Yp(t,e){At.call(this),this.h=t||1,this.g=e||te,this.j=Jt(this.qb,this),this.l=Date.now()}function tT(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}function nT(t,e,n){if("function"==typeof t)n&&(t=Jt(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Jt(t.handleEvent,t)}return 2147483647<Number(e)?-1:te.setTimeout(t,e||0)}function rU(t){t.g=nT(()=>{t.g=null,t.i&&(t.i=!1,rU(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}St(Yp,At),(N=Yp.prototype).ga=!1,N.T=null,N.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Bt(this,"tick"),this.ga&&(tT(this),this.start()))}},N.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},N.N=function(){Yp.$.N.call(this),tT(this),delete this.g};class $ce extends cs{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:rU(this)}N(){super.N(),this.g&&(te.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ml(t){cs.call(this),this.h=t,this.g={}}St(Ml,cs);var iU=[];function sU(t,e,n,r){Array.isArray(n)||(n&&(iU[0]=n.toString()),n=iU);for(var i=0;i<n.length;i++){var s=Y2(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function oU(t){Gb(t.g,function(e,n){this.g.hasOwnProperty(n)&&Qb(e)},t),t.g={}}function Xp(){this.g=!0}function Za(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function zce(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return Zb(n)}catch{return e}}(t,n)+(r?" "+r:"")})}Ml.prototype.N=function(){Ml.$.N.call(this),oU(this)},Ml.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Xp.prototype.Ea=function(){this.g=!1},Xp.prototype.info=function(){};var mo={},aU=null;function Jp(){return aU=aU||new At}function uU(t){Zt.call(this,mo.Ta,t)}function xl(t){const e=Jp();Bt(e,new uU(e))}function cU(t,e){Zt.call(this,mo.STAT_EVENT,t),this.stat=e}function fn(t){const e=Jp();Bt(e,new cU(e,t))}function lU(t,e){Zt.call(this,mo.Ua,t),this.size=e}function Rl(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return te.setTimeout(function(){t()},e)}mo.Ta="serverreachability",St(uU,Zt),mo.STAT_EVENT="statevent",St(cU,Zt),mo.Ua="timingevent",St(lU,Zt);var Zp={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},dU={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function rT(){}function fU(){}rT.prototype.h=null;var oT,Nl={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function iT(){Zt.call(this,"d")}function sT(){Zt.call(this,"c")}function eg(){}function kl(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Ml(this),this.P=qce,this.V=new Yp(t=Vb?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new pU}function pU(){this.i=null,this.g="",this.h=!1}St(iT,Zt),St(sT,Zt),St(eg,rT),eg.prototype.g=function(){return new XMLHttpRequest},eg.prototype.i=function(){return{}},oT=new eg;var qce=45e3,aT={},tg={};function uT(t,e,n){t.L=1,t.v=sg(ki(e)),t.s=n,t.S=!0,gU(t,null)}function gU(t,e){t.G=Date.now(),Pl(t),t.A=ki(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),bU(n.i,"t",r),t.C=0,n=t.l.J,t.h=new pU,t.g=QU(t.l,n?e:null,!t.s),0<t.O&&(t.M=new $ce(Jt(t.Pa,t,t.g),t.O)),sU(t.U,t.g,"readystatechange",t.nb),e=t.I?W2(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),xl(),function jce(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var d=l.split("_");o=2<=d.length&&"type"==d[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o})}(t.j,t.u,t.A,t.m,t.W,t.s)}function mU(t){return!!t.g&&"GET"==t.u&&2!=t.L&&t.l.Ha}function yU(t,e,n){let i,r=!0;for(;!t.J&&t.C<n.length;){if(i=Wce(t,n),i==tg){4==e&&(t.o=4,fn(14),r=!1),Za(t.j,t.m,null,"[Incomplete Response]");break}if(i==aT){t.o=4,fn(15),Za(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}Za(t.j,t.m,i,null),cT(t,i)}mU(t)&&i!=tg&&i!=aT&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,fn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,(e=t.l).g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),mT(e),e.M=!0,fn(11))):(Za(t.j,t.m,n,"[Invalid Chunked Response]"),yo(t),Ol(t))}function Wce(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?tg:(n=Number(e.substring(n,r)),isNaN(n)?aT:(r+=1)+n>e.length?tg:(e=e.slice(r,r+n),t.C=r+n,e))}function Pl(t){t.Y=Date.now()+t.P,_U(t,t.P)}function _U(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=Rl(Jt(t.lb,t),e)}function ng(t){t.B&&(te.clearTimeout(t.B),t.B=null)}function Ol(t){0==t.l.H||t.J||zU(t.l,t)}function yo(t){ng(t);var e=t.M;e&&"function"==typeof e.sa&&e.sa(),t.M=null,tT(t.V),oU(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function cT(t,e){try{var n=t.l;if(0!=n.H&&(n.g==t||lT(n.i,t)))if(!t.K&&lT(n.i,t)&&3==n.H){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<t.G))break e;dg(n),cg(n)}gT(n),fn(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=Rl(Jt(n.ib,n),6e3));if(1>=AU(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else vo(n,11)}else if((t.K||n.g==t)&&dg(n),!Cl(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(n.V=c[0],c=c[1],2==n.H)if("c"==c[0]){n.K=c[1],n.pa=c[2];const l=c[3];null!=l&&(n.ra=l,n.l.info("VER="+n.ra));const d=c[4];null!=d&&(n.Ga=d,n.l.info("SVER="+n.Ga));const h=c[5];null!=h&&"number"==typeof h&&0<h&&(n.L=r=1.5*h,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;s.g||-1==p.indexOf("spdy")&&-1==p.indexOf("quic")&&-1==p.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(dT(s,s.h),s.h=null))}if(r.F){const m=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;m&&(r.Da=m,ke(r.I,r.F,m))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms"));var o=t;if((r=n).wa=KU(r,r.J?r.pa:null,r.Y),o.K){MU(r.i,o);var a=o,u=r.L;u&&a.setTimeout(u),a.B&&(ng(a),Pl(a)),r.g=o}else HU(r);0<n.j.length&&lg(n)}else"stop"!=c[0]&&"close"!=c[0]||vo(n,7);else 3==n.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?vo(n,7):pT(n):"noop"!=c[0]&&n.h&&n.h.Aa(c),n.A=0)}xl()}catch{}}function vU(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Gp(t)||"string"==typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function Qce(t){if(t.ta&&"function"==typeof t.ta)return t.ta();if(!t.Z||"function"!=typeof t.Z){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Gp(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}(t),r=function Kce(t){if(t.Z&&"function"==typeof t.Z)return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if("string"==typeof t)return t.split("");if(Gp(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}(N=kl.prototype).setTimeout=function(t){this.P=t},N.nb=function(t){t=t.target;const e=this.M;e&&3==Kr(t)?e.l():this.Pa(t)},N.Pa=function(t){try{if(t==this.g)e:{const l=Kr(this.g);var e=this.g.Ia();if(this.g.da(),!(3>l)&&(3!=l||Vb||this.g&&(this.h.h||this.g.ja()||LU(this.g)))){this.J||4!=l||7==e||xl(),ng(this);var n=this.g.da();this.ca=n;t:if(mU(this)){var r=LU(this.g);t="";var i=r.length,s=4==Kr(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){yo(this),Ol(this);var o="";break t}this.h.i=new te.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=200==n,function Hce(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.W,l,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Cl(a)){var c=a;break t}}c=null}if(!(n=c)){this.i=!1,this.o=3,fn(12),yo(this),Ol(this);break e}Za(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,cT(this,n)}this.S?(yU(this,l,o),Vb&&this.i&&3==l&&(sU(this.U,this.V,"tick",this.mb),this.V.start())):(Za(this.j,this.m,o,null),cT(this,o)),4==l&&yo(this),this.i&&!this.J&&(4==l?zU(this.l,this):(this.i=!1,Pl(this)))}else(function fle(t){const e={};t=(t.g&&2<=Kr(t)&&t.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<t.length;r++){if(Cl(t[r]))continue;var n=Vce(t[r]);const i=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}!function Rce(t,e){for(const n in t)e.call(void 0,t[n],n,t)}(e,function(r){return r.join(", ")})})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.o=3,fn(12)):(this.o=0,fn(13)),yo(this),Ol(this)}}}catch{}},N.mb=function(){if(this.g){var t=Kr(this.g),e=this.g.ja();this.C<e.length&&(ng(this),yU(this,t,e),this.i&&4!=t&&Pl(this))}},N.cancel=function(){this.J=!0,yo(this)},N.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(function Gce(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(xl(),fn(17)),yo(this),this.o=2,Ol(this)):_U(this,this.Y-t)};var wU=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function _o(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof _o){this.h=t.h,rg(this,t.j),this.s=t.s,this.g=t.g,ig(this,t.m),this.l=t.l;var e=t.i,n=new Vl;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),IU(this,n),this.o=t.o}else t&&(e=String(t).match(wU))?(this.h=!1,rg(this,e[1]||"",!0),this.s=Fl(e[2]||""),this.g=Fl(e[3]||"",!0),ig(this,e[4]),this.l=Fl(e[5]||"",!0),IU(this,e[6]||"",!0),this.o=Fl(e[7]||"")):(this.h=!1,this.i=new Vl(null,this.h))}function ki(t){return new _o(t)}function rg(t,e,n){t.j=n?Fl(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function ig(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function IU(t,e,n){e instanceof Vl?(t.i=e,function nle(t,e){e&&!t.j&&(ls(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(DU(this,r),bU(this,i,n))},t)),t.j=e}(t.i,t.h)):(n||(e=Ll(e,ele)),t.i=new Vl(e,t.h))}function ke(t,e,n){t.i.set(e,n)}function sg(t){return ke(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Fl(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Ll(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Xce),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Xce(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}_o.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Ll(e,EU,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(Ll(e,EU,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(Ll(n,"/"==n.charAt(0)?Zce:Jce,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Ll(n,tle)),t.join("")};var EU=/[#\/\?@]/g,Jce=/[#\?:]/g,Zce=/[#\?]/g,ele=/[#\?@]/g,tle=/#/g;function Vl(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function ls(t){t.g||(t.g=new Map,t.h=0,t.i&&function Yce(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function DU(t,e){ls(t),e=eu(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function CU(t,e){return ls(t),e=eu(t,e),t.g.has(e)}function bU(t,e,n){DU(t,e),0<n.length&&(t.i=null,t.g.set(eu(t,e),Fb(n)),t.h+=n.length)}function eu(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function TU(t){this.l=t||ile,t=te.PerformanceNavigationTiming?0<(t=te.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(te.g&&te.g.Ka&&te.g.Ka()&&te.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(N=Vl.prototype).add=function(t,e){ls(this),this.i=null,t=eu(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},N.forEach=function(t,e){ls(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)},N.ta=function(){ls(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n},N.Z=function(t){ls(this);let e=[];if("string"==typeof t)CU(this,t)&&(e=e.concat(this.g.get(eu(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},N.set=function(t,e){return ls(this),this.i=null,CU(this,t=eu(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},N.get=function(t,e){return t&&0<(t=this.Z(t)).length?String(t[0]):e},N.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};var ile=10;function SU(t){return!!t.h||!!t.g&&t.g.size>=t.j}function AU(t){return t.h?1:t.g?t.g.size:0}function lT(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function dT(t,e){t.g?t.g.add(e):t.h=e}function MU(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function xU(t){if(null!=t.h)return t.i.concat(t.h.F);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return Fb(t.i)}TU.prototype.cancel=function(){if(this.i=xU(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}};var sle=class{stringify(t){return te.JSON.stringify(t,void 0)}parse(t){return te.JSON.parse(t,void 0)}};function ole(){this.g=new sle}function ale(t,e,n){const r=n||"";try{vU(t,function(i,s){let o=i;Dl(i)&&(o=Zb(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function og(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Ul(t){this.l=t.fc||null,this.j=t.ob||!1}function ag(t,e){At.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=hT,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}St(Ul,rT),Ul.prototype.g=function(){return new ag(this.l,this.j)},Ul.prototype.i=function(t){return function(){return t}}({}),St(ag,At);var hT=0;function RU(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}function Bl(t){t.readyState=4,t.l=null,t.j=null,t.A=null,$l(t)}function $l(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(N=ag.prototype).open=function(t,e){if(this.readyState!=hT)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,$l(this)},N.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||te).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},N.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Bl(this)),this.readyState=hT},N.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,$l(this)),this.g&&(this.readyState=3,$l(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof te.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;RU(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))},N.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Bl(this):$l(this),3==this.readyState&&RU(this)}},N.Za=function(t){this.g&&(this.response=this.responseText=t,Bl(this))},N.Ya=function(t){this.g&&(this.response=t,Bl(this))},N.ka=function(){this.g&&Bl(this)},N.setRequestHeader=function(t,e){this.v.append(t,e)},N.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},N.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(ag.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var cle=te.JSON.parse;function Je(t){At.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=NU,this.L=this.M=!1}St(Je,At);var NU="",lle=/^https?$/i,dle=["POST","PUT"];function kU(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,PU(t),ug(t)}function PU(t){t.F||(t.F=!0,Bt(t,"complete"),Bt(t,"error"))}function OU(t){if(t.h&&typeof Pb<"u"&&(!t.C[1]||4!=Kr(t)||2!=t.da()))if(t.v&&4==Kr(t))nT(t.La,0,t);else if(Bt(t,"readystatechange"),4==Kr(t)){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=0===o){var i=String(t.I).match(wU)[1]||null;!i&&te.self&&te.self.location&&(i=te.self.location.protocol.slice(0,-1)),r=!lle.test(i?i.toLowerCase():"")}n=r}if(n)Bt(t,"complete"),Bt(t,"success");else{t.m=6;try{var s=2<Kr(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",PU(t)}}finally{ug(t)}}}function ug(t,e){if(t.g){FU(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Bt(t,"ready");try{n.onreadystatechange=r}catch{}}}function FU(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(te.clearTimeout(t.A),t.A=null)}function Kr(t){return t.g?t.g.readyState:0}function LU(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case NU:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function VU(t){let e="";return Gb(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}function fT(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=VU(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):ke(t,e,n))}function jl(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function UU(t){this.Ga=0,this.j=[],this.l=new Xp,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=jl("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=jl("baseRetryDelayMs",5e3,t),this.hb=jl("retryDelaySeedMs",1e4,t),this.eb=jl("forwardChannelMaxRetries",2,t),this.xa=jl("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new TU(t&&t.concurrentRequestLimit),this.Ja=new ole,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function pT(t){if(BU(t),3==t.H){var e=t.W++,n=ki(t.I);if(ke(n,"SID",t.K),ke(n,"RID",e),ke(n,"TYPE","terminate"),Hl(t,n),(e=new kl(t,t.l,e)).L=2,e.v=sg(ki(n)),n=!1,te.navigator&&te.navigator.sendBeacon)try{n=te.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&te.Image&&((new Image).src=e.v,n=!0),n||(e.g=QU(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Pl(e)}WU(t)}function cg(t){t.g&&(mT(t),t.g.cancel(),t.g=null)}function BU(t){cg(t),t.u&&(te.clearTimeout(t.u),t.u=null),dg(t),t.i.cancel(),t.m&&("number"==typeof t.m&&te.clearTimeout(t.m),t.m=null)}function lg(t){if(!SU(t.i)&&!t.m){t.m=!0;var e=t.Na;Sl||nU(),Al||(Sl(),Al=!0),eT.add(e,t),t.C=0}}function $U(t,e){var n;n=e?e.m:t.W++;const r=ki(t.I);ke(r,"SID",t.K),ke(r,"RID",n),ke(r,"AID",t.V),Hl(t,r),t.o&&t.s&&fT(r,t.o,t.s),n=new kl(t,t.l,n,t.C+1),null===t.o&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=jU(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),dT(t.i,n),uT(n,r,e)}function Hl(t,e){t.na&&Gb(t.na,function(n,r){ke(e,r,n)}),t.h&&vU({},function(n,r){ke(e,r,n)})}function jU(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Jt(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];-1==s?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let u=0;u<n;u++){let c=i[u].g;const l=i[u].map;if(c-=s,0>c)s=Math.max(0,i[u].g-100),a=!1;else try{ale(l,o,"req"+c+"_")}catch{r&&r(l)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function HU(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Sl||nU(),Al||(Sl(),Al=!0),eT.add(e,t),t.A=0}}function gT(t){return!(t.g||t.u||3<=t.A||(t.ba++,t.u=Rl(Jt(t.Ma,t),qU(t,t.A)),t.A++,0))}function mT(t){null!=t.B&&(te.clearTimeout(t.B),t.B=null)}function GU(t){t.g=new kl(t,t.l,"rpc",t.ba),null===t.o&&(t.g.I=t.s),t.g.O=0;var e=ki(t.wa);ke(e,"RID","rpc"),ke(e,"SID",t.K),ke(e,"AID",t.V),ke(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&ke(e,"TO",t.qa),ke(e,"TYPE","xmlhttp"),Hl(t,e),t.o&&t.s&&fT(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=sg(ki(e)),n.s=null,n.S=!0,gU(n,t)}function dg(t){null!=t.v&&(te.clearTimeout(t.v),t.v=null)}function zU(t,e){var n=null;if(t.g==e){dg(t),mT(t),t.g=null;var r=2}else{if(!lT(t.i,e))return;n=e.F,MU(t.i,e),r=1}if(0!=t.H)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;Bt(r=Jp(),new lU(r,n)),lg(t)}else HU(t);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function ple(t,e){return!(AU(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.j=e.F.concat(t.j),0):1==t.H||2==t.H||t.C>=(t.cb?0:t.eb)||(t.m=Rl(Jt(t.Na,t,e),qU(t,t.C)),t.C++,0)))}(t,e)||2==r&&gT(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:vo(t,5);break;case 4:vo(t,10);break;case 3:vo(t,6);break;default:vo(t,2)}}function qU(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function vo(t,e){if(t.l.info("Error code "+e),2==e){var n=null;t.h&&(n=null);var r=Jt(t.pb,t);n||(n=new _o("//www.google.com/images/cleardot.gif"),te.location&&"http"==te.location.protocol||rg(n,"https"),sg(n)),function ule(t,e){const n=new Xp;if(te.Image){const r=new Image;r.onload=zp(og,n,r,"TestLoadImage: loaded",!0,e),r.onerror=zp(og,n,r,"TestLoadImage: error",!1,e),r.onabort=zp(og,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=zp(og,n,r,"TestLoadImage: timeout",!1,e),te.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else fn(2);t.H=0,t.h&&t.h.za(e),WU(t),BU(t)}function WU(t){if(t.H=0,t.ma=[],t.h){const e=xU(t.i);(0!=e.length||0!=t.j.length)&&(j2(t.ma,e),j2(t.ma,t.j),t.i.i.length=0,Fb(t.j),t.j.length=0),t.h.ya()}}function KU(t,e,n){var r=n instanceof _o?ki(n):new _o(n);if(""!=r.g)e&&(r.g=e+"."+r.g),ig(r,r.m);else{var i=te.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new _o(null);r&&rg(s,r),e&&(s.g=e),i&&ig(s,i),n&&(s.l=n),r=s}return e=t.Da,(n=t.F)&&e&&ke(r,n,e),ke(r,"VER",t.ra),Hl(t,r),r}function QU(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Je(n&&t.Ha&&!t.va?new Ul({ob:!0}):t.va)).Oa(t.J),e}function YU(){}function hg(){if(Ja&&!(10<=Number(Sce)))throw Error("Environmental error: no available transport.")}function zn(t,e){At.call(this),this.g=new UU(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Cl(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Cl(e)&&(this.g.F=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new tu(this)}function XU(t){iT.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function JU(){sT.call(this),this.status=1}function tu(t){this.g=t}function Ir(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function yT(t,e,n){n||(n=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var s=t.g[3],o=(e=t.g[0])+(s^(n=t.g[1])&((i=t.g[2])^s))+r[0]+3614090360&4294967295;o=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=n+(o<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=e+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=e+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=e+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(e=n+((o=e+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(e^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}function Ce(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=0|t[i];r&&s==e||(n[i]=s,r=!1)}this.g=n}(N=Je.prototype).Oa=function(t){this.M=t},N.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():oT.g(),this.C=function hU(t){return t.h||(t.h=t.i())}(this.u?this.u:oT),this.g.onreadystatechange=Jt(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){return void kU(this,s)}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())n.set(s,r.get(s))}r=Array.from(n.keys()).find(s=>"content-type"==s.toLowerCase()),i=te.FormData&&t instanceof te.FormData,!(0<=$2(dle,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{FU(this),0<this.B&&((this.L=function hle(t){return Ja&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Jt(this.ua,this)):this.A=nT(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){kU(this,s)}},N.ua=function(){typeof Pb<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Bt(this,"timeout"),this.abort(8))},N.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Bt(this,"complete"),Bt(this,"abort"),ug(this))},N.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ug(this,!0)),Je.$.N.call(this)},N.La=function(){this.s||(this.G||this.v||this.l?OU(this):this.kb())},N.kb=function(){OU(this)},N.isActive=function(){return!!this.g},N.da=function(){try{return 2<Kr(this)?this.g.status:-1}catch{return-1}},N.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},N.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),cle(e)}},N.Ia=function(){return this.m},N.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(N=UU.prototype).ra=8,N.H=1,N.Na=function(t){if(this.m)if(this.m=null,1==this.H){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new kl(this,this.l,t);let s=this.s;if(this.U&&(s?(s=W2(s),Q2(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=jU(this,i,e),ke(n=ki(this.I),"RID",t),ke(n,"CVER",22),this.F&&ke(n,"X-HTTP-Session-Id",this.F),Hl(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(VU(s)))+"&"+e:this.o&&fT(n,this.o,s)),dT(this.i,i),this.bb&&ke(n,"TYPE","init"),this.P?(ke(n,"$req",e),ke(n,"SID","null"),i.aa=!0,uT(i,n,null)):uT(i,n,e),this.H=2}}else 3==this.H&&(t?$U(this,t):0==this.j.length||SU(this.i)||$U(this))},N.Ma=function(){if(this.u=null,GU(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Rl(Jt(this.jb,this),t)}},N.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,fn(10),cg(this),GU(this))},N.ib=function(){null!=this.v&&(this.v=null,cg(this),gT(this),fn(19))},N.pb=function(t){t?(this.l.info("Successfully pinged google.com"),fn(2)):(this.l.info("Failed to ping google.com"),fn(1))},N.isActive=function(){return!!this.h&&this.h.isActive(this)},(N=YU.prototype).Ba=function(){},N.Aa=function(){},N.za=function(){},N.ya=function(){},N.isActive=function(){return!0},N.Va=function(){},hg.prototype.g=function(t,e){return new zn(t,e)},St(zn,At),zn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;fn(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=KU(t,null,t.Y),lg(t)},zn.prototype.close=function(){pT(this.g)},zn.prototype.u=function(t){var e=this.g;if("string"==typeof t){var n={};n.__data__=t,t=n}else this.v&&((n={}).__data__=Zb(t),t=n);e.j.push(new class{constructor(t,e){this.g=t,this.map=e}}(e.fb++,t)),3==e.H&&lg(e)},zn.prototype.N=function(){this.g.h=null,delete this.j,pT(this.g),delete this.g,zn.$.N.call(this)},St(XU,iT),St(JU,sT),St(tu,YU),tu.prototype.Ba=function(){Bt(this.g,"a")},tu.prototype.Aa=function(t){Bt(this.g,new XU(t))},tu.prototype.za=function(t){Bt(this.g,new JU)},tu.prototype.ya=function(){Bt(this.g,"b")},St(Ir,function gle(){this.blockSize=-1}),Ir.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Ir.prototype.j=function(t,e){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(0==i)for(;s<=n;)yT(this,t,s),s+=this.blockSize;if("string"==typeof t){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){yT(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){yT(this,r),i=0;break}}this.h=i,this.i+=e},Ir.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=255&n,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};var mle={};function _T(t){return-128<=t&&128>t?function Cce(t,e){var n=mle;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,function(e){return new Ce([0|e],0>e?-1:0)}):new Ce([0|t],0>t?-1:0)}function Qr(t){if(isNaN(t)||!isFinite(t))return nu;if(0>t)return $t(Qr(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=vT;return new Ce(e,0)}var vT=4294967296,nu=_T(0),wT=_T(1),eB=_T(16777216);function Pi(t){if(0!=t.h)return!1;for(var e=0;e<t.g.length;e++)if(0!=t.g[e])return!1;return!0}function sr(t){return-1==t.h}function $t(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Ce(n,~t.h).add(wT)}function fg(t,e){return t.add($t(e))}function pg(t,e){for(;(65535&t[e])!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Gl(t,e){this.g=t,this.h=e}function gg(t,e){if(Pi(e))throw Error("division by zero");if(Pi(t))return new Gl(nu,nu);if(sr(t))return e=gg($t(t),e),new Gl($t(e.g),$t(e.h));if(sr(e))return e=gg(t,$t(e)),new Gl($t(e.g),e.h);if(30<t.g.length){if(sr(t)||sr(e))throw Error("slowDivide_ only works with positive integers.");for(var n=wT,r=e;0>=r.X(t);)n=tB(n),r=tB(r);var i=ru(n,1),s=ru(r,1);for(r=ru(r,2),n=ru(n,2);!Pi(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=ru(r,1),n=ru(n,1)}return e=fg(t,i.R(e)),new Gl(i,e)}for(i=nu;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(s=Qr(n)).R(e);sr(o)||0<o.X(t);)o=(s=Qr(n-=r)).R(e);Pi(s)&&(s=wT),i=i.add(s),t=fg(t,o)}return new Gl(i,t)}function tB(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Ce(n,t.h)}function ru(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new Ce(i,t.h)}(N=Ce.prototype).ea=function(){if(sr(this))return-$t(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:vT+r)*e,e*=vT}return t},N.toString=function(t){if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if(Pi(this))return"0";if(sr(this))return"-"+$t(this).toString(t);for(var e=Qr(Math.pow(t,6)),n=this,r="";;){var i=gg(n,e).g,s=((0<(n=fg(n,i.R(e))).g.length?n.g[0]:n.h)>>>0).toString(t);if(Pi(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},N.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h},N.X=function(t){return sr(t=fg(this,t))?-1:Pi(t)?0:1},N.abs=function(){return sr(this)?$t(this):this},N.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(65535&this.D(i))+(65535&t.D(i)),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,n[i]=(o&=65535)<<16|(s&=65535)}return new Ce(n,-2147483648&n[n.length-1]?-1:0)},N.R=function(t){if(Pi(this)||Pi(t))return nu;if(sr(this))return sr(t)?$t(this).R($t(t)):$t($t(this).R(t));if(sr(t))return $t(this.R($t(t)));if(0>this.X(eB)&&0>t.X(eB))return Qr(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=65535&this.D(r),a=t.D(i)>>>16,u=65535&t.D(i);n[2*r+2*i]+=o*u,pg(n,2*r+2*i),n[2*r+2*i+1]+=s*u,pg(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,pg(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,pg(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Ce(n,0)},N.gb=function(t){return gg(this,t).h},N.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Ce(n,this.h&t.h)},N.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Ce(n,this.h|t.h)},N.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Ce(n,this.h^t.h)},hg.prototype.createWebChannel=hg.prototype.g,zn.prototype.send=zn.prototype.u,zn.prototype.open=zn.prototype.m,zn.prototype.close=zn.prototype.close,Zp.NO_ERROR=0,Zp.TIMEOUT=8,Zp.HTTP_ERROR=6,dU.COMPLETE="complete",fU.EventType=Nl,Nl.OPEN="a",Nl.CLOSE="b",Nl.ERROR="c",Nl.MESSAGE="d",At.prototype.listen=At.prototype.O,Je.prototype.listenOnce=Je.prototype.P,Je.prototype.getLastError=Je.prototype.Sa,Je.prototype.getLastErrorCode=Je.prototype.Ia,Je.prototype.getStatus=Je.prototype.da,Je.prototype.getResponseJson=Je.prototype.Wa,Je.prototype.getResponseText=Je.prototype.ja,Je.prototype.send=Je.prototype.ha,Je.prototype.setWithCredentials=Je.prototype.Oa,Ir.prototype.digest=Ir.prototype.l,Ir.prototype.reset=Ir.prototype.reset,Ir.prototype.update=Ir.prototype.j,Ce.prototype.add=Ce.prototype.add,Ce.prototype.multiply=Ce.prototype.R,Ce.prototype.modulo=Ce.prototype.gb,Ce.prototype.compare=Ce.prototype.X,Ce.prototype.toNumber=Ce.prototype.ea,Ce.prototype.toString=Ce.prototype.toString,Ce.prototype.getBits=Ce.prototype.D,Ce.fromNumber=Qr,Ce.fromString=function ZU(t,e){if(0==t.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==t.charAt(0))return $t(ZU(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Qr(Math.pow(e,8)),r=nu,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=Qr(Math.pow(e,s)),r=r.R(s).add(Qr(o))):r=(r=r.R(n)).add(Qr(o))}return r};var yle=wr.createWebChannelTransport=function(){return new hg},_le=wr.getStatEventTarget=function(){return Jp()},IT=wr.ErrorCode=Zp,vle=wr.EventType=dU,wle=wr.Event=mo,nB=wr.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Ile=wr.FetchXmlHttpFactory=Ul,mg=wr.WebChannel=fU,Ele=wr.XhrIo=Je,Dle=wr.Md5=Ir,iu=wr.Integer=Ce;const rB="@firebase/firestore";class Mt{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Mt.UNAUTHENTICATED=new Mt(null),Mt.GOOGLE_CREDENTIALS=new Mt("google-credentials-uid"),Mt.FIRST_PARTY=new Mt("first-party-uid"),Mt.MOCK_USER=new Mt("mock-user");let su="9.22.1";const ds=new $a("@firebase/firestore");function ET(){return ds.logLevel}function S(t,...e){if(ds.logLevel<=Y.DEBUG){const n=e.map(DT);ds.debug(`Firestore (${su}): ${t}`,...n)}}function nt(t,...e){if(ds.logLevel<=Y.ERROR){const n=e.map(DT);ds.error(`Firestore (${su}): ${t}`,...n)}}function Er(t,...e){if(ds.logLevel<=Y.WARN){const n=e.map(DT);ds.warn(`Firestore (${su}): ${t}`,...n)}}function DT(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch{return t}}function F(t="Unexpected state"){const e=`FIRESTORE (${su}) INTERNAL ASSERTION FAILED: `+t;throw nt(e),new Error(e)}function U(t,e){t||F()}function R(t,e){return t}const I={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class C extends Gn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class vt{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class iB{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Cle{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Mt.UNAUTHENTICATED))}shutdown(){}}class ble{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Tle{constructor(e){this.t=e,this.currentUser=Mt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let i=this.i;const s=c=>this.i!==i?(i=this.i,n(c)):Promise.resolve();let o=new vt;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new vt,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=o;e.enqueueRetryable(g(function*(){yield c.promise,yield s(r.currentUser)}))},u=c=>{S("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(S("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new vt)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(S("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(U("string"==typeof r.accessToken),new iB(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return U(null===e||"string"==typeof e),new Mt(e)}}class Sle{constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=Mt.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class Ale{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new Sle(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(Mt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class sB{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Mle{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const r=s=>{null!=s.error&&S("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.T;return this.T=s.token,S("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{S("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?i(s):S("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(U("string"==typeof n.token),this.T=n.token,new sB(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function xle(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class oB{static A(){const n=62*Math.floor(256/62);let r="";for(;r.length<20;){const i=xle(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[s]%62))}return r}}function J(t,e){return t<e?-1:t>e?1:0}function ou(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}class qe{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new C(I.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new C(I.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new C(I.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new C(I.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return qe.fromMillis(Date.now())}static fromDate(e){return qe.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new qe(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?J(this.nanoseconds,e.nanoseconds):J(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class B{constructor(e){this.timestamp=e}static fromTimestamp(e){return new B(e)}static min(){return new B(new qe(0,0))}static max(){return new B(new qe(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class zl{constructor(e,n,r){void 0===n?n=0:n>e.length&&F(),void 0===r?r=e.length-n:r>e.length-n&&F(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===zl.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof zl?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class fe extends zl{construct(e,n,r){return new fe(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new C(I.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new fe(n)}static emptyPath(){return new fe([])}}const Rle=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class rt extends zl{construct(e,n,r){return new rt(e,n,r)}static isValidIdentifier(e){return Rle.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),rt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new rt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(0===r.length)throw new C(I.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new C(I.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new C(I.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new C(I.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new rt(n)}static emptyPath(){return new rt([])}}class x{constructor(e){this.path=e}static fromPath(e){return new x(fe.fromString(e))}static fromName(e){return new x(fe.fromString(e).popFirst(5))}static empty(){return new x(fe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===fe.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return fe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new x(new fe(e.slice()))}}function cB(t){return new qn(t.readTime,t.key,-1)}class qn{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new qn(B.min(),x.empty(),-1)}static max(){return new qn(B.max(),x.empty(),-1)}}function bT(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=x.comparator(t.documentKey,e.documentKey),0!==n?n:J(t.largestBatchId,e.largestBatchId))}const lB="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Ple{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function hs(t){return TT.apply(this,arguments)}function TT(){return TT=g(function*(t){if(t.code!==I.FAILED_PRECONDITION||t.message!==lB)throw t;S("LocalStore","Unexpectedly lost primary lease")}),TT.apply(this,arguments)}class w{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&F(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new w((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof w?n:w.resolve(n)}catch(n){return w.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):w.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):w.reject(n)}static resolve(e){return new w((n,r)=>{n(e)})}static reject(e){return new w((n,r)=>{r(e)})}static waitFor(e){return new w((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=w.resolve(!1);for(const r of e)n=n.next(i=>i?w.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new w((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let u=0;u<s;u++){const c=u;n(e[c]).next(l=>{o[c]=l,++a,a===s&&r(o)},l=>i(l))}})}static doWhile(e,n){return new w((r,i)=>{const s=()=>{!0===e()?n().next(()=>{s()},i):r()};s()})}}function fs(t){return"IndexedDbTransactionError"===t.name}let Wn=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ot(i),this.ut=i=>r.writeSequenceNumber(i))}ot(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.ut&&this.ut(n),n}}return t.ct=-1,t})();function Kl(t){return null==t}function Ql(t){return 0===t&&1/t==-1/0}function vB(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ps(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}class xe{constructor(e,n){this.comparator=e,this.root=n||jt.EMPTY}insert(e,n){return new xe(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,jt.BLACK,null,null))}remove(e){return new xe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,jt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ig(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ig(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ig(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ig(this.root,e,this.comparator,!0)}}class Ig{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class jt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??jt.RED,this.left=i??jt.EMPTY,this.right=s??jt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new jt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===s?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return jt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return jt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,jt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,jt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw F();const e=this.left.check();if(e!==this.right.check())throw F();return e+(this.isRed()?0:1)}}jt.EMPTY=null,jt.RED=!0,jt.BLACK=!1,jt.EMPTY=new class{constructor(){this.size=0}get key(){throw F()}get value(){throw F()}get color(){throw F()}get left(){throw F()}get right(){throw F()}copy(t,e,n,r,i){return this}insert(t,e,n){return new jt(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Pe{constructor(e){this.comparator=e,this.data=new xe(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new IB(this.data.getIterator())}getIteratorFrom(e){return new IB(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Pe)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Pe(this.comparator);return n.data=e,n}}class IB{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Rn{constructor(e){this.fields=e,e.sort(rt.comparator)}static empty(){return new Rn([])}unionWith(e){let n=new Pe(rt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Rn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ou(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class EB extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class wt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new EB("Invalid base64 string: "+i):i}}(e);return new wt(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new wt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return J(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}wt.EMPTY_BYTE_STRING=new wt("");const rde=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function gs(t){if(U(!!t),"string"==typeof t){let e=0;const n=rde.exec(t);if(U(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ze(t.seconds),nanos:Ze(t.nanos)}}function Ze(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Oi(t){return"string"==typeof t?wt.fromBase64String(t):wt.fromUint8Array(t)}function Eg(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=t?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Dg(t){const e=t.mapValue.fields.__previous_value__;return Eg(e)?Dg(e):e}function Yl(t){const e=gs(t.mapValue.fields.__local_write_time__.timestampValue);return new qe(e.seconds,e.nanos)}class ide{constructor(e,n,r,i,s,o,a,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=c}}class Eo{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Eo("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Eo&&e.projectId===this.projectId&&e.database===this.database}}const ms={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ys(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Eg(t)?4:TB(t)?9007199254740991:10:F()}function Xr(t,e){if(t===e)return!0;const n=ys(t);if(n!==ys(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Yl(t).isEqual(Yl(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=gs(r.timestampValue),o=gs(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return i=e,Oi(t.bytesValue).isEqual(Oi(i.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return Ze(r.geoPointValue.latitude)===Ze(i.geoPointValue.latitude)&&Ze(r.geoPointValue.longitude)===Ze(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Ze(r.integerValue)===Ze(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=Ze(r.doubleValue),o=Ze(i.doubleValue);return s===o?Ql(s)===Ql(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return ou(t.arrayValue.values||[],e.arrayValue.values||[],Xr);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(vB(s)!==vB(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(void 0===o[a]||!Xr(s[a],o[a])))return!1;return!0}(t,e);default:return F()}var i}function Xl(t,e){return void 0!==(t.values||[]).find(n=>Xr(n,e))}function _s(t,e){if(t===e)return 0;const n=ys(t),r=ys(e);if(n!==r)return J(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return J(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=Ze(i.integerValue||i.doubleValue),a=Ze(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return DB(t.timestampValue,e.timestampValue);case 4:return DB(Yl(t),Yl(e));case 5:return J(t.stringValue,e.stringValue);case 6:return function(i,s){const o=Oi(i),a=Oi(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let u=0;u<o.length&&u<a.length;u++){const c=J(o[u],a[u]);if(0!==c)return c}return J(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=J(Ze(i.latitude),Ze(s.latitude));return 0!==o?o:J(Ze(i.longitude),Ze(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let u=0;u<o.length&&u<a.length;++u){const c=_s(o[u],a[u]);if(c)return c}return J(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===ms.mapValue&&s===ms.mapValue)return 0;if(i===ms.mapValue)return 1;if(s===ms.mapValue)return-1;const o=i.fields||{},a=Object.keys(o),u=s.fields||{},c=Object.keys(u);a.sort(),c.sort();for(let l=0;l<a.length&&l<c.length;++l){const d=J(a[l],c[l]);if(0!==d)return d;const h=_s(o[a[l]],u[c[l]]);if(0!==h)return h}return J(a.length,c.length)}(t.mapValue,e.mapValue);default:throw F()}}function DB(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return J(t,e);const n=gs(t),r=gs(e),i=J(n.seconds,r.seconds);return 0!==i?i:J(n.nanos,r.nanos)}function uu(t){return MT(t)}function MT(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=gs(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Oi(t.bytesValue).toBase64():"referenceValue"in t?x.fromName(t.referenceValue).toString():"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=MT(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${MT(r.fields[a])}`;return s+"}"}(t.mapValue):F();var e}function xT(t){return!!t&&"integerValue"in t}function Jl(t){return!!t&&"arrayValue"in t}function CB(t){return!!t&&"nullValue"in t}function bB(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Tg(t){return!!t&&"mapValue"in t}function Zl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ps(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Zl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Zl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function TB(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}class Ht{constructor(e){this.value=e}static empty(){return new Ht({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Tg(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Zl(n)}setAll(e){let n=rt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Zl(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Tg(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Xr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Tg(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ps(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Ht(Zl(this.value))}}class Oe{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Oe(e,0,B.min(),B.min(),B.min(),Ht.empty(),0)}static newFoundDocument(e,n,r,i){return new Oe(e,1,n,B.min(),r,i,0)}static newNoDocument(e,n){return new Oe(e,2,n,B.min(),B.min(),Ht.empty(),0)}static newUnknownDocument(e,n){return new Oe(e,3,n,B.min(),B.min(),Ht.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(B.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ht.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ht.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=B.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Oe&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Oe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class vs{constructor(e,n){this.position=e,this.inclusive=n}}function xB(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(r=s.field.isKeyField()?x.comparator(x.fromName(o.referenceValue),n.key):_s(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function RB(t,e){if(null===t)return null===e;if(null===e||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Xr(t.position[n],e.position[n]))return!1;return!0}class cu{constructor(e,n="asc"){this.field=e,this.dir=n}}function ade(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class NB{}class le extends NB{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,r):new ude(e,n,r):"array-contains"===n?new dde(e,r):"in"===n?new VB(e,r):"not-in"===n?new hde(e,r):"array-contains-any"===n?new fde(e,r):new le(e,n,r)}static createKeyFieldInFilter(e,n,r){return"in"===n?new cde(e,r):new lde(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(_s(n,this.value)):null!==n&&ys(this.value)===ys(n)&&this.matchesComparison(_s(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return F()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class be extends NB{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new be(e,n)}matches(e){return lu(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return null!==e?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function lu(t){return"and"===t.op}function NT(t){return function kB(t){for(const e of t.filters)if(e instanceof be)return!1;return!0}(t)&&lu(t)}function kT(t){if(t instanceof le)return t.field.canonicalString()+t.op.toString()+uu(t.value);if(NT(t))return t.filters.map(e=>kT(e)).join(",");{const e=t.filters.map(n=>kT(n)).join(",");return`${t.op}(${e})`}}function PB(t,e){return t instanceof le?(n=t,(r=e)instanceof le&&n.op===r.op&&n.field.isEqual(r.field)&&Xr(n.value,r.value)):t instanceof be?function(n,r){return r instanceof be&&n.op===r.op&&n.filters.length===r.filters.length&&n.filters.reduce((i,s,o)=>i&&PB(s,r.filters[o]),!0)}(t,e):void F();var n,r}function FB(t){return t instanceof le?`${(e=t).field.canonicalString()} ${e.op} ${uu(e.value)}`:t instanceof be?function(e){return e.op.toString()+" {"+e.getFilters().map(FB).join(" ,")+"}"}(t):"Filter";var e}class ude extends le{constructor(e,n,r){super(e,n,r),this.key=x.fromName(r.referenceValue)}matches(e){const n=x.comparator(e.key,this.key);return this.matchesComparison(n)}}class cde extends le{constructor(e,n){super(e,"in",n),this.keys=LB(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class lde extends le{constructor(e,n){super(e,"not-in",n),this.keys=LB(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function LB(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>x.fromName(r.referenceValue))}class dde extends le{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Jl(n)&&Xl(n.arrayValue,this.value)}}class VB extends le{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&Xl(this.value.arrayValue,n)}}class hde extends le{constructor(e,n){super(e,"not-in",n)}matches(e){if(Xl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!Xl(this.value.arrayValue,n)}}class fde extends le{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Jl(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Xl(this.value.arrayValue,r))}}class pde{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.dt=null}}function PT(t,e=null,n=[],r=[],i=null,s=null,o=null){return new pde(t,e,n,r,i,s,o)}function Co(t){const e=R(t);if(null===e.dt){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>kT(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),Kl(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>uu(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>uu(r)).join(",")),e.dt=n}return e.dt}function ed(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!ade(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!PB(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!RB(t.startAt,e.startAt)&&RB(t.endAt,e.endAt)}function Sg(t){return x.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class Fi{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.wt=null,this._t=null}}function du(t){return new Fi(t)}function jB(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function bo(t){const e=R(t);if(null===e.wt){e.wt=[];const n=function Mg(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(null!==n)return n}return null}(e),r=function OT(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}(e);if(null!==n&&null===r)n.isKeyField()||e.wt.push(new cu(n)),e.wt.push(new cu(rt.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.wt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new cu(rt.keyField(),s))}}}return e.wt}function pn(t){const e=R(t);if(!e._t)if("F"===e.limitType)e._t=PT(e.path,e.collectionGroup,bo(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of bo(e))n.push(new cu(s.field,"desc"===s.dir?"asc":"desc"));const r=e.endAt?new vs(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new vs(e.startAt.position,e.startAt.inclusive):null;e._t=PT(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e._t}function xg(t,e,n){return new Fi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function td(t,e){return ed(pn(t),pn(e))&&t.limitType===e.limitType}function HB(t){return`${Co(pn(t))}|lt:${t.limitType}`}function VT(t){return`Query(target=${function(e){let n=e.path.canonicalString();return null!==e.collectionGroup&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>FB(r)).join(", ")}]`),Kl(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>uu(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>uu(r)).join(",")),`Target(${n})`}(pn(t))}; limitType=${t.limitType})`}function nd(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return null!==n.collectionGroup?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):x.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of bo(n))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&(r=e,!((n=t).startAt&&!function(i,s,o){const a=xB(i,s,o);return i.inclusive?a<=0:a<0}(n.startAt,bo(n),r)||n.endAt&&!function(i,s,o){const a=xB(i,s,o);return i.inclusive?a>=0:a>0}(n.endAt,bo(n),r)));var n,r}function zB(t){return(e,n)=>{let r=!1;for(const i of bo(t)){const s=gde(i,e,n);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function gde(t,e,n){const r=t.field.isKeyField()?x.comparator(e.key,n.key):function(i,s,o){const a=s.data.field(i),u=o.data.field(i);return null!==a&&null!==u?_s(a,u):F()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return F()}}class Li{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ps(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return function wB(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}(this.inner)}size(){return this.innerSize}}const mde=new xe(x.comparator);function Nn(){return mde}const qB=new xe(x.comparator);function rd(...t){let e=qB;for(const n of t)e=e.insert(n.key,n);return e}function WB(t){let e=qB;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Jr(){return id()}function KB(){return id()}function id(){return new Li(t=>t.toString(),(t,e)=>t.isEqual(e))}new xe(x.comparator);const _de=new Pe(x.comparator);function oe(...t){let e=_de;for(const n of t)e=e.add(n);return e}const vde=new Pe(J);class Rg{constructor(){this._=void 0}}function wde(t,e,n){return t instanceof hu?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&Eg(i)&&(i=Dg(i)),i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof To?ZB(t,e):t instanceof So?e$(t,e):function(r,i){const s=function JB(t,e){return t instanceof fu?xT(n=e)||(r=n)&&"doubleValue"in r?e:{integerValue:0}:null;var r,n}(r,i),o=t$(s)+t$(r.gt);return xT(s)&&xT(r.gt)?function YB(t){return{integerValue:""+t}}(o):function QB(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ql(e)?"-0":e}}(r.serializer,o)}(t,e)}function Ide(t,e,n){return t instanceof To?ZB(t,e):t instanceof So?e$(t,e):n}class hu extends Rg{}class To extends Rg{constructor(e){super(),this.elements=e}}function ZB(t,e){const n=n$(e);for(const r of t.elements)n.some(i=>Xr(i,r))||n.push(r);return{arrayValue:{values:n}}}class So extends Rg{constructor(e){super(),this.elements=e}}function e$(t,e){let n=n$(e);for(const r of t.elements)n=n.filter(i=>!Xr(i,r));return{arrayValue:{values:n}}}class fu extends Rg{constructor(e,n){super(),this.serializer=e,this.gt=n}}function t$(t){return Ze(t.integerValue||t.doubleValue)}function n$(t){return Jl(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class Ve{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ve}static exists(e){return new Ve(void 0,e)}static updateTime(e){return new Ve(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ng(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class BT{}function r$(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new gu(t.key,Ve.none()):new pu(t.key,t.data,Ve.none());{const n=t.data,r=Ht.empty();let i=new Pe(rt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);null===o&&s.length>1&&(s=s.popLast(),o=n.field(s)),null===o?r.delete(s):r.set(s,o),i=i.add(s)}return new Vi(t.key,r,new Rn(i.toArray()),Ve.none())}}function Cde(t,e,n){t instanceof pu?function(r,i,s){const o=r.value.clone(),a=o$(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof Vi?function(r,i,s){if(!Ng(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=o$(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(s$(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function od(t,e,n,r){return t instanceof pu?function(i,s,o,a){if(!Ng(i.precondition,s))return o;const u=i.value.clone(),c=a$(i.fieldTransforms,a,s);return u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Vi?function(i,s,o,a){if(!Ng(i.precondition,s))return o;const u=a$(i.fieldTransforms,a,s),c=s.data;return c.setAll(s$(i)),c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null===o?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(l=>l.field))}(t,e,n,r):(o=n,Ng(t.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o);var s,o}function i$(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(n=t.fieldTransforms)&&void 0===r||n&&r&&ou(n,r,(i,s)=>function Ede(t,e){return t.field.isEqual(e.field)&&(r=e.transform,(n=t.transform)instanceof To&&r instanceof To||n instanceof So&&r instanceof So?ou(n.elements,r.elements,Xr):n instanceof fu&&r instanceof fu?Xr(n.gt,r.gt):n instanceof hu&&r instanceof hu);var n,r}(i,s))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var n,r}class pu extends BT{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Vi extends BT{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function s$(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function o$(t,e,n){const r=new Map;U(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,Ide(o,a,n[i]))}return r}function a$(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,wde(s,o,e))}return r}class gu extends BT{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class jT{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&Cde(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=od(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=od(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=KB();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const u=r$(o,a);null!==u&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(B.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),oe())}isEqual(e){return this.batchId===e.batchId&&ou(this.mutations,e.mutations,(n,r)=>i$(n,r))&&ou(this.baseMutations,e.baseMutations,(n,r)=>i$(n,r))}}class GT{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Sde{constructor(e,n){this.count=e,this.unchangedNames=n}}var dt,pe;function c$(t){if(void 0===t)return nt("GRPC error has no .code"),I.UNKNOWN;switch(t){case dt.OK:return I.OK;case dt.CANCELLED:return I.CANCELLED;case dt.UNKNOWN:return I.UNKNOWN;case dt.DEADLINE_EXCEEDED:return I.DEADLINE_EXCEEDED;case dt.RESOURCE_EXHAUSTED:return I.RESOURCE_EXHAUSTED;case dt.INTERNAL:return I.INTERNAL;case dt.UNAVAILABLE:return I.UNAVAILABLE;case dt.UNAUTHENTICATED:return I.UNAUTHENTICATED;case dt.INVALID_ARGUMENT:return I.INVALID_ARGUMENT;case dt.NOT_FOUND:return I.NOT_FOUND;case dt.ALREADY_EXISTS:return I.ALREADY_EXISTS;case dt.PERMISSION_DENIED:return I.PERMISSION_DENIED;case dt.FAILED_PRECONDITION:return I.FAILED_PRECONDITION;case dt.ABORTED:return I.ABORTED;case dt.OUT_OF_RANGE:return I.OUT_OF_RANGE;case dt.UNIMPLEMENTED:return I.UNIMPLEMENTED;case dt.DATA_LOSS:return I.DATA_LOSS;default:return F()}}(pe=dt||(dt={}))[pe.OK=0]="OK",pe[pe.CANCELLED=1]="CANCELLED",pe[pe.UNKNOWN=2]="UNKNOWN",pe[pe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",pe[pe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",pe[pe.NOT_FOUND=5]="NOT_FOUND",pe[pe.ALREADY_EXISTS=6]="ALREADY_EXISTS",pe[pe.PERMISSION_DENIED=7]="PERMISSION_DENIED",pe[pe.UNAUTHENTICATED=16]="UNAUTHENTICATED",pe[pe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",pe[pe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",pe[pe.ABORTED=10]="ABORTED",pe[pe.OUT_OF_RANGE=11]="OUT_OF_RANGE",pe[pe.UNIMPLEMENTED=12]="UNIMPLEMENTED",pe[pe.INTERNAL=13]="INTERNAL",pe[pe.UNAVAILABLE=14]="UNAVAILABLE",pe[pe.DATA_LOSS=15]="DATA_LOSS";class zT{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return kg}static getOrCreateInstance(){return null===kg&&(kg=new zT),kg}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let kg=null;const Ade=new iu([4294967295,4294967295],0);function d$(t){const e=function l$(){return new TextEncoder}().encode(t),n=new Dle;return n.update(e),new Uint8Array(n.digest())}function h$(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new iu([n,r],0),new iu([i,s],0)]}class qT{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ad(`Invalid padding: ${n}`);if(r<0)throw new ad(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new ad(`Invalid hash count: ${r}`);if(0===e.length&&0!==n)throw new ad(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=iu.fromNumber(this.It)}Et(e,n,r){let i=e.add(n.multiply(iu.fromNumber(r)));return 1===i.compare(Ade)&&(i=new iu([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const n=d$(e),[r,i]=h$(n);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);if(!this.At(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new qT(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(0===this.It)return;const n=d$(e),[r,i]=h$(n);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);this.Rt(o)}}Rt(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class ad extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class ud{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,cd.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new ud(B.min(),i,new xe(J),Nn(),oe())}}class cd{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new cd(r,n,oe(),oe(),oe())}}class Pg{constructor(e,n,r,i){this.Pt=e,this.removedTargetIds=n,this.key=r,this.bt=i}}class f${constructor(e,n){this.targetId=e,this.Vt=n}}class p${constructor(e,n,r=wt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class g${constructor(){this.St=0,this.Dt=y$(),this.Ct=wt.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=oe(),n=oe(),r=oe();return this.Dt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:F()}}),new cd(this.Ct,this.xt,e,n,r)}Ft(){this.Nt=!1,this.Dt=y$()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class Mde{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Nn(),this.zt=m$(),this.Wt=new xe(J)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const r=this.Zt(n);switch(e.state){case 0:this.te(n)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(n);break;case 3:this.te(n)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),r.$t(e.resumeToken));break;default:F()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((r,i)=>{this.te(i)&&n(i)})}ne(e){var n;const r=e.targetId,i=e.Vt.count,s=this.se(r);if(s){const o=s.target;if(Sg(o))if(0===i){const a=new x(o.path);this.Yt(r,a,Oe.newNoDocument(a,B.min()))}else U(1===i);else{const a=this.ie(r);if(a!==i){const u=this.re(e,a);0!==u&&(this.ee(r),this.Wt=this.Wt.insert(r,2===u?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(n=zT.instance)||void 0===n||n.notifyOnExistenceFilterMismatch(function(c,l,d){var h,f,p,m,y,v;const _={localCacheCount:l,existenceFilterCount:d.count},E=d.unchangedNames;return E&&(_.bloomFilter={applied:0===c,hashCount:null!==(h=E?.hashCount)&&void 0!==h?h:0,bitmapLength:null!==(m=null===(p=null===(f=E?.bits)||void 0===f?void 0:f.bitmap)||void 0===p?void 0:p.length)&&void 0!==m?m:0,padding:null!==(v=null===(y=E?.bits)||void 0===y?void 0:y.padding)&&void 0!==v?v:0}),_}(u,a,e.Vt))}}}}re(e,n){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:s="",padding:o=0},hashCount:a=0}=r;let u,c;try{u=Oi(s).toUint8Array()}catch(l){if(l instanceof EB)return Er("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw l}try{c=new qT(u,o,a)}catch(l){return Er(l instanceof ad?"BloomFilter error: ":"Applying bloom filter failed: ",l),1}return 0===c.It?1:i!==n-this.oe(e.targetId,c)?2:0}oe(e,n){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(s=>{const o=this.Gt.ue(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;n.vt(a)||(this.Yt(e,s,null),i++)}),i}ce(e){const n=new Map;this.Qt.forEach((s,o)=>{const a=this.se(o);if(a){if(s.current&&Sg(a.target)){const u=new x(a.target.path);null!==this.jt.get(u)||this.ae(o,u)||this.Yt(o,u,Oe.newNoDocument(u,e))}s.Mt&&(n.set(o,s.Ot()),s.Ft())}});let r=oe();this.zt.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const c=this.se(u);return!c||"TargetPurposeLimboResolution"===c.purpose||(a=!1,!1)}),a&&(r=r.add(s))}),this.jt.forEach((s,o)=>o.setReadTime(e));const i=new ud(e,n,this.Wt,this.jt,r);return this.jt=Nn(),this.zt=m$(),this.Wt=new xe(J),i}Jt(e,n){if(!this.te(e))return;const r=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,r),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,n)?i.Bt(n,1):i.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),r&&(this.jt=this.jt.insert(n,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new g$,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new Pe(J),this.zt=this.zt.insert(e,n)),n}te(e){const n=null!==this.se(e);return n||S("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new g$),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function m$(){return new xe(x.comparator)}function y$(){return new xe(x.comparator)}const xde={asc:"ASCENDING",desc:"DESCENDING"},Rde={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Nde={and:"AND",or:"OR"};class kde{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function WT(t,e){return t.useProto3Json||Kl(e)?e:{value:e}}function it(t){return U(!!t),B.fromTimestamp(function(e){const n=gs(e);return new qe(n.seconds,n.nanos)}(t))}function v$(t){const e=fe.fromString(t);return U(A$(e)),e}function Zr(t,e){const n=v$(e);if(n.get(1)!==t.databaseId.projectId)throw new C(I.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new C(I.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new x(I$(n))}function QT(t,e){return function KT(t,e){return(n=t,new fe(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}(t.databaseId,e)}function dd(t){return new fe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function I$(t){return U(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function C$(t,e){return{documents:[QT(t,e.path)]}}function XT(t,e){const n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=QT(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=QT(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(u){if(0!==u.length)return S$(be.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(u){if(0!==u.length)return u.map(c=>{return{field:ws((l=c).field),direction:Ude(l.dir)};var l})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=WT(t,e.limit);var a,u;return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt={before:!(u=e.endAt).inclusive,values:u.position}),n}function b$(t){let e=function w$(t){const e=v$(t);return 4===e.length?fe.emptyPath():I$(e)}(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){U(1===r);const l=n.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let s=[];n.where&&(s=function(l){const d=T$(l);return d instanceof be&&NT(d)?d.getFilters():[d]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(l=>{return new cu(yu((d=l).field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction));var d}));let a=null;n.limit&&(a=function(l){let d;return d="object"==typeof l?l.value:l,Kl(d)?null:d}(n.limit));let u=null;var l;n.startAt&&(u=new vs((l=n.startAt).values||[],!!l.before));let c=null;return n.endAt&&(c=function(l){return new vs(l.values||[],!l.before)}(n.endAt)),function $B(t,e,n,r,i,s,o,a){return new Fi(t,e,n,r,i,s,o,a)}(e,i,o,s,a,"F",u,c)}function T$(t){return void 0!==t.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=yu(e.unaryFilter.field);return le.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=yu(e.unaryFilter.field);return le.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=yu(e.unaryFilter.field);return le.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=yu(e.unaryFilter.field);return le.create(s,"!=",{nullValue:"NULL_VALUE"});default:return F()}}(t):void 0!==t.fieldFilter?le.create(yu((e=t).fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return F()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==t.compositeFilter?function(e){return be.create(e.compositeFilter.filters.map(n=>T$(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return F()}}(e.compositeFilter.op))}(t):F();var e}function Ude(t){return xde[t]}function Bde(t){return Rde[t]}function $de(t){return Nde[t]}function ws(t){return{fieldPath:t.canonicalString()}}function yu(t){return rt.fromServerFormat(t.fieldPath)}function S$(t){return t instanceof le?function(e){if("=="===e.op){if(bB(e.value))return{unaryFilter:{field:ws(e.field),op:"IS_NAN"}};if(CB(e.value))return{unaryFilter:{field:ws(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(bB(e.value))return{unaryFilter:{field:ws(e.field),op:"IS_NOT_NAN"}};if(CB(e.value))return{unaryFilter:{field:ws(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ws(e.field),op:Bde(e.op),value:e.value}}}(t):t instanceof be?function(e){const n=e.getFilters().map(r=>S$(r));return 1===n.length?n[0]:{compositeFilter:{op:$de(e.op),filters:n}}}(t):F()}function A$(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class Ui{constructor(e,n,r,i,s=B.min(),o=B.min(),a=wt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new Ui(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ui(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ui(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ui(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class M${constructor(e){this.fe=e}}function JT(t){const e=b$({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?xg(e,e.limit,"L"):e}class Ro{constructor(){}_e(e,n){this.me(e,n),n.ge()}me(e,n){if("nullValue"in e)this.ye(n,5);else if("booleanValue"in e)this.ye(n,10),n.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(n,15),n.pe(Ze(e.integerValue));else if("doubleValue"in e){const r=Ze(e.doubleValue);isNaN(r)?this.ye(n,13):(this.ye(n,15),Ql(r)?n.pe(0):n.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(n,20),"string"==typeof r?n.Ie(r):(n.Ie(`${r.seconds||""}`),n.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,n),this.Ee(n);else if("bytesValue"in e)this.ye(n,30),n.Ae(Oi(e.bytesValue)),this.Ee(n);else if("referenceValue"in e)this.ve(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(n,45),n.pe(r.latitude||0),n.pe(r.longitude||0)}else"mapValue"in e?TB(e)?this.ye(n,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,n),this.Ee(n)):"arrayValue"in e?(this.Pe(e.arrayValue,n),this.Ee(n)):F()}Te(e,n){this.ye(n,25),this.be(e,n)}be(e,n){n.Ie(e)}Re(e,n){const r=e.fields||{};this.ye(n,55);for(const i of Object.keys(r))this.Te(i,n),this.me(r[i],n)}Pe(e,n){const r=e.values||[];this.ye(n,50);for(const i of r)this.me(i,n)}ve(e,n){this.ye(n,37),x.fromName(e).path.forEach(r=>{this.ye(n,60),this.be(r,n)})}ye(e,n){e.pe(n)}Ee(e){e.pe(2)}}Ro.Ve=new Ro;class Xde{constructor(){this.rn=new s0}addToCollectionParentIndex(e,n){return this.rn.add(n),w.resolve()}getCollectionParents(e,n){return w.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return w.resolve()}deleteFieldIndex(e,n){return w.resolve()}getDocumentsMatchingTarget(e,n){return w.resolve(null)}getIndexType(e,n){return w.resolve(0)}getFieldIndexes(e,n){return w.resolve([])}getNextCollectionGroupToUpdate(e){return w.resolve(null)}getMinOffset(e,n){return w.resolve(qn.min())}getMinOffsetFromCollectionGroup(e,n){return w.resolve(qn.min())}updateCollectionGroup(e,n,r){return w.resolve()}updateIndexEntries(e,n){return w.resolve()}}class s0{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Pe(fe.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Pe(fe.comparator)).toArray()}}new Uint8Array(0);class tn{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new tn(e,tn.DEFAULT_COLLECTION_PERCENTILE,tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}tn.DEFAULT_COLLECTION_PERCENTILE=10,tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,tn.DEFAULT=new tn(41943040,tn.DEFAULT_COLLECTION_PERCENTILE,tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),tn.DISABLED=new tn(-1,0,0);class ko{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new ko(0)}static Mn(){return new ko(-1)}}class rhe{constructor(){this.changes=new Li(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Oe.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?w.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class ohe{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class tj{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(null!==r&&od(r.mutation,i,Rn.empty(),qe.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,oe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=oe()){const i=Jr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=rd();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Jr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,oe()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Nn();const o=id(),a=id();return n.forEach((u,c)=>{const l=r.get(c.key);i.has(c.key)&&(void 0===l||l.mutation instanceof Vi)?s=s.insert(c.key,c):void 0!==l?(o.set(c.key,l.mutation.getFieldMask()),od(l.mutation,c,l.mutation.getFieldMask(),qe.now())):o.set(c.key,Rn.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((c,l)=>o.set(c,l)),n.forEach((c,l)=>{var d;return a.set(c,new ohe(l,null!==(d=o.get(c))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=id();let i=new xe((o,a)=>o-a),s=oe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(u=>{const c=n.get(u);if(null===c)return;let l=r.get(u)||Rn.empty();l=a.applyToLocalView(c,l),r.set(u,l);const d=(i.get(a.batchId)||oe()).add(u);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,l=u.value,d=KB();l.forEach(h=>{if(!s.has(h)){const f=r$(n.get(h),r.get(h));null!==f&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return w.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return x.isDocumentKey((i=n).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):function FT(t){return null!==t.collectionGroup}(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r);var i}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):w.resolve(Jr());let a=-1,u=s;return o.next(c=>w.forEach(c,(l,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(l)?w.resolve():this.remoteDocumentCache.getEntry(e,l).next(h=>{u=u.insert(l,h)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,u,c,oe())).next(l=>({batchId:a,changes:WB(l)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new x(n)).next(r=>{let i=rd();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let s=rd();return this.indexManager.getCollectionParents(e,i).next(o=>w.forEach(o,a=>{const u=(c=n,l=a.child(i),new Fi(l,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt));var c,l;return this.getDocumentsMatchingCollectionQuery(e,u,r).next(c=>{c.forEach((l,d)=>{s=s.insert(l,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i))).next(s=>{i.forEach((a,u)=>{const c=u.getKey();null===s.get(c)&&(s=s.insert(c,Oe.newInvalidDocument(c)))});let o=rd();return s.forEach((a,u)=>{const c=i.get(a);void 0!==c&&od(c.mutation,u,Rn.empty(),qe.now()),nd(n,u)&&(o=o.insert(a,u))}),o})}}class ahe{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return w.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var r;return this.cs.set(n.id,{id:(r=n).id,version:r.version,createTime:it(r.createTime)}),w.resolve()}getNamedQuery(e,n){return w.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,{name:(r=n).name,query:JT(r.bundledQuery),readTime:it(r.readTime)}),w.resolve();var r}}class uhe{constructor(){this.overlays=new xe(x.comparator),this.ls=new Map}getOverlay(e,n){return w.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Jr();return w.forEach(n,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.we(e,n,s)}),w.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.ls.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.ls.delete(r)),w.resolve()}getOverlaysForCollection(e,n,r){const i=Jr(),s=n.length+1,o=new x(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return w.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new xe((c,l)=>c-l);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let l=s.get(c.largestBatchId);null===l&&(l=Jr(),s=s.insert(c.largestBatchId,l)),l.set(c.getKey(),c)}}const a=Jr(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,l)=>a.set(c,l)),!(a.size()>=i)););return w.resolve(a)}we(e,n,r){const i=this.overlays.get(r.key);if(null!==i){const o=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new GT(n,r));let s=this.ls.get(n);void 0===s&&(s=oe(),this.ls.set(n,s)),this.ls.set(n,s.add(r.key))}}class o0{constructor(){this.fs=new Pe(Rt.ds),this.ws=new Pe(Rt._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const r=new Rt(e,n);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.ys(new Rt(e,n))}ps(e,n){e.forEach(r=>this.removeReference(r,n))}Is(e){const n=new x(new fe([])),r=new Rt(n,e),i=new Rt(n,e+1),s=[];return this.ws.forEachInRange([r,i],o=>{this.ys(o),s.push(o.key)}),s}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new x(new fe([])),r=new Rt(n,e),i=new Rt(n,e+1);let s=oe();return this.ws.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Rt(e,0),r=this.fs.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class Rt{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return x.comparator(e.key,n.key)||J(e.As,n.As)}static _s(e,n){return J(e.As,n.As)||x.comparator(e.key,n.key)}}class che{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new Pe(Rt.ds)}checkEmpty(e){return w.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,r,i){const s=this.vs;this.vs++;const o=new jT(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Rs=this.Rs.add(new Rt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return w.resolve(o)}lookupMutationBatch(e,n){return w.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const i=this.bs(n+1),s=i<0?0:i;return w.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return w.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return w.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Rt(n,0),i=new Rt(n,Number.POSITIVE_INFINITY),s=[];return this.Rs.forEachInRange([r,i],o=>{const a=this.Ps(o.As);s.push(a)}),w.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Pe(J);return n.forEach(i=>{const s=new Rt(i,0),o=new Rt(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([s,o],a=>{r=r.add(a.As)})}),w.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;x.isDocumentKey(s)||(s=s.child(""));const o=new Rt(new x(s),0);let a=new Pe(J);return this.Rs.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(u.As)),!0)},o),w.resolve(this.Vs(a))}Vs(e){const n=[];return e.forEach(r=>{const i=this.Ps(r);null!==i&&n.push(i)}),n}removeMutationBatch(e,n){U(0===this.Ss(n.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return w.forEach(n.mutations,i=>{const s=new Rt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,n){const r=new Rt(n,0),i=this.Rs.firstAfterOrEqual(r);return w.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return w.resolve()}Ss(e,n){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class lhe{constructor(e){this.Ds=e,this.docs=new xe(x.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Ds(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return w.resolve(r?r.document.mutableCopy():Oe.newInvalidDocument(n))}getEntries(e,n){let r=Nn();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Oe.newInvalidDocument(i))}),w.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Nn();const o=n.path,a=new x(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:c,value:{document:l}}=u.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||bT(cB(l),r)<=0||(i.has(l.key)||nd(n,l))&&(s=s.insert(l.key,l.mutableCopy()))}return w.resolve(s)}getAllFromCollectionGroup(e,n,r,i){F()}Cs(e,n){return w.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new dhe(this)}getSize(e){return w.resolve(this.size)}}class dhe extends rhe{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),w.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}class hhe{constructor(e){this.persistence=e,this.xs=new Li(n=>Co(n),ed),this.lastRemoteSnapshotVersion=B.min(),this.highestTargetId=0,this.Ns=0,this.ks=new o0,this.targetCount=0,this.Ms=ko.kn()}forEachTarget(e,n){return this.xs.forEach((r,i)=>n(i)),w.resolve()}getLastRemoteSnapshotVersion(e){return w.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return w.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),w.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Ns&&(this.Ns=n),w.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new ko(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,w.resolve()}updateTargetData(e,n){return this.Fn(n),w.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,w.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.xs.forEach((o,a)=>{a.sequenceNumber<=n&&null===r.get(a.targetId)&&(this.xs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),w.waitFor(s).next(()=>i)}getTargetCount(e){return w.resolve(this.targetCount)}getTargetData(e,n){const r=this.xs.get(n)||null;return w.resolve(r)}addMatchingKeys(e,n,r){return this.ks.gs(n,r),w.resolve()}removeMatchingKeys(e,n,r){this.ks.ps(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),w.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),w.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ks.Es(n);return w.resolve(r)}containsKey(e,n){return w.resolve(this.ks.containsKey(n))}}class a0{constructor(e,n){this.$s={},this.overlays={},this.Os=new Wn(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new hhe(this),this.indexManager=new Xde,this.remoteDocumentCache=new lhe(r=>this.referenceDelegate.Ls(r)),this.serializer=new M$(n),this.qs=new ahe(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new uhe,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.$s[e.toKey()];return r||(r=new che(n,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,r){S("MemoryPersistence","Starting transaction:",e);const i=new fhe(this.Os.next());return this.referenceDelegate.Us(),r(i).next(s=>this.referenceDelegate.Ks(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gs(e,n){return w.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,n)))}}class fhe extends Ple{constructor(e){super(),this.currentSequenceNumber=e}}class Hg{constructor(e){this.persistence=e,this.Qs=new o0,this.js=null}static zs(e){return new Hg(e)}get Ws(){if(this.js)return this.js;throw F()}addReference(e,n,r){return this.Qs.addReference(r,n),this.Ws.delete(r.toString()),w.resolve()}removeReference(e,n,r){return this.Qs.removeReference(r,n),this.Ws.add(r.toString()),w.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),w.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Ws.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return w.forEach(this.Ws,r=>{const i=x.fromPath(r);return this.Hs(e,i).next(s=>{s||n.removeEntry(i,B.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(r=>{r?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return w.or([()=>w.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}class d0{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Fi=r,this.Bi=i}static Li(e,n){let r=oe(),i=oe();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new d0(e,n.fromCache,r,i)}}class rj{constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,r,i){return this.Ki(e,n).next(s=>s||this.Gi(e,n,i,r)).next(s=>s||this.Qi(e,n))}Ki(e,n){if(jB(n))return w.resolve(null);let r=pn(n);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==n.limit&&1===i&&(n=xg(n,null,"F"),r=pn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=oe(...s);return this.Ui.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.ji(n,a);return this.zi(n,c,o,u.readTime)?this.Ki(e,xg(n,null,"F")):this.Wi(e,c,n,u)}))})))}Gi(e,n,r,i){return jB(n)||i.isEqual(B.min())?this.Qi(e,n):this.Ui.getDocuments(e,r).next(s=>{const o=this.ji(n,s);return this.zi(n,o,r,i)?this.Qi(e,n):(ET()<=Y.DEBUG&&S("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),VT(n)),this.Wi(e,o,n,function uB(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=B.fromTimestamp(1e9===r?new qe(n+1,0):new qe(n,r));return new qn(i,x.empty(),e)}(i,-1)))})}ji(e,n){let r=new Pe(zB(e));return n.forEach((i,s)=>{nd(e,s)&&(r=r.add(s))}),r}zi(e,n,r,i){if(null===e.limit)return!1;if(r.size!==n.size)return!0;const s="F"===e.limitType?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Qi(e,n){return ET()<=Y.DEBUG&&S("QueryEngine","Using full collection scan to execute query:",VT(n)),this.Ui.getDocumentsMatchingQuery(e,n,qn.min())}Wi(e,n,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}class ghe{constructor(e,n,r,i){this.persistence=e,this.Hi=n,this.serializer=i,this.Ji=new xe(J),this.Yi=new Li(s=>Co(s),ed),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new tj(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function sj(t,e){return h0.apply(this,arguments)}function h0(){return h0=g(function*(t,e){const n=R(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.tr(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let u=oe();for(const c of i){o.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}for(const c of s){a.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}return n.localDocuments.getDocuments(r,u).next(c=>({er:c,removedBatchIds:o,addedBatchIds:a}))})})}),h0.apply(this,arguments)}function oj(t){const e=R(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function Iu(t,e,n){return f0.apply(this,arguments)}function f0(){return f0=g(function*(t,e,n){const r=R(t),i=r.Ji.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!fs(o))throw o;S("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}),f0.apply(this,arguments)}function qg(t,e,n){const r=R(t);let i=B.min(),s=oe();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,u,c){const l=R(a),d=l.Yi.get(c);return void 0!==d?w.resolve(l.Ji.get(d)):l.Bs.getTargetData(u,c)}(r,o,pn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.Hi.getDocumentsMatchingQuery(o,e,n?i:B.min(),n?s:oe())).next(a=>(function lj(t,e,n){let r=t.Xi.get(e)||B.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Xi.set(e,r)}(r,function GB(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}(e),a),{documents:a,ir:s})))}class _0{constructor(){this.activeTargetIds=function UT(){return vde}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class fj{constructor(){this.Hr=new _0,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,r){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new _0,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Ihe{Yr(e){}shutdown(){}}class pj{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){S("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){S("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Qg=null;function w0(){return null===Qg?Qg=268435456+Math.round(2147483648*Math.random()):Qg++,"0x"+Qg.toString(16)}const Ehe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Dhe{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const nn="WebChannelConnection";class Che extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,r,i,s){const o=w0(),a=this.To(e,n);S("RestConnection",`Sending RPC '${e}' ${o}:`,a,r);const u={};return this.Eo(u,i,s),this.Ao(e,a,u,r).then(c=>(S("RestConnection",`Received RPC '${e}' ${o}: `,c),c),c=>{throw Er("RestConnection",`RPC '${e}' ${o} failed with error: `,c,"url: ",a,"request:",r),c})}vo(e,n,r,i,s,o){return this.Io(e,n,r,i,s)}Eo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+su,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}To(e,n){return`${this.mo}/v1/${n}:${Ehe[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,r,i){const s=w0();return new Promise((o,a)=>{const u=new Ele;u.setWithCredentials(!0),u.listenOnce(vle.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case IT.NO_ERROR:const l=u.getResponseJson();S(nn,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(l)),o(l);break;case IT.TIMEOUT:S(nn,`RPC '${e}' ${s} timed out`),a(new C(I.DEADLINE_EXCEEDED,"Request time out"));break;case IT.HTTP_ERROR:const d=u.getStatus();if(S(nn,`RPC '${e}' ${s} failed with status:`,d,"response text:",u.getResponseText()),d>0){let h=u.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=h?.error;if(f&&f.status&&f.message){const p=function(m){const y=m.toLowerCase().replace(/_/g,"-");return Object.values(I).indexOf(y)>=0?y:I.UNKNOWN}(f.status);a(new C(p,f.message))}else a(new C(I.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new C(I.UNAVAILABLE,"Connection failed."));break;default:F()}}finally{S(nn,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);S(nn,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",c,r,15)})}Ro(e,n,r){const i=w0(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=yle(),a=_le(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;void 0!==c&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.xmlHttpFactory=new Ile({})),this.Eo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const l=s.join("");S(nn,`Creating RPC '${e}' stream ${i}: ${l}`,u);const d=o.createWebChannel(l,u);let h=!1,f=!1;const p=new Dhe({ro:y=>{f?S(nn,`Not sending because RPC '${e}' stream ${i} is closed:`,y):(h||(S(nn,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),S(nn,`RPC '${e}' stream ${i} sending:`,y),d.send(y))},oo:()=>d.close()}),m=(y,v,_)=>{y.listen(v,E=>{try{_(E)}catch(A){setTimeout(()=>{throw A},0)}})};return m(d,mg.EventType.OPEN,()=>{f||S(nn,`RPC '${e}' stream ${i} transport opened.`)}),m(d,mg.EventType.CLOSE,()=>{f||(f=!0,S(nn,`RPC '${e}' stream ${i} transport closed`),p.wo())}),m(d,mg.EventType.ERROR,y=>{f||(f=!0,Er(nn,`RPC '${e}' stream ${i} transport errored:`,y),p.wo(new C(I.UNAVAILABLE,"The operation could not be completed")))}),m(d,mg.EventType.MESSAGE,y=>{var v;if(!f){const _=y.data[0];U(!!_);const A=_.error||(null===(v=_[0])||void 0===v?void 0:v.error);if(A){S(nn,`RPC '${e}' stream ${i} received error:`,A);const O=A.status;let K=function(mn){const ni=dt[mn];if(void 0!==ni)return c$(ni)}(O),Ue=A.message;void 0===K&&(K=I.INTERNAL,Ue="Unknown error status: "+O+" with message "+A.message),f=!0,p.wo(new C(K,Ue)),d.close()}else S(nn,`RPC '${e}' stream ${i} received:`,_),p._o(_)}}),m(a,wle.STAT_EVENT,y=>{y.stat===nB.PROXY?S(nn,`RPC '${e}' stream ${i} detected buffering proxy`):y.stat===nB.NOPROXY&&S(nn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.fo()},0),p}}function Yg(){return typeof document<"u"?document:null}function Id(t){return new kde(t,!0)}class I0{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ii=e,this.timerId=n,this.Po=r,this.bo=i,this.Vo=s,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,n-r);i>0&&S("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class bhe{constructor(e,n,r,i,s,o,a,u){this.ii=e,this.$o=r,this.Oo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new I0(e,n)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return g(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return g(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,n){var r=this;return g(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():n&&n.code===I.RESOURCE_EXHAUSTED?(nt(n.toString()),nt("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):n&&n.code===I.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(n)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===n&&this.Zo(r,i)},r=>{e(()=>{const i=new C(I.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,n){const r=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){var e=this;this.state=5,this.qo.No(g(function*(){e.state=0,e.start()}))}tu(e){return S("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(S("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class The extends bhe{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=function Fde(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(u=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===u?1:"REMOVE"===u?2:"CURRENT"===u?3:"RESET"===u?4:F(),i=e.targetChange.targetIds||[],s=function(u,c){return u.useProto3Json?(U(void 0===c||"string"==typeof c),wt.fromBase64String(c||"")):(U(void 0===c||c instanceof Uint8Array),wt.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const c=void 0===u.code?I.UNKNOWN:c$(u.code);return new C(c,u.message||"")}(o);n=new p$(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=Zr(t,r.document.name),s=it(r.document.updateTime),o=r.document.createTime?it(r.document.createTime):B.min(),a=new Ht({mapValue:{fields:r.document.fields}}),u=Oe.newFoundDocument(i,s,o,a);n=new Pg(r.targetIds||[],r.removedTargetIds||[],u.key,u)}else if("documentDelete"in e){const r=e.documentDelete,i=Zr(t,r.document),s=r.readTime?it(r.readTime):B.min(),o=Oe.newNoDocument(i,s);n=new Pg([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=Zr(t,r.document);n=new Pg([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return F();{const r=e.filter,{count:i=0,unchangedNames:s}=r,o=new Sde(i,s);n=new f$(r.targetId,o)}}var u;return n}(this.serializer,e),r=function(i){if(!("targetChange"in i))return B.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?B.min():s.readTime?it(s.readTime):B.min()}(e);return this.listener.nu(n,r)}su(e){const n={};n.database=dd(this.serializer),n.addTarget=function(i,s){let o;const a=s.target;if(o=Sg(a)?{documents:C$(i,a)}:{query:XT(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=function _$(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}(i,s.resumeToken);const u=WT(i,s.expectedCount);null!==u&&(o.expectedCount=u)}else if(s.snapshotVersion.compareTo(B.min())>0){o.readTime=function mu(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}(i,s.snapshotVersion.toTimestamp());const u=WT(i,s.expectedCount);null!==u&&(o.expectedCount=u)}return o}(this.serializer,e);const r=function Vde(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return F()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.Wo(n)}iu(e){const n={};n.database=dd(this.serializer),n.removeTarget=e,this.Wo(n)}}class Ahe extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new C(I.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Io(e,n,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===I.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new C(I.UNKNOWN,i.toString())})}vo(e,n,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.vo(e,n,r,s,o,i)).catch(s=>{throw"FirebaseError"===s.name?(s.code===I.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new C(I.UNKNOWN,s.toString())})}terminate(){this.lu=!0}}class xhe{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(nt(n),this.mu=!1):S("OnlineStateTracker",n)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class Rhe{constructor(e,n,r,i,s){var o=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=s,this.Pu.Yr(a=>{r.enqueueAndForget(g(function*(){var u;Cs(o)&&(S("RemoteStore","Restarting streams for network reachability change."),yield(u=g(function*(c){const l=R(c);l.vu.add(4),yield Eu(l),l.bu.set("Unknown"),l.vu.delete(4),yield Ed(l)}),function(c){return u.apply(this,arguments)})(o))}))}),this.bu=new xhe(r,i)}}function Ed(t){return D0.apply(this,arguments)}function D0(){return D0=g(function*(t){if(Cs(t))for(const e of t.Ru)yield e(!0)}),D0.apply(this,arguments)}function Eu(t){return C0.apply(this,arguments)}function C0(){return C0=g(function*(t){for(const e of t.Ru)yield e(!1)}),C0.apply(this,arguments)}function Xg(t,e){const n=R(t);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),S0(n)?T0(n):Cu(n).Ko()&&b0(n,e))}function Dd(t,e){const n=R(t),r=Cu(n);n.Au.delete(e),r.Ko()&&mj(n,e),0===n.Au.size&&(r.Ko()?r.jo():Cs(n)&&n.bu.set("Unknown"))}function b0(t,e){if(t.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(B.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Cu(t).su(e)}function mj(t,e){t.Vu.qt(e),Cu(t).iu(e)}function T0(t){t.Vu=new Mde({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),le:e=>t.Au.get(e)||null,ue:()=>t.datastore.serializer.databaseId}),Cu(t).start(),t.bu.gu()}function S0(t){return Cs(t)&&!Cu(t).Uo()&&t.Au.size>0}function Cs(t){return 0===R(t).vu.size}function yj(t){t.Vu=void 0}function Nhe(t){return A0.apply(this,arguments)}function A0(){return A0=g(function*(t){t.Au.forEach((e,n)=>{b0(t,e)})}),A0.apply(this,arguments)}function khe(t,e){return M0.apply(this,arguments)}function M0(){return M0=g(function*(t,e){yj(t),S0(t)?(t.bu.Iu(e),T0(t)):t.bu.set("Unknown")}),M0.apply(this,arguments)}function Phe(t,e,n){return x0.apply(this,arguments)}function x0(){return x0=g(function*(t,e,n){if(t.bu.set("Online"),e instanceof p$&&2===e.state&&e.cause)try{yield(r=g(function*(i,s){const o=s.cause;for(const a of s.targetIds)i.Au.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.Au.delete(a),i.Vu.removeTarget(a))}),function(i,s){return r.apply(this,arguments)})(t,e)}catch(r){S("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Jg(t,r)}else if(e instanceof Pg?t.Vu.Ht(e):e instanceof f$?t.Vu.ne(e):t.Vu.Xt(e),!n.isEqual(B.min()))try{const r=yield oj(t.localStore);n.compareTo(r)>=0&&(yield function(i,s){const o=i.Vu.ce(s);return o.targetChanges.forEach((a,u)=>{if(a.resumeToken.approximateByteSize()>0){const c=i.Au.get(u);c&&i.Au.set(u,c.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach((a,u)=>{const c=i.Au.get(a);if(!c)return;i.Au.set(a,c.withResumeToken(wt.EMPTY_BYTE_STRING,c.snapshotVersion)),mj(i,a);const l=new Ui(c.target,a,u,c.sequenceNumber);b0(i,l)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n))}catch(r){S("RemoteStore","Failed to raise snapshot:",r),yield Jg(t,r)}var r}),x0.apply(this,arguments)}function Jg(t,e,n){return R0.apply(this,arguments)}function R0(){return R0=g(function*(t,e,n){if(!fs(e))throw e;t.vu.add(1),yield Eu(t),t.bu.set("Offline"),n||(n=()=>oj(t.localStore)),t.asyncQueue.enqueueRetryable(g(function*(){S("RemoteStore","Retrying IndexedDB access"),yield n(),t.vu.delete(1),yield Ed(t)}))}),R0.apply(this,arguments)}function Ij(t,e){return L0.apply(this,arguments)}function L0(){return L0=g(function*(t,e){const n=R(t);n.asyncQueue.verifyOperationInProgress(),S("RemoteStore","RemoteStore received new credentials");const r=Cs(n);n.vu.add(3),yield Eu(n),r&&n.bu.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),yield Ed(n)}),L0.apply(this,arguments)}function U0(){return U0=g(function*(t,e){const n=R(t);e?(n.vu.delete(2),yield Ed(n)):e||(n.vu.add(2),yield Eu(n),n.bu.set("Unknown"))}),U0.apply(this,arguments)}function Cu(t){return t.Su||(t.Su=function(e,n,r){const i=R(e);return i.fu(),new The(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:Nhe.bind(null,t),ao:khe.bind(null,t),nu:Phe.bind(null,t)}),t.Ru.push(function(){var e=g(function*(n){n?(t.Su.Qo(),S0(t)?T0(t):t.bu.set("Unknown")):(yield t.Su.stop(),yj(t))});return function(n){return e.apply(this,arguments)}}())),t.Su}class B0{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new vt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new B0(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new C(I.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function bu(t,e){if(nt("AsyncQueue",`${e}: ${t}`),fs(t))return new C(I.UNAVAILABLE,`${e}: ${t}`);throw t}class Tu{constructor(e){this.comparator=e?(n,r)=>e(n,r)||x.comparator(n.key,r.key):(n,r)=>x.comparator(n.key,r.key),this.keyedMap=rd(),this.sortedSet=new xe(this.comparator)}static emptySet(e){return new Tu(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Tu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new Tu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class Ej{constructor(){this.Cu=new xe(x.comparator)}track(e){const n=e.doc.key,r=this.Cu.get(n);r?0!==e.type&&3===r.type?this.Cu=this.Cu.insert(n,e):3===e.type&&1!==r.type?this.Cu=this.Cu.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Cu=this.Cu.remove(n):1===e.type&&2===r.type?this.Cu=this.Cu.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):F():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,r)=>{e.push(r)}),e}}class Su{constructor(e,n,r,i,s,o,a,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Su(e,n,Tu.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&td(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class $he{constructor(){this.Nu=void 0,this.listeners=[]}}class jhe{constructor(){this.queries=new Li(e=>HB(e),td),this.onlineState="Unknown",this.ku=new Set}}function j0(){return j0=g(function*(t,e){const n=R(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new $he),i)try{s.Nu=yield n.onListen(r)}catch(o){const a=bu(o,`Initialization of query '${VT(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.Mu(n.onlineState),s.Nu&&e.$u(s.Nu)&&z0(n)}),j0.apply(this,arguments)}function G0(){return G0=g(function*(t,e){const n=R(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}),G0.apply(this,arguments)}function Hhe(t,e){const n=R(t);let r=!1;for(const i of e){const o=n.queries.get(i.query);if(o){for(const a of o.listeners)a.$u(i)&&(r=!0);o.Nu=i}}r&&z0(n)}function Ghe(t,e,n){const r=R(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function z0(t){t.ku.forEach(e=>{e.next()})}class q0{constructor(e,n,r){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Su(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){return!e.fromCache||(!this.options.Ku||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=Su.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class bj{constructor(e){this.key=e}}class Tj{constructor(e){this.key=e}}class Sj{constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=oe(),this.mutatedKeys=oe(),this.tc=zB(e),this.ec=new Tu(this.tc)}get nc(){return this.Yu}sc(e,n){const r=n?n.ic:new Ej,i=n?n.ec:this.ec;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((l,d)=>{const h=i.get(l),f=nd(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),m=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let y=!1;h&&f?h.data.isEqual(f.data)?p!==m&&(r.track({type:3,doc:f}),y=!0):this.rc(h,f)||(r.track({type:2,doc:f}),y=!0,(u&&this.tc(f,u)>0||c&&this.tc(f,c)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),y=!0):h&&!f&&(r.track({type:1,doc:h}),y=!0,(u||c)&&(a=!0)),y&&(f?(o=o.add(f),s=m?s.add(l):s.delete(l)):(o=o.delete(l),s=s.delete(l)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{ec:o,ic:r,zi:a,mutatedKeys:s}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const s=e.ic.xu();s.sort((c,l)=>function(d,h){const f=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return F()}};return f(d)-f(h)}(c.type,l.type)||this.tc(c.doc,l.doc)),this.oc(r);const o=n?this.uc():[],a=0===this.Zu.size&&this.current?1:0,u=a!==this.Xu;return this.Xu=a,0!==s.length||u?{snapshot:new Su(this.query,e.ec,i,s,e.mutatedKeys,0===a,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:o}:{cc:o}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new Ej,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=oe(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const n=[];return e.forEach(r=>{this.Zu.has(r)||n.push(new Tj(r))}),this.Zu.forEach(r=>{e.has(r)||n.push(new bj(r))}),n}hc(e){this.Yu=e.ir,this.Zu=oe();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return Su.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class Whe{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Khe{constructor(e){this.key=e,this.fc=!1}}class Qhe{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new Li(a=>HB(a),td),this._c=new Map,this.mc=new Set,this.gc=new xe(x.comparator),this.yc=new Map,this.Ic=new o0,this.Tc={},this.Ec=new Map,this.Ac=ko.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function Yhe(t,e){return W0.apply(this,arguments)}function W0(){return W0=g(function*(t,e){const n=function mS(t){const e=R(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Aj.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=sfe.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Zhe.bind(null,e),e.dc.nu=Hhe.bind(null,e.eventManager),e.dc.Pc=Ghe.bind(null,e.eventManager),e}(t);let r,i;const s=n.wc.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.lc();else{const o=yield function wu(t,e){const n=R(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Bs.getTargetData(r,e).next(s=>s?(i=s,w.resolve(i)):n.Bs.allocateTargetId(r).next(o=>(i=new Ui(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ji.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(r.targetId,r),n.Yi.set(e,r.targetId)),r})}(n.localStore,pn(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield function K0(t,e,n,r,i){return Q0.apply(this,arguments)}(n,e,r,"current"===a,o.resumeToken),n.isPrimaryClient&&Xg(n.remoteStore,o)}return i}),W0.apply(this,arguments)}function Q0(){return Q0=g(function*(t,e,n,r,i){t.Rc=(d,h,f)=>{return(p=g(function*(m,y,v,_){let E=y.view.sc(v);E.zi&&(E=yield qg(m.localStore,y.query,!1).then(({documents:K})=>y.view.sc(K,E)));const A=_&&_.targetChanges.get(y.targetId),O=y.view.applyChanges(E,m.isPrimaryClient,A);return sS(m,y.targetId,O.cc),O.snapshot}),function(m,y,v,_){return p.apply(this,arguments)})(t,d,h,f);var p};const s=yield qg(t.localStore,e,!0),o=new Sj(e,s.ir),a=o.sc(s.documents),u=cd.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState,i),c=o.applyChanges(a,t.isPrimaryClient,u);sS(t,n,c.cc);const l=new Whe(e,n,o);return t.wc.set(e,l),t._c.has(n)?t._c.get(n).push(e):t._c.set(n,[e]),c.snapshot}),Q0.apply(this,arguments)}function Xhe(t,e){return Y0.apply(this,arguments)}function Y0(){return Y0=g(function*(t,e){const n=R(t),r=n.wc.get(e),i=n._c.get(r.targetId);if(i.length>1)return n._c.set(r.targetId,i.filter(s=>!td(s,e))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Iu(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),Dd(n.remoteStore,r.targetId),Au(n,r.targetId)}).catch(hs))):(Au(n,r.targetId),yield Iu(n.localStore,r.targetId,!0))}),Y0.apply(this,arguments)}function Aj(t,e){return J0.apply(this,arguments)}function J0(){return J0=g(function*(t,e){const n=R(t);try{const r=yield function yhe(t,e){const n=R(t),r=e.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const a=[];e.targetChanges.forEach((l,d)=>{const h=i.get(d);if(!h)return;a.push(n.Bs.removeMatchingKeys(s,l.removedDocuments,d).next(()=>n.Bs.addMatchingKeys(s,l.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);var p,m,y;null!==e.targetMismatches.get(d)?f=f.withResumeToken(wt.EMPTY_BYTE_STRING,B.min()).withLastLimboFreeSnapshotVersion(B.min()):l.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(l.resumeToken,r)),i=i.insert(d,f),m=f,y=l,(0===(p=h).resumeToken.approximateByteSize()||m.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8||y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0)&&a.push(n.Bs.updateTargetData(s,f))});let u=Nn(),c=oe();if(e.documentUpdates.forEach(l=>{e.resolvedLimboDocuments.has(l)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,l))}),a.push(function aj(t,e,n){let r=oe(),i=oe();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Nn();return n.forEach((a,u)=>{const c=s.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(B.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||0===u.version.compareTo(c.version)&&c.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):S("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{nr:o,sr:i}})}(s,o,e.documentUpdates).next(l=>{u=l.nr,c=l.sr})),!r.isEqual(B.min())){const l=n.Bs.getLastRemoteSnapshotVersion(s).next(d=>n.Bs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(l)}return w.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,c)).next(()=>u)}).then(s=>(n.Ji=i,s))}(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.yc.get(s);o&&(U(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.fc=!0:i.modifiedDocuments.size>0?U(o.fc):i.removedDocuments.size>0&&(U(o.fc),o.fc=!1))}),yield Bi(n,r,e)}catch(r){yield hs(r)}}),J0.apply(this,arguments)}function Mj(t,e,n){const r=R(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const i=[];r.wc.forEach((s,o)=>{const a=o.view.Mu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=R(s);a.onlineState=o;let u=!1;a.queries.forEach((c,l)=>{for(const d of l.listeners)d.Mu(o)&&(u=!0)}),u&&z0(a)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Zhe(t,e,n){return Z0.apply(this,arguments)}function Z0(){return Z0=g(function*(t,e,n){const r=R(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.yc.get(e),s=i&&i.key;if(s){let o=new xe(x.comparator);o=o.insert(s,Oe.newNoDocument(s,B.min()));const a=oe().add(s),u=new ud(B.min(),new Map,new xe(J),o,a);yield Aj(r,u),r.gc=r.gc.remove(s),r.yc.delete(e),oS(r)}else yield Iu(r.localStore,e,!1).then(()=>Au(r,e,n)).catch(hs)}),Z0.apply(this,arguments)}function Au(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t._c.get(e))t.wc.delete(r),n&&t.dc.Pc(r,n);t._c.delete(e),t.isPrimaryClient&&t.Ic.Is(e).forEach(r=>{t.Ic.containsKey(r)||xj(t,r)})}function xj(t,e){t.mc.delete(e.path.canonicalString());const n=t.gc.get(e);null!==n&&(Dd(t.remoteStore,n),t.gc=t.gc.remove(e),t.yc.delete(n),oS(t))}function sS(t,e,n){for(const r of n)r instanceof bj?(t.Ic.addReference(r.key,e),rfe(t,r)):r instanceof Tj?(S("SyncEngine","Document no longer in limbo: "+r.key),t.Ic.removeReference(r.key,e),t.Ic.containsKey(r.key)||xj(t,r.key)):F()}function rfe(t,e){const n=e.key,r=n.path.canonicalString();t.gc.get(n)||t.mc.has(r)||(S("SyncEngine","New document in limbo: "+n),t.mc.add(r),oS(t))}function oS(t){for(;t.mc.size>0&&t.gc.size<t.maxConcurrentLimboResolutions;){const e=t.mc.values().next().value;t.mc.delete(e);const n=new x(fe.fromString(e)),r=t.Ac.next();t.yc.set(r,new Khe(n)),t.gc=t.gc.insert(n,r),Xg(t.remoteStore,new Ui(pn(du(n.path)),r,"TargetPurposeLimboResolution",Wn.ct))}}function Bi(t,e,n){return aS.apply(this,arguments)}function aS(){return aS=g(function*(t,e,n){const r=R(t),i=[],s=[],o=[];var a;r.wc.isEmpty()||(r.wc.forEach((a,u)=>{o.push(r.Rc(u,e,n).then(c=>{if((c||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,c?.fromCache?"not-current":"current"),c){i.push(c);const l=d0.Li(u.targetId,c);s.push(l)}}))}),yield Promise.all(o),r.dc.nu(i),yield(a=g(function*(u,c){const l=R(u);try{yield l.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>w.forEach(c,h=>w.forEach(h.Fi,f=>l.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>w.forEach(h.Bi,f=>l.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!fs(d))throw d;S("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const h=d.targetId;if(!d.fromCache){const f=l.Ji.get(h),m=f.withLastLimboFreeSnapshotVersion(f.snapshotVersion);l.Ji=l.Ji.insert(h,m)}}}),function(u,c){return a.apply(this,arguments)})(r.localStore,s))}),aS.apply(this,arguments)}function ife(t,e){return uS.apply(this,arguments)}function uS(){return uS=g(function*(t,e){const n=R(t);if(!n.currentUser.isEqual(e)){S("SyncEngine","User change. New user:",e.toKey());const r=yield sj(n.localStore,e);n.currentUser=e,(i=n).Ec.forEach(o=>{o.forEach(a=>{a.reject(new C(I.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.Ec.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Bi(n,r.er)}var i}),uS.apply(this,arguments)}function sfe(t,e){const n=R(t),r=n.yc.get(e);if(r&&r.fc)return oe().add(r.key);{let i=oe();const s=n._c.get(e);if(!s)return i;for(const o of s){const a=n.wc.get(o);i=i.unionWith(a.view.nc)}return i}}class Zg{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return g(function*(){n.serializer=Id(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return function ij(t,e,n,r){return new ghe(t,e,n,r)}(this.persistence,new rj,e.initialUser,this.serializer)}createPersistence(e){return new a0(Hg.zs,this.serializer)}createSharedClientState(e){return new fj}terminate(){var e=this;return g(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Mu{initialize(e,n){var r=this;return g(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(n),r.remoteStore=r.createRemoteStore(n),r.eventManager=r.createEventManager(n),r.syncEngine=r.createSyncEngine(n,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>Mj(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=ife.bind(null,r.syncEngine),yield function V0(t,e){return U0.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new jhe}createDatastore(e){const n=Id(e.databaseInfo.databaseId),r=new Che(e.databaseInfo);return new Ahe(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>Mj(this.syncEngine,a,0),o=pj.D()?new pj:new Ihe,new Rhe(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,a,u,c){const l=new Qhe(r,i,s,o,a,u);return c&&(l.vc=!0),l}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=g(function*(n){const r=R(n);S("RemoteStore","RemoteStore shutting down."),r.vu.add(5),yield Eu(r),r.Pu.shutdown(),r.bu.set("Unknown")}),function(n){return e.apply(this,arguments)})(this.remoteStore);var e}}class em{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):nt("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class _fe{constructor(e,n,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Mt.UNAUTHENTICATED,this.clientId=oB.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=g(function*(a){S("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(S("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return g(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new C(I.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new vt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(g(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const i=bu(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}function tm(t,e){return _S.apply(this,arguments)}function _S(){return _S=g(function*(t,e){t.asyncQueue.verifyOperationInProgress(),S("FirestoreClient","Initializing OfflineComponentProvider");const n=yield t.getConfiguration();yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(function(){var i=g(function*(s){r.isEqual(s)||(yield sj(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}),_S.apply(this,arguments)}function vS(t,e){return wS.apply(this,arguments)}function wS(){return wS=g(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield function IS(t){return ES.apply(this,arguments)}(t);S("FirestoreClient","Initializing OnlineComponentProvider");const r=yield t.getConfiguration();yield e.initialize(n,r),t.setCredentialChangeListener(i=>Ij(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>Ij(e.remoteStore,s)),t._onlineComponents=e}),wS.apply(this,arguments)}function ES(){return ES=g(function*(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){S("FirestoreClient","Using user provided OfflineComponentProvider");try{yield tm(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function Fj(t){return"FirebaseError"===t.name?t.code===I.FAILED_PRECONDITION||t.code===I.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(n))throw n;Er("Error using user provided cache. Falling back to memory cache: "+n),yield tm(t,new Zg)}}else S("FirestoreClient","Using default OfflineComponentProvider"),yield tm(t,new Zg);return t._offlineComponents}),ES.apply(this,arguments)}function DS(){return DS=g(function*(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(S("FirestoreClient","Using user provided OnlineComponentProvider"),yield vS(t,t._uninitializedComponentsProvider._online)):(S("FirestoreClient","Using default OnlineComponentProvider"),yield vS(t,new Mu))),t._onlineComponents}),DS.apply(this,arguments)}function xu(t){return bS.apply(this,arguments)}function bS(){return bS=g(function*(t){const e=yield function nm(t){return DS.apply(this,arguments)}(t),n=e.eventManager;return n.onListen=Yhe.bind(null,e.syncEngine),n.onUnlisten=Xhe.bind(null,e.syncEngine),n}),bS.apply(this,arguments)}function jj(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e}const Hj=new Map;function zj(t){if(x.isDocumentKey(t))throw new C(I.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function de(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new C(I.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=function im(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(n=t).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof t?"a function":F()}(t);throw new C(I.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}class Wj{constructor(e){var n,r;if(void 0===e.host){if(void 0!==e.ssl)throw new C(I.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new C(I.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function Sfe(t,e,n,r){if(!0===e&&!0===r)throw new C(I.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=jj(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(i){if(void 0!==i.timeoutSeconds){if(isNaN(i.timeoutSeconds))throw new C(I.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new C(I.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new C(I.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Cd{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Wj({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new C(I.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new C(I.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Wj(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new Cle;switch(n.type){case"firstParty":return new Ale(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new C(I.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=Hj.get(e);n&&(S("ComponentProvider","Removing Datastore"),Hj.delete(e),n.terminate())}(this),Promise.resolve()}}class st{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ei(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new st(this.firestore,e,this._key)}}class Gt{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Gt(this.firestore,e,this._query)}}class ei extends Gt{constructor(e,n,r){super(e,n,du(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new st(this.firestore,null,new x(e))}withConverter(e){return new ei(this.firestore,e,this._path)}}function Mfe(t,e,...n){if(t=yr(t),function TS(t,e,n){if(!n)throw new C(I.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}("collection","path",e),t instanceof Cd){const r=fe.fromString(e,...n);return zj(r),new ei(t,null,r)}{if(!(t instanceof st||t instanceof ei))throw new C(I.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(fe.fromString(e,...n));return zj(r),new ei(t.firestore,null,r)}}class Rfe{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new I0(this,"async_queue_retry"),this.Xc=()=>{const n=Yg();n&&S("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=Yg();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=Yg();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new vt;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return g(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(n){if(!fs(n))throw n;S("AsyncQueue","Operation failed with retryable error: "+n)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,nt("INTERNAL UNHANDLED ERROR: ",function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),o}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=n,n}enqueueAfterDelay(e,n,r){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const i=B0.createAndSchedule(this,e,n,r,s=>this.na(s));return this.zc.push(i),i}Zc(){this.Wc&&F()}verifyOperationInProgress(){}sa(){var e=this;return g(function*(){let n;do{n=e.Gc,yield n}while(n!==e.Gc)})()}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}function SS(t){return function(e,n){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(t)}class Fe extends Cd{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Rfe,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||Qj(this),this._firestoreClient.terminate()}}function kfe(t,e){const r="string"==typeof t?t:e||"(default)",i=ro("object"==typeof t?t:rp(),"firestore").getImmediate({identifier:r});if(!i._initialized){const s=uF("firestore");s&&function Afe(t,e,n,r={}){var i;const s=(t=de(t,Cd))._getSettings();if("firestore.googleapis.com"!==s.host&&s.host!==e&&Er("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},s),{host:`${e}:${n}`,ssl:!1})),r.mockUserToken){let o,a;if("string"==typeof r.mockUserToken)o=r.mockUserToken,a=Mt.MOCK_USER;else{o=dF(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new C(I.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new Mt(u)}t._authCredentials=new ble(new iB(o,a))}}(i,...s)}return i}function Qj(t){var e,n,r;const i=t._freezeSettings(),s=(a=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new ide(t._databaseId,a,t._persistenceKey,(c=i).host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,jj(c.experimentalLongPollingOptions),c.useFetchStreams));var a,c;t._firestoreClient=new _fe(t._authCredentials,t._appCheckCredentials,t._queue,s),null!==(n=i.cache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=i.cache)&&void 0!==r&&r._onlineComponentProvider&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}class Oo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Oo(wt.fromBase64String(e))}catch(n){throw new C(I.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Oo(wt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Ru{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new C(I.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new rt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class AS{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new C(I.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new C(I.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return J(this._lat,e._lat)||J(this._long,e._long)}}const $fe=new RegExp("[~\\*/\\[\\]]");function am(t,e,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new C(I.INVALID_ARGUMENT,a+t+u)}class NS{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new st(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new jfe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(um("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class jfe extends NS{data(){return super.data()}}function um(t,e){return"string"==typeof e?function om(t,e,n){if(e.search($fe)>=0)throw am(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ru(...e.split("."))._internalPath}catch{throw am(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}(t,e):e instanceof Ru?e._internalPath:e._delegate._internalPath}class Gfe{convertValue(e,n="none"){switch(ys(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ze(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Oi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw F()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ps(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new AS(Ze(e.latitude),Ze(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Dg(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Yl(e));default:return null}}convertTimestamp(e){const n=gs(e);return new qe(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=fe.fromString(e);U(A$(r));const i=new Eo(r.get(1),r.get(3)),s=new x(r.popFirst(5));return i.isEqual(n)||nt(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}class Lo{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Pu extends NS{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new hm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(um("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class hm extends Pu{data(e={}){return super.data(e)}}class Ou{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Lo(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new hm(this._firestore,this._userDataWriter,r.key,r,new Lo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new C(I.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>({type:"added",doc:new hm(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Lo(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||3!==o.type).map(o=>{const a=new hm(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Lo(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let u=-1,c=-1;return 0!==o.type&&(u=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),1!==o.type&&(s=s.add(o.doc),c=s.indexOf(o.doc.key)),{type:qfe(o.type),doc:a,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function qfe(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return F()}}class Ts extends Gfe{constructor(e){super(),this.firestore=e}convertBytes(e){return new Oo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new st(this.firestore,null,n)}}!function(t,e=!0){su=ns,Xt(new Lt("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new Fe(new Tle(n.getProvider("auth-internal")),new Mle(n.getProvider("app-check-internal")),function(a,u){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new C(I.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Eo(a.options.projectId,u)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),Ne(rB,"3.12.1",t),Ne(rB,"3.12.1","esm2017")}();var spe={includeMetadataChanges:!1};function FS(t,e){return void 0===e&&(e=spe),new Be(function(n){var r=function Wfe(t,...e){var n,r,i;t=yr(t);let s={includeMetadataChanges:!1},o=0;"object"!=typeof e[o]||SS(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(SS(e[o])){const d=e[o];e[o]=null===(n=d.next)||void 0===n?void 0:n.bind(d),e[o+1]=null===(r=d.error)||void 0===r?void 0:r.bind(d),e[o+2]=null===(i=d.complete)||void 0===i?void 0:i.bind(d)}let u,c,l;if(t instanceof st)c=de(t.firestore,Fe),l=du(t._key.path),u={next:d=>{e[o]&&e[o](function OS(t,e,n){const r=n.docs.get(e._key),i=new Ts(t);return new Pu(t,i,e._key,r,new Lo(n.hasPendingWrites,n.fromCache),e.converter)}(c,t,d))},error:e[o+1],complete:e[o+2]};else{const d=de(t,Gt);c=de(d.firestore,Fe),l=d._query;const h=new Ts(c);u={next:f=>{e[o]&&e[o](new Ou(c,h,d,f))},error:e[o+1],complete:e[o+2]},function uH(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new C(I.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(t._query)}return function(d,h,f,p){const m=new em(p),y=new q0(h,m,f);return d.asyncQueue.enqueueAndForget(g(function*(){return function $0(t,e){return j0.apply(this,arguments)}(yield xu(d),y)})),()=>{m.Dc(),d.asyncQueue.enqueueAndForget(g(function*(){return function H0(t,e){return G0.apply(this,arguments)}(yield xu(d),y)}))}}(function ht(t){return t._firestoreClient||Qj(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}(c),l,a,u)}(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function hpe(t,e){return void 0===e&&(e={}),function dpe(t){return FS(t,{includeMetadataChanges:!0}).pipe(ve(function(e){return e.docs}))}(t).pipe(ve(function(n){return n.map(function(r){return function mH(t,e){void 0===e&&(e={});var n=t.data();return!t.exists()||"object"!=typeof n||null===n||e.idField&&(n[e.idField]=t.id),n}(r,e)})}))}class xd{constructor(e){return e}}const wH="firestore",US=new L("angularfire2.firestore-instances");function gpe(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new xd(r)}}const mpe={provide:class fpe{constructor(){return dp(wH)}},deps:[[new mt,US]]},ype={provide:xd,useFactory:function ppe(t,e){const n=lp(wH,t,e);return n&&new xd(n)},deps:[[new mt,US],lo]};let _pe=(()=>{class t{constructor(){Ne("angularfire",sl.full,"fst")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=sn({type:t}),t.\u0275inj=zt({providers:[ype,mpe]}),t})();function vpe(t,...e){return{ngModule:_pe,providers:[{provide:US,useFactory:gpe(t),multi:!0,deps:[Ee,bn,hp,fp,[new mt,_b],[new mt,Ip],...e]}]}}const IH=za(hpe,!0),EH=za(Mfe,!0),wpe=za(kfe,!0);let DH=(()=>{class t{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}}return t.\u0275fac=function(n){return new(n||t)(T(fi),T(Un))},t.\u0275dir=Q({type:t}),t})(),Vo=(()=>{class t extends DH{}return t.\u0275fac=function(){let e;return function(r){return(e||(e=Ft(t)))(r||t)}}(),t.\u0275dir=Q({type:t,features:[Ie]}),t})();const ti=new L("NgValueAccessor"),Dpe={provide:ti,useExisting:Se(()=>pm),multi:!0},bpe=new L("CompositionEventMode");let pm=(()=>{class t extends DH{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Cpe(){const t=Xi()?Xi().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(n){this.setProperty("value",n??"")}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}}return t.\u0275fac=function(n){return new(n||t)(T(fi),T(Un),T(bpe,8))},t.\u0275dir=Q({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,r){1&n&&jn("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[Le([Dpe]),Ie]}),t})();function Ss(t){return null==t||("string"==typeof t||Array.isArray(t))&&0===t.length}function bH(t){return null!=t&&"number"==typeof t.length}const rn=new L("NgValidators"),As=new L("NgAsyncValidators"),Tpe=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class TH{static min(e){return function SH(t){return e=>{if(Ss(e.value)||Ss(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}(e)}static max(e){return function AH(t){return e=>{if(Ss(e.value)||Ss(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}(e)}static required(e){return function MH(t){return Ss(t.value)?{required:!0}:null}(e)}static requiredTrue(e){return function xH(t){return!0===t.value?null:{required:!0}}(e)}static email(e){return function RH(t){return Ss(t.value)||Tpe.test(t.value)?null:{email:!0}}(e)}static minLength(e){return function NH(t){return e=>Ss(e.value)||!bH(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function kH(t){return e=>bH(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}(e)}static pattern(e){return function PH(t){if(!t)return gm;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(Ss(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return BH(e)}static composeAsync(e){return $H(e)}}function gm(t){return null}function OH(t){return null!=t}function FH(t){return Cc(t)?Et(t):t}function LH(t){let e={};return t.forEach(n=>{e=null!=n?{...e,...n}:e}),0===Object.keys(e).length?null:e}function VH(t,e){return e.map(n=>n(t))}function UH(t){return t.map(e=>function Spe(t){return!t.validate}(e)?e:n=>e.validate(n))}function BH(t){if(!t)return null;const e=t.filter(OH);return 0==e.length?null:function(n){return LH(VH(n,e))}}function BS(t){return null!=t?BH(UH(t)):null}function $H(t){if(!t)return null;const e=t.filter(OH);return 0==e.length?null:function(n){return function Ipe(...t){const e=AA(t),{args:n,keys:r}=XP(t),i=new Be(s=>{const{length:o}=n;if(!o)return void s.complete();const a=new Array(o);let u=o,c=o;for(let l=0;l<o;l++){let d=!1;Kn(n[l]).subscribe(It(s,h=>{d||(d=!0,c--),a[l]=h},()=>u--,void 0,()=>{(!u||!d)&&(c||s.next(r?ZP(r,a):a),s.complete())}))}});return e?i.pipe(JP(e)):i}(VH(n,e).map(FH)).pipe(ve(LH))}}function $S(t){return null!=t?$H(UH(t)):null}function jH(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function HH(t){return t._rawValidators}function GH(t){return t._rawAsyncValidators}function jS(t){return t?Array.isArray(t)?t:[t]:[]}function mm(t,e){return Array.isArray(t)?t.includes(e):t===e}function zH(t,e){const n=jS(e);return jS(t).forEach(i=>{mm(n,i)||n.push(i)}),n}function qH(t,e){return jS(e).filter(n=>!mm(t,n))}class WH{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=BS(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=$S(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return!!this.control&&this.control.hasError(e,n)}getError(e,n){return this.control?this.control.getError(e,n):null}}class gn extends WH{get formDirective(){return null}get path(){return null}}class Ms extends WH{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class KH{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let QH=(()=>{class t extends KH{constructor(n){super(n)}}return t.\u0275fac=function(n){return new(n||t)(T(Ms,2))},t.\u0275dir=Q({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,r){2&n&&tf("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[Ie]}),t})(),YH=(()=>{class t extends KH{constructor(n){super(n)}}return t.\u0275fac=function(n){return new(n||t)(T(gn,10))},t.\u0275dir=Q({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(n,r){2&n&&tf("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[Ie]}),t})();const Rd="VALID",_m="INVALID",Fu="PENDING",Nd="DISABLED";function zS(t){return(vm(t)?t.validators:t)||null}function qS(t,e){return(vm(e)?e.asyncValidators:t)||null}function vm(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}function JH(t,e,n){const r=t.controls;if(!(e?Object.keys(r):r).length)throw new b(1e3,"");if(!r[n])throw new b(1001,"")}function ZH(t,e,n){t._forEachChild((r,i)=>{if(void 0===n[i])throw new b(1002,"")})}class wm{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Rd}get invalid(){return this.status===_m}get pending(){return this.status==Fu}get disabled(){return this.status===Nd}get enabled(){return this.status!==Nd}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(zH(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(zH(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(qH(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(qH(e,this._rawAsyncValidators))}hasValidator(e){return mm(this._rawValidators,e)}hasAsyncValidator(e){return mm(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Fu,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=Nd,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=Rd,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Rd||this.status===Fu)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Nd:Rd}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Fu,this._hasOwnPendingAsyncValidator=!0;const n=FH(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent)}get(e){let n=e;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Qe,this.statusChanges=new Qe}_calculateStatus(){return this._allControlsDisabled()?Nd:this.errors?_m:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Fu)?Fu:this._anyControlsHaveStatus(_m)?_m:Rd}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){vm(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function Rpe(t){return Array.isArray(t)?BS(t):t||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function Npe(t){return Array.isArray(t)?$S(t):t||null}(this._rawAsyncValidators)}}class kd extends wm{constructor(e,n,r){super(zS(n),qS(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){ZH(this,0,e),Object.keys(e).forEach(r=>{JH(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>!!r._syncPendingControls()||n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{const r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class eG extends kd{}const Uo=new L("CallSetDisabledState",{providedIn:"root",factory:()=>Pd}),Pd="always";function Od(t,e,n=Pd){WS(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||"always"===n)&&e.valueAccessor.setDisabledState?.(t.disabled),function Ppe(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&tG(t,e)})}(t,e),function Fpe(t,e){const n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function Ope(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&tG(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function kpe(t,e){if(e.valueAccessor.setDisabledState){const n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function Em(t,e,n=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Cm(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function Dm(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function WS(t,e){const n=HH(t);null!==e.validator?t.setValidators(jH(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=GH(t);null!==e.asyncValidator?t.setAsyncValidators(jH(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();Dm(e._rawValidators,i),Dm(e._rawAsyncValidators,i)}function Cm(t,e){let n=!1;if(null!==t){if(null!==e.validator){const i=HH(t);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.validator);s.length!==i.length&&(n=!0,t.setValidators(s))}}if(null!==e.asyncValidator){const i=GH(t);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.asyncValidator);s.length!==i.length&&(n=!0,t.setAsyncValidators(s))}}}const r=()=>{};return Dm(e._rawValidators,r),Dm(e._rawAsyncValidators,r),n}function tG(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function iG(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function sG(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const Ld=class extends wm{constructor(e=null,n,r){super(zS(n),qS(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),vm(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=sG(e)?e.value:e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){iG(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){iG(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){sG(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};let lG=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=Q({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})(),hG=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=sn({type:t}),t.\u0275inj=zt({}),t})();const JS=new L("NgModelWithFormControlWarning"),Ype={provide:gn,useExisting:Se(()=>bm)};let bm=(()=>{class t extends gn{constructor(n,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Qe,this._setValidators(n),this._setAsyncValidators(r)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Cm(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){const r=this.form.get(n.path);return Od(r,n,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),r}getControl(n){return this.form.get(n.path)}removeControl(n){Em(n.control||null,n,!1),function Bpe(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,r){this.form.get(n.path).setValue(r)}onSubmit(n){return this.submitted=!0,function rG(t,e){t._syncPendingControls(),e.forEach(n=>{const r=n.control;"submit"===r.updateOn&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(n),"dialog"===n?.target?.method}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submitted=!1}_updateDomValue(){this.directives.forEach(n=>{const r=n.control,i=this.form.get(n.path);r!==i&&(Em(r||null,n),(t=>t instanceof Ld)(i)&&(Od(i,n,this.callSetDisabledState),n.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){const r=this.form.get(n.path);(function nG(t,e){WS(t,e)})(r,n),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){const r=this.form.get(n.path);r&&function Lpe(t,e){return Cm(t,e)}(r,n)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){WS(this.form,this),this._oldForm&&Cm(this._oldForm,this)}_checkFormPresent(){}}return t.\u0275fac=function(n){return new(n||t)(T(rn,10),T(As,10),T(Uo,8))},t.\u0275dir=Q({type:t,selectors:[["","formGroup",""]],hostBindings:function(n,r){1&n&&jn("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Le([Ype]),Ie,Yn]}),t})();const Zpe={provide:Ms,useExisting:Se(()=>tA)};let tA=(()=>{class t extends Ms{set isDisabled(n){}constructor(n,r,i,s,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.name=null,this.update=new Qe,this._ngModelWarningSent=!1,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function YS(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===pm?n=s:function Upe(t){return Object.getPrototypeOf(t.constructor)===Vo}(s)?r=s:i=s}),i||r||n||null}(0,s)}ngOnChanges(n){this._added||this._setUpControl(),function QS(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return function Im(t,e){return[...e.path,t]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return t._ngModelWarningSentOnce=!1,t.\u0275fac=function(n){return new(n||t)(T(gn,13),T(rn,10),T(As,10),T(ti,10),T(JS,8))},t.\u0275dir=Q({type:t,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[Le([Zpe]),Ie,Yn]}),t})(),AG=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=sn({type:t}),t.\u0275inj=zt({imports:[hG]}),t})();class MG extends wm{constructor(e,n,r){super(zS(n),qS(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,r={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,n={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),n&&(this.controls.splice(i,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){ZH(this,0,e),e.forEach((r,i)=>{JH(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((n,r)=>!!r._syncPendingControls()||n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,r)=>{e(n,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function xG(t){return!!t&&(void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn)}let pge=(()=>{class t{constructor(){this.useNonNullable=!1}get nonNullable(){const n=new t;return n.useNonNullable=!0,n}group(n,r=null){const i=this._reduceControls(n);let s={};return xG(r)?s=r:null!==r&&(s.validators=r.validator,s.asyncValidators=r.asyncValidator),new kd(i,s)}record(n,r=null){const i=this._reduceControls(n);return new eG(i,r)}control(n,r,i){let s={};return this.useNonNullable?(xG(r)?s=r:(s.validators=r,s.asyncValidators=i),new Ld(n,{...s,nonNullable:!0})):new Ld(n,r,i)}array(n,r,i){const s=n.map(o=>this._createControl(o));return new MG(s,r,i)}_reduceControls(n){const r={};return Object.keys(n).forEach(i=>{r[i]=this._createControl(n[i])}),r}_createControl(n){return n instanceof Ld||n instanceof wm?n:Array.isArray(n)?this.control(n[0],n.length>1?n[1]:null,n.length>2?n[2]:null):this.control(n)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),gge=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:Uo,useValue:n.callSetDisabledState??Pd}]}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=sn({type:t}),t.\u0275inj=zt({imports:[AG]}),t})(),mge=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:JS,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:Uo,useValue:n.callSetDisabledState??Pd}]}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=sn({type:t}),t.\u0275inj=zt({imports:[AG]}),t})();function yge(t,e){1&t&&(Zn(0,"div",13),Gs(1," Ingrese correo "),$n())}function _ge(t,e){1&t&&(Zn(0,"div",13),Gs(1," Ingrese la clave "),$n())}let vge=(()=>{class t{constructor(n,r){this.firestore=n,this.fb=r,this.formIngreso=this.crearFormulario();const i=EH(this.firestore,"todos-los-grupos");this.item$=IH(i)}ngOnInit(){this.item$.subscribe({next:n=>{console.log(n)}})}crearFormulario(){return this.fb.group({email:["",[TH.required]],password:["",[TH.required]]})}enviar(){}}return t.\u0275fac=function(n){return new(n||t)(T(xd),T(pge))},t.\u0275cmp=Gu({type:t,selectors:[["app-home"]],decls:23,vars:3,consts:[[1,"bg-dark"],[1,"row"],[1,"col-md-4"],[1,"espaciado"],[1,"card","p-5","bg-dark","shadow"],[3,"formGroup","submit"],[1,"form-group"],["for","exampleInputEmail1",1,"text-light"],["type","email","id","exampleInputEmail1","aria-describedby","emailHelp","formControlName","email",1,"form-control"],["class","alert alert-danger","role","alert",4,"ngIf"],["for","exampleInputPassword1",1,"text-light"],["type","password","id","exampleInputPassword1","formControlName","password",1,"form-control"],["type","submit",1,"btn","btn-primary"],["role","alert",1,"alert","alert-danger"]],template:function(n,r){if(1&n&&(Zn(0,"div",0)(1,"div",1),Or(2,"div",2),Zn(3,"div",2),Or(4,"div",3),Zn(5,"div",4)(6,"form",5),jn("submit",function(){return r.enviar()}),Zn(7,"div",6)(8,"label",7),Gs(9,"Email"),$n(),Or(10,"input",8),x_(11,yge,2,0,"div",9),$n(),Zn(12,"div",6)(13,"label",10),Gs(14,"Password"),$n(),Or(15,"input",11),x_(16,_ge,2,0,"div",9),$n(),Zn(17,"button",12),Gs(18,"Ingresar"),$n()()(),Or(19,"div",3)(20,"div",3)(21,"div",3),$n(),Or(22,"div",2),$n()()),2&n){let i,s;Hh(6),Dc("formGroup",r.formIngreso),Hh(5),Dc("ngIf",!(null!=(i=r.formIngreso.get("email"))&&i.valid)),Hh(5),Dc("ngIf",!(null!=(s=r.formIngreso.get("password"))&&s.valid))}},dependencies:[DP,lG,pm,QH,YH,bm,tA]}),t})(),wge=(()=>{class t{constructor(n){this.firestore=n}getData(n){var r=this;return g(function*(){try{const i=EH(r.firestore,n);return IH(i).subscribe({next:s=>{console.log(s,"RESPUESTA")}})}catch(i){return console.error(i),null}})()}}return t.\u0275fac=function(n){return new(n||t)($(xd))},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Ige=[{path:"",pathMatch:"full",redirectTo:"home"},{path:"home",component:vge},{path:"astrosol",component:(()=>{class t{constructor(n){this.estadisticaService=n}}return t.\u0275fac=function(n){return new(n||t)(T(wge))},t.\u0275cmp=Gu({type:t,selectors:[["app-astro-sol"]],decls:2,vars:0,template:function(n,r){1&n&&(Zn(0,"p"),Gs(1,"astro-sol works!"),$n())}}),t})()}],Ege_firebase={projectId:"estadistica-e5eeb",appId:"1:64729521444:web:14775deeb53cf35772e7b1",databaseURL:"https://estadistica-e5eeb.firebaseio.com",storageBucket:"estadistica-e5eeb.appspot.com",locationId:"southamerica-east1",apiKey:"AIzaSyCSZ_jjFVuKWQV-MN1y11Jns6LKLX6vtA4",authDomain:"estadistica-e5eeb.firebaseapp.com",messagingSenderId:"64729521444"};let Dge=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=sn({type:t,bootstrap:[uZ]}),t.\u0275inj=zt({imports:[DY,Aw.forRoot(Ige),aZ,nie(()=>rie(Ege_firebase)),vpe(()=>wpe()),Lae(()=>Vae()),gce(()=>mce()),gge,mge]}),t})();IY().bootstrapModule(Dge).catch(t=>console.error(t))}},Te=>{Te(Te.s=802)}]);